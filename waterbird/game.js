/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/examples/classic-rpg-interface/Launcher.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/Launcher.ts":
/*!*************************!*\
  !*** ./src/Launcher.ts ***!
  \*************************/
/*! exports provided: Launcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Launcher", function() { return Launcher; });
/* harmony import */ var engine_Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/Game */ "./src/engine/Game.ts");
/* harmony import */ var engine_gameobject_context2d_Root__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/Root */ "./src/engine/gameobject/context2d/Root.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var engine_io_IO__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/io/IO */ "./src/engine/io/IO.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_io_Keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/io/Keyboard */ "./src/engine/io/Keyboard.ts");
/* harmony import */ var engine_io_Mouse__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/io/Mouse */ "./src/engine/io/Mouse.ts");
/* harmony import */ var engine_io_Timing__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/io/Timing */ "./src/engine/io/Timing.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_io_Loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/io/Loader */ "./src/engine/io/Loader.ts");











class Launcher {
    get rootGameObject() { return this._rootGameObject; }
    get canvas() { return this._canvas; }
    get container() { return this._container; }
    get canvasName() { return this._canvasName; }
    get created() { return this._created; }
    constructor(container, canvasName) {
        this._container = container;
        this._canvasName = canvasName || "gameCanvas";
    }
    create() {
        if (this._created)
            throw new Error("Cannot create Game: already created");
        this._rootGameObject = this._createRootGameObject(this._rootGameObjectType, this._container);
        this._canvas = this._rootGameObject.canvas;
        this._game = this._createGame(this.canvas, this._rootGameObject);
        this._container.appendChild(this.canvas);
        this._resizeFunction = (() => this._rootGameObject.resizeToOnUpdate(new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](this._container.offsetWidth, this._container.offsetHeight))).bind(this);
        this._created = true;
    }
    start() {
        addResizeListener(this._container, this._resizeFunction);
        this._game.start();
    }
    stop() {
        this._game.stop();
        removeResizeListener(this._container, this._resizeFunction);
    }
    _createGame(canvas, rootGameObject) {
        let game = new engine_Game__WEBPACK_IMPORTED_MODULE_0__["default"](rootGameObject, this._createInterfaces(canvas), MainLoop);
        game.create();
        return game;
    }
    _createInterfaces(canvas) {
        let io = new engine_io_IO__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this._addTiming(io);
        this._addLoader(io);
        return io;
    }
    _createRootGameObject(rootType, container) {
        let rootGameObject = new engine_gameobject_context2d_Root__WEBPACK_IMPORTED_MODULE_1__["default"](rootType, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](container.offsetWidth, container.offsetHeight)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__["FrameController"]());
        rootGameObject.createCanvas(this._canvasName);
        rootGameObject.transform.bounds.dimensions[0] = new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](container.offsetWidth, container.offsetHeight);
        rootGameObject.resizeCanvas(rootGameObject.transform.getDimension(), window.devicePixelRatio);
        rootGameObject.transform.recalculate();
        return rootGameObject;
    }
    _addKeyboard(io) {
        let keyboard = new engine_io_Keyboard__WEBPACK_IMPORTED_MODULE_6__["KeyboardListener"]();
        keyboard.create();
        io.addInterface(keyboard, "keyboard");
        return io;
    }
    _addMouse(io, canvas) {
        let mouse = new engine_io_Mouse__WEBPACK_IMPORTED_MODULE_7__["MouseListener"]();
        mouse.addTo(document, canvas);
        io.addInterface(mouse, "mouse");
        return io;
    }
    _addTiming(io) {
        io.addInterface(new engine_io_Timing__WEBPACK_IMPORTED_MODULE_8__["TimingListener"](), "timing");
        return io;
    }
    _addLoader(io) {
        io.addInterface(new engine_io_Loader__WEBPACK_IMPORTED_MODULE_10__["default"](), "loader");
        return io;
    }
}


/***/ }),

/***/ "./src/assets/rpg/levels/large-house.json":
/*!************************************************!*\
  !*** ./src/assets/rpg/levels/large-house.json ***!
  \************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, default */
/***/ (function(module) {

module.exports = [0,0,0,0,0,0,1,0,0,1,2,4,1,0,0,0,2,4,1,1,0,0,2,4,0,0,0,0,0,0,1,0,0,1,2,4,1,1,0,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,0,0,1,0,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,1,1,1,2,4,0,0,0,0,0,0,0,0,0,1,2,4,1,0,1,0,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,2,4,1,0,0,0,2,4,0,1,1,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,1,1,0,0,2,4,0,0,0,0,0,0,0,0,1,1,2,4,0,1,1,0,2,4,0,0,0,0,0,0,1,0,1,1,2,0,0,0,1,0,2,4,0,1,1,0,2,4,1,0,0,1,3,0,1,0,0,0,3,0,1,1,0,0,3,0,1,0,0,1,3,4,1,0,1,0,3,4,1,0,0,0,3,4,1,1,0,0,3,4,0,0,0,1,3,0,0,0,0,0,3,0,0,1,0,0,3,0,0,1,0,1,3,4,1,1,0,1,3,0,0,0,1,1,3,4,0,1,1,0,3,4,0,0,1,1,3,0,0,0,1,0,3,0,0,1,5,0,3,0,0,5,1,1,3,4,0,1,0,1,3,4,1,0,0,5,3,4,1,1,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,3,4,1,0,0,0,3,4,0,1,1,0,3,4,0,0,1,1,3,4,0,1,1,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4,1,3,4,1,1,1,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,4,1,0,0,0,0,4,1,0,0,0,0,4,1,5,0,0,3,4,1,5,0,5,3,4,1,0,0,5,3,4,1,1,0,0,3,4,0,0,0,1,0,4,0,0,0,0,0,4,0,0,0,0,0,4,0,1,0,0,3,4,0,1,1,1,0,4,0,0,0,1,3,4,0,1,0,0,3,4,0,0,1,1,0,4,0,0,1,0,0,4,0,0,1,0,0,4,0,0,0,0,3,4,1,0,1,0,3,4,0,0,1,0,3,4,0,1,1,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

/***/ }),

/***/ "./src/assets/rpg/levels/open-country.json":
/*!*************************************************!*\
  !*** ./src/assets/rpg/levels/open-country.json ***!
  \*************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 701, 702, 703, 704, 705, 706, 707, 708, 709, 710, 711, 712, 713, 714, 715, 716, 717, 718, 719, 720, 721, 722, 723, 724, 725, 726, 727, 728, 729, 730, 731, 732, 733, 734, 735, 736, 737, 738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 753, 754, 755, 756, 757, 758, 759, 760, 761, 762, 763, 764, 765, 766, 767, 768, 769, 770, 771, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 783, 784, 785, 786, 787, 788, 789, 790, 791, 792, 793, 794, 795, 796, 797, 798, 799, 800, 801, 802, 803, 804, 805, 806, 807, 808, 809, 810, 811, 812, 813, 814, 815, 816, 817, 818, 819, 820, 821, 822, 823, 824, 825, 826, 827, 828, 829, 830, 831, 832, 833, 834, 835, 836, 837, 838, 839, 840, 841, 842, 843, 844, 845, 846, 847, 848, 849, 850, 851, 852, 853, 854, 855, 856, 857, 858, 859, 860, 861, 862, 863, 864, 865, 866, 867, 868, 869, 870, 871, 872, 873, 874, 875, 876, 877, 878, 879, 880, 881, 882, 883, 884, 885, 886, 887, 888, 889, 890, 891, 892, 893, 894, 895, 896, 897, 898, 899, 900, 901, 902, 903, 904, 905, 906, 907, 908, 909, 910, 911, 912, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 930, 931, 932, 933, 934, 935, 936, 937, 938, 939, 940, 941, 942, 943, 944, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, default */
/***/ (function(module) {

module.exports = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,0,28,20,0,33,28,0,0,20,0,0,0,0,0,0,0,32,0,0,28,3,0,28,28,0,0,3,0,0,0,0,0,0,0,33,33,0,28,20,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,3,0,0,0,0,0,3,0,28,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,28,0,0,0,3,0,0,33,0,0,20,0,28,0,0,33,20,0,27,0,0,0,20,0,28,0,0,0,20,0,0,0,0,0,20,0,0,0,0,0,20,0,0,0,28,0,20,0,0,0,28,0,20,0,0,0,0,0,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,28,33,20,0,0,0,28,0,20,0,0,0,0,0,20,0,0,0,0,0,20,0,0,28,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,20,0,0,28,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,20,0,0,0,0,0,20,0,28,0,0,0,20,0,27,0,0,0,3,0,0,0,0,0,3,0,0,0,28,0,3,0,0,33,28,0,20,0,0,0,0,0,0,0,28,0,0,32,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,32,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,28,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,28,33,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,30,0,0,0,1,0,29,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

/***/ }),

/***/ "./src/assets/rpg/npcs/buer-test.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/npcs/buer-test.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "ac332024055102f7ea5d875065c412bc.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/fancy-dress-12.png":
/*!************************************************!*\
  !*** ./src/assets/rpg/npcs/fancy-dress-12.png ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "441dadab6498ef2d8fa4093e2856f540.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/skull-crossbones.png":
/*!**************************************************!*\
  !*** ./src/assets/rpg/npcs/skull-crossbones.png ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7c3d0f8d55679f27d8192f0685159fe5.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/ukobach-test.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/npcs/ukobach-test.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0f5a11e7c4d68d88f5958783b92ff18a.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/10p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/10p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "9a6522e44233039fef540a0b000010ea.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/11p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/11p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "ad257d7e43ce8eb9f39e38ab95725eee.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/12p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/12p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "b9b811634ed46c6f866f036210c173f8.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/13p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/13p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "b376ca5219c8c181bf1ec42aa86a82ec.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/14p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/14p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "79f5d19fe84087be033a8f3b4d599cf6.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/5p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/5p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "bd2c8735115c4e6077be29bd38b96b48.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/6p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/6p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2f131d4e479b2c18ce748dea2a4ab29f.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/7p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/7p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "888853009d4646a9a011ea96340e5294.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/8p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/8p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "015ad6ebef242ba8e3b2197d0a6760ff.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/9p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/9p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "4c98dbaad178a6329456504ccb630b93.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/FlareFemaleHero2-resize.png":
/*!*************************************************************!*\
  !*** ./src/assets/rpg/portrait/FlareFemaleHero2-resize.png ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "97ec4d321189579ba387aa41a7a64883.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/FlareFemaleHero3-resize.png":
/*!*************************************************************!*\
  !*** ./src/assets/rpg/portrait/FlareFemaleHero3-resize.png ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1cc9cfd94031f5c7afd60a7a2e9f6074.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/FlareMaleHero2-resize.png":
/*!***********************************************************!*\
  !*** ./src/assets/rpg/portrait/FlareMaleHero2-resize.png ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7d8af904f6a065c19c92784b8bded5a1.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/FlareMaleHero3-resize.png":
/*!***********************************************************!*\
  !*** ./src/assets/rpg/portrait/FlareMaleHero3-resize.png ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "ac43508e39ddb8da8d05eff847ca8b6b.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_down.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_down.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "623bace6875ddccec828ff2e6445b0d6.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_east.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_east.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c9603333f1bb20e82bc682ebf93b2c3b.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_north.png":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_north.png ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e3db27219b340e074890ad40b1edf7b5.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_south.png":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_south.png ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2ce4eea6288cbe1a001cdb18d98fb36e.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_up.png":
/*!******************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_up.png ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c0ffd8b850f63fa250a8bd90672f1e76.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_west.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_west.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "19a3166ce9f608e48c90c1776ab76b73.png";

/***/ }),

/***/ "./src/assets/rpg/spells/beautiful-bird.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/spells/beautiful-bird.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d1c0024e7e070f7156beca090fba1cc8.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/4-arch.png":
/*!********************************************!*\
  !*** ./src/assets/rpg/textures/4-arch.png ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "470536b00b3c1e967085f98888f78a92.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Antediluvian Door-alphamap.png":
/*!****************************************************************!*\
  !*** ./src/assets/rpg/textures/Antediluvian Door-alphamap.png ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "3a21bbb1e1a195700f494fae9b2e5120.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Antediluvian Door.png":
/*!*******************************************************!*\
  !*** ./src/assets/rpg/textures/Antediluvian Door.png ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0fbeaba70c8edf5bbd146be3de477355.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Asylum Cell Orange.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Asylum Cell Orange.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1f806ae06e8cc1aeb0fa06a8b4f78554.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Battered Red Clover.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Battered Red Clover.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "62f1bd3109277b693923c1ef2f0b7f30.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Brown Qussair Granite.jpg":
/*!***********************************************************!*\
  !*** ./src/assets/rpg/textures/Brown Qussair Granite.jpg ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "79a66bff42b37ac4a3ac1fdb26d8562e.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Carved Sandstone.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Carved Sandstone.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f89cb2ae34e05bdaece6280602914d47.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg":
/*!*************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "713d69f2fa0041ab7cbdbfc62addc690.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg":
/*!***************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "24f1b75791fab8bd4606fd2d3467f793.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg":
/*!*************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f161941f5c7ee456332724262f0ac588.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg":
/*!**************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "76b32f5c8a1188f493af04bc7de79601.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg":
/*!****************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1afb086031f8ef08eaa7b5c71cf34286.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg":
/*!******************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "8a83fc23c7a534cbb7fccf62b35e054c.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Council Chamber.jpg":
/*!*****************************************************!*\
  !*** ./src/assets/rpg/textures/Council Chamber.jpg ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a12e0c4e4e8f7e720cdacb9b4e32e070.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Dark Gray Marble.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Dark Gray Marble.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "eee894e799663072a648d522d8232b03.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Dead Caves.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Dead Caves.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "57c266c4b294f9350853ae1a67b0a983.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Fen Stone.jpg":
/*!***********************************************!*\
  !*** ./src/assets/rpg/textures/Fen Stone.jpg ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d98469dce78bfc68f773766099bb0687.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Forest Floor.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Forest Floor.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5e53793d5f73e1bd32c11b8ffab2975e.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Glassy Pink Marble.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Glassy Pink Marble.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5d24a8c1cf8ca4c6e6fb42ec5d0f1e86.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Granite Wall.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Granite Wall.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "77fa3a90c873583bf97fd03142a4f877.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Midnight Stone.jpg":
/*!****************************************************!*\
  !*** ./src/assets/rpg/textures/Midnight Stone.jpg ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "00dd4231dbca035c699c74d0a529fe54.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Moss Cushions.jpg":
/*!***************************************************!*\
  !*** ./src/assets/rpg/textures/Moss Cushions.jpg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7ae35a5dbe2c9e49415b84cf2d074ac0.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Mossy Rock.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Mossy Rock.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "359214cc6cf396160983f7251eecada5.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Palace Floor.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Palace Floor.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "53d683ea078a6c9d6ec87d2e24ceaadd.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Rough Orthoclase.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Rough Orthoclase.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d7657ae51e0b0d39e4b6768a9d931821.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Samaris Metal.jpg":
/*!***************************************************!*\
  !*** ./src/assets/rpg/textures/Samaris Metal.jpg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1bbed623433604571aef7e604eaae358.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Samaris.jpg":
/*!*********************************************!*\
  !*** ./src/assets/rpg/textures/Samaris.jpg ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f5d3c39b37e16e83793fb12c4925bb34.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Sandy Lichen Brick.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Sandy Lichen Brick.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "eab8ebd8b355d14427c49cebd3ee4b15.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Segmented Stone Wall.jpg":
/*!**********************************************************!*\
  !*** ./src/assets/rpg/textures/Segmented Stone Wall.jpg ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "8c7b0da7bfee04c0bad57f791b727686.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Slime Wall.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Slime Wall.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "af58f2beaea8ca45e43afce89100c6c8.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Smashed Gray Marble.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Smashed Gray Marble.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "9b5a15221bfac7a151dacb7bd225974d.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Smudged Dirt.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Smudged Dirt.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e60fd3e2f9f4215b77eb94787f11b8fb.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Straw Roof Interior.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Straw Roof Interior.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5483c730df3d9fb5674a1c693474d610.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Straw Roof.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Straw Roof.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "fa4679f6f6f847730b8a50b44a66b5ce.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Weeds and Gravel.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Weeds and Gravel.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "822e09cc0e54dd025833a77c4239547c.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Weedy Lawn.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Weedy Lawn.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "85665f5fcf032ceaa756cfbea5382027.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/empty.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/textures/empty.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "034bda097802307b7ae58c275b7a8453.png";

/***/ }),

/***/ "./src/assets/rpg/ui/air-spell-tab.png":
/*!*********************************************!*\
  !*** ./src/assets/rpg/ui/air-spell-tab.png ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e72ab308f9cd5cd12c53cf5ce05b8aa9.png";

/***/ }),

/***/ "./src/assets/rpg/ui/charsheet-icon.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/charsheet-icon.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0f2ccdc84820b1258a34bd04dd987be5.png";

/***/ }),

/***/ "./src/assets/rpg/ui/earth-spell-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/earth-spell-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "48987dea849abd6a45cda40f6e50fe20.png";

/***/ }),

/***/ "./src/assets/rpg/ui/fire-spell-tab.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/fire-spell-tab.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f7ba28c81d772698cda8d401d91dc354.png";

/***/ }),

/***/ "./src/assets/rpg/ui/hourglass.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/ui/hourglass.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "27968389b7cf258770705c17b20b812e.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-green.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-green.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "cdff23d03e4986334a7c349a82f488e9.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-red.png":
/*!********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-red.png ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a371f9c7077060a5a428c6e5592cecb1.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-yellow.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-yellow.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1fb9ee8226936506466c8fa0c758d7c4.png";

/***/ }),

/***/ "./src/assets/rpg/ui/quick-items-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/quick-items-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c1053227e3c3c31220caaca5240a19d7.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-dead.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/ui/status-dead.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a0b165da8d4c00d15d660462d3b57eb8.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-slow.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/ui/status-slow.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2a76f3cf16e95e4e9d985242beabfafb.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-torch-light.png":
/*!**************************************************!*\
  !*** ./src/assets/rpg/ui/status-torch-light.png ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "83b2cf802066aeb9d97e58d023172f2a.png";

/***/ }),

/***/ "./src/assets/rpg/ui/water-spell-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/water-spell-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5c5e7b2ff2d830f907c7ac718ec77bb1.png";

/***/ }),

/***/ "./src/engine/Asset.ts":
/*!*****************************!*\
  !*** ./src/engine/Asset.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Asset; });
class Asset {
    constructor(filename, asset, loaded) {
        this._filename = filename;
        this._asset = asset;
        this._loaded = loaded;
    }
    get filename() { return this._filename; }
    get asset() { return this._asset; }
    get loaded() { return this._loaded; }
    set loaded(val) { this._loaded = val; }
    set(asset) { this._asset = asset; }
}


/***/ }),

/***/ "./src/engine/Game.ts":
/*!****************************!*\
  !*** ./src/engine/Game.ts ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Game; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/Event */ "./src/engine/util/Event.ts");

class Game {
    constructor(rootGameObject, io, mainLoop) {
        this._rootGameObject = rootGameObject;
        this._io = io;
        this._mainLoop = mainLoop;
    }
    create() {
        if (this._created)
            throw new Error("Cannot create Game: already created");
        this._io.create();
        this._rootGameObject.doCreate(this._io.interfaces);
        this._mainLoop.setBegin(this._begin.bind(this))
            .setUpdate(this._update.bind(this))
            .setDraw(this._draw.bind(this))
            .setEnd(this._end.bind(this));
        this._created = true;
    }
    start() {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onStart);
        this._mainLoop.start();
    }
    stop() {
        this._mainLoop.stop();
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onStop);
    }
    _begin(timestamp, delta) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onBeginStart, timestamp, delta);
        this._rootGameObject.doBegin(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onBeginEnd);
    }
    _update(delta) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onUpdateStart, delta);
        this._rootGameObject.doUpdate(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onUpdateEnd);
    }
    _draw(interpolationPercentage) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onDrawStart);
        this._rootGameObject.doDraw(null, this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onDrawEnd);
    }
    _end(fps, panic) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onEndStart, fps);
        this._rootGameObject.doEnd(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onEndEnd);
    }
}


/***/ }),

/***/ "./src/engine/GameObject.ts":
/*!**********************************!*\
  !*** ./src/engine/GameObject.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameObject; });
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _Transform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Transform */ "./src/engine/Transform.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/Event */ "./src/engine/util/Event.ts");



class GameObject {
    constructor(position, bounds) {
        this._children = [];
        this._assets = [];
        this._parent = null;
        this._created = false;
        this._runLoad = false;
        this._active = true;
        this._interactable = true;
        this._ranBegin = false;
        this._name = null;
        this._visible = true;
        this._opacity = 1;
        this._ignoreDrawCull = false;
        this._precreate = false;
        this._onDestroy = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
        if (position instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"])
            this._transform = new _Transform__WEBPACK_IMPORTED_MODULE_1__["default"](position, bounds);
        else
            this._transform = position;
        if (this._transform)
            this._transform.setGameObject(this);
    }
    get parent() { return this._parent; }
    set parent(val) { this._parent = val; }
    get transform() { return this._transform; }
    get name() { return this._name; }
    set name(val) { this._name = val; }
    get loaded() {
        return (this.runLoad && this.assets.every(x => x.loaded === true));
    }
    get subtreeLoaded() {
        return (this.loaded && (this._children.every(x => x.subtreeLoaded)));
    }
    get runLoad() { return this._runLoad; }
    get created() { return this._created; }
    get assets() { return this._assets; }
    get children() { return this._children; }
    set active(val) { this._active = val; }
    get active() { return this._active; }
    set interactable(val) { this._interactable = val; }
    get interactable() {
        if (!this._interactable)
            return false;
        else if (this.parent)
            return this.parent.interactable;
        return true;
    }
    set visible(val) {
        if (this._visible !== val) {
            if (!val)
                this.requestDraw();
            this._visible = val;
            if (val)
                this.requestDraw();
        }
    }
    get visible() { return this._visible; }
    get opacity() { return this._opacity; }
    set opacity(val) { this._opacity = val; }
    get onDestroy() { return this._onDestroy; }
    get precreate() { return this._precreate; }
    set precreate(val) { this._precreate = val; }
    addChild(child) {
        child.parent = this;
        this._children.push(child);
        return child;
    }
    getAsset(filename) {
        let assetsWithFilename = this.assets.filter(x => x.filename === filename);
        if (assetsWithFilename.length > 0)
            return assetsWithFilename[0].asset;
        throw new Error("No asset found with that name on gameobject");
    }
    doLoad(interfaces) {
        if (!(this._runLoad))
            this._runLoad = this.load(interfaces);
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doLoad(interfaces);
    }
    load(interfaces) { return true; }
    addAsset(asset) {
        if (asset === null)
            return null;
        if (this.assets.filter(x => x.filename === asset.filename).length === 0)
            this.assets.push(asset);
        return asset;
    }
    interfaces(interfaces) { return interfaces; }
    doCreate(interfaces) {
        if (!this._runLoad)
            this.doLoad(interfaces);
        if (this.loaded) {
            let createdThisRun = false;
            if (!this.created) {
                createdThisRun = true;
                this.create(interfaces);
            }
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doCreate(this.interfaces(interfaces));
            this._created = true;
            if (createdThisRun)
                this.afterCreate();
            this.requestDraw();
        }
    }
    create(interfaces) { }
    afterCreate() { }
    doBegin(interfaces) {
        if (this._active) {
            if (this._created)
                this._runBegin(interfaces);
            else {
                this.doCreate(interfaces);
                if (this._created)
                    this._runBegin(interfaces);
            }
        }
        else if (this._precreate) {
            this.doCreate(interfaces);
        }
    }
    _runBegin(interfaces) {
        this.begin(interfaces);
        this._ranBegin = true;
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doBegin(this.interfaces(interfaces));
    }
    begin(interfaces) { }
    doUpdate(interfaces) {
        if (this._transform)
            this._transform.update();
        if (this._ranBegin) {
            for (let i = this._children.length - 1; i >= 0; i--)
                if (this._children[i])
                    this._children[i].doUpdate(this.interfaces(interfaces));
            this.update(interfaces);
        }
    }
    update(interfaces) { }
    doDraw(context2D, interfaces, webGL) {
        if ((this._created) && (this._visible) && (this._transform) && (this._opacity > 0) && (this._transform.hasPosition())) {
            let rotated = false;
            if (this._transform.rotation % 2 * Math.PI !== 0) {
                rotated = true;
                let pos = this._transform.getDrawPosition(0.5, 0.5);
                context2D.save();
                context2D.translate(pos.x, pos.y);
                context2D.rotate(this._transform.rotation);
                context2D.translate(-pos.x, -pos.y);
            }
            let startingOpacity = 0;
            if (context2D)
                startingOpacity = this._setDrawingOpacity(context2D);
            this.draw(context2D, interfaces, webGL);
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doDraw(context2D, interfaces, webGL);
            if (context2D)
                if (startingOpacity !== undefined)
                    context2D.globalAlpha = startingOpacity;
            if (rotated)
                context2D.restore();
        }
    }
    _setDrawingOpacity(context2D) {
        if (this._opacity !== 1) {
            let original = context2D.globalAlpha;
            context2D.globalAlpha = context2D.globalAlpha * this._opacity;
            return original;
        }
        return undefined;
    }
    draw(context2D, interfaces, webGL) { }
    doEnd(interfaces) {
        if (this._ranBegin) {
            this.end(interfaces);
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doEnd(this.interfaces(interfaces));
            this._ranBegin = false;
        }
    }
    end(interfaces) { }
    requestDraw() {
        if (this._visible)
            if (this._parent)
                if (!(this.drawCulled))
                    this._parent.requestDraw();
    }
    get drawCulled() {
        if (this.ignoreDrawCull)
            return false;
        if ((this._transform) && (this._parent) && (this._parent.created) && (this._parent.transform))
            return !(_Transform__WEBPACK_IMPORTED_MODULE_1__["default"].overlaps(this._transform, this._parent.transform));
        return false;
    }
    get ignoreDrawCull() { return this._ignoreDrawCull; }
    set ignoreDrawCull(val) { this._ignoreDrawCull = val; }
    requestRemoval() { this._parent.removeChild(this); }
    removeChild(child) {
        let index = this._children.indexOf(child);
        if (index !== -1)
            this._children.splice(index, 1);
        child.doDestroy();
    }
    doDestroy() {
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doDestroy();
        if (this._transform)
            this._transform.destroy();
        this.destroy();
        this._onDestroy.call();
    }
    destroy() { }
}


/***/ }),

/***/ "./src/engine/Transform.ts":
/*!*********************************!*\
  !*** ./src/engine/Transform.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Transform; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _util_PolyShape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/PolyShape */ "./src/engine/util/PolyShape.ts");


class Transform {
    constructor(position, bounds) {
        this._fixed = true;
        this._rotation = 0;
        this._position = position;
        this._bounds = bounds;
        if (this.position)
            this._position.transform = this;
        if (this.bounds)
            this._bounds.transform = this;
        if ((!this.bounds) && (this.position))
            throw new Error("A game object with a non-null Position must have a non-null Bounds");
    }
    get gameObject() { return this._gameObject; }
    set gameObject(val) { this._gameObject = val; }
    get position() { return this._position; }
    get bounds() { return this._bounds; }
    get fixed() { return this._fixed; }
    set fixed(val) { this._fixed = val; }
    get positioningDirty() { return this._positioningDirty; }
    positioningIsDirty() { this._positioningDirty = true; }
    get parent() {
        if (this.gameObject)
            if (this.gameObject.parent)
                return this.gameObject.parent.transform;
        return null;
    }
    get rotation() { return this._rotation; }
    set rotation(val) { this._rotation = val; }
    getCanonicalPosition(point, y) {
        if (this.position) {
            if (!point)
                return this.position.absolutePositionTopLeft();
            else {
                let tl = this.position.absolutePositionTopLeft();
                let dim = this.bounds.dimension;
                if (point instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point.x, tl.y + dim.height * point.y);
                else
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point, tl.y + dim.height * y);
            }
        }
        return null;
    }
    getDrawPosition(point, y) {
        if (this.position) {
            if (!point)
                return this.position.drawPositionTopLeft();
            else {
                let tl = this.position.drawPositionTopLeft();
                let dim = this.bounds.dimension;
                if (point instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point.x, tl.y + dim.height * point.y);
                else
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point, tl.y + dim.height * y);
            }
        }
        return null;
    }
    getDimension() { return this.bounds.dimension; }
    setGameObject(val) { this.gameObject = val; }
    hasPosition() { return this.position !== null; }
    update() {
        if ((this.positioningDirty) || (!(this.fixed))) {
            if (this.position)
                this.position.checkForUpdatedTranslations();
            if (this.bounds)
                this.bounds.checkForUpdatedDimensions();
            this._positioningDirty = false;
        }
    }
    recalculate(excludeDrawCache) {
        if (this._position) {
            this._position.absoluteCacheDirty = true;
            if (!(excludeDrawCache))
                this._position.drawCacheDirty = true;
        }
        if (this._bounds)
            this._bounds.dirty = true;
        if (this.gameObject.children.length === 0) {
            if (!(excludeDrawCache))
                this.gameObject.requestDraw();
        }
        else
            this.gameObject.children.forEach(child => { if (child.transform)
                child.transform.recalculate(excludeDrawCache); });
    }
    static overlaps(a, b) {
        let aPos;
        let bPos;
        if (a.position)
            aPos = a.getCanonicalPosition();
        else
            aPos = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        if (b.position)
            bPos = b.getCanonicalPosition();
        else
            bPos = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        let aDim = a.getDimension();
        let bDim = b.getDimension();
        let x = false;
        let y = false;
        if ((aPos.x >= bPos.x) && (aPos.x <= bPos.x + bDim.width))
            x = true;
        if ((aPos.x <= bPos.x) && (aPos.x + aDim.width >= bPos.x))
            x = true;
        if ((aPos.y >= bPos.y) && (aPos.y <= bPos.y + bDim.height))
            y = true;
        if ((aPos.y <= bPos.y) && (aPos.y + aDim.height >= bPos.y))
            y = true;
        return x && y;
    }
    static contains(a, b) {
        let aPos = a.getCanonicalPosition();
        let bPos = b.getCanonicalPosition();
        let aDim = a.getDimension();
        let bDim = b.getDimension();
        let x = false;
        let y = false;
        if ((bPos.x >= aPos.x) && (bPos.x + bDim.width <= aPos.x + aDim.width))
            x = true;
        if ((bPos.y >= aPos.y) && (bPos.y + bDim.width <= aPos.y + aDim.height))
            y = true;
        return x && y;
    }
    containsPoint(point) {
        let offset = this.position.absolutePositionTopLeft();
        let dimension = this.bounds.dimension;
        return Transform.inDimension(point, dimension, offset);
    }
    destroy() {
        if (this.bounds)
            this.bounds.destroy();
        if (this.position)
            this.position.destroy();
    }
    static inDimension(point, dimension, offset) {
        if ((point.x >= offset.x) && (point.y >= offset.y))
            if ((point.x <= offset.x + dimension.width) && (point.y <= offset.y + dimension.height))
                return true;
        return false;
    }
    contextualisePolyshape(polyshape) {
        let pos = this.getCanonicalPosition();
        let dim = this.getDimension();
        let points = [];
        let x = true;
        polyshape.points.forEach(p => {
            points.push(new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](p.x * dim.width + pos.x, p.y * dim.height + pos.y));
        });
        let p = polyshape.clone(points);
        return p;
    }
    getCanonicalRect() {
        let pos = this.getCanonicalPosition();
        let dim = this.getDimension();
        return new _util_PolyShape__WEBPACK_IMPORTED_MODULE_1__["PolyRect"]([new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x, pos.y), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x + dim.width, pos.y), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x + dim.width, pos.y + dim.height), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x, pos.y + dim.height)]);
    }
}


/***/ }),

/***/ "./src/engine/TreeUtils.ts":
/*!*********************************!*\
  !*** ./src/engine/TreeUtils.ts ***!
  \*********************************/
/*! exports provided: TreeUtils, SubtreeLoadStats */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeUtils", function() { return TreeUtils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubtreeLoadStats", function() { return SubtreeLoadStats; });
class TreeUtils {
    static findChildrenOfType(parent, type, recursive) {
        recursive = recursive || false;
        let results = [];
        for (let i = 0; i < parent.children.length; i++) {
            if (parent.children[i] instanceof type)
                results.push(parent.children[i]);
            if (recursive) {
                let childResult = TreeUtils.findChildrenOfType(parent.children[i], type, recursive);
                results = results.concat(childResult);
            }
        }
        return results;
    }
    static findChildrenWithName(parent, name, recursive) {
        recursive = recursive || false;
        let results = [];
        for (let i = 0; i < parent.children.length; i++) {
            if ((parent.children[i].name) && (parent.children[i].name === name))
                results.push(parent.children[i]);
            if (recursive) {
                let childResult = TreeUtils.findChildrenWithName(parent.children[i], name, recursive);
                results = results.concat(childResult);
            }
        }
        return results;
    }
    static moveChildToFirst(parent, child) {
        parent.children.splice(parent.children.indexOf(child), 1);
        parent.children.unshift(child);
    }
    static moveChildToLast(parent, child) {
        parent.children.splice(parent.children.indexOf(child), 1);
        parent.children.push(child);
    }
    static subtreeLoadStats(root) {
        let r = TreeUtils._subtreeLoadStatsInner(root);
        return new SubtreeLoadStats(r[0], r[1], r[2], r[3]);
    }
    static _subtreeLoadStatsInner(root) {
        let total = 1;
        let loaded = root.loaded ? 1 : 0;
        let assetsTotal = root.assets.length;
        let assetsLoaded = root.assets.filter(a => a.loaded).length;
        root.children.forEach(c => {
            let r = TreeUtils._subtreeLoadStatsInner(c);
            total += r[0];
            loaded += r[1];
            assetsTotal += r[2];
            assetsLoaded += r[3];
        });
        return [total, loaded, assetsTotal, assetsLoaded];
    }
}
class SubtreeLoadStats {
    constructor(total, loaded, assetsTotal, assetsLoaded) {
        this.total = total;
        this.loaded = loaded;
        this.assetsTotal = assetsTotal;
        this.assetsLoaded = assetsLoaded;
    }
    get proportion() { return this.loaded / this.total; }
    get assetsProportion() { return this.assetsLoaded / this.assetsTotal; }
}


/***/ }),

/***/ "./src/engine/gameobject/Component.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/Component.ts ***!
  \********************************************/
/*! exports provided: Component, ComponentListener, ComponentController, ComponentInterface */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Component", function() { return Component; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentListener", function() { return ComponentListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentController", function() { return ComponentController; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentInterface", function() { return ComponentInterface; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");


class Component extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, listener, controller) {
        super(position, bounds);
        this._listener = listener;
        this._controller = controller;
    }
    get typeName() { return "Component"; }
    afterCreate() { this.link(this.controller); }
    get listener() { return this._listener; }
    get controller() { return this._controller; }
    destroy() {
        super.destroy();
        this.unlink(this.controller);
    }
    onDestroyFromController() {
        this.requestRemoval();
    }
    link(controller) {
        controller.onDestroy.push(this.destroy.bind(this), this);
    }
    unlink(controller) {
        controller.onDestroy.unregister(this);
    }
    static newInterface() { return new ComponentInterface(new ComponentListener(), new ComponentController()); }
}
class ComponentListener {
}
class ComponentController {
    constructor() {
        this._counter = 0;
        this._onDestroy = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onDestroy() { return this._onDestroy; }
    next() {
        return {
            done: false,
            value: this.onDestroy
        };
    }
}
class ComponentInterface {
    constructor(listener, controller) {
        this._listener = listener;
        this._controller = controller;
    }
    get listener() { return this._listener; }
    get controller() { return this._controller; }
}


/***/ }),

/***/ "./src/engine/gameobject/Frame.ts":
/*!****************************************!*\
  !*** ./src/engine/gameobject/Frame.ts ***!
  \****************************************/
/*! exports provided: Frame, FrameListener, FrameController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Frame", function() { return Frame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FrameListener", function() { return FrameListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FrameController", function() { return FrameController; });
/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Component */ "./src/engine/gameobject/Component.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");


class Frame extends _Component__WEBPACK_IMPORTED_MODULE_0__["Component"] {
    constructor(position, bounds, listener, controller) {
        super(position, bounds, listener, controller);
        this._childFrameControllers = [];
        this._isOpen = false;
        this._awaitingOpen = false;
        this.visible = false;
        this.active = false;
    }
    get awaitingOpen() { return this._awaitingOpen; }
    get isOpen() { return this._isOpen; }
    set isOpen(val) { this._isOpen = val; }
    addFrame(frame) {
        this.onAddFrame(frame);
        return frame;
    }
    onAddFrame(frame) {
        this._childFrameControllers.push(frame.controller);
    }
    switchToFrame(frameController) {
        _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(frameController.onOpen);
    }
    afterCreate() {
        super.afterCreate();
        if (this.awaitingOpen) {
            this.open();
            this._awaitingOpen = false;
        }
    }
    onOpen(...args) { }
    open(...args) {
        this.active = true;
        this.visible = true;
        if (this.created) {
            this.onOpen(...args);
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onOpen, ...args);
            this.isOpen = true;
        }
        else
            this._awaitingOpen = true;
    }
    ready(...args) {
        this.active = true;
        this.visible = true;
        if (this.created) {
            this.onReady(...args);
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onReady, ...args);
            this.isOpen = true;
        }
        else
            this._awaitingOpen = true;
    }
    onReady(...args) { }
    onClosing(...args) { this.close(); }
    onClose(...args) { }
    close(...args) {
        if ((this.isOpen) && (this.created)) {
            this.isOpen = false;
            this.onClose(...args);
            this.active = false;
            this.visible = false;
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onClose, ...args);
        }
    }
    link(controller) {
        super.link(controller);
        controller.onOpen.push(this.open.bind(this), this);
        controller.onReady.push(this.onReady.bind(this), this);
        controller.onClosing.push(this.onClosing.bind(this), this);
        controller.onClose.push(this.close.bind(this), this);
        controller.onAddFrame.push(this.onAddFrame.bind(this), this);
    }
    unlink(controller) {
        super.unlink(controller);
        controller.onOpen.unregister(this);
        controller.onReady.unregister(this);
        controller.onClosing.unregister(this);
        controller.onClose.unregister(this);
        controller.onAddFrame.unregister(this);
    }
    get typeName() { return "Frame"; }
    static newInterface() { return new _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentInterface"](new FrameListener(), new FrameController()); }
}
class FrameListener extends _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentListener"] {
    constructor() {
        super(...arguments);
        this._onOpen = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onReady = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClosing = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClose = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onOpen() { return this._onOpen; }
    get onReady() { return this._onReady; }
    get onClosing() { return this._onClosing; }
    get onClose() { return this._onClose; }
}
class FrameController extends _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentController"] {
    constructor() {
        super(...arguments);
        this._onOpen = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onReady = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClosing = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClose = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onAddFrame = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onOpen() { return this._onOpen; }
    get onReady() { return this._onReady; }
    get onClosing() { return this._onClosing; }
    get onClose() { return this._onClose; }
    get onAddFrame() { return this._onAddFrame; }
}


/***/ }),

/***/ "./src/engine/gameobject/PolygonCollision.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/PolygonCollision.ts ***!
  \***************************************************/
/*! exports provided: Intersection, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Intersection", function() { return Intersection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PolygonCollision; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Point */ "./src/engine/util/Point.ts");

class Intersection {
    get depth() { return this._depth; }
    get proportionOfDispacementIntersecting() { return this._proportionOfDisplacementIntersecting; }
    set depth(val) { this._depth = val; }
    set proportionOfDispacementIntersecting(val) { this._proportionOfDisplacementIntersecting = val; }
    constructor(point, edge) {
        this.point = point;
        this.edge = edge;
    }
}
class PolygonCollision {
    constructor(polygon1, polygon2) {
        this._polygon1 = polygon1;
        this._polygon2 = polygon2;
    }
    intersects() {
        return this._polygon1.intersects(this._polygon2);
    }
    getProjection() {
        let axes = new Set();
        this._polygon1.edges.forEach(e => axes.add(e.vector.rotate(Math.PI / 2).normalised));
        this._polygon2.edges.forEach(e => {
            let newAxis = e.vector.rotate(Math.PI / 2).normalised;
            let duplicate = false;
            axes.forEach(a => {
                if (!(_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(a, newAxis)))
                    duplicate = true;
            });
            if (!(duplicate))
                axes.add(newAxis);
        });
        let p1MaxDisplacementPerAxis = [];
        let p1MinDisplacementPerAxis = [];
        let p2MaxDisplacementPerAxis = [];
        let p2MinDisplacementPerAxis = [];
        axes.forEach((a, i) => {
            let p1 = this._polygon1.points.map(x => x.projectionIn(a));
            let p2 = this._polygon2.points.map(x => x.projectionIn(a));
            p1MaxDisplacementPerAxis.push(Math.max(...p1));
            p1MinDisplacementPerAxis.push(Math.min(...p1));
            p2MaxDisplacementPerAxis.push(Math.max(...p2));
            p2MinDisplacementPerAxis.push(Math.min(...p2));
            if (!((p1MaxDisplacementPerAxis[i] > p2MinDisplacementPerAxis[i]) && (p1MinDisplacementPerAxis[i] < p2MaxDisplacementPerAxis[i])))
                return null;
        });
        let axis;
        let value = undefined;
        axes.forEach((ax, i) => {
            let a = p1MaxDisplacementPerAxis[i] - p2MinDisplacementPerAxis[i];
            let b = p2MaxDisplacementPerAxis[i] - p1MinDisplacementPerAxis[i];
            if (Math.abs(a) <= Math.abs(b)) {
                if ((value === undefined) || value > Math.abs(a)) {
                    axis = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(axes[i]);
                    value = Math.abs(a);
                }
            }
            else {
                if ((value === undefined) || value > Math.abs(b)) {
                    axis = axes[i];
                    value = Math.abs(b);
                }
            }
        });
        if (value)
            return _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].multiply(axis, value);
        return null;
    }
    getIntersection(polygon1Displacement) {
        if (polygon1Displacement.isZero)
            return null;
        let leadingPoint = this._polygon1.maximumProjectionOnVector(polygon1Displacement);
        let start = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(leadingPoint, polygon1Displacement);
        let intersections = this._polygon2.intersectionsWithEdge(start, leadingPoint);
        let smallestDistance = undefined;
        let firstIntersection;
        intersections.forEach(i => {
            let d = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(i.point, start).magnitude;
            if ((smallestDistance === undefined) || (d < smallestDistance)) {
                smallestDistance = d;
                firstIntersection = i;
            }
        });
        if (firstIntersection) {
            firstIntersection.depth = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(leadingPoint, firstIntersection.point).magnitude;
            firstIntersection.proportionOfDispacementIntersecting = firstIntersection.depth / polygon1Displacement.magnitude;
            let ev = firstIntersection.edge.vector;
            firstIntersection.angle = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].angleBetween(polygon1Displacement, ev);
            return firstIntersection;
        }
        return null;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeBuffer.ts":
/*!**********************************************!*\
  !*** ./src/engine/gameobject/ThreeBuffer.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeBuffer; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");


class ThreeBuffer extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, renderer) {
        super(position, bounds);
        this._hasAlphaChanel = false;
        this._renderer = renderer;
    }
    get canvas() { return this._canvas; }
    get renderer() { return this._renderer; }
    get cameraUpdateRequired() { return this._cameraUpdateRequired; }
    get hasAlphaChanel() { return this._hasAlphaChanel; }
    set hasAlphaChanel(val) { this._hasAlphaChanel = val; }
    create() {
        this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
        this._canvas = this._renderer.domElement;
        this._cameraUpdateRequired = true;
    }
    begin() {
        if (this._hasResized() || this._hasDevicePixelRatioChanged()) {
            this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
            this._cameraUpdateRequired = true;
        }
        else if (this.debugDisableCache)
            this.requestDraw();
    }
    doDraw(context2D, interfaces, webGL) {
        if ((this.created) && (this.visible) && (this.transform) && (this.opacity > 0) && (this.transform.hasPosition())) {
            let rotated = false;
            if (this.transform.rotation % 2 * Math.PI !== 0) {
                rotated = true;
                let pos = this.transform.getDrawPosition(0.5, 0.5);
                context2D.save();
                context2D.translate(pos.x, pos.y);
                context2D.rotate(this.transform.rotation);
                context2D.translate(-pos.x, -pos.y);
            }
            let startingOpacity = 0;
            if (context2D)
                startingOpacity = this._setDrawingOpacity(context2D);
            this.draw(context2D, interfaces, webGL);
            for (let i = 0, len = this.children.length; i < len; i++)
                this.children[i].doDraw(this.renderer, interfaces);
            if (context2D)
                if (startingOpacity !== undefined)
                    context2D.globalAlpha = startingOpacity;
            if (rotated)
                context2D.restore();
        }
    }
    draw(context2D, interfaces, webGL) {
        if (context2D) {
            let pos = this.transform.position.drawPositionTopLeft();
            let dim = this.transform.bounds.dimension;
            context2D.drawImage(this._canvas, 0, 0, Math.round(dim.width) * this._pixelRatio, Math.round(dim.height) * this._pixelRatio, Math.round(pos.x), Math.round(pos.y), Math.round(dim.width), Math.round(dim.height));
        }
    }
    interfaces(interfaces) {
        interfaces["threeRenderer"] = this._renderer;
        interfaces["cameraUpdateRequired"] = this._cameraUpdateRequired;
        this._cameraUpdateRequired = false;
        return interfaces;
    }
    resizeCanvas(dim, devicePixelRatio) {
        this._pixelRatio = devicePixelRatio;
        this._renderer.setSize(dim.width * this._pixelRatio, dim.height * this._pixelRatio);
        this._oldDimension = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](dim.width, dim.height);
    }
    requestDraw() {
        this._drawRequested = true;
        super.requestDraw();
    }
    destroy() {
        super.destroy();
        this.renderer.dispose();
    }
    _hasResized() {
        let dim = this.transform.bounds.dimension;
        return ((this._oldDimension.width !== dim.width) ||
            (this._oldDimension.height !== dim.height));
    }
    _hasDevicePixelRatioChanged() {
        return this._pixelRatio !== window.devicePixelRatio;
    }
    disposeNode(node) {
        if (node instanceof THREE.Mesh) {
            if (node.geometry) {
                node.geometry.dispose();
            }
            if (node.material) {
                if (node.material instanceof THREE.MeshFaceMaterial) {
                    node.material.materials.forEach((mtrl, idx) => {
                        if (mtrl.map)
                            mtrl.map.dispose();
                        if (mtrl.lightMap)
                            mtrl.lightMap.dispose();
                        if (mtrl.bumpMap)
                            mtrl.bumpMap.dispose();
                        if (mtrl.normalMap)
                            mtrl.normalMap.dispose();
                        if (mtrl.specularMap)
                            mtrl.specularMap.dispose();
                        if (mtrl.envMap)
                            mtrl.envMap.dispose();
                        mtrl.dispose();
                    });
                }
                else {
                    if (node.material.map)
                        node.material.map.dispose();
                    if (node.material.lightMap)
                        node.material.lightMap.dispose();
                    if (node.material.bumpMap)
                        node.material.bumpMap.dispose();
                    if (node.material.normalMap)
                        node.material.normalMap.dispose();
                    if (node.material.specularMap)
                        node.material.specularMap.dispose();
                    if (node.material.envMap)
                        node.material.envMap.dispose();
                    node.material.dispose();
                }
            }
        }
    }
    disposeHierarchy(node, callback) {
        for (var i = node.children.length - 1; i >= 0; i--) {
            var child = node.children[i];
            this.disposeHierarchy(child, callback);
            callback(child);
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeCamera.ts":
/*!**********************************************!*\
  !*** ./src/engine/gameobject/ThreeCamera.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeCamera; });
/* harmony import */ var _ThreeGameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThreeGameObject */ "./src/engine/gameobject/ThreeGameObject.ts");

class ThreeCamera extends _ThreeGameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(camera) {
        super(camera);
        this._cameraAspectFunction = (width, height) => width / height;
        this._fieldOfView = camera.fov;
        this._nearClip = camera.nearClip;
        this._farClip = camera.farClip;
    }
    get fieldOfView() { return this._fieldOfView; }
    set fieldOfView(val) {
        this._fieldOfView = val;
        this._cameraUpdateRequired = true;
    }
    get nearClip() { return this._nearClip; }
    set nearClip(val) {
        this._nearClip = val;
        this._cameraUpdateRequired = true;
    }
    get farClip() { return this._farClip; }
    set farClip(val) {
        this._farClip = val;
        this._cameraUpdateRequired = true;
    }
    get cameraAspectFunction() { return this._cameraAspectFunction; }
    set cameraAspectFunction(val) {
        this._cameraAspectFunction = val;
        this._cameraUpdateRequired = true;
    }
    begin({ threeRenderer: threeRenderer, cameraUpdateRequired: cameraUpdateRequired }) {
        if (threeRenderer && (cameraUpdateRequired || this._cameraUpdateRequired)) {
            this.cameraUpdate(threeRenderer);
            this.requestDraw();
        }
    }
    draw(renderer, { threeScene }) {
        renderer.render(threeScene, this.object3D);
    }
    cameraUpdate(renderer) {
        let size = renderer.getSize();
        this.object3D.aspect = this.cameraAspectFunction(size.width, size.height);
        this.object3D.fov = this._fieldOfView;
        this.object3D.nearClip = this._nearClip;
        this.object3D.farClip = this._farClip;
        this.object3D.updateProjectionMatrix();
        this._cameraUpdateRequired = false;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeGameObject.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/ThreeGameObject.ts ***!
  \**************************************************/
/*! exports provided: default, ThreeFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeGameObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThreeFrame", function() { return ThreeFrame; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _Frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Frame */ "./src/engine/gameobject/Frame.ts");


class ThreeGameObject extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object3D) {
        super(null, null);
        this._object3D = object3D;
    }
    get object3D() { return this._object3D; }
    get rotation() { return this._object3D.rotation; }
    get position() { return this._object3D.position; }
    create({ threeParent: threeParent }) {
        if (threeParent && this.object3D)
            threeParent.add(this.object3D);
    }
    doDraw(renderer, interfaces) {
        if ((this.created) && (this.visible) && (this.opacity > 0)) {
            this.draw(renderer, interfaces);
            for (let i = 0, len = this.children.length; i < len; i++)
                this.children[i].doDraw(renderer, interfaces);
        }
    }
    interfaces(interfaces) {
        if (this._object3D)
            interfaces["threeParent"] = this._object3D;
        return interfaces;
    }
}
class ThreeFrame extends _Frame__WEBPACK_IMPORTED_MODULE_1__["Frame"] {
    constructor(object3D, listener, controller) {
        super(null, null, listener, controller);
        this._object3D = object3D;
    }
    get object3D() { return this._object3D; }
    create({ threeParent: threeParent }) {
        if (threeParent)
            threeParent.add(this.object3D);
    }
    doDraw(renderer, interfaces) {
        if ((this.created) && (this.visible) && (this.opacity > 0)) {
            this.draw(renderer, interfaces);
            for (let i = 0, len = this.children.length; i < len; i++)
                this.children[i].doDraw(renderer, interfaces);
        }
    }
    interfaces(interfaces) {
        interfaces["threeParent"] = this.object3D;
        return interfaces;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeMesh.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/ThreeMesh.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeMesh; });
/* harmony import */ var _ThreeGameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThreeGameObject */ "./src/engine/gameobject/ThreeGameObject.ts");

class ThreeMesh extends _ThreeGameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get mesh() { return this.object3D; }
    set mesh(val) {
        this._newMesh = val;
        this._meshUpdated = true;
    }
    constructor(mesh, material) {
        if (material)
            super(new THREE.Mesh(mesh, material));
        else
            super(mesh);
    }
    update({ threeParent: threeParent }) {
        if (this._meshUpdated) {
            threeParent.remove(this.mesh);
            this._object3D = this._newMesh;
            this._newMesh = null;
            threeParent.add(this.mesh);
            this._meshUpdated = false;
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeScene.ts":
/*!*********************************************!*\
  !*** ./src/engine/gameobject/ThreeScene.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeScene; });
/* harmony import */ var _ThreeGameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ThreeGameObject */ "./src/engine/gameobject/ThreeGameObject.ts");

class ThreeScene extends _ThreeGameObject__WEBPACK_IMPORTED_MODULE_0__["ThreeFrame"] {
    constructor(scene, listener, controller) {
        super(scene, listener, controller);
    }
    get scene() { return this.object3D; }
    create() { }
    interfaces(interfaces) {
        interfaces = super.interfaces(interfaces);
        interfaces["threeScene"] = this.object3D;
        return interfaces;
    }
    destroy() {
        this.object3D.dispose();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/Timer.ts":
/*!****************************************!*\
  !*** ./src/engine/gameobject/Timer.ts ***!
  \****************************************/
/*! exports provided: Timer, TimeOutCallback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timer", function() { return Timer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeOutCallback", function() { return TimeOutCallback; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");

class Timer extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(null, null);
        this._time = 0;
        this._startTime = 0;
        this._previousTime = 0;
        this._timeOutCallbacks = [];
        this._running = false;
    }
    get typeName() { return "Timer"; }
    get time() { return this._time; }
    set time(val) { this._time = val; }
    get running() { return this._running; }
    addTimeOutCallback(time, callback) {
        this._timeOutCallbacks.push(new TimeOutCallback(time, callback));
    }
    start() {
        this._running = true;
        this._startTime = Date.now();
        this._previousTime = 0;
        this.time = 0;
    }
    pause() {
        this._previousTime = this.time;
        this._running = false;
    }
    resume() {
        this._startTime = Date.now();
        this._running = true;
    }
    begin({ timing: t }) {
        if (this.running) {
            this.time = (Date.now() - this._startTime) + this._previousTime;
            this._timeOutCallbacks.forEach(x => {
                if (this.time > x.time)
                    x.callback();
            });
        }
    }
}
class TimeOutCallback {
    constructor(time, callback) {
        this.time = time;
        this.callback = callback;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Animation.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/anim/Animation.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Animation; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");


class Animation extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor() {
        super(null, null);
        this._done = false;
        this._onComplete = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._onStep = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    get done() { return this._done; }
    get onComplete() { return this._onComplete; }
    set onComplete(val) { this._onComplete = val; }
    get onStep() { return this._onStep; }
    set onStep(val) { this._onStep = val; }
    update(...args) {
        if (!this.done)
            this.onStep.call();
    }
    complete() {
        this._done = true;
        this.onComplete.call();
        this.requestRemoval();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Point3Tween.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/anim/Point3Tween.ts ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point3Tween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");
/* harmony import */ var _util_Point3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point3 */ "./src/engine/util/Point3.ts");


class Point3Tween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    increment(delta) {
        let newX = ((this.targetValue.x - this.currentValue.x) / this.timeRemaining) * delta + this.currentValue.x;
        let newY = ((this.targetValue.y - this.currentValue.y) / this.timeRemaining) * delta + this.currentValue.y;
        let newZ = ((this.targetValue.z - this.currentValue.z) / this.timeRemaining) * delta + this.currentValue.z;
        if (this.currentValue.x < this.targetValue.x)
            newX = Math.min(this.targetValue.x, newX);
        else if (this.currentValue.x > this.targetValue.x)
            newX = Math.max(this.targetValue.x, newX);
        if (this.currentValue.y < this.targetValue.y)
            newY = Math.min(this.targetValue.y, newY);
        else if (this.currentValue.y > this.targetValue.y)
            newY = Math.max(this.targetValue.y, newY);
        if (this.currentValue.z < this.targetValue.z)
            newZ = Math.min(this.targetValue.z, newZ);
        else if (this.currentValue.y > this.targetValue.y)
            newZ = Math.max(this.targetValue.z, newZ);
        this.currentValue = new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](newX, newY, newZ);
    }
    get reachedTarget() { return _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"].equals(this.currentValue, this.targetValue); }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Tween.ts":
/*!*********************************************!*\
  !*** ./src/engine/gameobject/anim/Tween.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Tween; });
/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Animation */ "./src/engine/gameobject/anim/Animation.ts");

class Tween extends _Animation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time) {
        super();
        this._requestDrawOnChange = true;
        if (object) {
            this._object = object;
            this._startValue = object[variableName];
            this._variableName = variableName;
            this._targetValue = targetValue;
            this._time = time;
            this._timeRemaining = time;
        }
    }
    get object() { return this._object; }
    get variableName() { return this._variableName; }
    get startValue() { return this._startValue; }
    get targetValue() { return this._targetValue; }
    get currentValue() { return this.object[this.variableName]; }
    set currentValue(val) { this.object[this.variableName] = val; }
    get time() { return this._time; }
    get timeRemaining() { return this._timeRemaining; }
    get requestDrawOnChange() { return this._requestDrawOnChange; }
    set requestDrawOnChange(val) { this._requestDrawOnChange = val; }
    update({ timing: t }) {
        super.update();
        if (!this.done) {
            if (this.requestDrawOnChange)
                this.requestDraw();
            this._timeRemaining -= t.delta;
            if (this._timeRemaining <= 0) {
                this.currentValue = this.targetValue;
                this.complete();
            }
            else {
                this.increment(t.delta);
                if (this.reachedTarget)
                    this.complete();
            }
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/ValueTween.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/anim/ValueTween.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ValueTween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");

class ValueTween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get rate() {
        if (this.timeRemaining <= 0)
            return 0;
        return ((this.targetValue - this.currentValue) / this.timeRemaining);
    }
    increment(delta) {
        let newVal = this.currentValue + (this.rate * delta);
        if (this.currentValue < this.targetValue)
            this.currentValue = Math.min(newVal, this.targetValue);
        else
            this.currentValue = Math.max(newVal, this.targetValue);
    }
    get reachedTarget() { return this.currentValue === this.targetValue; }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Wait.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/anim/Wait.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Wait; });
/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Animation */ "./src/engine/gameobject/anim/Animation.ts");

class Wait extends _Animation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Wait"; }
    constructor(time) {
        super();
        this._time = time;
        this._timeRemaining = time;
    }
    get time() { return this._time; }
    get timeRemaining() { return this._timeRemaining; }
    update({ timing: t }) {
        super.update();
        this._timeRemaining -= t.delta;
        if (this.timeRemaining <= 0)
            this.complete();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/WrappingPoint3Tween.ts":
/*!***********************************************************!*\
  !*** ./src/engine/gameobject/anim/WrappingPoint3Tween.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WrappingPoint3Tween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");
/* harmony import */ var _util_Point3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point3 */ "./src/engine/util/Point3.ts");


class WrappingPoint3Tween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time, wrapValue) {
        super(object, variableName, targetValue, time);
        this._wrapValue = wrapValue;
    }
    shortestDistanceDim(ax, bx, lx) {
        if (ax === bx)
            return 0;
        let wrapx = (ax < bx) ? ((lx - bx) + ax) : ((lx - ax) + bx);
        let straightx = Math.abs(bx - ax);
        if (straightx < wrapx)
            return bx - ax;
        else {
            if (ax < bx)
                return -wrapx;
            else
                return wrapx;
        }
    }
    get rate() {
        let x = this.shortestDistanceDim(this.currentValue.x, this.targetValue.x, this._wrapValue.x);
        let y = this.shortestDistanceDim(this.currentValue.y, this.targetValue.y, this._wrapValue.y);
        let z = this.shortestDistanceDim(this.currentValue.z, this.targetValue.z, this._wrapValue.z);
        return new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](x / this.timeRemaining, y / this.timeRemaining, z / this.timeRemaining);
    }
    incrementDim(cx, tx, rx, newX) {
        if ((cx < tx) && (rx > 0))
            newX = Math.min(tx, newX);
        if ((cx < tx) && (rx < 0)) {
            if (newX < this.currentValue)
                newX = Math.min(newX, tx);
        }
        else if ((cx > tx) && (rx > 0)) {
            if (newX > this.currentValue)
                newX = Math.max(newX, this.targetValue);
        }
        else if ((cx > tx) && (rx < 0))
            newX = Math.max(tx, newX);
        return newX;
    }
    increment(delta) {
        let rate = this.rate;
        let newX = (rate.x * delta + this.currentValue.x) % this._wrapValue.x;
        let newY = (rate.y * delta + this.currentValue.y) % this._wrapValue.y;
        let newZ = (rate.z * delta + this.currentValue.z) % this._wrapValue.z;
        newX = this.incrementDim(this.currentValue.x, this.targetValue.x, rate.x, newX);
        newY = this.incrementDim(this.currentValue.y, this.targetValue.y, rate.y, newY);
        newZ = this.incrementDim(this.currentValue.z, this.targetValue.z, rate.z, newZ);
        this.currentValue = new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](newX, newY, newZ);
    }
    get reachedTarget() { return _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"].equals(this.currentValue, this.targetValue); }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/WrappingValueTween.ts":
/*!**********************************************************!*\
  !*** ./src/engine/gameobject/anim/WrappingValueTween.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WrappingValueTween; });
/* harmony import */ var _ValueTween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");

class WrappingValueTween extends _ValueTween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time, wrapValue) {
        super(object, variableName, targetValue, time);
        this._wrapValue = wrapValue;
        let wrapping = Math.abs(this.startValue - this.targetValue) > this._wrapValue / 2;
        let upwards = this.startValue < this.targetValue;
        this._directionIsUp = ((upwards && !wrapping) || (!upwards && wrapping));
    }
    shortestDistance() {
        if (this.targetValue === this.currentValue)
            return 0;
        if (this._directionIsUp && (this.targetValue < this.currentValue))
            return this.targetValue + this._wrapValue - this.currentValue;
        if (this._directionIsUp && (this.targetValue > this.currentValue))
            return this.targetValue - this.currentValue;
        if (!this._directionIsUp && (this.targetValue < this.currentValue))
            return this.targetValue - this.currentValue;
        if (!this._directionIsUp && (this.targetValue > this.currentValue))
            return this.targetValue - (this.currentValue + this._wrapValue);
    }
    get rate() {
        if (this.timeRemaining <= 0)
            return 0;
        return (this.shortestDistance() / this.timeRemaining);
    }
    increment(delta) {
        let newVal = this.currentValue + (this.rate * delta);
        if ((this.currentValue < this.targetValue) && (this._directionIsUp))
            this.currentValue = Math.min(newVal, this.targetValue);
        else if ((this.currentValue > this.targetValue) && (this._directionIsUp)) {
            if (newVal % this._wrapValue < this.currentValue)
                this.currentValue = Math.min(newVal, this.targetValue);
            else
                this.currentValue = newVal;
        }
        else if ((this.currentValue < this.targetValue) && !(this._directionIsUp)) {
            if (newVal % this._wrapValue > this.currentValue)
                this.currentValue = Math.max(newVal, this.targetValue);
            else
                this.currentValue = newVal;
        }
        else if ((this.currentValue > this.targetValue) && !(this._directionIsUp))
            this.currentValue = Math.max(newVal, this.targetValue);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/BufferClone.ts":
/*!********************************************************!*\
  !*** ./src/engine/gameobject/context2d/BufferClone.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BufferClone; });
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");



class BufferClone extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(position, bounds, drawBuffer, clipFunction) {
        super(position, bounds);
        this._origin = new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this._area = null;
        this._drawBuffer = drawBuffer;
        this._clipFunction = clipFunction;
    }
    get typeName() { return "BufferClone"; }
    get clipFunction() { return this._clipFunction; }
    set clipFunction(val) { this._clipFunction = val; }
    get origin() { return this._origin; }
    set origin(val) { this._origin = val; }
    get area() { return this._area; }
    set area(val) { this._area = val; }
    get drawBuffer() { return this._drawBuffer; }
    draw(context2D) {
        if (!this._drawBuffer)
            throw new Error("Cannot draw bufferclone because the provided DrawBuffer is null");
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        let dbDim = this._drawBuffer.canvasUsedDimension;
        if (this._clipFunction) {
            context2D.save();
            this._clipFunction(context2D, pos, dim);
            context2D.clip();
        }
        let sourceDim = dbDim;
        if (this.area) {
            sourceDim = this.area.asSimplePixelDimension(this.transform.bounds);
            sourceDim = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_0__["default"](sourceDim.width * this.drawBuffer.pixelRatio, sourceDim.height * this.drawBuffer.pixelRatio);
        }
        let orig = this.origin.absolutePositionTopLeft(this.drawBuffer.transform.bounds);
        context2D.drawImage(this._drawBuffer.canvas, orig.x * this.drawBuffer.pixelRatio, orig.y * this.drawBuffer.pixelRatio, sourceDim.width, sourceDim.height, pos.x, pos.y, dim.width, dim.height);
        if (this._clipFunction)
            context2D.restore();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Buffered.ts":
/*!*****************************************************!*\
  !*** ./src/engine/gameobject/context2d/Buffered.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Buffered; });
/* harmony import */ var _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Component */ "./src/engine/gameobject/Component.ts");
/* harmony import */ var _Frame__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Frame */ "./src/engine/gameobject/Frame.ts");







class Buffered extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(type, ...constructorArgs) {
        let arg1 = constructorArgs.shift();
        if (arg1 instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"])
            super(arg1, constructorArgs.shift());
        else if (arg1 instanceof _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"])
            super(null, arg1);
        else
            throw new Error("Cannot create a Buffered<GameObject> that lacks a bounds. DrawBuffers require a Bounds");
        this._constructorArgs = constructorArgs;
        this._type = type;
        this._buffer = new _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)));
        this._inner = new this._type(new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), ...this._constructorArgs);
    }
    get inner() { return this._inner; }
    get buffer() { return this._buffer; }
    create() {
        this.addChild(this._buffer);
        this._buffer.addChild(this._inner);
        if (this.inner instanceof _Component__WEBPACK_IMPORTED_MODULE_5__["Component"])
            this.inner.controller.onDestroy.push((() => { this.requestRemoval(); }).bind(this), this);
        if (this.inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"]) {
            this.inner.listener.onClose.push((() => { this.visible = false; this.active = false; }).bind(this), this);
            this.inner.listener.onOpen.push((() => { this.visible = true; this.active = true; }).bind(this), this);
            this.visible = this.inner.isOpen;
        }
    }
    destroy() {
        super.destroy();
        if (this.inner instanceof _Component__WEBPACK_IMPORTED_MODULE_5__["Component"])
            this.inner.controller.onDestroy.unregister(this);
        if (this.inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"]) {
            this.inner.listener.onClose.unregister(this);
            this.inner.listener.onOpen.unregister(this);
        }
    }
    draw() {
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Circle.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/context2d/Circle.ts ***!
  \***************************************************/
/*! exports provided: Circle, FillCircle, OutlineCircle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Circle", function() { return Circle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillCircle", function() { return FillCircle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineCircle", function() { return OutlineCircle; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");


class Circle extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Circle"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
    }
    outline(context2D, pos, dim) {
        let radDim = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](Math.max(0, dim.width - this.lineWidth), Math.max(0, dim.height - this.lineWidth));
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        context2D.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(radDim.width, radDim.height) / 2, 0, 2 * Math.PI);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        context2D.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(dim.width, dim.height) / 2, 0, 2 * Math.PI);
        context2D.fill();
    }
}
class FillCircle extends Circle {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineCircle extends Circle {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/DrawBuffer.ts":
/*!*******************************************************!*\
  !*** ./src/engine/gameobject/context2d/DrawBuffer.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DrawBuffer; });
/* harmony import */ var _Transform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Transform */ "./src/engine/Transform.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");




class DrawBuffer extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(position, bounds) {
        super(new DrawTransform(position, bounds));
        this._canvas = null;
        this._context2D = null;
        this._drawRequested = false;
        this._hasAlphaChannel = true;
        this._imageData = null;
        this.debugDisableCache = false;
        this._forgetInternalsOnDraw = false;
        this._canvasDrawFixed = false;
        if (this.transform.position)
            this.transform.position.resetDrawPos = true;
    }
    get typeName() { return "DrawBuffer"; }
    get forgetInternalsOnDraw() { return this._forgetInternalsOnDraw; }
    set forgetInternalsOnDraw(val) { this._forgetInternalsOnDraw = val; }
    get canvasDrawFixed() { return this._canvasDrawFixed; }
    get canvas() { return this._canvas; }
    get context2D() { return this._context2D; }
    get canvasUsedDimension() { return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_3__["default"](Math.ceil(this.transform.bounds.dimension.width * this.pixelRatio), Math.ceil(this.transform.bounds.dimension.height * this.pixelRatio)); }
    get backgroundColor() { return this._backgroundColor; }
    set backgroundColor(val) { this._backgroundColor = val; }
    get pixelRatio() { return this._pixelRatio; }
    get hasAlphaChannel() { return this._hasAlphaChannel; }
    set hasAlphaChannel(val) {
        if ((this._hasAlphaChannel !== val) && (this._canvas))
            this._context2D = this._canvas.getContext('2d', { alpha: val });
        this._hasAlphaChannel = val;
    }
    get drawRequested() { return this._drawRequested; }
    create() {
        this._createDrawBuffer();
    }
    _createDrawBuffer() {
        this._canvas = document.createElement('canvas');
        this._context2D = this._canvas.getContext('2d', { alpha: this.hasAlphaChannel });
        this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
        this.clear();
    }
    resizeCanvas(dim, devicePixelRatio) {
        this._pixelRatio = devicePixelRatio;
        this.canvas.width = Math.max(dim.width * this.pixelRatio, DrawBuffer.minCanvasSize);
        this.canvas.height = Math.max(dim.height * this.pixelRatio, DrawBuffer.minCanvasSize);
        this._oldDimension = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](dim.width, dim.height);
        this._context2D.setTransform(1, 0, 0, 1, 0, 0);
        this._context2D.scale(this.pixelRatio, this.pixelRatio);
    }
    clear() {
        if (this.backgroundColor) {
            this._context2D.fillStyle = this.backgroundColor;
            this._context2D.fillRect(0, 0, this._canvas.width / this.pixelRatio, this._canvas.height / this.pixelRatio);
        }
        else
            this._context2D.clearRect(0, 0, this.canvas.width / this.pixelRatio, this.canvas.height / this.pixelRatio);
    }
    doDraw(context2D, interfaces) {
        if ((this.created) && (this.visible)) {
            let startingOpacity = undefined;
            if (this.opacity !== 1) {
                startingOpacity = context2D.globalAlpha;
                context2D.globalAlpha = context2D.globalAlpha * this.opacity;
            }
            if ((this._drawRequested) && (!(this._canvasDrawFixed))) {
                this._drawRequested = false;
                this.clear();
                this.children.forEach(x => x.doDraw(this._context2D, interfaces));
                if (this._forgetInternalsOnDraw) {
                    this.children.forEach(c => this.removeChild(c));
                    this._canvasDrawFixed = true;
                }
            }
            if (this.transform.position)
                this.draw(context2D, interfaces);
            if (startingOpacity !== undefined)
                context2D.globalAlpha = startingOpacity;
        }
    }
    _hasResized() {
        let dim = this.transform.bounds.dimension;
        return ((this._oldDimension.width !== dim.width) ||
            (this._oldDimension.height !== dim.height));
    }
    _hasDevicePixelRatioChanged() {
        return this._pixelRatio !== window.devicePixelRatio;
    }
    begin() {
        if (this._hasResized() || this._hasDevicePixelRatioChanged()) {
            this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
            this.requestDraw();
        }
        else if (this.debugDisableCache)
            this.requestDraw();
    }
    draw(context2D, interfaces) {
        if (context2D) {
            this.transform.position.resetDrawPos = false;
            this.__pos = this.transform.position.drawPositionTopLeft();
            this.__dim = this.transform.bounds.dimension;
            this.transform.position.resetDrawPos = true;
            context2D.drawImage(this._canvas, 0, 0, Math.round(this.__dim.width) * this.pixelRatio, Math.round(this.__dim.height) * this.pixelRatio, Math.round(this.__pos.x), Math.round(this.__pos.y), Math.round(this.__dim.width), Math.round(this.__dim.height));
        }
    }
    requestDraw() {
        this._drawRequested = true;
        super.requestDraw();
    }
}
DrawBuffer.minCanvasSize = 256;
class DrawTransform extends _Transform__WEBPACK_IMPORTED_MODULE_0__["default"] {
    recalculate(excludeDrawCache) {
        if (!(excludeDrawCache))
            if (!(this.bounds.hasResizedAutoUpdate())) {
                if (this.position)
                    this.position.drawCacheDirty = true;
                excludeDrawCache = true;
                super.gameObject.requestDraw();
            }
        super.recalculate(excludeDrawCache);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Rect.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/context2d/Rect.ts ***!
  \*************************************************/
/*! exports provided: Rect, FillRect, OutlineRect, DebugRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rect", function() { return Rect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillRect", function() { return FillRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineRect", function() { return OutlineRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DebugRect", function() { return DebugRect; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");




class Rect extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this._canvasFunction = null;
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    get typeName() { return "Rect"; }
    get canvasFunction() { return this._canvasFunction; }
    set canvasFunction(val) { this._canvasFunction = val; }
    draw(context2D) {
        if (this.canvasFunction) {
            context2D.save();
            this.canvasFunction(context2D);
        }
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
        if (this.canvasFunction)
            context2D.restore();
    }
    outline(context2D, pos, dim) {
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        context2D.rect(pos.x + this.lineWidth / 2, pos.y + this.lineWidth / 2, dim.width - this.lineWidth, dim.height - this.lineWidth);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        context2D.fillRect(pos.x, pos.y, dim.width, dim.height);
    }
}
class FillRect extends Rect {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineRect extends Rect {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}
class DebugRect extends OutlineRect {
    constructor(colour, lineWidth) {
        super(new _transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_2__["default"](1, 1)), colour, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Root.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/context2d/Root.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Root; });
/* harmony import */ var _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _ui_DebugPane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/DebugPane */ "./src/engine/gameobject/ui/DebugPane.ts");
/* harmony import */ var _Buffered__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Buffered */ "./src/engine/gameobject/context2d/Buffered.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _Frame__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Frame */ "./src/engine/gameobject/Frame.ts");







class Root extends _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(type, ...constructorArgs) {
        let arg1 = constructorArgs.shift();
        if (arg1 instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"])
            super(arg1, constructorArgs.shift());
        else if (arg1 instanceof _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"])
            super(null, arg1);
        else
            throw new Error("Cannot create a Buffered<GameObject> that lacks a bounds. DrawBuffers require a Bounds");
        this._constructorArgs = constructorArgs;
        this._type = type;
        this._buffered = new _Buffered__WEBPACK_IMPORTED_MODULE_2__["default"](this._type, new _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), ...this._constructorArgs);
        this._inner = this._buffered.inner;
    }
    get debugPane() { return this._debugPane; }
    set debugPane(val) { this._debugPane = val; }
    createCanvas(name) {
        this._createDrawBuffer();
        this._canvas.id = name;
    }
    resizeToOnUpdate(dimension) { this._resizeTarget = dimension; }
    resizeCanvas(dim, devicePixelRatio) {
        super.resizeCanvas(dim, devicePixelRatio);
        this.canvas.style.width = this.transform.bounds.dimension.width + 'px';
        this.canvas.style.height = this.transform.bounds.dimension.height + 'px';
    }
    create() {
        this.hasAlphaChannel = false;
        this.addChild(this._buffered);
    }
    afterCreate() {
        if (this.debugPane) {
            let debugPane = this._buffered.buffer.addChild(new _ui_DebugPane__WEBPACK_IMPORTED_MODULE_1__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1))));
            debugPane.visible = false;
            debugPane.active = true;
        }
        this._buffered.buffer.backgroundColor = this.backgroundColor;
        this._buffered.buffer.hasAlphaChannel = false;
        if (this._inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"])
            this._inner.open();
    }
    begin() {
        if (this._resizeTarget) {
            this.transform.bounds.clearDimensions();
            this.transform.bounds.addDimension(this._resizeTarget);
            this._resizeTarget = null;
            this.transform.recalculate();
        }
        super.begin();
    }
    get typeName() { return "Root"; }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/RoundedRect.ts":
/*!********************************************************!*\
  !*** ./src/engine/gameobject/context2d/RoundedRect.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RoundedRect; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");

class RoundedRect extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth, radius) {
        super(position, bounds);
        this._canvasFunction = null;
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
        this._radius = radius;
    }
    get typeName() { return "RoundedRect"; }
    get canvasFunction() { return this._canvasFunction; }
    set canvasFunction(val) { this._canvasFunction = val; }
    draw(context2D) {
        if (this.canvasFunction) {
            context2D.save();
            this.canvasFunction(context2D);
        }
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.fillStyle = this.fillStyle;
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        let filled = (this.fillStyle !== undefined);
        let stroke = (this.strokeStyle !== undefined);
        this.roundRect(context2D, pos.x, pos.y, dim.width, dim.height, this._radius, filled, stroke);
        if (this.canvasFunction)
            context2D.restore();
    }
    roundRect(ctx, x, y, width, height, radius, fill, stroke) {
        if (typeof stroke == 'undefined') {
            stroke = true;
        }
        if (typeof radius === 'undefined') {
            radius = 5;
        }
        if (typeof radius === 'number') {
            radius = { tl: radius, tr: radius, br: radius, bl: radius };
        }
        else {
            var defaultRadius = { tl: 0, tr: 0, br: 0, bl: 0 };
            for (var side in defaultRadius) {
                radius[side] = radius[side] || defaultRadius[side];
            }
        }
        ctx.beginPath();
        ctx.moveTo(x + radius.tl, y);
        ctx.lineTo(x + width - radius.tr, y);
        ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);
        ctx.lineTo(x + width, y + height - radius.br);
        ctx.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height);
        ctx.lineTo(x + radius.bl, y + height);
        ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);
        ctx.lineTo(x, y + radius.tl);
        ctx.quadraticCurveTo(x, y, x + radius.tl, y);
        ctx.closePath();
        if (fill) {
            ctx.fill();
        }
        if (stroke) {
            ctx.stroke();
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Shape.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/context2d/Shape.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Shape; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class Shape extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._strokeStyle = undefined;
        this._fillStyle = undefined;
        this._lineWidth = undefined;
    }
    get typeName() { return "Shape"; }
    get strokeStyle() { return this._strokeStyle; }
    get fillStyle() { return this._fillStyle; }
    get lineWidth() { return this._lineWidth; }
    set strokeStyle(val) { this._strokeStyle = val; }
    set lineWidth(val) { this._lineWidth = val; }
    set fillStyle(val) { this._fillStyle = val; }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Sprite.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/context2d/Sprite.ts ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Sprite; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class Sprite extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Sprite"; }
    constructor(position, bounds, ...filenames) {
        super(position, bounds);
        this._filenames = filenames;
        this._img = null;
    }
    get filenames() { return this._filenames; }
    load({ loader: l }) {
        this._loadedDPR = Math.min(Math.ceil(window.devicePixelRatio), this.filenames.length);
        this.addAsset(l.loadImage(this.filenames[this._loadedDPR - 1], (asset) => {
            asset.loaded = true;
            this.visible = false;
        }));
        return true;
    }
    create() {
        this._img = this.getAsset(this.filenames[this._loadedDPR - 1]);
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        context2D.drawImage(this._img, 0, 0, this._img.naturalWidth, this._img.naturalHeight, pos.x, pos.y, dim.width, dim.height);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Triangle.ts":
/*!*****************************************************!*\
  !*** ./src/engine/gameobject/context2d/Triangle.ts ***!
  \*****************************************************/
/*! exports provided: Triangle, FillTriangle, OutlineTriangle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Triangle", function() { return Triangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillTriangle", function() { return FillTriangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineTriangle", function() { return OutlineTriangle; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");



class Triangle extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Triangle"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
    }
    outline(context2D, pos, dim) {
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        let newPos = _util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].add(pos, new _util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0.75 * this.lineWidth, 0.75 * this.lineWidth));
        let newDim = _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].add(dim, new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](-this.lineWidth * 1.5, -this.lineWidth * 1.5));
        this._drawPath(context2D, newPos, newDim);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        this._drawPath(context2D, pos, dim);
        context2D.fill();
    }
    _drawPath(context2D, pos, dim) {
        context2D.translate(pos.x, pos.y);
        context2D.beginPath();
        context2D.moveTo(0.5 * dim.width, 0);
        context2D.lineTo(dim.width, dim.height);
        context2D.lineTo(0, dim.height);
        context2D.closePath();
        context2D.translate(-pos.x, -pos.y);
    }
}
class FillTriangle extends Triangle {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineTriangle extends Triangle {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/Button.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/ui/Button.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Button; });
/* harmony import */ var _ClickTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ClickTrigger */ "./src/engine/gameobject/ui/ClickTrigger.ts");

class Button extends _ClickTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, content) {
        super(position, bounds);
        this._buttonReset = false;
        this._content = content;
        this.onlyIfUnhandled = true;
    }
    get typeName() { return "Button"; }
    get content() { return this._content; }
    get hoverRect() { return this._hoverRect; }
    get pressedRect() { return this._pressedRect; }
    setHoverRect(val) {
        this._hoverRect = val;
        this._hoverRect.visible = false;
    }
    setPressedRect(val) {
        this._pressedRect = val;
        this._pressedRect.visible = false;
    }
    reset() {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
        this.requestDraw();
        this._buttonReset = true;
    }
    decreate() {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
    }
    create() {
        if (this._content)
            this.addChild(this._content);
    }
    onMouseClick(m, touch, touchID) {
        if (!this._buttonReset)
            super.onMouseClick(m, touch, touchID);
        m.setHandled(touch);
    }
    onMouseMove(m, touch, touchID) {
        m.setHandled(touch);
    }
    onMouseDown(m, touch, touchID) {
        this._buttonReset = false;
        if (this.pressedRect)
            this.pressedRect.visible = true;
        if (this.hoverRect)
            this.hoverRect.visible = false;
        m.setHandled(touch);
    }
    onMouseUp(m, touch, touchID) {
        if (this.pressedRect)
            this.pressedRect.visible = false;
        if (this.hoverRect)
            this.hoverRect.visible = true;
        m.setHandled(touch);
    }
    onMouseEnter(m, touch, touchID) {
        if (this.hoverRect)
            this.hoverRect.visible = true;
        m.setHandled(touch);
    }
    onMouseLeave(m, touch, touchID) {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/ClickTrigger.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/ui/ClickTrigger.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ClickTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");


class ClickTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this.handleClicks = false;
        this._firedThisUpdate = false;
        this._onClick = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get typeName() { return "ClickTrigger"; }
    get onClick() { return this._onClick; }
    onMouseClick(mouse, touch, touchID) {
        if ((!this._firedThisUpdate)) {
            engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.onClick, mouse, touch, touchID);
            this._firedThisUpdate = true;
            if (this.handleClicks) {
                if (touch)
                    touch.handled = true;
                else
                    mouse.setHandled();
            }
        }
    }
    update({ mouse: m }) {
        this._firedThisUpdate = false;
        if (this.interactable)
            this.checkMouseActions(m);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/DebugPane.ts":
/*!***********************************************!*\
  !*** ./src/engine/gameobject/ui/DebugPane.ts ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DebugPane; });
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");








class DebugPane extends _GameObject__WEBPACK_IMPORTED_MODULE_5__["default"] {
    get typeName() { return "DebugPane"; }
    create() {
        this.timingText = this.addChild(new _Text__WEBPACK_IMPORTED_MODULE_0__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, new _util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1)), new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, -5)), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](), "FPS:", "black", 12, "serif"));
        this.beginTime = undefined;
        this.drawTime = undefined;
        this.endTime = undefined;
        this.updateTime = undefined;
        this.averageSteps = undefined;
        let kt = this.addChild(new _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__["default"]());
        kt.getKeyEvent("Tab", _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__["KeyTriggerEvents"].onKeyPress).push(() => this.visible = !(this.visible), this);
    }
    update({ timing: t, keyboard: k }) {
        this.beginTime = this.runningAverage(this.beginTime, t.beginTime, t.fps);
        this.updateTime = this.runningAverage(this.updateTime, t.updateTime, t.fps * t.updateSteps);
        this.drawTime = this.runningAverage(this.drawTime, t.drawTime, t.fps);
        this.endTime = this.runningAverage(this.endTime, t.endTime, t.fps);
        this.loopTime = this.runningAverage(this.loopTime, t.loopTime, t.fps);
        this.averageSteps = this.runningAverage(this.averageSteps, t.updateSteps, t.fps);
        this.timingText.text = ("FPS: " + t.fps).substring(0, 7) +
            ("   Begin: " + this.beginTime).substring(0, 14) +
            ("   Draw: " + this.drawTime).substring(0, 13) +
            ("   Update: " + this.updateTime).substring(0, 15) +
            ("   (Steps: " + this.averageSteps).substring(0, 15) + ") " +
            ("   End: " + this.endTime).substring(0, 12) +
            ("   Loop: " + this.loopTime).substring(0, 13) +
            ("   (Calculated FPS: " + Math.round(1000 / this.loopTime)).substring(0, 23) + ")" +
            ("   (Rate: " + 100 / (t.slowDown + 1)).substring(0, 13) + "%)";
        if (this.interactable)
            k.keyPressesThisUpdate.forEach(key => {
                if (key === "-")
                    t.slowDown++;
                else if (key === "+")
                    t.slowDown = Math.max(0, t.slowDown - 1);
            });
    }
    runningAverage(val, newVal, length) {
        if (!val)
            return newVal;
        return (val * (length - 1) + newVal) / length;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/GridLayout.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/GridLayout.ts ***!
  \************************************************/
/*! exports provided: GridOrientation, default, GridBuilder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridOrientation", function() { return GridOrientation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GridLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridBuilder", function() { return GridBuilder; });
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");
/* harmony import */ var _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");







var GridOrientation;
(function (GridOrientation) {
    GridOrientation[GridOrientation["Vertical"] = 0] = "Vertical";
    GridOrientation[GridOrientation["Horizontal"] = 1] = "Horizontal";
})(GridOrientation || (GridOrientation = {}));
class GridLayout extends _GameObject__WEBPACK_IMPORTED_MODULE_2__["default"] {
    constructor(position, bounds, cells, orientation) {
        super(position, bounds);
        this._padding = 0;
        this._relativePadding = 0;
        this._cells = cells;
        this._orientation = orientation;
        if (orientation === GridOrientation.Horizontal)
            this.cells.forEach((c, i) => {
                for (let j = 0; j < i; j++)
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, this.cells[j].transform.bounds));
            });
        if (orientation === GridOrientation.Vertical)
            this.cells.forEach((c, i) => {
                for (let j = 0; j < i; j++)
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, this.cells[j].transform.bounds));
            });
        this.conditionalDimension = this.transform.bounds.addDimension(new _transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](this._dimensionFunction.bind(this)));
        this.cells.forEach(c => c.transform.bounds.onResize.push(this.conditionalDimension.markAsUpdated.bind(this), this));
    }
    get typeName() { return "GridLayout"; }
    get middleY() { return this.orientation === GridOrientation.Vertical ? this._padding : 0; }
    get middleX() { return this.orientation === GridOrientation.Horizontal ? this._padding : 0; }
    get cells() { return this._cells; }
    get orientation() { return this._orientation; }
    destroy() {
        this.cells.forEach(c => c.transform.bounds.onResize.unregister(this));
    }
    create() {
        this.cells.forEach(c => this.addChild(c));
    }
    addCell(newCell, index) {
        if (index === undefined)
            index = this.cells.length;
        this.addChild(newCell);
        let middleX = this.middleX;
        let middleY = this.middleY;
        if (this.orientation === GridOrientation.Vertical)
            this.cells.forEach((c, i) => {
                if (i < index)
                    newCell.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, c.transform.bounds));
                else {
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, newCell.transform.bounds));
                    c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX, middleY));
                }
            });
        if (this.orientation === GridOrientation.Horizontal)
            this.cells.forEach((c, i) => {
                if (i < index)
                    newCell.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, c.transform.bounds));
                else {
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, newCell.transform.bounds));
                    c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX, middleY));
                }
            });
        this.cells.splice(index, 0, newCell);
        newCell.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX * index, middleY * index));
        newCell.transform.bounds.onResize.push(this.conditionalDimension.markAsUpdated.bind(this), this);
        this.transform.positioningIsDirty();
    }
    removeCell(index) {
        if ((index >= 0) && (index < this.cells.length)) {
            let middleX = this.middleX;
            let middleY = this.middleY;
            let cell = this.cells[index];
            if (this.orientation === GridOrientation.Vertical)
                this.cells.forEach((c, i) => {
                    if (i > index) {
                        c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, -1, cell.transform.bounds));
                        c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](-middleX, -middleY));
                    }
                });
            if (this.orientation === GridOrientation.Horizontal)
                this.cells.forEach((c, i) => {
                    if (i > index) {
                        c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](-1, 0, cell.transform.bounds));
                        c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](-middleX, -middleY));
                    }
                });
            this.cells.splice(index, 1);
            cell.transform.bounds.onResize.unregister(this);
            cell.requestRemoval();
            this.transform.positioningIsDirty();
        }
    }
    _dimensionFunction(dim) {
        let dims = [];
        this.cells.forEach(c => {
            dims.push(c.transform.bounds.calculating ? c.transform.bounds.cachedDimension : c.transform.bounds.dimension);
        });
        let width = 0;
        let height = 0;
        let middleX = this.middleX;
        let middleY = this.middleY;
        if (this.orientation === GridOrientation.Horizontal)
            dims.forEach(c => {
                width += c.width + middleX;
                height = Math.max(height, c.height);
            });
        if (this.orientation === GridOrientation.Vertical)
            dims.forEach(c => {
                width = Math.max(width, c.width);
                height += c.height + middleY;
            });
        return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_6__["default"](width - middleX, height - middleY);
    }
    addPixelPadding(padding) {
        this._padding = padding;
        let middleX = this.middleX;
        let middleY = this.middleY;
        this.cells.forEach((c, i) => {
            c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX * i, middleY * i));
        });
        this.transform.positioningIsDirty();
    }
}
class GridBuilder {
    constructor() {
        this._newCells = [];
    }
    get grid() { return this._grid; }
    pushCell(newCell, index) {
        if (index === undefined)
            index = this._newCells.length;
        this._newCells.splice(index, 0, newCell);
        return newCell;
    }
    fixLayer(orientation, position, bounds) {
        this._grid = new GridLayout(position || new _transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), bounds || new _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__["default"](), this._newCells, orientation);
        this._newCells = [this._grid];
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/KeyTrigger.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/KeyTrigger.ts ***!
  \************************************************/
/*! exports provided: KeyTriggerEvents, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyTriggerEvents", function() { return KeyTriggerEvents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return KeyTrigger; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");


var KeyTriggerEvents;
(function (KeyTriggerEvents) {
    KeyTriggerEvents[KeyTriggerEvents["onKeyPress"] = 0] = "onKeyPress";
    KeyTriggerEvents[KeyTriggerEvents["onKeyDown"] = 1] = "onKeyDown";
    KeyTriggerEvents[KeyTriggerEvents["onKeyUp"] = 2] = "onKeyUp";
})(KeyTriggerEvents || (KeyTriggerEvents = {}));
class KeyTrigger extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(null, null);
        this._keys = [];
    }
    get typeName() { return "KeyTrigger"; }
    getKeyEvent(keycode, trigger) {
        if (!trigger)
            trigger = KeyTriggerEvents.onKeyDown;
        this._keys.forEach(x => {
            if ((x.keycode === keycode) && (x.trigger === trigger))
                return x.event;
        });
        let event = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._keys.push({ keycode: keycode, trigger: trigger, event: event });
        return event;
    }
    removeKeyEvent(keycode, trigger) {
        let toRemove = this._keys.filter(x => (x.keycode === keycode) && (x.trigger === trigger));
        if (toRemove.length > 0) {
            toRemove.forEach(x => this._keys.splice(this._keys.indexOf(x), 1));
            return true;
        }
        return false;
    }
    begin({ keyboard: k }) {
        if (this.interactable)
            this._keys.forEach(x => {
                if (x.trigger === KeyTriggerEvents.onKeyUp) {
                    if (k.isKeyUp(x.keycode))
                        x.event.call();
                }
                else if (x.trigger === KeyTriggerEvents.onKeyDown) {
                    if (k.isKeyDown(x.keycode))
                        x.event.call();
                    else if (k.keyPressesThisUpdate.indexOf(x.keycode) !== -1)
                        x.event.call();
                }
                else if (x.trigger === KeyTriggerEvents.onKeyPress)
                    if (k.keyPressesThisUpdate.indexOf(x.keycode) !== -1)
                        x.event.call();
            });
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/LoadingBar.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/LoadingBar.ts ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadingBar; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class LoadingBar extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, bgColour, fgColour) {
        super(position, bounds);
        this._bgColour = bgColour;
        this._fgColour = fgColour;
    }
    create() {
        this.addChild(new _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__["FillRect"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this._bgColour));
        this._proportionDimension = new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1);
        this._proportionDimension.preserve = true;
        this._innerBar = this.addChild(new _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__["FillRect"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](this._proportionDimension), this._fgColour));
    }
    setProportion(proportion) {
        this._proportionDimension.width = proportion;
        this._innerBar.transform.positioningIsDirty();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/MouseDragTrigger.ts":
/*!******************************************************!*\
  !*** ./src/engine/gameobject/ui/MouseDragTrigger.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MouseDragTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");



class TouchDragData {
    constructor() {
        this.dragStart = new engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this.dragging = false;
        this.minDistancePassed = false;
    }
}
class MouseDragTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._touches = new Map();
        this._dragStart = new engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this._dragging = false;
        this._minDistancePassed = false;
        this.minDistance = 0;
        this._onDrag = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onEndDrag = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get typeName() { return "MouseDragTrigger"; }
    get onDrag() { return this._onDrag; }
    get onEndDrag() { return this._onEndDrag; }
    get touchCount() { return this._touches.size; }
    update({ mouse: m }) {
        if (this.interactable)
            this.checkMouseActions(m);
        else {
            this._dragging = false;
            this._minDistancePassed = false;
            this._touches.forEach(t => {
                t.dragging = false;
                t.minDistancePassed = false;
            });
            this.onEndDrag.call(m);
        }
    }
    onMouseDown(mouse, touch, touchID) {
        if (!touch) {
            this._dragStart = mouse.position;
            this._lastPos = this._dragStart;
            this._dragging = true;
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData === undefined) {
                touchDragData = new TouchDragData();
                this._touches.set(touchID, touchDragData);
            }
            touchDragData.dragging = true;
            touchDragData.dragStart = touch.position;
            touchDragData.lastPos = touchDragData.dragStart;
        }
    }
    onMouseUp(mouse, touch, touchID) {
        if (!touch) {
            if (this._dragging) {
                this._dragging = false;
                this._minDistancePassed = false;
                this.onEndDrag.call(mouse);
            }
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData)
                this._touches.delete(touchID);
            if (touchDragData && touchDragData.dragging) {
                touchDragData.dragging = false;
                touchDragData.minDistancePassed = false;
                this.onEndDrag.call(mouse, touch, touchID);
            }
        }
    }
    onMouseLeave(mouse, touch, touchID) {
        if (!touch) {
            this._dragging = false;
            this._minDistancePassed = false;
            this.onEndDrag.call(mouse);
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData) {
                touchDragData.dragging = false;
                touchDragData.minDistancePassed = false;
                this._touches.delete(touchID);
            }
            this.onEndDrag.call(mouse, touch, touchID);
        }
    }
    onMouseMove(mouse, touch, touchID) {
        if (!touch) {
            if (this._dragging) {
                if (!this._minDistancePassed) {
                    let vector = engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(this._lastPos, this._dragStart);
                    if (this.minDistance instanceof engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                        if ((Math.abs(vector.x) > this.minDistance.x) || (Math.abs(vector.y) > this.minDistance.y))
                            this._minDistancePassed = true;
                    }
                    else if (vector.magnitude > this.minDistance)
                        this._minDistancePassed = true;
                }
                if (this._minDistancePassed)
                    this.onDrag.call(engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(this._lastPos, mouse.position), mouse);
                this._lastPos = mouse.position;
            }
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData && touchDragData.dragging) {
                if (!touchDragData.minDistancePassed) {
                    let vector = engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(touchDragData.lastPos, touchDragData.dragStart);
                    if (this.minDistance instanceof engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                        if ((Math.abs(vector.x) > this.minDistance.x) || (Math.abs(vector.y) > this.minDistance.y))
                            touchDragData.minDistancePassed = true;
                    }
                    else if (vector.magnitude > this.minDistance)
                        touchDragData.minDistancePassed = true;
                }
                if (touchDragData.minDistancePassed)
                    this.onDrag.call(engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(touchDragData.lastPos, touch.position), mouse, touch, touchID);
                touchDragData.lastPos = touch.position;
            }
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/MouseTrigger.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/ui/MouseTrigger.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MouseTrigger; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class TouchData {
    constructor() {
        this.inBounds = false;
        this.clickStarted = false;
    }
}
class MouseTrigger extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._mouseInBounds = false;
        this._clickStarted = false;
        this.touches = new Map();
        this._onlyIfUnhandled = false;
    }
    get typeName() { return "MouseTrigger"; }
    get onlyIfUnhandled() { return this._onlyIfUnhandled; }
    set onlyIfUnhandled(val) { this._onlyIfUnhandled = val; }
    update({ mouse: m }) {
        if (this.interactable)
            this.checkMouseActions(m);
    }
    checkMouseActions(mouse) {
        if (!(this.onlyIfUnhandled && mouse.handled)) {
            if (this.transform.containsPoint(mouse.position)) {
                if (!this._mouseInBounds)
                    this.onMouseEnter(mouse);
                this._mouseInBounds = true;
                this.onMouseHover(mouse);
                if (mouse.isMouseMoveEvent) {
                    this.onMouseMove(mouse);
                    if (mouse.isDown)
                        this.onMouseDrag(mouse);
                }
                if (mouse.isMouseDownEvent) {
                    this._clickStarted = true;
                    this.onMouseDown(mouse);
                }
                if (mouse.isMouseUpEvent) {
                    this.onMouseUp(mouse);
                    if (this._clickStarted)
                        this.onMouseClick(mouse);
                }
            }
            else {
                if (this._mouseInBounds) {
                    this.onMouseLeave(mouse);
                    this._mouseInBounds = false;
                }
                if ((this._clickStarted) && (mouse.isMouseUpEvent))
                    this._clickStarted = false;
            }
        }
        this.checkTouchActions(mouse);
    }
    checkTouchActions(mouse) {
        this.touches.forEach(touch => touch.toDestroy = true);
        mouse.touches.forEach((t, k) => {
            if (!(this.onlyIfUnhandled && t.handled)) {
                let touch = this.touches.get(k);
                if (touch === undefined) {
                    touch = new TouchData();
                    this.touches.set(k, touch);
                }
                touch.toDestroy = false;
                if (this.transform.containsPoint(t.position)) {
                    if (!touch.inBounds)
                        this.onMouseEnter(mouse, t, k);
                    touch.inBounds = true;
                    this.onMouseHover(mouse, t, k);
                    if (t.isStartEvent) {
                        touch.clickStarted = true;
                        this.onMouseDown(mouse, t, k);
                    }
                    if (t.isMoveEvent) {
                        this.onMouseMove(mouse, t, k);
                        if (mouse.isDown)
                            this.onMouseDrag(mouse, t, k);
                    }
                    if (t.isEndEvent) {
                        this.onMouseUp(mouse, t, k);
                        touch.inBounds = false;
                        if (touch.clickStarted) {
                            this.onMouseClick(mouse, t, k);
                            touch.clickStarted = false;
                        }
                    }
                }
                else {
                    if (touch.inBounds) {
                        this.onMouseLeave(mouse, t, k);
                        touch.inBounds = false;
                    }
                    if ((touch.clickStarted) && (t.isEndEvent))
                        touch.clickStarted = false;
                }
            }
        });
        let toRemove = [];
        this.touches.forEach((touch, key) => {
            if (touch.toDestroy) {
                if (touch.inBounds)
                    this.onMouseLeave(mouse, null, key);
                toRemove.push(key);
            }
        });
        toRemove.forEach(r => this.touches.delete(r));
    }
    onMouseHover(mouse, touch, touchID) { }
    onMouseMove(mouse, touch, touchID) { }
    onMouseDown(mouse, touch, touchID) { }
    onMouseUp(mouse, touch, touchID) { }
    onMouseDrag(mouse, touch, touchID) { }
    onMouseLeave(mouse, touch, touchID) { }
    onMouseEnter(mouse, touch, touchID) { }
    onMouseClick(mouse, touch, touchID) { }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/PressHoldTrigger.ts":
/*!******************************************************!*\
  !*** ./src/engine/gameobject/ui/PressHoldTrigger.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PressHoldTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var _Timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Timer */ "./src/engine/gameobject/Timer.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");



class PressHoldTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, holdTime) {
        super(position, bounds);
        this._holdTime = holdTime;
        this._onHold = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
        this._onReleaseHold = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get onHold() { return this._onHold; }
    get onReleaseHold() { return this._onReleaseHold; }
    get holdTime() { return this._holdTime; }
    set holdTime(val) { this._holdTime = val; }
    create() {
        this._timer = this.addChild(new _Timer__WEBPACK_IMPORTED_MODULE_1__["Timer"]());
    }
    update(args) {
        super.update(args);
        if ((!this._holdEventFired) && (this._timer.time >= this._holdTime)) {
            this._onHold.call(args.mouse);
            this._timer.pause();
            this._holdEventFired = true;
        }
    }
    onMouseMove(mouse, touch, touchID) {
        if ((touch && !(touch.handled)) || (!touch && !(mouse.handled))) {
            this._timer.pause();
        }
    }
    onMouseDown(mouse, touch, touchID) {
        if ((touch && !(touch.handled)) || (!touch && !(mouse.handled))) {
            this._timer.start();
            this._holdEventFired = false;
        }
    }
    onMouseUp(mouse, touch, touchID) {
        this._timer.pause();
        if (this._holdEventFired)
            this.onReleaseHold.call(mouse);
    }
    onMouseLeave(mouse, touch, touchID) {
        this._timer.pause();
        if (this._holdEventFired)
            this.onReleaseHold.call(mouse);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/Text.ts":
/*!******************************************!*\
  !*** ./src/engine/gameobject/ui/Text.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Text; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _TextBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");


class Text extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, lines, color, size, font, lineSpacing) {
        super(position, bounds);
        this._widths = [];
        this._lines = [];
        this._countLines = 0;
        this._canvasFunction = null;
        this._color = color;
        this._fontFace = font;
        this._size = size;
        if (typeof (lines) === "string")
            this._lines = [lines];
        else
            this._lines = lines;
        this._lineSpacing = lineSpacing || 1;
    }
    get typeName() { return "Text"; }
    get color() { return this._color; }
    set color(val) { this._color = val; }
    get fontFace() { return this._fontFace; }
    get size() { return this._size; }
    get lineSpacing() { return this._lineSpacing; }
    set lineSpacing(val) { this._lineSpacing = val; }
    get centered() { return this._centered; }
    set centered(val) { this._centered = val; }
    set text(val) {
        this._lines = val.split("\n");
        this.requestDraw();
        this._recalculateTextBounds = true;
    }
    get lines() { return this._lines; }
    set lines(val) {
        this._lines = val;
        this.requestDraw();
        this._recalculateTextBounds = true;
    }
    get canvasFunction() { return this._canvasFunction; }
    set canvasFunction(val) { this._canvasFunction = val; }
    measureTextForBounds(context2D) {
        this.transform.bounds.clearDimensions();
        let tb = new _TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"](this.lines, context2D, this.color, this.size, this.fontFace, this.lineSpacing);
        this.transform.bounds.addDimension(tb.textDimension());
        this._recalculateTextBounds = false;
    }
    draw(context2D) {
        if (this.canvasFunction) {
            context2D.save();
            this.canvasFunction(context2D);
        }
        context2D.fillStyle = this.color;
        context2D.font = this.size + "pt " + this.fontFace;
        if (this._recalculateTextBounds)
            this.measureTextForBounds(context2D);
        let pos = this.transform.position.drawPositionTopLeft();
        let yPos = 0;
        let offset = 0;
        for (let i = 0; i < this._lines.length; i++) {
            if (this.centered)
                offset = (this._widest - this._widths[i]) / 2;
            else
                offset = 0;
            context2D.fillText(this._lines[i], pos.x + offset, pos.y + yPos + this.size);
            yPos += this._size * this._lineSpacing;
        }
        ;
        if (this.canvasFunction)
            context2D.restore();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/TextBuilder.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/ui/TextBuilder.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TextBuilder; });
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");



class TextBuilder {
    constructor(lines, context2D, color, size, font, lineSpacing, targetWidth) {
        this._lines = [];
        this._widths = [];
        this._countLines = 0;
        if (typeof (lines) === "string")
            this._lines = [lines];
        else
            this._lines = lines;
        this._context2D = context2D;
        this._color = color;
        this._fontFace = font;
        this._size = size;
        this._lineSpacing = lineSpacing || 1;
        this._targetWidth = targetWidth || undefined;
    }
    get color() { return this._color; }
    set color(val) { this._color = val; }
    get fontFace() { return this._fontFace; }
    get size() { return this._size; }
    get lineSpacing() { return this._lineSpacing; }
    set lineSpacing(val) { this._lineSpacing = val; }
    get centered() { return this._centered; }
    set centered(val) { this._centered = val; }
    set text(val) {
        this._lines = val.split("\n");
    }
    get lines() { return this._lines; }
    set lines(val) {
        this._lines = val;
    }
    buildText(position) {
        let textDim = this.textDimension();
        return new _Text__WEBPACK_IMPORTED_MODULE_1__["default"](position, new _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__["default"](textDim), this.lines, this.color, this.size, this.fontFace, this.lineSpacing);
    }
    textDimension() {
        let ls = [];
        if (this._targetWidth) {
            this._context2D.font = this.size + 'pt ' + this.fontFace;
            this.lines.forEach(l => ls = ls.concat(this._getWrappedLines(this._context2D, l, this._targetWidth)));
        }
        else
            ls = this.lines;
        this._context2D.font = this.size + "pt " + this.fontFace;
        let widest = 0;
        let height = 0;
        let widths = [];
        for (let i = 0; i < ls.length; i++) {
            widths[i] = this._context2D.measureText(ls[i]).width;
            widest = Math.max(widest, widths[i]);
            if (i === ls.length - 1)
                height += this.size;
            else
                height += this.size * this.lineSpacing;
        }
        this.lines = ls;
        return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](widest, height);
    }
    _getWrappedLines(context, text, maxWidth) {
        var words = text.split(' ');
        var line = '';
        let lines = [];
        for (var n = 0; n < words.length; n++) {
            var testLine = line + words[n];
            var metrics = context.measureText(testLine);
            var testWidth = metrics.width;
            if (testWidth > maxWidth && n > 0) {
                lines.push(line.trimRight());
                line = words[n] + ' ';
            }
            else
                line = testLine + ' ';
        }
        lines.push(line.trimRight());
        return lines;
    }
}


/***/ }),

/***/ "./src/engine/io/IO.ts":
/*!*****************************!*\
  !*** ./src/engine/io/IO.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return IO; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class IO {
    constructor() {
        this.onStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onStop = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onBeginStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onBeginEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onUpdateStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onUpdateEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onDrawStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onDrawEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onEndStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onEndEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._interfaces = {};
        this._ifs = [];
    }
    get interfaces() { return this._interfaces; }
    addInterface(inf, name) {
        this._interfaces[name] = inf;
        this._ifs.push(inf);
    }
    create() { this._ifs.forEach(x => x.setEvents(this)); }
}


/***/ }),

/***/ "./src/engine/io/Keyboard.ts":
/*!***********************************!*\
  !*** ./src/engine/io/Keyboard.ts ***!
  \***********************************/
/*! exports provided: Keyboard, KeyboardListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return Keyboard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyboardListener", function() { return KeyboardListener; });
class Keyboard {
    constructor() {
        this._keysDown = [];
        this._keysUp = [];
        this._keyPressesThisUpdate = [];
    }
    get keyPressesThisUpdate() { return this._keyPressesThisUpdate; }
    get keysDown() { return this._keysDown; }
    get keysUp() { return this._keysUp; }
    isKeyUp(keyValue) { return this.keysUp.indexOf(keyValue) >= 0; }
    isKeyDown(keyValue) { return this.keysDown.indexOf(keyValue) >= 0; }
    keyPriority(keya, keyb) {
        return this.keysDown.indexOf(keya) > this.keysDown.indexOf(keyb);
    }
    get key() { return this.keysDown[this.keysDown.length - 1]; }
}
class KeyboardListener extends Keyboard {
    setEvents(io) {
        io.onBeginStart.push(this.onBeginStart.bind(this));
        io.onBeginEnd.push(this.onBeginEnd.bind(this));
    }
    create() {
        document.addEventListener("keydown", this.onKeyDown.bind(this), true);
        document.addEventListener("keyup", this.onKeyUp.bind(this), true);
        document.addEventListener("keypress", this.onKeyPress.bind(this), true);
    }
    onKeyDown(event) {
        if (event.defaultPrevented)
            return;
        if (this.keysDown.indexOf(event.key) === -1)
            this.keysDown.push(event.key);
    }
    onKeyUp(event) {
        if (event.defaultPrevented)
            return;
        if (this.keysUp.indexOf(event.key) === -1)
            this.keysUp.push(event.key);
    }
    onKeyPress(event) {
        if (event.defaultPrevented)
            return;
        if (this._switchBuffer) {
            if (!(this._buffer2.indexOf(event.key) >= 0))
                this._buffer2.push(event.key);
        }
        else if (!(this.keyPressesThisUpdate.indexOf(event.key) >= 0))
            this.keyPressesThisUpdate.push(event.key);
    }
    onBeginStart() {
        this._buffer2 = [];
        this._switchBuffer = true;
    }
    onBeginEnd() {
        if (this._buffer2.length > 0)
            console.log(this._buffer2);
        this._keyPressesThisUpdate = this._buffer2.slice();
        this._switchBuffer = false;
        this._keysDown = this.keysDown.filter(x => this.keysUp.indexOf(x) < 0);
        this._keysUp = [];
    }
}


/***/ }),

/***/ "./src/engine/io/Loader.ts":
/*!*********************************!*\
  !*** ./src/engine/io/Loader.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Loader; });
/* harmony import */ var _Asset__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Asset */ "./src/engine/Asset.ts");

class Loader {
    constructor(assetsFolder) {
        this._assetsFolder = "./assets/";
        this._sharedAssets = [];
        if (assetsFolder !== undefined)
            this._assetsFolder = assetsFolder;
    }
    get assetsFolder() { return this._assetsFolder; }
    getSharedAsset(filename) {
        let existing = this._sharedAssets.filter(a => a.filename === filename);
        if (existing.length > 0)
            return existing[0];
        let a = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](filename, null, false);
        this._sharedAssets.push(a);
        return a;
    }
    loadImage(filename, onerror) {
        let image = new Image();
        let asset = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](filename, image, false);
        image.src = this.assetsFolder + filename;
        image.onload = function () {
            asset.loaded = true;
            image.onload = null;
            image.onerror = null;
        };
        image.onerror = () => {
            image.onload = null;
            image.onerror = null;
            onerror(asset);
        };
        return asset;
    }
    loadFont(...filenames) {
        let t = "";
        let name = undefined;
        filenames.forEach(f => {
            let filepath = f.split("/");
            let stringComponents = filepath[filepath.length - 1].split(".");
            if (stringComponents.length !== 2)
                throw new Error("Font names must be supplied in the format \"<path-to-file>/<name>.<format>\"");
            let fontName = stringComponents[0];
            if (!name)
                name = fontName;
            if (name !== fontName)
                throw new Error("All font format variants must have the same filename excluding extension");
            let format = stringComponents[1];
            t += "\n    src: url('" + this.assetsFolder + f + "') format('" + format + "');";
        });
        t = "@font-face {\n\
                font-family: " + name + ";" + t;
        t += "\n}";
        let newStyle = document.createElement('style');
        newStyle.appendChild(document.createTextNode(t));
        document.head.appendChild(newStyle);
        let namePlusExt = filenames[0].split("/").pop();
        let assetName = namePlusExt.split(".")[0];
        let font = new FontFaceObserver(name);
        let asset = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](assetName, name, false);
        font.load().then(() => {
            asset.loaded = true;
        }).catch((err) => {
            console.log("Error loading font");
            asset.loaded = true;
        });
        return asset;
    }
    setEvents(io) { }
}


/***/ }),

/***/ "./src/engine/io/Mouse.ts":
/*!********************************!*\
  !*** ./src/engine/io/Mouse.ts ***!
  \********************************/
/*! exports provided: Mouse, Touch, MouseListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Mouse", function() { return Mouse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Touch", function() { return Touch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MouseListener", function() { return MouseListener; });
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");

class Mouse {
    constructor() {
        this.touches = new Map();
        this._isDown = false;
        this._position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._canvas = null;
        this._isMouseDownEvent = false;
        this._isMouseUpEvent = false;
        this._isMouseMoveEvent = false;
        this._handled = false;
    }
    get isDown() { return this._isDown; }
    get position() { return this._position; }
    get isMouseDownEvent() { return this._isMouseDownEvent; }
    get isMouseUpEvent() { return this._isMouseUpEvent; }
    get isMouseMoveEvent() { return this._isMouseMoveEvent; }
    get handled() { return this._handled; }
    setHandled(touch) {
        if (touch)
            touch.handled = true;
        else
            this._handled = true;
    }
}
class Touch {
    constructor() {
        this.isStartEvent = false;
        this.isEndEvent = false;
        this.isMoveEvent = false;
        this.handled = false;
    }
}
class MouseListener extends Mouse {
    get isDown() { return this._isDown; }
    set isDown(val) { this._isDown = val; }
    get isMouseDownEvent() { return this._isMouseDownEvent; }
    set isMouseDownEvent(val) { this._isMouseDownEvent = val; }
    get isMouseUpEvent() { return this._isMouseUpEvent; }
    set isMouseUpEvent(val) { this._isMouseUpEvent = val; }
    get isMouseMoveEvent() { return this._isMouseMoveEvent; }
    set isMouseMoveEvent(val) { this._isMouseMoveEvent = val; }
    setEvents(io) { io.onUpdateEnd.push(this.onUpdateEnd.bind(this), this); }
    addTo(doc, canvas) {
        this._canvas = canvas;
        canvas.addEventListener("mousedown", this.mouseDown.bind(this), false);
        canvas.addEventListener("mousemove", this.mouseXY.bind(this), false);
        canvas.addEventListener("touchstart", this.touchStart.bind(this), false);
        canvas.addEventListener("touchmove", this.touchXY.bind(this), true);
        canvas.addEventListener("touchend", this.touchEnd.bind(this), false);
        doc.body.addEventListener("mouseup", this.mouseUp.bind(this), false);
        doc.body.addEventListener("touchcancel", this.touchEnd.bind(this), false);
    }
    onUpdateEnd() {
        this.isMouseDownEvent = false;
        this.isMouseUpEvent = false;
        this.isMouseMoveEvent = false;
        this._handled = false;
        let toRemove = [];
        this.touches.forEach((touch, key) => {
            touch.isStartEvent = false;
            touch.isEndEvent = false;
            touch.isMoveEvent = false;
            touch.handled = false;
            if (touch.isEndEvent)
                toRemove.push(key);
        });
        toRemove.forEach(r => this.touches.delete(r));
    }
    mouseUp(e) {
        this.isDown = false;
        this.isMouseUpEvent = true;
        this.mouseXY(e);
    }
    touchEnd(e) {
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let t = this.touches.get(e.changedTouches[i].identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(e.changedTouches[i].identifier, t);
            }
            t.isEndEvent = true;
        }
    }
    mouseDown(e) {
        this.isDown = true;
        this.isMouseDownEvent = true;
        this._position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.pageX - this._canvas.offsetLeft, e.pageY - this._canvas.offsetTop);
    }
    touchStart(e) {
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let touch = e.changedTouches[i];
            let t = this.touches.get(touch.identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(touch.identifier, t);
            }
            touch.isEndEvent = false;
            touch.isMoveEvent = false;
            touch.handled = false;
            t.isStartEvent = true;
            t.position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.changedTouches[i].pageX - this._canvas.offsetLeft, e.changedTouches[i].pageY - this._canvas.offsetTop);
        }
    }
    mouseXY(e) {
        this.isMouseMoveEvent = true;
        this._position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.pageX - this._canvas.offsetLeft, e.pageY - this._canvas.offsetTop);
    }
    touchXY(e) {
        e.preventDefault();
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let t = this.touches.get(e.changedTouches[i].identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(e.changedTouches[i].identifier, t);
            }
            t.isMoveEvent = true;
            t.position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.changedTouches[i].pageX - this._canvas.offsetLeft, e.changedTouches[i].pageY - this._canvas.offsetTop);
        }
    }
}


/***/ }),

/***/ "./src/engine/io/Timing.ts":
/*!*********************************!*\
  !*** ./src/engine/io/Timing.ts ***!
  \*********************************/
/*! exports provided: Timing, TimingListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timing", function() { return Timing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimingListener", function() { return TimingListener; });
class Timing {
    constructor() {
        this.loopStart = 0;
        this.loopTime = 0;
        this.beginStart = 0;
        this.beginTime = 0;
        this.updateStart = 0;
        this.updateTime = 0;
        this.drawStart = 0;
        this.drawTime = 0;
        this.endStart = 0;
        this.endTime = 0;
        this.slowDown = 0;
        this.fps = 0;
        this.updateSteps = 0;
        this.mainLoopTimestamp = 0;
        this.delta = 0;
        this.deltaS = 0;
    }
}
class TimingListener extends Timing {
    setEvents(io) {
        io.onBeginStart.push(this.onBeginStart.bind(this), this);
        io.onBeginEnd.push(this.onBeginEnd.bind(this), this);
        io.onUpdateStart.push(this.onUpdateStart.bind(this), this);
        io.onUpdateEnd.push(this.onUpdateEnd.bind(this), this);
        io.onDrawStart.push(this.onDrawStart.bind(this), this);
        io.onDrawEnd.push(this.onDrawEnd.bind(this), this);
        io.onEndStart.push(this.onEndStart.bind(this), this);
        io.onEndEnd.push(this.onEndEnd.bind(this), this);
    }
    onBeginStart(timestamp, delta) {
        this.mainLoopTimestamp = timestamp;
        this.loopStart = Date.now();
        this.beginStart = Date.now();
        this.updateSteps = MainLoop.getNumUpdateSteps();
        this.delta = delta;
        this.deltaS = delta / 1000;
    }
    onBeginEnd() {
        this.delay((Date.now() - this.beginStart) * this.slowDown);
        this.beginTime = Date.now() - this.beginStart;
    }
    onUpdateStart(delta) {
        this.updateStart = Date.now();
        this.delta = delta;
        this.deltaS = delta / 1000;
    }
    onUpdateEnd() {
        this.delay((Date.now() - this.updateStart) * this.slowDown);
        this.updateTime = Date.now() - this.updateStart;
    }
    onDrawStart() {
        this.drawStart = Date.now();
    }
    onDrawEnd() {
        this.delay((Date.now() - this.drawStart) * this.slowDown);
        this.drawTime = Date.now() - this.drawStart;
    }
    onEndStart(fps) {
        this.endStart = Date.now();
        this.fps = fps;
    }
    onEndEnd() {
        this.delay((Date.now() - this.endStart) * this.slowDown);
        this.endTime = Date.now() - this.endStart;
        this.loopTime = Date.now() - this.loopStart;
    }
    delay(time) {
        if (time <= 0)
            return;
        let start = Date.now();
        let now = start;
        while (true) {
            now = Date.now();
            if (now - start > time)
                break;
        }
    }
}


/***/ }),

/***/ "./src/engine/transform/Bounds.ts":
/*!****************************************!*\
  !*** ./src/engine/transform/Bounds.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Bounds; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");



class Bounds {
    constructor(...dimensions) {
        this._dimensions = [];
        this._referenceWidth = undefined;
        this._targetAspectRatio = undefined;
        this._minDimension = undefined;
        this._maxDimension = undefined;
        this._transform = null;
        this._cachedDimension = new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0);
        this._onResize = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._dirty = true;
        this.calculating = false;
        this.calculationFailed = false;
        this._dimensions = dimensions;
    }
    ;
    get transform() { return this._transform; }
    set transform(val) { this._transform = val; }
    get dirty() { return this._dirty; }
    set dirty(val) { this._dirty = val; }
    get cachedDimension() { return this._cachedDimension; }
    set cachedDimension(val) { this._cachedDimension = val; }
    get onResize() { return this._onResize; }
    get devicePixelRatio() { return window.devicePixelRatio; }
    get parentBounds() {
        if (this.transform)
            if (this.transform.parent)
                return this.transform.parent.bounds;
        return null;
    }
    get targetAspectRatio() { return this._targetAspectRatio; }
    set targetAspectRatio(aspectRatio) { this._targetAspectRatio = aspectRatio; }
    get maxDimension() { return this._maxDimension; }
    set maxDimension(val) { this._maxDimension = val; }
    get minDimension() { return this._minDimension; }
    set minDimension(val) { this._minDimension = val; }
    addDimension(dim) {
        this._dimensions.push(dim);
        if (this.transform.gameObject.created) {
            if (this.hasResized())
                this._onChange();
        }
        return dim;
    }
    clearDimensions() {
        this._dimensions = [];
        if (this.hasResized())
            this._onChange();
    }
    get dimensions() { return this._dimensions; }
    get dimension() {
        if (!(this.dirty))
            return this._cachedDimension;
        this.calculationFailed = false;
        let tmp = this._calculateDimension();
        this.dirty = this.calculationFailed;
        if (this.calculationFailed)
            this.transform.positioningIsDirty();
        this._cachedDimension = tmp;
        return this._cachedDimension;
    }
    get referenceWidth() {
        if (this._referenceWidth !== undefined)
            return this._referenceWidth;
        if (this.parentBounds)
            return this.parentBounds.referenceWidth;
        return undefined;
    }
    set referenceWidth(referenceWidth) { this._referenceWidth = referenceWidth; }
    get referenceHeight() {
        if (this._referenceWidth !== undefined)
            return this.referenceWidth * this.dimension.aspect;
        if (this.parentBounds)
            return this.parentBounds.referenceHeight;
        return undefined;
    }
    get referenceScale() {
        if (this._referenceWidth !== undefined)
            return this.dimension.pixelWidth(this.parentBounds) / this._referenceWidth;
        if (this.parentBounds)
            return this.parentBounds.referenceScale;
        return 0;
    }
    destroy() {
        this.onResize.removeAll();
        this._dimensions.forEach(d => d.destroy());
    }
    _limitDimension(dimension) {
        let nWidth = dimension.width;
        let nHeight = dimension.height;
        if (this.minDimension) {
            if (this.minDimension.pixelWidth(this.parentBounds))
                nWidth = Math.max(nWidth, this.minDimension.pixelWidth(this.parentBounds));
            if (this.minDimension.pixelHeight(this.parentBounds))
                nHeight = Math.max(nHeight, this.minDimension.pixelHeight(this.parentBounds));
        }
        if (this.maxDimension) {
            if (this.maxDimension.pixelWidth(this.parentBounds))
                nWidth = Math.min(nWidth, this.maxDimension.pixelWidth(this.parentBounds));
            if (this.maxDimension.pixelHeight(this.parentBounds))
                nHeight = Math.min(nHeight, this.maxDimension.pixelHeight(this.parentBounds));
        }
        if (this.targetAspectRatio) {
            if (nHeight < nWidth * this.targetAspectRatio)
                nWidth = nHeight * (1 / this.targetAspectRatio);
            else
                nHeight = nWidth * this.targetAspectRatio;
        }
        return new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](nWidth, nHeight);
    }
    _calculateDimension() {
        this.calculating = true;
        let width = 0;
        let height = 0;
        let dim = null;
        if (this.transform)
            this._dimensions.forEach(d => {
                dim = d.asSimplePixelDimension(this.parentBounds);
                if ((dim.width === undefined) || (dim.height === undefined))
                    this.calculationFailed = true;
                else {
                    width += dim.width;
                    height += dim.height;
                }
            });
        let result = this._limitDimension(new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](width, height));
        this.calculating = false;
        return result;
    }
    hasResized() {
        if (this.dirty)
            return true;
        let dim = this._calculateDimension();
        return (!_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(dim, this._cachedDimension));
    }
    hasResizedAutoUpdate() {
        if (this.dirty)
            return true;
        let dim = this._calculateDimension();
        let r = (!_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(dim, this._cachedDimension));
        if (r)
            this._cachedDimension = dim;
        return r;
    }
    _onChange() {
        if (this.transform) {
            this.transform.recalculate();
            _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this.onResize);
        }
    }
    checkForUpdatedDimensions() {
        let updated = false;
        let d;
        for (let i = 0; i < this._dimensions.length; i++) {
            d = this._dimensions[i];
            if (d.updated) {
                updated = true;
                break;
            }
            if (d instanceof _dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_2__["default"])
                if (!(d.previousDimension) || !(_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(d.dimensionDontUpdatePrevious(this.transform.bounds), d.previousDimension))) {
                    updated = true;
                    break;
                }
        }
        if (updated) {
            this._onChange();
            this.dimensions.forEach(d => d.updated = false);
        }
    }
}


/***/ }),

/***/ "./src/engine/transform/Position.ts":
/*!******************************************!*\
  !*** ./src/engine/transform/Position.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Position; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./translation/ConditionalTranslation */ "./src/engine/transform/translation/ConditionalTranslation.ts");
/* harmony import */ var _translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _translation_AdjacentTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./translation/AdjacentTranslation */ "./src/engine/transform/translation/AdjacentTranslation.ts");




class Position {
    constructor(...Translations) {
        this._transform = null;
        this._resetDrawPos = false;
        this._cachedAbsolutePosition = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._cachedDrawPosition = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._drawCacheDirty = true;
        this._absoluteCacheDirty = true;
        this._translations = Translations;
    }
    get transform() { return this._transform; }
    set transform(val) { this._transform = val; }
    get resetDrawPos() { return this._resetDrawPos; }
    set resetDrawPos(val) { this._resetDrawPos = val; }
    get drawCacheDirty() { return this._drawCacheDirty; }
    set drawCacheDirty(val) { this._drawCacheDirty = val; }
    get absoluteCacheDirty() { return this._absoluteCacheDirty; }
    set absoluteCacheDirty(val) { this._absoluteCacheDirty = val; }
    get translations() { return this._translations; }
    addTranslation(...translations) {
        if (translations.length > 1)
            translations.forEach(t => this.addTranslation(t));
        else {
            let translation = translations[0];
            let found = false;
            if (translation.preserve)
                this._translations.forEach(t => {
                    if (!t.preserve)
                        if ((t.constructor === translation.constructor) && (_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(t.anchor, translation.anchor))) {
                            if (t instanceof _translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                                let rb1 = t.referenceBounds;
                                let rb2 = translation.referenceBounds;
                                if (rb1 === rb2) {
                                    found = true;
                                    t.position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](t.position.x + translation.position.x, t.position.y + translation.position.y);
                                }
                            }
                            else if ((t instanceof _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__["default"]) || (t instanceof _translation_AdjacentTranslation__WEBPACK_IMPORTED_MODULE_3__["default"])) { }
                            else {
                                found = true;
                                t.position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](t.position.x + translation.position.x, t.position.y + translation.position.y);
                            }
                        }
                });
            if (!found)
                this._translations.push(translation);
            if (this.transform.gameObject.created)
                if (this.hasMoved())
                    this._onChange();
        }
    }
    clearTranslations() {
        this._translations = [];
        if (this.hasMoved())
            this._onChange();
    }
    absolutePositionTopLeft() {
        if (!(this.absoluteCacheDirty))
            return this._cachedAbsolutePosition;
        let tmp = this._calcuateAbsolutePosition();
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(tmp, this._cachedAbsolutePosition)) {
            if (this.transform)
                this.transform.positioningIsDirty();
        }
        else
            this.absoluteCacheDirty = false;
        this._cachedAbsolutePosition = tmp;
        return this._cachedAbsolutePosition;
    }
    drawPositionTopLeft() {
        if (this._resetDrawPos)
            return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        if (!(this._drawCacheDirty))
            return this._cachedDrawPosition;
        let tmp = this._calculateDrawPosition();
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(tmp, this._cachedDrawPosition)) {
            if (this.transform)
                this.transform.positioningIsDirty();
        }
        else
            this._drawCacheDirty = false;
        this._cachedDrawPosition = tmp;
        return this._cachedDrawPosition;
    }
    destroy() {
        this._translations.forEach(t => t.destroy());
    }
    checkForUpdatedTranslations() {
        let updated = false;
        let t;
        for (let i = 0; i < this._translations.length; i++) {
            t = this._translations[i];
            if (t.updated) {
                updated = true;
                break;
            }
            if (t instanceof _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__["default"])
                if ((!(t.previousAbsolutePosition)) || (!(_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(t.absolutePositionDontUpdatePrevious(this.transform.bounds), t.previousAbsolutePosition)))) {
                    updated = true;
                    break;
                }
        }
        if (updated) {
            this._onChange();
            this._translations.forEach(d => d.updated = false);
        }
    }
    get position() { return this.absolutePositionTopLeft(); }
    get drawPosition() { return this.drawPositionTopLeft(); }
    hasMoved() {
        if (this.absoluteCacheDirty)
            return true;
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this._calcuateAbsolutePosition(), this._cachedAbsolutePosition));
    }
    hasMovedAutoUpdate() {
        if (this.absoluteCacheDirty)
            return true;
        let oldCache = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](this._cachedAbsolutePosition.x, this._cachedAbsolutePosition.y);
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this.absolutePositionTopLeft(), oldCache));
    }
    hasMovedDrawAutoUpdate() {
        if (this.drawCacheDirty)
            return true;
        let oldCache = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](this._cachedDrawPosition.x, this._cachedDrawPosition.y);
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this.drawPositionTopLeft(), oldCache));
    }
    _onChange() {
        if (this.transform)
            this.transform.recalculate();
    }
    _calcuateAbsolutePosition() {
        let tmpPos;
        let x = 0;
        let y = 0;
        this._translations.forEach(t => {
            if (this.transform) {
                tmpPos = t.absolutePositionTopLeft(this.transform.bounds);
                x += tmpPos.x;
                y += tmpPos.y;
            }
        });
        if (this.transform)
            if (this.transform.parent)
                if (this.transform.parent.hasPosition()) {
                    tmpPos = this.transform.parent.getCanonicalPosition();
                    x += tmpPos.x;
                    y += tmpPos.y;
                }
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x, y);
    }
    _calculateDrawPosition() {
        if (this._resetDrawPos)
            return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        let tmpPos;
        let x = 0;
        let y = 0;
        this._translations.forEach(t => {
            if (this.transform) {
                tmpPos = t.absolutePositionTopLeft(this.transform.bounds);
                x += tmpPos.x;
                y += tmpPos.y;
            }
        });
        if (this.transform)
            if (this.transform.parent)
                if (this.transform.parent.hasPosition()) {
                    tmpPos = this.transform.parent.getDrawPosition();
                    x += tmpPos.x;
                    y += tmpPos.y;
                }
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x, y);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/ConditionalDimension.ts":
/*!****************************************************************!*\
  !*** ./src/engine/transform/dimension/ConditionalDimension.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ConditionalDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class ConditionalDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(conditionalFunction) {
        super(0, 0);
        this._conditionalFunction = conditionalFunction;
    }
    get previousDimension() { return this._previousDimension; }
    pixelWidth(bounds) { return this._conditionalDim(bounds).width; }
    pixelHeight(bounds) { return this._conditionalDim(bounds).height; }
    _conditionalDim(bounds) {
        let dim = null;
        if (bounds)
            dim = bounds.dimension;
        this._previousDimension = this._conditionalFunction(dim);
        return this._previousDimension;
    }
    dimensionDontUpdatePrevious(bounds) {
        return this._conditionalFunction(bounds.dimension);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/Dimension.ts":
/*!*****************************************************!*\
  !*** ./src/engine/transform/dimension/Dimension.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Dimension; });
class Dimension {
    constructor(width, height) {
        this._updated = false;
        this._preserve = false;
        this._width = width;
        this._height = height;
    }
    markAsUpdated() { this.updated = true; }
    destroy() { }
    get updated() { return this._updated; }
    set updated(val) { this._updated = val; }
    get width() { return this._width; }
    set width(val) {
        if (val !== this.width)
            this.updated = true;
        this._width = val;
    }
    get height() { return this._height; }
    set height(val) {
        if (val !== this._height)
            this.updated = true;
        this._height = val;
    }
    pixelWidth(bounds) { return this.width; }
    pixelHeight(bounds) { return this.height; }
    physicalPixelWidth(bounds) { return this.pixelWidth(bounds) * bounds.devicePixelRatio; }
    physicalPixelHeight(bounds) { return this.pixelHeight(bounds) * bounds.devicePixelRatio; }
    asSimplePixelDimension(bounds) { return new Dimension(this.pixelWidth(bounds), this.pixelHeight(bounds)); }
    get aspect() { return this.height / this.width; }
    get preserve() { return this._preserve; }
    set preserve(val) { this._preserve = val; }
    static add(a, b) {
        return new Dimension(a.width + b.width, a.height + b.height);
    }
    static equals(a, b) {
        return (a.width === b.width) && (a.height === b.height);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/PixelDimension.ts":
/*!**********************************************************!*\
  !*** ./src/engine/transform/dimension/PixelDimension.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PixelDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class PixelDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    pixelWidth(bounds) { return this.width; }
    pixelHeight(bounds) { return this.height; }
}


/***/ }),

/***/ "./src/engine/transform/dimension/ProportionalDimension.ts":
/*!*****************************************************************!*\
  !*** ./src/engine/transform/dimension/ProportionalDimension.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ProportionalDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class ProportionalDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(width, height, referenceBounds) {
        super(width, height);
        if (referenceBounds) {
            this._referenceBounds = referenceBounds;
            this._referenceBounds.onResize.push(this.markAsUpdated.bind(this), this);
        }
    }
    destroy() {
        if (this._referenceBounds)
            this._referenceBounds.onResize.unregister(this);
    }
    pixelWidth(bounds) {
        if (this._referenceBounds) {
            if (this._referenceBounds.calculating)
                return this.width * this._referenceBounds.cachedDimension.width;
            else
                return this.width * this._referenceBounds.dimension.width;
        }
        else if (bounds)
            return this.width * bounds.dimension.width;
        return 0;
    }
    pixelHeight(bounds) {
        if (this._referenceBounds) {
            if (this._referenceBounds.calculating)
                return this.height * this._referenceBounds.cachedDimension.height;
            else
                return this.height * this._referenceBounds.dimension.height;
        }
        else if (bounds)
            return this.height * bounds.dimension.height;
        return 0;
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/RelativeDimension.ts":
/*!*************************************************************!*\
  !*** ./src/engine/transform/dimension/RelativeDimension.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RelativeDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class RelativeDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    pixelWidth(bounds) {
        if (bounds)
            return this.width * bounds.referenceScale;
        return undefined;
    }
    pixelHeight(bounds) {
        if (bounds)
            return this.height * bounds.referenceScale;
        return undefined;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/AdjacentTranslation.ts":
/*!*****************************************************************!*\
  !*** ./src/engine/transform/translation/AdjacentTranslation.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AdjacentTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");


class AdjacentTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(target, offset) {
        super(0, 0, new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0));
        this.target = target;
        this.offset = offset;
    }
    absolutePosition(bounds) {
        let container = bounds.transform.parent;
        let newPos = null;
        let tlPos = _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"].minus(this.target.position.absolutePositionTopLeft(), container.position.absolutePositionTopLeft());
        if (bounds.dimension.height + this.offset < tlPos.y)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x, tlPos.y - this.offset - bounds.dimension.height);
        else if (bounds.dimension.width + this.offset < tlPos.x)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x - this.offset - bounds.dimension.width, tlPos.y);
        else if (bounds.dimension.height + this.offset + tlPos.y < container.bounds.dimension.height)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x, tlPos.y + this.target.bounds.dimension.height + this.offset);
        else if (bounds.dimension.width + this.offset + tlPos.x < container.bounds.dimension.width)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x + this.target.bounds.dimension.width + this.offset, tlPos.y);
        return newPos;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/ConditionalTranslation.ts":
/*!********************************************************************!*\
  !*** ./src/engine/transform/translation/ConditionalTranslation.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ConditionalTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");


class ConditionalTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(conditionalFunction, anchor) {
        if (anchor instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            super(0, 0, anchor);
        }
        else if (typeof anchor === "boolean") {
            super(0, 0);
        }
        else
            super(0, 0);
        this._conditionalFunction = conditionalFunction;
    }
    get previousAbsolutePosition() {
        return this._previousAbsolutePosition;
    }
    absolutePosition(bounds) {
        let pDim = null;
        if (bounds.parentBounds)
            pDim = bounds.parentBounds.dimension;
        this._previousAbsolutePosition = this._conditionalFunction(bounds.transform, pDim);
        return this._previousAbsolutePosition;
    }
    absolutePositionDontUpdatePrevious(bounds) {
        return this._conditionalFunction(bounds.transform, bounds.parentBounds.dimension);
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/PixelTranslation.ts":
/*!**************************************************************!*\
  !*** ./src/engine/transform/translation/PixelTranslation.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PixelTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");

class PixelTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    absolutePosition(bounds) {
        return this.position;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/ProportionalTranslation.ts":
/*!*********************************************************************!*\
  !*** ./src/engine/transform/translation/ProportionalTranslation.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ProportionalTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Bounds */ "./src/engine/transform/Bounds.ts");



class ProportionalTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(x, y, anchor, referenceBounds) {
        if (x instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            if (y instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                super(x, y);
                if (anchor instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = anchor;
            }
            else {
                super(x);
                if (y instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = y;
            }
        }
        else if ((typeof (x) === "number") && (typeof (y) === "number")) {
            if (anchor instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                super(x, y, anchor);
                if (referenceBounds)
                    this._referenceBounds = referenceBounds;
            }
            else {
                super(x, y);
                if (anchor instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = anchor;
            }
        }
        if (this._referenceBounds)
            this._referenceBounds.onResize.push(this.markAsUpdated.bind(this), this);
    }
    get referenceBounds() { return this._referenceBounds; }
    absolutePosition(bounds) {
        let dim = null;
        if (this._referenceBounds)
            dim = this._referenceBounds.dimension;
        else if (bounds.parentBounds)
            dim = bounds.parentBounds.dimension;
        else
            return new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0);
        let x = this.position.x * dim.width;
        let y = this.position.y * dim.height;
        return new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](x, y);
    }
    destroy() {
        if (this._referenceBounds)
            this._referenceBounds.onResize.unregister(this);
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/Translation.ts":
/*!*********************************************************!*\
  !*** ./src/engine/transform/translation/Translation.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Translation; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");

class Translation {
    constructor(x, y, anchor) {
        this._anchor = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._updated = false;
        this._preserve = false;
        if (x instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            this._position = x;
            if (y instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                this.anchor = y;
        }
        else {
            if ((typeof (x) === "number") && (typeof (y) === "number"))
                this._position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x || 0, y || 0);
            if (anchor)
                this.anchor = anchor;
        }
    }
    get updated() { return this._updated; }
    set updated(val) { this._updated = val; }
    markAsUpdated() { this.updated = true; }
    get position() { return this._position; }
    set position(val) {
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(val, this.position))
            this.markAsUpdated();
        this._position = val;
    }
    get preserve() { return this._preserve; }
    set preserve(val) { this._preserve = val; }
    get anchor() { return this._anchor; }
    set anchor(val) {
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(val, this.anchor))
            this.markAsUpdated();
        this._anchor = val;
    }
    anchorOffset(bounds) {
        let dim = bounds.dimension;
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](dim.width * this.anchor.x, dim.height * this.anchor.y);
    }
    absolutePositionTopLeft(bounds) { return _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(this.absolutePosition(bounds), this.anchorOffset(bounds)); }
    destroy() { }
}


/***/ }),

/***/ "./src/engine/util/Event.ts":
/*!**********************************!*\
  !*** ./src/engine/util/Event.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Event; });
class Pair {
    constructor(key, value) {
        this.key = key;
        this.value = value;
    }
}
class DuplicateMap {
    constructor() {
        this.entries = [];
    }
    get length() { return this.entries.length; }
    push(key, value) { this.entries.push(new Pair(key, value)); }
    delete(key, value) {
        let newEntries = [];
        this.entries.forEach(x => {
            if (x.key !== key)
                newEntries.push(x);
            else if ((value) && (x.value !== value))
                newEntries.push(x);
        });
        this.entries = newEntries;
    }
    deleteValue(value) {
        let newEntries = [];
        this.entries.forEach(x => {
            if (x.value !== value)
                newEntries.push(x);
        });
        this.entries = newEntries;
    }
    clear() {
        this.entries = [];
    }
    forEach(f) {
        this.entries.forEach(f);
    }
}
class Event {
    constructor() {
        this._callbacks = new DuplicateMap();
    }
    call(...args) {
        for (let i = 0, len = this._callbacks.entries.length; i < len; i++)
            this._callbacks.entries[i].value(...args);
    }
    push(callback, creator) {
        this._callbacks.push(creator, callback);
        return this;
    }
    unregister(creator) {
        this._callbacks.delete(creator);
    }
    removeAll() {
        this._callbacks.clear();
    }
    static link(source, dest, creator) {
        if (source && dest)
            source.push(dest.call.bind(dest), creator);
    }
    static call(event, ...args) {
        if (event)
            event.call.bind(event)(...args);
    }
}


/***/ }),

/***/ "./src/engine/util/ObserverVariable.ts":
/*!*********************************************!*\
  !*** ./src/engine/util/ObserverVariable.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ObserverVariable; });
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Event */ "./src/engine/util/Event.ts");

class ObserverVariable {
    constructor(value) {
        this._value = value;
        this._onUpdate = new _Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    get onUpdate() { return this._onUpdate; }
    get value() { return this._value; }
    set value(val) {
        let update = (val !== this._value);
        this._value = val;
        if (update)
            _Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this.onUpdate, val);
    }
    clear() {
        this._onUpdate.removeAll();
    }
}


/***/ }),

/***/ "./src/engine/util/Point.ts":
/*!**********************************!*\
  !*** ./src/engine/util/Point.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point; });
class Point {
    constructor(x, y) {
        this._x = x || 0;
        this._y = y || 0;
    }
    get x() { return this._x; }
    get y() { return this._y; }
    get magnitude() { return Math.sqrt(this._x * this._x + this._y * this._y); }
    get isZero() { return (this.x === 0) && (this.y === 0); }
    static add(a, b) {
        let x = a.x + b.x;
        let y = a.y + b.y;
        return new Point(x, y);
    }
    static minus(a, b) {
        if (!b) {
            return this.minus(new Point(0, 0), a);
        }
        let x = a.x - b.x;
        let y = a.y - b.y;
        return new Point(x, y);
    }
    static multiply(p, s) {
        if (s instanceof Point)
            return new Point(p.x * s.x, p.y * s.y);
        else
            return new Point(p.x * s, p.y * s);
    }
    static dotProduct(p, s) {
        return (p.x * s.x + p.y * s.y);
    }
    static divide(p, s) {
        let x = p.x / s;
        let y = p.y / s;
        return new Point(x, y);
    }
    static crossProduct(p, s) {
        return p.x * s.y - p.y * s.x;
    }
    static equals(a, b) {
        return ((a.x === b.x) && (a.y === b.y));
    }
    static distance(a, b) {
        let x = a.x - b.x;
        let y = a.y - b.y;
        return Math.sqrt(x * x + y * y);
    }
    rotate(angle) {
        let x = Math.cos(angle) * this._x + -Math.sin(angle) * this._y;
        let y = Math.sin(angle) * this._x + Math.cos(angle) * this._y;
        return new Point(x, y);
    }
    closestPoint(points) {
        let smallestDistance = undefined;
        let winner;
        points.forEach(p => {
            let d = Point.minus(p, this).magnitude;
            if ((smallestDistance === undefined) || (d < smallestDistance)) {
                smallestDistance = d;
                winner = p;
            }
        });
        return winner;
    }
    get normalised() {
        if ((this.x === this.y) || (this.x === 0) || (this.y === 0)) {
            let magnitude = this.magnitude;
            return new Point(this.x / magnitude, this.y / magnitude);
        }
        else
            throw new Error("Not implemented yet");
    }
    static angleBetween(a, b) {
        return Math.atan2(b.y, b.x) - Math.atan2(a.y, a.x);
    }
    projectionIn(vector) {
        return Point.dotProduct(this, vector.normalised);
    }
    static angleToUnitVector(angle) {
        return new Point(Math.cos(angle), Math.sin(angle));
    }
    asAngle() {
        return Math.atan2(this.x, this.y);
    }
}


/***/ }),

/***/ "./src/engine/util/Point3.ts":
/*!***********************************!*\
  !*** ./src/engine/util/Point3.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point3; });
class Point3 {
    constructor(x, y, z) {
        if (Array.isArray(x)) {
            this._x = x[0];
            this._y = x[1];
            this._z = x[2];
        }
        else if (x instanceof Point3) {
            this._x = x.x;
            this._y = x.y;
            this._z = x.z;
        }
        else {
            this._x = x || 0;
            this._y = y || 0;
            this._z = z || 0;
        }
    }
    get x() { return this._x; }
    get y() { return this._y; }
    get z() { return this._z; }
    set x(val) { this._x = val; }
    set y(val) { this._y = val; }
    set z(val) { this._z = val; }
    equals(b) {
        return ((this.x === b.x) && (this.y === b.y) && (this.z === b.z));
    }
    static equals(a, b) {
        return ((a.x === b.x) && (a.y === b.y) && (a.z === b.z));
    }
    static minus(a, b) {
        if (!b) {
            return this.minus(new Point3(0, 0, 0), a);
        }
        let x = a.x - b.x;
        let y = a.y - b.y;
        let z = a.z - b.z;
        return new Point3(x, y, z);
    }
    minus(a) {
        let x = this.x - a.x;
        let y = this.y - a.y;
        let z = this.z - a.z;
        return new Point3(x, y, z);
    }
    plus(a) {
        let x = this.x + a.x;
        let y = this.y + a.y;
        let z = this.z + a.z;
        return new Point3(x, y, z);
    }
    multiply(s) {
        if (s instanceof Point3) {
            let x = this.x * s.x;
            let y = this.y * s.y;
            let z = this.z * s.z;
            return new Point3(x, y, z);
        }
        else {
            let x = this.x * s;
            let y = this.y * s;
            let z = this.z * s;
            return new Point3(x, y, z);
        }
    }
    get normalised() {
        if (((this.x === this.y) || (this.x === 0) || (this.y === 0)) && ((this.y === this.z) || (this.y === 0) || (this.z === 0))) {
            let magnitude = this.magnitude;
            return new Point3(this.x / magnitude, this.y / magnitude, this.z / magnitude);
        }
        else
            throw new Error("Not implemented yet");
    }
    get magnitude() {
        return Math.sqrt((this.x * this.x) + (this.y * this.y) + (this.z * this.z));
    }
}


/***/ }),

/***/ "./src/engine/util/PolyShape.ts":
/*!**************************************!*\
  !*** ./src/engine/util/PolyShape.ts ***!
  \**************************************/
/*! exports provided: PolyShape, ConvexPolygon, PolyLine, PolyEdge, PolyRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyShape", function() { return PolyShape; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConvexPolygon", function() { return ConvexPolygon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyLine", function() { return PolyLine; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyEdge", function() { return PolyEdge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyRect", function() { return PolyRect; });
/* harmony import */ var _Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _gameobject_PolygonCollision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gameobject/PolygonCollision */ "./src/engine/gameobject/PolygonCollision.ts");


class PolyShape {
    get points() { return this._points; }
    get edges() {
        let e = [];
        for (let i = 0; i < this.points.length - 1; i++) {
            e.push(new PolyEdge([this.points[i], this.points[i + 1]]));
        }
        e.push(new PolyEdge([this.points[this.points.length - 1], this.points[0]]));
        return e;
    }
    constructor(points) {
        this._points = points;
    }
    centerPoint() {
        let xTotal = 0;
        let yTotal = 0;
        this.points.forEach(p => {
            xTotal += p.x;
            yTotal += p.y;
        });
        return new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](xTotal / this.points.length, yTotal / this.points.length);
    }
    maximumProjectionOnVector(vector) {
        let currentMax = undefined;
        let leadingPoint = null;
        let unitVector = vector.normalised;
        this.points.forEach(p => {
            let proj = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(p, unitVector);
            if ((currentMax === undefined) || (proj > currentMax)) {
                leadingPoint = p;
                currentMax = proj;
            }
        });
        return leadingPoint;
    }
}
class ConvexPolygon extends PolyShape {
    constructor() {
        super(...arguments);
        this._clockwise = true;
    }
    get clockwise() { return this._clockwise; }
    set clockwise(val) { this._clockwise = val; }
    clone(newPoints) {
        let p = new ConvexPolygon(newPoints);
        p.clockwise = this.clockwise;
        return p;
    }
    intersects(other) {
        this.points.forEach(p => { if (other.containsPoint(p))
            return true; });
        other.points.forEach(p => { if (this.containsPoint(p))
            return true; });
        return false;
    }
    contains(other) {
        other.points.forEach(p => { if (!(this.containsPoint(p)))
            return false; });
        return true;
    }
    intersectionsWithEdge(start, end) {
        let intersections = [];
        this.edges.forEach(e => {
            let point = e.pointOfIntersectionWithEdge(start, end);
            if (point)
                intersections.push(new _gameobject_PolygonCollision__WEBPACK_IMPORTED_MODULE_1__["Intersection"](point, e));
        });
        return intersections;
    }
    containsPoint(point, y) {
        let x = 0;
        if (point instanceof _Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            y = point.y;
            x = point.x;
        }
        else
            x = point;
        this.edges.forEach(e => {
            if (!(this.rightOfEdge(x, y, e))
                || (!(this.clockwise) && !(this.leftOfEdge(x, y, e)))) {
                return false;
            }
        });
        return true;
    }
    rightOfEdge(px, py, e) {
        let grad = (e[1].y - e[0].y) / (e[1].x - e[0].x);
        if (grad === Infinity)
            return px <= e[0].x;
        if (grad === -Infinity)
            return px >= e[0].x;
        let intersection = e[0].y - (grad * e[0].x);
        let expectedY = (px * grad + intersection);
        if (e[1].x > e[0].x)
            return (py >= expectedY);
        if (e[1].x < e[0].x)
            return (py <= expectedY);
    }
    leftOfEdge(px, py, e) {
        let grad = (e[1].y - e[0].y) / (e[1].x - e[0].x);
        if (grad === Infinity) {
            if (e[0].y > e[1].y)
                return px <= e[0].x;
            if (e[0].y < e[1].y)
                return px >= e[0].x;
        }
        let intersection = e[0].y - (grad * e[0].x);
        let expectedY = (px * grad + intersection);
        if (e[1].x > e[0].x)
            return (py <= expectedY);
        if (e[1].x < e[0].x)
            return (py >= expectedY);
    }
}
class PolyLine extends PolyShape {
    clone() {
        let p = new PolyLine(this.points);
        return p;
    }
}
class PolyEdge extends PolyLine {
    constructor(points) {
        if (points.length !== 2)
            throw new Error("PolyEdge expects a points array of exactly 2");
        super(points);
    }
    get vector() { return _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(this.points[1], this.points[0]); }
    pointOfIntersectionWithEdge(edge, end) {
        let p;
        let r;
        if (edge instanceof PolyEdge) {
            p = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](edge.points[0].x, edge.points[0].y);
            r = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](edge.points[1].x, edge.points[1].y);
        }
        else if (edge instanceof _Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            p = edge;
            r = end;
        }
        r = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(r, p);
        let q = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](this.points[0].x, this.points[0].y);
        let s = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](this.points[1].x, this.points[1].y), q);
        let qmp = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(q, p);
        let pmq = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(p, q);
        let rxs = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(r, s);
        let t = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(qmp, s) / rxs;
        let u = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(pmq, r) / _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(s, r);
        let pmqxr = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(pmq, r);
        if ((rxs === 0) && (pmqxr === 0)) {
            let rrs = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].divide(r, _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(r, r));
            let t0 = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(pmq, rrs);
            let t1 = t0 + _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(s, rrs);
            if (((t0 >= 0 && t0 <= 1)) || ((t1 >= 0) && (t1 <= 1)) || ((t0 <= 0) && (t1 >= 0)) || ((t0 >= 1) && (t1 <= 0))) {
                console.log("Colinear and overlapping");
                return null;
            }
            else {
                return null;
            }
        }
        else if ((rxs === 0) && (pmqxr !== 0)) {
            return null;
        }
        else if ((rxs !== 0) && (t >= 0) && (t <= 1) && (u >= 0) && (u <= 1)) {
            return _Point__WEBPACK_IMPORTED_MODULE_0__["default"].add(p, _Point__WEBPACK_IMPORTED_MODULE_0__["default"].multiply(r, t));
        }
        else {
            return null;
        }
    }
}
class PolyRect extends ConvexPolygon {
    constructor(points) {
        if (!points)
            super([new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 1)]);
        else {
            if (points.length !== 4)
                throw new Error("PolyRect expects a points array of exactly 4");
            super(points);
        }
    }
    containsPoint(x, y) {
        return ((x > this.points[0]) && (x < this.points[1].x) && (y > this.points[0].y) && (y < this.points[3].y));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/GameOverMenu.ts":
/*!************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/GameOverMenu.ts ***!
  \************************************************************/
/*! exports provided: GameOverMenu, GameOverMenuListener, GameOverMenuController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenu", function() { return GameOverMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenuListener", function() { return GameOverMenuListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenuController", function() { return GameOverMenuController; });
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/RelativeDimension */ "./src/engine/transform/dimension/RelativeDimension.ts");









class GameOverMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["Frame"] {
    constructor(position, bounds, listener, controller, gameModel) {
        super(position, bounds, listener, controller);
        this.gameModel = gameModel;
    }
    create() {
        this.transform.bounds.referenceWidth = 320;
        let bg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), "black"));
        bg.opacity = 0.5;
        let tbg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_8__["default"](100, 50)), "black"));
        tbg.opacity = 0.9;
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_0__["default"]("You have died", context2D, "white", 20, "serif");
        let text = tbg.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5)))));
    }
}
class GameOverMenuListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameListener"] {
}
class GameOverMenuController extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameController"] {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/IntroFrame.ts":
/*!**********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/IntroFrame.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return IntroFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _MainFrame__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MainFrame */ "./src/examples/classic-rpg-interface/MainFrame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_TreeUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/TreeUtils */ "./src/engine/TreeUtils.ts");
/* harmony import */ var engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/ui/LoadingBar */ "./src/engine/gameobject/ui/LoadingBar.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var _MainMenuButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./MainMenuButton */ "./src/examples/classic-rpg-interface/MainMenuButton.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");














class IntroFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor() {
        super(...arguments);
        this.started = false;
    }
    create() {
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("RPG Alpha", context2D, "white", 48, "serif", 1.4);
        let titleText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.3, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5)))));
        titleText.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 10;
        };
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("Start Game", context2D, "white", 32, "serif");
        let startText = tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))));
        startText.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 10;
        };
        this.button = this.addChild(new _MainMenuButton__WEBPACK_IMPORTED_MODULE_12__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.7, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__["default"](300, 50)), startText));
        this.loadingBar = this.addChild(new engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__["default"](100, 10)), "white", "grey"));
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("Loading textures", context2D, "white", 8, "serif", 1.5);
        this.loadingText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0, 10), new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0)))));
        this.mainFrame = this.addChild(new _MainFrame__WEBPACK_IMPORTED_MODULE_5__["MainFrame"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__["default"](1, 1)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameController"]()));
        this.mainFrame.precreate = true;
        this.button.onClick.push(() => {
            this.mainFrame.open();
            this.button.interactable = false;
            this.started = true;
        }, this);
        this.button.setInteractable(false);
    }
    update() {
        if (!(this.started)) {
            let stats = engine_TreeUtils__WEBPACK_IMPORTED_MODULE_9__["TreeUtils"].subtreeLoadStats(this.mainFrame);
            this.loadingBar.setProportion(stats.assetsProportion);
            if (this.mainFrame.subtreeLoaded) {
                this.button.setInteractable(true);
                this.loadingBar.visible = false;
                this.loadingText.visible = false;
            }
        }
    }
    onOpen() {
        this.opacity = 0.01;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__["default"](this, "opacity", 1, 1000)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/Launcher.ts":
/*!********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/Launcher.ts ***!
  \********************************************************/
/*! exports provided: Run */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Run", function() { return Run; });
/* harmony import */ var Launcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! Launcher */ "./src/Launcher.ts");
/* harmony import */ var engine_io_IO__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/io/IO */ "./src/engine/io/IO.ts");
/* harmony import */ var engine_io_Loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/io/Loader */ "./src/engine/io/Loader.ts");
/* harmony import */ var engine_io_Timing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/io/Timing */ "./src/engine/io/Timing.ts");
/* harmony import */ var _IntroFrame__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./IntroFrame */ "./src/examples/classic-rpg-interface/IntroFrame.ts");





class Run extends Launcher__WEBPACK_IMPORTED_MODULE_0__["Launcher"] {
    constructor() {
        super(...arguments);
        this._rootGameObjectType = _IntroFrame__WEBPACK_IMPORTED_MODULE_4__["default"];
    }
    _createInterfaces(canvas) {
        let io = new engine_io_IO__WEBPACK_IMPORTED_MODULE_1__["default"]();
        io.addInterface(new engine_io_Loader__WEBPACK_IMPORTED_MODULE_2__["default"](""), "loader");
        io.addInterface(new engine_io_Timing__WEBPACK_IMPORTED_MODULE_3__["TimingListener"](), "timing");
        return this._addMouse(this._addKeyboard(io), canvas);
    }
}
let l = new Run(document.querySelector("#gameTarget"));
l.create();
l.start();


/***/ }),

/***/ "./src/examples/classic-rpg-interface/LoadingStatusFrame.ts":
/*!******************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/LoadingStatusFrame.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadingStatusFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class LoadingStatusFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        let bar = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.backgroundColour));
        bar.visible = false;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/MainFrame.ts":
/*!*********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/MainFrame.ts ***!
  \*********************************************************/
/*! exports provided: randomColour, MainFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomColour", function() { return randomColour; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainFrame", function() { return MainFrame; });
/* harmony import */ var _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core-ui-components/CharacterMenu */ "./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts");
/* harmony import */ var _core_ui_components_Map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core-ui-components/Map */ "./src/examples/classic-rpg-interface/core-ui-components/Map.ts");
/* harmony import */ var _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameOverMenu */ "./src/examples/classic-rpg-interface/GameOverMenu.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./core-ui-components/MiniMapFrame */ "./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts");
/* harmony import */ var _UIModel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./UIModel */ "./src/examples/classic-rpg-interface/UIModel.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! engine/transform/dimension/RelativeDimension */ "./src/engine/transform/dimension/RelativeDimension.ts");
/* harmony import */ var engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! engine/transform/dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _core_ui_components_TabListMenu__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./core-ui-components/TabListMenu */ "./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts");
/* harmony import */ var _WorldFrame__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./WorldFrame */ "./src/examples/classic-rpg-interface/WorldFrame.ts");
/* harmony import */ var _core_ui_components_PartyStatusMenu__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./core-ui-components/PartyStatusMenu */ "./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts");
/* harmony import */ var engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! engine/gameobject/context2d/DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _core_ui_components_ActionBarMenu__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./core-ui-components/ActionBarMenu */ "./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts");
/* harmony import */ var _core_ui_components_DetailMenuFrame__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./core-ui-components/DetailMenuFrame */ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts");
/* harmony import */ var _LoadingStatusFrame__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./LoadingStatusFrame */ "./src/examples/classic-rpg-interface/LoadingStatusFrame.ts");
/* harmony import */ var _model_GameModel__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./model/GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _model_PartyModel__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./model/PartyModel */ "./src/examples/classic-rpg-interface/model/PartyModel.ts");
/* harmony import */ var _model_world_WorldModel__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./model/world/WorldModel */ "./src/examples/classic-rpg-interface/model/world/WorldModel.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./data */ "./src/examples/classic-rpg-interface/data.ts");
/* harmony import */ var _ToolTip__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./ToolTip */ "./src/examples/classic-rpg-interface/ToolTip.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var _core_ui_components_LevelNameFrame__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./core-ui-components/LevelNameFrame */ "./src/examples/classic-rpg-interface/core-ui-components/LevelNameFrame.ts");
/* harmony import */ var _core_ui_components_SpellInfoFrame__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./core-ui-components/SpellInfoFrame */ "./src/examples/classic-rpg-interface/core-ui-components/SpellInfoFrame.ts");




































let randomColour = function () {
    return "#" + Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "";
};

class TestFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["Frame"] {
    constructor(position, bounds, listener, controller, ...args) {
        super(position, bounds, listener, controller);
    }
    create() {
        let color = randomColour();
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_15__["DebugRect"](color, 10));
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_16__["default"](this.listener.constructor.name, context2D, color, 12, "sans-serif");
        this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5)))));
    }
}
class MainFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["Frame"] {
    gameOver() {
        this.showGameOverMenu();
    }
    create() {
        this.gameModel = new _model_GameModel__WEBPACK_IMPORTED_MODULE_27__["default"](new _model_GameModel__WEBPACK_IMPORTED_MODULE_27__["GameModelListener"](), new _model_PartyModel__WEBPACK_IMPORTED_MODULE_28__["default"](), new _model_world_WorldModel__WEBPACK_IMPORTED_MODULE_29__["default"](), new _model_PlayerModel__WEBPACK_IMPORTED_MODULE_30__["default"](), _data__WEBPACK_IMPORTED_MODULE_31__["gameData"]);
        this.gameModel.create();
        this.gameModel.player.onUpdate.push((() => {
            if (this.gameModel.player.gameOver)
                this.gameOver();
            this.toggleMiniMap(this.gameModel.player.showMiniMap);
        }).bind(this), this);
        let map = new _core_ui_components_Map__WEBPACK_IMPORTED_MODULE_1__["default"](this.gameModel);
        this.addChild(map);
        this.uiModel = new _UIModel__WEBPACK_IMPORTED_MODULE_12__["default"](this.gameModel, map);
        this.uiModel.showLevelNameFrame.onUpdate.push(this.toggleLevelNameFrame.bind(this), this);
        this.transform.bounds.referenceWidth = 320;
        let actionBarHeight = 42;
        let partyStatusMenuWidth = 42;
        let characterMenu = new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_17__["default"](320, 120)), new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["CharacterMenuListener"](), new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["CharacterMenuController"](), this.uiModel, this.gameModel);
        characterMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](MainFrame.charMenuMaxWidth, 170);
        this.characterMenu = characterMenu;
        let tabListMenu = new _core_ui_components_TabListMenu__WEBPACK_IMPORTED_MODULE_20__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_17__["default"](320, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_18__["default"](MainFrame.tabListHeightConditional.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        this.tabMenu = tabListMenu;
        tabListMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](MainFrame.charMenuMaxWidth, undefined);
        let detailMenu = new _core_ui_components_DetailMenuFrame__WEBPACK_IMPORTED_MODULE_25__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, tabListMenu.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_17__["default"](320, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_18__["default"](this._detailMenuHeightConditional.bind(this)), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, tabListMenu.transform.bounds)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        detailMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](MainFrame.charMenuMaxWidth, undefined);
        let minimap = new _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_18__["default"](this._miniMapDimConditional.bind(this))), new _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__["MiniMapFrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel, this.gameModel);
        this.miniMap = minimap;
        let partyStatusMenu = new _core_ui_components_PartyStatusMenu__WEBPACK_IMPORTED_MODULE_22__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0)), new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, minimap.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_18__["default"](this._partyStatsWidthConditional.bind(this)), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, this.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, characterMenu.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, tabListMenu.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, minimap.transform.bounds)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        let actionBarMenu = new _core_ui_components_ActionBarMenu__WEBPACK_IMPORTED_MODULE_24__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_18__["default"](this._actionBarHeightConditional.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        let worldFrame = new _WorldFrame__WEBPACK_IMPORTED_MODULE_21__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, actionBarMenu.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, actionBarMenu.transform.bounds), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_18__["default"](this._worldFrameConditionalHeight.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.gameModel, this.uiModel);
        this.levelNameFrame = new _core_ui_components_LevelNameFrame__WEBPACK_IMPORTED_MODULE_34__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        this.worldFrame = worldFrame;
        let loadingStatusFrame = new _LoadingStatusFrame__WEBPACK_IMPORTED_MODULE_26__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 2)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel, this.gameModel);
        let wbb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__["GridBuilder"]();
        wbb.pushCell(detailMenu);
        wbb.pushCell(tabListMenu);
        wbb.pushCell(characterMenu);
        wbb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__["GridOrientation"].Vertical, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 1))));
        this.addChild(worldFrame);
        let uiBuffer = this.addChild(new engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_23__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1))));
        this.bottomUIGrid = uiBuffer.addChild(wbb.grid);
        uiBuffer.addChild(partyStatusMenu);
        uiBuffer.addChild(actionBarMenu);
        uiBuffer.addChild(this.levelNameFrame);
        this.addChild(minimap);
        this.addChild(loadingStatusFrame);
        loadingStatusFrame.open();
        this.createTriggers();
        characterMenu.open();
        tabListMenu.open();
        detailMenu.open();
        worldFrame.open();
        partyStatusMenu.open();
        actionBarMenu.open();
        if (this.uiModel.showLevelNameFrame.value)
            this.levelNameFrame.open();
        this.uiModel.tooltip.onUpdate.push(this.updateTooltip.bind(this), this);
        this.uiModel.currentSpellInfo.onUpdate.push(this.createSpellInfoFrame.bind(this), this);
    }
    toggleLevelNameFrame(visible) {
        if (!visible && this.levelNameFrame.isOpen)
            this.levelNameFrame.onClosing();
        else if (visible && !this.levelNameFrame.isOpen)
            this.levelNameFrame.open();
    }
    showGameOverMenu() {
        let gameOverMenu = this.addChild(new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenu"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1)), new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenuListener"](), new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenuController"](), this.gameModel));
        gameOverMenu.open();
    }
    toggleMiniMap(visible) {
        if (!visible && this.miniMap.isOpen)
            this.miniMap.onClosing();
        else if (visible && !this.miniMap.isOpen)
            this.miniMap.open();
    }
    createTriggers() {
        let kt = this.addChild(new engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["default"]());
        kt.getKeyEvent("w", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyW.bind(this.uiModel), this);
        kt.getKeyEvent("d", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyD.bind(this.uiModel), this);
        kt.getKeyEvent("a", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyA.bind(this.uiModel), this);
        kt.getKeyEvent("d", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyDUp.bind(this.uiModel), this);
        kt.getKeyEvent("a", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyAUp.bind(this.uiModel), this);
        kt.getKeyEvent("s", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyS.bind(this.uiModel), this);
        kt.getKeyEvent("q", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyQ.bind(this.uiModel), this);
        kt.getKeyEvent("e", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyE.bind(this.uiModel), this);
        kt.getKeyEvent("PageUp", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyPgUp.bind(this.uiModel), this);
        kt.getKeyEvent("PageDown", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyPgDown.bind(this.uiModel), this);
        kt.getKeyEvent("e", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyE.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowUp", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyUp.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowRight", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyRight.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowDown", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyDown.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowLeft", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyLeft.bind(this.uiModel), this);
        kt.getKeyEvent("0", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.key0.bind(this.uiModel), this);
        kt.getKeyEvent("1", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.key1.bind(this.uiModel), this);
        kt.getKeyEvent("o", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyO.bind(this.uiModel), this);
        kt.getKeyEvent(".", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyRightChevron.bind(this.uiModel), this);
        kt.getKeyEvent(",", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyLeftChevron.bind(this.uiModel), this);
        kt.getKeyEvent("-", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyMinus.bind(this.uiModel), this);
        kt.getKeyEvent("_", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyUnderscore.bind(this.uiModel), this);
        kt.getKeyEvent("=", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyEquals.bind(this.uiModel), this);
        kt.getKeyEvent("+", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyPlus.bind(this.uiModel), this);
        kt.getKeyEvent("n", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyN.bind(this.uiModel), this);
    }
    createSpellInfoFrame(spell) {
        let w = this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_33__["default"](0));
        if (this.spellInfoFrame)
            w.onComplete.push(this.requestRemoval.bind(this.spellInfoFrame), this);
        w.onComplete.push((() => { if (this.spellInfoFrame)
            this.spellInfoFrame.visible = true; }).bind(this), this);
        if (spell) {
            let sif = this.addChild(new _core_ui_components_SpellInfoFrame__WEBPACK_IMPORTED_MODULE_35__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), spell, this.uiModel));
            sif.open();
            sif.listener.onClose.push(this.uiModel.closeSpellInfoFrame.bind(this.uiModel), this);
            this.spellInfoFrame = sif;
            this.spellInfoFrame.visible = false;
        }
    }
    updateTooltip(text) {
        if (text) {
            if (this.tooltip)
                this.tooltip.requestRemoval();
            let canvas = document.createElement('canvas');
            let context2D = canvas.getContext("2d");
            let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_16__["default"](text, context2D, "white", 20, "serif");
            this.tooltip = this.addChild(new _ToolTip__WEBPACK_IMPORTED_MODULE_32__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](tb.textDimension(), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](30, 30)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), text));
            this.tooltip.open();
        }
        else {
            if (this.tooltip) {
                let tooltip = this.tooltip;
                tooltip.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_33__["default"](600)).onComplete.push(() => tooltip.onClosing(), this);
            }
        }
    }
    onOpen() {
        this.opacity = 0.01;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__["default"](this, "opacity", 1, 1000)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
    _actionBarHeightConditional(dim) {
        if (dim.width < 500)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 42);
        else {
            let prop = (dim.width - 500) * 0.1;
            prop = Math.min(prop, 22);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 42 + prop);
        }
    }
    _partyStatsWidthConditional(dim) {
        if (dim.width < 500)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](28, 0);
        else {
            let prop = (dim.width - 500) * 0.2;
            prop = Math.min(prop, 48);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](28 + prop, 0);
        }
    }
    _miniMapDimConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](130, 130);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 80);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](120 + prop, 120 + prop);
        }
    }
    _worldFrameConditionalHeight(dim) {
        if (dim.width < 800)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, -this.characterMenu.transform.bounds.dimension.height);
        else
            return new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_19__["default"](0, 0);
    }
    static tabListHeightConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 48);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 16);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 48 + prop);
        }
    }
    _detailMenuHeightConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 110);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 160);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 110 + prop);
        }
    }
}
MainFrame.charMenuMaxWidth = 500;


/***/ }),

/***/ "./src/examples/classic-rpg-interface/MainMenuButton.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/MainMenuButton.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MainMenuButton; });
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/RoundedRect */ "./src/engine/gameobject/context2d/RoundedRect.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class MainMenuButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_0__["default"] {
    create() {
        this._createButtonContents();
        super.create();
    }
    setInteractable(val) {
        this.interactable = val;
        this.content.opacity = val ? 1 : 0.5;
    }
    _createButtonContents() {
        let roundedness = 2;
        this.backgroundRect = this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "grey", undefined, 2, roundedness));
        this.setHoverRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "grey", "grey", 0, roundedness)));
        this.setPressedRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "red", "red", 0, roundedness)));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/ToolTip.ts":
/*!*******************************************************!*\
  !*** ./src/examples/classic-rpg-interface/ToolTip.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ToolTip; });
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");










class ToolTip extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_7__["Frame"] {
    constructor(position, bounds, listener, controller, text) {
        super(position, bounds, listener, controller);
        this.text = text;
    }
    create() {
        this.transform.bounds.referenceWidth = 320;
        let bg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_0__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), "black"));
        bg.opacity = 0.9;
        let button = this.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1))));
        button.onClick.push(this.close.bind(this), this);
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__["default"](this.text, context2D, "white", 20, "serif");
        let text = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5)))));
    }
    onOpen() {
        this.opacity = 0;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__["default"](this, "opacity", 1, 500)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
    onClosing() {
        this.opacity = 1;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__["default"](this, "opacity", 0, 500)).onComplete.push(this.close.bind(this), this);
    }
    onClose() {
        this.opacity = 0;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/UIModel.ts":
/*!*******************************************************!*\
  !*** ./src/examples/classic-rpg-interface/UIModel.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UIModel; });
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var _MainFrame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MainFrame */ "./src/examples/classic-rpg-interface/MainFrame.ts");
/* harmony import */ var _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/context2d/Sprite */ "./src/engine/gameobject/context2d/Sprite.ts");
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./model/action/InitiativeModel */ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _model_Status__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./model/Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _core_ui_components_DetailMenuModel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./core-ui-components/DetailMenuModel */ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts");
/* harmony import */ var assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! assets/rpg/ui/nexticon-green.png */ "./src/assets/rpg/ui/nexticon-green.png");
/* harmony import */ var assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! assets/rpg/ui/nexticon-yellow.png */ "./src/assets/rpg/ui/nexticon-yellow.png");
/* harmony import */ var assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! assets/rpg/ui/nexticon-red.png */ "./src/assets/rpg/ui/nexticon-red.png");
/* harmony import */ var assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! assets/rpg/ui/status-slow.png */ "./src/assets/rpg/ui/status-slow.png");
/* harmony import */ var assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! assets/rpg/ui/status-dead.png */ "./src/assets/rpg/ui/status-dead.png");
/* harmony import */ var assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! assets/rpg/ui/status-torch-light.png */ "./src/assets/rpg/ui/status-torch-light.png");
/* harmony import */ var assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _model_world_NPCModel__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./model/world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _model_world_WorldObjectModel__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./model/world/WorldObjectModel */ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts");
/* harmony import */ var _model_world_WallModel__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./model/world/WallModel */ "./src/examples/classic-rpg-interface/model/world/WallModel.ts");
/* harmony import */ var _model_world_DoorModel__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./model/world/DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");





























class UIModel {
    constructor(gameModel, map) {
        this.onCharacterSelected = new engine_util_Event__WEBPACK_IMPORTED_MODULE_9__["default"]();
        this.currentDetailMenu = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__["default"](null);
        this.backgroundColour = "#f3e7d7";
        this.textColour = "black";
        this.holdDuration = 300;
        this.zoomHoldDuration = 300;
        this.showLevelNameFrame = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__["default"](false);
        this.currentSpellInfo = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__["default"](null);
        this.dragging = null;
        this._vDragDistance = 0;
        this._vDragRequired = 0.1;
        this.gameModel = gameModel;
        this.map = map;
        this.gameModel.initiative.waitingCharacter.onUpdate.push(() => {
            this.currentDetailMenu.value = null;
            this.onCharacterSelected.call();
        }, this);
        this.tooltip = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__["default"](null);
    }
    get selectedCharacter() { return this.gameModel.initiative.waitingCharacter.value; }
    get mapRotation() { return this.gameModel.player.rotation; }
    get levelName() { return this.gameModel.world.currentLevel.value.name; }
    get parentAreaName() { return this.gameModel.world.currentLevel.value.parentAreaName; }
    dragDown(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._positionAtDragStart = this.gameModel.player.position;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._dragStartedAsDoubleTouch = true;
                }
                if (this.gameModel.player.canFly)
                    this.gameModel.slideUpward(distance * 1.5);
                else {
                    this._vDragDistance += distance;
                    if (this._vDragDistance >= this._vDragRequired) {
                        this.gameModel.jump();
                        this._vDragDistance = 0;
                    }
                }
            }
            else
                this.gameModel.slideForward(distance * 3);
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_26__["Facing"].South;
        }
    }
    dragUp(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._positionAtDragStart = this.gameModel.player.position;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._dragStartedAsDoubleTouch = true;
                }
                let cell = this.gameModel.world.currentLevel.value.cells[this.gameModel.player.position.x][this.gameModel.player.position.y][this.gameModel.player.position.z];
                if (this.gameModel.player.canFly && cell.floorWall.passable)
                    this.gameModel.slideDownward(distance * 1.5);
                else if (!cell.floorWall.passable) {
                    this._vDragDistance -= distance;
                    if (this._vDragDistance <= -this._vDragRequired) {
                        this.gameModel.crouch();
                        this._vDragDistance = 0;
                    }
                }
            }
            else
                this.gameModel.slideBackward(distance * 3);
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_26__["Facing"].North;
        }
    }
    dragLeft(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._facingAtDragStart = this.gameModel.player.facing;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._positionAtDragStart = this.gameModel.player.position;
                    this._dragStartedAsDoubleTouch = true;
                }
                this.gameModel.slideRight(-distance * 1.5);
            }
            else
                this.gameModel.rotateRight(-distance * (Math.PI / 2));
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_26__["Facing"].West;
        }
    }
    dragRight(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._facingAtDragStart = this.gameModel.player.facing;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._positionAtDragStart = this.gameModel.player.position;
                    this._dragStartedAsDoubleTouch = true;
                }
                this.gameModel.slideLeft(-distance * 1.5);
            }
            else
                this.gameModel.rotateLeft(-distance * (Math.PI / 2));
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_26__["Facing"].East;
        }
    }
    endDragDown(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position))
                this.gameModel.moveForward();
            else if (this._dragStartedAsDoubleTouch) {
                if (this.gameModel.player.canFly && this._positionAtDragStart.equals(this.gameModel.player.position))
                    this.gameModel.hoverUp();
                else
                    this.gameModel.jump();
            }
            this.endDragReset();
        }
    }
    endDragUp(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position))
                this.gameModel.moveBackward();
            else if (this._dragStartedAsDoubleTouch) {
                let cell = this.gameModel.world.currentLevel.value.cells[this.gameModel.player.position.x][this.gameModel.player.position.y][this.gameModel.player.position.z];
                if (this.gameModel.player.canFly && cell.floorWall.passable && this._positionAtDragStart.equals(this.gameModel.player.position))
                    this.gameModel.hoverDown();
                else
                    this.gameModel.crouch();
            }
            this.endDragReset();
        }
    }
    endDragLeft(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._facingAtDragStart === this.gameModel.player.facing)
                this.gameModel.player.facing = (this.gameModel.player.facing + 8 - 1) % 8;
            else if (this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position)) {
                this.gameModel.strafeLeft();
            }
            this.endDragReset();
        }
    }
    endDragRight(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._facingAtDragStart === this.gameModel.player.facing)
                this.gameModel.player.facing = (this.gameModel.player.facing + 1) % 8;
            else if (this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position)) {
                this.gameModel.strafeRight();
            }
            this.endDragReset();
        }
    }
    endDragReset() {
        if (!this.zoomedView) {
            this.gameModel.resetRotation();
            this.gameModel.resetPosition();
        }
        this.dragging = null;
        this._vDragDistance = 0;
        this._dragStartedAsDoubleTouch = false;
    }
    keyW() { if (!this.zoomedView)
        this.gameModel.moveForward(); }
    keyA(delta) { if (!this.zoomedView)
        this.gameModel.turnLeft(); }
    keyD(delta) { if (!this.zoomedView)
        this.gameModel.turnRight(); }
    keyAUp() { if (!this.zoomedView)
        this.gameModel.resetRotation(); }
    keyDUp() { if (!this.zoomedView)
        this.gameModel.resetRotation(); }
    keyS() { if (!this.zoomedView)
        this.gameModel.moveBackward(); }
    keyQ() { if (!this.zoomedView)
        this.gameModel.strafeLeft(); }
    keyE() { if (!this.zoomedView)
        this.gameModel.strafeRight(); }
    keyR() {
        let target = this.gameModel.world.currentLevel.value.npcs[0];
        let action = this.gameModel.initiative.waitingCharacter.value.availableActions(target)[0];
        this.gameModel.performAction(target, action);
    }
    keyUp() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallFront(); }
    keyRight() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallRight(); }
    keyDown() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallBehind(); }
    keyLeft() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallLeft(); }
    key1() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallAbove(); }
    key0() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallBelow(); }
    keyPgUp() { if (this.gameModel.player.canFly)
        if (!this.zoomedView)
            this.gameModel.hoverUp(); }
    keyPgDown() { if (this.gameModel.player.canFly)
        if (!this.zoomedView)
            this.gameModel.hoverDown(); }
    keyO() { this.gameModel.save(); }
    keyRightChevron() {
        if (this.gameModel.world.currentLevelID < this.gameModel.world.levels.length - 1)
            this.gameModel.switchLevel(this.gameModel.world.levels[this.gameModel.world.currentLevelID + 1]);
    }
    keyLeftChevron() {
        if (this.gameModel.world.currentLevelID > 0)
            this.gameModel.switchLevel(this.gameModel.world.levels[this.gameModel.world.currentLevelID - 1]);
    }
    keyMinus() {
        this.gameModel.currentPaintID--;
    }
    keyEquals() {
        this.gameModel.currentPaintID++;
    }
    keyUnderscore() {
        this.gameModel.currentPaintID -= 10;
    }
    keyPlus() {
        this.gameModel.currentPaintID += 10;
    }
    keyN() {
        console.log(this.gameModel.player.position);
    }
    worldClick(target) {
        this.closeSpellInfoFrame();
        if (this.tooltip.value !== null)
            this.tooltip.value = null;
        else if (this.currentDetailMenu.value !== null)
            this.currentDetailMenu.value = null;
        else {
            let actionResult;
            if (this.gameModel.initiative.playerCanAct) {
                if ((this.gameModel.player.canLevelEdit) && (target instanceof _model_world_WallModel__WEBPACK_IMPORTED_MODULE_24__["default"])) {
                    this.gameModel.paintWall(target);
                }
                else if (target instanceof _model_world_NPCModel__WEBPACK_IMPORTED_MODULE_22__["default"] || target instanceof _model_world_WorldObjectModel__WEBPACK_IMPORTED_MODULE_23__["default"] || target instanceof _model_world_DoorModel__WEBPACK_IMPORTED_MODULE_25__["default"]) {
                    let actions = this.gameModel.initiative.waitingCharacter.value.availableActions(target);
                    if (actions.length > 0)
                        actionResult = this.gameModel.performAction(target, actions[0]);
                }
            }
            if (actionResult)
                this.gameModel.applyActionResult(actionResult);
        }
    }
    worldHold(zoomView, mouse) {
        this.zoomedView = true;
        zoomView(mouse);
    }
    worldReleaseHold(unzoomView) {
        this.zoomedView = false;
        unzoomView();
    }
    clickCharacterPortrait(c) {
        this.closeSpellInfoFrame();
        if (this.gameModel.initiative.waitingCharacter.value !== c)
            this.gameModel.switchCharacter(c);
        else {
            this.currentDetailMenu.value = null;
        }
    }
    holdCharacterPortrait(c) {
        this.tooltip.value = c.fullName;
    }
    releaseHold() {
        this.tooltip.value = null;
    }
    clickQuickItemsTabButton() {
        this.closeSpellInfoFrame();
        if (this.currentDetailMenu.value === null)
            this.setDetailMenu();
        else if (this.currentDetailMenu.value.spellList)
            this.setDetailMenu();
        else
            this.hideDetailMenu();
    }
    holdQuickItemsTabButton() {
        this.tooltip.value = "Quick items";
    }
    clickSpellListTabButton(l) {
        this.closeSpellInfoFrame();
        if (this.currentDetailMenu.value === null)
            this.setDetailMenu(l);
        else if (this.currentDetailMenu.value.spellList !== l)
            this.setDetailMenu(l);
        else
            this.hideDetailMenu();
    }
    holdSpellListTabButton(l) {
        this.tooltip.value = l.name + " spells";
    }
    clickSpellButton(s) {
        this.closeSpellInfoFrame();
        if (s.test(this.selectedCharacter, null)) {
            if (s.requireTarget)
                this.acquireTarget(s);
            else
                this.gameModel.castSpell(s, null);
            this.currentDetailMenu.value = null;
        }
    }
    closeSpellInfoFrame() {
        this.currentSpellInfo.value = null;
    }
    holdSpellButton(s) {
        this.currentSpellInfo.value = s;
    }
    holdStatusIcon(status) {
        this.tooltip.value = status.name;
    }
    holdMiniMap() {
        this.tooltip.value = "Date/Time";
    }
    clickLevelNameText() {
        this.closeSpellInfoFrame();
        this.showLevelNameFrame.value = true;
    }
    clickLevelNameFrame() {
        this.showLevelNameFrame.value = false;
    }
    holdLevelNameText() {
        this.tooltip.value = this.gameModel.world.currentLevel.value.name;
    }
    holdCharacterSheetMenuIcon() {
        this.tooltip.value = "Show character sheets";
    }
    acquireTarget(spell) {
    }
    getCharacterPortraitImage(position, bounds, characterModel) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.portraits[characterModel.characterData.portrait].filename);
    }
    getCharacterSelectedHighlight(position, bounds, characterModel) {
        let sh = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["OutlineRect"](position, bounds, "yellow", 2);
        sh.visible = this.selectedCharacter === characterModel;
        this.onCharacterSelected.push((() => sh.visible = this.selectedCharacter === characterModel).bind(this), this);
        return sh;
    }
    getCharacterNextHighlight(position, bounds, characterModel) {
        let group = new engine_GameObject__WEBPACK_IMPORTED_MODULE_6__["default"](position, bounds);
        let g = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16___default.a);
        let y = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17___default.a);
        let r = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18___default.a);
        group.addChild(g);
        group.addChild(y);
        group.addChild(r);
        this.gameModel.initiative.combatState.onUpdate.push((val) => {
            g.visible = false;
            y.visible = false;
            r.visible = false;
            if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
                g.visible = true;
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
                y.visible = true;
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
                r.visible = true;
            group.requestDraw();
        }, this);
        g.visible = false;
        y.visible = false;
        r.visible = false;
        if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
            g.visible = true;
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
            y.visible = true;
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
            r.visible = true;
        this.gameModel.initiative.waitingCharacter.onUpdate.push(((val) => group.visible = val === characterModel).bind(this), this);
        group.visible = this.gameModel.initiative.waitingCharacter.value === characterModel;
        return group;
    }
    getCharacterWaitingHighlight(position, bounds, characterModel) {
        let group = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](position, bounds, "green");
        this.gameModel.initiative.combatState.onUpdate.push((val) => {
            if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
                group.fillStyle = "green";
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
                group.fillStyle = "yellow";
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
                group.fillStyle = "red";
            group.requestDraw();
        }, this);
        if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
            group.fillStyle = "green";
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
            group.fillStyle = "yellow";
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
            group.fillStyle = "red";
        this.gameModel.initiative.waitingCharacters.onUpdate.push(((val) => group.visible = val.indexOf(characterModel) !== -1).bind(this), this);
        group.visible = this.gameModel.initiative.waitingCharacters.value.indexOf(characterModel) !== -1;
        return group;
    }
    getCharacterHitFilter(position, bounds, characterModel) {
        let hitFilter = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](position, bounds, "red");
        hitFilter.opacity = 0.5;
        hitFilter.visible = false;
        characterModel.onTakeDamage.push(() => {
            hitFilter.visible = true;
            hitFilter.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__["default"](300)).onComplete.push(() => hitFilter.visible = false, this);
        }, this);
        return hitFilter;
    }
    getCharacterHPBar(position, bounds, characterModel) {
        let parent = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["Rect"](position, bounds, "black", "#f3e7d7", 1);
        let hpProportion = new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1);
        hpProportion.preserve = true;
        let child = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_12__["default"](0.5, 1)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_28__["default"](0, -1)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0), hpProportion, new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_27__["default"](-2, -2)), "green");
        child.transform.fixed = false;
        characterModel.hitpoints.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        characterModel.maxHitpoints.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        characterModel.healthState.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        parent.addChild(child);
        return parent;
    }
    getCharacterManaBar(position, bounds, characterModel) {
        let parent = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["Rect"](position, bounds, "black", "#f3e7d7", 1);
        let manaProportion = new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1);
        manaProportion.preserve = true;
        let child = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_12__["default"](0.5, 1)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_28__["default"](0, -1)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0), manaProportion, new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_27__["default"](-2, -2)), "blue");
        child.transform.fixed = false;
        characterModel.mana.onUpdate.push(this.updateManaState.bind(this, characterModel, child, manaProportion), this);
        characterModel.maxMana.onUpdate.push(this.updateManaState.bind(this, characterModel, child, manaProportion), this);
        parent.addChild(child);
        return parent;
    }
    getStatusIcon(position, bounds, status) {
        let filename;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].Dead)
            filename = assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20___default.a;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].Slow)
            filename = assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19___default.a;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].TorchLight)
            filename = assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21___default.a;
        if (filename)
            return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, filename);
        return new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["OutlineRect"](position, bounds, Object(_MainFrame__WEBPACK_IMPORTED_MODULE_3__["randomColour"])(), 1);
    }
    updateHPState(characterModel, hpBar, hpProportion) {
        if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Normal) {
            hpProportion.height = Math.max(0, characterModel.hitpoints.value / characterModel.maxHitpoints.value);
            if (hpProportion.height < 0.33)
                hpBar.fillStyle = "red";
            else if (hpProportion.height < 0.5)
                hpBar.fillStyle = "yellow";
            else
                hpBar.fillStyle = "green";
        }
        else if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Unconsious) {
            hpProportion.height = Math.min(1, -characterModel.hitpoints.value / characterModel.maxHitpoints.value);
            hpBar.fillStyle = "grey";
        }
        else {
            hpProportion.height = 1;
            hpBar.fillStyle = undefined;
        }
        hpBar.requestDraw();
    }
    updateManaState(characterModel, manaBar, manaProportion) {
        manaProportion.height = Math.max(0, characterModel.mana.value / characterModel.maxMana.value);
        manaBar.fillStyle = "blue";
        if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Dead) {
            manaProportion.height = 1;
            manaBar.fillStyle = "black";
        }
        manaBar.requestDraw();
    }
    getCharacterTabs(characterModel) {
        return [];
    }
    getCharacterSheetMenuIcon(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.charSheetIcon);
    }
    getQuickItemTabIcon(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.quickItemTabIcon);
    }
    getSpellListTabIcon(position, bounds, spellList) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, spellList.icon);
    }
    setDetailMenu(spellList) {
        this.currentDetailMenu.value = new _core_ui_components_DetailMenuModel__WEBPACK_IMPORTED_MODULE_15__["default"](spellList);
    }
    hideDetailMenu() {
        this.currentDetailMenu.value = null;
    }
    getSpellIcon(position, bounds, spell) {
        if (!spell)
            throw new Error("Cannot create icon for spell because spell not found, does the spell exist and is it properly named?");
        let s = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, spell.icon);
        return s;
    }
    getAnimWaitHourglass(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.hourglassIcon);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/WorldFrame.ts":
/*!**********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/WorldFrame.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_Text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var engine_TreeUtils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/TreeUtils */ "./src/engine/TreeUtils.ts");
/* harmony import */ var _sceneview_Scene__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sceneview/Scene */ "./src/examples/classic-rpg-interface/sceneview/Scene.ts");
/* harmony import */ var engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/gameobject/ui/LoadingBar */ "./src/engine/gameobject/ui/LoadingBar.ts");
/* harmony import */ var engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! engine/gameobject/ui/KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
/* harmony import */ var engine_gameobject_ThreeBuffer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! engine/gameobject/ThreeBuffer */ "./src/engine/gameobject/ThreeBuffer.ts");
/* harmony import */ var engine_gameobject_ui_MouseDragTrigger__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! engine/gameobject/ui/MouseDragTrigger */ "./src/engine/gameobject/ui/MouseDragTrigger.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");



















class WorldFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, gameModel, uiModel) {
        super(position, bounds, listener, controller);
        this._changingScene = true;
        this.gameModel = gameModel;
        this.uiModel = uiModel;
    }
    get changingScene() { return this._changingScene; }
    create() {
        this._createMouseTriggers();
        this._createThreeBuffer();
        this._createHUD();
        this._createScene();
        this.scene.open();
        this.gameModel.listener.onSwitchLevel.push(this._switchLevel.bind(this), this);
        this.gameModel.infoText.onUpdate.push(this._updateInfoText.bind(this), this);
        let kt = this.addChild(new engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__["default"]());
        kt.getKeyEvent("m", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__["KeyTriggerEvents"].onKeyUp).push(() => console.log(this.threeBuffer.renderer.info), this);
        this._createDragTriggers();
    }
    update() {
        if (this.changingScene) {
            let stats = engine_TreeUtils__WEBPACK_IMPORTED_MODULE_12__["TreeUtils"].subtreeLoadStats(this.threeBuffer);
            this.loadingBar.setProportion(stats.assetsProportion);
            if (this.threeBuffer.subtreeLoaded) {
                this._levelLoaded();
                this._changingScene = false;
            }
        }
    }
    _createDragTriggers() {
        this.worldDragTrigger = this.addChild(new engine_gameobject_ui_MouseDragTrigger__WEBPACK_IMPORTED_MODULE_17__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1))));
        this.worldDragTrigger.minDistance = new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](15, 15);
        this.worldDragTrigger.onlyIfUnhandled = true;
        this.worldDragTrigger.onDrag.push((vector, mouse, touch, touchID) => {
            let doubleTouch = this.worldDragTrigger.touchCount > 1;
            if (this.uiModel.dragging !== null || (Math.abs(vector.y) > Math.abs(vector.x))) {
                if ((vector.y > 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].North || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].South))
                    this.uiModel.dragDown(-vector.y / this.transform.bounds.dimension.height, doubleTouch);
                else if ((vector.y < 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].South || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].North))
                    this.uiModel.dragUp(vector.y / this.transform.bounds.dimension.height, doubleTouch);
            }
            if (this.uiModel.dragging !== null || (Math.abs(vector.y) < Math.abs(vector.x))) {
                if ((vector.x > 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].East || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].West))
                    this.uiModel.dragRight(vector.x / this.transform.bounds.dimension.width, doubleTouch);
                else if ((vector.x < 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].West || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].East))
                    this.uiModel.dragLeft(-vector.x / this.transform.bounds.dimension.width, doubleTouch);
            }
            this._lastDragVector = vector;
        }, this);
        this.worldDragTrigger.onEndDrag.push(((mouse) => {
            if (this.uiModel.dragging !== null) {
                if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].South && this._lastDragVector.y > 0)
                    this.uiModel.endDragUp(this.worldDragTrigger.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].North && this._lastDragVector.y < 0)
                    this.uiModel.endDragDown(this.worldDragTrigger.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].West && this._lastDragVector.x < 0)
                    this.uiModel.endDragLeft(this.worldDragTrigger.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_18__["Facing"].East && this._lastDragVector.x > 0)
                    this.uiModel.endDragRight(this.worldDragTrigger.touchCount);
                else
                    this.uiModel.endDragReset();
            }
        }).bind(this), this);
    }
    _createScene() {
        if (this.scene)
            this.scene.requestRemoval();
        this.scene = this.threeBuffer.addChild(new _sceneview_Scene__WEBPACK_IMPORTED_MODULE_13__["default"](new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameController"](), this.gameModel));
    }
    _createThreeBuffer() {
        this.threeBuffer = this.addChild(new engine_gameobject_ThreeBuffer__WEBPACK_IMPORTED_MODULE_16__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), new THREE.WebGLRenderer()));
        this.threeBuffer.renderer.setClearColor(new THREE.Color("black"), 1);
    }
    _createMouseTriggers() {
        let worldClick = this.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1))));
        worldClick.onClick.push(this._worldClick.bind(this), this);
        worldClick.onlyIfUnhandled = true;
    }
    _createHUD() {
        this.infoText = this.addChild(new engine_gameobject_ui_Text__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](), "", "white", 12, "serif", 1.5));
        this.crosshair = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__["default"](3, 3)), "white"));
        this.crosshair.visible = false;
        this.loadingBar = this.addChild(new engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_14__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__["default"](100, 10)), "white", "grey"));
    }
    _switchLevel() {
        this._changingScene = true;
        if (this.worldDragTrigger)
            this.worldDragTrigger.active = false;
        this.scene.onClosing();
        this._createScene();
        this.scene.open();
        this.loadingBar.visible = true;
        this.uiModel.showLevelNameFrame.value = false;
    }
    _levelLoaded() {
        this.loadingBar.visible = false;
        if (this.worldDragTrigger)
            this.worldDragTrigger.active = true;
        this.uiModel.showLevelNameFrame.value = true;
        this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__["default"](1500)).onComplete.push((() => this.uiModel.showLevelNameFrame.value = false).bind(this), this);
    }
    _updateInfoText(val) {
        this.infoText.text = val;
        this.infoText.opacity = 1;
        this.infoText.visible = true;
        if (this.infoTextWait)
            this.infoTextWait.requestRemoval();
        this.infoTextWait = this.infoText.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__["default"](3000));
        this.infoTextWait.onComplete.push(() => {
            this.infoTextWait = this.infoText.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_11__["default"](this.infoText, "opacity", 0, 1000));
            this.infoTextWait.onComplete.push(() => this.infoText.visible = false, this);
        }, this);
    }
    _worldClick(mouse) {
        if (!this.changingScene) {
            let offset = this._getMouseOffset(mouse);
            let raycaster = new THREE.Raycaster();
            raycaster.setFromCamera(new THREE.Vector2(offset.x, offset.y), this.scene.camera.object3D);
            let intersects = raycaster.intersectObjects(this.scene.object3D.children);
            if (intersects.length > 0) {
                let go = intersects[0].object.userData.gameObject;
                if (go)
                    this.uiModel.worldClick(go.model);
            }
        }
    }
    _getMouseOffset(mouse) {
        let mousePos = engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"].minus(mouse.position, this.transform.getCanonicalPosition());
        let x = (mousePos.x / this.transform.bounds.dimension.width) * 2 - 1;
        let y = -((mousePos.y / this.transform.bounds.dimension.height) * 2 - 1);
        return new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](x, y);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionBarMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");
/* harmony import */ var engine_gameobject_ui_ClickTrigger__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/ui/ClickTrigger */ "./src/engine/gameobject/ui/ClickTrigger.ts");











class ActionBarMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        let rect = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "#f3e7d7"));
        rect.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 5;
        };
        this.addChild(this.createCharacterSheetMenuIcon());
        this.levelNameText = this.addChild(this.createLevelNameText());
        this.uiModel.gameModel.world.currentLevel.onUpdate.push(((val) => {
            this.levelNameText.text = val.name;
        }).bind(this), this);
    }
    createCharacterSheetMenuIcon() {
        let csmi = this.uiModel.getCharacterSheetMenuIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_5__["default"](64, 0)));
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdCharacterSheetMenuIcon.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        csmi.addChild(holdTrigger);
        return csmi;
    }
    createLevelNameText() {
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__["default"](this.uiModel.levelName, context2D, "black", 10, "sans-serif", 1.2);
        let levelNameText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5)))));
        let clickTrigger = this.addChild(new engine_gameobject_ui_ClickTrigger__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1))));
        clickTrigger.onClick.push(this.uiModel.clickLevelNameText.bind(this.uiModel), this);
        clickTrigger.handleClicks = true;
        clickTrigger.onlyIfUnhandled = true;
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdLevelNameText.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        levelNameText.addChild(holdTrigger);
        holdTrigger.onlyIfUnhandled = true;
        return levelNameText;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts ***!
  \********************************************************************************/
/*! exports provided: default, CharacterMenuListener, CharacterMenuController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CharacterMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterMenuListener", function() { return CharacterMenuListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterMenuController", function() { return CharacterMenuController; });
/* harmony import */ var _PortraitButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PortraitButton */ "./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");







class CharacterMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_6__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), this.uiModel.backgroundColour));
        this.createMenu();
    }
    static recursePrint(self, padding) {
        console.log(" ".repeat(padding) + self.typeName);
        self.children.forEach(x => CharacterMenu.recursePrint(x, padding + 4));
    }
    createMenu() {
        this.portraits = this.createPortraits();
        for (let i = 0; i < this.portraits.length; i++) {
            let p = this.addChild(this.portraits[i]);
            p.transform.position.addTranslation(new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](i * 0.25, 0));
            p.transform.bounds.addDimension(new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0.25, 1));
        }
    }
    createPortraits() {
        let portraits = [];
        this.gameModel.party.characters.forEach((c) => {
            let p = new _PortraitButton__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](), c, this.uiModel);
            p.onClick.push(this.uiModel.clickCharacterPortrait.bind(this.uiModel, c), this);
            portraits.push(p);
        });
        return portraits;
    }
}
class CharacterMenuListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameListener"] {
}
class CharacterMenuController extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameController"] {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DetailMenuFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! engine/transform/dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");
/* harmony import */ var _MainFrame__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../MainFrame */ "./src/examples/classic-rpg-interface/MainFrame.ts");

















class DetailMenuFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        this.uiModel.currentDetailMenu.onUpdate.push(this.createDetailMenu.bind(this), this);
        this.createDetailMenu();
    }
    createDetailMenu() {
        let w = this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_13__["default"](0));
        if (this.menu)
            w.onComplete.push(this.requestRemoval.bind(this.menu), this);
        w.onComplete.push((() => { if (this.menu)
            this.menu.visible = true; }).bind(this), this);
        let detailMenuModel = this.uiModel.currentDetailMenu.value;
        if (detailMenuModel) {
            let container = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["Rect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), undefined, this.uiModel.backgroundColour, 2));
            container.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1))));
            container.canvasFunction = (ctx) => {
                ctx.shadowColor = "black";
                ctx.shadowOffsetX = 0;
                ctx.shadowOffsetY = 0;
                ctx.shadowBlur = 10;
            };
            let innerContainer = container.addChild(new engine_GameObject__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_15__["default"](dim => new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_10__["default"](0, -_MainFrame__WEBPACK_IMPORTED_MODULE_16__["MainFrame"].tabListHeightConditional(dim).height)))));
            let canvas = document.createElement('canvas');
            let context2D = canvas.getContext("2d");
            let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__["default"](detailMenuModel.title, context2D, "black", 12, "sans-serif");
            innerContainer.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_8__["default"](10, 4, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0, 0)))));
            if (detailMenuModel.spellList) {
                let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_9__["GridBuilder"]();
                detailMenuModel.spellList.spells.forEach(s => {
                    let icon = this.uiModel.getSpellIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), s);
                    let textbg = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_14__["default"](0, 0.9, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_10__["default"](0, 12)), this.uiModel.backgroundColour);
                    textbg.opacity = 0.8;
                    icon.addChild(textbg);
                    let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__["default"](s.name, context2D, this.uiModel.textColour, 10, "sans-serif", 1.4);
                    let nameText = tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_14__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5))));
                    textbg.addChild(nameText);
                    let b = new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0.2, 1, innerContainer.transform.bounds), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_10__["default"](0, -20)));
                    b.addChild(icon);
                    b.setHoverRect(b.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["OutlineRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "red", 2)));
                    b.setPressedRect(b.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["OutlineRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "red", 2)));
                    b.onClick.push(this.uiModel.clickSpellButton.bind(this.uiModel, s), this);
                    gb.pushCell(b);
                    let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_12__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration));
                    holdTrigger.onHold.push(this.uiModel.holdSpellButton.bind(this.uiModel, s), this);
                    holdTrigger.onHold.push(b.reset.bind(b), this);
                    holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
                    b.addChild(holdTrigger);
                });
                gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_9__["GridOrientation"].Horizontal, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_8__["default"](0, 20)));
                innerContainer.addChild(gb.grid);
            }
            this.menu = container;
            this.menu.visible = false;
        }
        this.requestDraw();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DetailMenuModel; });
class DetailMenuModel {
    constructor(spellList) {
        this.spellList = spellList;
        if (!spellList)
            this.title = "Quick Items";
        else {
            this.title = spellList.name + " spells";
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/LevelNameFrame.ts":
/*!*********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/LevelNameFrame.ts ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LevelNameFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_ui_ClickTrigger__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/ui/ClickTrigger */ "./src/engine/gameobject/ui/ClickTrigger.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");











class LevelNameFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        let bg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_6__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__["default"](1, 1)), "black"));
        bg.opacity = 0.6;
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_3__["default"](this.uiModel.levelName, context2D, "white", 48, "serif", 1.4);
        this.nameText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.4, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 1)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_9__["default"](0, -20))));
        this.nameText.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 10;
        };
        let tb2 = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_3__["default"](this.uiModel.parentAreaName, context2D, "white", 24, "serif", 1.4);
        this.parentNameText = this.addChild(tb2.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.4, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0)))));
        this.parentNameText.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 10;
        };
        let ct = this.addChild(new engine_gameobject_ui_ClickTrigger__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__["default"](1, 1))));
        ct.onClick.push(this.uiModel.clickLevelNameFrame.bind(this.uiModel), this);
        ct.handleClicks = true;
        ct.onlyIfUnhandled = true;
    }
    onOpen() {
        this.opacity = 0;
        this.nameText.text = this.uiModel.levelName;
        this.parentNameText.text = this.uiModel.parentAreaName;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__["default"](this, "opacity", 1, 200)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
    onClosing() {
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__["default"](this, "opacity", 0, 400)).onComplete.push(this.close.bind(this), this);
    }
    onClose() {
        this.opacity = 0;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/Map.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/Map.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Map; });
/* harmony import */ var engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/context2d/DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/context2d/Circle */ "./src/engine/gameobject/context2d/Circle.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_context2d_Triangle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/context2d/Triangle */ "./src/engine/gameobject/context2d/Triangle.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");













class Map extends engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameModel) {
        let w = gameModel.world.currentLevel.value.width;
        let h = gameModel.world.currentLevel.value.depth;
        super(null, new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](w * 100, h * 100)));
        this.cellSize = 100;
        this.edgeWidth = this.cellSize / 10;
        this.gameModel = gameModel;
        this.npcIcons = [];
        this.currentMapY = undefined;
    }
    create() {
        super.create();
        this.gameModel.listener.onMove.push(this.updatePlayer.bind(this), this);
        this.gameModel.listener.onTurn.push(this.updatePlayer.bind(this), this);
        this.gameModel.listener.onWorldChange.push(this.updateMapVisibility.bind(this), this);
        this.gameModel.listener.onSwitchLevel.push(this.recreateMap.bind(this), this);
        this.recreateMap();
    }
    recreateMap() {
        this.levelModel = this.gameModel.world.currentLevel.value;
        this.createMap(this.levelModel);
        this.createNPCs(this.levelModel);
        this.updatePlayer();
    }
    createNPC(npc) {
        let npcIcon = this.addChild(new engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_4__["FillCircle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize / 4, this.cellSize / 4)), undefined));
        this.npcIcons.forEach(n => n.requestRemoval());
        this.npcIcons.push(npcIcon);
        npc.alive.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        npc.position.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        npc.looted.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        this.updateNPC(npc, npcIcon);
    }
    updateNPC(npc, npcIcon) {
        if (npc.looted.value)
            npcIcon.visible = false;
        else {
            npcIcon.transform.position.clearTranslations();
            npcIcon.transform.position.addTranslation(new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"]((npc.position.value.x + 0.5) * this.cellSize, (npc.position.value.z + 0.5) * this.cellSize, new engine_util_Point__WEBPACK_IMPORTED_MODULE_9__["default"](0.5, 0.5)));
            let colour = npc.hostile ? "red" : "green";
            if (!(npc.alive.value))
                colour = "blue";
            npcIcon.fillStyle = colour;
            npcIcon.requestDraw();
        }
    }
    createNPCs(level) {
        level.npcs.forEach(n => this.createNPC(n));
    }
    updatePlayer() {
        this.playerIcon.transform.position.clearTranslations();
        this.playerIcon.transform.position.addTranslation(new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"]((this.gameModel.player.position.x + 0.5) * this.cellSize, (this.gameModel.player.position.z + 0.5) * this.cellSize, new engine_util_Point__WEBPACK_IMPORTED_MODULE_9__["default"](0.5, 0.5)));
        if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].North)
            this.playerIcon.transform.rotation = 0;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].NorthEast)
            this.playerIcon.transform.rotation = Math.PI / 4;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].East)
            this.playerIcon.transform.rotation = Math.PI / 2;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].SouthEast)
            this.playerIcon.transform.rotation = 3 * (Math.PI / 4);
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].South)
            this.playerIcon.transform.rotation = Math.PI;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].SouthWest)
            this.playerIcon.transform.rotation = -3 * (Math.PI / 4);
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].West)
            this.playerIcon.transform.rotation = -Math.PI / 2;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].NorthWest)
            this.playerIcon.transform.rotation = -Math.PI / 4;
        if (this.gameModel.player.position.y !== this.currentMapY) {
            this.switchToLayer(this.gameModel.player.position.y);
        }
    }
    switchToLayer(y) {
        this.mapLayers.forEach((l, i) => {
            if (i === y) {
                if (l.opacity !== 1)
                    this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 1, 300));
            }
            else if ((i === y - 1) || (i === y + 1)) {
                if (l.opacity !== 0.5)
                    this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 0.5, 300));
            }
            else if (l.opacity !== 0)
                this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 0, 300));
        });
        this.currentMapY = y;
    }
    updateMapVisibility() {
        for (let y = 0; y < this.levelModel.height; y++)
            for (let x = 0; x < this.levelModel.width; x++)
                for (let z = 0; z < this.levelModel.depth; z++)
                    this.mapCells[x][y][z].visible = !(this.levelModel.cells[x][y][z].walls[4].hidden.value);
    }
    createMap(level) {
        this.mapCells = new Array(level.width);
        for (let i = 0; i < level.width; i++) {
            this.mapCells[i] = new Array(level.height);
            for (let j = 0; j < level.height; j++) {
                this.mapCells[i][j] = new Array(level.depth);
            }
        }
        let layers = [];
        for (let y = 0; y < level.height; y++) {
            let l = new engine_GameObject__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__["default"](1, 1)));
            for (let x = 0; x < level.width; x++) {
                for (let z = 0; z < level.depth; z++) {
                    let r = l.addChild(this.createRect(x, z, level.cells[x][y][z]));
                    if (level.cells[x][y][z].walls[4].hidden.value)
                        r.visible = false;
                    this.mapCells[x][y][z] = r;
                }
            }
            l.opacity = 0;
            layers.push(this.addChild(l));
        }
        if (this.mapLayers)
            this.mapLayers.forEach(l => l.requestRemoval());
        this.mapLayers = layers;
        if (this.playerIcon)
            this.playerIcon.requestRemoval();
        this.playerIcon = this.addChild(new engine_gameobject_context2d_Triangle__WEBPACK_IMPORTED_MODULE_10__["FillTriangle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize / 2, this.cellSize / 2)), "black"));
    }
    createRect(x, z, cell) {
        return new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](x * this.cellSize + this.edgeWidth / 2, z * this.cellSize + this.edgeWidth / 2)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize - this.edgeWidth, this.cellSize - this.edgeWidth)), "white");
    }
    destroy() {
        super.destroy();
        this.gameModel.listener.onMove.unregister(this);
        this.gameModel.listener.onTurn.unregister(this);
        this.gameModel.listener.onWorldChange.unregister(this);
        this.gameModel.listener.onSwitchLevel.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts":
/*!*******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts ***!
  \*******************************************************************************/
/*! exports provided: default, MiniMapFrameListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MiniMapFrame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MiniMapFrameListener", function() { return MiniMapFrameListener; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/context2d/Circle */ "./src/engine/gameobject/context2d/Circle.ts");
/* harmony import */ var engine_gameobject_context2d_BufferClone__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/context2d/BufferClone */ "./src/engine/gameobject/context2d/BufferClone.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");












class MiniMapFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        let miniMap = this.addChild(this.createMiniMap());
        let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), this.uiModel.holdDuration));
        holdTrigger.onHold.push(this.uiModel.holdMiniMap.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
    }
    mapClip(ctx, pos, dim) {
        ctx.translate(pos.x + dim.width / 2, pos.y + dim.height / 2);
        ctx.rotate(this.uiModel.mapRotation.y);
        ctx.translate(-(pos.x + dim.width / 2), -(pos.y + dim.height / 2));
        ctx.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(dim.width, dim.height) / 2, 0, 2 * Math.PI);
    }
    setMapOriginAndArea(bufferClone) {
        let levelDim = new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](this.gameModel.world.currentLevel.value.width, this.gameModel.world.currentLevel.value.depth);
        let cellSize = 100;
        let radius = 5;
        bufferClone.origin = new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_9__["default"]((this.gameModel.player.position.x + 0.5 - radius) * cellSize, (this.gameModel.player.position.z + 0.5 - radius) * cellSize);
        bufferClone.area = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__["default"](cellSize * radius * 2, cellSize * radius * 2);
    }
    createMiniMap() {
        let mapArea = new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)));
        mapArea.onClick.push(() => this.listener.onMapClick.call(), this);
        let mapBackground = mapArea.addChild(new engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_5__["FillCircle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), "grey"));
        mapBackground.opacity = 0.5;
        let mapCircle = mapArea.addChild(new engine_gameobject_context2d_BufferClone__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), this.uiModel.map));
        this.setMapOriginAndArea(mapCircle);
        mapCircle.clipFunction = this.mapClip.bind(this);
        this.gameModel.listener.onMove.push(this.setMapOriginAndArea.bind(this, mapCircle), this);
        this.gameModel.listener.onSwitchLevel.push(this.setMapOriginAndArea.bind(this, mapCircle), this);
        return mapArea;
    }
}
class MiniMapFrameListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameListener"] {
    constructor() {
        super(...arguments);
        this.onMapClick = new engine_util_Event__WEBPACK_IMPORTED_MODULE_10__["default"]();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PartyStatusMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _StatusList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StatusList */ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts");





class PartyStatusMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this._uiModel = uiModel;
    }
    create() {
        this.list = this.addChild(this.createList());
        this._uiModel.gameModel.party.statuses.onUpdate.push(() => {
            this.list.requestRemoval();
            this.list = this.addChild(this.createList());
        }, this);
    }
    createList() {
        return new _StatusList__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), this._uiModel.gameModel.party.statuses.value, this._uiModel);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts":
/*!*********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PortraitButton; });
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var _StatusList__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StatusList */ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");










class PortraitButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"] {
    constructor(position, bounds, characterModel, uiModel) {
        super(position, bounds);
        this._isSelected = false;
        this._isWaiting = false;
        this.characterModel = characterModel;
        this.uiModel = uiModel;
    }
    get filename() { return this.characterModel.portraitType.filename; }
    get isSelected() { return this._isSelected; }
    get isWaiting() { return this._isWaiting; }
    set isSelected(val) {
        this._isSelected = val;
        this.selectedHighlight.visible = val;
    }
    set isWaiting(val) {
        this._isWaiting = val;
        this.waitingHighlight.visible = val;
    }
    create() {
        super.create();
        this.waitingHighlight = this.addChild(this.uiModel.getCharacterWaitingHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.selectedHighlight = this.addChild(this.uiModel.getCharacterSelectedHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.portrait = this.uiModel.getCharacterPortraitImage(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel);
        this.addChild(this.portrait);
        this.nextHighlight = this.addChild(this.uiModel.getCharacterNextHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0.5, 0.15)), this.characterModel));
        this.hitFilter = this.portrait.addChild(this.uiModel.getCharacterHitFilter(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.hpBar = this.addChild(this.uiModel.getCharacterHPBar(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0, 0.5)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](2, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](8, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0.75)), this.characterModel));
        this.manaBar = this.addChild(this.uiModel.getCharacterManaBar(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](1, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0.5)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](-2, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](8, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0.75)), this.characterModel));
        let statusList = this.addChild(new _StatusList__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](-16, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](32, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 1)), this.characterModel.statuses, this.uiModel));
        let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.uiModel.holdDuration));
        holdTrigger.onHold.push(this.uiModel.holdCharacterPortrait.bind(this.uiModel, this.characterModel), this);
        holdTrigger.onHold.push(this.reset.bind(this), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        holdTrigger.onlyIfUnhandled = true;
    }
    _drawEllipse(ctx, x, y, w, h) {
        var kappa = .5522848, ox = (w / 2) * kappa, oy = (h / 2) * kappa, xe = x + w, ye = y + h, xm = x + w / 2, ym = y + h / 2;
        ctx.beginPath();
        ctx.moveTo(x, ym);
        ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
        ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
        ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
        ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/SpellInfoFrame.ts":
/*!*********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/SpellInfoFrame.ts ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SpellInfoFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_ui_ClickTrigger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/ClickTrigger */ "./src/engine/gameobject/ui/ClickTrigger.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/dimension/RelativeDimension */ "./src/engine/transform/dimension/RelativeDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");














class SpellInfoFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, spell, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.spell = spell;
    }
    create() {
        this.scrim = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), "black"));
        this.scrim.opacity = 0.5;
        let container = new engine_GameObject__WEBPACK_IMPORTED_MODULE_12__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_10__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_9__["default"](320, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0, 1)));
        this.addChild(container);
        let icon = this.uiModel.getSpellIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__["default"](70, 100)), this.spell);
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_3__["default"](this.spell.name, context2D, this.uiModel.textColour, 14, "sans-serif", 1.4, 320 - 80);
        let titleText = tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"]());
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_3__["default"](this.spell.baseDescription, context2D, this.uiModel.textColour, 12, "sans-serif", 1.4, 320 - 80);
        let descText1 = tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"]());
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_3__["default"]("Level 2: " + this.spell.level2Description, context2D, this.uiModel.textColour, 12, "sans-serif", 1.4, 320 - 80);
        let descText2 = tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"]());
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_3__["default"]("Level 3: " + this.spell.level3Description, context2D, this.uiModel.textColour, 12, "sans-serif", 1.4, 320 - 80);
        let descText3 = tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"]());
        let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_7__["GridBuilder"]();
        gb.pushCell(titleText);
        gb.pushCell(descText1);
        if (this.spell.level2Description)
            gb.pushCell(descText2);
        if (this.spell.level3Description)
            gb.pushCell(descText3);
        gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_7__["GridOrientation"].Vertical);
        gb.grid.addPixelPadding(20);
        gb.pushCell(icon, 0);
        gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_7__["GridOrientation"].Horizontal, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_10__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 0.5))));
        gb.grid.addPixelPadding(10);
        container.addChild(gb.grid);
        let bg = gb.grid.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__["Rect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_10__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__["default"](20, 20)), undefined, this.uiModel.backgroundColour, 2));
        bg.opacity = 0.9;
        bg.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            ctx.shadowBlur = 10;
        };
        let ct = this.addChild(new engine_gameobject_ui_ClickTrigger__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1))));
        ct.onClick.push(this.onClosing.bind(this), this);
        ct.handleClicks = true;
        ct.onlyIfUnhandled = true;
    }
    onOpen() {
        this.scrim.opacity = 0;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__["default"](this.scrim, "opacity", 0.5, 200)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.scrim.opacity = 0.5;
    }
    onClosing() {
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__["default"](this.scrim, "opacity", 0, 200)).onComplete.push(this.close.bind(this), this);
    }
    onClose() {
        this.scrim.opacity = 0;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts":
/*!*****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StatusList; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");









class StatusList extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, statuses, uiModel) {
        super(position, bounds);
        this.statuses = statuses;
        this.uiModel = uiModel;
    }
    create() {
        let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__["GridBuilder"]();
        for (let i = 0; i < this.statuses.length; i++) {
            let icon = this.uiModel.getStatusIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1, this.transform.bounds)), this.statuses[i]);
            icon.transform.bounds.targetAspectRatio = 1;
            gb.pushCell(icon);
            icon.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1))));
            let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
            holdTrigger.onHold.push(this.uiModel.holdStatusIcon.bind(this.uiModel, this.statuses[i]), this);
            holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
            icon.addChild(holdTrigger);
        }
        gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__["GridOrientation"].Vertical, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0, 1))));
        this.addChild(gb.grid);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TabButton; });
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/RoundedRect */ "./src/engine/gameobject/context2d/RoundedRect.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");





class TabButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"] {
    constructor(position, bounds, tabIcon) {
        super(position, bounds);
        this.tabIcon = tabIcon;
    }
    create() {
        let bg = this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "#f3e7d7", 0, 10));
        bg.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 0;
            ctx.shadowOffsetY = 0;
            ctx.shadowBlur = 10;
        };
        this.setHoverRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "white", 0, 10)));
        this.setPressedRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "white", 0, 10)));
        super.create();
        this.addChild(this.tabIcon);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TabListMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _TabButton__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TabButton */ "./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");










class TabListMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 0.5)), this.uiModel.backgroundColour));
        this.uiModel.onCharacterSelected.push(this.createMenu.bind(this), this);
        if (this.uiModel.selectedCharacter)
            this.createMenu();
    }
    createMenu() {
        if (this.grid)
            this.grid.requestRemoval();
        if (this.uiModel.selectedCharacter) {
            let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__["GridBuilder"]();
            let tabs = this.createTabs();
            for (let i = 0; i < tabs.length; i++) {
                gb.pushCell(tabs[i]);
            }
            gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__["GridOrientation"].Horizontal);
            this.grid = this.addChild(gb.grid);
        }
        else {
            this.grid = this.addChild(this.uiModel.getAnimWaitHourglass(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](1, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1))));
            this.grid.transform.bounds.targetAspectRatio = 1;
        }
    }
    createTabs() {
        let tabs = [];
        let tab = this.createTabButton(this.uiModel.getQuickItemTabIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0.7, 0.7))));
        tabs.push(tab);
        tab.onClick.push(this.uiModel.clickQuickItemsTabButton.bind(this.uiModel), this);
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdQuickItemsTabButton.bind(this.uiModel), this);
        holdTrigger.onHold.push(tab.reset.bind(tab), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        tab.addChild(holdTrigger);
        this.uiModel.selectedCharacter.spellLists.forEach(l => {
            let tab = this.createTabButton(this.uiModel.getSpellListTabIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0.7, 0.7)), l));
            tabs.push(tab);
            tab.onClick.push(this.uiModel.clickSpellListTabButton.bind(this.uiModel, l), this);
            let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
            holdTrigger.onHold.push(this.uiModel.holdSpellListTabButton.bind(this.uiModel, l), this);
            holdTrigger.onHold.push(tab.reset.bind(tab), this);
            holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
            tab.addChild(holdTrigger);
        });
        return tabs;
    }
    createTabButton(child) {
        let tab = new _TabButton__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1, this.transform.bounds)), child);
        tab.transform.bounds.targetAspectRatio = 1;
        tab.addChild(child);
        return tab;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/data.ts":
/*!****************************************************!*\
  !*** ./src/examples/classic-rpg-interface/data.ts ***!
  \****************************************************/
/*! exports provided: TextureEmpty, gameData, GameData, SkyboxData, PortraitData, WallData, WallDetailsData, WorldObjectData, NPCData, ActionData, LevelData, PartyData, CharacterData, PlayerData, UIData, ItemData, WeaponItemData, SpellListData, SpellData, DoorData, LevelDoorData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gameData", function() { return gameData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameData", function() { return GameData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkyboxData", function() { return SkyboxData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PortraitData", function() { return PortraitData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WallData", function() { return WallData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WallDetailsData", function() { return WallDetailsData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorldObjectData", function() { return WorldObjectData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NPCData", function() { return NPCData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionData", function() { return ActionData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelData", function() { return LevelData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartyData", function() { return PartyData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterData", function() { return CharacterData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlayerData", function() { return PlayerData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIData", function() { return UIData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemData", function() { return ItemData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeaponItemData", function() { return WeaponItemData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpellListData", function() { return SpellListData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpellData", function() { return SpellData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DoorData", function() { return DoorData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelDoorData", function() { return LevelDoorData; });
/* harmony import */ var assets_rpg_portrait_FlareMaleHero2_resize_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! assets/rpg/portrait/FlareMaleHero2-resize.png */ "./src/assets/rpg/portrait/FlareMaleHero2-resize.png");
/* harmony import */ var assets_rpg_portrait_FlareMaleHero2_resize_png__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_FlareMaleHero2_resize_png__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var assets_rpg_portrait_FlareMaleHero3_resize_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/rpg/portrait/FlareMaleHero3-resize.png */ "./src/assets/rpg/portrait/FlareMaleHero3-resize.png");
/* harmony import */ var assets_rpg_portrait_FlareMaleHero3_resize_png__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_FlareMaleHero3_resize_png__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var assets_rpg_portrait_FlareFemaleHero2_resize_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! assets/rpg/portrait/FlareFemaleHero2-resize.png */ "./src/assets/rpg/portrait/FlareFemaleHero2-resize.png");
/* harmony import */ var assets_rpg_portrait_FlareFemaleHero2_resize_png__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_FlareFemaleHero2_resize_png__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var assets_rpg_portrait_FlareFemaleHero3_resize_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! assets/rpg/portrait/FlareFemaleHero3-resize.png */ "./src/assets/rpg/portrait/FlareFemaleHero3-resize.png");
/* harmony import */ var assets_rpg_portrait_FlareFemaleHero3_resize_png__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_FlareFemaleHero3_resize_png__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! assets/rpg/portrait/5p.png */ "./src/assets/rpg/portrait/5p.png");
/* harmony import */ var assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! assets/rpg/portrait/6p.png */ "./src/assets/rpg/portrait/6p.png");
/* harmony import */ var assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! assets/rpg/portrait/7p.png */ "./src/assets/rpg/portrait/7p.png");
/* harmony import */ var assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! assets/rpg/portrait/8p.png */ "./src/assets/rpg/portrait/8p.png");
/* harmony import */ var assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! assets/rpg/portrait/9p.png */ "./src/assets/rpg/portrait/9p.png");
/* harmony import */ var assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! assets/rpg/portrait/10p.png */ "./src/assets/rpg/portrait/10p.png");
/* harmony import */ var assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! assets/rpg/portrait/11p.png */ "./src/assets/rpg/portrait/11p.png");
/* harmony import */ var assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! assets/rpg/portrait/12p.png */ "./src/assets/rpg/portrait/12p.png");
/* harmony import */ var assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! assets/rpg/portrait/13p.png */ "./src/assets/rpg/portrait/13p.png");
/* harmony import */ var assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! assets/rpg/portrait/14p.png */ "./src/assets/rpg/portrait/14p.png");
/* harmony import */ var assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! assets/rpg/textures/empty.png */ "./src/assets/rpg/textures/empty.png");
/* harmony import */ var assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14__);
/* harmony reexport (default from non-harmony) */ __webpack_require__.d(__webpack_exports__, "TextureEmpty", function() { return assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a; });
/* harmony import */ var assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! assets/rpg/textures/4-arch.png */ "./src/assets/rpg/textures/4-arch.png");
/* harmony import */ var assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! assets/rpg/textures/Battered Red Clover.jpg */ "./src/assets/rpg/textures/Battered Red Clover.jpg");
/* harmony import */ var assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! assets/rpg/textures/Granite Wall.jpg */ "./src/assets/rpg/textures/Granite Wall.jpg");
/* harmony import */ var assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! assets/rpg/textures/Segmented Stone Wall.jpg */ "./src/assets/rpg/textures/Segmented Stone Wall.jpg");
/* harmony import */ var assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! assets/rpg/textures/Samaris Metal.jpg */ "./src/assets/rpg/textures/Samaris Metal.jpg");
/* harmony import */ var assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! assets/rpg/textures/Palace Floor.jpg */ "./src/assets/rpg/textures/Palace Floor.jpg");
/* harmony import */ var assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! assets/rpg/textures/Smudged Dirt.jpg */ "./src/assets/rpg/textures/Smudged Dirt.jpg");
/* harmony import */ var assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! assets/rpg/textures/Carved Sandstone.jpg */ "./src/assets/rpg/textures/Carved Sandstone.jpg");
/* harmony import */ var assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! assets/rpg/textures/Asylum Cell Orange.jpg */ "./src/assets/rpg/textures/Asylum Cell Orange.jpg");
/* harmony import */ var assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! assets/rpg/textures/Council Chamber.jpg */ "./src/assets/rpg/textures/Council Chamber.jpg");
/* harmony import */ var assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! assets/rpg/textures/Samaris.jpg */ "./src/assets/rpg/textures/Samaris.jpg");
/* harmony import */ var assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! assets/rpg/textures/Slime Wall.jpg */ "./src/assets/rpg/textures/Slime Wall.jpg");
/* harmony import */ var assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! assets/rpg/textures/Dark Gray Marble.jpg */ "./src/assets/rpg/textures/Dark Gray Marble.jpg");
/* harmony import */ var assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! assets/rpg/textures/Glassy Pink Marble.jpg */ "./src/assets/rpg/textures/Glassy Pink Marble.jpg");
/* harmony import */ var assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! assets/rpg/textures/Smashed Gray Marble.jpg */ "./src/assets/rpg/textures/Smashed Gray Marble.jpg");
/* harmony import */ var assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! assets/rpg/textures/Dead Caves.jpg */ "./src/assets/rpg/textures/Dead Caves.jpg");
/* harmony import */ var assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! assets/rpg/textures/Fen Stone.jpg */ "./src/assets/rpg/textures/Fen Stone.jpg");
/* harmony import */ var assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! assets/rpg/textures/Brown Qussair Granite.jpg */ "./src/assets/rpg/textures/Brown Qussair Granite.jpg");
/* harmony import */ var assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! assets/rpg/textures/Rough Orthoclase.jpg */ "./src/assets/rpg/textures/Rough Orthoclase.jpg");
/* harmony import */ var assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! assets/rpg/textures/Midnight Stone.jpg */ "./src/assets/rpg/textures/Midnight Stone.jpg");
/* harmony import */ var assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! assets/rpg/textures/Weedy Lawn.jpg */ "./src/assets/rpg/textures/Weedy Lawn.jpg");
/* harmony import */ var assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! assets/rpg/textures/Moss Cushions.jpg */ "./src/assets/rpg/textures/Moss Cushions.jpg");
/* harmony import */ var assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36__);
/* harmony import */ var assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! assets/rpg/textures/Forest Floor.jpg */ "./src/assets/rpg/textures/Forest Floor.jpg");
/* harmony import */ var assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37__);
/* harmony import */ var assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! assets/rpg/textures/Weeds and Gravel.jpg */ "./src/assets/rpg/textures/Weeds and Gravel.jpg");
/* harmony import */ var assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38__);
/* harmony import */ var assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! assets/rpg/textures/Mossy Rock.jpg */ "./src/assets/rpg/textures/Mossy Rock.jpg");
/* harmony import */ var assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Door (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45__);
/* harmony import */ var assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! assets/rpg/textures/Sandy Lichen Brick.jpg */ "./src/assets/rpg/textures/Sandy Lichen Brick.jpg");
/* harmony import */ var assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46__);
/* harmony import */ var assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! assets/rpg/textures/Straw Roof.jpg */ "./src/assets/rpg/textures/Straw Roof.jpg");
/* harmony import */ var assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47__);
/* harmony import */ var assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! assets/rpg/textures/Straw Roof Interior.jpg */ "./src/assets/rpg/textures/Straw Roof Interior.jpg");
/* harmony import */ var assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_east.png */ "./src/assets/rpg/skybox/clouds1/clouds1_east.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_west.png */ "./src/assets/rpg/skybox/clouds1/clouds1_west.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_up.png */ "./src/assets/rpg/skybox/clouds1/clouds1_up.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_down.png */ "./src/assets/rpg/skybox/clouds1/clouds1_down.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_north.png */ "./src/assets/rpg/skybox/clouds1/clouds1_north.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_south.png */ "./src/assets/rpg/skybox/clouds1/clouds1_south.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54__);
/* harmony import */ var assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! assets/rpg/npcs/ukobach-test.png */ "./src/assets/rpg/npcs/ukobach-test.png");
/* harmony import */ var assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55__);
/* harmony import */ var assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! assets/rpg/npcs/buer-test.png */ "./src/assets/rpg/npcs/buer-test.png");
/* harmony import */ var assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56__);
/* harmony import */ var assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! assets/rpg/npcs/skull-crossbones.png */ "./src/assets/rpg/npcs/skull-crossbones.png");
/* harmony import */ var assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57__);
/* harmony import */ var assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! assets/rpg/npcs/fancy-dress-12.png */ "./src/assets/rpg/npcs/fancy-dress-12.png");
/* harmony import */ var assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58__);
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! assets/rpg/textures/Antediluvian Door.png */ "./src/assets/rpg/textures/Antediluvian Door.png");
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59__);
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! assets/rpg/textures/Antediluvian Door-alphamap.png */ "./src/assets/rpg/textures/Antediluvian Door-alphamap.png");
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60__);
/* harmony import */ var assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! assets/rpg/levels/large-house.json */ "./src/assets/rpg/levels/large-house.json");
var assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61___namespace = /*#__PURE__*/__webpack_require__.t(/*! assets/rpg/levels/large-house.json */ "./src/assets/rpg/levels/large-house.json", 1);
/* harmony import */ var assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! assets/rpg/levels/open-country.json */ "./src/assets/rpg/levels/open-country.json");
var assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62___namespace = /*#__PURE__*/__webpack_require__.t(/*! assets/rpg/levels/open-country.json */ "./src/assets/rpg/levels/open-country.json", 1);
/* harmony import */ var assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! assets/rpg/spells/beautiful-bird.jpg */ "./src/assets/rpg/spells/beautiful-bird.jpg");
/* harmony import */ var assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63__);
/* harmony import */ var assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! assets/rpg/ui/hourglass.png */ "./src/assets/rpg/ui/hourglass.png");
/* harmony import */ var assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64__);
/* harmony import */ var assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! assets/rpg/ui/charsheet-icon.png */ "./src/assets/rpg/ui/charsheet-icon.png");
/* harmony import */ var assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65__);
/* harmony import */ var assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! assets/rpg/ui/earth-spell-tab.png */ "./src/assets/rpg/ui/earth-spell-tab.png");
/* harmony import */ var assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66__);
/* harmony import */ var assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! assets/rpg/ui/air-spell-tab.png */ "./src/assets/rpg/ui/air-spell-tab.png");
/* harmony import */ var assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67__);
/* harmony import */ var assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! assets/rpg/ui/fire-spell-tab.png */ "./src/assets/rpg/ui/fire-spell-tab.png");
/* harmony import */ var assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68__);
/* harmony import */ var assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! assets/rpg/ui/water-spell-tab.png */ "./src/assets/rpg/ui/water-spell-tab.png");
/* harmony import */ var assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69__);
/* harmony import */ var assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! assets/rpg/ui/quick-items-tab.png */ "./src/assets/rpg/ui/quick-items-tab.png");
/* harmony import */ var assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70__);








































































let gameData = {
    skyboxes: [{ xPos: assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49___default.a, xNeg: assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50___default.a, yPos: assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51___default.a, yNeg: assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52___default.a, zPos: assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53___default.a, zNeg: assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54___default.a }],
    portraits: [{ filename: assets_rpg_portrait_FlareMaleHero2_resize_png__WEBPACK_IMPORTED_MODULE_0___default.a },
        { filename: assets_rpg_portrait_FlareMaleHero3_resize_png__WEBPACK_IMPORTED_MODULE_1___default.a },
        { filename: assets_rpg_portrait_FlareFemaleHero2_resize_png__WEBPACK_IMPORTED_MODULE_2___default.a },
        { filename: assets_rpg_portrait_FlareFemaleHero3_resize_png__WEBPACK_IMPORTED_MODULE_3___default.a },
        { filename: assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4___default.a },
        { filename: assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5___default.a },
        { filename: assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6___default.a },
        { filename: assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7___default.a },
        { filename: assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8___default.a },
        { filename: assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9___default.a },
        { filename: assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10___default.a },
        { filename: assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11___default.a },
        { filename: assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12___default.a },
        { filename: assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13___default.a }],
    walls: [{ filename: assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a, passable: true, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15___default.a, passable: true, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] }],
    doors: [{ filename: assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59___default.a, alphaMap: assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60___default.a, normalMap: "" }],
    objects: [{ name: "Chest", filename: "assets/rpg/Basic RPG Item Free/Metal Case_01.png" },
        { name: "Lever", filename: "rpg/object/3.png" },
        { name: "Button", filename: "rpg/object/4.png" }],
    npcs: [{
            name: "Ukobach",
            filename: assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.5,
            hp: "3d8+3",
            loot: "3d4",
            hostile: true,
            actions: [{ name: "Sword", type: "attack", range: 1, damage: "2d6", toHit: "3", recovery: "2" },
                { name: "Bow", type: "attack", range: 6, damage: "1d4", toHit: "3", recovery: "10" }]
        },
        {
            name: "Buer",
            filename: assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.8,
            hp: "6d8+6",
            loot: "6d8",
            hostile: true,
            actions: [{ name: "Bite", type: "attack", range: 1, damage: "2d8", toHit: "4", recovery: "3" }]
        },
        {
            name: "Fancy Dress 12",
            filename: assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.6,
            hp: "2d6",
            loot: "3d4",
            hostile: false,
            actions: []
        }],
    equipment: [{ type: "weapon", name: "Sword", damage: "2d6", toHit: 4, range: 1 },
        { type: "weapon", name: "Bow", damage: "1d8", toHit: 4, range: 6 }],
    ui: { hourglassIcon: assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64___default.a, charSheetIcon: assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65___default.a, quickItemTabIcon: assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70___default.a },
    levels: [{
            name: "Dungeon", width: 2, height: 1, depth: 2,
            parentAreaName: "",
            walls: [0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0],
            doors: [],
            objects: [],
            npcs: [],
            startingPosition: [0, 0, 0],
            startingFacing: 1,
            outside: false,
            skybox: 0
        },
        {
            name: "Endsmeet", width: 10, height: 2, depth: 8,
            parentAreaName: "Western Itharia",
            walls: assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62__,
            doors: [{ type: 0, position: [6, 0, 5, 0], target: [2, 3, 1, 4, 0], openAngle: undefined }],
            objects: [],
            npcs: [],
            startingPosition: [6, 0, 7],
            startingFacing: 0,
            outside: true,
            skybox: 0
        },
        {
            name: "House of Vahs", width: 7, depth: 5, height: 3,
            parentAreaName: "Endsmeet",
            walls: assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61__,
            doors: [{ type: 0, position: [2, 1, 3, 0], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [3, 1, 4, 1], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [3, 1, 4, 2], target: [1, 6, 0, 5, 4], openAngle: undefined },
                { type: 0, position: [4, 1, 2, 1], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [4, 1, 2, 3], target: undefined, openAngle: Math.PI / 2 }],
            objects: [],
            npcs: [{ type: 0, position: [2, 1, 2] }],
            startingPosition: [3, 1, 4],
            startingFacing: 0,
            outside: false,
            skybox: undefined
        }],
    party: {
        characters: [{
                name: "Torwyn", title: "Squire", portrait: 2, equipment: [0, 1], level: 1, xp: 0, hp: 24, maxHP: 24, mana: 0, maxMana: 0,
                spellLists: []
            },
            {
                name: "Amelar", title: "Acolyte", portrait: 1, equipment: [], level: 1, xp: 0, hp: 14, maxHP: 14, mana: 8, maxMana: 8,
                spellLists: [{ list: 2, spells: [0] }]
            },
            {
                name: "Garn", title: "Pickpocket", portrait: 0, equipment: [], level: 1, xp: 0, hp: 12, maxHP: 12, mana: 0, maxMana: 0,
                spellLists: []
            },
            {
                name: "Melystra", title: "Apprentice", portrait: 3, equipment: [], level: 1, xp: 0, hp: 8, maxHP: 8, mana: 12, maxMana: 12,
                spellLists: [{ list: 0, spells: [0] },
                    { list: 1, spells: [0, 1] },
                    { list: 2, spells: [0, 1] },
                    { list: 3, spells: [] }]
            }
        ],
        gold: 0
    },
    player: { position: undefined, facing: 0, level: 1 },
    spellLists: [{ name: "Earth", icon: assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66___default.a, spells: [
                { name: "Level Editing",
                    baseDescription: "Allow editing of the level. Click on a wall to change the texture to the current active texture.",
                    level2Description: "N/A",
                    level3Description: "N/A",
                    icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }
            ] },
        { name: "Air", spells: [
                { name: "Minimap",
                    baseDescription: "Show a minimap of your surroundings.",
                    level2Description: "",
                    level3Description: "",
                    icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a },
                { name: "Fly",
                    baseDescription: "Permits flying for the duration of the spell.",
                    level2Description: "Spell duration is increased. Recovery time is reduced by 1/2.",
                    level3Description: "Spell duration is increased. Mana cost is reduced by 1/2.",
                    icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }
            ], icon: assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67___default.a },
        { name: "Fire", icon: assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68___default.a, spells: [
                { name: "Fire Bolt",
                    baseDescription: "Throws a bolt of flame at a single target, dealing 3d6 damage.",
                    level2Description: "Deals an extra 1d6 damage and recovery time is reduced",
                    level3Description: "Deals an extra 2d6 damage and recovery time is reduced to 1/4",
                    icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a },
                { name: "Torch Light",
                    baseDescription: "Creates a magical light that illuminates your surroundings. Useful indoors",
                    level2Description: "Mana cost and recovery time are reduced. Duration is doubled.",
                    level3Description: "Mana cost is reduced to 0, recovery time is reduced to 1/4. Duration is increased to 4x.",
                    icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }
            ] },
        { name: "Water", icon: assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69___default.a, spells: [] }]
};

class GameData {
}
class SkyboxData {
}
class PortraitData {
}
class WallData {
}
class WallDetailsData {
}
class WorldObjectData {
}
class NPCData {
}
class ActionData {
}
class LevelData {
}
class PartyData {
}
class CharacterData {
}
class PlayerData {
}
class UIData {
}
;
class ItemData {
}
class WeaponItemData extends ItemData {
}
class SpellListData {
}
class SpellData {
}
class DoorData {
}
class LevelDoorData {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/ActorModel.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/ActorModel.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActorModel; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class ActorModel {
    constructor() {
        this.onTakeDamage = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    rollInitiative() {
        return Math.round(Math.random() * 5);
    }
    takeDamage(damage) {
        this.hitpoints.value -= damage;
        this.checkHealthState();
        this.onTakeDamage.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/CharacterModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/CharacterModel.ts ***!
  \********************************************************************/
/*! exports provided: HealthState, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HealthState", function() { return HealthState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CharacterModel; });
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var _EquipmentModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EquipmentModel */ "./src/examples/classic-rpg-interface/model/EquipmentModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _action_LootActionModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action/LootActionModel */ "./src/examples/classic-rpg-interface/model/action/LootActionModel.ts");
/* harmony import */ var _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./action/AttackActionModel */ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var _SpellList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SpellList */ "./src/examples/classic-rpg-interface/model/SpellList.ts");
/* harmony import */ var _action_OpenDoorActionModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./action/OpenDoorActionModel */ "./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts");








var HealthState;
(function (HealthState) {
    HealthState[HealthState["Normal"] = 0] = "Normal";
    HealthState[HealthState["Unconsious"] = 1] = "Unconsious";
    HealthState[HealthState["Dead"] = 2] = "Dead";
})(HealthState || (HealthState = {}));
class CharacterModel extends _ActorModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameData, data) {
        super();
        this.unlockedActions = [];
        this.statuses = [];
        this.spellLists = [];
        this.characterData = data;
        this.portraitType = gameData.portraits[data.portrait];
    }
    get fullName() { return this.characterData.name + " the " + this.characterData.title; }
    save(gameData, characterData) {
        characterData.hp = this.hitpoints.value;
        characterData.mana = this.mana.value;
        characterData.maxHP = this.maxHitpoints.value;
        characterData.maxMana = this.maxMana.value;
        characterData.level = this.level;
        characterData.xp = this.xp;
        characterData.portrait = gameData.portraits.indexOf(this.portraitType);
    }
    get statusText() {
        if (this.healthState.value === HealthState.Normal)
            return "Good";
        if (this.healthState.value === HealthState.Unconsious)
            return "Unconsious";
        if (this.healthState.value === HealthState.Dead)
            return "Dead";
    }
    getPosition() { return this.gameModel.player.position; }
    create(gameModel) {
        this.equipmentModel = new _EquipmentModel__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this.maxHitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.characterData.maxHP);
        this.hitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.characterData.hp);
        this.gameModel = gameModel;
        this.healthState = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](HealthState.Normal);
        this.checkHealthState(false);
        this.mana = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.characterData.mana);
        this.maxMana = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.characterData.maxMana);
        this.level = this.characterData.level;
        this.xp = this.characterData.xp;
        this.characterData.spellLists.forEach(l => {
            let spells = [];
            l.spells.forEach(s => {
                let spellData = this.gameModel.data.spellLists[l.list].spells[s];
                spells.push(_SpellList__WEBPACK_IMPORTED_MODULE_6__["default"].getSpell(spellData, this.gameModel));
            });
            let sl = new _SpellList__WEBPACK_IMPORTED_MODULE_6__["default"](this.gameModel.data.spellLists[l.list].name, spells, this.gameModel.data.spellLists[l.list].icon);
            this.spellLists.push(sl);
        });
        this.equipmentModel.create(this.characterData.equipment, gameModel);
        if (this.equipmentModel.equipedWeapon) {
            let weapon = this.equipmentModel.equipedWeapon.itemData;
            this.unlockedActions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__["default"](this.gameModel, this.equipmentModel.equipedWeapon.name, weapon.damage, weapon.range));
        }
        else
            this.unlockedActions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__["default"](this.gameModel, "Unarmed", "1d4", 1));
        this.unlockedActions.push(new _action_LootActionModel__WEBPACK_IMPORTED_MODULE_3__["default"](this.gameModel));
        this.unlockedActions.push(new _action_OpenDoorActionModel__WEBPACK_IMPORTED_MODULE_7__["default"](this.gameModel));
        this.hitpoints.onUpdate.push(this.checkHealthState.bind(this), this);
    }
    checkHealthState(updateParty) {
        if (this.hitpoints.value <= 0)
            this.healthState.value = HealthState.Unconsious;
        if (this.hitpoints.value <= -this.maxHitpoints.value) {
            this.healthState.value = HealthState.Dead;
            this.statuses.push(new _Status__WEBPACK_IMPORTED_MODULE_5__["default"](_Status__WEBPACK_IMPORTED_MODULE_5__["StatusType"].Dead));
        }
        if (updateParty || updateParty === undefined)
            this.gameModel.party.checkHealthState();
    }
    availableActions(target) {
        return this.unlockedActions.filter(a => a.test(this, target));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/EquipmentModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/EquipmentModel.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EquipmentModel; });
/* harmony import */ var _ItemModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ItemModel */ "./src/examples/classic-rpg-interface/model/ItemModel.ts");

class EquipmentModel {
    constructor() {
        this.equipment = [];
    }
    create(equipmentIDs, gameModel) {
        this.gameModel = gameModel;
        equipmentIDs.forEach(id => {
            this.equipment.push(new _ItemModel__WEBPACK_IMPORTED_MODULE_0__["default"](gameModel.data.equipment[id]));
        });
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/GameModel.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/GameModel.ts ***!
  \***************************************************************/
/*! exports provided: default, GameModelListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameModelListener", function() { return GameModelListener; });
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _PlayerModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var _action_InitiativeModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action/InitiativeModel */ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");





class GameModel {
    constructor(listener, party, world, player, data) {
        this.spellLists = [];
        this.infoText = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"]("");
        this._currentPaintID = 0;
        this.listener = listener;
        this.data = data;
        this.party = party;
        this.world = world;
        this.player = player;
        this.initiative = new _action_InitiativeModel__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get currentPaintID() { return this._currentPaintID; }
    set currentPaintID(val) {
        this._currentPaintID = val % this.data.walls.length;
        if (this._currentPaintID < 0)
            this._currentPaintID = this.data.walls.length + this.currentPaintID;
    }
    create() {
        this.party.create(this.data, this);
        this.world.create(this);
        this.player.create(this, this.data);
        this.initiative.create(this, this.party);
    }
    save() {
        this.world.save(this.data);
        this.party.save(this.data);
        this.player.save(this.data);
        console.log(JSON.stringify(this.data.levels[this.world.currentLevelID].walls));
    }
    turnLeft() {
        if (this.initiative.playerCanTurn)
            this.player.turnLeft();
    }
    rotateLeft(angle) {
        if (this.initiative.playerCanTurn)
            this.player.rotateLeft(angle);
    }
    rotateRight(angle) {
        if (this.initiative.playerCanTurn)
            this.player.rotateRight(angle);
    }
    jump() {
        console.log("jump");
    }
    crouch() {
        console.log("crouch");
    }
    slideRight(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideRight(distance);
    }
    slideLeft(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideRight(-distance);
    }
    slideUpward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideUpward(distance);
    }
    slideDownward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideUpward(-distance);
    }
    slideForward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideForward(distance);
    }
    slideBackward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideForward(-distance);
    }
    turnRight() {
        if (this.initiative.playerCanTurn)
            this.player.turnRight();
    }
    resetRotation() {
        this.listener.onTurn.call();
    }
    resetPosition() {
        this.listener.onMove.call();
    }
    strafeLeft() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.strafeLeft();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    strafeRight() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.strafeRight();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    moveForward() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.moveForward();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    moveBackward() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.moveBackward();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    hoverUp() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.hoverUp();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    hoverDown() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.hoverDown();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    castSpell(spell, target) {
        let source = this.initiative.waitingCharacter.value;
        if (spell.test(source, target)) {
            let result = this.performAction(target, spell);
            if (result) {
                result.apply();
            }
        }
    }
    switchLevel(level, position, facing) {
        this.listener.onExitLevel.call();
        this.world.switchToLevel(level);
        if (position)
            this.player.position = position;
        else
            this.player.position = level.startingPosition;
        if (facing)
            this.player.facing = facing;
        else
            this.player.facing = level.startingFacing;
        this.player.updateRotationToMatchFacing();
        this.initiative.reset();
        this.listener.onSwitchLevel.call();
    }
    openDoor(door) {
        if (door.targetLevel !== undefined)
            this.switchLevel(this.world.levels[door.targetLevel], door.targetPosition, door.targetFacing);
        else
            door.changeOpenState();
    }
    toggleWallAbove() {
        this.toggleWall(5);
    }
    toggleWallBelow() {
        this.toggleWall(4);
    }
    toggleWallFront() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(3);
    }
    toggleWallBehind() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(1);
    }
    toggleWallLeft() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(2);
    }
    toggleWallRight() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(0);
    }
    toggleWall(id) {
        if (id === 0)
            this._toggleWall2(0, 2, 0, 0, -1);
        else if (id === 1)
            this._toggleWall2(1, 3, 1, 0, 0);
        else if (id === 2)
            this._toggleWall2(2, 0, 0, 0, 1);
        else if (id === 3)
            this._toggleWall2(3, 1, -1, 0, 0);
        else if (id === 4)
            this._toggleWall2(4, 5, 0, -1, 0);
        else if (id === 5)
            this._toggleWall2(5, 4, 0, 1, 0);
    }
    _toggleWall2(id, idCell2, x, y, z) {
        let currentCell = this.world.currentLevel.value.cells[this.player.position.x][this.player.position.y][this.player.position.z];
        currentCell.walls[id].hidden.value = !currentCell.walls[id].hidden.value;
        if ((this.player.position.x + x >= 0) && (this.player.position.x + x < this.world.currentLevel.value.width))
            if ((this.player.position.y + y >= 0) && (this.player.position.y + y < this.world.currentLevel.value.height))
                if ((this.player.position.z + z >= 0) && (this.player.position.z + z < this.world.currentLevel.value.depth)) {
                    let cell2 = this.world.currentLevel.value.cells[this.player.position.x + x][this.player.position.y + y][this.player.position.z + z];
                    cell2.walls[idCell2].hidden.value = currentCell.walls[id].hidden.value;
                }
        this.listener.onWorldChange.call();
    }
    paintWall(wallModel) {
        wallModel.wallData.value = this.data.walls[this.currentPaintID];
    }
    switchCharacter(character) {
        if (this.initiative.playerCanAct)
            this.initiative.switchCharacter(character);
    }
    performAction(target, action) {
        if (this.initiative.playerCanAct) {
            let source = this.initiative.waitingCharacter.value;
            let result = action.perform(source, target);
            this.initiative.performedAction(source, result);
            return result;
        }
        return null;
    }
    npcPerformAction(source, target, action) {
        if (this.initiative.npcsToAct.value.indexOf(source) !== -1) {
            let result = action.perform(source, target);
            this.initiative.performedAction(source, result);
            return result;
        }
        return null;
    }
    npcDelay(npc, time) {
        if (!npc)
            throw new Error("Cannot delay null NPC");
        this.initiative.npcDelay(npc, time);
    }
    applyActionResult(actionResult) {
        actionResult.apply();
    }
    travelTo(level) {
        this.world.switchToLevel(level);
        this.player.position = level.startingPosition;
        this.player.facing = level.startingFacing;
        this.initiative.reset();
    }
    static rollDice(diceSpec) {
        let parts = diceSpec.split("+");
        let sum = 0;
        parts.forEach(p => {
            sum += GameModel.rollSimpleDice(p);
        });
        return sum;
    }
    static rollSimpleDice(simpleDiceSpec) {
        let parts = simpleDiceSpec.split("d");
        if (parts.length === 1)
            return parseInt(parts[0]);
        let total = 0;
        for (let i = 0; i < parseInt(parts[0]); i++)
            total += Math.round(Math.random() * (parseInt(parts[1]) - 1)) + 1;
        return total;
    }
    isWithinMelee(source, target) {
        let distance = engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__["default"].minus(target, source).magnitude;
        if (distance <= 1)
            return true;
        return false;
    }
}
class GameModelListener {
    constructor() {
        this.onMove = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onTurn = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onWorldChange = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onShowMiniMapChange = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onExitLevel = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onSwitchLevel = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/ItemModel.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/ItemModel.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ItemModel; });
class ItemModel {
    get name() { return this.itemData.name; }
    get type() { return this.itemData.type; }
    constructor(itemData) {
        this.itemData = itemData;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/PartyModel.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/PartyModel.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PartyModel; });
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class PartyModel {
    create(data, gameModel) {
        this.gameModel = gameModel;
        this.characters = [];
        data.party.characters.forEach(c => this.characters.push(new _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"](data, c)));
        this.characters.forEach(c => c.create(gameModel));
        this.gold = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](data.party.gold);
        this.statuses = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"]([]);
    }
    save(data) {
        data.party.gold = this.gold.value;
        let characters = [];
        this.characters.forEach(c => {
            c.save(data, c.characterData);
            characters.push(c.characterData);
        });
        data.party.characters = characters;
    }
    addStatus(status) {
        let newStatuses = this.gameModel.party.statuses.value.filter(s => s.statusType !== status.statusType);
        newStatuses.push(status);
        this.gameModel.party.statuses.value = newStatuses;
    }
    gainGold(increment) {
        this.gold.value += increment;
        this.gameModel.infoText.value = "You gained " + increment + " gp";
    }
    checkHealthState() {
        let livingChars = this.characters.filter(c => c.healthState.value === _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["HealthState"].Normal);
        if (livingChars.length === 0) {
            this.partyDead = true;
            this.gameModel.player.gameOver = true;
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/PlayerModel.ts":
/*!*****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/PlayerModel.ts ***!
  \*****************************************************************/
/*! exports provided: Facing, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Facing", function() { return Facing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PlayerModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");



var Facing;
(function (Facing) {
    Facing[Facing["North"] = 0] = "North";
    Facing[Facing["NorthEast"] = 1] = "NorthEast";
    Facing[Facing["East"] = 2] = "East";
    Facing[Facing["SouthEast"] = 3] = "SouthEast";
    Facing[Facing["South"] = 4] = "South";
    Facing[Facing["SouthWest"] = 5] = "SouthWest";
    Facing[Facing["West"] = 6] = "West";
    Facing[Facing["NorthWest"] = 7] = "NorthWest";
})(Facing || (Facing = {}));
class PlayerModel {
    constructor() {
        this.yOffset = 0;
        this.animating = false;
        this._gameOver = false;
        this.canMove = true;
        this.canTurn = true;
        this._showTorchLight = false;
        this._showMiniMap = false;
        this.onUpdate = new engine_util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get rotation() { return this._rotation; }
    set rotation(val) { this._rotation = val; this.onUpdate.call(); }
    get finePosition() { return this._finePosition; }
    set finePosition(val) { this._finePosition = val; this.onUpdate.call(); }
    get showTorchLight() { return this._showTorchLight; }
    set showTorchLight(val) { this._showTorchLight = val; this.onUpdate.call(); }
    get showMiniMap() { return this._showMiniMap; }
    set showMiniMap(val) { this._showMiniMap = val; this.onUpdate.call(); }
    get gridPositionWithOffset() {
        let ppos = this.position;
        let pos = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](ppos.x, ppos.y + this.yOffset, ppos.z);
        return pos;
    }
    get gameOver() { return this._gameOver; }
    set gameOver(val) { this._gameOver = val; this.onUpdate.call(); }
    get canFly() {
        if (this.gameModel.party.statuses.value.filter(s => s.statusType === _Status__WEBPACK_IMPORTED_MODULE_1__["StatusType"].Flying).length >= 1)
            return true;
        return false;
    }
    get canLevelEdit() {
        if (this.gameModel.party.statuses.value.filter(s => s.statusType === _Status__WEBPACK_IMPORTED_MODULE_1__["StatusType"].LevelEdit).length >= 1)
            return true;
        return false;
    }
    get canAct() { return !(this.animating); }
    create(gameModel, data) {
        this.gameModel = gameModel;
        this.facing = data.player.facing;
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, 0);
        if (data.player.position)
            this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](data.player.position[0], data.player.position[1], data.player.position[2]);
        else
            this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](gameModel.world.currentLevel.value.startingPosition);
    }
    save(data) {
        data.player.position = [this.position.x, this.position.y, this.position.z];
        data.player.facing = this.facing;
        data.player.level = this.gameModel.world.levels.indexOf(this.gameModel.world.currentLevel.value);
    }
    updateRotationToMatchFacing() {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, this.facing * Math.PI / 4, 0);
        this.onUpdate.call();
    }
    turnRight() {
        if (this.facing === Facing.North)
            this.facing = Facing.NorthEast;
        else if (this.facing === Facing.NorthEast)
            this.facing = Facing.East;
        else if (this.facing === Facing.East)
            this.facing = Facing.SouthEast;
        else if (this.facing === Facing.SouthEast)
            this.facing = Facing.South;
        else if (this.facing === Facing.South)
            this.facing = Facing.SouthWest;
        else if (this.facing === Facing.SouthWest)
            this.facing = Facing.West;
        else if (this.facing === Facing.West)
            this.facing = Facing.NorthWest;
        else if (this.facing === Facing.NorthWest)
            this.facing = Facing.North;
        this.gameModel.listener.onTurn.call();
    }
    turnLeft() {
        if (this.facing === Facing.North)
            this.facing = Facing.NorthWest;
        else if (this.facing === Facing.NorthEast)
            this.facing = Facing.North;
        else if (this.facing === Facing.East)
            this.facing = Facing.NorthEast;
        else if (this.facing === Facing.SouthEast)
            this.facing = Facing.East;
        else if (this.facing === Facing.South)
            this.facing = Facing.SouthEast;
        else if (this.facing === Facing.SouthWest)
            this.facing = Facing.South;
        else if (this.facing === Facing.West)
            this.facing = Facing.SouthWest;
        else if (this.facing === Facing.NorthWest)
            this.facing = Facing.West;
        this.gameModel.listener.onTurn.call();
    }
    rotateLeft(angle) {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.rotation.x, (this.rotation.y + angle) % (Math.PI * 2), this.rotation.z);
        let y = Math.round(7 - (this.rotation.y / (Math.PI / 4)));
        this.facing = (y + 1) % 8;
        this.onUpdate.call();
    }
    canMoveInFacing(facing) {
        if (facing === Facing.North)
            return this.canMoveNorth();
        if (facing === Facing.NorthEast)
            return this.canMoveNorthEast();
        if (facing === Facing.East)
            return this.canMoveEast();
        if (facing === Facing.SouthEast)
            return this.canMoveSouthEast();
        if (facing === Facing.South)
            return this.canMoveSouth();
        if (facing === Facing.SouthWest)
            return this.canMoveSouthWest();
        if (facing === Facing.West)
            return this.canMoveWest();
        if (facing === Facing.NorthWest)
            return this.canMoveNorthWest();
    }
    oppositeFacing(facing) {
        if (facing === Facing.North)
            return Facing.South;
        if (facing === Facing.NorthEast)
            return Facing.SouthWest;
        if (facing === Facing.East)
            return Facing.West;
        if (facing === Facing.SouthEast)
            return Facing.NorthWest;
        if (facing === Facing.South)
            return Facing.North;
        if (facing === Facing.SouthWest)
            return Facing.NorthEast;
        if (facing === Facing.West)
            return Facing.East;
        if (facing === Facing.NorthWest)
            return Facing.SouthEast;
    }
    facingToUnitVector(facing) {
        if (facing === Facing.North)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, -1);
        if (facing === Facing.NorthEast)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, -1);
        if (facing === Facing.East)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, 0);
        if (facing === Facing.SouthEast)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, 1);
        if (facing === Facing.South)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, 1);
        if (facing === Facing.SouthWest)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, 1);
        if (facing === Facing.West)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, 0);
        if (facing === Facing.NorthWest)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, -1);
    }
    slideUpward(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        if ((distance > 0 && this.canMoveUpward()) || (distance < 0 && this.canMoveDownward()))
            this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y + distance, this.finePosition.z);
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    slideRight(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        let facing = (this.facing + 2) % 8;
        if ((distance > 0 && this.canMoveInFacing(facing)) || (distance < 0 && this.canMoveInFacing(this.oppositeFacing(facing))))
            this.finePosition = this.facingToUnitVector(facing).normalised.multiply(distance).plus(this.finePosition);
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    slideForward(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        let diagonalComponent = Math.sqrt((distance * distance) / 2) * polarity;
        if ((distance > 0 && this.canMoveInFacing(this.facing)) || (distance < 0 && this.canMoveInFacing(this.oppositeFacing(this.facing))))
            this.finePosition = this.facingToUnitVector(this.facing).normalised.multiply(distance).plus(this.finePosition);
        else {
            if (this.facing === Facing.NorthEast) {
                if ((distance > 0 && this.canMoveNorth() && !this.canMoveEast()) || (distance < 0 && this.canMoveSouth() && !this.canMoveWest()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z - distance);
                else if ((distance > 0 && this.canMoveEast() && !this.canMoveNorth()) || (distance < 0 && this.canMoveWest() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x + distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.SouthEast) {
                if ((distance > 0 && this.canMoveSouth() && !this.canMoveEast()) || (distance < 0 && this.canMoveNorth() && !this.canMoveWest()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z + distance);
                else if ((distance > 0 && this.canMoveEast() && !this.canMoveSouth()) || (distance < 0 && this.canMoveWest() && !this.canMoveNorth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x + distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.SouthWest) {
                if ((distance > 0 && this.canMoveSouth() && !this.canMoveWest()) || (distance < 0 && this.canMoveNorth() && !this.canMoveEast()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z + distance);
                else if ((distance > 0 && this.canMoveWest() && !this.canMoveSouth()) || (distance < 0 && this.canMoveEast() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x - distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.NorthWest) {
                if ((distance > 0 && this.canMoveNorth() && !this.canMoveWest()) || (distance < 0 && this.canMoveSouth() && !this.canMoveEast()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z - distance);
                else if ((distance > 0 && this.canMoveWest() && !this.canMoveNorth()) || (distance < 0 && this.canMoveEast() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x - distance, this.finePosition.y, this.finePosition.z);
            }
        }
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    _checkForGridPositionChange() {
        let rx = Math.round(this.finePosition.x);
        let ry = Math.round(this.finePosition.y);
        let rz = Math.round(this.finePosition.z);
        if (rx === this.position.x - 1)
            this.moveWest();
        if (rx == this.position.x + 1)
            this.moveEast();
        if (rz === this.position.z + 1)
            this.moveSouth();
        if (rz === this.position.z - 1)
            this.moveNorth();
    }
    rotateRight(angle) {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.rotation.x, (this.rotation.y - angle) % (Math.PI * 2), this.rotation.z);
        let y = Math.round(7 - (this.rotation.y / (Math.PI / 4)));
        this.facing = (y + 1) % 8;
        this.onUpdate.call();
    }
    moveForward() {
        if (this.facing === Facing.North)
            this.moveNorth();
        if (this.facing === Facing.NorthEast)
            this.moveNorthEast();
        if (this.facing === Facing.East)
            this.moveEast();
        if (this.facing === Facing.SouthEast)
            this.moveSouthEast();
        if (this.facing === Facing.South)
            this.moveSouth();
        if (this.facing === Facing.SouthWest)
            this.moveSouthWest();
        if (this.facing === Facing.West)
            this.moveWest();
        if (this.facing === Facing.NorthWest)
            this.moveNorthWest();
    }
    moveBackward() {
        if (this.facing === Facing.North)
            this.moveSouth();
        if (this.facing === Facing.NorthEast)
            this.moveSouthWest();
        if (this.facing === Facing.East)
            this.moveWest();
        if (this.facing === Facing.SouthEast)
            this.moveNorthWest();
        if (this.facing === Facing.South)
            this.moveNorth();
        if (this.facing === Facing.SouthWest)
            this.moveNorthEast();
        if (this.facing === Facing.West)
            this.moveEast();
        if (this.facing === Facing.NorthWest)
            this.moveSouthEast();
    }
    strafeLeft() {
        if (this.facing === Facing.North)
            this.moveWest();
        if (this.facing === Facing.NorthEast)
            this.moveNorthWest();
        if (this.facing === Facing.East)
            this.moveNorth();
        if (this.facing === Facing.SouthEast)
            this.moveNorthEast();
        if (this.facing === Facing.South)
            this.moveEast();
        if (this.facing === Facing.SouthWest)
            this.moveSouthEast();
        if (this.facing === Facing.West)
            this.moveSouth();
        if (this.facing === Facing.NorthWest)
            this.moveSouthWest();
    }
    strafeRight() {
        if (this.facing === Facing.North)
            this.moveEast();
        if (this.facing === Facing.NorthEast)
            this.moveSouthEast();
        if (this.facing === Facing.East)
            this.moveSouth();
        if (this.facing === Facing.SouthEast)
            this.moveSouthWest();
        if (this.facing === Facing.South)
            this.moveWest();
        if (this.facing === Facing.SouthWest)
            this.moveNorthWest();
        if (this.facing === Facing.West)
            this.moveNorth();
        if (this.facing === Facing.NorthWest)
            this.moveNorthEast();
    }
    hoverUp() {
        if (this.position.y < this.gameModel.world.currentLevel.value.levelType.height - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y + 1][this.position.z];
            if (cell.walls[5].passable)
                this.move(0, 1, 0);
        }
    }
    hoverDown() {
        if (this.position.y > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y - 1][this.position.z];
            if (cell.walls[4].passable)
                this.move(0, -1, 0);
        }
    }
    moveNorth() {
        if (this.canMoveNorth()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(0, cell.exitOffsetN, -1);
        }
    }
    canMoveUpward() {
        let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
        if (cell.ceilingWall.passable)
            return true;
        return false;
    }
    canMoveDownward() {
        if (this.position.y > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if (cell.floorWall.passable)
                return true;
        }
        return false;
    }
    canMoveNorth() {
        if (this.position.z > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.walls[0].passable) || (cell.exitOffsetN !== 0))
                return true;
        }
        return false;
    }
    moveNorthEast() {
        if (this.canMoveNorthEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, -1);
        }
        else {
            let n = this.canMoveNorth();
            let e = this.canMoveEast();
            if (n && !e)
                this.moveNorth();
            if (e && !n)
                this.moveEast();
        }
    }
    canMoveNorthEast() {
        if (this.canMoveNorth() && this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetN === cell.exitOffsetE) && (this.eastCell().northWall.passable) && (this.northCell().eastWall.passable))
                return true;
        }
        return false;
    }
    moveEast() {
        if (this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, 0);
        }
    }
    canMoveEast() {
        if (this.position.x < this.gameModel.world.currentLevel.value.levelType.width - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if (cell.walls[1].passable || cell.exitOffsetE !== 0)
                return true;
        }
        return false;
    }
    northCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z - 1];
    }
    northEastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z - 1];
    }
    eastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z];
    }
    southEastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z + 1];
    }
    southCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z + 1];
    }
    southWestCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z + 1];
    }
    westCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z];
    }
    northWestCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z - 1];
    }
    moveSouthEast() {
        if (this.canMoveSouthEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, 1);
        }
        else {
            let s = this.canMoveSouth();
            let e = this.canMoveEast();
            if (s && !e)
                this.moveSouth();
            if (e && !s)
                this.moveEast();
        }
    }
    canMoveSouthEast() {
        if (this.canMoveSouth() && this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetS === cell.exitOffsetE) && (this.southCell().eastWall.passable) && (this.eastCell().southWall.passable))
                return true;
        }
        return false;
    }
    moveSouth() {
        if (this.canMoveSouth()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(0, cell.exitOffsetS, 1);
        }
    }
    canMoveSouth() {
        if (this.position.z < this.gameModel.world.currentLevel.value.levelType.depth - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z + 1];
            if (cell.walls[2].passable || cell.exitOffsetS !== 0)
                return true;
        }
        return false;
    }
    moveSouthWest() {
        if (this.canMoveSouthWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, 1);
        }
        else {
            let s = this.canMoveSouth();
            let w = this.canMoveWest();
            if (s && !w)
                this.moveSouth();
            if (w && !s)
                this.moveWest();
        }
    }
    canMoveSouthWest() {
        if (this.canMoveSouth() && this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetS === cell.exitOffsetW) && (this.southCell().westWall.passable) && (this.westCell().southWall.passable))
                return true;
        }
        return false;
    }
    moveWest() {
        if (this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, 0);
        }
    }
    canMoveWest() {
        if (this.position.x > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z];
            if (cell.walls[3].passable || cell.exitOffsetW !== 0)
                return true;
        }
        return false;
    }
    moveNorthWest() {
        if (this.canMoveNorthWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, -1);
        }
        else {
            let n = this.canMoveNorth();
            let w = this.canMoveWest();
            if (n && !w)
                this.moveNorth();
            if (w && !n)
                this.moveWest();
        }
    }
    canMoveNorthWest() {
        if (this.canMoveNorth() && this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetN === cell.exitOffsetW) && (this.northCell().westWall.passable) && (this.westCell().northWall.passable))
                return true;
        }
        return false;
    }
    move(x, y, z) {
        this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.position.x + x, this.position.y + y, this.position.z + z);
        let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
        this.yOffset = cell.midHeight;
        this.gameModel.listener.onMove.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/Spell.ts":
/*!***********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/Spell.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Spell; });
/* harmony import */ var _action_ActionModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action/ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");

class Spell extends _action_ActionModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get name() { return this.spellData.name; }
    get baseDescription() { return this.spellData.baseDescription; }
    get level2Description() { return this.spellData.level2Description; }
    get level3Description() { return this.spellData.level3Description; }
    get icon() { return this.spellData.icon; }
    constructor(spellData, requireTarget) {
        super();
        this.spellData = spellData;
        this.requireTarget = requireTarget;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/SpellList.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/SpellList.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SpellList; });
/* harmony import */ var _action_spells_FireBolt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action/spells/FireBolt */ "./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts");
/* harmony import */ var _action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./action/spells/TorchLight */ "./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts");
/* harmony import */ var _action_spells_LevelEditing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action/spells/LevelEditing */ "./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts");
/* harmony import */ var _action_spells_Fly__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action/spells/Fly */ "./src/examples/classic-rpg-interface/model/action/spells/Fly.ts");
/* harmony import */ var _action_spells_MiniMap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./action/spells/MiniMap */ "./src/examples/classic-rpg-interface/model/action/spells/MiniMap.ts");





class SpellList {
    constructor(name, spells, icon) {
        this.spells = [];
        this.name = name;
        this.spells = spells;
        this.icon = icon;
    }
    static getSpell(spellData, gameModel) {
        if (spellData.name === "Fire Bolt")
            return new _action_spells_FireBolt__WEBPACK_IMPORTED_MODULE_0__["default"](spellData);
        if (spellData.name === "Torch Light")
            return new _action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_1__["default"](spellData, gameModel);
        if (spellData.name === "Level Editing")
            return new _action_spells_LevelEditing__WEBPACK_IMPORTED_MODULE_2__["default"](spellData, gameModel);
        if (spellData.name === "Fly")
            return new _action_spells_Fly__WEBPACK_IMPORTED_MODULE_3__["default"](spellData, gameModel);
        if (spellData.name === "Minimap")
            return new _action_spells_MiniMap__WEBPACK_IMPORTED_MODULE_4__["default"](spellData, gameModel);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/Status.ts":
/*!************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/Status.ts ***!
  \************************************************************/
/*! exports provided: StatusType, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatusType", function() { return StatusType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Status; });
var StatusType;
(function (StatusType) {
    StatusType[StatusType["Dead"] = 0] = "Dead";
    StatusType[StatusType["TorchLight"] = 1] = "TorchLight";
    StatusType[StatusType["Slow"] = 2] = "Slow";
    StatusType[StatusType["Flying"] = 3] = "Flying";
    StatusType[StatusType["LevelEdit"] = 4] = "LevelEdit";
    StatusType[StatusType["MiniMap"] = 5] = "MiniMap";
})(StatusType || (StatusType = {}));
class Status {
    get name() {
        if (this.statusType === StatusType.Dead)
            return "Dead";
        if (this.statusType === StatusType.TorchLight)
            return "Torch Light";
        if (this.statusType === StatusType.Slow)
            return "Slow";
        if (this.statusType === StatusType.Flying)
            return "Flying";
        if (this.statusType === StatusType.LevelEdit)
            return "Level Editing";
        if (this.statusType === StatusType.MiniMap)
            return "Mini Map";
    }
    constructor(statusType) {
        this.statusType = statusType;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts":
/*!************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/ActionModel.ts ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionModel; });
class ActionModel {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionResultModel; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class ActionResultModel {
    constructor(recoveryTime) {
        this.recoveryTime = 0;
        this.onApply = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.recoveryTime = recoveryTime;
    }
    apply() {
        this.onApply.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AttackActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");







class AttackActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_3__["default"] {
    constructor(gameModel, name, damageSpec, range) {
        super();
        this.gameModel = gameModel;
        this.name = name;
        this.damageSpec = damageSpec;
        this.range = range;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _ActorModel__WEBPACK_IMPORTED_MODULE_5__["default"])
            r.onApply.push(() => {
                let damage = _GameModel__WEBPACK_IMPORTED_MODULE_4__["default"].rollDice(this.damageSpec);
                if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this.gameModel.infoText.value = "You did " + damage + " damage";
                target.takeDamage(damage);
            }, this);
        return r;
    }
    test(source, target) {
        if (target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            if (!(target.alive.value))
                return false;
            if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_6__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.range)
                return true;
        }
        return false;
    }
    recoveryTime(source) {
        return Math.round(Math.random() * 10);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts ***!
  \****************************************************************************/
/*! exports provided: CombatState, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CombatState", function() { return CombatState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return InitiativeModel; });
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");



var CombatState;
(function (CombatState) {
    CombatState[CombatState["Green"] = 0] = "Green";
    CombatState[CombatState["Yellow"] = 1] = "Yellow";
    CombatState[CombatState["Red"] = 2] = "Red";
})(CombatState || (CombatState = {}));
class InitiativeModel {
    constructor() {
        this.initiativeOrder = [];
        this.npcsToAct = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"]([]);
        this.combatState = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](null);
        this.waitingCharacters = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](null);
        this.waitingCharacter = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](null);
    }
    get playerCanAct() {
        return (!this.partyModel.partyDead && this.gameModel.player.canAct && this.npcsToAct.value.length === 0 && this.waitingCharacter.value !== null);
    }
    get playerCanMove() {
        return (!this.partyModel.partyDead && this.gameModel.player.canMove && this.npcsToAct.value.length === 0 && this.waitingCharacter.value !== null);
    }
    get playerCanTurn() {
        return (!this.partyModel.partyDead && this.gameModel.player.canTurn);
    }
    create(gameModel, partyModel) {
        this.gameModel = gameModel;
        this.partyModel = partyModel;
        this.reset();
    }
    reset() {
        this.initiativeOrder = [];
        this.partyModel.characters.forEach(c => {
            this.initiativeOrder.push({ number: c.rollInitiative(), actor: c });
        });
        this.gameModel.world.currentLevel.value.npcs.forEach(n => {
            this.initiativeOrder.push({ number: n.rollInitiative(), actor: n });
        });
        this.sortInitiativeOrder();
        this.waitingCharacters.value = this.getWaitingCharacters();
        this.waitingCharacter.value = this.getWaitingCharacter();
        this.combatState.value = this.getCombatState();
        this.afterChangeUpdate();
    }
    switchCharacter(character) {
        let characters = [];
        let delayUntil;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === character) {
                delayUntil = this.initiativeOrder[i].number;
                break;
            }
            else if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                characters.push(this.initiativeOrder[i].actor);
            }
        }
        characters.forEach(c => this.delayActorUntil(c, delayUntil));
        this.afterChangeUpdate();
    }
    moveParty(start, end) {
        if (this.combatState.value === CombatState.Red)
            this.delayPartyUntilLastMember(this.gameModel.party.moveRecoveryTime);
        this.afterChangeUpdate();
    }
    performedAction(actor, result) {
        this.delayActor(actor, result.recoveryTime);
        this.afterChangeUpdate();
    }
    npcDelay(npc, time) {
        this.delayActor(npc, time);
        this.afterChangeUpdate();
    }
    npcDied(npc) {
        this.initiativeOrder = this.initiativeOrder.filter(r => r.actor !== npc);
        this.afterChangeUpdate();
    }
    afterChangeUpdate() {
        if (this.partyModel.partyDead) {
            this.waitingCharacters.value = [];
            this.waitingCharacter.value = null;
        }
        else {
            this.sortInitiativeOrder();
            this.fillNPCsToActArray();
            this.combatState.value = this.getCombatState();
            this.updateWaitingCharacters();
        }
    }
    updateWaitingCharacters() {
        this.waitingCharacters.value = this.getWaitingCharacters();
        if (this.waitingCharacters.value.length > 0)
            this.waitingCharacter.value = this.waitingCharacters.value[0];
        else
            this.waitingCharacter.value = null;
    }
    getWaitingCharacters() {
        let characters = [];
        let charsToDelay = [];
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                if (this.initiativeOrder[i].actor.healthState.value === _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["HealthState"].Normal)
                    characters.push(this.initiativeOrder[i].actor);
                else
                    charsToDelay.push(this.initiativeOrder[i].actor);
            }
            else
                break;
        }
        charsToDelay.forEach(c => this.delayActor(c, 1));
        this.sortInitiativeOrder();
        this.fillNPCsToActArray();
        return characters;
    }
    getWaitingCharacter() {
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"])
                return this.initiativeOrder[i].actor;
            else
                return null;
        }
    }
    waitingActor() {
        if (this.initiativeOrder.length > 0)
            return this.initiativeOrder[0].actor;
        return null;
    }
    delayPartyUntilLastMember(additionalDelay) {
        let foundCharacters = 0;
        let delayUntil;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            let actor = this.initiativeOrder[i].actor;
            if (actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                foundCharacters++;
                if (foundCharacters === this.partyModel.characters.length) {
                    delayUntil = this.initiativeOrder[i].number;
                    break;
                }
            }
        }
        this.partyModel.characters.forEach(c => this.delayActorUntil(c, delayUntil + additionalDelay));
    }
    getCombatState() {
        let inMelee = false;
        let aliveNPC = false;
        this.gameModel.world.currentLevel.value.npcs.forEach(npc => {
            if ((npc.alive.value) && (npc.hostile)) {
                if (this.gameModel.isWithinMelee(npc.getPosition(), this.gameModel.player.position))
                    inMelee = true;
                aliveNPC = true;
            }
        });
        if (inMelee)
            return CombatState.Red;
        if (aliveNPC)
            return CombatState.Yellow;
        return CombatState.Green;
    }
    fillNPCsToActArray() {
        this.npcsToAct.value = [];
        for (let i = 0; i < this.initiativeOrder.length; i++)
            if (this.initiativeOrder[i].actor instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                let npc = this.initiativeOrder[i].actor;
                this.npcsToAct.value.push(npc);
            }
            else
                break;
        this.npcsToAct.onUpdate.call();
    }
    delayActorUntil(actor, time) {
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === actor) {
                this.initiativeOrder.splice(i, 1);
                break;
            }
        }
        if (!actor)
            throw new Error("Delay until actor is null");
        this.initiativeOrder.push({ number: time, actor: actor });
    }
    delayActor(actor, time) {
        let currentPosition = 0;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === actor) {
                currentPosition = this.initiativeOrder[i].number;
                this.initiativeOrder.splice(i, 1);
                break;
            }
        }
        if (!actor)
            throw new Error("Delay  actor is null");
        this.initiativeOrder.push({ number: currentPosition + time, actor: actor });
    }
    sortInitiativeOrder() {
        this.initiativeOrder.sort((a, b) => a.number - b.number);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/LootActionModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/LootActionModel.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LootActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");





class LootActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_2__["default"] {
    constructor(gameModel) {
        super();
        this.lootDistance = 3;
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"])
            r.onApply.push(() => {
                this.gameModel.party.gainGold(_GameModel__WEBPACK_IMPORTED_MODULE_3__["default"].rollDice(target.lootSpec));
                target.looted.value = true;
            }, this);
        return r;
    }
    test(source, target) {
        if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.lootDistance)
            if ((target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) && (!target.alive.value))
                return true;
        return false;
    }
    recoveryTime(source) {
        return 0;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return OpenDoorActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../world/DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");




class OpenDoorActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(gameModel) {
        super();
        this.reach = 1;
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__["default"])
            r.onApply.push(() => {
                this.gameModel.openDoor(target);
            }, this);
        return r;
    }
    test(source, target) {
        if (target instanceof _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__["default"])
            if (!(target.locked))
                if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.reach)
                    return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FireBolt; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");



class FireBolt extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(spellData) {
        super(spellData, true);
    }
    perform(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) {
            source.mana.value--;
        }
        return new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
    }
    test(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) {
            if (source.mana.value >= 1) {
                if (!(target))
                    return true;
                else {
                    return true;
                }
            }
        }
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/Fly.ts":
/*!***********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/Fly.ts ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Fly; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class Fly extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(spellData, gameModel) {
        super(spellData, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                source.mana.value -= 8;
            this.gameModel.party.addStatus(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].Flying));
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if ((source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) && (source.mana.value >= 8))
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LevelEditing; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class LevelEditing extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(spellData, gameModel) {
        super(spellData, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            this.gameModel.party.addStatus(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].LevelEdit));
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/MiniMap.ts":
/*!***************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/MiniMap.ts ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MiniMap; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class MiniMap extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(spellData, gameModel) {
        super(spellData, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                source.mana.value--;
            this.gameModel.party.addStatus(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].MiniMap));
            this.gameModel.player.showMiniMap = true;
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if ((source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) && (source.mana.value >= 1))
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TorchLight; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class TorchLight extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(spellData, gameModel) {
        super(spellData, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                source.mana.value--;
            this.gameModel.party.addStatus(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].TorchLight));
            this.gameModel.player.showTorchLight = true;
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if ((source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) && (source.mana.value >= 1))
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/CellModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/CellModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CellModel; });
/* harmony import */ var _WallModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WallModel */ "./src/examples/classic-rpg-interface/model/world/WallModel.ts");

class CellModel {
    constructor(data, wallTypes) {
        this.walls = [];
        this.midHeight = 0;
        this.exitOffsetN = 0;
        this.exitOffsetE = 0;
        this.exitOffsetS = 0;
        this.exitOffsetW = 0;
        while (wallTypes.length < 6)
            wallTypes.push(0);
        wallTypes.forEach(type => {
            if (typeof type === "number")
                this.walls.push(new _WallModel__WEBPACK_IMPORTED_MODULE_0__["default"](data.walls[type]));
            else
                this.walls.push(new _WallModel__WEBPACK_IMPORTED_MODULE_0__["default"](data.walls[type.t], type));
        });
        if (this.walls[4].details) {
            this.midHeight = this.walls[4].details.mid || 0;
            this.exitOffsetN = this.walls[4].details.n || 0;
            this.exitOffsetE = this.walls[4].details.e || 0;
            this.exitOffsetS = this.walls[4].details.s || 0;
            this.exitOffsetW = this.walls[4].details.w || 0;
        }
    }
    get northWall() { return this.walls[0]; }
    get eastWall() { return this.walls[1]; }
    get southWall() { return this.walls[2]; }
    get westWall() { return this.walls[3]; }
    get floorWall() { return this.walls[4]; }
    get ceilingWall() { return this.walls[5]; }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/DoorModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DoorModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class DoorModel {
    constructor(gameData, levelDoorData) {
        this.targetLevel = undefined;
        this.isOpen = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](false);
        this.doorData = gameData.doors[levelDoorData.type];
        this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](levelDoorData.position.slice(0, 3));
        this.wall = levelDoorData.position[3];
        if (levelDoorData.target) {
            this.targetLevel = levelDoorData.target[0];
            this.targetPosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](levelDoorData.target.slice(1, 4));
            let f = levelDoorData.target[4];
            this.targetFacing = f;
        }
        else {
            this.openAngle = levelDoorData.openAngle;
        }
    }
    get filename() { return this.doorData.filename; }
    get normalMap() { return this.doorData.normalMap || null; }
    get locked() { return false; }
    get opens() { return this.targetLevel === undefined; }
    create(levelModel) {
        this.levelModel = levelModel;
        let cell = levelModel.cells[this.position.x][this.position.y][this.position.z];
        let wall = cell.walls[this.wall];
        if (this.opens)
            wall.alphaMap = this.doorData.alphaMap;
        wall.passable = this.isOpen.value;
    }
    getPosition() { return this.position; }
    changeOpenState() {
        this.isOpen.value = !this.isOpen.value;
        let cell = this.levelModel.cells[this.position.x][this.position.y][this.position.z];
        let wall = cell.walls[this.wall];
        wall.passable = this.isOpen.value;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/LevelModel.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/LevelModel.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LevelModel; });
/* harmony import */ var _CellModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellModel */ "./src/examples/classic-rpg-interface/model/world/CellModel.ts");
/* harmony import */ var _WorldObjectModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WorldObjectModel */ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts");
/* harmony import */ var _NPCModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _DoorModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");





class LevelModel {
    get name() { return this.levelType.name; }
    get parentAreaName() { return this.levelType.parentAreaName; }
    get width() { return this.levelType.width; }
    get height() { return this.levelType.height; }
    get depth() { return this.levelType.depth; }
    get startingPosition() { return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_3__["default"](this.levelType.startingPosition[0], this.levelType.startingPosition[1], this.levelType.startingPosition[2]); }
    get startingFacing() { return this.levelType.startingFacing; }
    get outside() { return this.levelType.outside; }
    get skyboxID() { return this.levelType.skybox; }
    create(gameModel, level) {
        this.levelType = level;
        this.cells = this.createCells(gameModel.data, level);
        this.doors = this.createDoors(gameModel.data, level);
        this.objects = this.createObjects(gameModel.data, level);
        this.npcs = this.createNPCs(gameModel, level);
    }
    save(gameData, level) {
        let newWalls = [];
        for (let y = 0; y < this.height; y++)
            for (let z = 0; z < this.depth; z++)
                for (let x = 0; x < this.width; x++) {
                    this.cells[x][y][z].walls.forEach(w => {
                        if (w.details) {
                            if (w.hidden.value)
                                newWalls.push(0);
                            else {
                                w.details.t = gameData.walls.indexOf(w.wallData.value);
                                newWalls.push(w.details);
                            }
                        }
                        else {
                            if (w.hidden.value)
                                newWalls.push(0);
                            else
                                newWalls.push(gameData.walls.indexOf(w.wallData.value));
                        }
                    });
                }
        level.walls = newWalls;
        let npcs = [];
        this.npcs.forEach(n => {
            let id = gameData.npcs.indexOf(n.npcType);
            npcs.push({ type: id, position: [n.position.value.x, n.position.value.y, n.position.value.z] });
        });
        level.npcs = npcs;
        let objects = [];
        this.objects.forEach(o => {
            let id = gameData.objects.indexOf(o.objectType);
            objects.push({ type: id, position: [o.position.value.x, o.position.value.y, o.position.value.z] });
        });
        level.objects = objects;
    }
    createDoors(data, level) {
        let doors = [];
        for (let i = 0; i < level.doors.length; i++) {
            let door = new _DoorModel__WEBPACK_IMPORTED_MODULE_4__["default"](data, level.doors[i]);
            door.create(this);
            doors.push(door);
        }
        return doors;
    }
    createObjects(data, level) {
        let objects = [];
        for (let i = 0; i < level.objects.length; i++) {
            let obj = new _WorldObjectModel__WEBPACK_IMPORTED_MODULE_1__["default"](data, level.objects[i].type, level.objects[i].position);
            obj.create();
            objects.push(obj);
        }
        return objects;
    }
    createNPCs(gameModel, level) {
        let npcs = [];
        for (let i = 0; i < level.npcs.length; i++) {
            let npc = new _NPCModel__WEBPACK_IMPORTED_MODULE_2__["default"](gameModel, level.npcs[i].type, level.npcs[i].position);
            npc.create();
            npcs.push(npc);
        }
        return npcs;
    }
    createCells(data, level) {
        let rows = [];
        for (let i = 0; i < level.width; i++) {
            let layers = [];
            for (let h = 0; h < level.height; h++) {
                let col = [];
                for (let j = 0; j < level.depth; j++) {
                    let start = (h * level.width * level.depth * 6) + (j * level.width * 6) + i * 6;
                    let wallSubset = level.walls.slice(start, start + 6);
                    col.push(new _CellModel__WEBPACK_IMPORTED_MODULE_0__["default"](data, wallSubset));
                }
                layers.push(col);
            }
            rows.push(layers);
        }
        return rows;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/NPCModel.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NPCModel; });
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../action/AttackActionModel */ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");






class NPCModel extends _ActorModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameModel, type, position) {
        super();
        this.alive = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](true);
        this.performingAction = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](null);
        this.delaying = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](false);
        this.looted = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](false);
        this.gameModel = gameModel;
        this.npcType = gameModel.data.npcs[type];
        this.position = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_util_Point3__WEBPACK_IMPORTED_MODULE_5__["default"](position));
    }
    get name() { return this.npcType.name; }
    get filename() { return this.npcType.filename; }
    get hpSpec() { return this.npcType.hp; }
    get lootSpec() { return this.npcType.loot; }
    get hostile() { return this.npcType.hostile; }
    get deadTexture() { return this.npcType.deadTexture; }
    getPosition() { return this.position.value; }
    create() {
        this.maxHitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](_GameModel__WEBPACK_IMPORTED_MODULE_1__["default"].rollDice(this.hpSpec));
        this.hitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](this.maxHitpoints.value);
        this.actions = [];
        this.npcType.actions.forEach(a => {
            if (a.type === "attack")
                this.actions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_2__["default"](this.gameModel, a.name, a.damage, a.range));
        });
    }
    checkHealthState() {
        if (this.hitpoints.value <= 0) {
            this.alive.value = false;
            this.gameModel.initiative.npcDied(this);
        }
    }
    act() {
        let found = false;
        let target;
        while (!found) {
            let r = Math.round(Math.random() * (this.gameModel.party.characters.length - 1));
            target = this.gameModel.party.characters[r];
            if (target.healthState.value !== _CharacterModel__WEBPACK_IMPORTED_MODULE_3__["HealthState"].Dead)
                found = true;
        }
        let availableActions = this.actions.filter(a => a.test(this, target));
        if (availableActions.length > 0) {
            let result = this.gameModel.npcPerformAction(this, target, availableActions[0]);
            this.performingAction.value = result;
        }
        else
            this.delaying.value = true;
    }
    applyActionResult(actionResult) {
        if (this.performingAction.value) {
            this.gameModel.applyActionResult(actionResult);
            this.performingAction.value = null;
        }
        else {
            this.delaying.value = false;
            this.gameModel.npcDelay(this, 1);
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WallModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WallModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WallModel; });
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var examples_classic_rpg_interface_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! examples/classic-rpg-interface/data */ "./src/examples/classic-rpg-interface/data.ts");


class WallModel {
    get filename() { return this.wallData.value.filename; }
    get passable() { return this._passable || this.hidden.value; }
    set passable(val) { this._passable = val; }
    get create() { return this.wallData.value.filename !== examples_classic_rpg_interface_data__WEBPACK_IMPORTED_MODULE_1__["TextureEmpty"]; }
    get normalMap() { return (this.wallData.value.normalMap || undefined); }
    getPosition() { return null; }
    constructor(wallData, details) {
        this.wallData = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"](wallData);
        this.hidden = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"](!(this.create));
        this.details = details;
        this._passable = wallData.passable;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WorldModel.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WorldModel.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldModel; });
/* harmony import */ var _LevelModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LevelModel */ "./src/examples/classic-rpg-interface/model/world/LevelModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class WorldModel {
    get currentLevelID() { return this.levels.indexOf(this.currentLevel.value); }
    create(gameModel) {
        this.levels = [];
        gameModel.data.levels.forEach(l => {
            let level = new _LevelModel__WEBPACK_IMPORTED_MODULE_0__["default"]();
            this.levels.push(level);
            level.create(gameModel, l);
        });
        this.currentLevel = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](this.levels[gameModel.data.player.level]);
    }
    save(data) {
        this.levels.forEach(l => {
            l.save(data, l.levelType);
        });
    }
    switchToLevel(level) {
        this.currentLevel.value = level;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldObjectModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class WorldObjectModel {
    get name() { return this.objectType.name; }
    get filename() { return this.objectType.filename; }
    constructor(data, type, position) {
        this.objectType = data.objects[type];
        this.position = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](position));
    }
    create() {
    }
    getPosition() { return this.position.value; }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Door.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Door.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Door; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_gameobject_anim_WrappingValueTween__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/anim/WrappingValueTween */ "./src/engine/gameobject/anim/WrappingValueTween.ts");
/* harmony import */ var _GeomLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GeomLoader */ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts");
/* harmony import */ var _MaterialLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MaterialLoader */ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");







class Door extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this._turnAnims = [];
        this.model = model;
    }
    load({ loader: loader }) {
        this.geom = this.addAsset(_GeomLoader__WEBPACK_IMPORTED_MODULE_3__["default"].getSharedPlaneGeom(loader));
        this.material = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_4__["default"].getSharedMaterialAsset(loader, this.model.filename, this.model.normalMap, null, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1), true, true));
        return ((this.material !== null) && (this.geom !== null));
    }
    create() {
        let mesh = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.geom.asset, this.material.asset);
        mesh.mesh.position.x = this.model.position.x;
        mesh.mesh.position.y = this.model.position.y;
        mesh.mesh.position.z = this.model.position.z;
        if (this.model.wall === 0) {
            mesh.mesh.position.z -= 0.49;
        }
        if (this.model.wall === 1) {
            mesh.mesh.position.x += 0.49;
            mesh.mesh.rotation.y -= Math.PI / 2;
        }
        if (this.model.wall === 2) {
            mesh.mesh.position.z += 0.49;
            mesh.mesh.rotation.y += Math.PI;
        }
        if (this.model.wall === 3) {
            mesh.mesh.position.x -= 0.49;
            mesh.mesh.rotation.y += Math.PI / 2;
        }
        this.mesh = this.addChild(mesh);
        this.model.isOpen.onUpdate.push(this.changeOpenState.bind(this), this);
        this.mesh.mesh.userData = { gameObject: this };
    }
    changeOpenState(open) {
        if (this.model.wall === 0)
            this.setRotation(open ? this.model.openAngle : 0, 500);
        if (this.model.wall === 1)
            this.setRotation(open ? this.model.openAngle - Math.PI / 2 : -Math.PI / 2, 500);
        if (this.model.wall === 2)
            this.setRotation(open ? this.model.openAngle + Math.PI : Math.PI, 500);
        if (this.model.wall === 3)
            this.setRotation(open ? this.model.openAngle + Math.PI / 2 : Math.PI / 2, 500);
    }
    setRotation(y, time) {
        this._turnAnims.forEach(a => a.requestRemoval());
        this._turnAnims = [];
        let w = this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_6__["default"](time));
        w.onStep.push(this.rotateAboutPoint.bind(this, new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 1, 0), (this.mesh.mesh.rotation.y - y) / time, false), this);
        this._turnAnims.push(w);
    }
    rotateAboutPoint(point, axis, theta, pointIsWorld) {
        if (pointIsWorld)
            this.mesh.mesh.parent.localToWorld(this.mesh.mesh.position);
        this.mesh.mesh.position.sub(point);
        this.mesh.mesh.position.applyAxisAngle(axis, theta);
        this.mesh.mesh.position.add(point);
        if (pointIsWorld) {
            this.mesh.mesh.parent.worldToLocal(this.mesh.mesh.position);
        }
        this.mesh.mesh.rotateOnAxis(axis, theta);
        this.requestDraw();
    }
    addTurnAnim(object, varName, target, time) {
        this._turnAnims.push(this.addChild(new engine_gameobject_anim_WrappingValueTween__WEBPACK_IMPORTED_MODULE_2__["default"](object, varName, target, time, Math.PI * 2)));
        let a = this._turnAnims[this._turnAnims.length - 1];
        a.onComplete.push((() => {
            this._turnAnims.splice(this._turnAnims.indexOf(a), 1);
        }).bind(this), this);
        return a;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GeomLoader; });
class GeomLoader {
    static getSharedPlaneGeom(loader) {
        let geomAsset = loader.getSharedAsset("#planeGeom");
        if (!(geomAsset.loaded)) {
            geomAsset.set(new THREE.PlaneGeometry(1, 1));
            geomAsset.loaded = true;
        }
        return geomAsset;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts":
/*!************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MaterialLoader; });
class MaterialLoader {
    static getSharedMaterialAsset(loader, filename, normalMap, alphaMap, repeat, transparent, twosides) {
        normalMap = normalMap || null;
        alphaMap = alphaMap || null;
        let name = filename + "#mat" + (normalMap !== null ? "#normal=" + normalMap : "") + (alphaMap !== null ? "#alpha=" + alphaMap : "");
        let materialAsset = loader.getSharedAsset(name);
        if (!(materialAsset.loaded)) {
            let material = MaterialLoader.loadMaterial(loader, filename, normalMap, alphaMap, repeat, transparent, twosides);
            if (!(material))
                return null;
            materialAsset.set(material);
            materialAsset.loaded = true;
        }
        return materialAsset;
    }
    static getTextureAsset(loader, filename, repeat) {
        let textureAsset = loader.getSharedAsset(filename);
        if (!(textureAsset.asset)) {
            let texture = new THREE.TextureLoader().load(filename, ((texture) => {
                if ((repeat.x !== 1) || (repeat.y !== 1)) {
                    texture.wrapS = texture.wrapT = THREE.RepeatWrapping;
                    texture.offset.set(0, 0);
                    texture.repeat.set(repeat.x, repeat.y);
                }
                textureAsset.loaded = true;
            }).bind(this));
            textureAsset.set(texture);
        }
        return textureAsset;
    }
    static loadMaterial(loader, filename, normalMap, alphaMap, repeat, transparent, twosides) {
        let normalMapAsset;
        let alphaMapAsset;
        let mapAsset = MaterialLoader.getTextureAsset(loader, filename, repeat);
        if (normalMap !== null)
            normalMapAsset = MaterialLoader.getTextureAsset(loader, normalMap, repeat);
        if (alphaMap !== null)
            alphaMapAsset = MaterialLoader.getTextureAsset(loader, alphaMap, repeat);
        if (!(mapAsset.loaded))
            return null;
        if ((normalMap !== null) && (!normalMapAsset.loaded))
            return null;
        if ((alphaMap !== null) && (!alphaMapAsset.loaded))
            return null;
        let material;
        transparent = (alphaMap !== null) || transparent;
        if (normalMap)
            material = new THREE.MeshStandardMaterial({ map: mapAsset.asset,
                normalMap: normalMapAsset.asset,
                normalScale: new THREE.Vector2(1, 1),
                roughness: 1,
                transparent: transparent });
        else
            material = new THREE.MeshLambertMaterial({ map: mapAsset.asset, transparent: transparent });
        if (alphaMap)
            material.alphaMap = alphaMapAsset.asset;
        if (twosides)
            material.side = THREE.DoubleSide;
        return material;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/NPC.ts":
/*!*************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/NPC.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NPC; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");



class NPC extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this.centered = true;
        this.offsetSet = false;
        this.model = model;
    }
    load({ loader: loader }) {
        let texture = loader.getSharedAsset(this.model.filename + "#tex");
        if (!(texture.asset))
            texture.set(new THREE.TextureLoader().load(this.model.filename, (() => { texture.loaded = true; })));
        this.addAsset(texture);
        let deadTexture = loader.getSharedAsset(this.model.deadTexture + "#tex");
        if (!(deadTexture.asset))
            deadTexture.set(new THREE.TextureLoader().load(this.model.deadTexture, (() => { deadTexture.loaded = true; })));
        this.addAsset(deadTexture);
        return true;
    }
    scaleMesh(texture, scale) {
        let width = texture.image.naturalWidth;
        let height = texture.image.naturalHeight;
        let aspect = height / width;
        let x;
        let y;
        if (width > height) {
            x = scale;
            y = x * aspect;
        }
        else {
            y = scale;
            x = y / aspect;
        }
        let geom = new THREE.PlaneBufferGeometry(x, y, 0);
        let material = new THREE.MeshLambertMaterial({ map: texture, fog: true, transparent: true, });
        let mesh = new THREE.Mesh(geom, material);
        return mesh;
    }
    create() {
        this.mesh = this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.scaleMesh(this.getAsset(this.model.filename + "#tex"), this.model.npcType.scale)));
        this.mesh.mesh.userData = { gameObject: this };
        this.model.alive.onUpdate.push(this.updateAlive.bind(this), this);
        this.updateAlive(this.model.alive.value);
        this.model.position.onUpdate.push(this.updatePosition.bind(this), this);
        this.updatePosition(this.model.position.value);
        this.model.performingAction.onUpdate.push(this.updatePerformingAction.bind(this), this);
        this.model.delaying.onUpdate.push(this.updateDelaying.bind(this), this);
        this.model.hitpoints.onUpdate.push(this.hpChanged.bind(this), this);
        this.model.looted.onUpdate.push(this.lootedChanged.bind(this), this);
        this.oldHP = this.model.hitpoints.value;
    }
    lootedChanged(val) {
        if (val) {
            this.mesh.mesh.visible = false;
            this.requestDraw();
        }
    }
    hpChanged(val) {
        if (val < this.oldHP) {
            this.mesh.mesh.material.color.setHex(0xff6666);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](100)).onComplete.push(() => {
                this.mesh.mesh.material.color.setHex(0xffffff);
                this.requestDraw();
            }, this);
            this.requestDraw();
        }
        this.oldHP = val;
    }
    updatePerformingAction(val) {
        if (val) {
            this.mesh.mesh.material.color.setHex(0xffff00);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](300)).onComplete.push(this.model.applyActionResult.bind(this.model, val), this);
        }
        else
            this.mesh.mesh.material.color.setHex(0xffffff);
        this.requestDraw();
    }
    updateDelaying(val) {
        if (val) {
            this.mesh.mesh.material.color.setHex(0xffff00);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](300)).onComplete.push(this.model.applyActionResult.bind(this.model), this);
        }
        else
            this.mesh.mesh.material.color.setHex(0xffffff);
        this.requestDraw();
    }
    updateAlive(val) {
        if (!(val)) {
            this.mesh.mesh = this.scaleMesh(this.getAsset(this.model.deadTexture + "#tex"), 0.2);
            this.mesh.mesh.userData = { gameObject: this };
            this.updatePosition(this.model.position.value);
        }
        this.requestDraw();
    }
    updatePosition(val) {
        this.mesh.mesh.position.x = val.x;
        this.mesh.mesh.position.y = val.y - (1 - this.model.npcType.scale) / 2;
        this.mesh.mesh.position.z = val.z;
        this.requestDraw();
    }
    update() {
        if (this.camera) {
            this.mesh.mesh.lookAt(this.camera.position.x, this.mesh.mesh.position.y, this.camera.position.z);
            if (this.mesh.mesh.position.distanceTo(this.camera.position) < 0.5) {
                if (!(this.offsetSet) && (this.centered)) {
                    this.updatePosition(this.model.position.value);
                    let offset = 0.1;
                    let direction = this.camera.object3D.getWorldDirection();
                    this.mesh.mesh.position.add(direction.multiplyScalar(0.33));
                    this.mesh.mesh.position.add(direction.applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2).multiplyScalar(3 * offset));
                }
                this.offsetSet = true;
            }
            else if (this.mesh.mesh.position.distanceTo(this.camera.position) >= 1) {
                if (this.offsetSet) {
                    this.updatePosition(this.model.position.value);
                    this.offsetSet = false;
                }
            }
        }
    }
    destroy() {
        super.destroy();
        this.model.alive.onUpdate.unregister(this);
        this.model.position.onUpdate.unregister(this);
        this.model.performingAction.onUpdate.unregister(this);
        this.model.delaying.onUpdate.unregister(this);
        this.model.hitpoints.onUpdate.unregister(this);
        this.model.looted.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Player.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Player.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Player; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var engine_gameobject_anim_Point3Tween__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/anim/Point3Tween */ "./src/engine/gameobject/anim/Point3Tween.ts");
/* harmony import */ var engine_gameobject_anim_WrappingPoint3Tween__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/anim/WrappingPoint3Tween */ "./src/engine/gameobject/anim/WrappingPoint3Tween.ts");






class Player extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get animating() { return (this._turnAnim && !this._turnAnim.complete) || (this._moveAnim && !this._moveAnim.complete); }
    constructor(threeCamera, gameModel) {
        super(null);
        this.threeCamera = threeCamera;
        this.player = gameModel.player;
        this.gameModel = gameModel;
    }
    create() {
        this.gameModel.listener.onMove.push(this.updatePosition.bind(this), this);
        this.gameModel.listener.onTurn.push(this.updateRotation.bind(this), this);
        this.player.onUpdate.push((() => {
            this.threeCamera.rotation.x = this.player.rotation.x;
            this.threeCamera.rotation.y = this.player.rotation.y;
            this.threeCamera.rotation.z = this.player.rotation.z;
            this.threeCamera.position.x = this.player.finePosition.x;
            this.threeCamera.position.y = this.player.finePosition.y;
            this.threeCamera.position.z = this.player.finePosition.z;
            this.toggleLight(this.player.showTorchLight);
            this.threeCamera.requestDraw();
        }).bind(this), this);
        this.updatePosition(false);
        this.updateRotation(false);
    }
    toggleLight(show) {
        if (show) {
            if (!this.playerLight)
                if (this.gameModel.world.currentLevel.value.outside)
                    this.playerLight = new THREE.PointLight(0xffffff, 0.33, 5.5, 1);
                else
                    this.playerLight = new THREE.PointLight(0xffffff, 1, 5.5, 1);
            this.threeCamera.object3D.add(this.playerLight);
        }
        else {
            if (this.playerLight)
                this.threeCamera.object3D.remove(this.playerLight);
        }
    }
    updatePosition(animate) {
        if (animate === undefined)
            animate = true;
        this._setPlayerPosition(this.player.gridPositionWithOffset, animate, 500);
    }
    updateRotation(animate) {
        if (animate === undefined)
            animate = true;
        let time = 300;
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].North)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].NorthEast)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 4, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].East)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 2, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].SouthEast)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -3 * (Math.PI / 4), 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].South)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].SouthWest)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 3 * (Math.PI / 4), 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].West)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 2, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].NorthWest)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 4, 0), animate, time);
    }
    _setPlayerPosition(position, animate, time) {
        if (this._moveAnim)
            this._moveAnim.requestRemoval();
        if (animate) {
            this.player.canMove = false;
            this._moveAnim = this.addChild(new engine_gameobject_anim_Point3Tween__WEBPACK_IMPORTED_MODULE_4__["default"](this.player, "finePosition", new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](position.x, position.y, position.z), time));
            this._moveAnim.onComplete.push(this._updateAnimating.bind(this), this);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__["default"](time / 2)).onComplete.push(() => this.player.canMove = true, this);
        }
        else
            this.player.finePosition = position;
        this._updateAnimating();
    }
    _setPlayerRotation(rotation, animate, time) {
        if (this._turnAnim)
            this._turnAnim.requestRemoval();
        this._turnAnim = null;
        if (animate) {
            this.player.canTurn = false;
            this._turnAnim = this.addChild(new engine_gameobject_anim_WrappingPoint3Tween__WEBPACK_IMPORTED_MODULE_5__["default"](this.player, "rotation", new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](rotation.x, rotation.y, rotation.z), time, new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](Math.PI * 2, Math.PI * 2, Math.PI * 2)));
            this._turnAnim.onComplete.push(this._updateAnimating.bind(this), this);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__["default"](time / 2)).onComplete.push(() => this.player.canTurn = true, this);
        }
        else
            this.player.rotation = rotation;
        this._updateAnimating();
    }
    _updateAnimating() {
        this.player.animating = this.animating;
    }
    destroy() {
        super.destroy();
        if (this._moveAnim)
            this._moveAnim.requestRemoval();
        if (this._turnAnim)
            this._turnAnim.requestRemoval();
        this.player.onUpdate.unregister(this);
        this.gameModel.listener.onMove.unregister(this);
        this.gameModel.listener.onTurn.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Scene.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Scene.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Scene; });
/* harmony import */ var _WorldCell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WorldCell */ "./src/examples/classic-rpg-interface/sceneview/WorldCell.ts");
/* harmony import */ var _WorldObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WorldObject */ "./src/examples/classic-rpg-interface/sceneview/WorldObject.ts");
/* harmony import */ var _NPC__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NPC */ "./src/examples/classic-rpg-interface/sceneview/NPC.ts");
/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Player */ "./src/examples/classic-rpg-interface/sceneview/Player.ts");
/* harmony import */ var _Skybox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Skybox */ "./src/examples/classic-rpg-interface/sceneview/Skybox.ts");
/* harmony import */ var _Door__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Door */ "./src/examples/classic-rpg-interface/sceneview/Door.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_gameobject_ThreeScene__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ThreeScene */ "./src/engine/gameobject/ThreeScene.ts");
/* harmony import */ var engine_gameobject_ThreeCamera__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/ThreeCamera */ "./src/engine/gameobject/ThreeCamera.ts");









class Scene extends engine_gameobject_ThreeScene__WEBPACK_IMPORTED_MODULE_7__["default"] {
    constructor(listener, controller, gameModel) {
        super(new THREE.Scene(), listener, controller);
        this.defaultFOV = 52;
        this.gameModel = gameModel;
    }
    get camera() { return this._camera; }
    create() {
        super.create();
        this.gameModel.initiative.npcsToAct.onUpdate.push(this._runNPCs.bind(this), this);
        this.createLevel();
    }
    createLevel() {
        this._camera = this.addChild(new engine_gameobject_ThreeCamera__WEBPACK_IMPORTED_MODULE_8__["default"](new THREE.PerspectiveCamera(75, 1, 0.1, 1000)));
        this._camera.fieldOfView = this.defaultFOV;
        this.scene.background = new THREE.Color(0x0000ff);
        if (this.gameModel.world.currentLevel.value.outside) {
            let fogColor = new THREE.Color(0xffffff);
            let light = new THREE.AmbientLight(0xffffff, 1);
            this.scene.add(light);
        }
        this.scene.add(new THREE.AmbientLight(0xffffff, 0.05));
        this.cells = this._getWorldCells();
        this.cells.forEach(c => {
            this.addChild(c);
            c.active = false;
        });
        this.doors = this._getDoors();
        this.doors.forEach(d => this.addChild(d));
        this.objects = this._getWorldObjects();
        this.objects.forEach(o => this.addChild(o));
        this.npcs = this._getNPCs();
        this.npcs.forEach(n => this.addChild(n));
        this.npcs.forEach(n => n.camera = this._camera);
        if (this.gameModel.world.currentLevel.value.skyboxID !== undefined) {
            let skyboxData = this.gameModel.data.skyboxes[this.gameModel.world.currentLevel.value.skyboxID];
            this.skybox = this.addChild(new _Skybox__WEBPACK_IMPORTED_MODULE_4__["default"](skyboxData));
        }
        this.player = this.addChild(new _Player__WEBPACK_IMPORTED_MODULE_3__["default"](this._camera, this.gameModel));
        if (!(this.gameModel.world.currentLevel.value.outside))
            this.player.toggleLight(true);
        this._runNPCs();
        this.requestDraw();
    }
    mergeWallGeometry() {
        var mergeGeom = new THREE.Geometry();
        let materialList = [];
        let i = 0;
        this.cells.forEach((c) => {
            c.children.forEach((child) => {
                if ((child.mesh) && (child.model.create)) {
                    mergeGeom.merge(child.mesh.mesh.geometry, child.mesh.mesh.matrix, i);
                    child.mesh.mesh.parent.remove(child.mesh.mesh);
                    materialList.push(child.mesh.mesh.material);
                    i++;
                }
            });
        });
        this.cells.forEach((c) => c.requestRemoval());
        this.cells = [];
        mergeGeom.mergeVertices();
        let mesh = new THREE.Mesh(mergeGeom, materialList);
        this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_6__["default"](mesh));
    }
    _getWorldCells() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let cells = [];
        levelModel.cells.forEach((row, x) => {
            row.forEach((layer, y) => {
                layer.forEach((col, z) => cells.push(new _WorldCell__WEBPACK_IMPORTED_MODULE_0__["default"](x, y, z, col)));
            });
        });
        return cells;
    }
    _getWorldObjects() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let objects = [];
        levelModel.objects.forEach((o, x) => {
            objects.push(new _WorldObject__WEBPACK_IMPORTED_MODULE_1__["default"](o));
        });
        return objects;
    }
    _getDoors() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let doors = [];
        levelModel.doors.forEach((d, x) => {
            doors.push(new _Door__WEBPACK_IMPORTED_MODULE_5__["default"](d));
        });
        return doors;
    }
    _getNPCs() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let npcs = [];
        levelModel.npcs.forEach((npc, x) => {
            npcs.push(new _NPC__WEBPACK_IMPORTED_MODULE_2__["default"](npc));
        });
        return npcs;
    }
    _runNPCs() {
        let toAct = [];
        this.gameModel.initiative.npcsToAct.value.forEach(npc => toAct.push(npc));
        toAct.forEach((npc) => npc.act());
    }
    destroy() {
        this.gameModel.initiative.npcsToAct.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Skybox.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Skybox.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Skybox; });
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_Asset__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/Asset */ "./src/engine/Asset.ts");
/* harmony import */ var engine_gameobject_ThreeGameObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/ThreeGameObject */ "./src/engine/gameobject/ThreeGameObject.ts");



class Skybox extends engine_gameobject_ThreeGameObject__WEBPACK_IMPORTED_MODULE_2__["default"] {
    constructor(skyboxData) {
        super(null);
        this._loadedTextures = 0;
        this.skyboxData = skyboxData;
    }
    load({ loader: loader }) {
        let a = new engine_Asset__WEBPACK_IMPORTED_MODULE_1__["default"]("#textureArray", null, false);
        let xPos = new THREE.TextureLoader().load(this.skyboxData.xPos, this.checkTextureLoaded.bind(this, a));
        let xNeg = new THREE.TextureLoader().load(this.skyboxData.xNeg, this.checkTextureLoaded.bind(this, a));
        let yPos = new THREE.TextureLoader().load(this.skyboxData.yPos, this.checkTextureLoaded.bind(this, a));
        let yNeg = new THREE.TextureLoader().load(this.skyboxData.yNeg, this.checkTextureLoaded.bind(this, a));
        let zPos = new THREE.TextureLoader().load(this.skyboxData.zPos, this.checkTextureLoaded.bind(this, a));
        let zNeg = new THREE.TextureLoader().load(this.skyboxData.zNeg, this.checkTextureLoaded.bind(this, a));
        a.set([xPos, xNeg, yPos, yNeg, zPos, zNeg]);
        this.addAsset(a);
        this.loader = loader;
        this.addGeomAsset(loader);
        return true;
    }
    addGeomAsset(loader) {
        let geomAsset = loader.getSharedAsset("#skyboxGeom");
        if (!(geomAsset.loaded)) {
            geomAsset.set(new THREE.CubeGeometry(1000, 1000, 1000, 1, 1, 1));
            geomAsset.loaded = true;
        }
        this.addAsset(geomAsset);
        return true;
    }
    checkTextureLoaded(a) {
        this._loadedTextures++;
        if (this._loadedTextures === 6)
            a.loaded = true;
    }
    create() {
        let textures = this.getAsset("#textureArray");
        var materialArray = [];
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[0], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[1], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[2], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[3], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[4], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[5], fog: false }));
        for (var i = 0; i < 6; i++)
            materialArray[i].side = THREE.BackSide;
        var skyboxGeom = this.loader.getSharedAsset("#skyboxGeom").asset;
        var skybox = new THREE.Mesh(skyboxGeom, materialArray);
        this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_0__["default"](skybox));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Wall.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Wall.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Wall; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_Asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/Asset */ "./src/engine/Asset.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var _GeomLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GeomLoader */ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts");
/* harmony import */ var _MaterialLoader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MaterialLoader */ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");







class Wall extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(wallType, position, rotation) {
        super(null);
        this.model = wallType;
        this._position = position;
        this._rotation = rotation;
    }
    load({ loader: loader }) {
        this.loader = loader;
        if (this.model.details)
            this.geom = this.addAsset(this.createSlopedWallGeom(this.model));
        else
            this.geom = this.addAsset(_GeomLoader__WEBPACK_IMPORTED_MODULE_4__["default"].getSharedPlaneGeom(loader));
        this.material = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_5__["default"].getSharedMaterialAsset(loader, this.model.filename, this.model.normalMap, this.model.alphaMap, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](this.model.wallData.value.repeat[0], this.model.wallData.value.repeat[1]), this.model.wallData.value.transparent, false));
        return ((this.material !== null) && (this.geom !== null));
    }
    create() {
        this.mesh = this.addChild(this.createMesh());
        this.mesh.mesh.userData = { gameObject: this };
        this.model.hidden.onUpdate.push(this.updateWall.bind(this), this);
        this.model.wallData.onUpdate.push(this.changeWallType.bind(this), this);
        this.updateWall();
    }
    updateWall() {
        this.mesh.mesh.visible = !this.model.hidden.value;
        this.requestDraw();
    }
    changeWallType() {
        let matAsset = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_5__["default"].getSharedMaterialAsset(this.loader, this.model.filename, this.model.normalMap, this.model.alphaMap, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](this.model.wallData.value.repeat[0], this.model.wallData.value.repeat[1]), this.model.wallData.value.transparent, false));
        if ((matAsset) && (matAsset.loaded)) {
            this.material = matAsset;
            if (!(this.mesh))
                this.mesh = this.addChild(this.createMesh());
            else
                this.mesh.mesh.material = this.material.asset;
            this.requestDraw();
        }
        else
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_3__["default"](100)).onComplete.push((() => this.changeWallType()).bind(this), this);
    }
    createMesh() {
        let wall = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.geom.asset, this.material.asset);
        wall.mesh.position.x = this._position.x;
        wall.mesh.position.y = this._position.y;
        wall.mesh.position.z = this._position.z;
        wall.mesh.rotation.x = this._rotation.x;
        wall.mesh.rotation.y = this._rotation.y;
        wall.mesh.rotation.z = this._rotation.z;
        return wall;
    }
    createSlopedWallGeom(wallModel) {
        var geom = new THREE.Geometry();
        geom.vertices.push(new THREE.Vector3(-0.5, 0.5, wallModel.details.nw));
        geom.vertices.push(new THREE.Vector3(0.5, 0.5, wallModel.details.ne));
        geom.vertices.push(new THREE.Vector3(0.5, -0.5, wallModel.details.se));
        geom.vertices.push(new THREE.Vector3(-0.5, -0.5, wallModel.details.sw));
        geom.vertices.push(new THREE.Vector3(0, 0, wallModel.details.mid));
        geom.faces.push(new THREE.Face3(0, 4, 1));
        geom.faces.push(new THREE.Face3(2, 1, 4));
        geom.faces.push(new THREE.Face3(2, 4, 3));
        geom.faces.push(new THREE.Face3(3, 4, 0));
        let uv = geom.faceVertexUvs[0];
        uv.push([], [], [], []);
        uv[0][0] = new THREE.Vector2(0, 0);
        uv[0][1] = new THREE.Vector2(0.5, 0.5);
        uv[0][2] = new THREE.Vector2(1, 0);
        uv[1][0] = new THREE.Vector2(1, 1);
        uv[1][1] = new THREE.Vector2(1, 0);
        uv[1][2] = new THREE.Vector2(0.5, 0.5);
        uv[2][0] = new THREE.Vector2(1, 1);
        uv[2][1] = new THREE.Vector2(0.5, 0.5);
        uv[2][2] = new THREE.Vector2(0, 1);
        uv[3][0] = new THREE.Vector2(0, 1);
        uv[3][1] = new THREE.Vector2(0.5, 0.5);
        uv[3][2] = new THREE.Vector2(0, 0);
        geom.computeFaceNormals();
        return new engine_Asset__WEBPACK_IMPORTED_MODULE_2__["default"]("#slopedGeom", geom, true);
    }
    destroy() {
        this.model.hidden.onUpdate.unregister(this);
        this.model.wallData.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/WorldCell.ts":
/*!*******************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/WorldCell.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldCell; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _Wall__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Wall */ "./src/examples/classic-rpg-interface/sceneview/Wall.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");



class WorldCell extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(x, y, z, model) {
        super(null);
        this.x = x;
        this.y = y;
        this.z = z;
        this.model = model;
    }
    create() {
        this.group = new THREE.Group();
        this.group.position.set(new THREE.Vector3(this.x, this.y, this.z));
        this.createWalls();
    }
    createWalls() {
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[0], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0, this.z - 0.5), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[1], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0.5, this.y + 0, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 2, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[2], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0, this.z + 0.5), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[3], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x - 0.5, this.y + 0, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 2, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[4], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y - 0.5, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](-Math.PI / 2, 0, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[5], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0.5, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](Math.PI / 2, 0, 0)));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/WorldObject.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/WorldObject.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldObject; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");


class WorldObject extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this.model = model;
    }
    create() {
        let geom = new THREE.PlaneGeometry(1, 1, 0);
        let texture = new THREE.TextureLoader().load(this.model.filename, (() => { this.requestDraw(); }).bind(this));
        let material = new THREE.MeshBasicMaterial({ map: texture });
        let mesh = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](geom, material);
        mesh.position.x = this.model.position[0];
        mesh.position.y = this.model.position[1];
        mesh.position.z = this.model.position[2];
        this.mesh = this.addChild(mesh);
    }
}


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0xhdW5jaGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL25wY3MvYnVlci10ZXN0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9ucGNzL2ZhbmN5LWRyZXNzLTEyLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9ucGNzL3NrdWxsLWNyb3NzYm9uZXMucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL25wY3MvdWtvYmFjaC10ZXN0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC8xMHAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzExcC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvMTJwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC8xM3AucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzE0cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvNXAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzZwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC83cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvOHAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzlwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC9GbGFyZUZlbWFsZUhlcm8yLXJlc2l6ZS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvRmxhcmVGZW1hbGVIZXJvMy1yZXNpemUucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0L0ZsYXJlTWFsZUhlcm8yLXJlc2l6ZS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvRmxhcmVNYWxlSGVybzMtcmVzaXplLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX2Rvd24ucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfZWFzdC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV9ub3J0aC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV9zb3V0aC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV91cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV93ZXN0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9zcGVsbHMvYmVhdXRpZnVsLWJpcmQuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzLzQtYXJjaC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQW50ZWRpbHV2aWFuIERvb3ItYWxwaGFtYXAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0FudGVkaWx1dmlhbiBEb29yLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Bc3lsdW0gQ2VsbCBPcmFuZ2UuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0JhdHRlcmVkIFJlZCBDbG92ZXIuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0Jyb3duIFF1c3NhaXIgR3Jhbml0ZS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQ2FydmVkIFNhbmRzdG9uZS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gRG9vciAoRkwgMSkuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0NvdHRhZ2UgMSAtIERvb3IgMiAoRkwgMSkuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0NvdHRhZ2UgMSAtIFdhbGwgKEZMIDEpLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXYWxsIChGTCAyKykuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0NvdHRhZ2UgMSAtIFdpbmRvdyAoRkwgMispLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXaW5kb3cgMiAoRkwgMispLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3VuY2lsIENoYW1iZXIuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0RhcmsgR3JheSBNYXJibGUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0RlYWQgQ2F2ZXMuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0ZlbiBTdG9uZS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvRm9yZXN0IEZsb29yLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9HbGFzc3kgUGluayBNYXJibGUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0dyYW5pdGUgV2FsbC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvTWlkbmlnaHQgU3RvbmUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL01vc3MgQ3VzaGlvbnMuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL01vc3N5IFJvY2suanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1BhbGFjZSBGbG9vci5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvUm91Z2ggT3J0aG9jbGFzZS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU2FtYXJpcyBNZXRhbC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU2FtYXJpcy5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU2FuZHkgTGljaGVuIEJyaWNrLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9TZWdtZW50ZWQgU3RvbmUgV2FsbC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU2xpbWUgV2FsbC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU21hc2hlZCBHcmF5IE1hcmJsZS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU211ZGdlZCBEaXJ0LmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9TdHJhdyBSb29mIEludGVyaW9yLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9TdHJhdyBSb29mLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9XZWVkcyBhbmQgR3JhdmVsLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9XZWVkeSBMYXduLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9lbXB0eS5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvYWlyLXNwZWxsLXRhYi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvY2hhcnNoZWV0LWljb24ucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL2VhcnRoLXNwZWxsLXRhYi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvZmlyZS1zcGVsbC10YWIucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL2hvdXJnbGFzcy5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvbmV4dGljb24tZ3JlZW4ucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL25leHRpY29uLXJlZC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvbmV4dGljb24teWVsbG93LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9xdWljay1pdGVtcy10YWIucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL3N0YXR1cy1kZWFkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9zdGF0dXMtc2xvdy5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvc3RhdHVzLXRvcmNoLWxpZ2h0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS93YXRlci1zcGVsbC10YWIucG5nIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvQXNzZXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9HYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvR2FtZU9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL1RyYW5zZm9ybS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL1RyZWVVdGlscy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9GcmFtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvUG9seWdvbkNvbGxpc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvVGhyZWVCdWZmZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L1RocmVlQ2FtZXJhLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9UaHJlZUdhbWVPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvVGhyZWVTY2VuZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvVGltZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2FuaW0vQW5pbWF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9hbmltL1BvaW50M1R3ZWVuLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9hbmltL1R3ZWVuLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9hbmltL1ZhbHVlVHdlZW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XcmFwcGluZ1BvaW50M1R3ZWVuLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dyYXBwaW5nVmFsdWVUd2Vlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0J1ZmZlckNsb25lLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvQnVmZmVyZWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9DaXJjbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9EcmF3QnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUmVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1Jvb3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9Sb3VuZGVkUmVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1NoYXBlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvU3ByaXRlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvVHJpYW5nbGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvdWkvQ2xpY2tUcmlnZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9EZWJ1Z1BhbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL0dyaWRMYXlvdXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL0tleVRyaWdnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL0xvYWRpbmdCYXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL01vdXNlRHJhZ1RyaWdnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL01vdXNlVHJpZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvdWkvUHJlc3NIb2xkVHJpZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dEJ1aWxkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9pby9JTy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2lvL0tleWJvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvaW8vTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvaW8vTW91c2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9pby9UaW1pbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vQm91bmRzLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Db25kaXRpb25hbERpbWVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9SZWxhdGl2ZURpbWVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9BZGphY2VudFRyYW5zbGF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL0NvbmRpdGlvbmFsVHJhbnNsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9UcmFuc2xhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3V0aWwvRXZlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS91dGlsL1BvaW50LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdXRpbC9Qb2ludDMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS91dGlsL1BvbHlTaGFwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL0dhbWVPdmVyTWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL0ludHJvRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9MYXVuY2hlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL0xvYWRpbmdTdGF0dXNGcmFtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL01haW5GcmFtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL01haW5NZW51QnV0dG9uLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvVG9vbFRpcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL1VJTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9Xb3JsZEZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL0FjdGlvbkJhck1lbnUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9jb3JlLXVpLWNvbXBvbmVudHMvQ2hhcmFjdGVyTWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9EZXRhaWxNZW51RnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9jb3JlLXVpLWNvbXBvbmVudHMvRGV0YWlsTWVudU1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL0xldmVsTmFtZUZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL01hcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9NaW5pTWFwRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9jb3JlLXVpLWNvbXBvbmVudHMvUGFydHlTdGF0dXNNZW51LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL1BvcnRyYWl0QnV0dG9uLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL1NwZWxsSW5mb0ZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL1N0YXR1c0xpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9jb3JlLXVpLWNvbXBvbmVudHMvVGFiQnV0dG9uLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL1RhYkxpc3RNZW51LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvZGF0YS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL0FjdG9yTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9DaGFyYWN0ZXJNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL0VxdWlwbWVudE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvR2FtZU1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvSXRlbU1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvUGFydHlNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL1BsYXllck1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvU3BlbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9TcGVsbExpc3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9TdGF0dXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vQWN0aW9uTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vQWN0aW9uUmVzdWx0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vQXR0YWNrQWN0aW9uTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vSW5pdGlhdGl2ZU1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0xvb3RBY3Rpb25Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL2FjdGlvbi9PcGVuRG9vckFjdGlvbk1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL3NwZWxscy9GaXJlQm9sdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL2FjdGlvbi9zcGVsbHMvRmx5LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL3NwZWxscy9MZXZlbEVkaXRpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vc3BlbGxzL01pbmlNYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vc3BlbGxzL1RvcmNoTGlnaHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC93b3JsZC9DZWxsTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC93b3JsZC9Eb29yTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC93b3JsZC9MZXZlbE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvTlBDTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC93b3JsZC9XYWxsTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC93b3JsZC9Xb3JsZE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvV29ybGRPYmplY3RNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL3NjZW5ldmlldy9Eb29yLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L0dlb21Mb2FkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvTWF0ZXJpYWxMb2FkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvTlBDLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L1BsYXllci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL3NjZW5ldmlldy9TY2VuZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL3NjZW5ldmlldy9Ta3lib3gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvV2FsbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL3NjZW5ldmlldy9Xb3JsZENlbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvV29ybGRPYmplY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQTBDLGdDQUFnQztBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdFQUF3RCxrQkFBa0I7QUFDMUU7QUFDQSx5REFBaUQsY0FBYztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQXlDLGlDQUFpQztBQUMxRSx3SEFBZ0gsbUJBQW1CLEVBQUU7QUFDckk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7O0FBR0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ2xGQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUErQjtBQUVxQjtBQUNTO0FBQy9CO0FBQ21CO0FBQ0o7QUFDUztBQUNOO0FBQ0U7QUFDdUI7QUFDbkM7QUFVL0IsTUFBZSxRQUFRO0lBUzFCLElBQUksY0FBYyxLQUFLLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxFQUFDO0lBQ3BELElBQUksTUFBTSxLQUFLLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDckMsSUFBSSxTQUFTLEtBQUssT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUMzQyxJQUFJLFVBQVUsS0FBSyxPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBQzdDLElBQUksT0FBTyxLQUFLLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFldkMsWUFBWSxTQUFzQixFQUFFLFVBQW1CO1FBRW5ELElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBQzVCLElBQUksQ0FBQyxXQUFXLEdBQUcsVUFBVSxJQUFJLFlBQVksQ0FBQztJQUNsRCxDQUFDO0lBRUQsTUFBTTtRQUVGLElBQUksSUFBSSxDQUFDLFFBQVE7WUFDYixNQUFNLElBQUksS0FBSyxDQUFDLHFDQUFxQyxDQUFDLENBQUM7UUFDM0QsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM3RixJQUFJLENBQUMsT0FBTyxHQUFJLElBQUksQ0FBQyxlQUFvQyxDQUFDLE1BQU0sQ0FBQztRQUNqRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBRSxJQUFJLENBQUMsZUFBb0MsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLDRFQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hMLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxLQUFLO1FBRUQsaUJBQWlCLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSTtRQUVBLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbEIsb0JBQW9CLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsY0FBYztRQUV4QyxJQUFJLElBQUksR0FBRyxJQUFJLG1EQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM5RSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDZCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRVMsaUJBQWlCLENBQUMsTUFBMkI7UUFFbkQsSUFBSSxFQUFFLEdBQUcsSUFBSSxvREFBRSxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3BCLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVTLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxTQUFTO1FBRS9DLElBQUksY0FBYyxHQUFHLElBQUksd0VBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxpRUFBUSxFQUFFLEVBQUUsSUFBSSwrREFBTSxDQUFDLElBQUksNEVBQVMsQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUkscUVBQWEsRUFBRSxFQUFFLElBQUksdUVBQWUsRUFBRSxDQUFDLENBQUM7UUFDOUssY0FBYyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDOUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksNEVBQVMsQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM3RyxjQUFjLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLEVBQUUsTUFBTSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDOUYsY0FBYyxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUN2QyxPQUFPLGNBQWMsQ0FBQztJQUMxQixDQUFDO0lBRVMsWUFBWSxDQUFDLEVBQU07UUFFekIsSUFBSSxRQUFRLEdBQUcsSUFBSSxtRUFBZ0IsRUFBRSxDQUFDO1FBQ3RDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNsQixFQUFFLENBQUMsWUFBWSxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN0QyxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFUyxTQUFTLENBQUMsRUFBTSxFQUFFLE1BQXlCO1FBRWpELElBQUksS0FBSyxHQUFHLElBQUksNkRBQWEsRUFBRSxDQUFDO1FBQ2hDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzlCLEVBQUUsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2hDLE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVTLFVBQVUsQ0FBQyxFQUFNO1FBRXZCLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSwrREFBYyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDaEQsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRVMsVUFBVSxDQUFDLEVBQU07UUFFdkIsRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLHlEQUFNLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN4QyxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25JRCxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4QyxpQkFBaUIscUJBQXVCLDBDOzs7Ozs7Ozs7OztBQ0F4Qyxp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RSxHQUFHLENBQUMsQ0FBQztJQUUxQyxDQUFDO0lBRUQsT0FBTyxDQUFDLFNBQW1DLEVBQUUsR0FBVSxFQUFFLEdBQWM7UUFFbkUsSUFBSSxNQUFNLEdBQUcsSUFBSSxzRUFBUyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3pHLFNBQVMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUN6QyxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDckMsU0FBUyxDQUFDLFNBQVMsRUFBRTtRQUNyQixTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoSCxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFtQyxFQUFFLEdBQVUsRUFBRSxHQUFjO1FBRWxFLFNBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNyQyxTQUFTLENBQUMsU0FBUyxFQUFFO1FBQ3JCLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxHQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzFHLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNyQixDQUFDO0NBQ0o7QUFFTSxNQUFNLFVBQVcsU0FBUSxNQUFNO0lBRWxDLFlBQVksUUFBa0IsRUFBRSxNQUFjLEVBQUUsU0FBaUI7UUFFN0QsS0FBSyxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxDQUFDO0NBQ0o7QUFFTSxNQUFNLGFBQWMsU0FBUSxNQUFNO0lBRXJDLFlBQVksUUFBa0IsRUFBRSxNQUFjLEVBQUUsV0FBbUIsRUFBRSxTQUFpQjtRQUVsRixLQUFLLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQy9ELENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQy9ERDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBd0M7QUFDRTtBQUNrQjtBQUlVO0FBRXZELE1BQU0sVUFBVyxTQUFRLG1EQUFVO0lBdUI5QyxZQUFZLFFBQW1CLEVBQUUsTUFBZTtRQUU1QyxLQUFLLENBQUMsSUFBSSxhQUFhLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUF2QnJDLFlBQU8sR0FBc0IsSUFBSSxDQUFDO1FBQ2xDLGVBQVUsR0FBNkIsSUFBSSxDQUFDO1FBQzVDLG1CQUFjLEdBQVksS0FBSyxDQUFDO1FBSWhDLHFCQUFnQixHQUFZLElBQUksQ0FBQztRQU1qQyxlQUFVLEdBQUcsSUFBSSxDQUFDO1FBRTVCLHNCQUFpQixHQUFHLEtBQUssQ0FBQztRQUVoQiwyQkFBc0IsR0FBWSxLQUFLLENBQUM7UUFDeEMscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBT3hDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7SUFDcEQsQ0FBQztJQVBELElBQUksUUFBUSxLQUFhLE9BQU8sWUFBWSxDQUFDLENBQUMsQ0FBQztJQVMvQyxJQUFJLHFCQUFxQixLQUFLLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsQ0FBQztJQUNuRSxJQUFJLHFCQUFxQixDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsc0JBQXNCLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUVyRSxJQUFJLGVBQWUsS0FBSyxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7SUFFdkQsSUFBSSxNQUFNLEtBQUssT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUNyQyxJQUFJLFNBQVMsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBRTNDLElBQUksbUJBQW1CLEtBQUssT0FBTyxJQUFJLDJFQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pNLElBQUksZUFBZSxLQUFLLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztJQUN2RCxJQUFJLGVBQWUsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLGdCQUFnQixHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDekQsSUFBSSxVQUFVLEtBQUssT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUM3QyxJQUFJLGVBQWUsS0FBSyxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7SUFDdkQsSUFBSSxlQUFlLENBQUMsR0FBRztRQUVuQixJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUNqRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxFQUFDLEtBQUssRUFBRSxHQUFHLEVBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxHQUFHLENBQUM7SUFDaEMsQ0FBQztJQUNELElBQUksYUFBYSxLQUFLLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFFbkQsTUFBTTtRQUVGLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFUyxpQkFBaUI7UUFFdkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxlQUFlLEVBQUMsQ0FBQyxDQUFDO1FBQy9FLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRUQsWUFBWSxDQUFDLEdBQWMsRUFBRSxnQkFBd0I7UUFFakQsSUFBSSxDQUFDLFdBQVcsR0FBRyxnQkFBZ0IsQ0FBQztRQUNwQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDcEYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3ZGLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxzRUFBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFELElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDNUQsQ0FBQztJQUVELEtBQUs7UUFFRCxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQ3hCO1lBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQztZQUNqRCxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1NBQy9HOztZQUVHLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbkgsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFtQyxFQUFFLFVBQVU7UUFFbEQsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFDcEM7WUFDSSxJQUFJLGVBQWUsR0FBRyxTQUFTLENBQUM7WUFDaEMsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLENBQUMsRUFDdEI7Z0JBQ0ksZUFBZSxHQUFHLFNBQVMsQ0FBQyxXQUFXLENBQUM7Z0JBQ3hDLFNBQVMsQ0FBQyxXQUFXLEdBQUcsU0FBUyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDO2FBQ2hFO1lBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUN2RDtnQkFDSSxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztnQkFDNUIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO2dCQUNiLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xFLElBQUksSUFBSSxDQUFDLHNCQUFzQixFQUMvQjtvQkFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDaEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztpQkFDaEM7YUFDSjtZQUNELElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRO2dCQUN2QixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxVQUFVLENBQUMsQ0FBQztZQUVyQyxJQUFJLGVBQWUsS0FBSyxTQUFTO2dCQUM3QixTQUFTLENBQUMsV0FBVyxHQUFHLGVBQWUsQ0FBQztTQUMvQztJQUNILENBQUM7SUFFTyxXQUFXO1FBRWpCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUMxQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLEtBQUssS0FBSyxHQUFHLENBQUMsS0FBSyxDQUFDO1lBQ3hDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3ZELENBQUM7SUFFUywyQkFBMkI7UUFFakMsT0FBTyxJQUFJLENBQUMsV0FBVyxLQUFLLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztJQUN4RCxDQUFDO0lBRUQsS0FBSztRQUVELElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLElBQUksQ0FBQywyQkFBMkIsRUFBRSxFQUM1RDtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQzVFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUN0QjthQUNJLElBQUksSUFBSSxDQUFDLGlCQUFpQjtZQUMzQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVELElBQUksQ0FBQyxTQUFtQyxFQUFFLFVBQVU7UUFFaEQsSUFBSSxTQUFTLEVBQ2I7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO1lBQzdDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUMzRCxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUM3QyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO1lBQzVDLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLEVBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1NBQzVQO0lBQ0wsQ0FBQztJQUVELFdBQVc7UUFFUCxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUMzQixLQUFLLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDeEIsQ0FBQzs7QUEzSXlCLHdCQUFhLEdBQUcsR0FBRyxDQUFDO0FBdUpsRCxNQUFNLGFBQWMsU0FBUSxrREFBUztJQUVqQyxXQUFXLENBQUMsZ0JBQTBCO1FBRWxDLElBQUksQ0FBQyxDQUFDLGdCQUFnQixDQUFDO1lBQ25CLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsb0JBQW9CLEVBQUUsQ0FBQyxFQUN6QztnQkFDSSxJQUFJLElBQUksQ0FBQyxRQUFRO29CQUNiLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztnQkFDeEMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO2dCQUN4QixLQUFLLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxDQUFDO2FBQ2xDO1FBRUwsS0FBSyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQzdMRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBNEI7QUFDZ0I7QUFHd0M7QUFDcEM7QUFFekMsTUFBTSxJQUFLLFNBQVEsOENBQUs7SUFNM0IsWUFBWSxRQUFrQixFQUFFLE1BQWMsRUFBRSxXQUFtQixFQUFFLFNBQWlCLEVBQUUsU0FBaUI7UUFFckcsS0FBSyxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUpsQixvQkFBZSxHQUFrRCxJQUFJLENBQUM7UUFLNUUsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7SUFDL0IsQ0FBQztJQVZELElBQUksUUFBUSxLQUFhLE9BQU8sTUFBTSxDQUFDLENBQUMsQ0FBQztJQVl6QyxJQUFJLGNBQWMsS0FBSyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDO0lBQ3JELElBQUksY0FBYyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsZUFBZSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFFdkQsSUFBSSxDQUFDLFNBQW1DO1FBRXBDLElBQUksSUFBSSxDQUFDLGNBQWMsRUFDdkI7WUFDSSxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7WUFDakIsSUFBSSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNsQztRQUVELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDeEQsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBRTFDLElBQUksSUFBSSxDQUFDLFNBQVM7WUFDZCxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO1lBQzFDLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUV0QyxJQUFJLElBQUksQ0FBQyxjQUFjO1lBQ25CLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRUQsT0FBTyxDQUFDLFNBQW1DLEVBQUUsR0FBVSxFQUFFLEdBQWM7UUFFbkUsU0FBUyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3pDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNyQyxTQUFTLENBQUMsU0FBUyxFQUFFO1FBQ3JCLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxHQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLEdBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUN4SCxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFtQyxFQUFFLEdBQVUsRUFBRSxHQUFjO1FBRWxFLFNBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNyQyxTQUFTLENBQUMsU0FBUyxFQUFFO1FBQ3JCLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzVELENBQUM7Q0FDSjtBQUVNLE1BQU0sUUFBUyxTQUFRLElBQUk7SUFFOUIsWUFBWSxRQUFrQixFQUFFLE1BQWMsRUFBRSxTQUFpQjtRQUU3RCxLQUFLLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELENBQUM7Q0FDSjtBQUVNLE1BQU0sV0FBWSxTQUFRLElBQUk7SUFFakMsWUFBWSxRQUFrQixFQUFFLE1BQWMsRUFBRSxXQUFtQixFQUFFLFNBQWlCO1FBRWxGLEtBQUssQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDL0QsQ0FBQztDQUNKO0FBRU0sTUFBTSxTQUFVLFNBQVEsV0FBVztJQUV0QyxZQUFZLE1BQWMsRUFBRSxTQUFpQjtRQUV6QyxLQUFLLENBQUMsSUFBSSwyREFBUSxFQUFFLEVBQUUsSUFBSSx5REFBTSxDQUFDLElBQUksa0ZBQXFCLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLFNBQVMsQ0FBQztJQUN4RixDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUNuRkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNDO0FBQ0U7QUFDTjtBQUdVO0FBQ0k7QUFDb0M7QUFDbkQ7QUFFbEIsTUFBTSxJQUEyQixTQUFRLG1EQUFVO0lBYTlELFlBQVksSUFBMEIsRUFBRSxHQUFHLGVBQWU7UUFFdEQsSUFBSSxJQUFJLEdBQUcsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ25DLElBQUksSUFBSSxZQUFZLDJEQUFRO1lBQ3hCLEtBQUssQ0FBQyxJQUFJLEVBQUUsZUFBZSxDQUFDLEtBQUssRUFBWSxDQUFDO2FBQzdDLElBQUksSUFBSSxZQUFZLHlEQUFNO1lBQzNCLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDOztZQUVqQixNQUFNLElBQUksS0FBSyxDQUFDLHdGQUF3RixDQUFDLENBQUM7UUFDOUcsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGVBQWUsQ0FBQztRQUN4QyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUVsQixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksaURBQVEsQ0FBSSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksMkRBQVEsRUFBRSxFQUFFLElBQUkseURBQU0sQ0FBQyxJQUFJLGtGQUFxQixDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbkksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztJQUN2QyxDQUFDO0lBakJELElBQUksU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDM0MsSUFBSSxTQUFTLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQWtCN0MsWUFBWSxDQUFDLElBQVk7UUFFckIsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDO0lBSTNCLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxTQUFvQixJQUFJLElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUUxRSxZQUFZLENBQUMsR0FBYyxFQUFFLGdCQUF3QjtRQUVqRCxLQUFLLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUN2RSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7SUFDN0UsQ0FBQztJQUdELE1BQU07UUFJRixJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztRQUM3QixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNsQyxDQUFDO0lBRUQsV0FBVztRQUVQLElBQUksSUFBSSxDQUFDLFNBQVMsRUFDbEI7WUFDSSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxxREFBUyxDQUFDLElBQUksMkRBQVEsRUFBRSxFQUFFLElBQUkseURBQU0sQ0FBQyxJQUFJLGtGQUFxQixDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxSCxTQUFTLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztZQUMxQixTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUMzQjtRQUVELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBQzdELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7UUFFOUMsSUFBSSxJQUFJLENBQUMsTUFBTSxZQUFZLDRDQUFLO1lBQzVCLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVELEtBQUs7UUFFRCxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQ3RCO1lBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFFO1lBQ3ZDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDdkQsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7WUFDMUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztTQUNoQztRQUNELEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNsQixDQUFDO0lBRUQsSUFBSSxRQUFRLEtBQWEsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDO0NBQzVDOzs7Ozs7Ozs7Ozs7O0FDN0ZEO0FBQUE7QUFBQTtBQUE0QjtBQUViLE1BQU0sV0FBWSxTQUFRLDhDQUFLO0lBUTFDLFlBQVksUUFBa0IsRUFBRSxNQUFjLEVBQUUsV0FBbUIsRUFBRSxTQUFpQixFQUFFLFNBQWlCLEVBQUUsTUFBYztRQUVySCxLQUFLLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBSmxCLG9CQUFlLEdBQWtELElBQUksQ0FBQztRQUs1RSxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUMvQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztJQUMxQixDQUFDO0lBYkQsSUFBSSxRQUFRLEtBQWEsT0FBTyxhQUFhLENBQUMsQ0FBQyxDQUFDO0lBZWhELElBQUksY0FBYyxLQUFLLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDckQsSUFBSSxjQUFjLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUV2RCxJQUFJLENBQUMsU0FBbUM7UUFFcEMsSUFBSSxJQUFJLENBQUMsY0FBYyxFQUN2QjtZQUNJLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNqQixJQUFJLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ2xDO1FBRUQsU0FBUyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3pDLFNBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNyQyxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFFckMsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztRQUN4RCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDMUMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxLQUFLLFNBQVMsQ0FBQyxDQUFDO1FBQzVDLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxTQUFTLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRTdGLElBQUksSUFBSSxDQUFDLGNBQWM7WUFDdkIsU0FBUyxDQUFDLE9BQU8sRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFxQkQsU0FBUyxDQUFDLEdBQTZCLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxLQUFhLEVBQUUsTUFBYyxFQUFFLE1BQU0sRUFBRSxJQUFhLEVBQUUsTUFBZTtRQUVoSSxJQUFJLE9BQU8sTUFBTSxJQUFJLFdBQVcsRUFBRTtZQUM5QixNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQ2pCO1FBQ0QsSUFBSSxPQUFPLE1BQU0sS0FBSyxXQUFXLEVBQUU7WUFDL0IsTUFBTSxHQUFHLENBQUMsQ0FBQztTQUNkO1FBQ0QsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7WUFDNUIsTUFBTSxHQUFHLEVBQUMsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBQyxDQUFDO1NBQzdEO2FBQU07WUFDSCxJQUFJLGFBQWEsR0FBRyxFQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUMsQ0FBQztZQUNqRCxLQUFLLElBQUksSUFBSSxJQUFJLGFBQWEsRUFBRTtnQkFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7YUFDbEQ7U0FDSjtRQUNELEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNoQixHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDN0QsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzlDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEtBQUssR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztRQUMvRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztRQUN0QyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9ELEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDN0IsR0FBRyxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDN0MsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ2hCLElBQUksSUFBSSxFQUFFO1lBQ04sR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2Q7UUFDRCxJQUFJLE1BQU0sRUFBRTtZQUNSLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUNoQjtJQUNMLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQ25HRDtBQUFBO0FBQUE7QUFBMEM7QUFFM0IsTUFBTSxLQUFNLFNBQVEsbURBQVU7SUFRekMsWUFBWSxRQUFRLEVBQUUsTUFBTTtRQUV4QixLQUFLLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztRQU5uQixpQkFBWSxHQUFXLFNBQVMsQ0FBQztRQUNqQyxlQUFVLEdBQVcsU0FBUyxDQUFDO1FBQy9CLGVBQVUsR0FBVyxTQUFTLENBQUM7SUFLdkMsQ0FBQztJQVRELElBQUksUUFBUSxLQUFhLE9BQU8sT0FBTyxDQUFDLENBQUMsQ0FBQztJQVcxQyxJQUFJLFdBQVcsS0FBSyxPQUFPLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO0lBQy9DLElBQUksU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDM0MsSUFBSSxTQUFTLEtBQUssT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUUzQyxJQUFJLFdBQVcsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2pELElBQUksU0FBUyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDN0MsSUFBSSxTQUFTLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztDQVFoRDs7Ozs7Ozs7Ozs7OztBQzNCRDtBQUFBO0FBQUE7QUFBMEM7QUFHM0IsTUFBTSxNQUFPLFNBQVEsbURBQVU7SUFFMUMsSUFBSSxRQUFRLEtBQWEsT0FBTyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBTTNDLFlBQVksUUFBa0IsRUFBRSxNQUFjLEVBQUUsR0FBRyxTQUFtQjtRQUVsRSxLQUFLLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO1FBQzVCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFFRCxJQUFJLFNBQVMsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBRTNDLElBQUksQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQW9CO1FBRTlCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdEYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFO1lBRS9ELEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQ3BCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDUixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsTUFBTTtRQUVGLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBbUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkYsQ0FBQztJQUVELElBQUksQ0FBQyxTQUFtQztRQUVwQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3hELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUMxQyxTQUFTLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQ1QsQ0FBQyxFQUFDLENBQUMsRUFDSCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFDdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQ3ZCLEdBQUcsQ0FBQyxDQUFDLEVBQ0wsR0FBRyxDQUFDLENBQUMsRUFDTCxHQUFHLENBQUMsS0FBSyxFQUNULEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUtwQyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUNwREQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBNEI7QUFDZ0M7QUFDdkI7QUFFOUIsTUFBTSxRQUFTLFNBQVEsOENBQUs7SUFFL0IsSUFBSSxRQUFRLEtBQWEsT0FBTyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBRTdDLFlBQVksUUFBa0IsRUFBRSxNQUFjLEVBQUUsV0FBbUIsRUFBRSxTQUFpQixFQUFFLFNBQWlCO1FBRXJHLEtBQUssQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDeEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7SUFDL0IsQ0FBQztJQUVELElBQUksQ0FBQyxTQUFtQztRQUVwQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3hELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUUxQyxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQ2QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUMxQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFFMUMsQ0FBQztJQUVELE9BQU8sQ0FBQyxTQUFtQyxFQUFFLEdBQVUsRUFBRSxHQUFjO1FBRW5FLFNBQVMsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUN6QyxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDckMsU0FBUyxDQUFDLFNBQVMsRUFBRTtRQUNyQixJQUFJLE1BQU0sR0FBRyxtREFBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxtREFBSyxDQUFDLElBQUksR0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLElBQUksR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUNoRixJQUFJLE1BQU0sR0FBRyxzRUFBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxzRUFBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDekYsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzFDLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTSxDQUFDLFNBQW1DLEVBQUUsR0FBVSxFQUFFLEdBQWM7UUFFbEUsU0FBUyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQ3JDLFNBQVMsQ0FBQyxTQUFTLEVBQUU7UUFDckIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRU8sU0FBUyxDQUFDLFNBQW1DLEVBQUUsR0FBVSxFQUFFLEdBQWM7UUFFN0UsU0FBUyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDdEIsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNuQyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3hDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMvQixTQUFTLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDdEIsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEMsQ0FBQztDQUNKO0FBRU0sTUFBTSxZQUFhLFNBQVEsUUFBUTtJQUV0QyxZQUFZLFFBQWtCLEVBQUUsTUFBYyxFQUFFLFNBQWlCO1FBRTdELEtBQUssQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsQ0FBQztDQUNKO0FBRU0sTUFBTSxlQUFnQixTQUFRLFFBQVE7SUFFekMsWUFBWSxRQUFrQixFQUFFLE1BQWMsRUFBRSxXQUFtQixFQUFFLFNBQWlCO1FBRWxGLEtBQUssQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDL0QsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDNUVEO0FBQUE7QUFBQTtBQUEwQztBQU0zQixNQUFNLE1BQU8sU0FBUSxxREFBWTtJQVU1QyxZQUFZLFFBQWtCLEVBQUUsTUFBYyxFQUFFLE9BQW9CO1FBRWhFLEtBQUssQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFKbEIsaUJBQVksR0FBWSxLQUFLLENBQUM7UUFLcEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7UUFDeEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7SUFDaEMsQ0FBQztJQWJELElBQUksUUFBUSxLQUFhLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQztJQWUzQyxJQUFJLE9BQU8sS0FBSyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLElBQUksU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDM0MsSUFBSSxXQUFXLEtBQUssT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUUvQyxZQUFZLENBQUMsR0FBRztRQUVaLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUNwQyxDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQUc7UUFFZCxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQztRQUN4QixJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDdEMsQ0FBQztJQUVELEtBQUs7UUFFRCxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQ2QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ25DLElBQUksSUFBSSxDQUFDLFdBQVc7WUFDaEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNuQixJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQztJQUM3QixDQUFDO0lBRUQsUUFBUTtRQUVKLElBQUksSUFBSSxDQUFDLFNBQVM7WUFDZCxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDbkMsSUFBSSxJQUFJLENBQUMsV0FBVztZQUNoQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDekMsQ0FBQztJQUVELE1BQU07UUFFRixJQUFJLElBQUksQ0FBQyxRQUFRO1lBQ2IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELFlBQVksQ0FBQyxDQUFRLEVBQUUsS0FBWSxFQUFFLE9BQWU7UUFFaEQsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZO1lBQ2xCLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztRQUMxQyxDQUFDLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxXQUFXLENBQUMsQ0FBUSxFQUFFLEtBQVksRUFBRSxPQUFlO1FBRS9DLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVELFdBQVcsQ0FBQyxDQUFRLEVBQUUsS0FBWSxFQUFFLE9BQWU7UUFFL0MsSUFBSSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUM7UUFDMUIsSUFBSSxJQUFJLENBQUMsV0FBVztZQUNoQixJQUFJLENBQUMsV0FBVyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDcEMsSUFBSSxJQUFJLENBQUMsU0FBUztZQUNkLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNuQyxDQUFDLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLENBQUM7SUFFRCxTQUFTLENBQUMsQ0FBUSxFQUFFLEtBQVksRUFBRSxPQUFlO1FBRTdDLElBQUksSUFBSSxDQUFDLFdBQVc7WUFDaEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3JDLElBQUksSUFBSSxDQUFDLFNBQVM7WUFDZCxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDbEMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4QixDQUFDO0lBRUQsWUFBWSxDQUFDLENBQVEsRUFBRSxLQUFZLEVBQUUsT0FBZTtRQUVoRCxJQUFJLElBQUksQ0FBQyxTQUFTO1lBQ2QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLENBQUMsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEIsQ0FBQztJQUVELFlBQVksQ0FBQyxDQUFRLEVBQUUsS0FBWSxFQUFFLE9BQWU7UUFFaEQsSUFBSSxJQUFJLENBQUMsU0FBUztZQUNkLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNuQyxJQUFJLElBQUksQ0FBQyxXQUFXO1lBQ2hCLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUN6QyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUM1R0Q7QUFBQTtBQUFBO0FBQUE7QUFBMEM7QUFHSjtBQUd2QixNQUFNLFlBQWEsU0FBUSxxREFBWTtJQVFsRCxZQUFZLFFBQWtCLEVBQUUsTUFBYztRQUUxQyxLQUFLLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBTDVCLGlCQUFZLEdBQVksS0FBSyxDQUFDO1FBQ3BCLHFCQUFnQixHQUFHLEtBQUssQ0FBQztRQUsvQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUkseURBQUssRUFBRSxDQUFDO0lBQ2hDLENBQUM7SUFWRCxJQUFJLFFBQVEsS0FBYSxPQUFPLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFZakQsSUFBSSxPQUFPLEtBQVksT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUU5QyxZQUFZLENBQUMsS0FBWSxFQUFFLEtBQVksRUFBRSxPQUFlO1FBRXBELElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUM1QjtZQUNJLHlEQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztZQUNoRCxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1lBQzdCLElBQUksSUFBSSxDQUFDLFlBQVksRUFDckI7Z0JBQ0ksSUFBSSxLQUFLO29CQUNMLEtBQUssQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDOztvQkFFckIsS0FBSyxDQUFDLFVBQVUsRUFBRSxDQUFDO2FBQzFCO1NBQ0o7SUFDTCxDQUFDO0lBRUQsTUFBTSxDQUFDLEVBQUMsS0FBSyxFQUFFLENBQUMsRUFBQztRQUViLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDOUIsSUFBSSxJQUFJLENBQUMsWUFBWTtZQUNqQixJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDNUNEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTBCO0FBQ2tDO0FBQ1o7QUFDSjtBQUM4QztBQUNoRDtBQUNMO0FBQ3VDO0FBRTdELE1BQU0sU0FBVSxTQUFRLG1EQUFVO0lBRTdDLElBQUksUUFBUSxLQUFhLE9BQU8sV0FBVyxDQUFDLENBQUMsQ0FBQztJQVU5QyxNQUFNO1FBRUYsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksNkNBQUksQ0FBQyxJQUFJLDJEQUFRLENBQUMsSUFBSSxzRkFBdUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksbURBQUssQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLCtFQUFnQixDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQzNGLElBQUkseURBQU0sRUFBRSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFTLENBQUM7UUFFOUYsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUM7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUM7UUFDekIsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDNUIsSUFBSSxDQUFDLFlBQVksR0FBSSxTQUFTLENBQUM7UUFFL0IsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLG1EQUFVLEVBQUUsQ0FBQyxDQUFDO1FBQ3pDLEVBQUUsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLDREQUFnQixDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUcsSUFBSSxDQUFDLENBQUM7SUFDekcsQ0FBQztJQUVELE1BQU0sQ0FBQyxFQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsUUFBUSxFQUFDLENBQUMsRUFBQztRQUV6QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxHQUFHLEdBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzFGLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ25FLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxZQUFZLEdBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBRWxGLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxHQUFPLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztZQUNuQyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxFQUFFLENBQUM7WUFDL0MsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsRUFBRSxDQUFDO1lBQzdDLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQztZQUNqRCxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxFQUFFLENBQUMsR0FBRyxJQUFJO1lBQzFELENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQztZQUMzQyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxFQUFFLENBQUM7WUFDN0MsQ0FBQyxzQkFBc0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksR0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUc7WUFDL0UsQ0FBQyxZQUFZLEdBQUcsR0FBRyxHQUFDLENBQUMsQ0FB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LEtBQWEsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuQyxJQUFJLENBQUMsS0FBYSxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBQztJQUNsQyxJQUFJLENBQUMsS0FBYSxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBQztJQUNsQyxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzdCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFDO0lBQzVCLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxFQUFDO0lBRTVCLE1BQU0sQ0FBQyxDQUFTO1FBRVosT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBUyxFQUFFLENBQVM7UUFFOUIsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBUyxFQUFFLENBQVU7UUFFOUIsSUFBSSxDQUFDLENBQUMsRUFDTjtZQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQzNDO1FBQ0QsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2pCLE9BQU8sSUFBSSxNQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsS0FBSyxDQUFDLENBQVM7UUFFWCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDcEIsT0FBTyxJQUFJLE1BQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCxJQUFJLENBQUMsQ0FBUztRQUVWLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDckIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNwQixPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7SUFDN0IsQ0FBQztJQUVELFFBQVEsQ0FBQyxDQUFrQjtRQUV2QixJQUFJLENBQUMsWUFBWSxNQUFNLEVBQ3ZCO1lBQ0ksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckIsT0FBTyxJQUFJLE1BQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzVCO2FBRUQ7WUFDSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNuQixPQUFPLElBQUksTUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDNUI7SUFFTCxDQUFDO0lBRUQsSUFBSSxVQUFVO1FBRVYsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQzFIO1lBQ0ksSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztZQUMvQixPQUFPLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUMsU0FBUyxFQUFFLElBQUksQ0FB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QUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRS9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RHLEVBQUUsQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVHLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRS9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXpHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25HLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FB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LElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVO1FBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekUsTUFBTSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVTtRQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xFLE1BQU0sS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVU7UUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVO1FBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDL0QsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVTtRQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzdELElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVU7UUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM5RCxJQUFJO1FBQ0EsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0QsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzFGLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWTtRQUFFLElBQUksQ0FBQyxT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S0FBSywwREFBTSxDQUFDLEtBQUssQ0FBQztvQkFDM0ksSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO2FBQzNGO1lBQ0QsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUMvRTtnQkFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSywwREFBTSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSywwREFBTSxDQUFDLElBQUksQ0FBQztvQkFDcEksSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO3FCQUNyRixJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSywwREFBTSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSywwREFBTSxDQUFDLElBQUksQ0FBQztvQkFDekksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFT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QUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQzFGRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXNFO0FBQ0E7QUFDRTtBQUNBO0FBQ25CO0FBQ0Y7QUFDSTtBQUNKO0FBQ0E7QUFDRTtBQUNBO0FB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LENBQUMsRUFBQyxDQUFDLENBQUMsRUFBRTtRQUNwRyxFQUFFLFFBQVEsRUFBRSxnRkFBaUIsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDaEcsRUFBRSxRQUFRLEVBQUUsOEVBQWUsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDOUYsRUFBRSxRQUFRLEVBQUUsMEVBQVcsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDMUYsRUFBRSxRQUFRLEVBQUUsNkVBQWMsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDN0YsRUFBRSxRQUFRLEVBQUUsNEVBQWEsRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDNUYsRUFBRSxRQUFRLEVBQUUsZ0ZBQWdCLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFFO1FBQy9GLEVBQUUsUUFBUSxFQUFFLDBFQUFXLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFB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RSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDO2dCQUNySCxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQzthQUN6QztZQUNEO2dCQUNJLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDO2dCQUN0SCxVQUFVLEVBQUUsRUFBRTthQUNqQjtZQUNEO2dCQUNJLElBQUksRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFO2dCQUMxSCxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ3JDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7b0JBQzNCLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7b0JBQzNCLEVBQUUsSUFBSSxFQUFFLENB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O1lBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFRCxTQUFTLENBQUMsUUFBZ0I7UUFFdkIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWE7WUFDNUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMxQyxDQUFDO0lBRUQsV0FBVyxDQUFDLFFBQWdCO1FBRXhCLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhO1lBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzFDLENBQUM7SUFFRCxhQUFhLENBQUMsUUFBZ0I7UUFFMUIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWE7WUFDN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBRUQsWUFBWSxDQUFDLFFBQWdCO1FBRXpCLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhO1lBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxhQUFhLENBQUMsUUFBZ0I7UUFFMUIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWE7WUFDN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QyxDQUFDO0lBRUQsU0FBUztRQUVMLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhO1lBQzdCLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDaEMsQ0FBQztJQUVELGFBQWE7UUFFVCxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNoQyxDQUFDO0lBRUQsYUFBYTtRQUVULElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFD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QU0sQ0FBQyxLQUFLO1lBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLElBQUk7WUFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsS0FBSztZQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxJQUFJO1lBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELGNBQWM7UUFFVixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsS0FBSztZQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxJQUFJO1lBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLEtBQUs7WUFDbkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsSUFBSTtZQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCxlQUFlO1FBRVgsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLEtBQUs7WUFDbkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsSUFBSTtZQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxLQUFLO1lBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLElBQUk7WUFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsVUFBVSxDQUFDLEVBQUU7UUFFVCxJQUFJLEVBQUUsS0FBSyxDQUFDO1lBQ1IsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNqQyxJQUFJLEVBQUUsS0FBSyxDQUFDO1lBQ2IsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDaEMsSUFBSSxFQUFFLEtBQUssQ0FBQztZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ2hDLElBQUksRUFBRSxLQUFLLENBQUM7WUFDYixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ2pDLElBQUksRUFBRSxLQUFLLENBQUM7WUFDYixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ2pDLElBQUksRUFBRSxLQUFLLENBQUM7WUFDYixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRU8sWUFBWSxDQUFDLEVBQVUsRUFBRSxPQUFlLEVBQUUsQ0FBUyxFQUFFLENBQVMsRUFBRSxDQUFTO1FBRTdFLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUgsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ3BHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDO2dCQUNyRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUN4RztvQkFDSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDO29CQUM5SCxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO2lCQUMxRTtRQUNULElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxTQUFTLENBQUMsU0FBb0I7UUFLMUIsU0FBUyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFRCxlQUFlLENBQUMsU0FBeUI7UUFFckMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVk7WUFDNUIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVELGFBQWEsQ0FBQyxNQUF5QixFQUFFLE1BQW1CO1FBRXhELElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxZQUFZLEVBQ2hDO1lBQ0ksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUM7WUFDcEQsSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDNUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ2hELE9BQU8sTUFBTSxDQUFDO1NBQ2pCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELGdCQUFnQixDQUFDLE1BQWdCLEVBQUUsTUFBeUIsRUFBRSxNQUFtQjtRQUU3RSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQzFEO1lBQ0ksSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDNUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQ2hELE9BQU8sTUFBTSxDQUFDO1NBQ2pCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELFFBQVEsQ0FBQyxHQUFhLEVBQUUsSUFBWTtRQUVoQyxJQUFJLENBQUMsR0FBRztZQUNKLE1BQU0sSUFBSSxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVELGlCQUFpQixDQUFDLFlBQStCO1FBRTdDLFlBQVksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsUUFBUSxDQUFDLEtBQWlCO1FBRXRCLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2hDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztRQUM5QyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsY0FBYyxDQUFDO1FBQzFDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVELE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBZ0I7UUFJNUIsSUFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBRVYsR0FBRyxJQUFJLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkMsQ0FBQyxDQUFDLENBQUM7UUFDUCxPQUFPLEdBQUc7SUFDZCxDQUFDO0lBRU8sTUFBTSxDQUFDLGNBQWMsQ0FBQyxjQUFzQjtRQUVoRCxJQUFJLEtBQUssR0FBRyxjQUFjLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDO1lBQ2xCLE9BQU8sUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFO1lBQ2pDLEtBQUssSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsRSxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQWMsRUFBRSxNQUFjO1FBRXhDLElBQUksUUFBUSxHQUFHLDBEQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDdEQsSUFBSSxRQUFRLElBQUksQ0FBQztZQUNiLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7Q0FDSjtBQUdNLE1BQU0saUJBQWlCO0lBQTlCO1FBRUksV0FBTSxHQUFVLElBQUkseURBQUssRUFBRSxDQUFDO1FBQzVCLFdBQU0sR0FBVSxJQUFJLHlEQUFLLEVBQUUsQ0FBQztRQUM1QixrQkFBYSxHQUFVLElBQUkseURBQUssRUFBRSxDQUFDO1FBQ25DLHdCQUFtQixHQUFVLElBQUkseURBQUssRUFBRSxDQUFDO1FBQ3pDLGdCQUFXLEdBQVUsSUFBSSx5REFBSyxFQUFFLENBQUM7UUFDakMsa0JBQWEsR0FBVSxJQUFJLHlEQUFLLEVBQUUsQ0FBQztJQUN2QyxDQUFDO0NBQUE7Ozs7Ozs7Ozs7Ozs7QUNqY0Q7QUFBQTtBQUFlLE1BQU0sU0FBUztJQUkxQixJQUFJLElBQUksS0FBSyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN6QyxJQUFJLElBQUksS0FBSyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUV6QyxZQUFZLFFBQWtCO1FBRTFCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzdCLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQ2JEO0FBQUE7QUFBQTtBQUFBO0FBQStEO0FBR0g7QUFJN0MsTUFBTSxVQUFVO0lBUzNCLE1BQU0sQ0FBQyxJQUFjLEVBQUUsU0FBb0I7UUFFdkMsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDckIsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSx1REFBYyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLG9FQUFnQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEQsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLG9FQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxJQUFJLENBQUMsSUFBYztRQUVmLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO1FBQ2xDLElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUVwQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDO1lBQzdCLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFDO1FBQ1AsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQ3ZDLENBQUM7SUFHRCxTQUFTLENBQUMsTUFBYztRQUVwQixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxVQUFVLEtBQUssTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUNyRyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDO0lBQ3RELENBQUM7SUFHRCxRQUFRLENBQUMsU0FBaUI7UUFFdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksU0FBUyxDQUFDO1FBQzdCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxhQUFhLEdBQUUsU0FBUyxHQUFDLEtBQUssQ0FBQztJQUNuRSxDQUFDO0lBRUQsZ0JBQWdCO1FBRVosSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLEtBQUssS0FBSywyREFBVyxDQUFDLE1BQU0sQ0FBQztRQUN6RixJQUFJLFdBQVcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUM1QjtZQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7U0FDekM7SUFDTCxDQUFDO0NBRUo7Ozs7Ozs7Ozs7Ozs7QUM1REQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXdDO0FBQ007QUFDUjtBQUd0QyxJQUFZLE1BQThFO0FBQTFGLFdBQVksTUFBTTtJQUFHLHFDQUFLO0lBQUUsNkNBQVM7SUFBRSxtQ0FBSTtJQUFFLDZDQUFTO0lBQUUscUNBQUs7SUFBRSw2Q0FBUztJQUFFLG1DQUFJO0lBQUUsNkNBQVM7QUFBQSxDQUFDLEVBQTlFLE1BQU0sS0FBTixNQUFNLFFBQXdFO0FBRTNFLE1BQU0sV0FBVztJQUFoQztRQUlJLFlBQU8sR0FBVyxDQUFDLENBQUM7UUFFcEIsY0FBUyxHQUFZLEtBQUssQ0FBQztRQUNuQixjQUFTLEdBQWEsS0FBSyxDQUFDO1FBQ3BDLFlBQU8sR0FBWSxJQUFJLENBQUM7UUFDeEIsWUFBTyxHQUFZLElBQUksQ0FBQztRQUdoQixvQkFBZSxHQUFZLEtBQUssQ0FBQztRQUNqQyxpQkFBWSxHQUFZLEtBQUssQ0FBQztRQUN0QyxhQUFRLEdBQVUsSUFBSSx5REFBSyxFQUFFLENBQUM7SUFxb0JsQyxDQUFDO0lBbm9CRyxJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLElBQUksUUFBUSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBQztJQUVoRSxJQUFJLFlBQVksS0FBSyxPQUFPLElBQUksQ0FBQyxhQUFhLEdBQUM7SUFDL0MsSUFBSSxZQUFZLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxhQUFhLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFDO0lBRXhFLElBQUksY0FBYyxLQUFLLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDckQsSUFBSSxjQUFjLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxlQUFlLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFDO0lBRTVFLElBQUksV0FBVyxLQUFLLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7SUFDL0MsSUFBSSxXQUFXLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFDO0lBRXRFLElBQUksc0JBQXNCO1FBRXRCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDekIsSUFBSSxHQUFHLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6RCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLElBQUksUUFBUSxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBQztJQUVoRSxJQUFJLE1BQU07UUFDTixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsS0FBSyxrREFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDO1lBQy9GLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxJQUFJLFlBQVk7UUFDWixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsS0FBSyxrREFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDO1lBQ2xHLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFDRCxJQUFJLE1BQU0sS0FBSyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRTFDLE1BQU0sQ0FBQyxTQUFvQixFQUFDLElBQWM7UUFFdEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNqQyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRO1lBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBRXBHLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSwwREFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQztJQUN2RixDQUFDO0lBRUQsSUFBSSxDQUFDLElBQWM7UUFFZixJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUNqQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyRyxDQUFDO0lBRUQsMkJBQTJCO1FBRXZCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsTUFBTSxHQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFNBQVM7UUFFTCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7YUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ2hDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQzthQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO2FBQzFCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUNqQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7YUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQzthQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDL0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzFDLENBQUM7SUFFRCxRQUFRO1FBRUosSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQzVCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQzthQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDO2FBQzFCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUNoQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7YUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQzthQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDakMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7YUFDMUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ2hDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQzthQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBRTlCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMxQyxDQUFDO0lBRUQsVUFBVSxDQUFDLEtBQWE7UUFFcEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsR0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNwRyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFHcEQsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7UUFHM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBSUQsZUFBZSxDQUFDLE1BQWM7UUFFMUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDdkIsT0FBTyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDL0IsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUNuQyxJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUN0QixPQUFPLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM5QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ25DLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQ3ZCLE9BQU8sSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQy9CLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQzNCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDbkMsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDdEIsT0FBTyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDOUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUN2QyxDQUFDO0lBRUQsY0FBYyxDQUFDLE1BQWM7UUFFekIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDdkIsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQzNCLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUM1QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUN0QixPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQzVCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQ3ZCLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQztRQUN4QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDNUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDdEIsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQzNCLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUNoQyxDQUFDO0lBRUQsa0JBQWtCLENBQUMsTUFBYztRQUU3QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUN2QixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ3RCLE9BQU8sSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUN2QixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQzNCLE9BQU8sSUFBSSwwREFBTSxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUN0QixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFbkMsQ0FBQztJQUVELFdBQVcsQ0FBQyxRQUFnQjtRQUV4QixJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDakIsSUFBSSxRQUFRLEdBQUcsQ0FBQztZQUNaLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVsQixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ2xGLElBQUksQ0FBQyxZQUFZLEdBQUksSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsRUFBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTVHLElBQUksQ0FBQywyQkFBMkIsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFVBQVUsQ0FBQyxRQUFnQjtRQUV2QixJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDakIsSUFBSSxRQUFRLEdBQUcsQ0FBQztZQUNaLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVsQixJQUFJLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1FBQ2pDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDckgsSUFBSSxDQUFDLFlBQVksR0FBSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsTUFBTSxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRS9HLElBQUksQ0FBQywyQkFBMkIsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFlBQVksQ0FBQyxRQUFnQjtRQUV6QixJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUM7UUFDakIsSUFBSSxRQUFRLEdBQUcsQ0FBQztZQUNaLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUNsQixJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLEdBQUMsUUFBUSxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDO1FBRXBFLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUMvSCxJQUFJLENBQUMsWUFBWSxHQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO2FBRXBIO1lBQ0ksSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTLEVBQ3BDO2dCQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQzVILElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO3FCQUN4RyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO29CQUNqSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNoSDtpQkFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVMsRUFDekM7Z0JBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDM0gsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7cUJBQ3hHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ2hJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2hIO2lCQUNJLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUyxFQUN6QztnQkFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUM1SCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztxQkFDeEcsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztvQkFDakksSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDaEg7aUJBQ0ksSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTLEVBQ3pDO2dCQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQzNILElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO3FCQUN4RyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFHLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO29CQUNoSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNoSDtTQUNKO1FBQ0QsSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU8sMkJBQTJCO1FBRS9CLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksRUFBRSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUM7WUFDdkIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksRUFBRSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksRUFBRSxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBYTtRQUVyQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUdwRCxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztRQUczQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0lBRXhCLENBQUM7SUFFRCxXQUFXO1FBRVAsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQzVCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUMzQixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxZQUFZO1FBRVIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQzVCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUMzQixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxVQUFVO1FBRU4sSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQzVCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUMzQixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxXQUFXO1FBRVAsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQzVCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUMzQixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxPQUFPO1FBRUgsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUMsQ0FBQyxFQUNoRjtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzRyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ2hILElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRO2dCQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDeEI7SUFDTCxDQUFDO0lBRUQsU0FBUztRQUVMLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUN2QjtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzRyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ2hILElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRO2dCQUN0QixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUN6QjtJQUNMLENBQUM7SUFFRCxTQUFTO1FBRUwsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQ3ZCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNwQztJQUNMLENBQUM7SUFFRCxhQUFhO1FBRVQsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQzNHLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRO1lBQ3pCLE9BQU8sSUFBSSxDQUFDO1FBQ2hCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxlQUFlO1FBRVgsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQ3ZCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRO2dCQUN2QixPQUFPLElBQUksQ0FBQztTQUNuQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxZQUFZO1FBRVIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQ3ZCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxDQUFDLENBQUM7Z0JBQ3BELE9BQU8sSUFBSSxDQUFDO1NBQ25CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELGFBQWE7UUFFVCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUMzQjtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEM7YUFFRDtZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUM1QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNQLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ1AsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUVELGdCQUFnQjtRQUVaLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFDN0M7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDM0csSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDO2dCQUN2SCxPQUFPLElBQUksQ0FBQztTQUNuQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxRQUFRO1FBRUosSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLEVBQ3RCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkM7SUFDTCxDQUFDO0lBRUQsV0FBVztRQUVQLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFDLENBQUMsRUFDL0U7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDM0csSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLENBQUM7Z0JBQ2hELE9BQU8sSUFBSSxDQUFDO1NBQ25CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFNBQVM7UUFFTCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5RyxDQUFDO0lBRUQsYUFBYTtRQUVULE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoSCxDQUFDO0lBRUQsUUFBUTtRQUVKLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlHLENBQUM7SUFFRCxhQUFhO1FBRVQsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hILENBQUM7SUFFRCxTQUFTO1FBRUwsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUcsQ0FBQztJQUVELGFBQWE7UUFFVCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7SUFDaEgsQ0FBQztJQUVELFFBQVE7UUFFSixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5RyxDQUFDO0lBRUQsYUFBYTtRQUVULE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQztJQUNoSCxDQUFDO0lBRUQsYUFBYTtRQUVULElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQzNCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkM7YUFFRDtZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztZQUM1QixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDM0IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNQLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztZQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ1AsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1NBQ3ZCO0lBQ0wsQ0FBQztJQUVELGdCQUFnQjtRQUVaLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFDN0M7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDM0csSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEtBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDO2dCQUN2SCxPQUFPLElBQUksQ0FBQztTQUNuQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxTQUFTO1FBRUwsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQ3ZCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQyxDQUFDLENBQUM7U0FDbkM7SUFDTCxDQUFDO0lBRUQsWUFBWTtRQUVSLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFDLENBQUMsRUFDN0U7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDM0csSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztZQUNoSCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssQ0FBQztnQkFDaEQsT0FBTyxJQUFJLENBQUM7U0FDbkI7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsYUFBYTtRQUVULElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFLEVBQzNCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUNwQzthQUVEO1lBQ0ksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQzVCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ1AsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDUCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBR0QsZ0JBQWdCO1FBRVosSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUM3QztZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7Z0JBQ3ZILE9BQU8sSUFBSSxDQUFDO1NBQ25CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFFBQVE7UUFFSixJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFDdEI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDM0csSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3BDO0lBQ0wsQ0FBQztJQUVELFdBQVc7UUFFUCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFDckI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM1RyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakgsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsV0FBVyxLQUFLLENBQUM7Z0JBQ2hELE9BQU8sSUFBSSxDQUFDO1NBQ25CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELGFBQWE7UUFFVCxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUMzQjtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNyQzthQUVEO1lBQ0ksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQzVCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUMzQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ1AsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1lBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDUCxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7U0FDdkI7SUFDTCxDQUFDO0lBR0QsZ0JBQWdCO1FBRVosSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUM3QztZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7Z0JBQ3ZILE9BQU8sSUFBSSxDQUFDO1NBQ25CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELElBQUksQ0FBQyxDQUFTLEVBQUMsQ0FBUyxFQUFDLENBQVM7UUFFOUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDM0csSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO1FBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMxQyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUM3cEJEO0FBQUE7QUFBQTtBQUErQztBQUdoQyxNQUFlLEtBQU0sU0FBUSwyREFBVztJQUduRCxJQUFJLElBQUksS0FBYSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNsRCxJQUFJLGVBQWUsS0FBYSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztJQUN4RSxJQUFJLGlCQUFpQixLQUFhLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7SUFDNUUsSUFBSSxpQkFBaUIsS0FBYSxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO0lBRTVFLElBQUksSUFBSSxLQUFhLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUMsQ0FBQztJQUVqRCxZQUFZLFNBQW9CLEVBQUUsYUFBc0I7UUFFcEQsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUNsQkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBZ0Q7QUFDSTtBQUVJO0FBQ2xCO0FBQ1E7QUFHL0IsTUFBTSxTQUFTO0lBTTFCLFlBQVksSUFBWSxFQUFFLE1BQWUsRUFBRSxJQUFZO1FBSHZELFdBQU0sR0FBWSxFQUFFLENBQUM7UUFLakIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUVELE1BQU0sQ0FBQyxRQUFRLENBQUMsU0FBb0IsRUFBRSxTQUFvQjtRQUV0RCxJQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssV0FBVztZQUM5QixPQUFPLElBQUksK0RBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNuQyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssYUFBYTtZQUNoQyxPQUFPLElBQUksaUVBQVUsQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDaEQsSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLGVBQWU7WUFDbEMsT0FBTyxJQUFJLG1FQUFZLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2xELElBQUksU0FBUyxDQUFDLElBQUksS0FBSyxLQUFLO1lBQ3hCLE9BQU8sSUFBSSwwREFBRyxDQUFDLFNBQVMsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN6QyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssU0FBUztZQUM1QixPQUFPLElBQUksOERBQU8sQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDakQsQ0FBQztDQUVKOzs7Ozs7Ozs7Ozs7O0FDcENEO0FBQUE7QUFBQTtBQUFBLElBQVksVUFRWDtBQVJELFdBQVksVUFBVTtJQUVsQiwyQ0FBSTtJQUNKLHVEQUFVO0lBQ1YsMkNBQUk7SUFDSiwrQ0FBTTtJQUNOLHFEQUFTO0lBQ1QsaURBQU87QUFDWCxDQUFDLEVBUlcsVUFBVSxLQUFWLFVBQVUsUUFRckI7QUFFYyxNQUFNLE1BQU07SUFJdkIsSUFBSSxJQUFJO1FBRUosSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLFVBQVUsQ0FBQyxJQUFJO1lBQ25DLE9BQU8sTUFBTSxDQUFDO1FBQ2xCLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxVQUFVLENBQUMsVUFBVTtZQUN6QyxPQUFPLGFBQWEsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssVUFBVSxDQUFDLElBQUk7WUFDbkMsT0FBTyxNQUFNLENBQUM7UUFDbEIsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLFVBQVUsQ0FBQyxNQUFNO1lBQ3JDLE9BQU8sUUFBUSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLFVBQVUsS0FBSyxVQUFVLENBQUMsU0FBUztZQUN4QyxPQUFPLGVBQWUsQ0FBQztRQUMzQixJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssVUFBVSxDQUFDLE9BQU87WUFDdEMsT0FBTyxVQUFVLENBQUM7SUFDMUIsQ0FBQztJQUVELFlBQVksVUFBc0I7UUFFOUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDakMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDOUJEO0FBQUE7QUFBZSxNQUFlLFdBQVc7Q0FPeEM7Ozs7Ozs7Ozs7Ozs7QUNYRDtBQUFBO0FBQUE7QUFBc0M7QUFFdkIsTUFBTSxpQkFBaUI7SUFLbEMsWUFBWSxZQUFvQjtRQUhoQyxpQkFBWSxHQUFXLENBQUMsQ0FBQztRQUN6QixZQUFPLEdBQVUsSUFBSSx5REFBSyxFQUFFLENBQUM7UUFJekIsSUFBSSxDQUFDLFlBQVksR0FBRyxZQUFZLENBQUM7SUFDckMsQ0FBQztJQUVELEtBQUs7UUFFRCxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3hCLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQ2hCRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBb0Q7QUFFWDtBQUNNO0FBQ1A7QUFDSDtBQUNFO0FBRUM7QUFFekIsTUFBTSxpQkFBa0IsU0FBUSxvREFBVztJQU90RCxZQUFZLFNBQW9CLEVBQUUsSUFBWSxFQUFFLFVBQWtCLEVBQUUsS0FBYTtRQUU3RSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBMEIsRUFBRSxNQUF5QjtRQUV6RCxJQUFJLENBQUMsR0FBRyxJQUFJLDBEQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUN6RCxJQUFJLE1BQU0sWUFBWSxtREFBVTtZQUM1QixDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBRWhCLElBQUksTUFBTSxHQUFHLGtEQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztnQkFDakQsSUFBSSxNQUFNLFlBQVksdURBQWM7b0JBQ2hDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxVQUFVLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQztnQkFDcEUsTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUM5QixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDYixPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUFFRCxJQUFJLENBQUMsTUFBeUIsRUFBRSxNQUF5QjtRQUVyRCxJQUFJLE1BQU0sWUFBWSx1REFBUSxFQUM5QjtZQUNJLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO2dCQUNyQixPQUFPLEtBQUssQ0FBQztZQUNqQixJQUFJLDBEQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsRUFBRSxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLEtBQUs7Z0JBQ2hGLE9BQU8sSUFBSSxDQUFDO1NBQ25CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUEwQjtRQUVuQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLEVBQUUsQ0FBQztJQUN2QyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUN2REQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWdFO0FBSXZCO0FBR21CO0FBRzVELElBQVksV0FBa0M7QUFBOUMsV0FBWSxXQUFXO0lBQUcsK0NBQUs7SUFBRSxpREFBTTtJQUFFLDJDQUFHO0FBQUMsQ0FBQyxFQUFsQyxXQUFXLEtBQVgsV0FBVyxRQUF1QjtBQUUvQixNQUFNLGVBQWU7SUFBcEM7UUFLSSxvQkFBZSxHQUEwQyxFQUFFLENBQUM7UUFDNUQsY0FBUyxHQUFpQyxJQUFJLG9FQUFnQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25FLGdCQUFXLEdBQWtDLElBQUksb0VBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDeEUsc0JBQWlCLEdBQXVDLElBQUksb0VBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkYscUJBQWdCLEdBQXFDLElBQUksb0VBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFxUHBGLENBQUM7SUFuUEcsSUFBSSxZQUFZO1FBRVosT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNySixDQUFDO0lBRUQsSUFBSSxhQUFhO1FBRWIsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsQ0FBQztJQUN0SixDQUFDO0lBRUQsSUFBSSxhQUFhO1FBRWIsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDekUsQ0FBQztJQUVELE1BQU0sQ0FBQyxTQUFvQixFQUFFLFVBQXNCO1FBRS9DLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNqQixDQUFDO0lBRUQsS0FBSztRQUVELElBQUksQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUVuQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxFQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsY0FBYyxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDdEUsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFFckQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsRUFBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLGNBQWMsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUMsQ0FBQyxDQUFDO1FBQ3RFLENBQUMsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUMzRCxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3pELElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUMvQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsZUFBZSxDQUFDLFNBQXlCO1FBRXJDLElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLFVBQWtCLENBQUM7UUFDdkIsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUM5QztZQUNJLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssU0FBUyxFQUMvQztnQkFDSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7Z0JBQzVDLE1BQU07YUFDVDtpQkFDSSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxZQUFZLHVEQUFjLEVBQ2hFO2dCQUNJLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUNsRDtTQUNKO1FBRUQsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDN0QsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFNBQVMsQ0FBQyxLQUFhLEVBQUUsR0FBVztRQUVoQyxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxLQUFLLFdBQVcsQ0FBQyxHQUFHO1lBQzFDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzFFLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCxlQUFlLENBQUMsS0FBaUIsRUFBRSxNQUF5QjtRQUV4RCxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDNUMsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFFBQVEsQ0FBQyxHQUFhLEVBQUUsSUFBWTtRQUVoQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUM3QixDQUFDO0lBRUQsT0FBTyxDQUFDLEdBQWE7UUFFakIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVTLGlCQUFpQjtRQUV2QixJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxFQUM3QjtZQUNJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBQ2xDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1NBQ3RDO2FBRUQ7WUFDSSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsQ0FBQztZQUMzQixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztZQUMxQixJQUFJLENBQUMsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDL0MsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7U0FDbEM7SUFDTCxDQUFDO0lBRVMsdUJBQXVCO1FBRTdCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLG9CQUFvQixFQUFFLENBQUM7UUFDM0QsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzs7WUFFOUQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDM0MsQ0FBQztJQUVTLG9CQUFvQjtRQUUxQixJQUFJLFVBQVUsR0FBcUIsRUFBRSxDQUFDO1FBQ3RDLElBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQztRQUN0QixLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQzlDO1lBQ0ksSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssWUFBWSx1REFBYyxFQUMzRDtnQkFDSSxJQUFLLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBd0IsQ0FBQyxXQUFXLENBQUMsS0FBSyxLQUFLLDJEQUFXLENBQUMsTUFBTTtvQkFDMUYsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQXVCLENBQUMsQ0FBQzs7b0JBRWpFLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQzthQUN4RDs7Z0JBRUcsTUFBTTtTQUNiO1FBRUQsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFFMUIsT0FBTyxVQUFVLENBQUM7SUFDdEIsQ0FBQztJQUVTLG1CQUFtQjtRQUV6QixLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQzlDO1lBQ0ksSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssWUFBWSx1REFBYztnQkFDdkQsT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQXVCLENBQUM7O2dCQUV2RCxPQUFPLElBQUksQ0FBQztTQUNuQjtJQUNMLENBQUM7SUFFUyxZQUFZO1FBRWxCLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEdBQUcsQ0FBQztZQUMvQixPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQ3pDLE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFUyx5QkFBeUIsQ0FBQyxlQUF1QjtRQUV2RCxJQUFJLGVBQWUsR0FBVyxDQUFDLENBQUM7UUFDaEMsSUFBSSxVQUFrQixDQUFDO1FBQ3ZCLEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFDOUM7WUFDSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztZQUMxQyxJQUFJLEtBQUssWUFBWSx1REFBYyxFQUNuQztnQkFDSSxlQUFlLEVBQUUsQ0FBQztnQkFDbEIsSUFBSSxlQUFlLEtBQUssSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUN6RDtvQkFDSSxVQUFVLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7b0JBQzVDLE1BQU07aUJBQ1Q7YUFDSjtTQUNKO1FBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsVUFBVSxHQUFHLGVBQWUsQ0FBQyxDQUFDLENBQUM7SUFDbkcsQ0FBQztJQUVTLGNBQWM7UUFFcEIsSUFBSSxPQUFPLEdBQVksS0FBSyxDQUFDO1FBQzdCLElBQUksUUFBUSxHQUFZLEtBQUssQ0FBQztRQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFFbkQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQ3RDO2dCQUNJLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztvQkFDL0UsT0FBTyxHQUFHLElBQUksQ0FBQztnQkFDbkIsUUFBUSxHQUFHLElBQUksQ0FBQzthQUNuQjtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsSUFBSSxPQUFPO1lBQ1AsT0FBTyxXQUFXLENBQUMsR0FBRyxDQUFDO1FBQzNCLElBQUksUUFBUTtZQUNSLE9BQU8sV0FBVyxDQUFDLE1BQU0sQ0FBQztRQUM5QixPQUFPLFdBQVcsQ0FBQyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVTLGtCQUFrQjtRQUV4QixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDMUIsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRTtZQUMxQyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxZQUFZLHVEQUFRLEVBQ3JEO2dCQUNJLElBQUksR0FBRyxHQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBa0IsQ0FBQztnQkFDdEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ2xDOztnQkFFRyxNQUFNO1FBQ2QsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVTLGVBQWUsQ0FBQyxLQUFpQixFQUFFLElBQVk7UUFFckQsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUM5QztZQUNJLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssS0FBSyxFQUMzQztnQkFDSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2pDLE1BQU07YUFDVDtTQUNKO1FBQ0QsSUFBSSxDQUFDLEtBQUs7WUFDTixNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsRUFBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUM1RCxDQUFDO0lBRVMsVUFBVSxDQUFDLEtBQWlCLEVBQUUsSUFBWTtRQUVoRCxJQUFJLGVBQWUsR0FBRyxDQUFDLENBQUM7UUFDeEIsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUM5QztZQUNJLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssS0FBSyxFQUMzQztnQkFDSSxlQUFlLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUM7Z0JBQ2pELElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQkFDakMsTUFBTTthQUNUO1NBQ0o7UUFDRCxJQUFJLENBQUMsS0FBSztZQUNOLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxFQUFDLE1BQU0sRUFBRSxlQUFlLEdBQUcsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQy9FLENBQUM7SUFFUyxtQkFBbUI7UUFFekIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1RCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUMzUUQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBb0Q7QUFFWDtBQUNEO0FBQ0g7QUFFRztBQUV6QixNQUFNLGVBQWdCLFNBQVEsb0RBQVc7SUFLcEQsWUFBWSxTQUFvQjtRQUU1QixLQUFLLEVBQUUsQ0FBQztRQUpaLGlCQUFZLEdBQUcsQ0FBQyxDQUFDO1FBS2IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7SUFDL0IsQ0FBQztJQUVELE9BQU8sQ0FBQyxNQUF5QixFQUFFLE1BQXlCO1FBRXhELElBQUksQ0FBQyxHQUFHLElBQUksMERBQWlCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3pELElBQUksTUFBTSxZQUFZLHVEQUFRO1lBQzFCLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFFaEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLGtEQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUNuRSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7WUFDL0IsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2IsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0lBRUQsSUFBSSxDQUFDLE1BQXlCLEVBQUUsTUFBeUI7UUFFckQsSUFBSSwwREFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLEVBQUUsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxZQUFZO1lBQ3ZGLElBQUksQ0FBQyxNQUFNLFlBQVksdURBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztnQkFDckQsT0FBTyxJQUFJLENBQUM7UUFDcEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUF5QjtRQUVsQyxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQzNDRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBb0Q7QUFHWjtBQUdBO0FBQ0c7QUFFNUIsTUFBTSxtQkFBb0IsU0FBUSxvREFBVztJQUt4RCxZQUFZLFNBQW9CO1FBRTVCLEtBQUssRUFBRSxDQUFDO1FBSkosVUFBSyxHQUFHLENBQUMsQ0FBQztRQUtkLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQy9CLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBeUIsRUFBRSxNQUF5QjtRQUV4RCxJQUFJLENBQUMsR0FBRyxJQUFJLDBEQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUN6RCxJQUFJLE1BQU0sWUFBWSx3REFBUztZQUMzQixDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBRWhCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNiLE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUVELElBQUksQ0FBQyxNQUF5QixFQUFFLE1BQXlCO1FBRXJELElBQUksTUFBTSxZQUFZLHdEQUFTO1lBQzNCLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ2hCLElBQUksMERBQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxFQUFFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsS0FBSztvQkFDaEYsT0FBTyxJQUFJLENBQUM7UUFDeEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUF5QjtRQUVsQyxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQzVDRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWdDO0FBR3FCO0FBQ0g7QUFHbkMsTUFBTSxRQUFTLFNBQVEsOENBQUs7SUFFdkMsWUFBWSxTQUFvQjtRQUU1QixLQUFLLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQztJQUMxQixDQUFDO0lBRUQsT0FBTyxDQUFDLE1BQTBCLEVBQUUsTUFBeUI7UUFFekQsSUFBSSxNQUFNLFlBQVksdURBQWMsRUFDcEM7WUFDSSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ3ZCO1FBQ0QsT0FBTyxJQUFJLDBEQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUM1RCxDQUFDO0lBRUQsSUFBSSxDQUFDLE1BQXlCLEVBQUUsTUFBeUI7UUFFckQsSUFBSSxNQUFNLFlBQVksdURBQWMsRUFDcEM7WUFDSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsRUFDMUI7Z0JBQ0ksSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDO29CQUNULE9BQU8sSUFBSSxDQUFDO3FCQUVoQjtvQkFFSSxPQUFPLElBQUk7aUJBQ2Q7YUFDSjtTQUVKO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUEwQjtRQUVuQyxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQzlDRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBZ0M7QUFHcUI7QUFDSDtBQUVBO0FBR25DLE1BQU0sR0FBSSxTQUFRLDhDQUFLO0lBSWxDLFlBQVksU0FBb0IsRUFBRSxTQUFvQjtRQUVsRCxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQy9CLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBMEIsRUFBRSxNQUF5QjtRQUV6RCxJQUFJLE1BQU0sR0FBRyxJQUFJLDBEQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUM5RCxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRTtZQUV0QixJQUFJLE1BQU0sWUFBWSx1REFBYztnQkFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLCtDQUFNLENBQUMsa0RBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUM7UUFDcEIsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVELElBQUksQ0FBQyxNQUF5QixFQUFFLE1BQXlCO1FBRXJELElBQUksQ0FBQyxNQUFNLFlBQVksdURBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO1lBQzlELE9BQU8sSUFBSSxDQUFDO1FBQ2hCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxZQUFZLENBQUMsTUFBMEI7UUFFbkMsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUMxQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWdDO0FBR3FCO0FBQ0g7QUFFQTtBQUduQyxNQUFNLFlBQWEsU0FBUSw4Q0FBSztJQUkzQyxZQUFZLFNBQW9CLEVBQUUsU0FBb0I7UUFFbEQsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBRUQsT0FBTyxDQUFDLE1BQTBCLEVBQUUsTUFBeUI7UUFFekQsSUFBSSxNQUFNLEdBQUcsSUFBSSwwREFBaUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDOUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUU7WUFFdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksK0NBQU0sQ0FBQyxrREFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7UUFDckUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQztRQUNwQixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUQsSUFBSSxDQUFDLE1BQXlCLEVBQUUsTUFBeUI7UUFFckQsSUFBSSxNQUFNLFlBQVksdURBQWM7WUFDaEMsT0FBTyxJQUFJLENBQUM7UUFDaEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFlBQVksQ0FBQyxNQUEwQjtRQUVuQyxPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQ3hDRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBZ0M7QUFHcUI7QUFDSDtBQUVBO0FBR25DLE1BQU0sT0FBUSxTQUFRLDhDQUFLO0lBSXRDLFlBQVksU0FBb0IsRUFBRSxTQUFvQjtRQUVsRCxLQUFLLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQy9CLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBMEIsRUFBRSxNQUF5QjtRQUV6RCxJQUFJLE1BQU0sR0FBRyxJQUFJLDBEQUFpQixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUM5RCxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRTtZQUV0QixJQUFJLE1BQU0sWUFBWSx1REFBYztnQkFDaEMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUN4QixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSwrQ0FBTSxDQUFDLGtEQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUMvRCxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUM7UUFDcEIsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztJQUVELElBQUksQ0FBQyxNQUF5QixFQUFFLE1BQXlCO1FBRXJELElBQUksQ0FBQyxNQUFNLFlBQVksdURBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDO1lBQzlELE9BQU8sSUFBSSxDQUFDO1FBQ2hCLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxZQUFZLENBQUMsTUFBMEI7UUFFbkMsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUMzQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQWdDO0FBR3FCO0FBQ0g7QUFFQTtBQUduQyxNQUFNLFVBQVcsU0FBUSw4Q0FBSztJQUl6QyxZQUFZLFNBQW9CLEVBQUUsU0FBb0I7UUFFbEQsS0FBSyxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBRUQsT0FBTyxDQUFDLE1BQTBCLEVBQUUsTUFBeUI7UUFFekQsSUFBSSxNQUFNLEdBQUcsSUFBSSwwREFBaUIsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDOUQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUU7WUFFdEIsSUFBSSxNQUFNLFlBQVksdURBQWM7Z0JBQ2hDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7WUFDeEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksK0NBQU0sQ0FBQyxrREFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDbEUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUNoRCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDO1FBQ3BCLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxJQUFJLENBQUMsTUFBeUIsRUFBRSxNQUF5QjtRQUVyRCxJQUFJLENBQUMsTUFBTSxZQUFZLHVEQUFjLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQztZQUM5RCxPQUFPLElBQUksQ0FBQztRQUNoQixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBRUQsWUFBWSxDQUFDLE1BQTBCO1FBRW5DLE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDM0NEO0FBQUE7QUFBQTtBQUFvQztBQUdyQixNQUFNLFNBQVM7SUFnQjFCLFlBQVksSUFBYyxFQUFFLFNBQXVDO1FBZG5FLFVBQUssR0FBZ0IsRUFBRSxDQUFDO1FBQ3hCLGNBQVMsR0FBVyxDQUFDLENBQUM7UUFDdEIsZ0JBQVcsR0FBRyxDQUFDO1FBQ2YsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFDaEIsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFDaEIsZ0JBQVcsR0FBRyxDQUFDLENBQUM7UUFXWixPQUFPLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQztZQUN2QixTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFFakIsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRO2dCQUN4QixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLGtEQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7O2dCQUVqRCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLGtEQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUNqRSxDQUFDLENBQUMsQ0FBQztRQUNQLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQ3pCO1lBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1lBQ2hELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNoRCxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEQsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2hELElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNuRDtJQUNMLENBQUM7SUExQkQsSUFBSSxTQUFTLEtBQUssT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6QyxJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLElBQUksU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekMsSUFBSSxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLFNBQVMsS0FBSyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLElBQUksV0FBVyxLQUFLLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FzQjlDOzs7Ozs7Ozs7Ozs7O0FDckNEO0FBQUE7QUFBQTtBQUFBO0FBQXdDO0FBQ29CO0FBSzdDLE1BQU0sU0FBUztJQWtCMUIsWUFBWSxRQUFrQixFQUFFLGFBQTRCO1FBYjVELGdCQUFXLEdBQVcsU0FBUyxDQUFDO1FBTWhDLFdBQU0sR0FBOEIsSUFBSSxvRUFBZ0IsQ0FBVSxLQUFLLENBQUMsQ0FBQztRQVNyRSxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSwwREFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlELElBQUksQ0FBQyxJQUFJLEdBQUcsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QyxJQUFJLGFBQWEsQ0FBQyxNQUFNLEVBQ3hCO1lBQ0ksSUFBSSxDQUFDLFdBQVcsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSwwREFBTSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyxHQUFHLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEMsSUFBSSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7U0FDekI7YUFFRDtZQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsYUFBYSxDQUFDLFNBQVMsQ0FBQztTQUM1QztJQUNMLENBQUM7SUFyQkQsSUFBSSxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDakQsSUFBSSxTQUFTLEtBQUssT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzNELElBQUksTUFBTSxLQUFLLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM5QixJQUFJLEtBQUssS0FBSyxPQUFPLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztJQW9CdEQsTUFBTSxDQUFDLFVBQXNCO1FBRXpCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0UsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakMsSUFBSSxJQUFJLENBQUMsS0FBSztZQUNWLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUM7UUFDM0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUN0QyxDQUFDO0lBRUQsV0FBVyxLQUFLLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFFdkMsZUFBZTtRQUVYLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFFdkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEYsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUN0QyxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUNoRUQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBb0M7QUFFYztBQUNoQjtBQUVNO0FBQ0o7QUFFckIsTUFBTSxVQUFVO0lBUTNCLElBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQzFDLElBQUksY0FBYyxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0lBQzlELElBQUksS0FBSyxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzVDLElBQUksTUFBTSxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQzlDLElBQUksS0FBSyxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQzVDLElBQUksZ0JBQWdCLEtBQUssT0FBTyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkosSUFBSSxjQUFjLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFDOUQsSUFBSSxPQUFPLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDaEQsSUFBSSxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFFaEQsTUFBTSxDQUFDLFNBQW9CLEVBQUUsS0FBZ0I7UUFFekMsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdkIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDckQsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNsRCxDQUFDO0lBRUQsSUFBSSxDQUFDLFFBQWtCLEVBQUUsS0FBZ0I7UUFFckMsSUFBSSxRQUFRLEdBQUcsRUFBRTtRQUNqQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUU7WUFDNUIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsQ0FBQyxFQUFFO2dCQUMzQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLEtBQUssRUFBQyxDQUFDLEVBQUUsRUFDL0I7b0JBQ0ksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO3dCQUU5QixJQUFJLENBQUMsQ0FBQyxPQUFPLEVBQ2I7NEJBQ0ksSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUs7Z0NBQ2QsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztpQ0FFckI7Z0NBQ0ksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQ0FDdkQsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDOzZCQUMzQjt5QkFDSjs2QkFFRDs0QkFDSSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSztnQ0FDZCxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOztnQ0FFakIsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7eUJBQy9EO29CQUVMLENBQUMsQ0FBQztpQkFDVDtRQUNULEtBQUssQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDO1FBRXZCLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBRWQsSUFBSSxFQUFFLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQzFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQztRQUMvRixDQUFDLENBQUMsQ0FBQztRQUNQLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWxCLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUVqQixJQUFJLEVBQUUsR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDaEQsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDO1FBQ2xHLENBQUMsQ0FBQyxDQUFDO1FBQ1AsS0FBSyxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7SUFDNUIsQ0FBQztJQUVELFdBQVcsQ0FBQyxJQUFjLEVBQUUsS0FBZ0I7UUFFeEMsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2YsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUNyQztZQUNJLElBQUksSUFBSSxHQUFHLElBQUksa0RBQVMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9DLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEIsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNwQjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxhQUFhLENBQUMsSUFBYyxFQUFFLEtBQWdCO1FBRTFDLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNqQixLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQ3ZDO1lBQ0ksSUFBSSxHQUFHLEdBQUcsSUFBSSx5REFBZ0IsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUN2RixHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7WUFDYixPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3JCO1FBQ0QsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztJQUVELFVBQVUsQ0FBQyxTQUFvQixFQUFFLEtBQWdCO1FBRTdDLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNkLEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFDcEM7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLGlEQUFRLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDOUUsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDO1lBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNsQjtRQUNELE9BQU8sSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxXQUFXLENBQUMsSUFBYyxFQUFFLEtBQWdCO1FBRXhDLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNkLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxLQUFLLENBQUMsS0FBSyxFQUFDLENBQUMsRUFBRSxFQUM3QjtZQUNJLElBQUksTUFBTSxHQUFHLEVBQUU7WUFDZixLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsS0FBSyxDQUFDLE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFDOUI7Z0JBQ0ksSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDO2dCQUNiLEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxLQUFLLENBQUMsS0FBSyxFQUFDLENBQUMsRUFBRSxFQUM3QjtvQkFFSSxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBQyxLQUFLLENBQUMsS0FBSyxHQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUMsS0FBSyxDQUFDLEtBQUssR0FBQyxDQUFDLENBQUMsR0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO29CQUNoRSxJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO29CQUNyRCxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksa0RBQVMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQztpQkFDN0M7Z0JBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNwQjtZQUNELElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDckI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUM1SUQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUF1QztBQUNGO0FBR3VCO0FBR0k7QUFDSjtBQUNwQjtBQUV6QixNQUFNLFFBQVMsU0FBUSxtREFBVTtJQXNCNUMsWUFBWSxTQUFvQixFQUFFLElBQVksRUFBRSxRQUFrQjtRQUU5RCxLQUFLLEVBQUUsQ0FBQztRQXJCWixVQUFLLEdBQThCLElBQUksb0VBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUQscUJBQWdCLEdBQXdDLElBQUksb0VBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkYsYUFBUSxHQUE4QixJQUFJLG9FQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRWxFLFdBQU0sR0FBOEIsSUFBSSxvRUFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQWtCNUQsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLE9BQU8sR0FBRyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksb0VBQWdCLENBQUMsSUFBSSwwREFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDL0QsQ0FBQztJQW5CRCxJQUFJLElBQUksS0FBSyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUNoRCxJQUFJLE1BQU0sS0FBSyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUM1QyxJQUFJLE9BQU8sS0FBSyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUM5QyxJQUFJLFdBQVcsS0FBSyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUl0RCxXQUFXLEtBQUssT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFZN0MsTUFBTTtRQUVGLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxvRUFBZ0IsQ0FBQyxrREFBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMxRSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksb0VBQWdCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMvRCxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFFekIsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLFFBQVE7Z0JBQ25CLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksaUVBQWlCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDNUYsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUVELGdCQUFnQjtRQUVaLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUM3QjtZQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUN6QixJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDM0M7SUFDTCxDQUFDO0lBRUQsR0FBRztRQUVDLElBQUksS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNsQixJQUFJLE1BQXNCLENBQUM7UUFDM0IsT0FBTyxDQUFDLEtBQUssRUFDYjtZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdFLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDNUMsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssS0FBSywyREFBVyxDQUFDLElBQUk7Z0JBQzdDLEtBQUssR0FBRyxJQUFJLENBQUM7U0FDcEI7UUFDRCxJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUN0RSxJQUFJLGdCQUFnQixDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQy9CO1lBQ0ksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEYsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssR0FBRyxNQUFNLENBQUM7U0FDeEM7O1lBRUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQ25DLENBQUM7SUFFRCxpQkFBaUIsQ0FBQyxZQUErQjtRQUU3QyxJQUFJLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLEVBQy9CO1lBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMvQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztTQUN0QzthQUVEO1lBQ0ksSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1lBQzVCLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNwQztJQUNMLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQ2hHRDtBQUFBO0FBQUE7QUFBQTtBQUE0RDtBQUNNO0FBR25ELE1BQU0sU0FBUztJQUsxQixJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdkQsSUFBSSxRQUFRLEtBQUssT0FBTyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFDLENBQUM7SUFDN0QsSUFBSSxRQUFRLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMzQyxJQUFJLE1BQU0sS0FBSyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsS0FBSyxnRkFBWSxDQUFDLENBQUMsQ0FBQztJQUN0RSxJQUFJLFNBQVMsS0FBSyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsU0FBUyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUl4RSxXQUFXLEtBQUssT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRTlCLFlBQVksUUFBa0IsRUFBRSxPQUF5QjtRQUVyRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksb0VBQWdCLENBQVcsUUFBUSxDQUFDLENBQUM7UUFDekQsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLG9FQUFnQixDQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUM1RCxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUN2QixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUM7SUFDdkMsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDM0JEO0FBQUE7QUFBQTtBQUFBO0FBQXNDO0FBRXNCO0FBRzdDLE1BQU0sVUFBVTtJQUszQixJQUFJLGNBQWMsS0FBSyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRTdFLE1BQU0sQ0FBQyxTQUFvQjtRQUV2QixJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNqQixTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFFOUIsSUFBSSxLQUFLLEdBQUcsSUFBSSxtREFBVSxFQUFFLENBQUM7WUFDN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDeEIsS0FBSyxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDL0IsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksb0VBQWdCLENBQWEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ25HLENBQUM7SUFFRCxJQUFJLENBQUMsSUFBYztRQUVmLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBRWhCLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUM5QixDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxhQUFhLENBQUMsS0FBaUI7UUFFM0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3BDLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQ25DRDtBQUFBO0FBQUE7QUFBQTtBQUF3QztBQUNvQjtBQUU3QyxNQUFNLGdCQUFnQjtJQUtqQyxJQUFJLElBQUksS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUMzQyxJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUVuRCxZQUFZLElBQWMsRUFBRSxJQUFZLEVBQUUsUUFBa0I7UUFFeEQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxvRUFBZ0IsQ0FBQyxJQUFJLDBEQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQsTUFBTTtJQUdOLENBQUM7SUFFRCxXQUFXLEtBQUssT0FBTyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Q0FDaEQ7Ozs7Ozs7Ozs7Ozs7QUN4QkQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTJDO0FBQ1M7QUFHdUI7QUFFckM7QUFDUTtBQUNSO0FBQ1M7QUFJaEMsTUFBTSxJQUFLLFNBQVEseURBQVU7SUFTeEMsWUFBWSxLQUFnQjtRQUV4QixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFQaEIsZUFBVSxHQUFnQixFQUFFLENBQUM7UUFRekIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUVELElBQUksQ0FBQyxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQW9CO1FBRXBDLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtREFBVSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLHVEQUFjLENBQUMsc0JBQXNCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLHlEQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzFKLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDOUQsQ0FBQztJQUdELE1BQU07UUFFRixJQUFJLElBQUksR0FBRyxJQUFJLG1FQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUM3QyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsRUFDekI7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO1NBQ2hDO1FBQ0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLEVBQ3pCO1lBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQztZQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDO1NBQ3BDO1FBQ0QsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLEVBQ3pCO1lBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQztZQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUU7U0FDbEM7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsRUFDekI7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO1lBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUM7U0FDcEM7UUFDRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLENBQUM7SUFDakQsQ0FBQztJQUVELGVBQWUsQ0FBQyxJQUFhO1FBRXpCLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQztZQUNyQixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUM7UUFDMUQsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUNoRixJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUM7WUFDckIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDM0UsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDbkYsQ0FBQztJQUVELFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBWTtRQUV2QixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDO1FBQ2pELElBQUksQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBRXJCLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxtRUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDdEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFDLElBQUksRUFBRSxLQUFLLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN2SixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsWUFBcUI7UUFFdEQsSUFBRyxZQUFZO1lBQ1gsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUVoRSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFbkMsSUFBRyxZQUFZLEVBQUM7WUFDWixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQy9EO1FBRUQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELFdBQVcsQ0FBQyxNQUFXLEVBQUUsT0FBZSxFQUFFLE1BQWMsRUFBRSxJQUFZO1FBRWxFLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxpRkFBa0IsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRCxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRTtZQUVwQixJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7UUFDeEQsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JCLE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDakhEO0FBQUE7QUFBZSxNQUFNLFVBQVU7SUFFM0IsTUFBTSxDQUFDLGtCQUFrQixDQUFDLE1BQU07UUFFNUIsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUM7UUFDbkQsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUN2QjtZQUNJLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUM1QyxTQUFTLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztTQUMzQjtRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ3JCLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQ1ZEO0FBQUE7QUFBZSxNQUFNLGNBQWM7SUFFL0IsTUFBTSxDQUFDLHNCQUFzQixDQUFDLE1BQWMsRUFBRSxRQUFnQixFQUFFLFNBQWlCLEVBQUUsUUFBZ0IsRUFBRSxNQUFhLEVBQUUsV0FBb0IsRUFBRSxRQUFpQjtRQUV2SixTQUFTLEdBQUcsU0FBUyxJQUFJLElBQUksQ0FBQztRQUM5QixRQUFRLEdBQUcsUUFBUSxJQUFJLElBQUksQ0FBQztRQUU1QixJQUFJLElBQUksR0FBRyxRQUFRLEdBQUMsTUFBTSxHQUFHLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxHQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNoSSxJQUFJLGFBQWEsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsRUFDM0I7WUFDSSxJQUFJLFFBQVEsR0FBRyxjQUFjLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQ2pILElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQztnQkFDWCxPQUFPLElBQUksQ0FBQztZQUNoQixhQUFhLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzVCLGFBQWEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQy9CO1FBQ0QsT0FBTyxhQUFhLENBQUM7SUFDekIsQ0FBQztJQUVELE1BQU0sQ0FBQyxlQUFlLENBQUMsTUFBYyxFQUFFLFFBQWdCLEVBQUUsTUFBYTtRQUVsRSxJQUFJLFlBQVksR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFDekI7WUFDSSxJQUFJLE9BQU8sR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFFaEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUN4QztvQkFDSSxPQUFPLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDLGNBQWMsQ0FBQztvQkFDckQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBRSxDQUFDO29CQUMzQixPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBRSxNQUFNLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUUsQ0FBQztpQkFDNUM7Z0JBQ0QsWUFBWSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDL0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDZixZQUFZLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzdCO1FBQ0QsT0FBTyxZQUFZLENBQUM7SUFDeEIsQ0FBQztJQUVELE1BQU0sQ0FBQyxZQUFZLENBQUMsTUFBYyxFQUFFLFFBQWdCLEVBQUUsU0FBaUIsRUFBRSxRQUFnQixFQUFFLE1BQWEsRUFBRSxXQUFvQixFQUFFLFFBQWlCO1FBRTdJLElBQUksY0FBYyxDQUFDO1FBQ25CLElBQUksYUFBYSxDQUFDO1FBQ2xCLElBQUksUUFBUSxHQUFHLGNBQWMsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUN4RSxJQUFJLFNBQVMsS0FBSyxJQUFJO1lBQ2xCLGNBQWMsR0FBRyxjQUFjLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDL0UsSUFBSSxRQUFRLEtBQUssSUFBSTtZQUNqQixhQUFhLEdBQUcsY0FBYyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRTdFLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUM7WUFDbEIsT0FBTyxJQUFJLENBQUM7UUFDaEIsSUFBSSxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQztZQUNoRCxPQUFPLElBQUksQ0FBQztRQUNoQixJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDO1lBQzlDLE9BQU8sSUFBSSxDQUFDO1FBRWhCLElBQUksUUFBUSxDQUFDO1FBQ2IsV0FBVyxHQUFHLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxJQUFJLFdBQVcsQ0FBRTtRQUNsRCxJQUFJLFNBQVM7WUFDVCxRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsRUFBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEtBQUs7Z0JBQzFELFNBQVMsRUFBRSxjQUFjLENBQUMsS0FBSztnQkFDL0IsV0FBVyxFQUFFLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNuQyxTQUFTLEVBQUUsQ0FBQztnQkFDWixXQUFXLEVBQUUsV0FBVyxFQUFDLENBQUMsQ0FBQzs7WUFFL0IsUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLEVBQUMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLFdBQVcsRUFBQyxDQUFDLENBQUM7UUFFOUYsSUFBSSxRQUFRO1lBQ1IsUUFBUSxDQUFDLFFBQVEsR0FBRyxhQUFhLENBQUMsS0FBSztRQUMzQyxJQUFJLFFBQVE7WUFDUixRQUFRLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxVQUFVO1FBQ3BDLE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQzlFRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTJDO0FBQ1M7QUFDTDtBQU1oQyxNQUFNLEdBQUksU0FBUSx5REFBVTtJQVN2QyxZQUFZLEtBQWU7UUFFdkIsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBUGhCLGFBQVEsR0FBWSxJQUFJLENBQUM7UUFHekIsY0FBUyxHQUFHLEtBQUssQ0FBQztRQUtkLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxJQUFJLENBQUMsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFxQjtRQUVyQyxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFDLE1BQU0sQ0FBQztRQUMvRCxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO1lBQ2hCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2RyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRXZCLElBQUksV0FBVyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUMsTUFBTSxDQUFDO1FBQ3RFLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUM7WUFDcEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxXQUFXLENBQUMsTUFBTSxHQUFHLElBQUksR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xILElBQUksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELFNBQVMsQ0FBQyxPQUFPLEVBQUUsS0FBSztRQUVwQixJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQztRQUN2QyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztRQUN6QyxJQUFJLE1BQU0sR0FBRyxNQUFNLEdBQUMsS0FBSyxDQUFDO1FBQzFCLElBQUksQ0FBQyxDQUFDO1FBQ04sSUFBSSxDQUFDLENBQUM7UUFDTixJQUFJLEtBQUssR0FBRyxNQUFNLEVBQ2xCO1lBQ0ksQ0FBQyxHQUFHLEtBQUssQ0FBQztZQUNWLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDO1NBQ2xCO2FBRUQ7WUFDSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQ1YsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7U0FDbEI7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2xELElBQUksUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLEVBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLFdBQVcsRUFBRSxJQUFJLEdBQUUsQ0FBQyxDQUFDO1FBQzVGLElBQUksSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDMUMsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVELE1BQU07UUFFRixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxtRUFBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBTSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBQyxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUMsVUFBVSxFQUFFLElBQUksRUFBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDakUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7UUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUN2RSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUU5QyxJQUFJLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUN2RixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDcEUsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FB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dEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxvREFBSyxDQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDaEQsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEcsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEcsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEcsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEcsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEcsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUks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QUFjLENBQUMsc0JBQXNCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLElBQUkseURBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDL1EsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztJQUM5RCxDQUFDO0lBS0QsTUFBTTtRQUVGLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNsRSxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hFLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUN0QixDQUFDO0lBRUQsVUFBVTtR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LEVBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLENBQUMsR0FBRyxFQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNyRSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUMsQ0FBQyxHQUFHLEVBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUVqRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXhDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQztRQUN0QyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQztRQUN0QyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxL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QyxDQUFDLENBQUM7UUFFN0gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLDZDQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUUxSCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksNkNBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQztRQUU1SCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksNkNBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTNILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSw2Q0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xJLENBQUM7Q0FDSjs7Ozs7Ozs7Ozs7OztBQ3BERDtBQUFBO0FBQUE7QUFBQTtBQUEyQztBQUNTO0FBR3JDLE1BQU0sV0FBWSxTQUFRLHlEQUFVO0lBSy9DLFlBQVksS0FBdUI7UUFFL0IsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1osSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUVELE1BQU07UUFFRixJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUM1QyxJQUFJLE9BQU8sR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM3RyxJQUFJLFFBQVEsR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxFQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUMsQ0FBQyxDQUFDO1FBQzNELElBQUksSUFBSSxHQUFHLElBQUksbUVBQVMsQ0FBQyxJQUFJLEVBQUMsUUFBUSxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLENBQUM7Q0FFSiIsImZpbGUiOiJnYW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL0xhdW5jaGVyLnRzXCIpO1xuIiwiaW1wb3J0IEdhbWUgZnJvbSBcImVuZ2luZS9HYW1lXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBSb290IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUm9vdFwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgSU8gZnJvbSBcImVuZ2luZS9pby9JT1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IHsgS2V5Ym9hcmRMaXN0ZW5lciB9IGZyb20gXCJlbmdpbmUvaW8vS2V5Ym9hcmRcIjtcbmltcG9ydCB7IE1vdXNlTGlzdGVuZXIgfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5pbXBvcnQgeyBUaW1pbmdMaXN0ZW5lciB9IGZyb20gXCJlbmdpbmUvaW8vVGltaW5nXCI7XG5pbXBvcnQgeyBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBMb2FkZXIgZnJvbSBcImVuZ2luZS9pby9Mb2FkZXJcIjtcblxuZGVjbGFyZSB2YXIgTWFpbkxvb3A6IGFueTtcbmRlY2xhcmUgdmFyIGFkZFJlc2l6ZUxpc3RlbmVyOiBhbnk7XG5kZWNsYXJlIHZhciByZW1vdmVSZXNpemVMaXN0ZW5lcjogYW55O1xuXG4vKipcbiAqIFRoZSBleHRlcm5hbCBmYWNpbmcgY2xhc3MgdGhhdCBjcmVhdGVzIGEgR2FtZSBvYmplY3QuIEdhbWVzIHNob3VsZCBvdmVycmlkZSB0aGlzIGNsYXNzXG4gKiBhbmQgc2V0IHRoZSBfcm9vdEdhbWVPYmplY3RUeXBlIHZhcmlhYmxlLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF1bmNoZXJcbntcbiAgICBwcm90ZWN0ZWQgX2dhbWU6IEdhbWU7XG4gICAgcHJvdGVjdGVkIF9yb290R2FtZU9iamVjdDogR2FtZU9iamVjdFxuICAgIHByb3RlY3RlZCBfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudFxuICAgIHByb3RlY3RlZCBfY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgX2NhbnZhc05hbWU6IHN0cmluZ1xuICAgIHByb3RlY3RlZCBfY3JlYXRlZDogYm9vbGVhbjtcblxuICAgIGdldCByb290R2FtZU9iamVjdCgpIHsgcmV0dXJuIHRoaXMuX3Jvb3RHYW1lT2JqZWN0O31cbiAgICBnZXQgY2FudmFzKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzOyB9XG4gICAgZ2V0IGNvbnRhaW5lcigpIHsgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjsgfVxuICAgIGdldCBjYW52YXNOYW1lKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzTmFtZTsgfVxuICAgIGdldCBjcmVhdGVkKCkgeyByZXR1cm4gdGhpcy5fY3JlYXRlZDsgfVxuXG4gICAgcHJvdGVjdGVkIF9yZXNpemVGdW5jdGlvbjogKCkgPT4gdm9pZFxuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIFJvb3RHYW1lT2JqZWN0IHRvIGxvYWQuIEVhY2ggZ2FtZSBzaG91bGQgb3ZlcmxvYWQgdGhpcyBpbiBpdHNcbiAgICAgKiBvd24gbGF1bmNoZXIuXG4gICAgICovXG4gICAgcHJvdGVjdGVkIF9yb290R2FtZU9iamVjdFR5cGU7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIGdhbWUgbGF1bmNoZXJcbiAgICAgKiBAcGFyYW0gY29udGFpbmVyIFRoZSBET00gb2JqZWN0IHRvIHBhcmVudCB0aGUgY2FudmFzIHRvXG4gICAgICogQHBhcmFtIGNhbnZhc05hbWUgVGhlIG5hbWUgb2YgdGhlIGNhbnZhcywgZGVmYXVsdHMgdG8gXCJnYW1lQ2FudmFzXCJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXI6IEhUTUxFbGVtZW50LCBjYW52YXNOYW1lPzogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLl9jYW52YXNOYW1lID0gY2FudmFzTmFtZSB8fCBcImdhbWVDYW52YXNcIjtcbiAgICB9IFxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9jcmVhdGVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBHYW1lOiBhbHJlYWR5IGNyZWF0ZWRcIik7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0ID0gdGhpcy5fY3JlYXRlUm9vdEdhbWVPYmplY3QodGhpcy5fcm9vdEdhbWVPYmplY3RUeXBlLCB0aGlzLl9jb250YWluZXIpO1xuICAgICAgICB0aGlzLl9jYW52YXMgPSAodGhpcy5fcm9vdEdhbWVPYmplY3QgYXMgUm9vdDxHYW1lT2JqZWN0PikuY2FudmFzO1xuICAgICAgICB0aGlzLl9nYW1lID0gdGhpcy5fY3JlYXRlR2FtZSh0aGlzLmNhbnZhcywgdGhpcy5fcm9vdEdhbWVPYmplY3QpO1xuICAgICAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICB0aGlzLl9yZXNpemVGdW5jdGlvbiA9ICgoKSA9PiAodGhpcy5fcm9vdEdhbWVPYmplY3QgYXMgUm9vdDxHYW1lT2JqZWN0PikucmVzaXplVG9PblVwZGF0ZShuZXcgRGltZW5zaW9uKHRoaXMuX2NvbnRhaW5lci5vZmZzZXRXaWR0aCwgdGhpcy5fY29udGFpbmVyLm9mZnNldEhlaWdodCkpKS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9jcmVhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzdGFydCgpIFxuICAgIHtcbiAgICAgICAgYWRkUmVzaXplTGlzdGVuZXIodGhpcy5fY29udGFpbmVyLCB0aGlzLl9yZXNpemVGdW5jdGlvbik7XG4gICAgICAgIHRoaXMuX2dhbWUuc3RhcnQoKTtcbiAgICB9XG5cbiAgICBzdG9wKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2dhbWUuc3RvcCgpO1xuICAgICAgICByZW1vdmVSZXNpemVMaXN0ZW5lcih0aGlzLl9jb250YWluZXIsIHRoaXMuX3Jlc2l6ZUZ1bmN0aW9uKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2NyZWF0ZUdhbWUoY2FudmFzLCByb290R2FtZU9iamVjdCwpOiBHYW1lXG4gICAge1xuICAgICAgICBsZXQgZ2FtZSA9IG5ldyBHYW1lKHJvb3RHYW1lT2JqZWN0LCB0aGlzLl9jcmVhdGVJbnRlcmZhY2VzKGNhbnZhcyksIE1haW5Mb29wKTtcbiAgICAgICAgZ2FtZS5jcmVhdGUoKTtcbiAgICAgICAgcmV0dXJuIGdhbWU7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVJbnRlcmZhY2VzKGNhbnZhcz8gOiBIVE1MQ2FudmFzRWxlbWVudCk6IElPXG4gICAge1xuICAgICAgICBsZXQgaW8gPSBuZXcgSU8oKTtcbiAgICAgICAgdGhpcy5fYWRkVGltaW5nKGlvKTtcbiAgICAgICAgdGhpcy5fYWRkTG9hZGVyKGlvKTtcbiAgICAgICAgcmV0dXJuIGlvO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfY3JlYXRlUm9vdEdhbWVPYmplY3Qocm9vdFR5cGUsIGNvbnRhaW5lcik6IFJvb3Q8YW55PlxuICAgIHtcbiAgICAgICAgbGV0IHJvb3RHYW1lT2JqZWN0ID0gbmV3IFJvb3Qocm9vdFR5cGUsIG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBEaW1lbnNpb24oY29udGFpbmVyLm9mZnNldFdpZHRoLCBjb250YWluZXIub2Zmc2V0SGVpZ2h0KSksIG5ldyBGcmFtZUxpc3RlbmVyKCksIG5ldyBGcmFtZUNvbnRyb2xsZXIoKSk7XG4gICAgICAgIHJvb3RHYW1lT2JqZWN0LmNyZWF0ZUNhbnZhcyh0aGlzLl9jYW52YXNOYW1lKTtcbiAgICAgICAgcm9vdEdhbWVPYmplY3QudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb25zWzBdID0gbmV3IERpbWVuc2lvbihjb250YWluZXIub2Zmc2V0V2lkdGgsIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuICAgICAgICByb290R2FtZU9iamVjdC5yZXNpemVDYW52YXMocm9vdEdhbWVPYmplY3QudHJhbnNmb3JtLmdldERpbWVuc2lvbigpLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIHJvb3RHYW1lT2JqZWN0LnRyYW5zZm9ybS5yZWNhbGN1bGF0ZSgpO1xuICAgICAgICByZXR1cm4gcm9vdEdhbWVPYmplY3Q7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9hZGRLZXlib2FyZChpbzogSU8pOiBJT1xuICAgIHtcbiAgICAgICAgbGV0IGtleWJvYXJkID0gbmV3IEtleWJvYXJkTGlzdGVuZXIoKTtcbiAgICAgICAga2V5Ym9hcmQuY3JlYXRlKCk7XG4gICAgICAgIGlvLmFkZEludGVyZmFjZShrZXlib2FyZCwgXCJrZXlib2FyZFwiKTtcbiAgICAgICAgcmV0dXJuIGlvO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfYWRkTW91c2UoaW86IElPLCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50KTogSU9cbiAgICB7XG4gICAgICAgIGxldCBtb3VzZSA9IG5ldyBNb3VzZUxpc3RlbmVyKCk7XG4gICAgICAgIG1vdXNlLmFkZFRvKGRvY3VtZW50LCBjYW52YXMpO1xuICAgICAgICBpby5hZGRJbnRlcmZhY2UobW91c2UsIFwibW91c2VcIik7XG4gICAgICAgIHJldHVybiBpbztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2FkZFRpbWluZyhpbzogSU8pOiBJT1xuICAgIHtcbiAgICAgICAgaW8uYWRkSW50ZXJmYWNlKG5ldyBUaW1pbmdMaXN0ZW5lcigpLCBcInRpbWluZ1wiKTtcbiAgICAgICAgcmV0dXJuIGlvO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfYWRkTG9hZGVyKGlvOiBJTyk6IElPXG4gICAge1xuICAgICAgICBpby5hZGRJbnRlcmZhY2UobmV3IExvYWRlcigpLCBcImxvYWRlclwiKTtcbiAgICAgICAgcmV0dXJuIGlvO1xuICAgIH1cbn0iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhYzMzMjAyNDA1NTEwMmY3ZWE1ZDg3NTA2NWM0MTJiYy5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0NDFkYWRhYjY0OThlZjJkOGZhNDA5M2UyODU2ZjU0MC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3YzNkMGY4ZDU1Njc5ZjI3ZDgxOTJmMDY4NTE1OWZlNS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwZjVhMTFlN2M0ZDY4ZDg4ZjU5NTg3ODNiOTJmZjE4YS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI5YTY1MjJlNDQyMzMwMzlmZWY1NDBhMGIwMDAwMTBlYS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhZDI1N2Q3ZTQzY2U4ZWI5ZjM5ZTM4YWI5NTcyNWVlZS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiOWI4MTE2MzRlZDQ2YzZmODY2ZjAzNjIxMGMxNzNmOC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiMzc2Y2E1MjE5YzhjMTgxYmYxZWM0MmFhODZhODJlYy5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3OWY1ZDE5ZmU4NDA4N2JlMDMzYThmM2I0ZDU5OWNmNi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiZDJjODczNTExNWM0ZTYwNzdiZTI5YmQzOGI5NmI0OC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIyZjEzMWQ0ZTQ3OWIyYzE4Y2U3NDhkZWEyYTRhYjI5Zi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4ODg4NTMwMDlkNDY0NmE5YTAxMWVhOTYzNDBlNTI5NC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwMTVhZDZlYmVmMjQyYmE4ZTNiMjE5N2QwYTY3NjBmZi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0Yzk4ZGJhYWQxNzhhNjMyOTQ1NjUwNGNjYjYzMGI5My5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI5N2VjNGQzMjExODk1NzliYTM4N2FhNDFhN2E2NDg4My5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxY2M5Y2ZkOTQwMzFmNWM3YWZkNjBhN2EyZTlmNjA3NC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3ZDhhZjkwNGY2YTA2NWMxOWM5Mjc4NGI4YmRlZDVhMS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhYzQzNTA4ZTM5ZGRiOGRhOGQwNWVmZjg0N2NhOGI2Yi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI2MjNiYWNlNjg3NWRkY2NlYzgyOGZmMmU2NDQ1YjBkNi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjOTYwMzMzM2YxYmIyMGU4MmJjNjgyZWJmOTNiMmMzYi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlM2RiMjcyMTliMzQwZTA3NDg5MGFkNDBiMWVkZjdiNS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIyY2U0ZWVhNjI4OGNiZTFhMDAxY2RiMThkOThmYjM2ZS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjMGZmZDhiODUwZjYzZmEyNTBhOGJkOTA2NzJmMWU3Ni5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxOWEzMTY2Y2U5ZjYwOGU0OGM5MGMxNzc2YWI3NmI3My5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkMWMwMDI0ZTdlMDcwZjcxNTZiZWNhMDkwZmJhMWNjOC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0NzA1MzZiMDBiM2MxZTk2NzA4NWY5ODg4OGY3OGE5Mi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIzYTIxYmJiMWUxYTE5NTcwMGY0OTRmYWU5YjJlNTEyMC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwZmJlYWJhNzBjOGVkZjViYmQxNDZiZTNkZTQ3NzM1NS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxZjgwNmFlMDZlOGNjMWFlYjBmYTA2YThiNGY3ODU1NC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI2MmYxYmQzMTA5Mjc3YjY5MzkyM2MxZWYyZjBiN2YzMC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3OWE2NmJmZjQyYjM3YWM0YTNhYzFmZGIyNmQ4NTYyZS5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmODljYjJhZTM0ZTA1YmRhZWNlNjI4MDYwMjkxNGQ0Ny5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3MTNkNjlmMmZhMDA0MWFiN2NiZGJmYzYyYWRkYzY5MC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIyNGYxYjc1NzkxZmFiOGJkNDYwNmZkMmQzNDY3Zjc5My5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmMTYxOTQxZjVjN2VlNDU2MzMyNzI0MjYyZjBhYzU4OC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3NmIzMmY1YzhhMTE4OGY0OTNhZjA0YmM3ZGU3OTYwMS5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxYWZiMDg2MDMxZjhlZjA4ZWFhN2I1YzcxY2YzNDI4Ni5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4YTgzZmMyM2M3YTUzNGNiYjdmY2NmNjJiMzVlMDU0Yy5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhMTJlMGM0ZTRlOGY3ZTcyMGNkYWNiOWI0ZTMyZTA3MC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlZWU4OTRlNzk5NjYzMDcyYTY0OGQ1MjJkODIzMmIwMy5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI1N2MyNjZjNGIyOTRmOTM1MDg1M2FlMWE2N2IwYTk4My5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkOTg0NjlkY2U3OGJmYzY4Zjc3Mzc2NjA5OWJiMDY4Ny5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI1ZTUzNzkzZDVmNzNlMWJkMzJjMTFiOGZmYWIyOTc1ZS5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI1ZDI0YThjMWNmOGNhNGM2ZTZmYjQyZWM1ZDBmMWU4Ni5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3N2ZhM2E5MGM4NzM1ODNiZjk3ZmQwMzE0MmE0Zjg3Ny5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwMGRkNDIzMWRiY2EwMzVjNjk5Yzc0ZDBhNTI5ZmU1NC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI3YWUzNWE1ZGJlMmM5ZTQ5NDE1Yjg0Y2YyZDA3NGFjMC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIzNTkyMTRjYzZjZjM5NjE2MDk4M2Y3MjUxZWVjYWRhNS5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI1M2Q2ODNlYTA3OGE2YzlkNmVjODdkMmUyNGNlYWFkZC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkNzY1N2FlNTFlMGIwZDM5ZTRiNjc2OGE5ZDkzMTgyMS5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxYmJlZDYyMzQzMzYwNDU3MWFlZjdlNjA0ZWFhZTM1OC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmNWQzYzM5YjM3ZTE2ZTgzNzkzZmIxMmM0OTI1YmIzNC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlYWI4ZWJkOGIzNTVkMTQ0MjdjNDljZWJkM2VlNGIxNS5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4YzdiMGRhN2JmZWUwNGMwYmFkNTdmNzkxYjcyNzY4Ni5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhZjU4ZjJiZWFlYThjYTQ1ZTQzYWZjZTg5MTAwYzZjOC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI5YjVhMTUyMjFiZmFjN2ExNTFkYWNiN2JkMjI1OTc0ZC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlNjBmZDNlMmY5ZjQyMTViNzdlYjk0Nzg3ZjExYjhmYi5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI1NDgzYzczMGRmM2Q5ZmI1Njc0YTFjNjkzNDc0ZDYxMC5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmYTQ2NzlmNmY2Zjg0NzczMGI4YTUwYjQ0YTY2YjVjZS5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4MjJlMDljYzBlNTRkZDAyNTgzM2E3N2M0MjM5NTQ3Yy5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4NTY2NWY1ZmNmMDMyY2VhYTc1NmNmYmVhNTM4MjAyNy5qcGdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwMzRiZGEwOTc4MDIzMDdiN2FlNThjMjc1YjdhODQ1My5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlNzJhYjMwOGY5Y2Q1Y2QxMmM1M2NmNWNlMDViOGFhOS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIwZjJjY2RjODQ4MjBiMTI1OGEzNGJkMDRkZDk4N2JlNS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0ODk4N2RlYTg0OWFiZDZhNDVjZGE0MGY2ZTUwZmUyMC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmN2JhMjhjODFkNzcyNjk4Y2RhOGQ0MDFkOTFkYzM1NC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIyNzk2ODM4OWI3Y2YyNTg3NzA3MDVjMTdiMjBiODEyZS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjZGZmMjNkMDNlNDk4NjMzNGE3YzM0OWE4MmY0ODhlOS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhMzcxZjljNzA3NzA2MGE1YTQyOGM2ZTU1OTJjZWNiMS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIxZmI5ZWU4MjI2OTM2NTA2NDY2YzhmYTBjNzU4ZDdjNC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJjMTA1MzIyN2UzYzNjMzEyMjBjYWFjYTUyNDBhMTlkNy5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhMGIxNjVkYThkNGMwMGQxNWQ2NjA0NjJkM2I1N2ViOC5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIyYTc2ZjNjZjE2ZTk1ZTRlOWQ5ODUyNDJiZWFiZmFmYi5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4M2IyY2Y4MDIwNjZhZWI5ZDk3ZTU4ZDAyMzE3MmYyYS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI1YzVlN2IyZmYyZDgzMGY5MDdjN2FjNzE4ZWM3N2JiMS5wbmdcIjsiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBc3NldDxUPlxue1xuICAgIHByaXZhdGUgX2ZpbGVuYW1lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfYXNzZXQ6IFQ7XG4gICAgcHJpdmF0ZSBfbG9hZGVkOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoZmlsZW5hbWU6IHN0cmluZywgYXNzZXQ6IFQsIGxvYWRlZDogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIHRoaXMuX2Fzc2V0ID0gYXNzZXQ7XG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IGxvYWRlZDtcbiAgICB9XG5cbiAgICBnZXQgZmlsZW5hbWUoKSB7IHJldHVybiB0aGlzLl9maWxlbmFtZTsgfVxuXG4gICAgZ2V0IGFzc2V0KCk6IFQgeyByZXR1cm4gdGhpcy5fYXNzZXQ7IH1cblxuICAgIGdldCBsb2FkZWQoKSB7IHJldHVybiB0aGlzLl9sb2FkZWQ7IH1cblxuICAgIHNldCBsb2FkZWQodmFsKSB7IHRoaXMuX2xvYWRlZCA9IHZhbDsgfVxuXG4gICAgc2V0KGFzc2V0OiBUKSB7IHRoaXMuX2Fzc2V0ID0gYXNzZXQ7IH1cbn1cbiIsImltcG9ydCBFdmVudCBmcm9tIFwiLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgSU8gZnJvbSBcIi4vaW8vSU9cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuL0dhbWVPYmplY3RcIjtcblxuLyoqXG4qIEdhbWUgaXMgdGhlIHRvcC1sZXZlbCBvYmplY3Qgd2hpY2ggcmVwcmVzZW50cyBhbmQgcnVucyBhIGdhbWUgaW4gdGhlIGVuZ2luZS5cbiogSXQgcHJvdmlkZXMgdGhlIGludGVyZmFjZSBiZXR3ZWVuIHRoZSBHYW1lT2JqZWN0IHRyZWUsIHRoZSBtYWluIGxvb3AsIGFuZCB0aGVcbiogaW50ZXJmYWNlcy4gSXQgdGFrZXMgZWFjaCBvZiB0aGVzZSBhcyBhbiBhcmd1bWVudC4gSXQgcmVnaXN0ZXJzIGl0c2VsZiB3aXRoXG4qIHRoZSBzdXBwbGllZCBtYWluIGxvb3Agb2JqZWN0LCBhbmQgaW4gdHVybiBjYWxscyB0aGUgbWFpbiBsb29wIGZ1bmN0aW9ucyBvblxuKiB0aGUgZ2FtZSBvYmplY3QgdHJlZSwgcGFzc2luZyBhbG9uZyB0aGUgaW50ZXJmYWNlcy5cbioqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVxue1xuICAgIHByaXZhdGUgX3Jvb3RHYW1lT2JqZWN0OiBHYW1lT2JqZWN0O1xuICAgIHByaXZhdGUgX2lvOiBJTztcbiAgICBwcml2YXRlIF9tYWluTG9vcDtcbiAgICBwcml2YXRlIF9jcmVhdGVkOiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgKiBDcmVhdGUgYSBnYW1lIGRlZmluZWQgYnkgYSBnaXZlbiByb290R2FtZU9iamVjdC5cbiAgICAqIEBwYXJhbSByb290R2FtZU9iamVjdCB0aGUgcm9vdCBvZiB0aGUgR2FtZU9iamVjdCB0cmVlIHdoaWNoIHNob3VsZCBiZSBhXG4gICAgKiBSb290R2FtZU9iamVjdC4gVGhlIG1haW4gbG9vcCBmdW5jdGlvbnMgYXJlIGNhbGxlZCBvbiB0aGlzIG9iamVjdC5cbiAgICAqIEBwYXJhbSBpbyB0aGUgaW50ZXJmYWNlcyBjb250YWluZWQgd2l0aGluIGFuIElPIG9iamVjdFxuICAgICogQHBhcmFtIG1haW5Mb29wIGEgTWFpbkxvb3Agb2JqZWN0IHRoYXQgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIHRvIHJlZ2lzdGVyXG4gICAgKiBjYWxsYmFja3MgZm9yIHRoZSBmb3VyIHBhcnRzIG9mIHRoZSBtYWluIGxvb3A6IGJlZ2luLCB1cGRhdGUsIGRyYXcsIGFuZCBlbmQuXG4gICAgKiovXG4gICAgY29uc3RydWN0b3Iocm9vdEdhbWVPYmplY3Q6IEdhbWVPYmplY3QsIGlvOiBJTywgbWFpbkxvb3ApXG4gICAge1xuICAgICAgICB0aGlzLl9yb290R2FtZU9iamVjdCA9IHJvb3RHYW1lT2JqZWN0O1xuICAgICAgICB0aGlzLl9pbyA9IGlvO1xuICAgICAgICB0aGlzLl9tYWluTG9vcCA9IG1haW5Mb29wO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogUmVnaXN0ZXJzIHRoZSBHYW1lIG9iamVjdCB3aXRoIHRoZSBNYWluTG9vcCBzdXBwbGllZCBpbiB0aGUgY29uc3RydWN0b3IsXG4gICAgKiBzbyB0aGF0IHRoZSBnYW1lIGlzIHJlYWR5IHRvIHN0YXJ0LiBBbHNvIGNhbGxzIHRoZSBgY3JlYXRlYCBtZXRob2Qgb25jZSBvblxuICAgICogdGhlIEdhbWVPYmVjdCB0cmVlIGFuZCBzdXBwbGllZCBJTyBvYmplY3QuIFRoZSBgY3JlYXRlYCBtZXRob2Qgd2lsbCB0cmlnZ2VyXG4gICAgKiB0aGUgbG9hZGluZyBvZiBmaWxlcyBuZWVkZWQgYnkgdGhlIGN1cnJlbnQgR2FtZU9iamVjdCB0cmVlICh0aG9zZSB0aGF0XG4gICAgKiBhcmUgY3JlYXRlZCBpbiB0aGUgZmlyc3QgY2FsbCB0byBgY3JlYXRlYCksIGFuZCBzbyBpdCBtYWtlcyBzZW5zZSB0byBjYWxsXG4gICAgKiB0aGlzIGFzIGVhcmx5IGFzIHBvc3NpYmxlLCBwb3NzaWJseSBpbiBhZHZhbmNlIG9mIG5lZWRpbmcgdG8gc3RhcnQgdGhlIGdhbWUuXG4gICAgKi9cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NyZWF0ZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIEdhbWU6IGFscmVhZHkgY3JlYXRlZFwiKTtcbiAgICAgICAgdGhpcy5faW8uY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0LmRvQ3JlYXRlKHRoaXMuX2lvLmludGVyZmFjZXMpO1xuICAgICAgICB0aGlzLl9tYWluTG9vcC5zZXRCZWdpbih0aGlzLl9iZWdpbi5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgICAgICAgICAuc2V0VXBkYXRlKHRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgICAgICAgICAuc2V0RHJhdyh0aGlzLl9kcmF3LmJpbmQodGhpcykpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRFbmQodGhpcy5fZW5kLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLl9jcmVhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFN0YXJ0IHRoZSBtYWluIGxvb3AgcnVubmluZyBhbmQgdGh1cyB0aGUgZ2FtZSBlbmdpbmUgYW5kIHRoZSBnYW1lLiBhbHNvXG4gICAgKiB0ZWxscyB0aGUgaW50ZXJmYWNlcyB0aGF0IHRoZSBnYW1lIGhhcyBzdGFydGVkLlxuICAgICovXG4gICAgc3RhcnQoKVxuICAgIHtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vblN0YXJ0KTtcbiAgICAgICAgdGhpcy5fbWFpbkxvb3Auc3RhcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFN0b3AgdGhlIG1haW4gbG9vcCBydW5uaW5nIGFuZCB0aHVzIHRoZSBnYW1lIGVuZ2luZSBhbmQgdGhlIGdhbWUuIGFsc29cbiAgICAqIHRlbGxzIHRoZSBpbnRlcmZhY2VzIHRoYXQgdGhlIGdhbWUgaGFzIHN0b3BwZWQuXG4gICAgKi9cbiAgICBzdG9wKClcbiAgICB7XG4gICAgICAgIHRoaXMuX21haW5Mb29wLnN0b3AoKTtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vblN0b3ApO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfYmVnaW4odGltZXN0YW1wOiBudW1iZXIsIGRlbHRhOiBudW1iZXIpXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uQmVnaW5TdGFydCwgdGltZXN0YW1wLCBkZWx0YSk7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0LmRvQmVnaW4odGhpcy5faW8uaW50ZXJmYWNlcyk7XG4gICAgICAgIEV2ZW50LmNhbGwodGhpcy5faW8ub25CZWdpbkVuZCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF91cGRhdGUoZGVsdGE6IG51bWJlcilcbiAgICB7XG4gICAgICAgIEV2ZW50LmNhbGwodGhpcy5faW8ub25VcGRhdGVTdGFydCwgZGVsdGEpO1xuICAgICAgICB0aGlzLl9yb290R2FtZU9iamVjdC5kb1VwZGF0ZSh0aGlzLl9pby5pbnRlcmZhY2VzKTtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vblVwZGF0ZUVuZCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9kcmF3KGludGVycG9sYXRpb25QZXJjZW50YWdlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uRHJhd1N0YXJ0KTtcbiAgICAgICAgdGhpcy5fcm9vdEdhbWVPYmplY3QuZG9EcmF3KG51bGwsIHRoaXMuX2lvLmludGVyZmFjZXMpOy8vaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UpO1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uRHJhd0VuZCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9lbmQoZnBzOiBudW1iZXIsIHBhbmljOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vbkVuZFN0YXJ0LCBmcHMpO1xuICAgICAgICB0aGlzLl9yb290R2FtZU9iamVjdC5kb0VuZCh0aGlzLl9pby5pbnRlcmZhY2VzKTtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vbkVuZEVuZCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgQXNzZXQgZnJvbSBcIi4vQXNzZXRcIjtcbmltcG9ydCBUcmFuc2Zvcm0gZnJvbSBcIi4vVHJhbnNmb3JtXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4vdXRpbC9FdmVudFwiO1xuaW1wb3J0IHsgVHJlZVV0aWxzIH0gZnJvbSBcIi4vVHJlZVV0aWxzXCI7XG5pbXBvcnQgSU8gZnJvbSBcIi4vaW8vSU9cIjtcblxuLyoqXG4qIFRoZSBHYW1lT2JqZWN0IGlzIHRoZSBjb3JlIG9mIHRoZSBnYW1lIGVuZ2luZSBhbmQgcmVwcmVzZW50cyBhbnl0aGluZyBpbiB0aGVcbiogZ2FtZSB0aGF0IHNob3VsZCBiZSB1cGRhdGVkIG9yIGRyYXduIG9yIHVzZWQgYXMgYSBub2RlIGZvciB0aGUgbGF5b3V0IHN5c3RlbS5cbiogR2FtZU9iamVjdHMgZm9ybSBhIHRyZWUuIEVhY2ggR2FtZU9iamVjdCBjYW4gaGF2ZSBjaGlsZHJlbi4gVGhlIG1haW4gbG9vcFxuKiBtZXRob2RzIGFyZSBjYWxsZWQgcmVjdXNpdmVseSBkb3duIHRocm91Z2ggdGhpcyB0cmVlLiBUaGUgbGF5b3V0IG9mIEdhbWVPYmplY3RzXG4qIHdvcmtzIHJlY3Vyc2l2ZWx5IHVwIHRocm91Z2ggdGhpcyB0cmVlLlxuKiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBfdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgcHJpdmF0ZSBfY2hpbGRyZW46IEdhbWVPYmplY3RbXSA9IFtdO1xuICAgIHByaXZhdGUgX2Fzc2V0czogQXNzZXQ8T2JqZWN0PltdID0gW107XG4gICAgcHJpdmF0ZSBfcGFyZW50OiBHYW1lT2JqZWN0ID0gbnVsbDtcblxuICAgIHByaXZhdGUgX2NyZWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9ydW5Mb2FkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfYWN0aXZlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9pbnRlcmFjdGFibGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX3JhbkJlZ2luOiBib29sZWFuID0gZmFsc2U7IC8vVE9ETzogbG9vayBpbnRvIHdoZXRoZXIgdGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBqdXN0IGNoZWNraW5nIGBfY3JlYXRlZGAuXG4gICAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF92aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9vcGFjaXR5OiBudW1iZXIgPSAxO1xuICAgIHByaXZhdGUgX2lnbm9yZURyYXdDdWxsOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfb25EZXN0cm95OiBFdmVudDtcbiAgICBwcml2YXRlIF9wcmVjcmVhdGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICogQ29uc3RydWN0IGEgR2FtZU9iamVjdCB3aXRoIHRoZSBzdXBwbGllZCBwb3NpdGlvbiBhbmQgYm91bmRzLiBUaGlzXG4gICAgKiBpcyBhbiBlbXB0eSBHYW1lT2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBub2RlIGZvciB0aGUgbGF5b3V0IHN5c3RlbSBvclxuICAgICogY2FuIGJlIGV4dGVuZGVkIGJ5IG90aGVyIGNsYXNzZXMgdG8gcHJvdmlkZSBmdW5jdGlvbmFsaXR5IG9yIGRyYXdpbmcuIElmXG4gICAgKiB0aGUgc3VwcGxpZWQgcG9zaXRpb24gaXMgbnVsbCwgdGhlIEdhbWVPYmplY3Qgc2l0cyBvdXRzaWRlIHRoZSBtYWluXG4gICAgKiBkcmF3aW5nIGhlaXJhcmNoeS5cbiAgICAqIEBwYXJhbSBwb3NpdGlvbiBhIFBvc2l0aW9uIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIHRoaXMgR2FtZU9iamVjdHNcbiAgICAqIGluIHRoZSBnYW1lIHdvcmxkLlxuICAgICogQHBhcmFtIGJvdW5kcyBhIEJvdW5kcyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBib3VuZGluZyBzaXplIG9mIHRoaXMgR2FtZU9iamVjdFxuICAgICogaW4gdGhlIGdhbWUgd29ybGQuXG4gICAgKiovXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0pXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcylcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24gfCBUcmFuc2Zvcm0sIGJvdW5kcz86IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHRoaXMuX29uRGVzdHJveSA9IG5ldyBFdmVudCgpO1xuICAgICAgICBpZiAocG9zaXRpb24gaW5zdGFuY2VvZiBQb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0ocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm0pXG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm0uc2V0R2FtZU9iamVjdCh0aGlzKTsgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgcGFyZW50IEdhbWVPYmplY3QgaW4gdGhlIEdhbWVPYmplY3QgdHJlZS4gQSBHYW1lT2JqZWN0IG9ubHkgaGFzIGFcbiAgICAqIHBhcmVudCBpZiBpdCBoYXMgYmVlbiBhZGRlZCBhcyBhIGNoaWxkIHRvIGFub3RoZXIgR2FtZU9iamVjdC4gR2FtZU9iamVjdHNcbiAgICAqIHRoYXQgc3RhbmQgb3V0c2lkZSB0aGUgR2FtZU9iamVjdCB0cmVlIGRvIG5vdCBoYXZlIHBhcmVudHMuIEEgR2FtZU9iamVjdFxuICAgICogY2FuIG9ubHkgaGF2ZSBhIHNpbmdsZSBwYXJlbnQsIGFuZCBzaG91bGQgbm90IGRvbWluYXRlIGl0cyBwYXJlbnQgYXMgYVxuICAgICogY2hpbGQuXG4gICAgKi9cbiAgICBnZXQgcGFyZW50KCk6IEdhbWVPYmplY3QgeyByZXR1cm4gdGhpcy5fcGFyZW50OyB9XG4gICAgc2V0IHBhcmVudCh2YWw6IEdhbWVPYmplY3QpIHsgdGhpcy5fcGFyZW50ID0gdmFsOyB9XG5cbiAgICBnZXQgdHJhbnNmb3JtKCkgeyByZXR1cm4gdGhpcy5fdHJhbnNmb3JtOyB9XG5cbiAgICAvKipcbiAgICAqIEFuIGlkZW50aWZpY2F0aW9uIHN0cmluZyBmb3IgcmVmZXJlbmNpbmcgcGFydGljdWxhciBnYW1lIG9iamVjdHMgaW4gdGhlXG4gICAgKiB0cmVlLiBPcHRpb25hbCwgYnV0IGNhbiBwcm92ZSB1c2VmdWwgd2hlbiBhbm90aGVyIG9iamVjdCBuZWVkcyB0byBnYWluIGFcbiAgICAqIHJlZmVyZW5jZSB0byBhIHBhcnRpY3VsYXIgR2FtZU9iamVjdC5cbiAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9uYW1lOyB9XG4gICAgc2V0IG5hbWUodmFsOiBzdHJpbmcpIHsgdGhpcy5fbmFtZSA9IHZhbDt9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIEdhbWVPYmplY3RzIGhhcyBubyBtb3JlIGFzc2V0cyB0byBsb2FkLlxuICAgICovXG4gICAgZ2V0IGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnJ1bkxvYWQgJiYgdGhpcy5hc3NldHMuZXZlcnkoeCA9PiB4LmxvYWRlZCA9PT0gdHJ1ZSkpOyB9XG5cbiAgICBnZXQgc3VidHJlZUxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmxvYWRlZCAmJiAodGhpcy5fY2hpbGRyZW4uZXZlcnkoeCA9PiB4LnN1YnRyZWVMb2FkZWQpKSk7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBgbG9hZGAgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCBvbmNlLiBUaGlzIHNob3VsZCBtZWFuXG4gICAgKiB0aGF0IGFueSByZXNvdXJjZXMgaGF2ZSBiZWd1biBsb2FkaW5nLCBldmVuIGlmIGxvYWRpbmcgaXMgbm90IGNvbXBsZXRlLlxuICAgICovXG4gICAgZ2V0IHJ1bkxvYWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9ydW5Mb2FkOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYGNyZWF0ZWAgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCBvbmNlLiBUaGlzIHNob3VsZCBtZWFuc1xuICAgICogdGhhdCB0aGUgR2FtZU9iamVjdCBpcyByZWFkeSB0byB1c2UgYW5kIGhhdmUgbWFpbiBsb29wIG1ldGhvZHMsIGVnLiB1cGRhdGUsXG4gICAgKiBkcmF3IGNhbGxlZC5cbiAgICAqL1xuICAgIGdldCBjcmVhdGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fY3JlYXRlZDsgfVxuXG4gICAgZ2V0IGFzc2V0cygpOiBBc3NldDxPYmplY3Q+W10geyByZXR1cm4gdGhpcy5fYXNzZXRzOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIEdhbWVPYmplY3RzIGltbWVkaWF0ZWx5IGRvbWluYXRlZCBieSB0aGlzIG9uZSBpbiB0aGUgR2FtZU9iamVjdFxuICAgICogdHJlZS4gQ2hpbGRyZW4gY2FuIGJlIGFkZGVkIHVzaW5nIHRoZSBgYWRkQ2hpbGRgIG1ldGhvZCwgb3IgcmVtb3ZlZCB3aXRoXG4gICAgKiB0aGUgYHJlbW92ZUNoaWxkYCBtZXRob2QuIE90aGVyd2lzZSwgdGhpcyBhcnJheSBzaG91bGQgbm90IGJlIGRpcmVjdGx5XG4gICAgKiBtb2RpZmllZC5cbiAgICAqL1xuICAgIGdldCBjaGlsZHJlbigpOiBHYW1lT2JqZWN0W10geyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cblxuICAgIC8qKiBEZXRlcm1pbmVzIHdoZXRoZXIgYmVnaW4oKSwgdXBkYXRlKCksIG9yIGVuZCgpIGlzIGNhbGxlZCBvbiB0aGlzIGdhbWUgb2JqZWN0IG9yIGl0cyBjaGlsZHJlbiAgKi9cbiAgICBzZXQgYWN0aXZlKHZhbDogYm9vbGVhbikgeyB0aGlzLl9hY3RpdmUgPSB2YWw7fVxuICAgIGdldCBhY3RpdmUoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9hY3RpdmU7IH1cblxuICAgIC8qKlxuICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBHYW1lT2JqZWN0IHN1YnRyZWUgc2hvdWxkIGFjY2VwdCBhbnkgaW50ZXJhY3Rpb25cbiAgICAqIHdpdGggdGhlIHBsYXllci4gR2FtZU9iamVjdHMgdGhhdCBwcm92aWRlIHVzZXIgaW50ZXJmYWNlcyBzaG91bGQgcmVzZXBjdFxuICAgICogdGhpcyB2YWx1ZS5cbiAgICAqL1xuICAgIHNldCBpbnRlcmFjdGFibGUodmFsOiBib29sZWFuKSB7IHRoaXMuX2ludGVyYWN0YWJsZSA9IHZhbDt9XG4gICAgZ2V0IGludGVyYWN0YWJsZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2ludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaW50ZXJhY3RhYmxlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZXMgd2hldGhlciB0aGlzIEdhbWVPYmplY3Qgc3VidHJlZSBzaG91bGQgYmUgdmlzaWJsZSwgaWUuIGRyYXduLiBUaGlzXG4gICAgKiBkZXRlcm1pbmVzIHdoZXRoZXIgZHJhdygpIGlzIGNhbGxlZCBvbiB0aGlzIGdhbWUgb2JqZWN0IG9yIGl0cyBjaGlsZHJlbi4gQXNcbiAgICAqIHJlcXVlc3REcmF3KCkgb25seSB3b3JrcyBpZiB0aGUgb2JqZWN0IGlzIHZpc2libGUsIGhlcmUgd2UgZW5zdXJlIHRvIGNhbGwgaXRcbiAgICAqIHdoaWxlIHZpc2libGUgaXMgdHJ1ZS5cbiAgICAqL1xuICAgIHNldCB2aXNpYmxlKHZhbDogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlICE9PSB2YWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdmFsKSAgXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHZhbDtcbiAgICAgICAgICAgIGlmICh2YWwpXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB2aXNpYmxlKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fdmlzaWJsZTsgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgb3BhY2l0eSwgb3IgYWxwaGEgdmFsdWUsIG9mIHRoaXMgR2FtZU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuLiBBIHZhbHVlXG4gICAgKiBiZXR3ZWVuIDAtMS4gVGhlIG9wYWNpdHkgd2l0aCB3aGljaCBhbiBvYmplY3QgaXMgZHJhd24gaXMgY2FsY3VsYXRlZCBieVxuICAgICogbXVsdGlwbHlpbmcgdGhpcyB2YWx1ZSByZWN1cnNpdmV5IHVwIHRoZSB0cmVlLiBUaHVzIGEgb2JqZWN0IHdpdGggb3BhY2l0eVxuICAgICogMC41IGluIGEgcGFyZW50IG9mIG9wYWNpdHkgMC41IGlzIGRyYXduIHdpdGggYW4gb3BhY2l0eSBvZiAwLjI1LlxuICAgICovXG4gICAgZ2V0IG9wYWNpdHkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX29wYWNpdHk7IH1cbiAgICBzZXQgb3BhY2l0eSh2YWw6IG51bWJlcikgeyB0aGlzLl9vcGFjaXR5ID0gdmFsOyB9XG5cblxuICAgIGdldCBvbkRlc3Ryb3koKSB7IHJldHVybiB0aGlzLl9vbkRlc3Ryb3k7IH1cblxuICAgIC8qKiBJZiB0aGlzIGlzIHNldCB0byB0cnVlLCBkb0NyZWF0ZSB3aWxsIGJlIHJ1biByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpc1xuICAgICAqIEdhbWVPYmplY3QgaXMgYWN0aXZlLiBTZXQgdG8gdHJ1ZSB0byBnZXQgaW5hY3RpdmUgb2JqZWN0cyAoZWcuIGNsb3NlZCBmcmFtZXMpXG4gICAgICogdG8gY3JlYXRlIHRoZW1zZWx2ZXMgcmVhZHkgZm9yIHVzZS5cbiAgICAgKi9cbiAgICBnZXQgcHJlY3JlYXRlKCkgeyByZXR1cm4gdGhpcy5fcHJlY3JlYXRlOyB9XG4gICAgc2V0IHByZWNyZWF0ZSh2YWwpIHsgdGhpcy5fcHJlY3JlYXRlID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAqIEFkZCBhIEdhbWVPYmplY3QgaW50byB0aGUgR2FtZU9iamVjdCB0cmVlIGFzIGEgY2hpbGQgb2YgdGhpcyBHYW1lT2JqZWN0LlxuICAgICogVGhpcyBzZXRzIHRoZSBgcGFyZW50YCB2YWx1ZSBmb3IgdGhlIG5ldyBjaGlsZC4gQSBHYW1lT2JqZWN0IHNob3VsZCBvbmx5XG4gICAgKiBldmVyIGJlIHRoZSBjaGlsZCBvZiBhIHNpbmdsZSBHYW1lT2JqZWN0IGF0IGEgdGltZS5cbiAgICAqIEBwYXJhbSBjaGlsZCB0aGUgR2FtZU9iamVjdCB0byBjaGlsZCB0byB0aGlzIG9uZVxuICAgICovXG4gICAgYWRkQ2hpbGQ8VCBleHRlbmRzIEdhbWVPYmplY3Q+KGNoaWxkOiBUKTogVFxuICAgIHtcbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIC8vaWYgKGNoaWxkLnRyYW5zZm9ybSlcbiAgICAgICAgLy8gICAgY2hpbGQudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhc3NldCB3aXRoIHRoZSBwcm92aWRlZCBmaWxlbmFtZSwgd2hpY2ggaXMgb2YgdGhlIGdpdmVuIHR5cGUsXG4gICAgICogaWYgaXQgaGFzIGJlZW4gYWRkZWQgdG8gdGhpcyBHYW1lT2JqZWN0LiBUaGlzIHNob3VsZCBob2xkIHRoZSBsb2FkZWQgYXNzZXRcbiAgICAgKiAoc28gbG9uZyBhcyBpdCBpcyBub3QgY2FsbGVkIGJlZm9yZSBvciBpbnNpZGUgbG9hZCgpKS4gVGhlIFxuICAgICAqIEBwYXJhbSBmaWxlbmFtZSB0aGUgZmlsZW5hbWUgb2YgdGhlIGFzc2V0IHRoYXQgaGFzIGJlZW4gYWRkZWRcbiAgICAgKi9cbiAgICBnZXRBc3NldDxUPihmaWxlbmFtZTogc3RyaW5nKTogVFxuICAgIHtcbiAgICAgICAgbGV0IGFzc2V0c1dpdGhGaWxlbmFtZSA9IHRoaXMuYXNzZXRzLmZpbHRlcih4ID0+IHguZmlsZW5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICAgICAgaWYgKGFzc2V0c1dpdGhGaWxlbmFtZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmV0dXJuIGFzc2V0c1dpdGhGaWxlbmFtZVswXS5hc3NldCBhcyBUO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3NldCBmb3VuZCB3aXRoIHRoYXQgbmFtZSBvbiBnYW1lb2JqZWN0XCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogUmVjdXJzaXZlbHkgY2FsbCBgbG9hZGAgb24gdGhpcyBHYW1lT2JqZWN0IGFuZCBpdHMgc3VidHJlZS5cbiAgICAqIEBwYXJhbSBhcmdzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIGxvYWQoKVxuICAgICoqL1xuICAgIGRvTG9hZChpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgaWYgKCEodGhpcy5fcnVuTG9hZCkpXG4gICAgICAgICAgICB0aGlzLl9ydW5Mb2FkID0gdGhpcy5sb2FkKGludGVyZmFjZXMpO1xuICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0xvYWQoaW50ZXJmYWNlcyk7XG4gICAgfVxuXG4gICAgbG9hZChpbnRlcmZhY2VzKTogYm9vbGVhbiB7IHJldHVybiB0cnVlOyB9XG5cbiAgICAvKipcbiAgICAqIEFkZHMgdGhlIHByb3ZpZGVkIGFzc2V0IHRvIHRoaXMgR2FtZU9iamVjdCBpZiBub3QgYSBkdXBsaWNhdGUgZmlsZW5hbWVcbiAgICAqIEBwYXJhbSBhc3NldCB0aGUgYXNzZXQgcHJvdmlkZWQgYnkgdGhlIExvYWRlclxuICAgICoqL1xuICAgIGFkZEFzc2V0PFQ+KGFzc2V0OiBBc3NldDxUPik6IEFzc2V0PFQ+XG4gICAge1xuICAgICAgICBpZiAoYXNzZXQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuYXNzZXRzLmZpbHRlcih4ID0+IHguZmlsZW5hbWUgPT09IGFzc2V0LmZpbGVuYW1lKS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB0aGlzLmFzc2V0cy5wdXNoKGFzc2V0KTtcbiAgICAgICAgcmV0dXJuIGFzc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGludGVyZmFjZXMgdG8gcGFzcyB0byBjaGlsZHJlbi4gT3ZlcnJpZGUgdGhpcyBpbiBvcmRlciB0byBhZGRcbiAgICAgKiB0aGluZ3MgdG8gdGhlIGludGVyZmFjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIGludGVyZmFjZXMgXG4gICAgICovXG4gICAgaW50ZXJmYWNlcyhpbnRlcmZhY2VzKSB7IHJldHVybiBpbnRlcmZhY2VzOyB9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGBjcmVhdGVgIHRocm91Z2ggdGhlIHRyZWUgb2YgR2FtZU9iamVjdHMuIElmIGEgR2FtZU9iamVjdHNcbiAgICAqIGhhcyBub3QgYmVlbiBsb2FkZWQgKGllLiBsb2FkKCkgaGFzIG5vdCBiZWVuIHJ1biksIHRoZW4gY2FsbCBsb2FkIGluc3RlYWQuXG4gICAgKiBAcGFyYW0gYXJncyB0aGUgaW50ZXJmYWNlcyB0byBtYWtlIGF2YWlsYWJsZSB0byBsb2FkKClcbiAgICAqL1xuICAgIGRvQ3JlYXRlKGludGVyZmFjZXMpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3J1bkxvYWQpXG4gICAgICAgICAgICB0aGlzLmRvTG9hZChpbnRlcmZhY2VzKTtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY3JlYXRlZFRoaXNSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jcmVhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRUaGlzUnVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZShpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0NyZWF0ZSh0aGlzLmludGVyZmFjZXMoaW50ZXJmYWNlcykpO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY3JlYXRlZFRoaXNSdW4pXG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckNyZWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlKGludGVyZmFjZXMpOiB2b2lkIHsgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGRvQ3JlYXRlKCkgaGFzIGJlZW4gY2FsbGVkIG9uIHRoaXMgb2JqZWN0IGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuLlxuICAgICAqIE5vdGUgdGhhdCBjaGlsZHJlbiBtYXkgbm90IGJlIGNyZWF0ZWQgaWYgdGhleSBhcmUgd2FpdGluZyBmb3IgYW4gYXNzZXRzXG4gICAgICogdG8gbG9hZC5cbiAgICAgKi9cbiAgICBhZnRlckNyZWF0ZSgpOiB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGJlZ2luKCkgdGhyb3VnaCB0aGUgdHJlZSBvZiBHYW1lT2JqZWN0cy4gR2FtZU9iamVjdHMgbXVzdFxuICAgICogZmlyc3QgaGF2ZSBiZWVuIGNyZWF0ZWQuIElmIGEgR2FtZU9iamVjdCBoYXMgbm90IGJlZW4gY3JlYXRlZCwgdGhpcyBjYWxsc1xuICAgICogZG9DcmVhdGUoKSB3aGljaCBjYW4gaW4gdHVybiBjYWxsIGRvTG9hZCgpLiBJZiBhIEdhbWVPYmplY3QgaXMgY3JlYXRlZFxuICAgICogaW1tZWRpYXRlbHkgKGllLiB0aGVyZSBpcyBubyBsb2FkIHdhaXQpLCBiZWdpbigpIHdpbGwgYmUgY2FsbGVkIGltbWVkaWF0ZWx5LlxuICAgICpcbiAgICAqIEBwYXJhbSBpbnRlcmZhY2VzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIGJlZ2luKClcbiAgICAqL1xuICAgIGRvQmVnaW4oaW50ZXJmYWNlcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jcmVhdGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuX3J1bkJlZ2luKGludGVyZmFjZXMpO1xuICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvQ3JlYXRlKGludGVyZmFjZXMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jcmVhdGVkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ydW5CZWdpbihpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9wcmVjcmVhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZG9DcmVhdGUoaW50ZXJmYWNlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9ydW5CZWdpbihpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgdGhpcy5iZWdpbihpbnRlcmZhY2VzKTtcbiAgICAgICAgdGhpcy5fcmFuQmVnaW4gPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0JlZ2luKHRoaXMuaW50ZXJmYWNlcyhpbnRlcmZhY2VzKSk7XG4gICAgfVxuXG4gICAgYmVnaW4oaW50ZXJmYWNlcyk6IHZvaWQgeyB9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIHVwZGF0ZSB0aHJvdWdoIHRoZSB0cmVlIG9mIEdhbWVPYmplY3RzLiBJbiBvcmRlciBmb3JcbiAgICAqIEdhbWVPYmplY3RzIHRvIGJlIHVwZGF0ZWQsIHRoZXkgbXVzdCBoYXZlIGJlZW4gY3JlYXRlZC4gSWYgYSBHYW1lT2JqZWN0c1xuICAgICogaGFzIG5vdCBiZWVuIGNyZWF0ZWQsIHRoaXMgY2FsbHMgZG9DcmVhdGUoKS5cbiAgICAqIEBwYXJhbSBpbnRlcmZhY2VzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIHVwZGF0ZSgpXG4gICAgKi9cbiAgICBkb1VwZGF0ZShpbnRlcmZhY2VzKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybSlcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybS51cGRhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMuX3JhbkJlZ2luKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpPXRoaXMuX2NoaWxkcmVuLmxlbmd0aC0xO2k+PTA7aS0tKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbltpXSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZG9VcGRhdGUodGhpcy5pbnRlcmZhY2VzKGludGVyZmFjZXMpKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGludGVyZmFjZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlKGludGVyZmFjZXMpOiB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGRyYXcgdGhyb3VnaCB0aGUgdHJlZSBvZiBHYW1lT2JqZWN0cy4gSW4gb3JkZXIgZm9yXG4gICAgKiBHYW1lT2JqZWN0cyB0byBiZSBkcmF3biwgdGhleSBtdXN0IGhhdmUgYmVlbiBjcmVhdGVkIGFuZCBiZSB2aXNpYmxlLlxuICAgICogQHBhcmFtIGNvbnRleHQyRCB0aGUgaW50ZXJmYWNlIHRvIGNhbGwgZHJhd2luZyBjb21tYW5kcyB0aHJvdWdoXG4gICAgKi9cbiAgICBkb0RyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGludGVyZmFjZXMsIHdlYkdMPzogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCApOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoKHRoaXMuX2NyZWF0ZWQpICYmICh0aGlzLl92aXNpYmxlKSAmJiAodGhpcy5fdHJhbnNmb3JtKSAmJiAodGhpcy5fb3BhY2l0eSA+IDApICYmICh0aGlzLl90cmFuc2Zvcm0uaGFzUG9zaXRpb24oKSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByb3RhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtLnJvdGF0aW9uICUgMipNYXRoLlBJICE9PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJvdGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLl90cmFuc2Zvcm0uZ2V0RHJhd1Bvc2l0aW9uKDAuNSwwLjUpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5zYXZlKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dDJELnRyYW5zbGF0ZShwb3MueCwgcG9zLnkpXG4gICAgICAgICAgICAgICAgY29udGV4dDJELnJvdGF0ZSh0aGlzLl90cmFuc2Zvcm0ucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQyRC50cmFuc2xhdGUoLXBvcy54LCAtcG9zLnkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3RhcnRpbmdPcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0MkQpXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdPcGFjaXR5ID0gdGhpcy5fc2V0RHJhd2luZ09wYWNpdHkoY29udGV4dDJEKTtcbiAgICAgICAgICAgIHRoaXMuZHJhdyhjb250ZXh0MkQsIGludGVyZmFjZXMsIHdlYkdMKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0RyYXcoY29udGV4dDJELCBpbnRlcmZhY2VzLCB3ZWJHTCk7XG4gICAgICAgICAgICBpZiAoY29udGV4dDJEKVxuICAgICAgICAgICAgICAgIGlmIChzdGFydGluZ09wYWNpdHkgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dDJELmdsb2JhbEFscGhhID0gc3RhcnRpbmdPcGFjaXR5O1xuICAgICAgICAgICAgaWYgKHJvdGF0ZWQpXG4gICAgICAgICAgICAgICAgY29udGV4dDJELnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBfc2V0RHJhd2luZ09wYWNpdHkoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9vcGFjaXR5ICE9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgb3JpZ2luYWwgPSBjb250ZXh0MkQuZ2xvYmFsQWxwaGE7XG4gICAgICAgICAgICBjb250ZXh0MkQuZ2xvYmFsQWxwaGEgPSBjb250ZXh0MkQuZ2xvYmFsQWxwaGEgKiB0aGlzLl9vcGFjaXR5O1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBHYW1lT2JqZWN0cyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gZHJhdyB0aGVtc2VsdmVzIHRvIHRoZVxuICAgICogcHJvdmlkZWQgZHJhd2luZyBjb250ZXh0LiBUaGlzIGlzIGNhbGxlZCBvbmNlIHBlciBmcmFtZSBvbiBhbGwgY3JlYXRlZFxuICAgICogR2FtZU9iamVjdHMgdGhhdCBhcmUgbm90IHZpc2libGUgKG9yIHRoZSBkZXNlbmRhbnQgb2YgYSB2aXNpYmxlIEdhbWVPYmplY3QpLlxuICAgICoqL1xuICAgIGRyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGludGVyZmFjZXMsIHdlYkdMPzogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogdm9pZCB7fVxuXG4gICAgLyoqXG4gICAgKiBSZWN1cnNpdmVseSBjYWxscyBlbmQgdGhyb3VnaCB0aGUgdHJlZSBvZiBHYW1lT2JqZWN0cy4gT25seSBHYW1lT2JqZWN0c1xuICAgICogdGhhdCBoYXZlIGJlZW4gY3JlYXRlZCBoYXZlIGVuZCBjYWxsZWQuXG4gICAgKiBAcGFyYW0gYXJncyB0aGUgaW50ZXJmYWNlcyB0byBtYWtlIGF2YWlsYWJsZSB0byBlbmQoKVxuICAgICovXG4gICAgZG9FbmQoaW50ZXJmYWNlcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yYW5CZWdpbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbmQoaW50ZXJmYWNlcyk7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZG9FbmQodGhpcy5pbnRlcmZhY2VzKGludGVyZmFjZXMpKTtcbiAgICAgICAgICAgIHRoaXMuX3JhbkJlZ2luID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmQoaW50ZXJmYWNlcyk6IHZvaWQge31cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlIHRoYXQgYW55IGJ1ZmZlcmVkIHJlbmRlcnMgdGhhdCBpbmNsdWRlIHRoaXMgR2FtZU9iamVjdCBhcmUgb3V0ZGF0ZWQgYW5kXG4gICAgICogZHJhdygpIHNob3VsZCBiZSBjYWxsZWQuIFRoaXMgaXMgcGFzc2VkIHVwIHRoZSBoZWlyYXJjaHkgYW5kIG9ubHkgYWN0ZWQgdXBvbiBieVxuICAgICAqIEdhbWVPYmplY3RzIHRoYXQgbWFuYWdlIHJlbmRlcmluZyBjb250ZXh0cy5cbiAgICAgKi9cbiAgICByZXF1ZXN0RHJhdygpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdmlzaWJsZSlcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJlbnQpXG4gICAgICAgICAgICAgICAgaWYgKCEodGhpcy5kcmF3Q3VsbGVkKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50LnJlcXVlc3REcmF3KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgb2JqZWN0IHNob3VsZCBiZSBkcmF3Q3VsbGVkLCBpZS4gbm90IGRyYXduL25vdCBmaXJlIHJlcXVlc3REcmF3c1xuICAgICAqIGJlY2F1c2UgaXQgZG9lcyBub3Qgb3ZlcmxhcCBpdCdzIHBhcmVudC4gVG8gY2hhbmdlIHRoaXMgYmVoYXZpb3VyIEBzZWUgaWdub3JlRHJhd0N1bGxcbiAgICAgKi9cbiAgICBnZXQgZHJhd0N1bGxlZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pZ25vcmVEcmF3Q3VsbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKCh0aGlzLl90cmFuc2Zvcm0pICYmICh0aGlzLl9wYXJlbnQpICYmICh0aGlzLl9wYXJlbnQuY3JlYXRlZCkgJiYgKHRoaXMuX3BhcmVudC50cmFuc2Zvcm0pKVxuICAgICAgICAgICAgcmV0dXJuICEoVHJhbnNmb3JtLm92ZXJsYXBzKHRoaXMuX3RyYW5zZm9ybSwgdGhpcy5fcGFyZW50LnRyYW5zZm9ybSkpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCBvYmplY3RzIGFyZSBEcmF3Q3VsbGVkOiB0aGV5IGFyZSBvbmx5IGRyYXduIHdoZW4gdGhleSBvdmVybGFwXG4gICAgICogdGhlaXIgcGFyZW50IEdhbWVPYmplY3QncyBUcmFuc2Zvcm0uIEBzZWUgZHJhd0N1bGxlZC4gU2V0IGlnbm9yZURyYXdDdWxsIHRvIHRydWUgdG8gb3ZlcnJpZGUgdGhpc1xuICAgICAqIGJlaGF2aW91ci5cbiAgICAgKi9cbiAgICBnZXQgaWdub3JlRHJhd0N1bGwoKSB7IHJldHVybiB0aGlzLl9pZ25vcmVEcmF3Q3VsbDsgfVxuICAgIHNldCBpZ25vcmVEcmF3Q3VsbCh2YWwpIHsgdGhpcy5faWdub3JlRHJhd0N1bGwgPSB2YWw7IH1cblxuICAgIC8qKlxuICAgICogUmVtb3ZlcyB0aGlzIEdhbWVPYmplY3QgZnJvbSBpdHMgcGFyZW50IGluIHRoZSBHYW1lT2JqZWN0IHRyZWUuXG4gICAgKi9cbiAgICByZXF1ZXN0UmVtb3ZhbCgpOiB2b2lkIHsgdGhpcy5fcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpOyB9XG5cbiAgICAvKipcbiAgICAqIFJlbW92ZXMgYSBjaGlsZCBHYW1lT2JqZWN0IGZyb20gdGhpcyBHYW1lT2JqZWN0IHNvIHRoYXQgdGhlIGNoaWxkIGlzIG5vXG4gICAgKiBsb25nZXIgaW4gdGhlIEdhbWVPYmplY3QgdHJlZSBhbmQgY2FsbHMgYGRlc3Ryb3lgIG9uIGl0LlxuICAgICogQHBhcmFtIGNoaWxkIHRoZSBHYW1lT2JqZWN0IHRvIHJlbW92ZSwgd2hpY2ggbXVzdCBiZSBhIGNoaWxkIG9mIFRoaXNcbiAgICAqIEdhbWVPYmplY3QuXG4gICAgKi9cbiAgICByZW1vdmVDaGlsZChjaGlsZDogR2FtZU9iamVjdCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuX2NoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgY2hpbGQuZG9EZXN0cm95KCk7XG4gICAgfVxuXG4gICAgZG9EZXN0cm95KClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgIHRoaXMuX2NoaWxkcmVuW2ldLmRvRGVzdHJveSgpO1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtKVxuICAgICAgICAgICAgdGhpcy5fdHJhbnNmb3JtLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX29uRGVzdHJveS5jYWxsKCk7XG4gICAgfVxuICAgIFxuICAgIGRlc3Ryb3koKSB7IH1cbn1cbiIsImltcG9ydCBCb3VuZHMgZnJvbSBcIi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uICBmcm9tIFwiLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCIuL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgeyBQb2x5U2hhcGUsIFBvbHlSZWN0IH0gZnJvbSBcIi4vdXRpbC9Qb2x5U2hhcGVcIjtcblxuLyoqXG4gKiBBIFRyYW5zZm9ybSByZXByZXNlbnRzIHRoZSBnYW1lLXdvcmxkIGV4dGVuc2lvbiBvZiBhIEdhbWVPYmplY3QsIGluY2x1ZGluZyBldmVyeXRoaW5nXG4gKiByZXF1aXJlZCB0byBrbm93IHdoZXJlIGl0IGlzIGFuZCB3aGF0IGFyZWEgaXQgb2NjdXBpZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zZm9ybVxue1xuICAgIHByb3RlY3RlZCBfZ2FtZU9iamVjdDogR2FtZU9iamVjdDtcbiAgICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBQb3NpdGlvbjtcbiAgICBwcm90ZWN0ZWQgX2JvdW5kczogQm91bmRzO1xuXG4gICAgcHJpdmF0ZSBfZml4ZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX3Bvc2l0aW9uaW5nRGlydHk6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfcm90YXRpb246IG51bWJlciA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gYSBQb3NpdGlvbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBsb2NhdGlvbiBvZiB0aGlzIFRyYW5zZm9ybVxuICAgICAqIGluIHRoZSBnYW1lIHdvcmxkLlxuICAgICAqIEBwYXJhbSBib3VuZHMgYSBCb3VuZHMgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgYm91bmRpbmcgc2l6ZSBvZiB0aGlzIFRyYW5zZm9ybVxuICAgICAqIGluIHRoZSBnYW1lIHdvcmxkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBib3VuZHM7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24udHJhbnNmb3JtID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuYm91bmRzKVxuICAgICAgICAgICAgdGhpcy5fYm91bmRzLnRyYW5zZm9ybSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCghdGhpcy5ib3VuZHMpICYmICh0aGlzLnBvc2l0aW9uKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgZ2FtZSBvYmplY3Qgd2l0aCBhIG5vbi1udWxsIFBvc2l0aW9uIG11c3QgaGF2ZSBhIG5vbi1udWxsIEJvdW5kc1wiKTtcbiAgICB9XG5cbiAgICBnZXQgZ2FtZU9iamVjdCgpIHsgcmV0dXJuIHRoaXMuX2dhbWVPYmplY3Q7IH1cbiAgICBzZXQgZ2FtZU9iamVjdCh2YWwpIHsgdGhpcy5fZ2FtZU9iamVjdCA9IHZhbDsgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgUG9zaXRpb24gcmVwcmVzZW50aW5nIHRoZSBsb2NhdGlvbiBvZiB0aGUgR2FtZU9iamVjdCBpbiB0aGUgZ2FtZSBzcGFjZS5cbiAgICAqL1xuICAgIGdldCBwb3NpdGlvbigpOiBQb3NpdGlvbiB7IHJldHVybiB0aGlzLl9wb3NpdGlvbjsgfVxuICAgIFxuICAgIC8qKlxuICAgICogVGhlIEJvdW5kcyByZXByZXNlbnRpbmcgdGhlIGJvdW5kaW5nIHNpemUgb2YgdGhlIEdhbWVPYmplY3QuXG4gICAgKi9cbiAgICBnZXQgYm91bmRzKCk6IEJvdW5kcyB7IHJldHVybiB0aGlzLl9ib3VuZHM7IH1cblxuICAgIGdldCBmaXhlZCgpIHsgcmV0dXJuIHRoaXMuX2ZpeGVkOyB9XG4gICAgc2V0IGZpeGVkKHZhbCkgeyB0aGlzLl9maXhlZCA9IHZhbDsgfVxuXG4gICAgZ2V0IHBvc2l0aW9uaW5nRGlydHkoKSB7IHJldHVybiB0aGlzLl9wb3NpdGlvbmluZ0RpcnR5OyB9XG4gICAgcG9zaXRpb25pbmdJc0RpcnR5KCkgeyB0aGlzLl9wb3NpdGlvbmluZ0RpcnR5ID0gdHJ1ZTsgfVxuXG4gICAgZ2V0IHBhcmVudCgpOiBUcmFuc2Zvcm1cbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVPYmplY3QpXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lT2JqZWN0LnBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nYW1lT2JqZWN0LnBhcmVudC50cmFuc2Zvcm07XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGdldCByb3RhdGlvbigpIHsgcmV0dXJuIHRoaXMuX3JvdGF0aW9uOyB9XG4gICAgc2V0IHJvdGF0aW9uKHZhbCkgeyB0aGlzLl9yb3RhdGlvbiA9IHZhbDsgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjYW5vbmljYWwgKGllLiBub3QgdGhlIGRyYXcpIHBvc2l0aW9uIG9mIHRoZSB0b3AgbGVmdCBvZiB0aGUgdHJhbnNmb3JtLlxuICAgICAqIE9wdGlvbmFsbHkgYWNjZXB0cyBhbiBhbmNob3IgaW4gdGhlIGZvcm0gb2YgdGhlIHBvaW50LiBJZiBzZXQsIHdpbGwgcmV0dXJuIHRoZSBwb3NpdGlvblxuICAgICAqIG9mIHRoZSBhbmNob3IuICgwLDApIGlzIHRvcCBsZWZ0LiAoMSwxKSBpcyBib3R0b20gcmlnaHQuXG4gICAgICogQHBhcmFtIHBvaW50XG4gICAgICovXG4gICAgZ2V0Q2Fub25pY2FsUG9zaXRpb24ocG9pbnQ/OiBQb2ludCB8IG51bWJlciwgeT86IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXBvaW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHRsID0gdGhpcy5wb3NpdGlvbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICAgICAgICAgIGxldCBkaW0gPSB0aGlzLmJvdW5kcy5kaW1lbnNpb247XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0bC54ICsgZGltLndpZHRoKnBvaW50LngsIHRsLnkgKyBkaW0uaGVpZ2h0KnBvaW50LnkpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0bC54ICsgZGltLndpZHRoKnBvaW50LCB0bC55ICsgZGltLmhlaWdodCp5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBnZXREcmF3UG9zaXRpb24ocG9pbnQ/OiBQb2ludCB8IG51bWJlciwgeT86IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXBvaW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgdGwgPSB0aGlzLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgICAgICAgICBsZXQgZGltID0gdGhpcy5ib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBvaW50IGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQodGwueCArIGRpbS53aWR0aCpwb2ludC54LCB0bC55ICsgZGltLmhlaWdodCpwb2ludC55KTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQodGwueCArIGRpbS53aWR0aCpwb2ludCwgdGwueSArIGRpbS5oZWlnaHQqeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0RGltZW5zaW9uKCkgeyByZXR1cm4gdGhpcy5ib3VuZHMuZGltZW5zaW9uOyB9XG5cbiAgICBzZXRHYW1lT2JqZWN0KHZhbCkgeyB0aGlzLmdhbWVPYmplY3QgPSB2YWw7IH1cblxuICAgIGhhc1Bvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5wb3NpdGlvbiAhPT0gbnVsbDsgfVxuXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICgodGhpcy5wb3NpdGlvbmluZ0RpcnR5KSB8fCAoISh0aGlzLmZpeGVkKSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24uY2hlY2tGb3JVcGRhdGVkVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZHMpXG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZHMuY2hlY2tGb3JVcGRhdGVkRGltZW5zaW9ucygpO1xuICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25pbmdEaXJ0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgY2FsbGVkIHRocm91Z2ggZGVzY2VuZGFudHMgdG8gc2F5IHRoYXQgdGhlIHRyYW5zZm9ybSBvZiB0aGlzXG4gICAgICogb3IgYSBwYXJlbnQgR2FtZU9iamVjdCBoYXMgY2hhbmdlZC4gV2hlbiB0aGUgZGltZW5zaW9uIG9mIGEgcGFyZW50J3MgYm91bmRzXG4gICAgICogaGFzIGNoYW5nZWQgaXQgbWVhbnMgdGhhdCB0aGUgZGltZW5zaW9uIG9mIHRoZSBjaGlsZCBtYXkgaGF2ZSBjaGFuZ2VkIGFuZCB0aHVzXG4gICAgICogbmVlZHMgdG8gYmUgcmVjYWxjdWxhdGVkLlxuICAgICAqL1xuICAgIHJlY2FsY3VsYXRlKGV4Y2x1ZGVEcmF3Q2FjaGU/OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3Bvc2l0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi5hYnNvbHV0ZUNhY2hlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCEoZXhjbHVkZURyYXdDYWNoZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb24uZHJhd0NhY2hlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHMpXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuZGlydHkgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5nYW1lT2JqZWN0LmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCEoZXhjbHVkZURyYXdDYWNoZSkpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5nYW1lT2JqZWN0LmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4geyBpZiAoY2hpbGQudHJhbnNmb3JtKSBjaGlsZC50cmFuc2Zvcm0ucmVjYWxjdWxhdGUoZXhjbHVkZURyYXdDYWNoZSkgfSApO1xuICAgIH1cblxuICAgIHN0YXRpYyBvdmVybGFwcyhhOiBUcmFuc2Zvcm0sIGI6IFRyYW5zZm9ybSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGxldCBhUG9zO1xuICAgICAgICBsZXQgYlBvcztcbiAgICAgICAgaWYoYS5wb3NpdGlvbilcbiAgICAgICAgICAgIGFQb3MgPSBhLmdldENhbm9uaWNhbFBvc2l0aW9uKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGFQb3MgPSBuZXcgUG9pbnQoMCwwKTtcblxuICAgICAgICBpZiAoYi5wb3NpdGlvbilcbiAgICAgICAgICAgIGJQb3MgPSBiLmdldENhbm9uaWNhbFBvc2l0aW9uKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYlBvcyA9IG5ldyBQb2ludCgwLDApO1xuXG4gICAgICAgIGxldCBhRGltID0gYS5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgbGV0IGJEaW0gPSBiLmdldERpbWVuc2lvbigpO1xuICAgICAgICBsZXQgeCA9IGZhbHNlO1xuICAgICAgICBsZXQgeSA9IGZhbHNlO1xuICAgICAgICBpZiAoKGFQb3MueCA+PSBiUG9zLngpICYmIChhUG9zLnggPD0gYlBvcy54ICsgYkRpbS53aWR0aCkpXG4gICAgICAgICAgICB4ID0gdHJ1ZTtcbiAgICAgICAgaWYgKChhUG9zLnggPD0gYlBvcy54KSAmJiAoYVBvcy54ICsgYURpbS53aWR0aCA+PSBiUG9zLngpKVxuICAgICAgICAgICAgeCA9IHRydWU7XG4gICAgICAgIGlmICgoYVBvcy55ID49IGJQb3MueSkgJiYgKGFQb3MueSA8PSBiUG9zLnkgKyBiRGltLmhlaWdodCkpXG4gICAgICAgICAgICB5ID0gdHJ1ZTtcbiAgICAgICAgaWYgKChhUG9zLnkgPD0gYlBvcy55KSAmJiAoYVBvcy55ICsgYURpbS5oZWlnaHQgPj0gYlBvcy55KSlcbiAgICAgICAgICAgIHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4geCAmJiB5O1xuICAgIH1cblxuICAgIHN0YXRpYyBjb250YWlucyhhOiBUcmFuc2Zvcm0sIGI6IFRyYW5zZm9ybSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGxldCBhUG9zID0gYS5nZXRDYW5vbmljYWxQb3NpdGlvbigpO1xuICAgICAgICBsZXQgYlBvcyA9IGIuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgbGV0IGFEaW0gPSBhLmdldERpbWVuc2lvbigpO1xuICAgICAgICBsZXQgYkRpbSA9IGIuZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIGxldCB4ID0gZmFsc2U7XG4gICAgICAgIGxldCB5ID0gZmFsc2U7XG4gICAgICAgIGlmICgoYlBvcy54ID49IGFQb3MueCkgJiYgKGJQb3MueCArIGJEaW0ud2lkdGggPD0gYVBvcy54ICsgYURpbS53aWR0aCkpXG4gICAgICAgICAgICB4ID0gdHJ1ZTtcbiAgICAgICAgaWYgKChiUG9zLnkgPj0gYVBvcy55KSAmJiAoYlBvcy55ICsgYkRpbS53aWR0aCA8PSBhUG9zLnkgKyBhRGltLmhlaWdodCkpXG4gICAgICAgICAgICB5ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHggJiYgeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3VwcGxpZWQgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiB0aGUgYm91bmRzIG9mIHRoaXNcbiAgICAqIGdhbWUgb2JqZWN0IGluIHRoZSBnYW1lIHNwYWNlLlxuICAgICovXG4gICAgY29udGFpbnNQb2ludChwb2ludDogUG9pbnQpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgb2Zmc2V0ICA9IHRoaXMucG9zaXRpb24uYWJzb2x1dGVQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgbGV0IGRpbWVuc2lvbiA9IHRoaXMuYm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgcmV0dXJuIFRyYW5zZm9ybS5pbkRpbWVuc2lvbihwb2ludCwgZGltZW5zaW9uLCBvZmZzZXQpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYm91bmRzKVxuICAgICAgICAgICAgdGhpcy5ib3VuZHMuZGVzdHJveSgpO1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24uZGVzdHJveSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbkRpbWVuc2lvbihwb2ludDogUG9pbnQsIGRpbWVuc2lvbjogRGltZW5zaW9uLCBvZmZzZXQ6IFBvaW50KTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKChwb2ludC54ID49IG9mZnNldC54KSAmJiAocG9pbnQueSA+PSBvZmZzZXQueSkpXG4gICAgICAgICAgICBpZiAoKHBvaW50LnggPD0gb2Zmc2V0LnggKyBkaW1lbnNpb24ud2lkdGgpICYmIChwb2ludC55IDw9IG9mZnNldC55ICsgZGltZW5zaW9uLmhlaWdodCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBhIHBvbHlzaGFwZSBhbmQgcmV0dXJucyBhIHBvbHlzaGFwZSB0aGF0IGhhcyBiZWVuIHRyYW5zbGF0ZWQgYnkgdGhlIHBvc2l0aW9uIG9mIHRoaXMgdHJhbnNmb3JtIGFuZFxuICAgICAqIHNjYWxlZCBieSB0aGUgZGltZW5zaW9ucyBvZiB0aGlzIHRyYW5zZm9ybS4gU28gYSBjb29yZCBvZiAoMCwwKSBpbiB0aGUgcG9seXNoYXBlIGJlY29tZXMgdGhlIGNhbm9uaWNhbFxuICAgICAqIHBvc2l0aW9uIG9mIHRoZSB0b3AgbGVmdCBvZiB0aGUgdHJhbnNmb3JtLCBhbmQgYSBjb29yZCBvZiAoMSwxKSBiZWNvbWVzIHRoZSBjYW5vbmljYWwgcG9zaXRpb24gb2YgdGhlXG4gICAgICogYm90dG9tIHJpZ2h0IG9mIHRoZSB0cmFuc2Zvcm0uXG4gICAgICogQHBhcmFtIHBvbHlzaGFwZVxuICAgICAqIEByZXR1cm5zIGEgcG9seXNoYXBlIG9mIHRoZSBzYW1lIHR5cGVcbiAgICAgKi9cbiAgICBjb250ZXh0dWFsaXNlUG9seXNoYXBlPFQgZXh0ZW5kcyBQb2x5U2hhcGU+KHBvbHlzaGFwZTogVCk6IFRcbiAgICB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmdldENhbm9uaWNhbFBvc2l0aW9uKCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLmdldERpbWVuc2lvbigpO1xuICAgICAgICBsZXQgcG9pbnRzID0gW107XG4gICAgICAgIGxldCB4ID0gdHJ1ZTtcbiAgICAgICAgcG9seXNoYXBlLnBvaW50cy5mb3JFYWNoKHAgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChuZXcgUG9pbnQocC54ICogZGltLndpZHRoICsgcG9zLngsIHAueSpkaW0uaGVpZ2h0ICsgcG9zLnkpKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldCBwID0gcG9seXNoYXBlLmNsb25lKHBvaW50cylcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgZ2V0Q2Fub25pY2FsUmVjdCgpOiBQb2x5UmVjdFxuICAgIHtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMuZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIHJldHVybiBuZXcgUG9seVJlY3QoW25ldyBQb2ludChwb3MueCwgcG9zLnkpLCBuZXcgUG9pbnQocG9zLngrZGltLndpZHRoLCBwb3MueSksIG5ldyBQb2ludChwb3MueCtkaW0ud2lkdGgsIHBvcy55K2RpbS5oZWlnaHQpLCBuZXcgUG9pbnQocG9zLngsIHBvcy55K2RpbS5oZWlnaHQpXSlcbiAgICB9XG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgdG90YWxtZW0sIGxvYWRhdmcgfSBmcm9tIFwib3NcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFRyZWVVdGlsc1xue1xuICAgIC8qKlxuICAgICogUmVjdXJzaXZlbHkgc2VhY2ggdGhyb3VnaCB0aGlzIEdhbWVPYmplY3Qgc3VidHJlZSBhbmQgcmV0dXJuIGEgbGlzdCBvZlxuICAgICogR2FtZU9iamVjdHMgdGhhdCBhcmUgYW4gaW5zdGFuY2Ugb2YgdGhlIHByb3ZpZGUgdHlwZVxuICAgICogQHBhcmFtIHR5cGUgYSBsaXN0IG9mIEdhbWVPYmplY3RzIG9mIHRoaXMgdHlwZSB3aWxsIGJlIHJldHVybmVkXG4gICAgKi9cbiAgICBzdGF0aWMgZmluZENoaWxkcmVuT2ZUeXBlKHBhcmVudDogR2FtZU9iamVjdCwgdHlwZSwgcmVjdXJzaXZlOiBib29sZWFuKTogR2FtZU9iamVjdFtdXG4gICAge1xuICAgICAgICByZWN1cnNpdmUgPSByZWN1cnNpdmUgfHwgZmFsc2U7XG4gICAgICAgIGxldCByZXN1bHRzOiBHYW1lT2JqZWN0W10gPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTxwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbltpXSBpbnN0YW5jZW9mIHR5cGUpXG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHBhcmVudC5jaGlsZHJlbltpXSk7XG4gICAgICAgICAgICBpZiAocmVjdXJzaXZlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZFJlc3VsdCA9IFRyZWVVdGlscy5maW5kQ2hpbGRyZW5PZlR5cGUocGFyZW50LmNoaWxkcmVuW2ldLHR5cGUsIHJlY3Vyc2l2ZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KGNoaWxkUmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBzZWFjaCB0aHJvdWdoIHRoaXMgR2FtZU9iamVjdCBzdWJ0cmVlIGFuZCByZXR1cm4gYSBsaXN0IG9mXG4gICAgICogR2FtZU9iamVjdHMgdGhhdCBoYXZlIGEgcHJvdmlkZWQgbmFtZS5cbiAgICAgKiBAcGFyYW0gbmFtZSBhIGxpc3Qgb2YgR2FtZU9iamVjdHMgd2l0aCB0aGlzIG5hbWUgd2lsbCBiZSByZXR1cm5lZFxuICAgICAqL1xuICAgIHN0YXRpYyBmaW5kQ2hpbGRyZW5XaXRoTmFtZShwYXJlbnQ6IEdhbWVPYmplY3QsIG5hbWU6IHN0cmluZywgcmVjdXJzaXZlOiBib29sZWFuKTogR2FtZU9iamVjdFtdXG4gICAge1xuICAgICAgICByZWN1cnNpdmUgPSByZWN1cnNpdmUgfHwgZmFsc2U7XG4gICAgICAgIGxldCByZXN1bHRzOiBHYW1lT2JqZWN0W10gPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTxwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKChwYXJlbnQuY2hpbGRyZW5baV0ubmFtZSkgJiYgKHBhcmVudC5jaGlsZHJlbltpXS5uYW1lID09PSBuYW1lKSlcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocGFyZW50LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIGlmIChyZWN1cnNpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkUmVzdWx0ID0gVHJlZVV0aWxzLmZpbmRDaGlsZHJlbldpdGhOYW1lKHBhcmVudC5jaGlsZHJlbltpXSxuYW1lLCByZWN1cnNpdmUpO1xuICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChjaGlsZFJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgc3RhdGljIG1vdmVDaGlsZFRvRmlyc3QocGFyZW50OiBHYW1lT2JqZWN0LCBjaGlsZDogR2FtZU9iamVjdCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UocGFyZW50LmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpLCAxKTtcbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLnVuc2hpZnQoY2hpbGQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtb3ZlQ2hpbGRUb0xhc3QocGFyZW50OiBHYW1lT2JqZWN0LCBjaGlsZDogR2FtZU9iamVjdCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UocGFyZW50LmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpLCAxKTtcbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdWJ0cmVlTG9hZFN0YXRzKHJvb3Q6IEdhbWVPYmplY3QpOiBTdWJ0cmVlTG9hZFN0YXRzXG4gICAge1xuICAgICAgICBsZXQgciA9IFRyZWVVdGlscy5fc3VidHJlZUxvYWRTdGF0c0lubmVyKHJvb3QpO1xuICAgICAgICByZXR1cm4gbmV3IFN1YnRyZWVMb2FkU3RhdHMoclswXSwgclsxXSwgclsyXSwgclszXSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3N1YnRyZWVMb2FkU3RhdHNJbm5lcihyb290OiBHYW1lT2JqZWN0KTogbnVtYmVyW11cbiAgICB7XG4gICAgICAgIGxldCB0b3RhbCA9IDE7XG4gICAgICAgIGxldCBsb2FkZWQgPSByb290LmxvYWRlZCA/IDEgOiAwO1xuICAgICAgICBsZXQgYXNzZXRzVG90YWwgPSByb290LmFzc2V0cy5sZW5ndGg7XG4gICAgICAgIGxldCBhc3NldHNMb2FkZWQgPSByb290LmFzc2V0cy5maWx0ZXIoYSA9PiBhLmxvYWRlZCkubGVuZ3RoO1xuICAgICAgICByb290LmNoaWxkcmVuLmZvckVhY2goYyA9PiBcbiAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBUcmVlVXRpbHMuX3N1YnRyZWVMb2FkU3RhdHNJbm5lcihjKTtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSByWzBdO1xuICAgICAgICAgICAgICAgIGxvYWRlZCArPSByWzFdO1xuICAgICAgICAgICAgICAgIGFzc2V0c1RvdGFsICs9IHJbMl07XG4gICAgICAgICAgICAgICAgYXNzZXRzTG9hZGVkICs9IHJbM107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFt0b3RhbCwgbG9hZGVkLCBhc3NldHNUb3RhbCwgYXNzZXRzTG9hZGVkXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJ0cmVlTG9hZFN0YXRzXG57XG4gICAgdG90YWw6IG51bWJlcjtcbiAgICBsb2FkZWQ6IG51bWJlcjtcbiAgICBhc3NldHNUb3RhbDogbnVtYmVyO1xuICAgIGFzc2V0c0xvYWRlZDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IodG90YWw6IG51bWJlciwgbG9hZGVkOiBudW1iZXIsIGFzc2V0c1RvdGFsOiBudW1iZXIsIGFzc2V0c0xvYWRlZDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy50b3RhbCA9IHRvdGFsO1xuICAgICAgICB0aGlzLmxvYWRlZCA9IGxvYWRlZDtcbiAgICAgICAgdGhpcy5hc3NldHNUb3RhbCA9IGFzc2V0c1RvdGFsO1xuICAgICAgICB0aGlzLmFzc2V0c0xvYWRlZCA9IGFzc2V0c0xvYWRlZDtcbiAgICB9XG5cbiAgICBnZXQgcHJvcG9ydGlvbigpIHsgcmV0dXJuIHRoaXMubG9hZGVkL3RoaXMudG90YWw7IH1cbiAgICBnZXQgYXNzZXRzUHJvcG9ydGlvbigpIHsgcmV0dXJuIHRoaXMuYXNzZXRzTG9hZGVkL3RoaXMuYXNzZXRzVG90YWw7IH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuXG4vKipcbiAqIFRoZSBDb21wb25lbnQgYSBraW5kIG9mIEdhbWVPYmplY3QgdGhhdCBjYW4gYmUgY29udHJvbGxlZCBpbmRpcmVjdGx5XG4gKiB0aHJvdWdoIGEgQHNlZSBDb21wb25lbnRMaXN0ZW5lciBhbmQgYSBAc2VlIENvbXBvbmVudENvbnRyb2xsZXIuIENvbXBvbmVudHMgYXJlXG4gKiB0byBsZXQgb25lIHRpZ2h0bHktY291cGxlZCBzdWJ0cmVlIG9mIEdhbWVPYmplY3RzIHRvIGludGVyYWN0IHdpdGhcbiAqIGFub3RoZXIgd2l0aCBtaW5pbWFsIGNvdXBsaW5nLiBCZWNhdXNlIG9ubHkgdGhlIGxpc3RlbmVyIGFuZCBjb250cm9sbGVyXG4gKiAod2hpY2ggY2FuIGJlIGdyb3VwZWQgYXMgYSBAc2VlIENvbXBvbmVudEludGVyZmFjZSkgbmVlZCB0byBiZSBwYXNzZWQgYXJvdW5kLFxuICogdGhlIENvbXBvbmVudCBpdHNlbGYgY2FuIGJlIGRlc3Ryb3llZCwgYW5kIGV2ZW4gcmVwbGFjZWQgd2l0aCBhbm90aGVyIGNvbXBhdGFibGVcbiAqIENvbXBvbmVudC5cbiAqIFxuICogRm9yIGV4YW1wbGUsIGEgdXNlciBpbnRlcmZhY2UgcGFuZWwgbWF5IGJlIGltcGxlbWVudGVkIGFzIGEgQ29tcG9uZW50IHdoaWNoXG4gKiBjb250YWlucyBhIHN1YnRyZWUgb2YgbWFueSBHYW1lT2JqZWN0cyBjb250cm9sbGluZyBob3cgaXQgaXMgZHJhd24sIHVwZGF0ZWQsXG4gKiBldGMuIFRoZSBDb21wb25lbnQsIHRocm91Z2ggaXRzIGxpc3RuZXIgYW5kIGNvbnRyb2xsZXIgb2ZmZXJzIGEgc2V0IG9mIGV2ZW50c1xuICogdGhhdCBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBjb21wb25lbnQgYW5kIHJlY2lldmUgc2lnbmFscyBiYWNrIGZyb20gaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQ8TCBleHRlbmRzIENvbXBvbmVudExpc3RlbmVyLCBDIGV4dGVuZHMgQ29tcG9uZW50Q29udHJvbGxlcj4gZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkNvbXBvbmVudFwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX2xpc3RlbmVyOiBMO1xuICAgIHByb3RlY3RlZCBfY29udHJvbGxlcjogQztcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBsaXN0ZW5lcjogTCwgY29udHJvbGxlcjogQylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG5cbiAgICBhZnRlckNyZWF0ZSgpIHsgdGhpcy5saW5rKHRoaXMuY29udHJvbGxlcik7IH1cblxuICAgIGdldCBsaXN0ZW5lcigpOiBMIHsgcmV0dXJuIHRoaXMuX2xpc3RlbmVyOyB9XG4gICAgZ2V0IGNvbnRyb2xsZXIoKTogQyB7IHJldHVybiB0aGlzLl9jb250cm9sbGVyOyB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy51bmxpbmsodGhpcy5jb250cm9sbGVyKTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3lGcm9tQ29udHJvbGxlcigpXG4gICAge1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgfVxuXG4gICAgbGluayhjb250cm9sbGVyOiBDKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29udHJvbGxlci5vbkRlc3Ryb3kucHVzaCh0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdW5saW5rKGNvbnRyb2xsZXI6IEMpOiB2b2lkXG4gICAge1xuICAgICAgICBjb250cm9sbGVyLm9uRGVzdHJveS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXdJbnRlcmZhY2UoKTogQ29tcG9uZW50SW50ZXJmYWNlPENvbXBvbmVudExpc3RlbmVyLCBDb21wb25lbnRDb250cm9sbGVyPiB7IHJldHVybiBuZXcgQ29tcG9uZW50SW50ZXJmYWNlKG5ldyBDb21wb25lbnRMaXN0ZW5lcigpLCBuZXcgQ29tcG9uZW50Q29udHJvbGxlcigpKTsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50TGlzdGVuZXIge31cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudENvbnRyb2xsZXIgaW1wbGVtZW50cyBJdGVyYXRvcjxFdmVudD5cbntcbiAgICBwcml2YXRlIF9jb3VudGVyID0gMDtcbiAgICBwcm90ZWN0ZWQgX29uRGVzdHJveSA9IG5ldyBFdmVudCgpO1xuXG4gICAgZ2V0IG9uRGVzdHJveSgpIHsgcmV0dXJuIHRoaXMuX29uRGVzdHJveTsgfVxuXG4gICAgbmV4dCgpOiBJdGVyYXRvclJlc3VsdDxFdmVudD4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5vbkRlc3Ryb3lcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudEludGVyZmFjZTxMIGV4dGVuZHMgQ29tcG9uZW50TGlzdGVuZXIsIEMgZXh0ZW5kcyBDb21wb25lbnRDb250cm9sbGVyPlxue1xuICAgIHByb3RlY3RlZCBfbGlzdGVuZXI6IEw7XG4gICAgcHJvdGVjdGVkIF9jb250cm9sbGVyOiBDO1xuXG4gICAgY29uc3RydWN0b3IobGlzdGVuZXI6IEwsIGNvbnRyb2xsZXI6IEMpXG4gICAge1xuICAgICAgICB0aGlzLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG5cbiAgICBnZXQgbGlzdGVuZXIoKTogTCB7IHJldHVybiB0aGlzLl9saXN0ZW5lcjsgfVxuICAgIGdldCBjb250cm9sbGVyKCk6IEMgeyByZXR1cm4gdGhpcy5fY29udHJvbGxlcjsgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb250cm9sbGVyLCBDb21wb25lbnRJbnRlcmZhY2UsIENvbXBvbmVudExpc3RlbmVyIH0gZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4uL3V0aWwvRXZlbnRcIjsgXG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgRnJhbWU8RkwgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyLCBGQyBleHRlbmRzIEZyYW1lQ29udHJvbGxlcj4gZXh0ZW5kcyBDb21wb25lbnQ8RkwsIEZDPlxue1xuICAgIHByb3RlY3RlZCBfY2hpbGRGcmFtZUNvbnRyb2xsZXJzOiBGcmFtZUNvbnRyb2xsZXJbXSA9IFtdO1xuICAgIHByb3RlY3RlZCBfaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9hd2FpdGluZ09wZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGxpc3RlbmVyOiBGTCwgY29udHJvbGxlcjogRkMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBldmVudExvZ2dlci5hZGRWYXJpYWJsZVBhdGhzKFwibGlzdGVuZXIub25PcGVuXCIsIFwibGlzdGVuZXIub25PcGVuXCIsIFwibGlzdGVuZXIub25SZWFkeVwiLCBcImxpc3RlbmVyLm9uQ2xvc2luZ1wiLCBcImxpc3RlbmVyLm9uQ2xvc2VcIiwgXCJjb250cm9sbGVyLm9uT3BlblwiLCBcImNvbnRyb2xsZXIub25SZWFkeVwiLCBcImNvbnRyb2xsZXIub25DbG9zaW5nXCIsIFwiY29udHJvbGxlci5vbkNsb3NlXCIpO1xuICAgIH0qL1xuXG4gICAgZ2V0IGF3YWl0aW5nT3BlbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2F3YWl0aW5nT3BlbjsgfVxuXG4gICAgZ2V0IGlzT3BlbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2lzT3BlbjsgfVxuICAgIHNldCBpc09wZW4odmFsKSB7IHRoaXMuX2lzT3BlbiA9IHZhbDsgfVxuXG4gICAgYWRkRnJhbWUoZnJhbWUpXG4gICAge1xuICAgICAgICB0aGlzLm9uQWRkRnJhbWUoZnJhbWUpO1xuICAgICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuXG4gICAgb25BZGRGcmFtZShmcmFtZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX2NoaWxkRnJhbWVDb250cm9sbGVycy5wdXNoKGZyYW1lLmNvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIHN3aXRjaFRvRnJhbWUoZnJhbWVDb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKGZyYW1lQ29udHJvbGxlci5vbk9wZW4pO1xuICAgIH1cblxuICAgIGFmdGVyQ3JlYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmFmdGVyQ3JlYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLmF3YWl0aW5nT3BlbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgICB0aGlzLl9hd2FpdGluZ09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uT3BlbiguLi5hcmdzKTogdm9pZCB7IH1cblxuICAgIG9wZW4oLi4uYXJncyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vbk9wZW4oLi4uYXJncyk7XG4gICAgICAgICAgICAvL3RoaXMuZG9SZWNyZWF0ZSguLi5hcmdzKTtcbiAgICAgICAgICAgIEV2ZW50LmNhbGwodGhpcy5saXN0ZW5lci5vbk9wZW4sIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2F3YWl0aW5nT3BlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVhZHkoLi4uYXJncylcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vblJlYWR5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgRXZlbnQuY2FsbCh0aGlzLmxpc3RlbmVyLm9uUmVhZHksIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2F3YWl0aW5nT3BlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgb25SZWFkeSguLi5hcmdzKSB7IH1cbiAgICBvbkNsb3NpbmcoLi4uYXJncykgeyB0aGlzLmNsb3NlKCk7IH1cblxuICAgIG9uQ2xvc2UoLi4uYXJncykgeyB9XG5cbiAgICBjbG9zZSguLi5hcmdzKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLmlzT3BlbikgJiYgKHRoaXMuY3JlYXRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvL3RoaXMuZG9EZWNyZWF0ZSguLi5hcmdzKTtcbiAgICAgICAgICAgIEV2ZW50LmNhbGwodGhpcy5saXN0ZW5lci5vbkNsb3NlLCAgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKmRlY3JlYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIH0qL1xuXG4gICAgbGluayhjb250cm9sbGVyOiBGQyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmxpbmsoY29udHJvbGxlcik7XG4gICAgICAgIGNvbnRyb2xsZXIub25PcGVuLnB1c2godGhpcy5vcGVuLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uUmVhZHkucHVzaCh0aGlzLm9uUmVhZHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25DbG9zaW5nLnB1c2godGhpcy5vbkNsb3NpbmcuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25DbG9zZS5wdXNoKHRoaXMuY2xvc2UuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25BZGRGcmFtZS5wdXNoKHRoaXMub25BZGRGcmFtZS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICB1bmxpbmsoY29udHJvbGxlcjogRkMpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci51bmxpbmsoY29udHJvbGxlcik7XG4gICAgICAgIGNvbnRyb2xsZXIub25PcGVuLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25SZWFkeS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uQ2xvc2luZy51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uQ2xvc2UudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgY29udHJvbGxlci5vbkFkZEZyYW1lLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkZyYW1lXCI7IH1cblxuICAgIHN0YXRpYyBuZXdJbnRlcmZhY2UoKTogQ29tcG9uZW50SW50ZXJmYWNlPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj4geyByZXR1cm4gbmV3IENvbXBvbmVudEludGVyZmFjZShuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCkpOyB9XG59XG5cbmV4cG9ydCBjbGFzcyBGcmFtZUxpc3RlbmVyIGV4dGVuZHMgQ29tcG9uZW50TGlzdGVuZXJcbntcbiAgICBwcml2YXRlIF9vbk9wZW46IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25SZWFkeTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICBwcml2YXRlIF9vbkNsb3Npbmc6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25DbG9zZTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcblxuICAgIGdldCBvbk9wZW4oKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25PcGVuOyB9XG4gICAgZ2V0IG9uUmVhZHkoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25SZWFkeTsgfVxuICAgIGdldCBvbkNsb3NpbmcoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zaW5nOyB9XG4gICAgZ2V0IG9uQ2xvc2UoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zZTsgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBGcmFtZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb21wb25lbnRDb250cm9sbGVyXG57XG4gICAgcHJpdmF0ZSBfb25PcGVuOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByaXZhdGUgX29uUmVhZHk6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25DbG9zaW5nOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByaXZhdGUgX29uQ2xvc2U6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25BZGRGcmFtZTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcblxuICAgIGdldCBvbk9wZW4oKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25PcGVuOyB9XG4gICAgZ2V0IG9uUmVhZHkoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25SZWFkeTsgfVxuICAgIGdldCBvbkNsb3NpbmcoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zaW5nOyB9XG4gICAgZ2V0IG9uQ2xvc2UoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zZTsgfVxuICAgIGdldCBvbkFkZEZyYW1lKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uQWRkRnJhbWU7IH1cbn1cbiIsImltcG9ydCB7IENvbnZleFBvbHlnb24sIFBvbHlFZGdlIH0gZnJvbSBcIi4uL3V0aWwvUG9seVNoYXBlXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uL3V0aWwvUG9pbnRcIjtcblxuZXhwb3J0IGNsYXNzIEludGVyc2VjdGlvblxue1xuICAgIHBvaW50OiBQb2ludDtcbiAgICBlZGdlOiBQb2x5RWRnZTtcbiAgICBwcml2YXRlIF9kZXB0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3Byb3BvcnRpb25PZkRpc3BsYWNlbWVudEludGVyc2VjdGluZzogbnVtYmVyO1xuXG4gICAgZ2V0IGRlcHRoKCkgeyByZXR1cm4gdGhpcy5fZGVwdGg7IH1cbiAgICBnZXQgcHJvcG9ydGlvbk9mRGlzcGFjZW1lbnRJbnRlcnNlY3RpbmcoKSB7IHJldHVybiB0aGlzLl9wcm9wb3J0aW9uT2ZEaXNwbGFjZW1lbnRJbnRlcnNlY3Rpbmc7IH1cbiAgICBzZXQgZGVwdGgodmFsKSB7IHRoaXMuX2RlcHRoID0gdmFsOyB9XG4gICAgc2V0IHByb3BvcnRpb25PZkRpc3BhY2VtZW50SW50ZXJzZWN0aW5nKHZhbCkgeyB0aGlzLl9wcm9wb3J0aW9uT2ZEaXNwbGFjZW1lbnRJbnRlcnNlY3RpbmcgPSB2YWw7IH1cblxuICAgIGFuZ2xlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb2ludDogUG9pbnQsIGVkZ2U6IFBvbHlFZGdlKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLmVkZ2UgPSBlZGdlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWdvbkNvbGxpc2lvblxue1xuICAgIHByaXZhdGUgX3BvbHlnb24xOiBDb252ZXhQb2x5Z29uO1xuICAgIHByaXZhdGUgX3BvbHlnb24yOiBDb252ZXhQb2x5Z29uO1xuXG4gICAgY29uc3RydWN0b3IocG9seWdvbjE6IENvbnZleFBvbHlnb24sIHBvbHlnb24yOiBDb252ZXhQb2x5Z29uKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcG9seWdvbjEgPSBwb2x5Z29uMTtcbiAgICAgICAgdGhpcy5fcG9seWdvbjIgPSBwb2x5Z29uMjtcbiAgICB9XG4gICAgXG4gICAgaW50ZXJzZWN0cygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9seWdvbjEuaW50ZXJzZWN0cyh0aGlzLl9wb2x5Z29uMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBtaW5pbXVtIHByb2plY3Rpb24sIHRoZSB2ZWN0b3IgdGhhdCBjYW4gc2VwYXJhdGUgdGhlIHR3byBvYmplY3RzXG4gICAgICogd2l0aCB0aGUgc2hvcnRlc3QgcG9zc2libGUgbW92ZW1lbnQuXG4gICAgICovXG4gICAgZ2V0UHJvamVjdGlvbigpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IGF4ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX3BvbHlnb24xLmVkZ2VzLmZvckVhY2goZSA9PiBheGVzLmFkZChlLnZlY3Rvci5yb3RhdGUoTWF0aC5QSS8yKS5ub3JtYWxpc2VkKSlcbiAgICAgICAgdGhpcy5fcG9seWdvbjIuZWRnZXMuZm9yRWFjaChlID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBuZXdBeGlzID0gZS52ZWN0b3Iucm90YXRlKE1hdGguUEkvMikubm9ybWFsaXNlZDtcbiAgICAgICAgICAgICAgICBsZXQgZHVwbGljYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXhlcy5mb3JFYWNoKGEgPT4gXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKFBvaW50LmVxdWFscyhhLCBuZXdBeGlzKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCEoZHVwbGljYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgYXhlcy5hZGQobmV3QXhpcylcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBwMU1heERpc3BsYWNlbWVudFBlckF4aXMgPSBbXTtcbiAgICAgICAgbGV0IHAxTWluRGlzcGxhY2VtZW50UGVyQXhpcyA9IFtdO1xuICAgICAgICBsZXQgcDJNYXhEaXNwbGFjZW1lbnRQZXJBeGlzID0gW107XG4gICAgICAgIGxldCBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXMgPSBbXTtcbiAgICAgICAgYXhlcy5mb3JFYWNoKChhLCBpKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgbGV0IHAxID0gdGhpcy5fcG9seWdvbjEucG9pbnRzLm1hcCh4ID0+IHgucHJvamVjdGlvbkluKGEpKTtcbiAgICAgICAgICAgIGxldCBwMiA9IHRoaXMuX3BvbHlnb24yLnBvaW50cy5tYXAoeCA9PiB4LnByb2plY3Rpb25JbihhKSk7XG4gICAgICAgICAgICBwMU1heERpc3BsYWNlbWVudFBlckF4aXMucHVzaChNYXRoLm1heCguLi5wMSkpO1xuICAgICAgICAgICAgcDFNaW5EaXNwbGFjZW1lbnRQZXJBeGlzLnB1c2goTWF0aC5taW4oLi4ucDEpKTtcbiAgICAgICAgICAgIHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpcy5wdXNoKE1hdGgubWF4KC4uLnAyKSk7XG4gICAgICAgICAgICBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXMucHVzaChNYXRoLm1pbiguLi5wMikpO1xuICAgICAgICAgICAgaWYgKCEoKHAxTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSA+IHAyTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXSkgJiYgKHAxTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXSA8IHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGF4aXM6IFBvaW50O1xuICAgICAgICBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGF4ZXMuZm9yRWFjaCgoYXgsaSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGEgPSBwMU1heERpc3BsYWNlbWVudFBlckF4aXNbaV0gLSBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXNbaV07XG4gICAgICAgICAgICBsZXQgYiA9IHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSAtIHAxTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhhKSA8PSBNYXRoLmFicyhiKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQpIHx8IHZhbHVlID4gTWF0aC5hYnMoYSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBheGlzID0gUG9pbnQubWludXMoYXhlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5hYnMoYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCkgfHwgdmFsdWUgPiBNYXRoLmFicyhiKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMgPSBheGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguYWJzKGIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuIFBvaW50Lm11bHRpcGx5KGF4aXMsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vR2V0IGF4aXMgcGVycGVuZGljdWxhciB0byBlYWNoIGVkZ2VcbiAgICAgICAgLy9DaGVjayBlYWNoIGF4aXMgdG8gc2VlIHRvIHdoYXQgZGVncmVlIHRoZSBzaGFwZXMgb3ZlcmxhcCBvbiB0aGF0IGF4aXNcbiAgICAgICAgLy9UaGVuIHlvdSBrbm93IGhvdyBmYXIgYmFjayB0byBwdXNoIHRoZSBvYmplY3QsIGFuZCBpbiB3aGF0IGRpcmVjdGlvbi5cblxuICAgICAgICAvL21vcmU6IGh0dHA6Ly93d3cubWV0YW5ldHNvZnR3YXJlLmNvbS90ZWNobmlxdWUvdHV0b3JpYWxBLmh0bWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgcG9pbnQgYXQgd2hpY2ggdGhlIHR3byBwb2x5Y29ucyBjb2xsaWRlZCBiYXNlZCBvbiB0aGUgdmVsb2NpdGllcyBvZiB0aGUgb2JqZWN0c1xuICAgICAqIChhbmQgcG9zc2libHkgdGhlaXIgYWNjZWxlcmF0aW9ucyE/KVxuICAgICAqL1xuICAgIGdldEludGVyc2VjdGlvbihwb2x5Z29uMURpc3BsYWNlbWVudDogUG9pbnQpOiBJbnRlcnNlY3Rpb25cbiAgICB7XG4gICAgICAgIGlmIChwb2x5Z29uMURpc3BsYWNlbWVudC5pc1plcm8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBsZXQgbGVhZGluZ1BvaW50ID0gdGhpcy5fcG9seWdvbjEubWF4aW11bVByb2plY3Rpb25PblZlY3Rvcihwb2x5Z29uMURpc3BsYWNlbWVudCk7XG4gICAgICAgIGxldCBzdGFydCA9IFBvaW50Lm1pbnVzKGxlYWRpbmdQb2ludCwgcG9seWdvbjFEaXNwbGFjZW1lbnQpO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IHRoaXMuX3BvbHlnb24yLmludGVyc2VjdGlvbnNXaXRoRWRnZShzdGFydCxsZWFkaW5nUG9pbnQpO1xuXG4gICAgICAgIGxldCBzbWFsbGVzdERpc3RhbmNlOiBudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBmaXJzdEludGVyc2VjdGlvbjogSW50ZXJzZWN0aW9uO1xuICAgICAgICBpbnRlcnNlY3Rpb25zLmZvckVhY2goaSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBkID0gUG9pbnQubWludXMoaS5wb2ludCxzdGFydCkubWFnbml0dWRlO1xuICAgICAgICAgICAgICAgIGlmICgoc21hbGxlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkKSB8fCAoZCA8IHNtYWxsZXN0RGlzdGFuY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaXN0YW5jZSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0SW50ZXJzZWN0aW9uID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGlmIChmaXJzdEludGVyc2VjdGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgZmlyc3RJbnRlcnNlY3Rpb24uZGVwdGggPSBQb2ludC5taW51cyhsZWFkaW5nUG9pbnQsIGZpcnN0SW50ZXJzZWN0aW9uLnBvaW50KS5tYWduaXR1ZGU7XG4gICAgICAgICAgICBmaXJzdEludGVyc2VjdGlvbi5wcm9wb3J0aW9uT2ZEaXNwYWNlbWVudEludGVyc2VjdGluZyA9IGZpcnN0SW50ZXJzZWN0aW9uLmRlcHRoL3BvbHlnb24xRGlzcGxhY2VtZW50Lm1hZ25pdHVkZTtcbiAgICAgICAgICAgIGxldCBldiA9IGZpcnN0SW50ZXJzZWN0aW9uLmVkZ2UudmVjdG9yO1xuICAgICAgICAgICAgZmlyc3RJbnRlcnNlY3Rpb24uYW5nbGUgPSBQb2ludC5hbmdsZUJldHdlZW4ocG9seWdvbjFEaXNwbGFjZW1lbnQsIGV2KTtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdEludGVyc2VjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuXG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRocmVlQnVmZmVyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfcmVuZGVyZXI7XG4gICAgcHJvdGVjdGVkIF9jYW52YXM7XG4gICAgcHJvdGVjdGVkIF9kcmF3UmVxdWVzdGVkOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfb2xkRGltZW5zaW9uOiBQaXhlbERpbWVuc2lvbjtcbiAgICBkZWJ1Z0Rpc2FibGVDYWNoZTogYm9vbGVhbjtcbiAgICBwcm90ZWN0ZWQgX3BpeGVsUmF0aW86IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2hhc0FscGhhQ2hhbmVsOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9jYW1lcmFVcGRhdGVSZXF1aXJlZDogYm9vbGVhbjtcbiAgICBcbiAgICBnZXQgY2FudmFzKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzOyB9XG4gICAgZ2V0IHJlbmRlcmVyKCkgeyByZXR1cm4gdGhpcy5fcmVuZGVyZXI7IH1cbiAgICBnZXQgY2FtZXJhVXBkYXRlUmVxdWlyZWQoKSB7IHJldHVybiB0aGlzLl9jYW1lcmFVcGRhdGVSZXF1aXJlZDsgfVxuXG4gICAgZ2V0IGhhc0FscGhhQ2hhbmVsKCkgeyByZXR1cm4gdGhpcy5faGFzQWxwaGFDaGFuZWw7IH1cbiAgICBzZXQgaGFzQWxwaGFDaGFuZWwodmFsKSB7dGhpcy5faGFzQWxwaGFDaGFuZWwgPSB2YWw7IH1cblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgfVxuICAgIFxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnJlc2l6ZUNhbnZhcyh0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IHRoaXMuX3JlbmRlcmVyLmRvbUVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBiZWdpbigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5faGFzUmVzaXplZCgpIHx8IHRoaXMuX2hhc0RldmljZVBpeGVsUmF0aW9DaGFuZ2VkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplQ2FudmFzKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24sIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmRlYnVnRGlzYWJsZUNhY2hlKVxuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIGRvRHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgaW50ZXJmYWNlcywgd2ViR0w/OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsICk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICgodGhpcy5jcmVhdGVkKSAmJiAodGhpcy52aXNpYmxlKSAmJiAodGhpcy50cmFuc2Zvcm0pICYmICh0aGlzLm9wYWNpdHkgPiAwKSAmJiAodGhpcy50cmFuc2Zvcm0uaGFzUG9zaXRpb24oKSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByb3RhdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucm90YXRpb24gJSAyKk1hdGguUEkgIT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcm90YXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLmdldERyYXdQb3NpdGlvbigwLjUsMC41KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQyRC50cmFuc2xhdGUocG9zLngsIHBvcy55KVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5yb3RhdGUodGhpcy50cmFuc2Zvcm0ucm90YXRpb24pO1xuICAgICAgICAgICAgICAgIGNvbnRleHQyRC50cmFuc2xhdGUoLXBvcy54LCAtcG9zLnkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc3RhcnRpbmdPcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGlmIChjb250ZXh0MkQpXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdPcGFjaXR5ID0gdGhpcy5fc2V0RHJhd2luZ09wYWNpdHkoY29udGV4dDJEKTtcbiAgICAgICAgICAgIHRoaXMuZHJhdyhjb250ZXh0MkQsIGludGVyZmFjZXMsIHdlYkdMKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKVxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZG9EcmF3KHRoaXMucmVuZGVyZXIsIGludGVyZmFjZXMpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQyRClcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRpbmdPcGFjaXR5ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQyRC5nbG9iYWxBbHBoYSA9IHN0YXJ0aW5nT3BhY2l0eTtcbiAgICAgICAgICAgIGlmIChyb3RhdGVkKVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBpbnRlcmZhY2VzLCB3ZWJHTClcbiAgICB7XG4gICAgICAgIGlmIChjb250ZXh0MkQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgICAgICBsZXQgZGltID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgICAgIGNvbnRleHQyRC5kcmF3SW1hZ2UodGhpcy5fY2FudmFzLCAwLDAsIE1hdGgucm91bmQoZGltLndpZHRoKSAqIHRoaXMuX3BpeGVsUmF0aW8sIE1hdGgucm91bmQoZGltLmhlaWdodCkgKiB0aGlzLl9waXhlbFJhdGlvLCBNYXRoLnJvdW5kKHBvcy54KSwgTWF0aC5yb3VuZChwb3MueSksIE1hdGgucm91bmQoZGltLndpZHRoKSwgTWF0aC5yb3VuZChkaW0uaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbnRlcmZhY2VzKGludGVyZmFjZXMpXG4gICAge1xuICAgICAgICBpbnRlcmZhY2VzW1widGhyZWVSZW5kZXJlclwiXSA9IHRoaXMuX3JlbmRlcmVyO1xuICAgICAgICBpbnRlcmZhY2VzW1wiY2FtZXJhVXBkYXRlUmVxdWlyZWRcIl0gPSB0aGlzLl9jYW1lcmFVcGRhdGVSZXF1aXJlZDtcbiAgICAgICAgdGhpcy5fY2FtZXJhVXBkYXRlUmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGludGVyZmFjZXM7XG4gICAgfVxuXG4gICAgcmVzaXplQ2FudmFzKGRpbTogRGltZW5zaW9uLCBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9waXhlbFJhdGlvID0gZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U2l6ZShkaW0ud2lkdGggKiB0aGlzLl9waXhlbFJhdGlvLCBkaW0uaGVpZ2h0ICogdGhpcy5fcGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMuX29sZERpbWVuc2lvbiA9IG5ldyBEaW1lbnNpb24oZGltLndpZHRoLCBkaW0uaGVpZ2h0KTtcbiAgICB9XG5cbiAgICByZXF1ZXN0RHJhdygpXG4gICAge1xuICAgICAgICB0aGlzLl9kcmF3UmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5kaXNwb3NlKCk7XG4gICAgICAgIC8vdGhpcy5kaXNwb3NlSGllcmFyY2h5KHRoaXMuc2NlbmUsIHRoaXMuZGlzcG9zZU5vZGUpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfaGFzUmVzaXplZCgpXG4gICAge1xuICAgICAgICBsZXQgZGltID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgcmV0dXJuICgodGhpcy5fb2xkRGltZW5zaW9uLndpZHRoICE9PSBkaW0ud2lkdGgpIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuX29sZERpbWVuc2lvbi5oZWlnaHQgIT09IGRpbS5oZWlnaHQpKVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBfaGFzRGV2aWNlUGl4ZWxSYXRpb0NoYW5nZWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BpeGVsUmF0aW8gIT09IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgIH1cblxuICAgIGRpc3Bvc2VOb2RlKG5vZGUpXG4gICAge1xuICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChub2RlLmdlb21ldHJ5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5vZGUuZ2VvbWV0cnkuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwgaW5zdGFuY2VvZiBUSFJFRS5NZXNoRmFjZU1hdGVyaWFsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5tYXRlcmlhbC5tYXRlcmlhbHMuZm9yRWFjaCgobXRybCwgaWR4KSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXRybC5tYXApICAgICAgICAgICBtdHJsLm1hcC5kaXNwb3NlICgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10cmwubGlnaHRNYXApICAgICAgbXRybC5saWdodE1hcC5kaXNwb3NlICgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10cmwuYnVtcE1hcCkgICAgICAgbXRybC5idW1wTWFwLmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXRybC5ub3JtYWxNYXApICAgICBtdHJsLm5vcm1hbE1hcC5kaXNwb3NlICgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10cmwuc3BlY3VsYXJNYXApICAgbXRybC5zcGVjdWxhck1hcC5kaXNwb3NlICgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10cmwuZW52TWFwKSAgICAgICAgbXRybC5lbnZNYXAuZGlzcG9zZSAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbXRybC5kaXNwb3NlICgpOyAgICAvLyBkaXNwb3NlcyBhbnkgcHJvZ3JhbXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXRlcmlhbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwubWFwKSAgICAgICAgICBub2RlLm1hdGVyaWFsLm1hcC5kaXNwb3NlICgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5tYXRlcmlhbC5saWdodE1hcCkgICAgIG5vZGUubWF0ZXJpYWwubGlnaHRNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwuYnVtcE1hcCkgICAgICBub2RlLm1hdGVyaWFsLmJ1bXBNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwubm9ybWFsTWFwKSAgICBub2RlLm1hdGVyaWFsLm5vcm1hbE1hcC5kaXNwb3NlICgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5tYXRlcmlhbC5zcGVjdWxhck1hcCkgIG5vZGUubWF0ZXJpYWwuc3BlY3VsYXJNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwuZW52TWFwKSAgICAgICBub2RlLm1hdGVyaWFsLmVudk1hcC5kaXNwb3NlICgpO1xuXG4gICAgICAgICAgICAgICAgICAgIG5vZGUubWF0ZXJpYWwuZGlzcG9zZSAoKTsgICAvLyBkaXNwb3NlcyBhbnkgcHJvZ3JhbXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXRlcmlhbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc3Bvc2VIaWVyYXJjaHkobm9kZSwgY2FsbGJhY2spXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gbm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIHRoaXMuZGlzcG9zZUhpZXJhcmNoeShjaGlsZCwgY2FsbGJhY2spO1xuICAgICAgICAgICAgY2FsbGJhY2soY2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBUaHJlZUdhbWVPYmplY3QgZnJvbSBcIi4vVGhyZWVHYW1lT2JqZWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRocmVlQ2FtZXJhIGV4dGVuZHMgVGhyZWVHYW1lT2JqZWN0PGFueT5cbntcbiAgICBwcm90ZWN0ZWQgX2ZpZWxkT2ZWaWV3OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9uZWFyQ2xpcDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfZmFyQ2xpcDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfY2FtZXJhVXBkYXRlUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF9jYW1lcmFBc3BlY3RGdW5jdGlvbjogKHdpZHRoOm51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IG51bWJlciA9ICh3aWR0aCwgaGVpZ2h0KSA9PiB3aWR0aC9oZWlnaHQ7XG5cbiAgICBjb25zdHJ1Y3RvcihjYW1lcmEpXG4gICAge1xuICAgICAgICBzdXBlcihjYW1lcmEpO1xuICAgICAgICB0aGlzLl9maWVsZE9mVmlldyA9IGNhbWVyYS5mb3Y7XG4gICAgICAgIHRoaXMuX25lYXJDbGlwID0gY2FtZXJhLm5lYXJDbGlwO1xuICAgICAgICB0aGlzLl9mYXJDbGlwID0gY2FtZXJhLmZhckNsaXA7XG4gICAgfVxuICAgIFxuICAgIGdldCBmaWVsZE9mVmlldygpIHsgcmV0dXJuIHRoaXMuX2ZpZWxkT2ZWaWV3OyB9XG4gICAgc2V0IGZpZWxkT2ZWaWV3KHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpZWxkT2ZWaWV3ID0gdmFsO1xuICAgICAgICB0aGlzLl9jYW1lcmFVcGRhdGVSZXF1aXJlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IG5lYXJDbGlwKCkgeyByZXR1cm4gdGhpcy5fbmVhckNsaXA7IH1cbiAgICBzZXQgbmVhckNsaXAodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbmVhckNsaXAgPSB2YWw7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgZmFyQ2xpcCgpIHsgcmV0dXJuIHRoaXMuX2ZhckNsaXA7IH1cbiAgICBzZXQgZmFyQ2xpcCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9mYXJDbGlwID0gdmFsO1xuICAgICAgICB0aGlzLl9jYW1lcmFVcGRhdGVSZXF1aXJlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGNhbWVyYUFzcGVjdEZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fY2FtZXJhQXNwZWN0RnVuY3Rpb247IH1cbiAgICBzZXQgY2FtZXJhQXNwZWN0RnVuY3Rpb24odmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FtZXJhQXNwZWN0RnVuY3Rpb24gPSB2YWw7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBiZWdpbih7dGhyZWVSZW5kZXJlcjogdGhyZWVSZW5kZXJlciwgY2FtZXJhVXBkYXRlUmVxdWlyZWQ6IGNhbWVyYVVwZGF0ZVJlcXVpcmVkfSlcbiAgICB7XG4gICAgICAgIGlmICh0aHJlZVJlbmRlcmVyICYmIChjYW1lcmFVcGRhdGVSZXF1aXJlZCB8fCB0aGlzLl9jYW1lcmFVcGRhdGVSZXF1aXJlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhVXBkYXRlKHRocmVlUmVuZGVyZXIpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhdyhyZW5kZXJlciwge3RocmVlU2NlbmV9KVxuICAgIHtcbiAgICAgICAgcmVuZGVyZXIucmVuZGVyKHRocmVlU2NlbmUsIHRoaXMub2JqZWN0M0QpO1xuICAgIH1cblxuICAgIGNhbWVyYVVwZGF0ZShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGxldCBzaXplID0gcmVuZGVyZXIuZ2V0U2l6ZSgpO1xuICAgICAgICB0aGlzLm9iamVjdDNELmFzcGVjdCA9IHRoaXMuY2FtZXJhQXNwZWN0RnVuY3Rpb24oc2l6ZS53aWR0aCwgc2l6ZS5oZWlnaHQpO1xuICAgICAgICB0aGlzLm9iamVjdDNELmZvdiA9IHRoaXMuX2ZpZWxkT2ZWaWV3O1xuICAgICAgICB0aGlzLm9iamVjdDNELm5lYXJDbGlwID0gdGhpcy5fbmVhckNsaXA7XG4gICAgICAgIHRoaXMub2JqZWN0M0QuZmFyQ2xpcCA9IHRoaXMuX2ZhckNsaXA7XG4gICAgICAgIHRoaXMub2JqZWN0M0QudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xuICAgICAgICB0aGlzLl9jYW1lcmFVcGRhdGVSZXF1aXJlZCA9IGZhbHNlO1xuICAgIH1cblxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgeyBGcmFtZSwgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyIH0gZnJvbSBcIi4vRnJhbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhyZWVHYW1lT2JqZWN0PFQgZXh0ZW5kcyBhbnk+IGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfb2JqZWN0M0Q6IFQ7XG4gICAgY29uc3RydWN0b3Iob2JqZWN0M0Q6IFQpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsLCBudWxsKTtcbiAgICAgICAgdGhpcy5fb2JqZWN0M0QgPSBvYmplY3QzRDtcbiAgICB9XG5cbiAgICBnZXQgb2JqZWN0M0QoKTogVCB7IHJldHVybiB0aGlzLl9vYmplY3QzRDsgfVxuXG4gICAgZ2V0IHJvdGF0aW9uKCkgeyByZXR1cm4gdGhpcy5fb2JqZWN0M0Qucm90YXRpb247IH1cbiAgICBnZXQgcG9zaXRpb24oKSB7IHJldHVybiB0aGlzLl9vYmplY3QzRC5wb3NpdGlvbjsgfVxuXG4gICAgY3JlYXRlKHt0aHJlZVBhcmVudDogdGhyZWVQYXJlbnR9KVxuICAgIHtcbiAgICAgICAgaWYgKHRocmVlUGFyZW50ICYmIHRoaXMub2JqZWN0M0QpXG4gICAgICAgICAgICB0aHJlZVBhcmVudC5hZGQodGhpcy5vYmplY3QzRCk7XG4gICAgfVxuXG4gICAgZG9EcmF3KHJlbmRlcmVyLCBpbnRlcmZhY2VzKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLmNyZWF0ZWQpICYmICh0aGlzLnZpc2libGUpICYmICh0aGlzLm9wYWNpdHkgPiAwKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kcmF3KHJlbmRlcmVyLCBpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKVxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZG9EcmF3KHJlbmRlcmVyLCBpbnRlcmZhY2VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludGVyZmFjZXMoaW50ZXJmYWNlcylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9vYmplY3QzRClcbiAgICAgICAgICAgIGludGVyZmFjZXNbXCJ0aHJlZVBhcmVudFwiXSA9IHRoaXMuX29iamVjdDNEO1xuICAgICAgICByZXR1cm4gaW50ZXJmYWNlcztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUaHJlZUZyYW1lPFQgZXh0ZW5kcyBhbnksIEwgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyLCBDIGV4dGVuZHMgRnJhbWVDb250cm9sbGVyPiBleHRlbmRzIEZyYW1lPEwsIEM+XG57XG4gICAgcHJpdmF0ZSBfb2JqZWN0M0Q6IFQ7XG4gICAgY29uc3RydWN0b3Iob2JqZWN0M0QsIGxpc3RlbmVyOiBMLCBjb250cm9sbGVyOiBDKVxuICAgIHtcbiAgICAgICAgc3VwZXIobnVsbCwgbnVsbCwgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLl9vYmplY3QzRCA9IG9iamVjdDNEO1xuICAgIH1cblxuICAgIGdldCBvYmplY3QzRCgpOiBUIHsgcmV0dXJuIHRoaXMuX29iamVjdDNEOyB9XG5cbiAgICBjcmVhdGUoe3RocmVlUGFyZW50OiB0aHJlZVBhcmVudH0pXG4gICAge1xuICAgICAgICBpZiAodGhyZWVQYXJlbnQpXG4gICAgICAgICAgICB0aHJlZVBhcmVudC5hZGQodGhpcy5vYmplY3QzRCk7XG4gICAgfVxuXG4gICAgZG9EcmF3KHJlbmRlcmVyLCBpbnRlcmZhY2VzKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLmNyZWF0ZWQpICYmICh0aGlzLnZpc2libGUpICYmICh0aGlzLm9wYWNpdHkgPiAwKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kcmF3KHJlbmRlcmVyLCBpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKVxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZG9EcmF3KHJlbmRlcmVyLCBpbnRlcmZhY2VzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludGVyZmFjZXMoaW50ZXJmYWNlcylcbiAgICB7XG4gICAgICAgIGludGVyZmFjZXNbXCJ0aHJlZVBhcmVudFwiXSA9IHRoaXMub2JqZWN0M0Q7XG4gICAgICAgIHJldHVybiBpbnRlcmZhY2VzO1xuICAgIH1cbn0iLCJpbXBvcnQgVGhyZWVHYW1lT2JqZWN0IGZyb20gXCIuL1RocmVlR2FtZU9iamVjdFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaHJlZU1lc2ggZXh0ZW5kcyBUaHJlZUdhbWVPYmplY3Q8YW55Plxue1xuICAgIHByaXZhdGUgX21lc2hVcGRhdGVkO1xuICAgIF9uZXdNZXNoO1xuXG4gICAgZ2V0IG1lc2goKSB7IHJldHVybiB0aGlzLm9iamVjdDNEOyB9XG4gICAgc2V0IG1lc2godmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbmV3TWVzaCA9IHZhbDtcbiAgICAgICAgdGhpcy5fbWVzaFVwZGF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKG1lc2gsIG1hdGVyaWFsPylcbiAgICB7XG4gICAgICAgIGlmIChtYXRlcmlhbClcbiAgICAgICAgICAgIHN1cGVyKG5ldyBUSFJFRS5NZXNoKG1lc2gsIG1hdGVyaWFsKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN1cGVyKG1lc2gpO1xuICAgIH1cblxuICAgIHVwZGF0ZSh7dGhyZWVQYXJlbnQ6IHRocmVlUGFyZW50fSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tZXNoVXBkYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyZWVQYXJlbnQucmVtb3ZlKHRoaXMubWVzaCk7XG4gICAgICAgICAgICB0aGlzLl9vYmplY3QzRCA9IHRoaXMuX25ld01lc2g7XG4gICAgICAgICAgICB0aGlzLl9uZXdNZXNoID0gbnVsbDtcbiAgICAgICAgICAgIHRocmVlUGFyZW50LmFkZCh0aGlzLm1lc2gpO1xuICAgICAgICAgICAgdGhpcy5fbWVzaFVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCIuL0ZyYW1lXCI7XG5pbXBvcnQgeyBUaHJlZUZyYW1lIH0gZnJvbSBcIi4vVGhyZWVHYW1lT2JqZWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRocmVlU2NlbmU8TCBleHRlbmRzIEZyYW1lTGlzdGVuZXIsIEMgZXh0ZW5kcyBGcmFtZUNvbnRyb2xsZXI+IGV4dGVuZHMgVGhyZWVGcmFtZTxhbnksIEwsIEM+XG57XG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGxpc3RlbmVyOiBMLCBjb250cm9sbGVyOiBDKVxuICAgIHtcbiAgICAgICAgc3VwZXIoc2NlbmUsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICB9XG5cbiAgICBnZXQgc2NlbmUoKSB7IHJldHVybiB0aGlzLm9iamVjdDNEOyB9XG5cbiAgICBjcmVhdGUoKSB7IH0gLy8gT3ZlcmxvYWQgcGFyZW50IGFzIHdlIGRvIG5vdCB3YW50IHRvIGFkZCB0aGUgc2NlbmUgdG8gdGhyZWVQYXJlbnRcblxuICAgIGludGVyZmFjZXMoaW50ZXJmYWNlcylcbiAgICB7XG4gICAgICAgIGludGVyZmFjZXMgPSBzdXBlci5pbnRlcmZhY2VzKGludGVyZmFjZXMpXG4gICAgICAgIGludGVyZmFjZXNbXCJ0aHJlZVNjZW5lXCJdID0gdGhpcy5vYmplY3QzRDtcbiAgICAgICAgcmV0dXJuIGludGVyZmFjZXM7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLm9iamVjdDNELmRpc3Bvc2UoKTtcbiAgICB9XG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuZXhwb3J0IGNsYXNzIFRpbWVyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJUaW1lclwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX3RpbWUgPSAwO1xuICAgIHByb3RlY3RlZCBfc3RhcnRUaW1lID0gMDtcbiAgICBwcm90ZWN0ZWQgX3ByZXZpb3VzVGltZSA9IDA7XG4gICAgcHJvdGVjdGVkIF90aW1lT3V0Q2FsbGJhY2tzID0gW107XG4gICAgcHJvdGVjdGVkIF9ydW5uaW5nID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF90aW1lT3V0Q2FsbGJhY2s7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsLCBudWxsKTtcbiAgICB9XG5cbiAgICBnZXQgdGltZSgpIHsgcmV0dXJuIHRoaXMuX3RpbWU7IH1cbiAgICBzZXQgdGltZSh2YWwpIHsgdGhpcy5fdGltZSA9IHZhbDsgfVxuICAgIFxuICAgIGdldCBydW5uaW5nKCkgeyByZXR1cm4gdGhpcy5fcnVubmluZzsgfVxuXG4gICAgYWRkVGltZU91dENhbGxiYWNrKHRpbWUsIGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGltZU91dENhbGxiYWNrcy5wdXNoKG5ldyBUaW1lT3V0Q2FsbGJhY2sodGltZSwgY2FsbGJhY2spKTtcbiAgICB9XG5cbiAgICBzdGFydCgpXG4gICAge1xuICAgICAgICB0aGlzLl9ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gMDtcbiAgICAgICAgdGhpcy50aW1lID0gMDtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gdGhpcy50aW1lO1xuICAgICAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzdW1lKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGJlZ2luKHt0aW1pbmc6IHR9KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aW1lID0gKERhdGUubm93KCkgLSB0aGlzLl9zdGFydFRpbWUpICsgdGhpcy5fcHJldmlvdXNUaW1lO1xuICAgICAgICAgICAgdGhpcy5fdGltZU91dENhbGxiYWNrcy5mb3JFYWNoKHggPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aW1lID4geC50aW1lKVxuICAgICAgICAgICAgICAgICAgICB4LmNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBWYXJpYWJsZUxvZ2dlci5hZGRWYXJpYWJsZVBhdGhzKFwidGltZVwiLFwicnVubmluZ1wiKTtcbiAgICB9Ki9cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVPdXRDYWxsYmFja1xue1xuICAgIHRpbWU7XG4gICAgY2FsbGJhY2s7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aW1lLCBjYWxsYmFjaylcbiAgICB7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG59IiwiaW1wb3J0IEV2ZW50IGZyb20gXCIuLi8uLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRpb24gZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBfZG9uZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX29uQ29tcGxldGU6IEV2ZW50O1xuICAgIHByaXZhdGUgX29uU3RlcDogRXZlbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsLCBudWxsKTtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG5ldyBFdmVudCgpO1xuICAgICAgICB0aGlzLl9vblN0ZXAgPSBuZXcgRXZlbnQoKTtcbiAgICB9XG5cbiAgICBnZXQgZG9uZSgpIHsgcmV0dXJuIHRoaXMuX2RvbmU7IH1cblxuICAgIGdldCBvbkNvbXBsZXRlKCkgeyByZXR1cm4gdGhpcy5fb25Db21wbGV0ZTsgfVxuICAgIHNldCBvbkNvbXBsZXRlKHZhbCkgeyB0aGlzLl9vbkNvbXBsZXRlID0gdmFsOyB9XG5cbiAgICBnZXQgb25TdGVwKCkgeyByZXR1cm4gdGhpcy5fb25TdGVwOyB9XG4gICAgc2V0IG9uU3RlcCh2YWwpIHsgdGhpcy5fb25TdGVwID0gdmFsOyB9XG5cbiAgICB1cGRhdGUoLi4uYXJncylcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5kb25lKVxuICAgICAgICAgICAgdGhpcy5vblN0ZXAuY2FsbCgpO1xuICAgIH1cblxuICAgIGNvbXBsZXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2RvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuY2FsbCgpO1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFR3ZWVuIGZyb20gXCIuL1R3ZWVuXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCIuLi8uLi91dGlsL1BvaW50M1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludDNUd2VlbiBleHRlbmRzIFR3ZWVuXG57XG4gICAgaW5jcmVtZW50KGRlbHRhKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ggPSAoKHRoaXMudGFyZ2V0VmFsdWUueCAtIHRoaXMuY3VycmVudFZhbHVlLngpL3RoaXMudGltZVJlbWFpbmluZykqZGVsdGEgKyB0aGlzLmN1cnJlbnRWYWx1ZS54O1xuICAgICAgICBsZXQgbmV3WSA9ICgodGhpcy50YXJnZXRWYWx1ZS55IC0gdGhpcy5jdXJyZW50VmFsdWUueSkvdGhpcy50aW1lUmVtYWluaW5nKSpkZWx0YSArIHRoaXMuY3VycmVudFZhbHVlLnk7XG4gICAgICAgIGxldCBuZXdaID0gKCh0aGlzLnRhcmdldFZhbHVlLnogLSB0aGlzLmN1cnJlbnRWYWx1ZS56KS90aGlzLnRpbWVSZW1haW5pbmcpKmRlbHRhICsgdGhpcy5jdXJyZW50VmFsdWUuejtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VmFsdWUueCA8IHRoaXMudGFyZ2V0VmFsdWUueClcbiAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1pbih0aGlzLnRhcmdldFZhbHVlLngsIG5ld1gpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRWYWx1ZS54ID4gdGhpcy50YXJnZXRWYWx1ZS54KVxuICAgICAgICAgICAgbmV3WCA9IE1hdGgubWF4KHRoaXMudGFyZ2V0VmFsdWUueCwgbmV3WCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlLnkgPCB0aGlzLnRhcmdldFZhbHVlLnkpXG4gICAgICAgICAgICBuZXdZID0gTWF0aC5taW4odGhpcy50YXJnZXRWYWx1ZS55LCBuZXdZKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50VmFsdWUueSA+IHRoaXMudGFyZ2V0VmFsdWUueSlcbiAgICAgICAgICAgIG5ld1kgPSBNYXRoLm1heCh0aGlzLnRhcmdldFZhbHVlLnksIG5ld1kpO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZS56IDwgdGhpcy50YXJnZXRWYWx1ZS56KVxuICAgICAgICAgICAgbmV3WiA9IE1hdGgubWluKHRoaXMudGFyZ2V0VmFsdWUueiwgbmV3Wik7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudFZhbHVlLnkgPiB0aGlzLnRhcmdldFZhbHVlLnkpXG4gICAgICAgICAgICBuZXdaID0gTWF0aC5tYXgodGhpcy50YXJnZXRWYWx1ZS56LCBuZXdaKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ldyBQb2ludDMobmV3WCwgbmV3WSwgbmV3Wik7XG4gICAgfVxuXG4gICAgZ2V0IHJlYWNoZWRUYXJnZXQoKTogYm9vbGVhbiB7IHJldHVybiBQb2ludDMuZXF1YWxzKHRoaXMuY3VycmVudFZhbHVlLCB0aGlzLnRhcmdldFZhbHVlKTsgfVxufVxuIiwiaW1wb3J0IEFuaW1hdGlvbiBmcm9tIFwiLi9BbmltYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgVHdlZW4gZXh0ZW5kcyBBbmltYXRpb25cbntcbiAgICBwcm90ZWN0ZWQgX29iamVjdDogT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfc3RhcnRWYWx1ZTogYW55O1xuICAgIHByb3RlY3RlZCBfdmFyaWFibGVOYW1lOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF90YXJnZXRWYWx1ZTogYW55O1xuICAgIHByb3RlY3RlZCBfdGltZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfdGltZVJlbWFpbmluZzogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfcmVxdWVzdERyYXdPbkNoYW5nZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBhbnksIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmIChvYmplY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29iamVjdCA9IG9iamVjdFxuICAgICAgICAgICAgdGhpcy5fc3RhcnRWYWx1ZSA9IG9iamVjdFt2YXJpYWJsZU5hbWVdO1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVOYW1lID0gdmFyaWFibGVOYW1lO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0VmFsdWUgPSB0YXJnZXRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy5fdGltZVJlbWFpbmluZyA9IHRpbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb2JqZWN0KCkgeyByZXR1cm4gdGhpcy5fb2JqZWN0OyB9XG4gICAgZ2V0IHZhcmlhYmxlTmFtZSgpIHsgcmV0dXJuIHRoaXMuX3ZhcmlhYmxlTmFtZTsgfVxuICAgIGdldCBzdGFydFZhbHVlKCkgeyByZXR1cm4gdGhpcy5fc3RhcnRWYWx1ZTsgfVxuICAgIGdldCB0YXJnZXRWYWx1ZSgpIHsgcmV0dXJuIHRoaXMuX3RhcmdldFZhbHVlOyB9XG4gICAgZ2V0IGN1cnJlbnRWYWx1ZSgpIHsgcmV0dXJuIHRoaXMub2JqZWN0W3RoaXMudmFyaWFibGVOYW1lXTsgfVxuICAgIHNldCBjdXJyZW50VmFsdWUodmFsKSB7IHRoaXMub2JqZWN0W3RoaXMudmFyaWFibGVOYW1lXSA9IHZhbDsgfVxuICAgIGdldCB0aW1lKCkgeyByZXR1cm4gdGhpcy5fdGltZTsgfVxuICAgIGdldCB0aW1lUmVtYWluaW5nKCkgeyByZXR1cm4gdGhpcy5fdGltZVJlbWFpbmluZzsgfVxuICAgIGdldCByZXF1ZXN0RHJhd09uQ2hhbmdlKCkgeyByZXR1cm4gdGhpcy5fcmVxdWVzdERyYXdPbkNoYW5nZTsgfVxuICAgIHNldCByZXF1ZXN0RHJhd09uQ2hhbmdlKHZhbCkgeyB0aGlzLl9yZXF1ZXN0RHJhd09uQ2hhbmdlID0gdmFsOyB9XG5cbiAgICB1cGRhdGUoe3RpbWluZzp0fSlcbiAgICB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgICAgICBpZiAoIXRoaXMuZG9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVxdWVzdERyYXdPbkNoYW5nZSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lUmVtYWluaW5nIC09IHQuZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZVJlbWFpbmluZyA8PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy50YXJnZXRWYWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnQodC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhY2hlZFRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgaW5jcmVtZW50KGRlbHRhKTogdm9pZFxuICAgIGFic3RyYWN0IGdldCByZWFjaGVkVGFyZ2V0KCk6IGJvb2xlYW5cbn1cbiIsImltcG9ydCBUd2VlbiBmcm9tIFwiLi9Ud2VlblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWYWx1ZVR3ZWVuIGV4dGVuZHMgVHdlZW5cbntcblxuICAgIGdldCByYXRlKCk6IGFueVxuICAgIHsgXG4gICAgICAgIGlmICh0aGlzLnRpbWVSZW1haW5pbmcgPD0gMClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gKCh0aGlzLnRhcmdldFZhbHVlLXRoaXMuY3VycmVudFZhbHVlKSAvIHRoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG4gICAgaW5jcmVtZW50KGRlbHRhKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ZhbCA9IHRoaXMuY3VycmVudFZhbHVlICsgKHRoaXMucmF0ZSAqIGRlbHRhKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSlcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gTWF0aC5taW4obmV3VmFsLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1heChuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgIH1cblxuICAgIGdldCByZWFjaGVkVGFyZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWUgPT09IHRoaXMudGFyZ2V0VmFsdWU7IH1cblxufSIsImltcG9ydCBBbmltYXRpb24gZnJvbSBcIi4vQW5pbWF0aW9uXCI7XG5pbXBvcnQgeyBUaW1pbmcgfSBmcm9tIFwiLi4vLi4vaW8vVGltaW5nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhaXQgZXh0ZW5kcyBBbmltYXRpb25cbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiV2FpdFwiOyB9XG5cbiAgICBwcml2YXRlIF90aW1lOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfdGltZVJlbWFpbmluZzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMuX3RpbWVSZW1haW5pbmcgPSB0aW1lO1xuICAgIH1cblxuICAgIGdldCB0aW1lKCkgeyByZXR1cm4gdGhpcy5fdGltZTsgfVxuICAgIGdldCB0aW1lUmVtYWluaW5nKCkgeyByZXR1cm4gdGhpcy5fdGltZVJlbWFpbmluZzsgfVxuXG4gICAgdXBkYXRlKHt0aW1pbmc6dH0gOiB7IHRpbWluZzogVGltaW5nIH0pXG4gICAge1xuICAgICAgICBzdXBlci51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5fdGltZVJlbWFpbmluZyAtPSB0LmRlbHRhO1xuICAgICAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nIDw9IDApXG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfVxufSIsImltcG9ydCBUd2VlbiBmcm9tIFwiLi9Ud2VlblwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludDNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV3JhcHBpbmdQb2ludDNUd2VlbiBleHRlbmRzIFR3ZWVuXG57XG4gICAgcHJvdGVjdGVkIF93cmFwVmFsdWU6IFBvaW50MztcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBQb2ludDMsIHRpbWU6IG51bWJlciwgd3JhcFZhbHVlOiBQb2ludDMpXG4gICAge1xuICAgICAgICBzdXBlcihvYmplY3QsIHZhcmlhYmxlTmFtZSwgdGFyZ2V0VmFsdWUsIHRpbWUpO1xuICAgICAgICB0aGlzLl93cmFwVmFsdWUgPSB3cmFwVmFsdWU7XG4gICAgfVxuXG4gICAgc2hvcnRlc3REaXN0YW5jZURpbShheDogbnVtYmVyLCBieDogbnVtYmVyLCBseDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKGF4ID09PSBieClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgd3JhcHggPSAoYXggPCBieCkgPyAoKGx4IC0gYngpICsgYXgpIDogKChseCAtIGF4KSArIGJ4KTtcbiAgICAgICAgbGV0IHN0cmFpZ2h0eCA9IE1hdGguYWJzKGJ4IC0gYXgpO1xuXG4gICAgICAgIGlmIChzdHJhaWdodHggPCB3cmFweClcbiAgICAgICAgICAgIHJldHVybiBieCAtIGF4O1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChheCA8IGJ4KVxuICAgICAgICAgICAgICAgIHJldHVybiAtd3JhcHg7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXB4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnZXQgcmF0ZSgpOiBhbnlcbiAgICB7IFxuICAgICAgICBsZXQgeCA9IHRoaXMuc2hvcnRlc3REaXN0YW5jZURpbSh0aGlzLmN1cnJlbnRWYWx1ZS54LCB0aGlzLnRhcmdldFZhbHVlLngsIHRoaXMuX3dyYXBWYWx1ZS54KTtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnNob3J0ZXN0RGlzdGFuY2VEaW0odGhpcy5jdXJyZW50VmFsdWUueSwgdGhpcy50YXJnZXRWYWx1ZS55LCB0aGlzLl93cmFwVmFsdWUueSk7XG4gICAgICAgIGxldCB6ID0gdGhpcy5zaG9ydGVzdERpc3RhbmNlRGltKHRoaXMuY3VycmVudFZhbHVlLnosIHRoaXMudGFyZ2V0VmFsdWUueiwgdGhpcy5fd3JhcFZhbHVlLnopO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4L3RoaXMudGltZVJlbWFpbmluZyx5L3RoaXMudGltZVJlbWFpbmluZyx6L3RoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG5cbiAgICBpbmNyZW1lbnREaW0oY3gsIHR4LCByeCwgbmV3WClcbiAgICB7XG4gICAgICAgIGlmICgoY3ggPCB0eCkgJiYgKHJ4ID4gMCkpXG4gICAgICAgICAgICBuZXdYID0gTWF0aC5taW4odHgsIG5ld1gpO1xuICAgICAgICBpZiAoKGN4IDwgdHgpICYmIChyeCA8IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3WCA8IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1pbihuZXdYLCB0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGN4ID4gdHgpICYmIChyeCA+IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3WCA+IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1heChuZXdYLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoY3ggPiB0eCkgJiYgKHJ4IDwgMCkpXG4gICAgICAgICAgICBuZXdYID0gTWF0aC5tYXgodHgsIG5ld1gpO1xuICAgICAgICByZXR1cm4gbmV3WDtcbiAgICB9XG5cbiAgICBpbmNyZW1lbnQoZGVsdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgcmF0ZSA9IHRoaXMucmF0ZTtcbiAgICAgICAgbGV0IG5ld1ggPSAocmF0ZS54KmRlbHRhICsgdGhpcy5jdXJyZW50VmFsdWUueCkldGhpcy5fd3JhcFZhbHVlLng7XG4gICAgICAgIGxldCBuZXdZID0gKHJhdGUueSpkZWx0YSArIHRoaXMuY3VycmVudFZhbHVlLnkpJXRoaXMuX3dyYXBWYWx1ZS55O1xuICAgICAgICBsZXQgbmV3WiA9IChyYXRlLnoqZGVsdGEgKyB0aGlzLmN1cnJlbnRWYWx1ZS56KSV0aGlzLl93cmFwVmFsdWUuejtcblxuICAgICAgICBuZXdYID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueCwgdGhpcy50YXJnZXRWYWx1ZS54LCByYXRlLngsIG5ld1gpO1xuICAgICAgICBuZXdZID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueSwgdGhpcy50YXJnZXRWYWx1ZS55LCByYXRlLnksIG5ld1kpO1xuICAgICAgICBuZXdaID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueiwgdGhpcy50YXJnZXRWYWx1ZS56LCByYXRlLnosIG5ld1opO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbmV3IFBvaW50MyhuZXdYLCBuZXdZLCBuZXdaKTtcbiAgICB9XG5cbiAgICBnZXQgcmVhY2hlZFRhcmdldCgpOiBib29sZWFuIHsgcmV0dXJuIFBvaW50My5lcXVhbHModGhpcy5jdXJyZW50VmFsdWUsIHRoaXMudGFyZ2V0VmFsdWUpOyB9XG59XG4iLCJpbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiLi9WYWx1ZVR3ZWVuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdyYXBwaW5nVmFsdWVUd2VlbiBleHRlbmRzIFZhbHVlVHdlZW5cbntcbiAgICBwcm90ZWN0ZWQgX3dyYXBWYWx1ZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfZGlyZWN0aW9uSXNVcDogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBudW1iZXIsIHRpbWU6IG51bWJlciwgd3JhcFZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihvYmplY3QsIHZhcmlhYmxlTmFtZSwgdGFyZ2V0VmFsdWUsIHRpbWUpO1xuICAgICAgICB0aGlzLl93cmFwVmFsdWUgPSB3cmFwVmFsdWU7XG4gICAgICAgIGxldCB3cmFwcGluZyA9IE1hdGguYWJzKHRoaXMuc3RhcnRWYWx1ZSAtIHRoaXMudGFyZ2V0VmFsdWUpID4gdGhpcy5fd3JhcFZhbHVlLzI7XG4gICAgICAgIGxldCB1cHdhcmRzID0gdGhpcy5zdGFydFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZVxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25Jc1VwID0gKCh1cHdhcmRzICYmICF3cmFwcGluZykgfHwgKCF1cHdhcmRzICYmIHdyYXBwaW5nKSk7XG4gICAgfVxuXG4gICAgc2hvcnRlc3REaXN0YW5jZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy50YXJnZXRWYWx1ZSA9PT0gdGhpcy5jdXJyZW50VmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbklzVXAgJiYgKHRoaXMudGFyZ2V0VmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRWYWx1ZSArIHRoaXMuX3dyYXBWYWx1ZSAtIHRoaXMuY3VycmVudFZhbHVlXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb25Jc1VwICYmICh0aGlzLnRhcmdldFZhbHVlID4gdGhpcy5jdXJyZW50VmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0VmFsdWUgLSB0aGlzLmN1cnJlbnRWYWx1ZVxuICAgICAgICBpZiAoIXRoaXMuX2RpcmVjdGlvbklzVXAgJiYgKHRoaXMudGFyZ2V0VmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRWYWx1ZSAtIHRoaXMuY3VycmVudFZhbHVlXG4gICAgICAgIGlmICghdGhpcy5fZGlyZWN0aW9uSXNVcCAmJiAodGhpcy50YXJnZXRWYWx1ZSA+IHRoaXMuY3VycmVudFZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldFZhbHVlIC0gKHRoaXMuY3VycmVudFZhbHVlK3RoaXMuX3dyYXBWYWx1ZSlcbiAgICB9XG5cbiAgICBnZXQgcmF0ZSgpOiBhbnlcbiAgICB7IFxuICAgICAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nIDw9IDApXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuICh0aGlzLnNob3J0ZXN0RGlzdGFuY2UoKSAvIHRoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG4gICAgaW5jcmVtZW50KGRlbHRhKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ZhbCA9IHRoaXMuY3VycmVudFZhbHVlICsgKHRoaXMucmF0ZSAqIGRlbHRhKTtcblxuICAgICAgICBpZiAoKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSkgJiYgKHRoaXMuX2RpcmVjdGlvbklzVXApKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1pbihuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgICAgICBlbHNlIGlmICgodGhpcy5jdXJyZW50VmFsdWUgPiB0aGlzLnRhcmdldFZhbHVlKSAmJiAodGhpcy5fZGlyZWN0aW9uSXNVcCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuZXdWYWwgJSB0aGlzLl93cmFwVmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSlcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IE1hdGgubWluKG5ld1ZhbCwgdGhpcy50YXJnZXRWYWx1ZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBuZXdWYWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSkgJiYgISh0aGlzLl9kaXJlY3Rpb25Jc1VwKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld1ZhbCAlIHRoaXMuX3dyYXBWYWx1ZSA+IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gTWF0aC5tYXgobmV3VmFsLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodGhpcy5jdXJyZW50VmFsdWUgPiB0aGlzLnRhcmdldFZhbHVlKSAmJiAhKHRoaXMuX2RpcmVjdGlvbklzVXApKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1heChuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgIH1cblxuXG59IiwiaW1wb3J0IERyYXdCdWZmZXIgZnJvbSBcIi4vRHJhd0J1ZmZlclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyQ2xvbmUgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkJ1ZmZlckNsb25lXCI7IH1cblxuICAgIHByaXZhdGUgX2RyYXdCdWZmZXI6IERyYXdCdWZmZXI7XG4gICAgcHJpdmF0ZSBfY2xpcEZ1bmN0aW9uOiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKSA9PiB2b2lkO1xuXG4gICAgZ2V0IGNsaXBGdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2NsaXBGdW5jdGlvbjsgfVxuICAgIHNldCBjbGlwRnVuY3Rpb24odmFsKSB7IHRoaXMuX2NsaXBGdW5jdGlvbiA9IHZhbDsgfVxuXG4gICAgcHJpdmF0ZSBfb3JpZ2luOiBUcmFuc2xhdGlvbiA9IG5ldyBQaXhlbFRyYW5zbGF0aW9uKDAsMCk7XG4gICAgcHJpdmF0ZSBfYXJlYTogRGltZW5zaW9uID0gbnVsbDtcblxuICAgIGdldCBvcmlnaW4oKSB7IHJldHVybiB0aGlzLl9vcmlnaW47fVxuICAgIHNldCBvcmlnaW4odmFsKSB7IHRoaXMuX29yaWdpbiA9IHZhbDt9XG5cbiAgICBnZXQgYXJlYSgpIHsgcmV0dXJuIHRoaXMuX2FyZWE7fVxuICAgIHNldCBhcmVhKHZhbCkgeyB0aGlzLl9hcmVhID0gdmFsO31cblxuICAgIGdldCBkcmF3QnVmZmVyKCkgeyByZXR1cm4gdGhpcy5fZHJhd0J1ZmZlcjsgfVxuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgZHJhd0J1ZmZlcjogRHJhd0J1ZmZlciwgY2xpcEZ1bmN0aW9uPzogKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3M6IFBvaW50LCBkaW06IERpbWVuc2lvbikgPT4gdm9pZClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpXG4gICAgICAgIHRoaXMuX2RyYXdCdWZmZXIgPSBkcmF3QnVmZmVyO1xuICAgICAgICB0aGlzLl9jbGlwRnVuY3Rpb24gPSBjbGlwRnVuY3Rpb247XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fZHJhd0J1ZmZlcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkcmF3IGJ1ZmZlcmNsb25lIGJlY2F1c2UgdGhlIHByb3ZpZGVkIERyYXdCdWZmZXIgaXMgbnVsbFwiKTtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIGxldCBkYkRpbSA9IHRoaXMuX2RyYXdCdWZmZXIuY2FudmFzVXNlZERpbWVuc2lvbjtcblxuICAgICAgICBpZiAodGhpcy5fY2xpcEZ1bmN0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5fY2xpcEZ1bmN0aW9uKGNvbnRleHQyRCwgcG9zLCBkaW0pXG4gICAgICAgICAgICBjb250ZXh0MkQuY2xpcCgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgc291cmNlRGltID0gZGJEaW07XG4gICAgICAgIGlmICh0aGlzLmFyZWEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZURpbSA9IHRoaXMuYXJlYS5hc1NpbXBsZVBpeGVsRGltZW5zaW9uKHRoaXMudHJhbnNmb3JtLmJvdW5kcyk7XG4gICAgICAgICAgICBzb3VyY2VEaW0gPSBuZXcgRGltZW5zaW9uKHNvdXJjZURpbS53aWR0aCp0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbywgc291cmNlRGltLmhlaWdodCp0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9yaWcgPSB0aGlzLm9yaWdpbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCh0aGlzLmRyYXdCdWZmZXIudHJhbnNmb3JtLmJvdW5kcyk7XG5cbiAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLl9kcmF3QnVmZmVyLmNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnLnggKiB0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnLnkgKiB0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VEaW0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlRGltLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MueCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltLmhlaWdodCk7XG4gICAgICAgIGlmICh0aGlzLl9jbGlwRnVuY3Rpb24pXG4gICAgICAgICAgICBjb250ZXh0MkQucmVzdG9yZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEcmF3QnVmZmVyIGZyb20gXCIuL0RyYXdCdWZmZXJcIjtcbmltcG9ydCB7IE91dGxpbmVSZWN0IH0gZnJvbSBcIi4vUmVjdFwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL0NvbXBvbmVudFwiO1xuaW1wb3J0IHsgRnJhbWUgfSBmcm9tIFwiLi4vRnJhbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyZWQ8VCBleHRlbmRzIEdhbWVPYmplY3Q+IGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfY29uc3RydWN0b3JBcmdzOiBhbnlbXTtcbiAgICBwcm90ZWN0ZWQgX3R5cGU6IChuZXcgKC4uLmFyZ3MpID0+IFQpO1xuICAgIHByb3RlY3RlZCBfaW5uZXI6IFQ7XG4gICAgcHJvdGVjdGVkIF9idWZmZXI6IERyYXdCdWZmZXI7XG5cbiAgICBwcm90ZWN0ZWQgX2RlYnVnT3V0bGluZTogT3V0bGluZVJlY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiAobmV3ICguLi5hcmdzKSA9PiBUKSwgLi4uY29uc3RydWN0b3JBcmdzKVxuICAgIHtcbiAgICAgICAgbGV0IGFyZzEgPSBjb25zdHJ1Y3RvckFyZ3Muc2hpZnQoKTtcbiAgICAgICAgaWYgKGFyZzEgaW5zdGFuY2VvZiBQb3NpdGlvbilcbiAgICAgICAgICAgIHN1cGVyKGFyZzEsIGNvbnN0cnVjdG9yQXJncy5zaGlmdCgpIGFzIEJvdW5kcylcbiAgICAgICAgZWxzZSBpZiAoYXJnMSBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgIHN1cGVyKG51bGwsIGFyZzEpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgYSBCdWZmZXJlZDxHYW1lT2JqZWN0PiB0aGF0IGxhY2tzIGEgYm91bmRzLiBEcmF3QnVmZmVycyByZXF1aXJlIGEgQm91bmRzXCIpO1xuICAgICAgICB0aGlzLl9jb25zdHJ1Y3RvckFyZ3MgPSBjb25zdHJ1Y3RvckFyZ3M7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuXG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBEcmF3QnVmZmVyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpO1xuICAgICAgICB0aGlzLl9pbm5lciA9IG5ldyB0aGlzLl90eXBlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIC4uLnRoaXMuX2NvbnN0cnVjdG9yQXJncyk7XG4gICAgfVxuXG4gICAgZ2V0IGlubmVyKCkgeyByZXR1cm4gdGhpcy5faW5uZXI7IH1cbiAgICBnZXQgYnVmZmVyKCkgeyByZXR1cm4gdGhpcy5fYnVmZmVyOyB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9idWZmZXIpO1xuICAgICAgICB0aGlzLl9idWZmZXIuYWRkQ2hpbGQodGhpcy5faW5uZXIpO1xuICAgICAgICAvL3RoaXMuX2RlYnVnT3V0bGluZSA9IHRoaXMuYWRkQ2hpbGQ8T3V0bGluZVJlY3Q+KG5ldyBPdXRsaW5lUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcInJlZFwiLDUpKTtcblxuICAgICAgICBpZiAodGhpcy5pbm5lciBpbnN0YW5jZW9mIENvbXBvbmVudClcbiAgICAgICAgICAgIHRoaXMuaW5uZXIuY29udHJvbGxlci5vbkRlc3Ryb3kucHVzaCgoKCkgPT4geyB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7fSkuYmluZCh0aGlzKSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5uZXIgaW5zdGFuY2VvZiBGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbkNsb3NlLnB1c2goKCgpID0+IHsgdGhpcy52aXNpYmxlID0gZmFsc2U7IHRoaXMuYWN0aXZlID0gZmFsc2U7IH0pLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbk9wZW4ucHVzaCgoKCkgPT4geyB0aGlzLnZpc2libGUgPSB0cnVlOyB0aGlzLmFjdGl2ZSA9IHRydWU7IH0pLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5pbm5lci5pc09wZW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuaW5uZXIgaW5zdGFuY2VvZiBDb21wb25lbnQpXG4gICAgICAgICAgICB0aGlzLmlubmVyLmNvbnRyb2xsZXIub25EZXN0cm95LnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmlubmVyIGluc3RhbmNlb2YgRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIubGlzdGVuZXIub25DbG9zZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbk9wZW4udW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXcoKVxuICAgIHtcbiAgICAgICAgLy90aGlzLl9kZWJ1Z091dGxpbmUub3BhY2l0eSA9IDA7XG4gICAgICAgIC8qaWYgKHRoaXMuYnVmZmVyLmRyYXdSZXF1ZXN0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnT3V0bGluZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnT3V0bGluZS5zdHJva2VTdHlsZSA9IFwiI1wiICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjkpICsgXCJcIiArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KTtcbiAgICAgICAgfSovXG4gICAgfVxufSIsImltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgU2hhcGUgZnJvbSBcIi4vU2hhcGVcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcblxuZXhwb3J0IGNsYXNzIENpcmNsZSBleHRlbmRzIFNoYXBlXG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkNpcmNsZVwiOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBmaWxsU3R5bGU6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmZpbGxTdHlsZSlcbiAgICAgICAgICAgIHRoaXMuZmlsbGVkKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuICAgICAgICBpZiAoKHRoaXMubGluZVdpZHRoID4gMCkgJiYgKHRoaXMuc3Ryb2tlU3R5bGUpKVxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuXG4gICAgfVxuXG4gICAgb3V0bGluZShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBsZXQgcmFkRGltID0gbmV3IERpbWVuc2lvbihNYXRoLm1heCgwLCBkaW0ud2lkdGgtdGhpcy5saW5lV2lkdGgpLCBNYXRoLm1heCgwLCBkaW0uaGVpZ2h0LXRoaXMubGluZVdpZHRoKSlcbiAgICAgICAgY29udGV4dDJELnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0MkQuYmVnaW5QYXRoKClcbiAgICAgICAgY29udGV4dDJELmFyYyhwb3MueCArIGRpbS53aWR0aC8yLCBwb3MueSArIGRpbS5oZWlnaHQvMiwgTWF0aC5taW4ocmFkRGltLndpZHRoLCByYWREaW0uaGVpZ2h0KS8yLCAwLCAyKk1hdGguUEkpO1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZmlsbGVkKGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3M6IFBvaW50LCBkaW06IERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGNvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmJlZ2luUGF0aCgpXG4gICAgICAgIGNvbnRleHQyRC5hcmMocG9zLnggKyBkaW0ud2lkdGgvMiwgcG9zLnkgKyBkaW0uaGVpZ2h0LzIsIE1hdGgubWluKGRpbS53aWR0aCwgZGltLmhlaWdodCkvMiwgMCwgMipNYXRoLlBJKTtcbiAgICAgICAgY29udGV4dDJELmZpbGwoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxsQ2lyY2xlIGV4dGVuZHMgQ2lyY2xlXG57XG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgZmlsbFN0eWxlOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCB1bmRlZmluZWQsIGZpbGxTdHlsZSwgMCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3V0bGluZUNpcmNsZSBleHRlbmRzIENpcmNsZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0cm9rZVN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgc3Ryb2tlU3R5bGUsIHVuZGVmaW5lZCwgbGluZVdpZHRoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi8uLi9UcmFuc2Zvcm1cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYXdCdWZmZXIgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJvdGVjdGVkIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gbnVsbDtcbiAgICBwcm90ZWN0ZWQgX2NvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gbnVsbDtcbiAgICBwcm90ZWN0ZWQgX2RyYXdSZXF1ZXN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgX2JhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfb2xkRGltZW5zaW9uOiBEaW1lbnNpb247XG4gICAgcHJvdGVjdGVkIF9waXhlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9oYXNBbHBoYUNoYW5uZWw6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLy8gRGVjbGFyZWQgaGVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlZGVjbGFyZSBpbiBkcmF3IGxvb3BcbiAgICBwcml2YXRlIF9fcG9zOiBQb2ludDtcbiAgICBwcml2YXRlIF9fZGltOiBEaW1lbnNpb247XG5cbiAgICBwcm90ZWN0ZWQgX2ltYWdlRGF0YSA9IG51bGw7XG4gICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBtaW5DYW52YXNTaXplID0gMjU2OyAvLyBiaWcgZW5vdWdoIHRvIHRyaWdnZXIgaGFyZHdhcmUgYWNjZWxsZXJhdGlvbiBvbiBzb21lIGJyb3dzZXJzIChDaHJvbWUpXG4gICAgZGVidWdEaXNhYmxlQ2FjaGUgPSBmYWxzZTtcblxuICAgIHByb3RlY3RlZCBfZm9yZ2V0SW50ZXJuYWxzT25EcmF3OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9jYW52YXNEcmF3Rml4ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJEcmF3QnVmZmVyXCI7IH1cblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uPzogUG9zaXRpb24sIGJvdW5kcz86IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHN1cGVyKG5ldyBEcmF3VHJhbnNmb3JtKHBvc2l0aW9uLCBib3VuZHMpKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ucmVzZXREcmF3UG9zID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgZm9yZ2V0SW50ZXJuYWxzT25EcmF3KCkgeyByZXR1cm4gdGhpcy5fZm9yZ2V0SW50ZXJuYWxzT25EcmF3OyB9XG4gICAgc2V0IGZvcmdldEludGVybmFsc09uRHJhdyh2YWwpIHsgdGhpcy5fZm9yZ2V0SW50ZXJuYWxzT25EcmF3ID0gdmFsOyB9XG5cbiAgICBnZXQgY2FudmFzRHJhd0ZpeGVkKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzRHJhd0ZpeGVkOyB9XG5cbiAgICBnZXQgY2FudmFzKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzOyB9XG4gICAgZ2V0IGNvbnRleHQyRCgpIHsgcmV0dXJuIHRoaXMuX2NvbnRleHQyRDsgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBkaW1lbnNpb24gb2YgdGhlIHVzZWQgYXJlYSBvZiB0aGUgY2FudmFzIChtYXkgZGlmZmVyIGZyb20gYWN0dWFsIGNhbnZhcyBzaXplIGR1ZSB0byBoYXJkd2FyZSBvcHRpbWlzYXRpb24pICAqL1xuICAgIGdldCBjYW52YXNVc2VkRGltZW5zaW9uKCkgeyByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKE1hdGguY2VpbCh0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoICogdGhpcy5waXhlbFJhdGlvKSwgTWF0aC5jZWlsKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICogdGhpcy5waXhlbFJhdGlvKSk7IH1cbiAgICBnZXQgYmFja2dyb3VuZENvbG9yKCkgeyByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yOyB9XG4gICAgc2V0IGJhY2tncm91bmRDb2xvcih2YWwpIHsgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gdmFsOyB9XG4gICAgZ2V0IHBpeGVsUmF0aW8oKSB7IHJldHVybiB0aGlzLl9waXhlbFJhdGlvOyB9XG4gICAgZ2V0IGhhc0FscGhhQ2hhbm5lbCgpIHsgcmV0dXJuIHRoaXMuX2hhc0FscGhhQ2hhbm5lbDsgfVxuICAgIHNldCBoYXNBbHBoYUNoYW5uZWwodmFsKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLl9oYXNBbHBoYUNoYW5uZWwgIT09IHZhbCkgJiYgKHRoaXMuX2NhbnZhcykpXG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0MkQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IHZhbH0pO1xuICAgICAgICB0aGlzLl9oYXNBbHBoYUNoYW5uZWwgPSB2YWw7IFxuICAgIH1cbiAgICBnZXQgZHJhd1JlcXVlc3RlZCgpIHsgcmV0dXJuIHRoaXMuX2RyYXdSZXF1ZXN0ZWQ7IH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9jcmVhdGVEcmF3QnVmZmVyKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVEcmF3QnVmZmVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLl9jb250ZXh0MkQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IHRoaXMuaGFzQWxwaGFDaGFubmVsfSk7XG4gICAgICAgIHRoaXMucmVzaXplQ2FudmFzKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24sIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHJlc2l6ZUNhbnZhcyhkaW06IERpbWVuc2lvbiwgZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcGl4ZWxSYXRpbyA9IGRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5tYXgoZGltLndpZHRoICogdGhpcy5waXhlbFJhdGlvLCBEcmF3QnVmZmVyLm1pbkNhbnZhc1NpemUpO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSAgTWF0aC5tYXgoZGltLmhlaWdodCAqIHRoaXMucGl4ZWxSYXRpbywgRHJhd0J1ZmZlci5taW5DYW52YXNTaXplKTtcbiAgICAgICAgdGhpcy5fb2xkRGltZW5zaW9uID0gbmV3IERpbWVuc2lvbihkaW0ud2lkdGgsIGRpbS5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9jb250ZXh0MkQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKTtcbiAgICAgICAgdGhpcy5fY29udGV4dDJELnNjYWxlKHRoaXMucGl4ZWxSYXRpbywgdGhpcy5waXhlbFJhdGlvKTtcbiAgICB9XG5cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kQ29sb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5maWxsUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsUmF0aW8sIHRoaXMuX2NhbnZhcy5oZWlnaHQgLyB0aGlzLnBpeGVsUmF0aW8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsUmF0aW8sIHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgfVxuXG4gICAgZG9EcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLmNyZWF0ZWQpICYmICh0aGlzLnZpc2libGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnRpbmdPcGFjaXR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHRoaXMub3BhY2l0eSAhPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGFydGluZ09wYWNpdHkgPSBjb250ZXh0MkQuZ2xvYmFsQWxwaGE7XG4gICAgICAgICAgICAgICAgY29udGV4dDJELmdsb2JhbEFscGhhID0gY29udGV4dDJELmdsb2JhbEFscGhhICogdGhpcy5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHRoaXMuX2RyYXdSZXF1ZXN0ZWQpICYmICghKHRoaXMuX2NhbnZhc0RyYXdGaXhlZCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKHggPT4geC5kb0RyYXcodGhpcy5fY29udGV4dDJELCBpbnRlcmZhY2VzKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZvcmdldEludGVybmFsc09uRHJhdylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjID0+IHRoaXMucmVtb3ZlQ2hpbGQoYykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYW52YXNEcmF3Rml4ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbilcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY29udGV4dDJELCBpbnRlcmZhY2VzKTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0aW5nT3BhY2l0eSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5nbG9iYWxBbHBoYSA9IHN0YXJ0aW5nT3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgcHJvdGVjdGVkIF9oYXNSZXNpemVkKClcbiAgICB7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuICAgICAgICByZXR1cm4gKCh0aGlzLl9vbGREaW1lbnNpb24ud2lkdGggIT09IGRpbS53aWR0aCkgfHxcbiAgICAgICAgICAgICAgICAodGhpcy5fb2xkRGltZW5zaW9uLmhlaWdodCAhPT0gZGltLmhlaWdodCkpXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9oYXNEZXZpY2VQaXhlbFJhdGlvQ2hhbmdlZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGl4ZWxSYXRpbyAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgfVxuXG4gICAgYmVnaW4oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1Jlc2l6ZWQoKSB8fCB0aGlzLl9oYXNEZXZpY2VQaXhlbFJhdGlvQ2hhbmdlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUNhbnZhcyh0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZWJ1Z0Rpc2FibGVDYWNoZSlcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgaWYgKGNvbnRleHQyRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ucmVzZXREcmF3UG9zID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9fcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICAgICAgdGhpcy5fX2RpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5yZXNldERyYXdQb3MgPSB0cnVlO1xuICAgICAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLl9jYW52YXMsIDAsMCwgTWF0aC5yb3VuZCh0aGlzLl9fZGltLndpZHRoKSAqIHRoaXMucGl4ZWxSYXRpbywgTWF0aC5yb3VuZCh0aGlzLl9fZGltLmhlaWdodCkgKiB0aGlzLnBpeGVsUmF0aW8sIE1hdGgucm91bmQodGhpcy5fX3Bvcy54KSwgTWF0aC5yb3VuZCh0aGlzLl9fcG9zLnkpLCBNYXRoLnJvdW5kKHRoaXMuX19kaW0ud2lkdGgpLCBNYXRoLnJvdW5kKHRoaXMuX19kaW0uaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0RHJhdygpXG4gICAge1xuICAgICAgICB0aGlzLl9kcmF3UmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cblxuXG4gICAgLyppbnN0cnVtZW50KGxldmVsOiBudW1iZXIsIFZhcmlhYmxlTG9nZ2VyOiBWYXJpYWJsZUxvZ2dlciwgZXZlbnRMb2dnZXI6IFRlbGVtZXRyeUV2ZW50TG9nZ2VyKVxuICAgIHtcbiAgICAgICAgc3VwZXIuaW5zdHJ1bWVudChsZXZlbCwgVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyKTtcbiAgICAgICAgaWYgKGxldmVsID09PSBJbnN0cnVtZW50TGV2ZWwuRlVMTClcbiAgICAgICAgICAgIFZhcmlhYmxlTG9nZ2VyLmFkZFZhcmlhYmxlUGF0aHMoXCJfZHJhd1JlcXVlc3RlZFwiLFwiX2JhY2tpbmdTdG9yZVJhdGlvXCIsXCJfYmFja2dyb3VuZENvbG9yXCIsXCJfb2xkRGltZW5zaW9uXCIsXCJkZWJ1Z0Rpc2FibGVDYWNoZVwiKTtcbiAgICB9Ki9cbn1cblxuY2xhc3MgRHJhd1RyYW5zZm9ybSBleHRlbmRzIFRyYW5zZm9ybVxue1xuICAgIHJlY2FsY3VsYXRlKGV4Y2x1ZGVEcmF3Q2FjaGU/OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCEoZXhjbHVkZURyYXdDYWNoZSkpXG4gICAgICAgICAgICBpZiAoISh0aGlzLmJvdW5kcy5oYXNSZXNpemVkQXV0b1VwZGF0ZSgpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3NpdGlvbilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5kcmF3Q2FjaGVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXhjbHVkZURyYXdDYWNoZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3VwZXIuZ2FtZU9iamVjdC5yZXF1ZXN0RHJhdygpOyAvLyBUaGUgY2hpbGRyZW4gb2YgdGhpcyBEcmF3QnVmZmVyIHdpbGwgbm90IGNhbGwgcmVxdWVzdERyYXcsIGJ1dCB3ZSBrbm93IHRoaXMgZHJhd0J1ZmZlciBuZWVkcyB0byBiZSByZWRyYXduXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVjYWxjdWxhdGUoZXhjbHVkZURyYXdDYWNoZSk7XG4gICAgfVxufSIsImltcG9ydCBTaGFwZSBmcm9tIFwiLi9TaGFwZVwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0IGV4dGVuZHMgU2hhcGVcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiUmVjdFwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX2NhbnZhc0Z1bmN0aW9uOiAoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHZvaWQgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgc3Ryb2tlU3R5bGU6IHN0cmluZywgZmlsbFN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgIH1cblxuICAgIGdldCBjYW52YXNGdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2NhbnZhc0Z1bmN0aW9uOyB9XG4gICAgc2V0IGNhbnZhc0Z1bmN0aW9uKHZhbCkgeyB0aGlzLl9jYW52YXNGdW5jdGlvbiA9IHZhbDsgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhc0Z1bmN0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNGdW5jdGlvbihjb250ZXh0MkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG5cbiAgICAgICAgaWYgKHRoaXMuZmlsbFN0eWxlKVxuICAgICAgICAgICAgdGhpcy5maWxsZWQoY29udGV4dDJELCBwb3MsIGRpbSk7XG4gICAgICAgIGlmICgodGhpcy5saW5lV2lkdGggPiAwKSAmJiAodGhpcy5zdHJva2VTdHlsZSkpXG4gICAgICAgICAgICB0aGlzLm91dGxpbmUoY29udGV4dDJELCBwb3MsIGRpbSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FudmFzRnVuY3Rpb24pXG4gICAgICAgICAgICBjb250ZXh0MkQucmVzdG9yZSgpO1xuICAgIH1cblxuICAgIG91dGxpbmUoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgY29udGV4dDJELnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0MkQuYmVnaW5QYXRoKClcbiAgICAgICAgY29udGV4dDJELnJlY3QocG9zLnggKyB0aGlzLmxpbmVXaWR0aC8yLCBwb3MueSArIHRoaXMubGluZVdpZHRoLzIsIGRpbS53aWR0aC10aGlzLmxpbmVXaWR0aCwgZGltLmhlaWdodC10aGlzLmxpbmVXaWR0aCk7XG4gICAgICAgIGNvbnRleHQyRC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBmaWxsZWQoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgY29udGV4dDJELmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICAgICAgICBjb250ZXh0MkQuYmVnaW5QYXRoKClcbiAgICAgICAgY29udGV4dDJELmZpbGxSZWN0KHBvcy54LCBwb3MueSwgZGltLndpZHRoLCBkaW0uaGVpZ2h0KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxsUmVjdCBleHRlbmRzIFJlY3RcbntcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBmaWxsU3R5bGU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIHVuZGVmaW5lZCwgZmlsbFN0eWxlLCAwKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPdXRsaW5lUmVjdCBleHRlbmRzIFJlY3RcbntcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBsaW5lV2lkdGg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIHN0cm9rZVN0eWxlLCB1bmRlZmluZWQsIGxpbmVXaWR0aCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVidWdSZWN0IGV4dGVuZHMgT3V0bGluZVJlY3RcbntcbiAgICBjb25zdHJ1Y3Rvcihjb2xvdXI6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBjb2xvdXIsIGxpbmVXaWR0aClcbiAgICB9XG59IiwiaW1wb3J0IERyYXdCdWZmZXIgZnJvbSBcIi4vRHJhd0J1ZmZlclwiO1xuaW1wb3J0IERlYnVnUGFuZSBmcm9tIFwiLi4vdWkvRGVidWdQYW5lXCI7XG5pbXBvcnQgQnVmZmVyZWQgZnJvbSBcIi4vQnVmZmVyZWRcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgeyBGcmFtZSB9IGZyb20gXCIuLi9GcmFtZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb290PFQgZXh0ZW5kcyBHYW1lT2JqZWN0PiBleHRlbmRzIERyYXdCdWZmZXJcbntcbiAgICBwcm90ZWN0ZWQgX3Jlc2l6ZVRhcmdldDogRGltZW5zaW9uO1xuICAgIHByb3RlY3RlZCBfY29uc3RydWN0b3JBcmdzOiBhbnlbXTtcbiAgICBwcm90ZWN0ZWQgX3R5cGU7XG5cbiAgICBwcm90ZWN0ZWQgX2lubmVyOiBUO1xuICAgIHByb3RlY3RlZCBfYnVmZmVyZWQ6IEJ1ZmZlcmVkPFQ+O1xuXG4gICAgcHJpdmF0ZSBfZGVidWdQYW5lOiBib29sZWFuO1xuICAgIGdldCBkZWJ1Z1BhbmUoKSB7IHJldHVybiB0aGlzLl9kZWJ1Z1BhbmU7IH1cbiAgICBzZXQgZGVidWdQYW5lKHZhbCkgeyB0aGlzLl9kZWJ1Z1BhbmUgPSB2YWw7IH1cblxuICAgIGNvbnN0cnVjdG9yKHR5cGU6IChuZXcgKC4uLmFyZ3MpID0+IFQpLCAuLi5jb25zdHJ1Y3RvckFyZ3MpXG4gICAge1xuICAgICAgICBsZXQgYXJnMSA9IGNvbnN0cnVjdG9yQXJncy5zaGlmdCgpO1xuICAgICAgICBpZiAoYXJnMSBpbnN0YW5jZW9mIFBvc2l0aW9uKVxuICAgICAgICAgICAgc3VwZXIoYXJnMSwgY29uc3RydWN0b3JBcmdzLnNoaWZ0KCkgYXMgQm91bmRzKVxuICAgICAgICBlbHNlIGlmIChhcmcxIGluc3RhbmNlb2YgQm91bmRzKVxuICAgICAgICAgICAgc3VwZXIobnVsbCwgYXJnMSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBhIEJ1ZmZlcmVkPEdhbWVPYmplY3Q+IHRoYXQgbGFja3MgYSBib3VuZHMuIERyYXdCdWZmZXJzIHJlcXVpcmUgYSBCb3VuZHNcIik7XG4gICAgICAgIHRoaXMuX2NvbnN0cnVjdG9yQXJncyA9IGNvbnN0cnVjdG9yQXJncztcbiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyZWQgPSBuZXcgQnVmZmVyZWQ8VD4odGhpcy5fdHlwZSwgbmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgLi4udGhpcy5fY29uc3RydWN0b3JBcmdzKTtcbiAgICAgICAgdGhpcy5faW5uZXIgPSB0aGlzLl9idWZmZXJlZC5pbm5lcjtcbiAgICB9XG5cbiAgICBjcmVhdGVDYW52YXMobmFtZTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlRHJhd0J1ZmZlcigpO1xuICAgICAgICB0aGlzLl9jYW52YXMuaWQgPSBuYW1lO1xuICAgICAgICAvLyBJZiBuZWVkZWQgdG8gZm9jdXMgdGhlIGNhbnZhczpcbiAgICAgICAgLy8gdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsIFwiMVwiKTtcbiAgICAgICAgLy8gdGhpcy5fY2FudmFzLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgcmVzaXplVG9PblVwZGF0ZShkaW1lbnNpb246IERpbWVuc2lvbikgeyB0aGlzLl9yZXNpemVUYXJnZXQgPSBkaW1lbnNpb247IH1cblxuICAgIHJlc2l6ZUNhbnZhcyhkaW06IERpbWVuc2lvbiwgZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIucmVzaXplQ2FudmFzKGRpbSwgZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLndpZHRoID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi53aWR0aCArICdweCc7XG4gICAgICAgIHRoaXMuY2FudmFzLnN0eWxlLmhlaWdodCA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICsgJ3B4JztcbiAgICB9XG5cbiAgICAvL092ZXJyaWRlIHRoaXMgc28gd2UgZG8gbm8gcmUtY3JlYXRlIHRoZSBjYW52YXNcbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAvLyBpZiAoIXRoaXMuYmFja2dyb3VuZENvbG9yKSBcbiAgICAgICAgLy8gICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgICAgIHRoaXMuaGFzQWxwaGFDaGFubmVsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fYnVmZmVyZWQpO1xuICAgIH1cblxuICAgIGFmdGVyQ3JlYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRlYnVnUGFuZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGRlYnVnUGFuZSA9IHRoaXMuX2J1ZmZlcmVkLmJ1ZmZlci5hZGRDaGlsZChuZXcgRGVidWdQYW5lKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpKTtcbiAgICAgICAgICAgIGRlYnVnUGFuZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBkZWJ1Z1BhbmUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5fYnVmZmVyZWQuYnVmZmVyLmJhY2tncm91bmRDb2xvciA9IHRoaXMuYmFja2dyb3VuZENvbG9yO1xuICAgICAgICB0aGlzLl9idWZmZXJlZC5idWZmZXIuaGFzQWxwaGFDaGFubmVsID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lubmVyIGluc3RhbmNlb2YgRnJhbWUpXG4gICAgICAgICAgICB0aGlzLl9pbm5lci5vcGVuKCk7XG4gICAgfVxuXG4gICAgYmVnaW4oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3Jlc2l6ZVRhcmdldClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0uYm91bmRzLmNsZWFyRGltZW5zaW9ucygpXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuYWRkRGltZW5zaW9uKHRoaXMuX3Jlc2l6ZVRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLl9yZXNpemVUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucmVjYWxjdWxhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5iZWdpbigpO1xuICAgIH1cblxuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJSb290XCI7IH1cbn1cbiIsImltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgU2hhcGUgZnJvbSBcIi4vU2hhcGVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91bmRlZFJlY3QgZXh0ZW5kcyBTaGFwZVxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJSb3VuZGVkUmVjdFwiOyB9XG4gICAgXG4gICAgcHJvdGVjdGVkIF9yYWRpdXM6IG51bWJlcjtcblxuICAgIHByb3RlY3RlZCBfY2FudmFzRnVuY3Rpb246IChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdm9pZCA9IG51bGw7XG4gICAgXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgc3Ryb2tlU3R5bGU6IHN0cmluZywgZmlsbFN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyLCByYWRpdXM6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xuICAgIH1cblxuICAgIGdldCBjYW52YXNGdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2NhbnZhc0Z1bmN0aW9uOyB9XG4gICAgc2V0IGNhbnZhc0Z1bmN0aW9uKHZhbCkgeyB0aGlzLl9jYW52YXNGdW5jdGlvbiA9IHZhbDsgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhc0Z1bmN0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNGdW5jdGlvbihjb250ZXh0MkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dDJELnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0MkQuZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG5cbiAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIGxldCBmaWxsZWQgPSAodGhpcy5maWxsU3R5bGUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgIGxldCBzdHJva2UgPSAodGhpcy5zdHJva2VTdHlsZSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5yb3VuZFJlY3QoY29udGV4dDJELCBwb3MueCwgcG9zLnksIGRpbS53aWR0aCwgZGltLmhlaWdodCwgdGhpcy5fcmFkaXVzLCBmaWxsZWQsIHN0cm9rZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FudmFzRnVuY3Rpb24pXG4gICAgICAgIGNvbnRleHQyRC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogW2NvZGUgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzM2ODExOF1cbiAgICAgKiBEcmF3cyBhIHJvdW5kZWQgcmVjdGFuZ2xlIHVzaW5nIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjYW52YXMuXG4gICAgICogSWYgeW91IG9taXQgdGhlIGxhc3QgdGhyZWUgcGFyYW1zLCBpdCB3aWxsIGRyYXcgYSByZWN0YW5nbGVcbiAgICAgKiBvdXRsaW5lIHdpdGggYSA1IHBpeGVsIGJvcmRlciByYWRpdXNcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggVGhlIHRvcCBsZWZ0IHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRoZSB0b3AgbGVmdCB5IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXVzID0gNV0gVGhlIGNvcm5lciByYWRpdXM7IEl0IGNhbiBhbHNvIGJlIGFuIG9iamVjdCBcbiAgICAgKiAgICAgICAgICAgICAgICAgdG8gc3BlY2lmeSBkaWZmZXJlbnQgcmFkaWkgZm9yIGNvcm5lcnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3JhZGl1cy50bCA9IDBdIFRvcCBsZWZ0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtyYWRpdXMudHIgPSAwXSBUb3AgcmlnaHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3JhZGl1cy5iciA9IDBdIEJvdHRvbSByaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXVzLmJsID0gMF0gQm90dG9tIGxlZnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmaWxsID0gZmFsc2VdIFdoZXRoZXIgdG8gZmlsbCB0aGUgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3N0cm9rZSA9IHRydWVdIFdoZXRoZXIgdG8gc3Ryb2tlIHRoZSByZWN0YW5nbGUuXG4gICAgICovXG4gICAgcm91bmRSZWN0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4OiBudW1iZXIsIHk6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIHJhZGl1cywgZmlsbDogYm9vbGVhbiwgc3Ryb2tlOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzdHJva2UgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHN0cm9rZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByYWRpdXMgPSA1O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmFkaXVzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmFkaXVzID0ge3RsOiByYWRpdXMsIHRyOiByYWRpdXMsIGJyOiByYWRpdXMsIGJsOiByYWRpdXN9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRSYWRpdXMgPSB7dGw6IDAsIHRyOiAwLCBicjogMCwgYmw6IDB9O1xuICAgICAgICAgICAgZm9yICh2YXIgc2lkZSBpbiBkZWZhdWx0UmFkaXVzKSB7XG4gICAgICAgICAgICByYWRpdXNbc2lkZV0gPSByYWRpdXNbc2lkZV0gfHwgZGVmYXVsdFJhZGl1c1tzaWRlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHJhZGl1cy50bCwgeSk7XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHdpZHRoIC0gcmFkaXVzLnRyLCB5KTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5LCB4ICsgd2lkdGgsIHkgKyByYWRpdXMudHIpO1xuICAgICAgICBjdHgubGluZVRvKHggKyB3aWR0aCwgeSArIGhlaWdodCAtIHJhZGl1cy5icik7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHggKyB3aWR0aCwgeSArIGhlaWdodCwgeCArIHdpZHRoIC0gcmFkaXVzLmJyLCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgcmFkaXVzLmJsLCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSArIGhlaWdodCwgeCwgeSArIGhlaWdodCAtIHJhZGl1cy5ibCk7XG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIHJhZGl1cy50bCk7XG4gICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHksIHggKyByYWRpdXMudGwsIHkpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIGlmIChmaWxsKSB7XG4gICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJva2UpIHtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaGFwZSBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiU2hhcGVcIjsgfVxuXG4gICAgcHJpdmF0ZSBfc3Ryb2tlU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIF9maWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIF9saW5lV2lkdGg6IG51bWJlciA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uLCBib3VuZHMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKVxuICAgIH1cblxuICAgIGdldCBzdHJva2VTdHlsZSgpIHsgcmV0dXJuIHRoaXMuX3N0cm9rZVN0eWxlOyB9XG4gICAgZ2V0IGZpbGxTdHlsZSgpIHsgcmV0dXJuIHRoaXMuX2ZpbGxTdHlsZTsgfVxuICAgIGdldCBsaW5lV2lkdGgoKSB7IHJldHVybiB0aGlzLl9saW5lV2lkdGg7IH1cblxuICAgIHNldCBzdHJva2VTdHlsZSh2YWwpIHsgdGhpcy5fc3Ryb2tlU3R5bGUgPSB2YWw7IH1cbiAgICBzZXQgbGluZVdpZHRoKHZhbCkgeyB0aGlzLl9saW5lV2lkdGggPSB2YWw7IH1cbiAgICBzZXQgZmlsbFN0eWxlKHZhbCkgeyB0aGlzLl9maWxsU3R5bGUgPSB2YWw7IH1cblxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBWYXJpYWJsZUxvZ2dlci5hZGRWYXJpYWJsZVBhdGhzKFwiX3N0cm9rZVN0eWxlXCIsXCJfZmlsbFN0eWxlXCIsXCJfbGluZVdpZHRoXCIpO1xuICAgIH0qL1xufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgTG9hZGVyIGZyb20gXCJlbmdpbmUvaW8vTG9hZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwcml0ZSBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiU3ByaXRlXCI7IH1cblxuICAgIHByb3RlY3RlZCBfZmlsZW5hbWVzOiBzdHJpbmdbXTtcbiAgICBwcm90ZWN0ZWQgX2ltZzogSFRNTEltYWdlRWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgX2xvYWRlZERQUjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgLi4uZmlsZW5hbWVzOiBzdHJpbmdbXSlcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9maWxlbmFtZXMgPSBmaWxlbmFtZXM7XG4gICAgICAgIHRoaXMuX2ltZyA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0IGZpbGVuYW1lcygpIHsgcmV0dXJuIHRoaXMuX2ZpbGVuYW1lczsgfVxuXG4gICAgbG9hZCh7bG9hZGVyOmx9IDoge2xvYWRlcjogTG9hZGVyfSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2xvYWRlZERQUiA9IE1hdGgubWluKE1hdGguY2VpbCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyksIHRoaXMuZmlsZW5hbWVzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuYWRkQXNzZXQobC5sb2FkSW1hZ2UodGhpcy5maWxlbmFtZXNbdGhpcy5fbG9hZGVkRFBSLTFdLCAoYXNzZXQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2ltZyA9IHRoaXMuZ2V0QXNzZXQ8SFRNTEltYWdlRWxlbWVudD4odGhpcy5maWxlbmFtZXNbdGhpcy5fbG9hZGVkRFBSLTFdKTtcbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIGNvbnRleHQyRC5kcmF3SW1hZ2UodGhpcy5faW1nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbWcubmF0dXJhbFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltZy5uYXR1cmFsSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcy54LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcy55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW0uaGVpZ2h0KTtcbiAgICAgICAgLy8gUG90ZW50aWFsIHRvIHVzZSBwYXR0ZXJucyB0byBtYWtlIHRpbGluZyBpbWFnZSB0byBUcmFuc2xhdGlvbiBkaW1lbnNpb24gZWFzeVxuICAgICAgICAvL2xldCBwYXR0ZXJuID0gY29udGV4dDJELmNyZWF0ZVBhdHRlcm4odGhpcy5nZXRBc3NldCh0aGlzLmZpbGVuYW1lKSwgXCJyZXBlYXRcIik7XG4gICAgICAgIC8vY29udGV4dDJELmZpbGxTdHlsZSA9IHBhdHRlcm47XG4gICAgICAgIC8vY29udGV4dDJELmZpbGxSZWN0KHBvcy54LCBwb3MueSwgdGhpcy5UcmFuc2xhdGlvbi5kaW1lbnNpb24ud2lkdGgsIHRoaXMuVHJhbnNsYXRpb24uZGltZW5zaW9uLmhlaWdodCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgU2hhcGUgZnJvbSBcIi4vU2hhcGVcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uLy4uL3V0aWwvUG9pbnRcIjtcblxuZXhwb3J0IGNsYXNzIFRyaWFuZ2xlIGV4dGVuZHMgU2hhcGVcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiVHJpYW5nbGVcIjsgfVxuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgc3Ryb2tlU3R5bGU6IHN0cmluZywgZmlsbFN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIHRoaXMuc3Ryb2tlU3R5bGUgPSBzdHJva2VTdHlsZTtcbiAgICAgICAgdGhpcy5maWxsU3R5bGUgPSBmaWxsU3R5bGU7XG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgIH1cblxuICAgIGRyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICBsZXQgcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICBsZXQgZGltID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbjtcblxuICAgICAgICBpZiAodGhpcy5maWxsU3R5bGUpXG4gICAgICAgICAgICB0aGlzLmZpbGxlZChjb250ZXh0MkQsIHBvcywgZGltKTtcbiAgICAgICAgaWYgKCh0aGlzLmxpbmVXaWR0aCA+IDApICYmICh0aGlzLnN0cm9rZVN0eWxlKSlcbiAgICAgICAgICAgIHRoaXMub3V0bGluZShjb250ZXh0MkQsIHBvcywgZGltKTtcblxuICAgIH1cblxuICAgIG91dGxpbmUoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgY29udGV4dDJELnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0MkQuYmVnaW5QYXRoKClcbiAgICAgICAgbGV0IG5ld1BvcyA9IFBvaW50LmFkZChwb3MsIG5ldyBQb2ludCgwLjc1KnRoaXMubGluZVdpZHRoLDAuNzUqdGhpcy5saW5lV2lkdGgpKTtcbiAgICAgICAgbGV0IG5ld0RpbSA9IERpbWVuc2lvbi5hZGQoZGltLCBuZXcgRGltZW5zaW9uKC10aGlzLmxpbmVXaWR0aCoxLjUsIC10aGlzLmxpbmVXaWR0aCoxLjUpKTtcbiAgICAgICAgdGhpcy5fZHJhd1BhdGgoY29udGV4dDJELCBuZXdQb3MsIG5ld0RpbSk7XG4gICAgICAgIGNvbnRleHQyRC5zdHJva2UoKTtcbiAgICB9XG5cbiAgICBmaWxsZWQoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgY29udGV4dDJELmZpbGxTdHlsZSA9IHRoaXMuZmlsbFN0eWxlO1xuICAgICAgICBjb250ZXh0MkQuYmVnaW5QYXRoKClcbiAgICAgICAgdGhpcy5fZHJhd1BhdGgoY29udGV4dDJELCBwb3MsIGRpbSk7XG4gICAgICAgIGNvbnRleHQyRC5maWxsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZHJhd1BhdGgoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgY29udGV4dDJELnRyYW5zbGF0ZShwb3MueCwgcG9zLnkpO1xuICAgICAgICBjb250ZXh0MkQuYmVnaW5QYXRoKCk7XG4gICAgICAgIGNvbnRleHQyRC5tb3ZlVG8oMC41KmRpbS53aWR0aCwgMCk7XG4gICAgICAgIGNvbnRleHQyRC5saW5lVG8oZGltLndpZHRoLCBkaW0uaGVpZ2h0KTtcbiAgICAgICAgY29udGV4dDJELmxpbmVUbygwLGRpbS5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0MkQuY2xvc2VQYXRoKCk7XG4gICAgICAgIGNvbnRleHQyRC50cmFuc2xhdGUoLXBvcy54LCAtcG9zLnkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGxUcmlhbmdsZSBleHRlbmRzIFRyaWFuZ2xlXG57XG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgZmlsbFN0eWxlOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCB1bmRlZmluZWQsIGZpbGxTdHlsZSwgMCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3V0bGluZVRyaWFuZ2xlIGV4dGVuZHMgVHJpYW5nbGVcbntcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBsaW5lV2lkdGg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIHN0cm9rZVN0eWxlLCB1bmRlZmluZWQsIGxpbmVXaWR0aCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IENsaWNrVHJpZ2dlciBmcm9tIFwiLi9DbGlja1RyaWdnZXJcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgTW91c2UsIFRvdWNoIH0gZnJvbSBcImVuZ2luZS9pby9Nb3VzZVwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBDbGlja1RyaWdnZXJcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiQnV0dG9uXCI7IH1cblxuICAgIHByb3RlY3RlZCBfY29udGVudDogR2FtZU9iamVjdDtcbiAgICBwcm90ZWN0ZWQgX2hvdmVyUmVjdDogR2FtZU9iamVjdDtcbiAgICBwcm90ZWN0ZWQgX3ByZXNzZWRSZWN0OiBHYW1lT2JqZWN0O1xuXG4gICAgcHJvdGVjdGVkIF9idXR0b25SZXNldDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgY29udGVudD86IEdhbWVPYmplY3QpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIHRoaXMub25seUlmVW5oYW5kbGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgY29udGVudCgpIHsgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7IH1cbiAgICBnZXQgaG92ZXJSZWN0KCkgeyByZXR1cm4gdGhpcy5faG92ZXJSZWN0OyB9XG4gICAgZ2V0IHByZXNzZWRSZWN0KCkgeyByZXR1cm4gdGhpcy5fcHJlc3NlZFJlY3Q7IH1cblxuICAgIHNldEhvdmVyUmVjdCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9ob3ZlclJlY3QgPSB2YWw7XG4gICAgICAgIHRoaXMuX2hvdmVyUmVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc2V0UHJlc3NlZFJlY3QodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcHJlc3NlZFJlY3QgPSB2YWw7XG4gICAgICAgIHRoaXMuX3ByZXNzZWRSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXNldCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ob3ZlclJlY3QpXG4gICAgICAgICAgICB0aGlzLmhvdmVyUmVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnByZXNzZWRSZWN0KVxuICAgICAgICAgICAgdGhpcy5wcmVzc2VkUmVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICAgICAgdGhpcy5fYnV0dG9uUmVzZXQgPSB0cnVlO1xuICAgIH1cblxuICAgIGRlY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyUmVjdClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucHJlc3NlZFJlY3QpXG4gICAgICAgICAgICB0aGlzLnByZXNzZWRSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2NvbnRlbnQpO1xuICAgIH1cblxuICAgIG9uTW91c2VDbGljayhtOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2J1dHRvblJlc2V0KVxuICAgICAgICAgICAgc3VwZXIub25Nb3VzZUNsaWNrKG0sIHRvdWNoLCB0b3VjaElEKTtcbiAgICAgICAgbS5zZXRIYW5kbGVkKHRvdWNoKTtcbiAgICB9XG5cbiAgICBvbk1vdXNlTW92ZShtOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBtLnNldEhhbmRsZWQodG91Y2gpO1xuICAgIH1cblxuICAgIG9uTW91c2VEb3duKG06IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2J1dHRvblJlc2V0ID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnByZXNzZWRSZWN0KVxuICAgICAgICAgICAgdGhpcy5wcmVzc2VkUmVjdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJSZWN0KVxuICAgICAgICAgICAgdGhpcy5ob3ZlclJlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBtLnNldEhhbmRsZWQodG91Y2gpO1xuICAgIH1cblxuICAgIG9uTW91c2VVcChtOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wcmVzc2VkUmVjdClcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZFJlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5ob3ZlclJlY3QpXG4gICAgICAgICAgICB0aGlzLmhvdmVyUmVjdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgbS5zZXRIYW5kbGVkKHRvdWNoKTtcbiAgICB9XG5cbiAgICBvbk1vdXNlRW50ZXIobTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJSZWN0KVxuICAgICAgICAgICAgdGhpcy5ob3ZlclJlY3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIG0uc2V0SGFuZGxlZCh0b3VjaCk7XG4gICAgfVxuXG4gICAgb25Nb3VzZUxlYXZlKG06IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyUmVjdClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucHJlc3NlZFJlY3QpXG4gICAgICAgICAgICB0aGlzLnByZXNzZWRSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTW91c2VUcmlnZ2VyIGZyb20gXCIuL01vdXNlVHJpZ2dlclwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCJlbmdpbmUvdXRpbC9FdmVudFwiO1xuaW1wb3J0IHsgTW91c2UsIFRvdWNoIH0gZnJvbSBcImVuZ2luZS9pby9Nb3VzZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGlja1RyaWdnZXIgZXh0ZW5kcyBNb3VzZVRyaWdnZXJcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiQ2xpY2tUcmlnZ2VyXCI7IH1cblxuICAgIHByb3RlY3RlZCBfb25DbGljazogRXZlbnQ7XG4gICAgaGFuZGxlQ2xpY2tzOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9maXJlZFRoaXNVcGRhdGUgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fb25DbGljayA9IG5ldyBFdmVudCgpO1xuICAgIH1cblxuICAgIGdldCBvbkNsaWNrKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uQ2xpY2s7IH1cblxuICAgIG9uTW91c2VDbGljayhtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCghdGhpcy5fZmlyZWRUaGlzVXBkYXRlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRXZlbnQuY2FsbCh0aGlzLm9uQ2xpY2ssIG1vdXNlLCB0b3VjaCwgdG91Y2hJRCk7XG4gICAgICAgICAgICB0aGlzLl9maXJlZFRoaXNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFuZGxlQ2xpY2tzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0b3VjaClcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guaGFuZGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBtb3VzZS5zZXRIYW5kbGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoe21vdXNlOiBtfSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpcmVkVGhpc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGFibGUpXG4gICAgICAgICAgICB0aGlzLmNoZWNrTW91c2VBY3Rpb25zKG0pO1xuICAgIH1cbn0iLCJpbXBvcnQgVGV4dCBmcm9tIFwiLi9UZXh0XCI7XG5pbXBvcnQgS2V5VHJpZ2dlciwgeyBLZXlUcmlnZ2VyRXZlbnRzIH0gZnJvbSBcIi4vS2V5VHJpZ2dlclwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVidWdQYW5lIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJEZWJ1Z1BhbmVcIjsgfVxuXG4gICAgdGltaW5nVGV4dDogVGV4dDtcbiAgICBiZWdpblRpbWU6IG51bWJlcjtcbiAgICBkcmF3VGltZTogbnVtYmVyO1xuICAgIGVuZFRpbWU6IG51bWJlcjtcbiAgICB1cGRhdGVUaW1lOiBudW1iZXI7XG4gICAgYXZlcmFnZVN0ZXBzOiBudW1iZXI7XG4gICAgbG9vcFRpbWU6IG51bWJlcjtcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnRpbWluZ1RleHQgPSB0aGlzLmFkZENoaWxkKG5ldyBUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgbmV3IFBvaW50KDAsMSkpLCBuZXcgUGl4ZWxUcmFuc2xhdGlvbigwLC01KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcygpLCBcIkZQUzpcIiwgXCJibGFja1wiLCAxMiwgXCJzZXJpZlwiKSkgYXMgVGV4dDtcblxuICAgICAgICB0aGlzLmJlZ2luVGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kcmF3VGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYXZlcmFnZVN0ZXBzICA9IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQga3QgPSB0aGlzLmFkZENoaWxkKG5ldyBLZXlUcmlnZ2VyKCkpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIlRhYlwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5UHJlc3MpLnB1c2goKCkgPT4gdGhpcy52aXNpYmxlID0gISh0aGlzLnZpc2libGUpICwgdGhpcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHt0aW1pbmc6dCwga2V5Ym9hcmQ6a30pXG4gICAge1xuICAgICAgICB0aGlzLmJlZ2luVGltZSA9IHRoaXMucnVubmluZ0F2ZXJhZ2UodGhpcy5iZWdpblRpbWUsIHQuYmVnaW5UaW1lLCB0LmZwcyk7Ly8gQXZlcmFnZXMgb3ZlciAxIHNlY29uZCBvZiBlbGFwc2VkIHRpbWVcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLnVwZGF0ZVRpbWUsIHQudXBkYXRlVGltZSwgdC5mcHMqdC51cGRhdGVTdGVwcyk7XG4gICAgICAgIHRoaXMuZHJhd1RpbWUgPSB0aGlzLnJ1bm5pbmdBdmVyYWdlKHRoaXMuZHJhd1RpbWUsIHQuZHJhd1RpbWUsIHQuZnBzKTtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLmVuZFRpbWUsIHQuZW5kVGltZSwgdC5mcHMpO1xuICAgICAgICB0aGlzLmxvb3BUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLmxvb3BUaW1lLCB0Lmxvb3BUaW1lLCB0LmZwcyk7XG4gICAgICAgIHRoaXMuYXZlcmFnZVN0ZXBzID0gIHRoaXMucnVubmluZ0F2ZXJhZ2UodGhpcy5hdmVyYWdlU3RlcHMsIHQudXBkYXRlU3RlcHMsIHQuZnBzKTtcblxuICAgICAgICB0aGlzLnRpbWluZ1RleHQudGV4dCA9ICAgICAoXCJGUFM6IFwiICsgdC5mcHMpLnN1YnN0cmluZygwLDcpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgQmVnaW46IFwiICsgdGhpcy5iZWdpblRpbWUpLnN1YnN0cmluZygwLDE0KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIiAgIERyYXc6IFwiICsgdGhpcy5kcmF3VGltZSkuc3Vic3RyaW5nKDAsMTMpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgVXBkYXRlOiBcIiArIHRoaXMudXBkYXRlVGltZSkuc3Vic3RyaW5nKDAsMTUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgKFN0ZXBzOiBcIiArIHRoaXMuYXZlcmFnZVN0ZXBzKS5zdWJzdHJpbmcoMCwxNSkgKyBcIikgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCIgICBFbmQ6IFwiICsgdGhpcy5lbmRUaW1lKS5zdWJzdHJpbmcoMCwxMikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCIgICBMb29wOiBcIiArIHRoaXMubG9vcFRpbWUpLnN1YnN0cmluZygwLDEzKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIiAgIChDYWxjdWxhdGVkIEZQUzogXCIgKyBNYXRoLnJvdW5kKDEwMDAvdGhpcy5sb29wVGltZSkpLnN1YnN0cmluZygwLDIzKSArIFwiKVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgKFJhdGU6IFwiICsgMTAwLyh0LnNsb3dEb3duKzEpKS5zdWJzdHJpbmcoMCwxMykgKyBcIiUpXCI7XG5cbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3RhYmxlKVxuICAgICAgICAgICAgay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5mb3JFYWNoKGtleSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiLVwiKVxuICAgICAgICAgICAgICAgICAgICB0LnNsb3dEb3duKys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIitcIilcbiAgICAgICAgICAgICAgICAgICAgdC5zbG93RG93biA9IE1hdGgubWF4KDAsIHQuc2xvd0Rvd24tMSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBydW5uaW5nQXZlcmFnZSh2YWw6IG51bWJlciwgbmV3VmFsOiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCF2YWwpXG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsO1xuICAgICAgICByZXR1cm4gKHZhbCAqIChsZW5ndGgtMSkgKyBuZXdWYWwpL2xlbmd0aFxuICAgIH1cbn1cbiIsImltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IENvbmRpdGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0NvbmRpdGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5cbmV4cG9ydCBlbnVtIEdyaWRPcmllbnRhdGlvbiB7IFZlcnRpY2FsLCBIb3Jpem9udGFsIH1cblxuLyoqXG4gKiBHcmlkTGF5b3V0cyBzaG91bGQgYmUgdXNlZCBpbiBtb3N0IHNpdHVhdGlvbnMgd2hlcmUgYSBHYW1lT2JqZWN0IGNoYW5nZXMgc2l6ZSBcbiAqIGJhc2VkIG9uIGl0cyBjaGlsZHJlbiwgaS5lLiBpdCBoYXMgUHJvcG9ydGlvbmFsRGltZW5zaW9ucyB0aGF0IHBvaW50IGRvd24gdGhlXG4gKiB0cmVlIGluc3RlYWQgb2YgdXAgaXQuIEEgR2FtZU9iamVjdCB0aGF0IHByb3ZpZGVzIGFkZGl0aW9uYWwgZnVuY3Rpb25hbGl5IGFzXG4gKiBhIHdyYXBwZXIgYXJvdW5kIGEgR3JpZExheW91dCBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3Mgc28gdGhhdCBpdCB0b28gd2lsbFxuICogaGF2ZSBpdHMgYm91bmRzIGNvcnJlY3RseSBzZXQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRMYXlvdXQgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkdyaWRMYXlvdXRcIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9jZWxsczogR2FtZU9iamVjdFtdO1xuICAgIHByb3RlY3RlZCBfb3JpZW50YXRpb246IEdyaWRPcmllbnRhdGlvbjtcbiAgICBwcm90ZWN0ZWQgX3BhZGRpbmc6IG51bWJlciA9IDA7XG4gICAgcHJvdGVjdGVkIF9yZWxhdGl2ZVBhZGRpbmc6IG51bWJlciA9IDA7XG5cbiAgICBnZXQgbWlkZGxlWSgpIHsgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbCA/IHRoaXMuX3BhZGRpbmcgOiAwOyB9XG4gICAgZ2V0IG1pZGRsZVgoKSB7IHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSBHcmlkT3JpZW50YXRpb24uSG9yaXpvbnRhbCA/IHRoaXMuX3BhZGRpbmcgOiAwOyB9XG5cbiAgICBnZXQgY2VsbHMoKSB7IHJldHVybiB0aGlzLl9jZWxsczsgfVxuICAgIGdldCBvcmllbnRhdGlvbigpIHsgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uOyB9XG5cbiAgICBjb25kaXRpb25hbERpbWVuc2lvbjogQ29uZGl0aW9uYWxEaW1lbnNpb247XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjZWxsczogR2FtZU9iamVjdFtdLCBvcmllbnRhdGlvbjogR3JpZE9yaWVudGF0aW9uKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcylcbiAgICAgICAgdGhpcy5fY2VsbHMgPSBjZWxscztcbiAgICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBHcmlkT3JpZW50YXRpb24uSG9yaXpvbnRhbClcbiAgICAgICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaCgoYyxpKSA9PlxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7ajxpO2orKylcbiAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDEsIDAsIHRoaXMuY2VsbHNbal0udHJhbnNmb3JtLmJvdW5kcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLlZlcnRpY2FsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+XG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGo9MDtqPGk7aisrKVxuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgdGhpcy5jZWxsc1tqXS50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb25kaXRpb25hbERpbWVuc2lvbiA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5hZGREaW1lbnNpb24obmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX2RpbWVuc2lvbkZ1bmN0aW9uLmJpbmQodGhpcykpKTtcblxuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goYyA9PiBjLnRyYW5zZm9ybS5ib3VuZHMub25SZXNpemUucHVzaCh0aGlzLmNvbmRpdGlvbmFsRGltZW5zaW9uLm1hcmtBc1VwZGF0ZWQuYmluZCh0aGlzKSwgdGhpcykpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGMgPT4gYy50cmFuc2Zvcm0uYm91bmRzLm9uUmVzaXplLnVucmVnaXN0ZXIodGhpcykpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goYyA9PiB0aGlzLmFkZENoaWxkKGMpKTtcbiAgICB9XG5cbiAgICBhZGRDZWxsKG5ld0NlbGw6IEdhbWVPYmplY3QsIGluZGV4PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuY2VsbHMubGVuZ3RoO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ld0NlbGwpO1xuXG4gICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICBsZXQgbWlkZGxlWSA9IHRoaXMubWlkZGxlWTtcblxuICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLlZlcnRpY2FsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLCAxLCBjLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgbmV3Q2VsbC50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYLCBtaWRkbGVZKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpIDwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigxLCAwLCBjLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwgMCwgbmV3Q2VsbC50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICAgICAgICAgIGMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKG1pZGRsZVgsIG1pZGRsZVkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jZWxscy5zcGxpY2UoaW5kZXgsIDAsIG5ld0NlbGwpO1xuICAgICAgICBuZXdDZWxsLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYKmluZGV4LCBtaWRkbGVZKmluZGV4KSk7XG4gICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLmJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMuY29uZGl0aW9uYWxEaW1lbnNpb24ubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb25pbmdJc0RpcnR5KCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2VsbChpbmRleDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKChpbmRleCA+PSAwKSAmJiAoaW5kZXggPCB0aGlzLmNlbGxzLmxlbmd0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICAgICAgbGV0IG1pZGRsZVkgPSB0aGlzLm1pZGRsZVk7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuY2VsbHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbClcbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goKGMsaSkgPT4gXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsIC0xLCBjZWxsLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbigtbWlkZGxlWCwgLW1pZGRsZVkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLkhvcml6b250YWwpXG4gICAgICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiBpbmRleClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKC0xLCAwLCBjZWxsLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKC1taWRkbGVYLCAtbWlkZGxlWSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNlbGxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBjZWxsLnRyYW5zZm9ybS5ib3VuZHMub25SZXNpemUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgIGNlbGwucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9kaW1lbnNpb25GdW5jdGlvbihkaW06IERpbWVuc2lvbik6IFBpeGVsRGltZW5zaW9uXG4gICAge1xuICAgICAgICBsZXQgZGltczogRGltZW5zaW9uW10gPSBbXTtcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGMgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGltcy5wdXNoKGMudHJhbnNmb3JtLmJvdW5kcy5jYWxjdWxhdGluZyA/IGMudHJhbnNmb3JtLmJvdW5kcy5jYWNoZWREaW1lbnNpb246IGMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICBsZXQgbWlkZGxlWSA9IHRoaXMubWlkZGxlWTtcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgZGltcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgIHdpZHRoICs9IGMud2lkdGggKyBtaWRkbGVYO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgYy5oZWlnaHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbClcbiAgICAgICAgICAgIGRpbXMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjLndpZHRoKTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gYy5oZWlnaHQgKyBtaWRkbGVZO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbih3aWR0aCAtIG1pZGRsZVgsIGhlaWdodCAtIG1pZGRsZVkpO1xuICAgIH1cblxuICAgIGFkZFBpeGVsUGFkZGluZyhwYWRkaW5nOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgbGV0IG1pZGRsZVggPSB0aGlzLm1pZGRsZVg7XG4gICAgICAgIGxldCBtaWRkbGVZID0gdGhpcy5taWRkbGVZO1xuXG4gICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaCgoYyxpKSA9PlxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYKmksIG1pZGRsZVkqaSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdyaWRCdWlsZGVyXG57XG4gICAgcHJvdGVjdGVkIF9ncmlkOiBHcmlkTGF5b3V0O1xuICAgIHByb3RlY3RlZCBfbmV3Q2VsbHM6IEdhbWVPYmplY3RbXSA9IFtdO1xuXG4gICAgZ2V0IGdyaWQoKTogR3JpZExheW91dCB7IHJldHVybiB0aGlzLl9ncmlkOyB9XG5cbiAgICBwdXNoQ2VsbDxUIGV4dGVuZHMgR2FtZU9iamVjdD4obmV3Q2VsbDogVCwgaW5kZXg/OiBudW1iZXIpOiBUXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fbmV3Q2VsbHMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9uZXdDZWxscy5zcGxpY2UoaW5kZXgsIDAsIG5ld0NlbGwpO1xuICAgICAgICByZXR1cm4gbmV3Q2VsbDtcbiAgICB9XG5cbiAgICBmaXhMYXllcihvcmllbnRhdGlvbjogR3JpZE9yaWVudGF0aW9uLCBwb3NpdGlvbj86IFBvc2l0aW9uLCBib3VuZHM/OiBCb3VuZHMpXG4gICAge1xuICAgICAgICB0aGlzLl9ncmlkID0gbmV3IEdyaWRMYXlvdXQocG9zaXRpb24gfHwgbmV3IFBvc2l0aW9uKCksIGJvdW5kcyB8fCBuZXcgQm91bmRzKCksIHRoaXMuX25ld0NlbGxzLCBvcmllbnRhdGlvbik7XG4gICAgICAgIHRoaXMuX25ld0NlbGxzID0gW3RoaXMuX2dyaWRdXG4gICAgfVxufVxuXG4iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi8uLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gXCIuLi8uLi9pby9LZXlib2FyZFwiO1xuXG5leHBvcnQgZW51bSBLZXlUcmlnZ2VyRXZlbnRzIHsgb25LZXlQcmVzcywgb25LZXlEb3duLCBvbktleVVwIH1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2V5VHJpZ2dlciBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiS2V5VHJpZ2dlclwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX2tleXMgPSBbXVxuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIobnVsbCwgbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGtleWNvZGUgXG4gICAgICogQHBhcmFtIHRyaWdnZXIgb3B0aW9uYWwsIGRlZmF1bHRzIHRvIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duXG4gICAgICogQHJldHVybiBhbiBldmVudCB3aGljaCBpcyBjYWxsZWQgd2hlbiB0aGUga2V5IHRyaWdnZXIgZXZlbnQgaGFwcGVuc1xuICAgICAqL1xuICAgIGdldEtleUV2ZW50KGtleWNvZGU6IHN0cmluZywgdHJpZ2dlcj86IEtleVRyaWdnZXJFdmVudHMpOiBFdmVudFxuICAgIHtcbiAgICAgICAgaWYgKCF0cmlnZ2VyKVxuICAgICAgICAgICAgdHJpZ2dlciA9IEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duO1xuICAgICAgICB0aGlzLl9rZXlzLmZvckVhY2goeCA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZigoeC5rZXljb2RlID09PSBrZXljb2RlKSAmJiAoeC50cmlnZ2VyID09PSB0cmlnZ2VyKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHguZXZlbnQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICAgICAgdGhpcy5fa2V5cy5wdXNoKHtrZXljb2RlOiBrZXljb2RlLCB0cmlnZ2VyOiB0cmlnZ2VyLCBldmVudDogZXZlbnR9KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXljb2RlIFxuICAgICAqIEBwYXJhbSB0cmlnZ2VyXG4gICAgICogQHJldHVybiB0cnVlIGlmIGFuIGV2ZW50IHdhcyByZW1vdmVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICByZW1vdmVLZXlFdmVudChrZXljb2RlOiBzdHJpbmcsIHRyaWdnZXI6IEtleVRyaWdnZXJFdmVudHMpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgdG9SZW1vdmUgPSB0aGlzLl9rZXlzLmZpbHRlcih4ID0+ICh4LmtleWNvZGUgPT09IGtleWNvZGUpICYmICh4LnRyaWdnZXIgPT09IHRyaWdnZXIpKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvUmVtb3ZlLmZvckVhY2goeCA9PiB0aGlzLl9rZXlzLnNwbGljZSh0aGlzLl9rZXlzLmluZGV4T2YoeCksIDEpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBiZWdpbih7a2V5Ym9hcmQ6a30gOiB7a2V5Ym9hcmQ6IEtleWJvYXJkfSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHRoaXMuX2tleXMuZm9yRWFjaCh4PT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoeC50cmlnZ2VyID09PSBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoay5pc0tleVVwKHgua2V5Y29kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB4LmV2ZW50LmNhbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeC50cmlnZ2VyID09PSBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrLmlzS2V5RG93bih4LmtleWNvZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICB4LmV2ZW50LmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5pbmRleE9mKHgua2V5Y29kZSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgeC5ldmVudC5jYWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHgudHJpZ2dlciA9PT0gS2V5VHJpZ2dlckV2ZW50cy5vbktleVByZXNzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5pbmRleE9mKHgua2V5Y29kZSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgeC5ldmVudC5jYWxsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiLi4vY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nQmFyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfYmdDb2xvdXI6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX2ZnQ29sb3VyOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9wcm9wb3J0aW9uRGltZW5zaW9uOiBQcm9wb3J0aW9uYWxEaW1lbnNpb247XG4gICAgcHJvdGVjdGVkIF9pbm5lckJhcjogRmlsbFJlY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBiZ0NvbG91cjogc3RyaW5nLCBmZ0NvbG91cjogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcylcbiAgICAgICAgdGhpcy5fYmdDb2xvdXIgPSBiZ0NvbG91cjtcbiAgICAgICAgdGhpcy5fZmdDb2xvdXIgPSBmZ0NvbG91cjtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5fYmdDb2xvdXIpKTtcbiAgICAgICAgdGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbiA9IG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwxKTtcbiAgICAgICAgdGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbi5wcmVzZXJ2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2lubmVyQmFyID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHModGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbiksIHRoaXMuX2ZnQ29sb3VyKSk7XG4gICAgfVxuXG4gICAgc2V0UHJvcG9ydGlvbihwcm9wb3J0aW9uOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9wb3J0aW9uRGltZW5zaW9uLndpZHRoID0gcHJvcG9ydGlvbjtcbiAgICAgICAgdGhpcy5faW5uZXJCYXIudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgIH1cblxufSIsImltcG9ydCBNb3VzZVRyaWdnZXIgZnJvbSBcIi4vTW91c2VUcmlnZ2VyXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgeyBNb3VzZSwgVG91Y2ggfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5cbmNsYXNzIFRvdWNoRHJhZ0RhdGFcbntcbiAgICBkcmFnU3RhcnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBsYXN0UG9zOiBQb2ludDtcbiAgICBkcmFnZ2luZyA9IGZhbHNlO1xuICAgIG1pbkRpc3RhbmNlUGFzc2VkOiBib29sZWFuID0gZmFsc2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdXNlRHJhZ1RyaWdnZXIgZXh0ZW5kcyBNb3VzZVRyaWdnZXJcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiTW91c2VEcmFnVHJpZ2dlclwiOyB9XG5cbiAgICBwcml2YXRlIF90b3VjaGVzOiBNYXA8bnVtYmVyLCBUb3VjaERyYWdEYXRhPiA9IG5ldyBNYXAoKTtcbiAgICBcbiAgICBwcm90ZWN0ZWQgX2RyYWdTdGFydCA9IG5ldyBQb2ludCgwLDApO1xuICAgIHByb3RlY3RlZCBfbGFzdFBvczogUG9pbnQ7XG4gICAgcHJvdGVjdGVkIF9kcmFnZ2luZyA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfb25EcmFnOiBFdmVudDtcbiAgICBwcm90ZWN0ZWQgX29uRW5kRHJhZzogRXZlbnQ7XG5cbiAgICBnZXQgb25EcmFnKCkgeyByZXR1cm4gdGhpcy5fb25EcmFnOyB9XG4gICAgZ2V0IG9uRW5kRHJhZygpIHsgcmV0dXJuIHRoaXMuX29uRW5kRHJhZzsgfVxuICAgIGdldCB0b3VjaENvdW50KCkgeyByZXR1cm4gdGhpcy5fdG91Y2hlcy5zaXplOyB9XG5cbiAgICBwcm90ZWN0ZWQgX21pbkRpc3RhbmNlUGFzc2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgbWluRGlzdGFuY2U6IG51bWJlciB8IFBvaW50ID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fb25EcmFnID0gbmV3IEV2ZW50KCk7XG4gICAgICAgIHRoaXMuX29uRW5kRHJhZyA9IG5ldyBFdmVudCgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSh7bW91c2U6bX0pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGFibGUpXG4gICAgICAgICAgICB0aGlzLmNoZWNrTW91c2VBY3Rpb25zKG0pO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdG91Y2hlcy5mb3JFYWNoKHQgPT4gXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0LmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHQubWluRGlzdGFuY2VQYXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vbkVuZERyYWcuY2FsbChtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VEb3duKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRvdWNoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcmFnU3RhcnQgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MgPSB0aGlzLl9kcmFnU3RhcnQ7XG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2luZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdG91Y2hEcmFnRGF0YSA9IHRoaXMuX3RvdWNoZXMuZ2V0KHRvdWNoSUQpO1xuICAgICAgICAgICAgaWYgKHRvdWNoRHJhZ0RhdGEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhID0gbmV3IFRvdWNoRHJhZ0RhdGEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3VjaGVzLnNldCh0b3VjaElELCB0b3VjaERyYWdEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEuZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5kcmFnU3RhcnQgPSB0b3VjaC5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEubGFzdFBvcyA9IHRvdWNoRHJhZ0RhdGEuZHJhZ1N0YXJ0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZVVwKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRvdWNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJhZ2dpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmREcmFnLmNhbGwobW91c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRvdWNoRHJhZ0RhdGEgPSB0aGlzLl90b3VjaGVzLmdldCh0b3VjaElEKTtcbiAgICAgICAgICAgIGlmICh0b3VjaERyYWdEYXRhKVxuICAgICAgICAgICAgICAgIHRoaXMuX3RvdWNoZXMuZGVsZXRlKHRvdWNoSUQpO1xuICAgICAgICAgICAgaWYgKHRvdWNoRHJhZ0RhdGEgJiYgdG91Y2hEcmFnRGF0YS5kcmFnZ2luZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmREcmFnLmNhbGwobW91c2UsIHRvdWNoLCB0b3VjaElEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VMZWF2ZShtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCF0b3VjaClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9uRW5kRHJhZy5jYWxsKG1vdXNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3VjaERyYWdEYXRhID0gdGhpcy5fdG91Y2hlcy5nZXQodG91Y2hJRCk7XG4gICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvdWNoZXMuZGVsZXRlKHRvdWNoSUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkVuZERyYWcuY2FsbChtb3VzZSwgdG91Y2gsIHRvdWNoSUQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZU1vdmUobW91c2U6IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghdG91Y2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnZ2luZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX21pbkRpc3RhbmNlUGFzc2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZlY3RvciA9IFBvaW50Lm1pbnVzKHRoaXMuX2xhc3RQb3MsIHRoaXMuX2RyYWdTdGFydCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWluRGlzdGFuY2UgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChNYXRoLmFicyh2ZWN0b3IueCkgPiB0aGlzLm1pbkRpc3RhbmNlLngpIHx8IChNYXRoLmFicyh2ZWN0b3IueSkgPiB0aGlzLm1pbkRpc3RhbmNlLnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2ZWN0b3IubWFnbml0dWRlID4gdGhpcy5taW5EaXN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZy5jYWxsKFBvaW50Lm1pbnVzKHRoaXMuX2xhc3RQb3MsIG1vdXNlLnBvc2l0aW9uKSwgbW91c2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3VjaERyYWdEYXRhID0gdGhpcy5fdG91Y2hlcy5nZXQodG91Y2hJRCk7XG4gICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YSAmJiB0b3VjaERyYWdEYXRhLmRyYWdnaW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2ZWN0b3IgPSBQb2ludC5taW51cyh0b3VjaERyYWdEYXRhLmxhc3RQb3MsIHRvdWNoRHJhZ0RhdGEuZHJhZ1N0YXJ0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5taW5EaXN0YW5jZSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKE1hdGguYWJzKHZlY3Rvci54KSA+IHRoaXMubWluRGlzdGFuY2UueCkgfHwgKE1hdGguYWJzKHZlY3Rvci55KSA+IHRoaXMubWluRGlzdGFuY2UueSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmVjdG9yLm1hZ25pdHVkZSA+IHRoaXMubWluRGlzdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEubWluRGlzdGFuY2VQYXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyYWcuY2FsbChQb2ludC5taW51cyh0b3VjaERyYWdEYXRhLmxhc3RQb3MsIHRvdWNoLnBvc2l0aW9uKSwgbW91c2UsIHRvdWNoLCB0b3VjaElEKTtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmxhc3RQb3MgPSB0b3VjaC5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCB7IE1vdXNlLCBUb3VjaCB9IGZyb20gXCIuLi8uLi9pby9Nb3VzZVwiO1xuXG5jbGFzcyBUb3VjaERhdGFcbntcbiAgICBpbkJvdW5kczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGNsaWNrU3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHRvRGVzdHJveTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW91c2VUcmlnZ2VyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJNb3VzZVRyaWdnZXJcIjsgfVxuXG4gICAgcHJpdmF0ZSBfbW91c2VJbkJvdW5kczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2NsaWNrU3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHRvdWNoZXM6IE1hcDxudW1iZXIsIFRvdWNoRGF0YT4gPSBuZXcgTWFwKCk7XG4gICAgcHJpdmF0ZSBfb25seUlmVW5oYW5kbGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgb25seUlmVW5oYW5kbGVkKCkgeyByZXR1cm4gdGhpcy5fb25seUlmVW5oYW5kbGVkOyB9XG4gICAgc2V0IG9ubHlJZlVuaGFuZGxlZCh2YWwpIHsgdGhpcy5fb25seUlmVW5oYW5kbGVkID0gdmFsOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHttb3VzZTptfSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHRoaXMuY2hlY2tNb3VzZUFjdGlvbnMobSk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICogQ2hlY2sgZm9yIGEgc2V0IG9mIG1vdXNlIGV2ZW50cyBnaXZlbiB0aGUgcHJvdmlkZWQgbW91c2UgaW50ZXJmYWNlIGFuZFxuICAgICogY2FsbCB0aGUgYG9uTW91c2UuLi5gIG1vdXNlIGV2ZW50IG1ldGhvZHMgb24gdGhpcyBHYW1lT2JqZWN0LlxuICAgICogQHBhcmFtIG1vdXNlIHRoZSBNb3VzZSBvYmplY3QgdG8gY2hlY2tcbiAgICAqL1xuICAgIGNoZWNrTW91c2VBY3Rpb25zKG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIGlmICghKHRoaXMub25seUlmVW5oYW5kbGVkICYmIG1vdXNlLmhhbmRsZWQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0uY29udGFpbnNQb2ludChtb3VzZS5wb3NpdGlvbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9tb3VzZUluQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VFbnRlcihtb3VzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW91c2VJbkJvdW5kcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlSG92ZXIobW91c2UpO1xuICAgICAgICAgICAgICAgIGlmIChtb3VzZS5pc01vdXNlTW92ZUV2ZW50KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZShtb3VzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb3VzZS5pc0Rvd24pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VEcmFnKG1vdXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlLmlzTW91c2VEb3duRXZlbnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGlja1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKG1vdXNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlLmlzTW91c2VVcEV2ZW50KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAobW91c2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xpY2tTdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlQ2xpY2sobW91c2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbW91c2VJbkJvdW5kcylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZUxlYXZlKG1vdXNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbW91c2VJbkJvdW5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuX2NsaWNrU3RhcnRlZCkgJiYgKG1vdXNlLmlzTW91c2VVcEV2ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xpY2tTdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja1RvdWNoQWN0aW9ucyhtb3VzZSk7XG4gICAgfVxuXG4gICAgY2hlY2tUb3VjaEFjdGlvbnMobW91c2U6IE1vdXNlKVxuICAgIHtcbiAgICAgICAgdGhpcy50b3VjaGVzLmZvckVhY2godG91Y2ggPT4gdG91Y2gudG9EZXN0cm95ID0gdHJ1ZSk7XG4gICAgICAgIG1vdXNlLnRvdWNoZXMuZm9yRWFjaCgodCwgaykgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMub25seUlmVW5oYW5kbGVkICYmIHQuaGFuZGxlZCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHRvdWNoID0gdGhpcy50b3VjaGVzLmdldChrKTtcbiAgICAgICAgICAgICAgICBpZiAodG91Y2ggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoID0gbmV3IFRvdWNoRGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdWNoZXMuc2V0KGssIHRvdWNoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG91Y2gudG9EZXN0cm95ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0uY29udGFpbnNQb2ludCh0LnBvc2l0aW9uKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdG91Y2guaW5Cb3VuZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VFbnRlcihtb3VzZSwgdCwgayk7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmluQm91bmRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlSG92ZXIobW91c2UsIHQsIGspO1xuICAgICAgICAgICAgICAgICAgICBpZiAodC5pc1N0YXJ0RXZlbnQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoLmNsaWNrU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodC5pc01vdmVFdmVudClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZShtb3VzZSwgdCwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobW91c2UuaXNEb3duKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZURyYWcobW91c2UsIHQsIGspO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0LmlzRW5kRXZlbnQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoLmluQm91bmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guY2xpY2tTdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZUNsaWNrKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3VjaC5jbGlja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guaW5Cb3VuZHMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZUxlYXZlKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdWNoLmluQm91bmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCh0b3VjaC5jbGlja1N0YXJ0ZWQpICYmICh0LmlzRW5kRXZlbnQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2guY2xpY2tTdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHRvUmVtb3ZlID0gW107XG4gICAgICAgIHRoaXMudG91Y2hlcy5mb3JFYWNoKCh0b3VjaCwga2V5KSA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodG91Y2gudG9EZXN0cm95KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoLmluQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlTGVhdmUobW91c2UsIG51bGwsIGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHRvUmVtb3ZlLnB1c2goa2V5KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0b1JlbW92ZS5mb3JFYWNoKHIgPT4gdGhpcy50b3VjaGVzLmRlbGV0ZShyKSk7XG4gICAgfVxuXG4gICAgb25Nb3VzZUhvdmVyKG1vdXNlOiBNb3VzZSwgdG91Y2g/OiBUb3VjaCwgdG91Y2hJRD86IG51bWJlcikge31cbiAgICBvbk1vdXNlTW92ZShtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG4gICAgb25Nb3VzZURvd24obW91c2U6IE1vdXNlLCB0b3VjaD86IFRvdWNoLCB0b3VjaElEPzogbnVtYmVyKSB7fVxuICAgIG9uTW91c2VVcChtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG4gICAgb25Nb3VzZURyYWcobW91c2U6IE1vdXNlLCB0b3VjaD86IFRvdWNoLCB0b3VjaElEPzogbnVtYmVyKSB7fVxuICAgIG9uTW91c2VMZWF2ZShtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG4gICAgb25Nb3VzZUVudGVyKG1vdXNlOiBNb3VzZSwgdG91Y2g/OiBUb3VjaCwgdG91Y2hJRD86IG51bWJlcikge31cbiAgICBvbk1vdXNlQ2xpY2sobW91c2U6IE1vdXNlLCB0b3VjaD86IFRvdWNoLCB0b3VjaElEPzogbnVtYmVyKSB7fVxufSIsImltcG9ydCBNb3VzZVRyaWdnZXIgZnJvbSBcIi4vTW91c2VUcmlnZ2VyXCI7XG5pbXBvcnQgeyBNb3VzZSwgVG91Y2ggfSBmcm9tIFwiLi4vLi4vaW8vTW91c2VcIjtcbmltcG9ydCB7IFRpbWVyIH0gZnJvbSBcIi4uL1RpbWVyXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4uLy4uL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZXNzSG9sZFRyaWdnZXIgZXh0ZW5kcyBNb3VzZVRyaWdnZXJcbntcbiAgICBwcml2YXRlIF9ob2xkVGltZTogbnVtYmVyO1xuICAgIHByaXZhdGUgX3RpbWVyOiBUaW1lcjtcbiAgICBwcml2YXRlIF9vbkhvbGQ6IEV2ZW50O1xuICAgIHByaXZhdGUgX29uUmVsZWFzZUhvbGQ6IEV2ZW50O1xuICAgIHByaXZhdGUgX2hvbGRFdmVudEZpcmVkOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgaG9sZFRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9ob2xkVGltZSA9IGhvbGRUaW1lO1xuICAgICAgICB0aGlzLl9vbkhvbGQgPSBuZXcgRXZlbnQoKTtcbiAgICAgICAgdGhpcy5fb25SZWxlYXNlSG9sZCA9IG5ldyBFdmVudCgpO1xuICAgIH1cblxuICAgIGdldCBvbkhvbGQoKSB7IHJldHVybiB0aGlzLl9vbkhvbGQ7IH1cbiAgICBnZXQgb25SZWxlYXNlSG9sZCgpIHsgcmV0dXJuIHRoaXMuX29uUmVsZWFzZUhvbGQ7IH1cbiAgICBnZXQgaG9sZFRpbWUoKSB7IHJldHVybiB0aGlzLl9ob2xkVGltZTsgfVxuICAgIHNldCBob2xkVGltZSh2YWwpIHsgdGhpcy5faG9sZFRpbWUgPSB2YWw7IH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl90aW1lciA9IHRoaXMuYWRkQ2hpbGQobmV3IFRpbWVyKCkpO1xuICAgIH1cblxuICAgIHVwZGF0ZShhcmdzKVxuICAgIHtcbiAgICAgICAgc3VwZXIudXBkYXRlKGFyZ3MpO1xuICAgICAgICBpZiAoKCF0aGlzLl9ob2xkRXZlbnRGaXJlZCkgJiYgKHRoaXMuX3RpbWVyLnRpbWUgPj0gdGhpcy5faG9sZFRpbWUpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkhvbGQuY2FsbChhcmdzLm1vdXNlKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLl9ob2xkRXZlbnRGaXJlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlTW92ZShtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCh0b3VjaCAmJiAhKHRvdWNoLmhhbmRsZWQpKSB8fCAoIXRvdWNoICYmICEobW91c2UuaGFuZGxlZCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90aW1lci5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24obW91c2U6IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICgodG91Y2ggJiYgISh0b3VjaC5oYW5kbGVkKSkgfHwgKCF0b3VjaCAmJiAhKG1vdXNlLmhhbmRsZWQpKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGltZXIuc3RhcnQoKVxuICAgICAgICAgICAgdGhpcy5faG9sZEV2ZW50RmlyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VVcChtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGltZXIucGF1c2UoKTtcbiAgICAgICAgaWYgKHRoaXMuX2hvbGRFdmVudEZpcmVkKVxuICAgICAgICAgICAgdGhpcy5vblJlbGVhc2VIb2xkLmNhbGwobW91c2UpO1xuICAgIH1cblxuICAgIG9uTW91c2VMZWF2ZShtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGltZXIucGF1c2UoKTtcbiAgICAgICAgaWYgKHRoaXMuX2hvbGRFdmVudEZpcmVkKVxuICAgICAgICAgICAgdGhpcy5vblJlbGVhc2VIb2xkLmNhbGwobW91c2UpO1xuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBUZXh0QnVpbGRlciBmcm9tIFwiLi9UZXh0QnVpbGRlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0IGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfY29sb3I6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX2ZvbnRGYWNlOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9zaXplOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9yZWNhbGN1bGF0ZVRleHRCb3VuZHM6IGJvb2xlYW47XG5cbiAgICBwcm90ZWN0ZWQgX2xpbmVTcGFjaW5nOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9jZW50ZXJlZDogYm9vbGVhbjtcblxuICAgIHByb3RlY3RlZCBfd2lkdGhzID0gW107XG4gICAgcHJvdGVjdGVkIF93aWRlc3Q6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2xpbmVzID0gW107XG5cbiAgICBwcm90ZWN0ZWQgX2NvdW50TGluZXMgPSAwO1xuXG4gICAgcHJvdGVjdGVkIF9jYW52YXNGdW5jdGlvbjogKGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB2b2lkID0gbnVsbDtcblxuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJUZXh0XCI7IH1cbiAgICBcbiAgICBnZXQgY29sb3IoKSB7IHJldHVybiB0aGlzLl9jb2xvcjsgfVxuICAgIHNldCBjb2xvcih2YWwpIHsgdGhpcy5fY29sb3IgPSB2YWw7IH1cblxuICAgIGdldCBmb250RmFjZSgpIHsgcmV0dXJuIHRoaXMuX2ZvbnRGYWNlOyB9XG4gICAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLl9zaXplOyB9XG5cbiAgICBnZXQgbGluZVNwYWNpbmcoKSAge3JldHVybiB0aGlzLl9saW5lU3BhY2luZzsgfVxuICAgIHNldCBsaW5lU3BhY2luZyh2YWwpIHsgdGhpcy5fbGluZVNwYWNpbmcgPSB2YWw7IH1cblxuICAgIGdldCBjZW50ZXJlZCgpIHsgcmV0dXJuIHRoaXMuX2NlbnRlcmVkOyB9XG4gICAgc2V0IGNlbnRlcmVkKHZhbCkgeyB0aGlzLl9jZW50ZXJlZCA9IHZhbDsgfVxuXG4gICAgc2V0IHRleHQodmFsOiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9saW5lcyA9IHZhbC5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB0aGlzLl9yZWNhbGN1bGF0ZVRleHRCb3VuZHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldCBsaW5lcygpIHsgcmV0dXJuIHRoaXMuX2xpbmVzOyB9XG4gICAgc2V0IGxpbmVzKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2xpbmVzID0gdmFsO1xuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIHRoaXMuX3JlY2FsY3VsYXRlVGV4dEJvdW5kcyA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGNhbnZhc0Z1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzRnVuY3Rpb247IH1cbiAgICBzZXQgY2FudmFzRnVuY3Rpb24odmFsKSB7IHRoaXMuX2NhbnZhc0Z1bmN0aW9uID0gdmFsOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBsaW5lczogc3RyaW5nW10gfCBzdHJpbmcsIGNvbG9yOiBzdHJpbmcsIHNpemU6IG51bWJlciwgZm9udDogc3RyaW5nLCBsaW5lU3BhY2luZz86IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLl9mb250RmFjZSA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgICAgICBpZiAodHlwZW9mKGxpbmVzKSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRoaXMuX2xpbmVzID0gW2xpbmVzXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fbGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5fbGluZVNwYWNpbmcgPSBsaW5lU3BhY2luZyB8fCAxO1xuICAgIH1cblxuICAgIG1lYXN1cmVUZXh0Rm9yQm91bmRzKGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uYm91bmRzLmNsZWFyRGltZW5zaW9ucygpO1xuICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIodGhpcy5saW5lcywgY29udGV4dDJELCB0aGlzLmNvbG9yLCB0aGlzLnNpemUsIHRoaXMuZm9udEZhY2UsIHRoaXMubGluZVNwYWNpbmcpXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5hZGREaW1lbnNpb24odGIudGV4dERpbWVuc2lvbigpKTtcbiAgICAgICAgdGhpcy5fcmVjYWxjdWxhdGVUZXh0Qm91bmRzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhc0Z1bmN0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5jYW52YXNGdW5jdGlvbihjb250ZXh0MkQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dDJELmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgICAgIGNvbnRleHQyRC5mb250ID0gdGhpcy5zaXplICsgXCJwdCBcIiArIHRoaXMuZm9udEZhY2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlY2FsY3VsYXRlVGV4dEJvdW5kcylcbiAgICAgICAgICAgIHRoaXMubWVhc3VyZVRleHRGb3JCb3VuZHMoY29udGV4dDJEKTtcbiAgICAgICAgIFxuICAgICAgICBsZXQgcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICBsZXQgeVBvcyA9IDA7XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLl9saW5lcy5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jZW50ZXJlZClcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAodGhpcy5fd2lkZXN0LXRoaXMuX3dpZHRoc1tpXSkvMjtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSAwO1xuXG4gICAgICAgICAgICBjb250ZXh0MkQuZmlsbFRleHQodGhpcy5fbGluZXNbaV0sIHBvcy54ICsgb2Zmc2V0LCBwb3MueSArIHlQb3MgKyB0aGlzLnNpemUpO1xuICAgICAgICAgICAgeVBvcyArPSB0aGlzLl9zaXplICogdGhpcy5fbGluZVNwYWNpbmc7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMuY2FudmFzRnVuY3Rpb24pXG4gICAgICAgICAgICBjb250ZXh0MkQucmVzdG9yZSgpO1xuICAgIH1cblxuICAgXG59XG4iLCJpbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgVGV4dCBmcm9tIFwiLi9UZXh0XCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dEJ1aWxkZXJcbntcbiAgICBwcm90ZWN0ZWQgX2xpbmVzID0gW107XG4gICAgcHJvdGVjdGVkIF9jb2xvcjogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfZm9udEZhY2U6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX3NpemU6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2xpbmVTcGFjaW5nOiBudW1iZXI7XG5cbiAgICBwcm90ZWN0ZWQgX2NlbnRlcmVkOiBib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIF93aWR0aHMgPSBbXTtcbiAgICBwcm90ZWN0ZWQgX3dpZGVzdDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgICBwcm90ZWN0ZWQgX3RhcmdldFdpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9jb3VudExpbmVzID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKGxpbmVzOiBzdHJpbmdbXSB8IHN0cmluZywgY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNvbG9yOiBzdHJpbmcsIHNpemU6IG51bWJlciwgZm9udDogc3RyaW5nLCBsaW5lU3BhY2luZz86IG51bWJlciwgdGFyZ2V0V2lkdGg/OiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mKGxpbmVzKSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRoaXMuX2xpbmVzID0gW2xpbmVzXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fbGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5fY29udGV4dDJEID0gY29udGV4dDJEO1xuICAgICAgICB0aGlzLl9jb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLl9mb250RmFjZSA9IGZvbnQ7XG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgICAgICB0aGlzLl9saW5lU3BhY2luZyA9IGxpbmVTcGFjaW5nIHx8IDE7XG4gICAgICAgIHRoaXMuX3RhcmdldFdpZHRoID0gdGFyZ2V0V2lkdGggfHwgdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGdldCBjb2xvcigpIHsgcmV0dXJuIHRoaXMuX2NvbG9yOyB9XG4gICAgc2V0IGNvbG9yKHZhbCkgeyB0aGlzLl9jb2xvciA9IHZhbDsgfVxuXG4gICAgZ2V0IGZvbnRGYWNlKCkgeyByZXR1cm4gdGhpcy5fZm9udEZhY2U7IH1cbiAgICBnZXQgc2l6ZSgpIHsgcmV0dXJuIHRoaXMuX3NpemU7IH1cblxuICAgIGdldCBsaW5lU3BhY2luZygpICB7cmV0dXJuIHRoaXMuX2xpbmVTcGFjaW5nOyB9XG4gICAgc2V0IGxpbmVTcGFjaW5nKHZhbCkgeyB0aGlzLl9saW5lU3BhY2luZyA9IHZhbDsgfVxuXG4gICAgZ2V0IGNlbnRlcmVkKCkgeyByZXR1cm4gdGhpcy5fY2VudGVyZWQ7IH1cbiAgICBzZXQgY2VudGVyZWQodmFsKSB7IHRoaXMuX2NlbnRlcmVkID0gdmFsOyB9XG5cbiAgICBzZXQgdGV4dCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9saW5lcyA9IHZhbC5zcGxpdChcIlxcblwiKTtcbiAgICB9XG5cbiAgICBnZXQgbGluZXMoKSB7IHJldHVybiB0aGlzLl9saW5lczsgfVxuICAgIHNldCBsaW5lcyh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9saW5lcyA9IHZhbDtcbiAgICB9XG5cbiAgICBidWlsZFRleHQocG9zaXRpb24pOiBUZXh0XG4gICAge1xuICAgICAgICBsZXQgdGV4dERpbSA9IHRoaXMudGV4dERpbWVuc2lvbigpO1xuICAgICAgICByZXR1cm4gbmV3IFRleHQocG9zaXRpb24sIG5ldyBCb3VuZHModGV4dERpbSksIHRoaXMubGluZXMsIHRoaXMuY29sb3IsIHRoaXMuc2l6ZSwgdGhpcy5mb250RmFjZSwgdGhpcy5saW5lU3BhY2luZyk7XG4gICAgfVxuXG4gICAgdGV4dERpbWVuc2lvbigpOiBQaXhlbERpbWVuc2lvblxuICAgIHtcbiAgICAgICAgbGV0IGxzID0gW107XG4gICAgICAgIGlmICh0aGlzLl90YXJnZXRXaWR0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dDJELmZvbnQgPSB0aGlzLnNpemUgKyAncHQgJyArIHRoaXMuZm9udEZhY2U7XG4gICAgICAgICAgICB0aGlzLmxpbmVzLmZvckVhY2gobCA9PiBscyA9IGxzLmNvbmNhdCh0aGlzLl9nZXRXcmFwcGVkTGluZXModGhpcy5fY29udGV4dDJELCBsLCB0aGlzLl90YXJnZXRXaWR0aCkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBscyA9IHRoaXMubGluZXM7XG5cbiAgICAgICAgdGhpcy5fY29udGV4dDJELmZvbnQgPSB0aGlzLnNpemUgKyBcInB0IFwiICsgdGhpcy5mb250RmFjZTtcbiAgICAgICAgbGV0IHdpZGVzdCA9IDA7XG4gICAgICAgIGxldCBoZWlnaHQgPSAwO1xuICAgICAgICBsZXQgd2lkdGhzID0gW107XG4gICAgICAgIGZvciAobGV0IGk9MDtpPGxzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoc1tpXSA9IHRoaXMuX2NvbnRleHQyRC5tZWFzdXJlVGV4dChsc1tpXSkud2lkdGg7XG4gICAgICAgICAgICB3aWRlc3QgPSBNYXRoLm1heCh3aWRlc3Qsd2lkdGhzW2ldKTtcbiAgICAgICAgICAgIGlmIChpID09PSBscy5sZW5ndGgtMSlcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gdGhpcy5zaXplO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGhlaWdodCArPSB0aGlzLnNpemUgKiB0aGlzLmxpbmVTcGFjaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5saW5lcyA9IGxzO1xuICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKHdpZGVzdCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICAvLyBiYXNlZCBvbiBodHRwczovL3d3dy5odG1sNWNhbnZhc3R1dG9yaWFscy5jb20vdHV0b3JpYWxzL2h0bWw1LWNhbnZhcy13cmFwLXRleHQtdHV0b3JpYWwvXG4gICAgcHJvdGVjdGVkIF9nZXRXcmFwcGVkTGluZXMoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB0ZXh0OiBzdHJpbmcsIG1heFdpZHRoOiBudW1iZXIpOiBzdHJpbmdbXVxuICAgIHtcbiAgICAgICAgdmFyIHdvcmRzID0gdGV4dC5zcGxpdCgnICcpO1xuICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICBsZXQgbGluZXMgPSBbXTtcblxuICAgICAgICBmb3IodmFyIG4gPSAwOyBuIDwgd29yZHMubGVuZ3RoOyBuKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXN0TGluZSA9IGxpbmUgKyB3b3Jkc1tuXTtcbiAgICAgICAgICAgIHZhciBtZXRyaWNzID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXN0TGluZSk7XG4gICAgICAgICAgICB2YXIgdGVzdFdpZHRoID0gbWV0cmljcy53aWR0aDtcbiAgICAgICAgICAgIGlmICh0ZXN0V2lkdGggPiBtYXhXaWR0aCAmJiBuID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGxpbmUudHJpbVJpZ2h0KCkpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSB3b3Jkc1tuXSArICcgJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBsaW5lID0gdGVzdExpbmUgKyAnICc7XG4gICAgICAgIH1cbiAgICAgICAgbGluZXMucHVzaChsaW5lLnRyaW1SaWdodCgpKTtcblxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxufSIsImltcG9ydCBFdmVudCBmcm9tIFwiZW5naW5lL3V0aWwvRXZlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSU9cbntcbiAgICBvblN0YXJ0ID0gbmV3IEV2ZW50KCk7XG4gICAgb25TdG9wID0gbmV3IEV2ZW50KCk7XG4gICAgb25CZWdpblN0YXJ0ID0gbmV3IEV2ZW50KCk7IC8vIHRpbWVzdGFtcCwgZGVsdGFcbiAgICBvbkJlZ2luRW5kID0gbmV3IEV2ZW50KCk7XG4gICAgb25VcGRhdGVTdGFydCA9IG5ldyBFdmVudCgpO1xuICAgIG9uVXBkYXRlRW5kID0gbmV3IEV2ZW50KCk7XG4gICAgb25EcmF3U3RhcnQgPSBuZXcgRXZlbnQoKTtcbiAgICBvbkRyYXdFbmQgPSBuZXcgRXZlbnQoKTtcbiAgICBvbkVuZFN0YXJ0ID0gbmV3IEV2ZW50KCk7IC8vIGZwc1xuICAgIG9uRW5kRW5kID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfaW50ZXJmYWNlcyA9IHt9XG4gICAgcHJpdmF0ZSBfaWZzOiBJT0ludGVyZmFjZVtdID0gW107XG5cbiAgICBnZXQgaW50ZXJmYWNlcygpIHsgcmV0dXJuIHRoaXMuX2ludGVyZmFjZXM7IH1cblxuICAgIGFkZEludGVyZmFjZShpbmY6IElPSW50ZXJmYWNlLCBuYW1lOiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9pbnRlcmZhY2VzW25hbWVdID0gaW5mO1xuICAgICAgICB0aGlzLl9pZnMucHVzaChpbmYpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHsgdGhpcy5faWZzLmZvckVhY2goeCA9PiB4LnNldEV2ZW50cyh0aGlzKSk7IH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJT0ludGVyZmFjZVxue1xuICAgIHNldEV2ZW50cyhJTzogSU8pOiB2b2lkO1xufSIsImltcG9ydCB7IElPSW50ZXJmYWNlIH0gZnJvbSBcIi4vSU9cIjtcblxuZXhwb3J0IGNsYXNzIEtleWJvYXJkIFxue1xuICAgIHByb3RlY3RlZCBfa2V5c0Rvd246IHN0cmluZ1tdID0gW107XG4gICAgcHJvdGVjdGVkIF9rZXlzVXA6IHN0cmluZ1tdID0gW107XG4gICAgcHJvdGVjdGVkIF9rZXlQcmVzc2VzVGhpc1VwZGF0ZTogc3RyaW5nW10gPSBbXTtcblxuICAgIGdldCBrZXlQcmVzc2VzVGhpc1VwZGF0ZSgpIHsgcmV0dXJuIHRoaXMuX2tleVByZXNzZXNUaGlzVXBkYXRlOyB9XG4gICAgZ2V0IGtleXNEb3duKCkgeyByZXR1cm4gdGhpcy5fa2V5c0Rvd247IH1cbiAgICBnZXQga2V5c1VwKCkgeyByZXR1cm4gdGhpcy5fa2V5c1VwOyB9XG5cbiAgICBpc0tleVVwKGtleVZhbHVlOiBzdHJpbmcpIHsgcmV0dXJuIHRoaXMua2V5c1VwLmluZGV4T2Yoa2V5VmFsdWUpID49IDA7IH1cblxuICAgIGlzS2V5RG93bihrZXlWYWx1ZTogc3RyaW5nKSB7IHJldHVybiB0aGlzLmtleXNEb3duLmluZGV4T2Yoa2V5VmFsdWUpID49IDA7IH1cblxuICAgIGtleVByaW9yaXR5KGtleWE6IHN0cmluZywga2V5Yjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleXNEb3duLmluZGV4T2Yoa2V5YSkgPiB0aGlzLmtleXNEb3duLmluZGV4T2Yoa2V5Yik7IH1cblxuICAgIGdldCBrZXkoKSB7IHJldHVybiB0aGlzLmtleXNEb3duW3RoaXMua2V5c0Rvd24ubGVuZ3RoLTFdOyB9XG59XG5cbmV4cG9ydCBjbGFzcyBLZXlib2FyZExpc3RlbmVyIGV4dGVuZHMgS2V5Ym9hcmQgaW1wbGVtZW50cyBJT0ludGVyZmFjZSBcbntcbiAgICBwcml2YXRlIF9zd2l0Y2hCdWZmZXI6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfYnVmZmVyMjogc3RyaW5nW107XG5cbiAgICBzZXRFdmVudHMoaW8pXG4gICAge1xuICAgICAgICBpby5vbkJlZ2luU3RhcnQucHVzaCh0aGlzLm9uQmVnaW5TdGFydC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaW8ub25CZWdpbkVuZC5wdXNoKHRoaXMub25CZWdpbkVuZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCB0aGlzLm9uS2V5UHJlc3MuYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgb25LZXlEb3duKGV2ZW50KVxuICAgIHtcbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmtleXNEb3duLmluZGV4T2YoZXZlbnQua2V5KSA9PT0gLTEpXG4gICAgICAgICAgICB0aGlzLmtleXNEb3duLnB1c2goZXZlbnQua2V5KTtcbiAgICB9XG5cbiAgICBvbktleVVwKGV2ZW50KVxuICAgIHtcbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmtleXNVcC5pbmRleE9mKGV2ZW50LmtleSkgPT09IC0xKVxuICAgICAgICAgICAgdGhpcy5rZXlzVXAucHVzaChldmVudC5rZXkpO1xuICAgIH1cblxuICAgIG9uS2V5UHJlc3MoZXZlbnQpXG4gICAge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuX3N3aXRjaEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fYnVmZmVyMi5pbmRleE9mKGV2ZW50LmtleSkgPj0gMCkpXG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyMi5wdXNoKGV2ZW50LmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaWYgKCEodGhpcy5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5pbmRleE9mKGV2ZW50LmtleSkgPj0gMCkpXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5wdXNoKGV2ZW50LmtleSk7XG4gICAgfVxuXG4gICAgb25CZWdpblN0YXJ0KClcbiAgICB7XG4gICAgICAgIHRoaXMuX2J1ZmZlcjIgPSBbXTsgXG4gICAgICAgIHRoaXMuX3N3aXRjaEJ1ZmZlciA9IHRydWU7XG4gICAgfVxuXG4gICAgb25CZWdpbkVuZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyMi5sZW5ndGggPiAwKVxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5fYnVmZmVyMik7XG4gICAgICAgIHRoaXMuX2tleVByZXNzZXNUaGlzVXBkYXRlID0gdGhpcy5fYnVmZmVyMi5zbGljZSgpO1xuICAgICAgICB0aGlzLl9zd2l0Y2hCdWZmZXIgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX2tleXNEb3duID0gdGhpcy5rZXlzRG93bi5maWx0ZXIoeCA9PiB0aGlzLmtleXNVcC5pbmRleE9mKHgpIDwgMCApO1xuICAgICAgICB0aGlzLl9rZXlzVXAgPSBbXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQXNzZXQgZnJvbSBcIi4uL0Fzc2V0XCI7XG5pbXBvcnQgSU8sIHsgSU9JbnRlcmZhY2UgfSBmcm9tIFwiLi9JT1wiO1xuXG5kZWNsYXJlIHZhciBGb250RmFjZU9ic2VydmVyOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRlciBpbXBsZW1lbnRzIElPSW50ZXJmYWNlXG57XG4gICAgcHJvdGVjdGVkIF9hc3NldHNGb2xkZXI6IHN0cmluZyA9IFwiLi9hc3NldHMvXCI7XG5cbiAgICBwcm90ZWN0ZWQgX3NoYXJlZEFzc2V0czogQXNzZXQ8T2JqZWN0PltdID0gW11cblxuICAgIGNvbnN0cnVjdG9yKGFzc2V0c0ZvbGRlcj86IHN0cmluZylcbiAgICB7XG4gICAgICAgIGlmIChhc3NldHNGb2xkZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuX2Fzc2V0c0ZvbGRlciA9IGFzc2V0c0ZvbGRlcjtcbiAgICB9XG5cbiAgICBnZXQgYXNzZXRzRm9sZGVyKCkgeyByZXR1cm4gdGhpcy5fYXNzZXRzRm9sZGVyfVxuXG4gICAgZ2V0U2hhcmVkQXNzZXQoZmlsZW5hbWU6IHN0cmluZyk6IEFzc2V0PGFueT5cbiAgICB7XG4gICAgICAgIGxldCBleGlzdGluZyA9IHRoaXMuX3NoYXJlZEFzc2V0cy5maWx0ZXIoYSA9PiBhLmZpbGVuYW1lID09PSBmaWxlbmFtZSk7XG4gICAgICAgIGlmIChleGlzdGluZy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nWzBdO1xuICAgICAgICBsZXQgYSA9IG5ldyBBc3NldChmaWxlbmFtZSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9zaGFyZWRBc3NldHMucHVzaChhKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgbG9hZEltYWdlKGZpbGVuYW1lOiBzdHJpbmcsIG9uZXJyb3I6IChhc3NldDogQXNzZXQ8SFRNTEltYWdlRWxlbWVudD4pID0+IHZvaWQpOiBBc3NldDxIVE1MSW1hZ2VFbGVtZW50PlxuICAgIHtcbiAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGxldCBhc3NldCA9IG5ldyBBc3NldDxIVE1MSW1hZ2VFbGVtZW50PihmaWxlbmFtZSwgaW1hZ2UsIGZhbHNlKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5hc3NldHNGb2xkZXIgKyBmaWxlbmFtZTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZS5vbmVycm9yID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgb25lcnJvcihhc3NldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICogTG9hZHMgYSBmb250IGZyb20gZmlsZS5cbiAgICAqIE11bHRpcGxlIGZpbGVuYW1lIGFyZ3VtZW50cyBjYW4gYmUgcHJvdmlkZWQgc28gbG9uZyBhcyB0aGUgbmFtZXMgYXJlIGlkZW50aWNhbFxuICAgICogZXhjZXB0IGZvciBkaWZmZXJpbmcgZmlsZSBleHRlbnNpb25zLiBUaGUgZmlsZSBleHRlbnNpb24gcHJvdmlkZXMgdGhlIGZvcm1hdFxuICAgICogZm9yIGxvYWRpbmcgdGhlIGZvbnQuIFRoZSBmaXJzdCBmaWxldHlwZSBpcyBwcmVmZXJyZWQgZm9yIGxvYWRpbmcsIGJ1dCBpZlxuICAgICogdW5zdXBwb3J0ZWQgb3RoZXIgdmVyc2lvbnMgd2lsbCBiZSBhdHRlbXB0ZWQuXG4gICAgKiBAcGFyYW0geyp9IGxvYWRlciBcbiAgICAqIEBwYXJhbSB7Kn0gZmlsZW5hbWVzIFxuICAgICovXG4gICAgbG9hZEZvbnQoLi4uZmlsZW5hbWVzOiBzdHJpbmdbXSk6IEFzc2V0PHN0cmluZz5cbiAgICB7XG4gICAgICAgIGxldCB0ID0gXCJcIjtcbiAgICAgICAgbGV0IG5hbWU6IHN0cmluZyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBmaWxlbmFtZXMuZm9yRWFjaChmID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZmlsZXBhdGggPSBmLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGxldCBzdHJpbmdDb21wb25lbnRzID0gZmlsZXBhdGhbZmlsZXBhdGgubGVuZ3RoLTFdLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgIGlmIChzdHJpbmdDb21wb25lbnRzLmxlbmd0aCAhPT0gMilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb250IG5hbWVzIG11c3QgYmUgc3VwcGxpZWQgaW4gdGhlIGZvcm1hdCBcXFwiPHBhdGgtdG8tZmlsZT4vPG5hbWU+Ljxmb3JtYXQ+XFxcIlwiKTtcbiAgICAgICAgICAgIGxldCBmb250TmFtZSA9IHN0cmluZ0NvbXBvbmVudHNbMF07XG4gICAgICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICAgICAgbmFtZSA9IGZvbnROYW1lO1xuICAgICAgICAgICAgaWYgKG5hbWUgIT09IGZvbnROYW1lKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFsbCBmb250IGZvcm1hdCB2YXJpYW50cyBtdXN0IGhhdmUgdGhlIHNhbWUgZmlsZW5hbWUgZXhjbHVkaW5nIGV4dGVuc2lvblwiKTtcbiAgICAgICAgICAgIGxldCBmb3JtYXQgPSBzdHJpbmdDb21wb25lbnRzWzFdO1xuICAgICAgICAgICAgdCArPSBcIlxcbiAgICBzcmM6IHVybCgnXCIgKyB0aGlzLmFzc2V0c0ZvbGRlciArIGYgKyBcIicpIGZvcm1hdCgnXCIrZm9ybWF0K1wiJyk7XCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHQgPSAgXCJAZm9udC1mYWNlIHtcXG5cXFxuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIiArIG5hbWUgKyBcIjtcIiArIHQ7XG4gICAgICAgIHQgKz0gXCJcXG59XCI7XG5cbiAgICAgICAgbGV0IG5ld1N0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgbmV3U3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG5ld1N0eWxlKTtcblxuICAgICAgICBsZXQgbmFtZVBsdXNFeHQgPSBmaWxlbmFtZXNbMF0uc3BsaXQoXCIvXCIpLnBvcCgpO1xuICAgICAgICBsZXQgYXNzZXROYW1lID0gbmFtZVBsdXNFeHQuc3BsaXQoXCIuXCIpWzBdO1xuXG4gICAgICAgIGxldCBmb250ID0gbmV3IEZvbnRGYWNlT2JzZXJ2ZXIobmFtZSk7XG4gICAgICAgIGxldCBhc3NldCA9IG5ldyBBc3NldDxzdHJpbmc+KGFzc2V0TmFtZSwgbmFtZSwgZmFsc2UpO1xuICAgICAgICBmb250LmxvYWQoKS50aGVuKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGFzc2V0LmxvYWRlZCA9IHRydWU7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgbG9hZGluZyBmb250XCIpO1xuICAgICAgICAgICAgYXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhc3NldDtcbiAgICB9XG5cbiAgc2V0RXZlbnRzKGlvOiBJTykgeyB9XG5cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBJTywgeyBJT0ludGVyZmFjZSB9IGZyb20gXCIuL0lPXCI7XG5cbmV4cG9ydCBjbGFzcyBNb3VzZVxue1xuXG4gICAgcmVhZG9ubHkgdG91Y2hlczogTWFwPG51bWJlciwgVG91Y2g+ID0gbmV3IE1hcDxudW1iZXIsIFRvdWNoPigpO1xuXG4gICAgcHJvdGVjdGVkIF9pc0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBQb2ludCA9IG5ldyBQb2ludCgwLDApO1xuICAgIHByb3RlY3RlZCBfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IG51bGw7XG4gICAgcHJvdGVjdGVkIF9pc01vdXNlRG93bkV2ZW50OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9pc01vdXNlVXBFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfaXNNb3VzZU1vdmVFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfaGFuZGxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgZ2V0IGlzRG93bigpIHsgcmV0dXJuIHRoaXMuX2lzRG93bjsgfVxuICAgIGdldCBwb3NpdGlvbigpIHsgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uOyB9XG4gICAgZ2V0IGlzTW91c2VEb3duRXZlbnQoKSB7IHJldHVybiB0aGlzLl9pc01vdXNlRG93bkV2ZW50OyB9XG4gICAgZ2V0IGlzTW91c2VVcEV2ZW50KCkgeyByZXR1cm4gdGhpcy5faXNNb3VzZVVwRXZlbnQ7IH1cbiAgICBnZXQgaXNNb3VzZU1vdmVFdmVudCgpIHsgcmV0dXJuIHRoaXMuX2lzTW91c2VNb3ZlRXZlbnQ7IH1cbiAgICBnZXQgaGFuZGxlZCgpIHsgcmV0dXJuIHRoaXMuX2hhbmRsZWQ7IH1cbiAgICBzZXRIYW5kbGVkKHRvdWNoPzogVG91Y2gpXG4gICAgeyBcbiAgICAgIGlmICh0b3VjaClcbiAgICAgICAgdG91Y2guaGFuZGxlZCA9IHRydWU7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuX2hhbmRsZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvdWNoXG57XG4gICAgcG9zaXRpb246IFBvaW50O1xuICAgIGlzU3RhcnRFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzRW5kRXZlbnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmVFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGhhbmRsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIE1vdXNlTGlzdGVuZXIgZXh0ZW5kcyBNb3VzZSBpbXBsZW1lbnRzIElPSW50ZXJmYWNlXG57XG4gIC8vIE5lZWQgdG8gcmUtZGVjbGFyZSBnZXR0ZXJzIGFzIHN1cGVyLWNsYXNzIHZlcnNpb25zIGFyZSBub3QgY2FsbGVkIChmb3Igc29tZSByZWFzb24pXG4gIGdldCBpc0Rvd24oKSB7IHJldHVybiB0aGlzLl9pc0Rvd247IH1cbiAgc2V0IGlzRG93bih2YWwpIHsgdGhpcy5faXNEb3duID0gdmFsOyB9XG4gIGdldCBpc01vdXNlRG93bkV2ZW50KCkgeyByZXR1cm4gdGhpcy5faXNNb3VzZURvd25FdmVudDsgfVxuICBzZXQgaXNNb3VzZURvd25FdmVudCh2YWwpIHsgdGhpcy5faXNNb3VzZURvd25FdmVudCA9IHZhbDsgfVxuICBnZXQgaXNNb3VzZVVwRXZlbnQoKSB7IHJldHVybiB0aGlzLl9pc01vdXNlVXBFdmVudDsgfVxuICBzZXQgaXNNb3VzZVVwRXZlbnQodmFsKSB7IHRoaXMuX2lzTW91c2VVcEV2ZW50ID0gdmFsOyB9XG4gIGdldCBpc01vdXNlTW92ZUV2ZW50KCkgeyByZXR1cm4gdGhpcy5faXNNb3VzZU1vdmVFdmVudDsgfVxuICBzZXQgaXNNb3VzZU1vdmVFdmVudCh2YWwpIHsgdGhpcy5faXNNb3VzZU1vdmVFdmVudCA9IHZhbDsgfVxuXG4gIHNldEV2ZW50cyhpbzogSU8pIHsgaW8ub25VcGRhdGVFbmQucHVzaCh0aGlzLm9uVXBkYXRlRW5kLmJpbmQodGhpcyksIHRoaXMpOyB9XG5cbiAgYWRkVG8oZG9jOiBIVE1MRG9jdW1lbnQsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpXG4gIHtcbiAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VYWS5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMudG91Y2hTdGFydC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy50b3VjaFhZLmJpbmQodGhpcyksIHRydWUpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy50b3VjaEVuZC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgZG9jLmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICBkb2MuYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIiwgdGhpcy50b3VjaEVuZC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICBvblVwZGF0ZUVuZCgpXG4gIHtcbiAgICB0aGlzLmlzTW91c2VEb3duRXZlbnQgPSBmYWxzZTtcbiAgICB0aGlzLmlzTW91c2VVcEV2ZW50ID0gZmFsc2U7XG4gICAgdGhpcy5pc01vdXNlTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgdGhpcy5faGFuZGxlZCA9IGZhbHNlO1xuICAgIGxldCB0b1JlbW92ZSA9IFtdXG4gICAgdGhpcy50b3VjaGVzLmZvckVhY2goKHRvdWNoLCBrZXkpID0+XG4gICAgICB7XG4gICAgICAgIHRvdWNoLmlzU3RhcnRFdmVudCA9IGZhbHNlO1xuICAgICAgICB0b3VjaC5pc0VuZEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIHRvdWNoLmlzTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgICAgIHRvdWNoLmhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRvdWNoLmlzRW5kRXZlbnQpXG4gICAgICAgICAgdG9SZW1vdmUucHVzaChrZXkpXG4gICAgICB9KTtcbiAgICAgIHRvUmVtb3ZlLmZvckVhY2gociA9PiB0aGlzLnRvdWNoZXMuZGVsZXRlKHIpKTtcbiAgfVxuXG4gIG1vdXNlVXAoZSlcbiAge1xuICAgIHRoaXMuaXNEb3duID0gZmFsc2U7XG4gICAgdGhpcy5pc01vdXNlVXBFdmVudCA9IHRydWU7XG4gICAgdGhpcy5tb3VzZVhZKGUpO1xuICB9XG5cbiAgdG91Y2hFbmQoZSlcbiAge1xuICAgIGZvciAobGV0IGk9MCxsZW49ZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7aTxsZW47aSsrKVxuICAgIHtcbiAgICAgIGxldCB0ID0gdGhpcy50b3VjaGVzLmdldChlLmNoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXIpO1xuICAgICAgaWYgKHQgPT09IHVuZGVmaW5lZClcbiAgICAgIHtcbiAgICAgICAgdCA9IG5ldyBUb3VjaCgpO1xuICAgICAgICB0aGlzLnRvdWNoZXMuc2V0KGUuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllciwgdCk7XG4gICAgICB9XG4gICAgICB0LmlzRW5kRXZlbnQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIG1vdXNlRG93bihlKVxuICB7XG4gICAgdGhpcy5pc0Rvd24gPSB0cnVlO1xuICAgIHRoaXMuaXNNb3VzZURvd25FdmVudCA9IHRydWU7XG4gICAgdGhpcy5fcG9zaXRpb24gPSBuZXcgUG9pbnQoZS5wYWdlWCAtIHRoaXMuX2NhbnZhcy5vZmZzZXRMZWZ0LFxuICAgICAgZS5wYWdlWSAtIHRoaXMuX2NhbnZhcy5vZmZzZXRUb3ApO1xuICB9XG5cbiAgdG91Y2hTdGFydChlKVxuICB7XG4gICAgZm9yIChsZXQgaT0wLGxlbj1lLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpPGxlbjtpKyspXG4gICAge1xuICAgICAgbGV0IHRvdWNoID0gZS5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgIGxldCB0ID0gdGhpcy50b3VjaGVzLmdldCh0b3VjaC5pZGVudGlmaWVyKTtcbiAgICAgIGlmICh0ID09PSB1bmRlZmluZWQpXG4gICAgICB7XG4gICAgICAgIHQgPSBuZXcgVG91Y2goKTtcbiAgICAgICAgdGhpcy50b3VjaGVzLnNldCh0b3VjaC5pZGVudGlmaWVyLCB0KTtcbiAgICAgIH1cbiAgICAgIHRvdWNoLmlzRW5kRXZlbnQgPSBmYWxzZTtcbiAgICAgIHRvdWNoLmlzTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgICB0b3VjaC5oYW5kbGVkID0gZmFsc2U7XG4gICAgICB0LmlzU3RhcnRFdmVudCA9IHRydWU7XG4gICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KGUuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVggLSB0aGlzLl9jYW52YXMub2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVkgLSB0aGlzLl9jYW52YXMub2Zmc2V0VG9wKTtcbiAgICB9XG4gIH1cblxuICBtb3VzZVhZKGUpXG4gIHtcbiAgICB0aGlzLmlzTW91c2VNb3ZlRXZlbnQgPSB0cnVlO1xuICAgIHRoaXMuX3Bvc2l0aW9uID0gbmV3IFBvaW50KGUucGFnZVggLSB0aGlzLl9jYW52YXMub2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnBhZ2VZIC0gdGhpcy5fY2FudmFzLm9mZnNldFRvcCk7XG4gIH1cblxuICB0b3VjaFhZKGUpXG4gIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZm9yIChsZXQgaT0wLGxlbj1lLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpPGxlbjtpKyspXG4gICAge1xuICAgICAgbGV0IHQgPSB0aGlzLnRvdWNoZXMuZ2V0KGUuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcik7XG4gICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKVxuICAgICAge1xuICAgICAgICB0ID0gbmV3IFRvdWNoKCk7XG4gICAgICAgIHRoaXMudG91Y2hlcy5zZXQoZS5jaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyLCB0KTtcbiAgICAgIH1cbiAgICAgIHQuaXNNb3ZlRXZlbnQgPSB0cnVlO1xuICAgICAgdC5wb3NpdGlvbiA9IG5ldyBQb2ludChlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VYIC0gdGhpcy5fY2FudmFzLm9mZnNldExlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VZIC0gdGhpcy5fY2FudmFzLm9mZnNldFRvcCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgSU8sIHsgSU9JbnRlcmZhY2UgfSBmcm9tIFwiLi9JT1wiO1xuZGVjbGFyZSB2YXIgTWFpbkxvb3A6IGFueTtcblxuZXhwb3J0IGNsYXNzIFRpbWluZ1xue1xuICAgIGxvb3BTdGFydCA9IDA7XG4gICAgbG9vcFRpbWUgPSAwO1xuICAgIGJlZ2luU3RhcnQgPSAwO1xuICAgIGJlZ2luVGltZSA9IDA7XG4gICAgdXBkYXRlU3RhcnQgPSAwO1xuICAgIHVwZGF0ZVRpbWUgPSAwO1xuICAgIGRyYXdTdGFydCA9IDA7XG4gICAgZHJhd1RpbWUgPSAwO1xuICAgIGVuZFN0YXJ0ID0gMDtcbiAgICBlbmRUaW1lID0gMDtcbiAgICBzbG93RG93biA9IDA7XG4gICAgZnBzID0gMDtcbiAgICB1cGRhdGVTdGVwcyA9IDA7XG4gICAgbWFpbkxvb3BUaW1lc3RhbXAgPSAwO1xuICAgIGRlbHRhID0gMDtcbiAgICAvKiBEZWx0YSB0aW1lIGluIHNlY29uZHMgKi9cbiAgICBkZWx0YVMgPSAwO1xufVxuXG5leHBvcnQgY2xhc3MgVGltaW5nTGlzdGVuZXIgZXh0ZW5kcyBUaW1pbmcgaW1wbGVtZW50cyBJT0ludGVyZmFjZVxue1xuICAgIHNldEV2ZW50cyhpbzogSU8pXG4gICAge1xuICAgICAgICBpby5vbkJlZ2luU3RhcnQucHVzaCh0aGlzLm9uQmVnaW5TdGFydC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25CZWdpbkVuZC5wdXNoKHRoaXMub25CZWdpbkVuZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25VcGRhdGVTdGFydC5wdXNoKHRoaXMub25VcGRhdGVTdGFydC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25VcGRhdGVFbmQucHVzaCh0aGlzLm9uVXBkYXRlRW5kLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkRyYXdTdGFydC5wdXNoKHRoaXMub25EcmF3U3RhcnQuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGlvLm9uRHJhd0VuZC5wdXNoKHRoaXMub25EcmF3RW5kLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkVuZFN0YXJ0LnB1c2godGhpcy5vbkVuZFN0YXJ0LmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkVuZEVuZC5wdXNoKHRoaXMub25FbmRFbmQuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25CZWdpblN0YXJ0KHRpbWVzdGFtcDogbnVtYmVyLCBkZWx0YTogbnVtYmVyKVxuICAgIHtcbiAgICAgIHRoaXMubWFpbkxvb3BUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICB0aGlzLmxvb3BTdGFydCA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLmJlZ2luU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy51cGRhdGVTdGVwcyA9IE1haW5Mb29wLmdldE51bVVwZGF0ZVN0ZXBzKCk7XG4gICAgICB0aGlzLmRlbHRhID0gZGVsdGE7XG4gICAgICB0aGlzLmRlbHRhUyA9IGRlbHRhLzEwMDA7XG4gICAgfVxuXG4gICAgb25CZWdpbkVuZCgpXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5KChEYXRlLm5vdygpLXRoaXMuYmVnaW5TdGFydCkqdGhpcy5zbG93RG93bik7XG4gICAgICAgIHRoaXMuYmVnaW5UaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMuYmVnaW5TdGFydDtcbiAgICB9XG5cbiAgICBvblVwZGF0ZVN0YXJ0KGRlbHRhOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5kZWx0YSA9IGRlbHRhO1xuICAgICAgICB0aGlzLmRlbHRhUyA9IGRlbHRhLzEwMDA7XG4gICAgfVxuXG4gICAgb25VcGRhdGVFbmQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWxheSgoRGF0ZS5ub3coKS10aGlzLnVwZGF0ZVN0YXJ0KSp0aGlzLnNsb3dEb3duKTtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMudXBkYXRlU3RhcnQ7XG4gICAgfVxuXG4gICAgb25EcmF3U3RhcnQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kcmF3U3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIG9uRHJhd0VuZCgpXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5KChEYXRlLm5vdygpLXRoaXMuZHJhd1N0YXJ0KSp0aGlzLnNsb3dEb3duKTtcbiAgICAgICAgdGhpcy5kcmF3VGltZSA9IERhdGUubm93KCkgLSB0aGlzLmRyYXdTdGFydDtcbiAgICB9XG5cbiAgICBvbkVuZFN0YXJ0KGZwczogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbmRTdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xuICAgIH1cblxuICAgIG9uRW5kRW5kKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGVsYXkoKERhdGUubm93KCktdGhpcy5lbmRTdGFydCkqdGhpcy5zbG93RG93bik7XG4gICAgICAgIHRoaXMuZW5kVGltZSA9IERhdGUubm93KCkgLSB0aGlzLmVuZFN0YXJ0O1xuICAgICAgICB0aGlzLmxvb3BUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMubG9vcFN0YXJ0O1xuICAgIH1cblxuICAgIGRlbGF5KHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aW1lIDw9IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBub3cgPSBzdGFydDtcbiAgICAgICAgd2hpbGUodHJ1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmIChub3cgLSBzdGFydCA+IHRpbWUpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgRXZlbnQgZnJvbSBcIi4uL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IENvbmRpdGlvbmFsRGltZW5zaW9uIGZyb20gXCIuL2RpbWVuc2lvbi9Db25kaXRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi4vVHJhbnNmb3JtXCI7XG5cbi8qKlxuICogQSBCb3VuZHMgaXMgYSBzaXplIG9yIGV4dGVuc2lvbiBpbiBnYW1lIHNwYWNlLCB1c3VhbGx5IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnRpY3VsYXIgXG4gKiBHYW1lT2JqZWN0LiBJdCBpcyBtYWRlIG9mIHRoZSBjb21iaW5hdGlvbiAgb2YgemVybyBvciBtb3JlIERpbWVuc2lvbnMsIHdoaWNoIGFyZSBhZGRlZCBcbiAqIHRvZ2V0aGVyIHRvIHJlc3VsdCBpbiB0aGUgZmluYWwgc2l6ZS4gSWYgYSBCb3VuZHMgaGFzIG5vIGRpbWVuc2lvbnMsIGl0IGhhcyBhIHNpemUgb2YgKDAsMCkuXG4gKiBGb3IgYSBHYW1lT2JqZWN0IHRvIGhhdmUgbm8gc2l6ZSAocmF0aGVyIHRoYW4gYSBzaXplIG9mIDApIGl0IHNob3VsZCBub3QgaGF2ZSBhIGJvdW5kcyAoaWUuXG4gKiBpdHMgYm91bmRzIHNob3VsZCBiZSBudWxsKS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm91bmRzXG57XG4gICAgcHJvdGVjdGVkIF9kaW1lbnNpb25zOiBEaW1lbnNpb25bXSA9IFtdO1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlV2lkdGg6IG51bWJlciA9IHVuZGVmaW5lZDtcbiAgICBwcm90ZWN0ZWQgX3RhcmdldEFzcGVjdFJhdGlvOiBudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgcHJvdGVjdGVkIF9taW5EaW1lbnNpb246IERpbWVuc2lvbiA9IHVuZGVmaW5lZDtcbiAgICBwcm90ZWN0ZWQgX21heERpbWVuc2lvbjogRGltZW5zaW9uID0gdW5kZWZpbmVkO1xuICAgIHByb3RlY3RlZCBfdHJhbnNmb3JtOiBUcmFuc2Zvcm0gPSBudWxsO1xuICAgIHByb3RlY3RlZCBfY2FjaGVkRGltZW5zaW9uOiBEaW1lbnNpb24gPSAgbmV3IERpbWVuc2lvbigwLDApOztcbiAgICBwcm90ZWN0ZWQgX29uUmVzaXplOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByb3RlY3RlZCBfZGlydHk6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY2FsY3VsYXRpbmcgPSBmYWxzZTtcbiAgICBjYWxjdWxhdGlvbkZhaWxlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoLi4uZGltZW5zaW9uczogRGltZW5zaW9uW10pXG4gICAge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0gZGltZW5zaW9ucztcbiAgICB9XG5cbiAgICBnZXQgdHJhbnNmb3JtKCk6IFRyYW5zZm9ybSB7IHJldHVybiB0aGlzLl90cmFuc2Zvcm07IH1cbiAgICBzZXQgdHJhbnNmb3JtKHZhbDogVHJhbnNmb3JtKSB7IHRoaXMuX3RyYW5zZm9ybSA9IHZhbDsgfVxuXG4gICAgZ2V0IGRpcnR5KCkgeyByZXR1cm4gdGhpcy5fZGlydHk7IH1cbiAgICBzZXQgZGlydHkodmFsKSB7IHRoaXMuX2RpcnR5ID0gdmFsOyB9XG5cbiAgICBnZXQgY2FjaGVkRGltZW5zaW9uKCkgeyByZXR1cm4gdGhpcy5fY2FjaGVkRGltZW5zaW9uOyB9XG4gICAgc2V0IGNhY2hlZERpbWVuc2lvbih2YWwpIHsgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gdmFsO31cblxuICAgIC8qKlxuICAgICAqIEFuIGV2ZW50IHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGJvdW5kcyBjaGFuZ2VzIHNpemUuXG4gICAgICovXG4gICAgZ2V0IG9uUmVzaXplKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uUmVzaXplOyB9XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBwaHlzaWNhbCBwaXhlbHMgb24gdGhlIGRldmljZSBmb3IgZXZlcnkgc3RhbmRhcmQgcGl4ZWwuIFVzZWQgZm9yXG4gICAgICogY29udmVydGluZyBiZXR3ZWVuIHVuaXRzIGluIFBoeXNpY2FsUGl4ZWxzIGFuZCBQaXhlbHMuIEN1cnJlbnRseSBkaXJlY3RseSBtYWtlc1xuICAgICAqIGVuZ2luZS1leHRlcm5hbCBjYWxsIGluIG9yZGVyIHRvIHJlc3BvbmQgZHluYW1pY2FsbHkgdG8gY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgZGV2aWNlUGl4ZWxSYXRpbygpOiBudW1iZXIgeyByZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW87IH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJvdW5kcyBvbiB0aGUgcGFyZW50IHRvIHRoZSBhc3NvY2lhdGVkIEdhbWVPYmplY3QuIChpZS4gdGhlIEJvdW5kc1xuICAgICAqIHNjb3Bpbmcgb25lIGxldmUgaGlnaGllciBpbiB0aGUgR2FtZU9iamVjdCB0cmVlKVxuICAgICAqL1xuICAgIGdldCBwYXJlbnRCb3VuZHMoKTogQm91bmRzXG4gICAge1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wYXJlbnQuYm91bmRzO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXNwZWN0IHJhdGlvIHRoYXQgdGhlIHNpemUgb2YgdGhlIGJvdW5kcyB3aWxsIGZpdCB0by4gRGlzYWJsZWQgaWYgdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIGdldCB0YXJnZXRBc3BlY3RSYXRpbygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fdGFyZ2V0QXNwZWN0UmF0aW87IH1cblxuICAgIC8qKlxuICAgICogU2V0cyB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBCb3VuZHMgdG8gdGhlIGdpdmVuIHZhbHVlLiBUaGUgc2l6ZSBvZiB0aGUgQm91bmRzXG4gICAgKiBpcyBmb3JjZWQgdG8gb2JleSB0aGUgYXNwZWN0IHJhdGlvLCBpZiBzZXQuIFNldCB0byB1bmRlZmluZWQgdG8gZGlzYWJsZS5cbiAgICAqIEBwYXJhbSBhc3BlY3RSYXRpbyBhbiBhc3BlY3QgcmF0aW8gZXhwcmVzc2VkIGFzIGEgZGVjaW1hbCBudW1iZXIgKGhlaWdodC93aWR0aClcbiAgICAqL1xuICAgIHNldCB0YXJnZXRBc3BlY3RSYXRpbyhhc3BlY3RSYXRpbzogbnVtYmVyKSB7IHRoaXMuX3RhcmdldEFzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW87IH1cblxuICAgIGdldCBtYXhEaW1lbnNpb24oKTogRGltZW5zaW9uIHsgcmV0dXJuIHRoaXMuX21heERpbWVuc2lvbjsgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkaW1lbnNpb24gKHdpZHRoIGFuZCBoZWlnaHQpIHRoYXQgdGhlIGJvdW5kcyBpcyBmb3JjZWQgbm90IHRvIGV4Y2VlZCxcbiAgICAgKiByZWdhcmRsZXNzIG9mIHRoZSBkaW1lbnNpb25zIGl0IGNvbnRhaW5zLlxuICAgICAqL1xuICAgIHNldCBtYXhEaW1lbnNpb24odmFsOiBEaW1lbnNpb24pIHsgdGhpcy5fbWF4RGltZW5zaW9uID0gdmFsOyB9XG4gICAgZ2V0IG1pbkRpbWVuc2lvbigpOiBEaW1lbnNpb24geyByZXR1cm4gdGhpcy5fbWluRGltZW5zaW9uOyB9XG4gICAgLyoqXG4gICAgICogVGhlIGRpbWVuc2lvbiAod2lkdGggYW5kIGhlaWdodCkgdGhhdCB0aGUgYm91bmRzIGlzIG11c3QgYWx3YXlzIGJlIGF0IGxlYXN0XG4gICAgICogYXMgYmlnIGFzLCByZWdhcmRsZXNzIG9mIHRoZSBkaW1lbnNpb25zIGl0IGNvbnRhaW5zLlxuICAgICAqL1xuICAgIHNldCBtaW5EaW1lbnNpb24odmFsOiBEaW1lbnNpb24pIHsgdGhpcy5fbWluRGltZW5zaW9uID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBkaW1lbnNpb24gdG8gdGhlIEJvdW5kcy4gQXV0b21hdGljYWxseSBjaGVja3Mgd2hldGhlciB0aGUgc2l6ZSBoYXMgY2hhbmdlZCxcbiAgICAgKiBhbmQgaWYgc28gY2xlYXJzIGNhY2hlZCBzaXplIHZhbHVlIGFuZCBjYWxscyBvblJlc2l6ZSBldmVudC5cbiAgICAgKiBAcGFyYW0gZGltIHRoZSBkaW1lbnNpb24gdG8gYWRkIFxuICAgICAqL1xuICAgIGFkZERpbWVuc2lvbjxUIGV4dGVuZHMgRGltZW5zaW9uPihkaW06IFQpOiBUXG4gICAge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zLnB1c2goZGltKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmdhbWVPYmplY3QuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmVzaXplZCgpKVxuICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGRpbWVuc2lvbnMgZnJvbSB0aGUgYm91bmRzLCByZXNldHRpbmcgdGhlIHNpemUgdG8gKDAsMCkuIENsZWFycyBjYWNoZWRcbiAgICAgKiBzaXplIHZhbHVlIGlmIHRoZSBzaXplIGhhcyBjaGFuZ2VkIGFuZCBjYWxscyBvblJlc2l6ZSBldmVudC5cbiAgICAgKi9cbiAgICBjbGVhckRpbWVuc2lvbnMoKTogdm9pZFxuICAgIHsgXG4gICAgICAgIHRoaXMuX2RpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVzaXplZCgpKVxuICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGFsbCBkaW1lbnNpb25zIHRoYXQgYXJlIGNvbWJpbmVkIGluIHRoaXMgQm91bmRzLlxuICAgICAqL1xuICAgIGdldCBkaW1lbnNpb25zKCk6IERpbWVuc2lvbltdIHsgcmV0dXJuIHRoaXMuX2RpbWVuc2lvbnM7IH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEJvdW5kcyBzaXplIGFzIGEgc2luZ2xlIGRpbWVuc2lvbi4gSWYgdGhlIHNpemUgaGFzIG5vdCBjaGFuZ2VkLCBhIGNhY2hlZCB2ZXJzaW9uXG4gICAgICogaXMgcmV0dXJuZWQuIE90aGVyd2lzZSwgdGhlIHNpemUgaXMgY2FsY3VhbHRlZCBmcm9tIHRoZSBjb21iaW5hdGlvbiBvZiB0aGUgZGltZW5zaW9ucyBpbiB0aGVcbiAgICAgKiBCb3VuZHMuXG4gICAgICovXG4gICAgZ2V0IGRpbWVuc2lvbigpOiBEaW1lbnNpb25cbiAgICB7XG4gICAgICAgIGlmICghKHRoaXMuZGlydHkpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZERpbWVuc2lvbjtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0aW9uRmFpbGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB0bXAgPSB0aGlzLl9jYWxjdWxhdGVEaW1lbnNpb24oKTtcbiAgICAgICAvKiBpZiAoIURpbWVuc2lvbi5lcXVhbHModG1wLCB0aGlzLl9jYWNoZWREaW1lbnNpb24pKSAgLy8gSWYgaXQgaGFzIGNoYW5nZWQsIGl0IG1pZ2h0IGNoYW5nZSBhZ2Fpbi5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UqL1xuICAgICAgICB0aGlzLmRpcnR5ID0gdGhpcy5jYWxjdWxhdGlvbkZhaWxlZDtcbiAgICAgICAgaWYgKHRoaXMuY2FsY3VsYXRpb25GYWlsZWQpXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbmluZ0lzRGlydHkoKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gdG1wO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkRGltZW5zaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogVGhlIHJlZmVyZW5jZSB3aWR0aCBzcGVjaWZpZWQgZWl0aGVyIG9uIHRoaXMgQm91bmRzIG9yIG9uIHRoZSBuZWFyZXN0XG4gICAgKiBwYXJlbnQgQm91bmRzIHdpdGggYSBzcGVjaWZpZWQgcmVmZXJlbmNlIHdpZHRoLlxuICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZVdpZHRoKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZVdpZHRoICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVmZXJlbmNlV2lkdGg7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudEJvdW5kcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudEJvdW5kcy5yZWZlcmVuY2VXaWR0aDtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gYSByZWZlcmVuY2Ugd2lkdGggdG8gdGhpcyBCb3VuZHMgdG8gc2NvcGUgb3ZlciBjaGlsZCBUcmFuc2xhdGlvbnMgb3IgRGltZW5zaW9uc1xuICAgICAqIHNwZWNpZmllZCBpbiByZWZlcmVuY2UgdW5pdHMuIFRvIHVuc2V0IGEgcmVmZXJlbmNlIHdpZHRoLCB0aGlzIHZhbHVlIHNob3VsZCBiZSBcbiAgICAgKiB1bmRlZmluZWQuXG4gICAgICovXG4gICAgc2V0IHJlZmVyZW5jZVdpZHRoKHJlZmVyZW5jZVdpZHRoOiBudW1iZXIpIHsgdGhpcy5fcmVmZXJlbmNlV2lkdGggPSByZWZlcmVuY2VXaWR0aDt9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoaXMgYm91bmRzIHNwZWNpZmllZCBpbiByZWZlcmVuY2UgdW5pdHMgcmVsYXRpdmUgZWl0aGVyIHRvXG4gICAgICogdGhlIHJlZmVyZW5jZSB3aWR0aCBvbiB0aGlzIEJvdW5kcyBvciBvbiB0aGUgc2NvcGluZyBCb3VuZHMuXG4gICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZUhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VXaWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlV2lkdGgqdGhpcy5kaW1lbnNpb24uYXNwZWN0O1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRCb3VuZHMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRCb3VuZHMucmVmZXJlbmNlSGVpZ2h0O1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBwaXhlbHMgcGVyIHVuaXQgb2YgdGhlIHNjb3BpbmcgcmVmZXJlbmNlIHdpZHRoLlxuICAgICAqL1xuICAgIGdldCByZWZlcmVuY2VTY2FsZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VXaWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpL3RoaXMuX3JlZmVyZW5jZVdpZHRoO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRCb3VuZHMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRCb3VuZHMucmVmZXJlbmNlU2NhbGU7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBDYWxscyBkZXN0cm95IG9uIGFsbCBjb250YWluZWQgZGltZW5zaW9ucywgYW5kIHVubGlua3MgZXZlbnRzLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucy5mb3JFYWNoKGQgPT4gZC5kZXN0cm95KCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2xpbWl0RGltZW5zaW9uKGRpbWVuc2lvbjogRGltZW5zaW9uKTogRGltZW5zaW9uXG4gICAge1xuICAgICAgICBsZXQgbldpZHRoID0gZGltZW5zaW9uLndpZHRoO1xuICAgICAgICBsZXQgbkhlaWdodCA9IGRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIGlmICh0aGlzLm1pbkRpbWVuc2lvbilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMubWluRGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpKVxuICAgICAgICAgICAgICAgIG5XaWR0aCA9IE1hdGgubWF4KG5XaWR0aCwgdGhpcy5taW5EaW1lbnNpb24ucGl4ZWxXaWR0aCh0aGlzLnBhcmVudEJvdW5kcykpO1xuICAgICAgICAgICAgaWYgKHRoaXMubWluRGltZW5zaW9uLnBpeGVsSGVpZ2h0KHRoaXMucGFyZW50Qm91bmRzKSlcbiAgICAgICAgICAgICAgICBuSGVpZ2h0ID0gTWF0aC5tYXgobkhlaWdodCwgdGhpcy5taW5EaW1lbnNpb24ucGl4ZWxIZWlnaHQodGhpcy5wYXJlbnRCb3VuZHMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhEaW1lbnNpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heERpbWVuc2lvbi5waXhlbFdpZHRoKHRoaXMucGFyZW50Qm91bmRzKSlcbiAgICAgICAgICAgICAgICBuV2lkdGggPSBNYXRoLm1pbihuV2lkdGgsIHRoaXMubWF4RGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heERpbWVuc2lvbi5waXhlbEhlaWdodCh0aGlzLnBhcmVudEJvdW5kcykpXG4gICAgICAgICAgICAgICAgbkhlaWdodCA9IE1hdGgubWluKG5IZWlnaHQsIHRoaXMubWF4RGltZW5zaW9uLnBpeGVsSGVpZ2h0KHRoaXMucGFyZW50Qm91bmRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0QXNwZWN0UmF0aW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuSGVpZ2h0IDwgbldpZHRoKnRoaXMudGFyZ2V0QXNwZWN0UmF0aW8pXG4gICAgICAgICAgICAgICAgbldpZHRoID0gbkhlaWdodCooMS90aGlzLnRhcmdldEFzcGVjdFJhdGlvKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBuSGVpZ2h0ID0gbldpZHRoKnRoaXMudGFyZ2V0QXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEaW1lbnNpb24obldpZHRoLCBuSGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxjdWxhdGVEaW1lbnNpb24oKTogRGltZW5zaW9uXG4gICAge1xuICAgICAgICB0aGlzLmNhbGN1bGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGxldCBkaW0gPSBudWxsO1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zLmZvckVhY2goZCA9PiBcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpbSA9IGQuYXNTaW1wbGVQaXhlbERpbWVuc2lvbih0aGlzLnBhcmVudEJvdW5kcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoZGltLndpZHRoID09PSB1bmRlZmluZWQpIHx8IChkaW0uaGVpZ2h0ID09PSB1bmRlZmluZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGlvbkZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZGltLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGRpbS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2xpbWl0RGltZW5zaW9uKG5ldyBEaW1lbnNpb24od2lkdGgsIGhlaWdodCkpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaGFzUmVzaXplZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5fY2FsY3VsYXRlRGltZW5zaW9uKCk7XG4gICAgICAgIHJldHVybiAoIURpbWVuc2lvbi5lcXVhbHMoZGltLCB0aGlzLl9jYWNoZWREaW1lbnNpb24pKTtcbiAgICB9XG5cbiAgICBoYXNSZXNpemVkQXV0b1VwZGF0ZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5fY2FsY3VsYXRlRGltZW5zaW9uKCk7XG4gICAgICAgIGxldCByID0gKCFEaW1lbnNpb24uZXF1YWxzKGRpbSwgdGhpcy5fY2FjaGVkRGltZW5zaW9uKSk7XG4gICAgICAgIGlmIChyKVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gZGltO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vbkNoYW5nZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgICAgICBFdmVudC5jYWxsKHRoaXMub25SZXNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tGb3JVcGRhdGVkRGltZW5zaW9ucygpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgdXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZDogRGltZW5zaW9uO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLl9kaW1lbnNpb25zLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGQgPSB0aGlzLl9kaW1lbnNpb25zW2ldO1xuICAgICAgICAgICAgaWYgKGQudXBkYXRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkIGluc3RhbmNlb2YgQ29uZGl0aW9uYWxEaW1lbnNpb24pXG4gICAgICAgICAgICAgICAgaWYgKCEoZC5wcmV2aW91c0RpbWVuc2lvbikgfHwgIShEaW1lbnNpb24uZXF1YWxzKGQuZGltZW5zaW9uRG9udFVwZGF0ZVByZXZpb3VzKHRoaXMudHJhbnNmb3JtLmJvdW5kcyksIGQucHJldmlvdXNEaW1lbnNpb24pKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMuZm9yRWFjaChkID0+IGQudXBkYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tIFwiLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL3RyYW5zbGF0aW9uL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi90cmFuc2xhdGlvbi9Db25kaXRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi9UcmFuc2Zvcm1cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IEFkamFjZW50VHJhbnNsYXRpb24gZnJvbSBcIi4vdHJhbnNsYXRpb24vQWRqYWNlbnRUcmFuc2xhdGlvblwiO1xuXG4vKlxuKiBBIFBvc2l0aW9uIGlzIGEgbG9jYXRpb24gaW4gZ2FtZSBzcGFjZSB0aGF0IGlzIHVzdWFsbHkgYXNzb2NpYXRlZCB3aXRoIGEgcGFydGljdWxhciBHYW1lT2JqZWN0LlxuKiBJdCBpcyBkZWZpbmVkIGJ5IHRoZSBjb21iaW5hdGlvbiBvZiBhIHNldCBvZiBUcmFuc2xhdGlvbnMgd2hpY2ggYXJlIGFkZGVkIHRvZ2V0aGVyLiBJdCBzdXBwbGllc1xuKiB0d28gbWV0aG9kcyBmb3IgZ2V0dGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdCBhYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpIGFuZCBkcmF3UG9zaXRpb25Ub3BMZWZ0KCksXG4qIHRoZSBmaXJzdCBmb3IgdGhlIFwicmVhbFwiIHBvc2l0aW9uLCBhbmQgdGhlIHNlY29uZCByZWxhdGl2ZSB0byB0aGUgY2xvc2VzdCBzY29waW5nIERyYXdCdWZmZXIgKGllLlxuKiB3aGVyZSB0aGUgYXNzb2NpYXRlZCBnYW1lIG9iamVjdCBzaG91bGQgYmUgZHJhd24pLiBGb3IgYSBHYW1lT2JqZWN0IHRvIGhhdmUgbm8gcG9zaXRpb24gKGluc3RlYWRcbiogb2YgYSBwb3NpdGlvbiAoMCwwKSwgaXRzIFBvc2l0aW9uIHNob3VsZCBiZSBudWxsKS5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3NpdGlvblxue1xuICAgIHByaXZhdGUgX3RyYW5zbGF0aW9uczogVHJhbnNsYXRpb25bXTtcbiAgICBwcml2YXRlIF90cmFuc2Zvcm06IFRyYW5zZm9ybSA9IG51bGw7XG4gICAgcHJpdmF0ZSBfcmVzZXREcmF3UG9zOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfY2FjaGVkQWJzb2x1dGVQb3NpdGlvbjogUG9pbnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBwcml2YXRlIF9jYWNoZWREcmF3UG9zaXRpb246IFBvaW50ID0gbmV3IFBvaW50KDAsMCk7XG4gICAgcHJpdmF0ZSBfZHJhd0NhY2hlRGlydHk6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2Fic29sdXRlQ2FjaGVEaXJ0eTogYm9vbGVhbiA9IHRydWU7XG4gICAvLyBwcml2YXRlIF9vbk1vdmU6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgICBjb25zdHJ1Y3RvciguLi5UcmFuc2xhdGlvbnM6IFRyYW5zbGF0aW9uW10pXG4gICAge1xuICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMgPSBUcmFuc2xhdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0IHRyYW5zZm9ybSgpOiBUcmFuc2Zvcm0geyByZXR1cm4gdGhpcy5fdHJhbnNmb3JtOyB9XG4gICAgc2V0IHRyYW5zZm9ybSh2YWwpIHsgdGhpcy5fdHJhbnNmb3JtID0gdmFsOyB9XG5cbiAgICBnZXQgcmVzZXREcmF3UG9zKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fcmVzZXREcmF3UG9zOyB9XG4gICAgc2V0IHJlc2V0RHJhd1Bvcyh2YWwpIHsgdGhpcy5fcmVzZXREcmF3UG9zID0gdmFsOyB9XG5cbiAgICBnZXQgZHJhd0NhY2hlRGlydHkoKSB7IHJldHVybiB0aGlzLl9kcmF3Q2FjaGVEaXJ0eTsgfVxuICAgIHNldCBkcmF3Q2FjaGVEaXJ0eSh2YWwpIHsgdGhpcy5fZHJhd0NhY2hlRGlydHkgPSB2YWw7IH1cbiAgICBcbiAgICBnZXQgYWJzb2x1dGVDYWNoZURpcnR5KCkgeyByZXR1cm4gdGhpcy5fYWJzb2x1dGVDYWNoZURpcnR5OyB9XG4gICAgc2V0IGFic29sdXRlQ2FjaGVEaXJ0eSh2YWwpIHsgdGhpcy5fYWJzb2x1dGVDYWNoZURpcnR5ID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBUcmFuc2xhdGlvbnMgdGhhdCB0aGlzIFBvc2l0aW9uIGlzIHRoZSBjb21iaW5hdGlvbiBvZi5cbiAgICAgKi9cbiAgICBnZXQgdHJhbnNsYXRpb25zKCk6IFRyYW5zbGF0aW9uW10gIHsgcmV0dXJuIHRoaXMuX3RyYW5zbGF0aW9uczsgfVxuXG4gICAgLyoqXG4gICAgICogQW4gZXZlbnQgdGhhdCBpcyBjYWxsZWQgd2hlbmV2ZXIgdGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoaXMgUG9zaXRpb24gY2hhbmdlcy4gXG4gICAgICovXG4gICAvLyBnZXQgb25Nb3ZlKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uTW92ZTsgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgVHJhbnNsYXRpb24gdG8gdGhpcyBwb3NpdGlvbiAoaWUuIG1vdmUgdGhpcyBwb3NpdGlvbiBieSB0aGUgc3VwcGxpZWQgdHJhbmZvcm0pXG4gICAgICogQHBhcmFtIFRyYW5zbGF0aW9uIHRoZSBUcmFuc2xhdGlvbiB0byBhZGQgdG8gdGhlIHBvc2l0aW9uXG4gICAgICovXG4gICAgYWRkVHJhbnNsYXRpb24oLi4udHJhbnNsYXRpb25zOiBUcmFuc2xhdGlvbltdKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9ucy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgdHJhbnNsYXRpb25zLmZvckVhY2godCA9PiB0aGlzLmFkZFRyYW5zbGF0aW9uKHQpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbnNbMF07XG4gICAgICAgICAgICBsZXQgZm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5wcmVzZXJ2ZSlcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaCh0ID0+IFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXQucHJlc2VydmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0LmNvbnN0cnVjdG9yID09PSB0cmFuc2xhdGlvbi5jb25zdHJ1Y3RvcikgJiYgKFBvaW50LmVxdWFscyh0LmFuY2hvciwgdHJhbnNsYXRpb24uYW5jaG9yKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmIxID0gKHQgYXMgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24pLnJlZmVyZW5jZUJvdW5kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYjIgPSAodHJhbnNsYXRpb24gYXMgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24pLnJlZmVyZW5jZUJvdW5kc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJiMSA9PT0gcmIyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KHQucG9zaXRpb24ueCArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLngsIHQucG9zaXRpb24ueSArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCh0IGluc3RhbmNlb2YgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbikgfHwgKHQgaW5zdGFuY2VvZiBBZGphY2VudFRyYW5zbGF0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KHQucG9zaXRpb24ueCArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLngsIHQucG9zaXRpb24ueSArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKCFmb3VuZClcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMucHVzaCh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0uZ2FtZU9iamVjdC5jcmVhdGVkKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc01vdmVkKCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIFRyYW5zbGF0aW9ucyBmcm9tIHRoaXMgcG9zaXRpb24uIFRoZSBwb3NpdGlvbiByZXZlcnRzIGJhY2sgdG8gdGhlIG9yaWdpbiAoMCwwKVxuICAgICAqIGJlY2F1c2UgaXQgaGFzIG5vIFRyYW5zbGF0aW9ucy4gQXV0b21hdGljYWxseSBjbGVhcnMgY2FjaGVkIHBvc2l0aW9uIGlmIHRoZSBvYmplY3QgbW92ZXNcbiAgICAgKiBhcyBhIHJlc3VsdCwgYW5kIHVwZGF0ZXMgdGhlIGFzc29pYXRlZCBHYW1lT2JqZWN0LlxuICAgICAqL1xuICAgIGNsZWFyVHJhbnNsYXRpb25zKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX3RyYW5zbGF0aW9ucyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5oYXNNb3ZlZCgpKVxuICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBvaW50IGluIGdhbWUgc3BhY2Ugb2YgdGhlIHRvcC1sZWZ0IHBvaW50IG9mIHRoZSBhc3NvY2lhdGVkIGdhbWUgb2JqZWN0LlxuICAgICAqL1xuICAgIGFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAoISh0aGlzLmFic29sdXRlQ2FjaGVEaXJ0eSkpXG4gICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb247XG4gICAgICAgIFxuICAgICAgICBsZXQgdG1wID0gdGhpcy5fY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgIGlmICghUG9pbnQuZXF1YWxzKHRtcCwgdGhpcy5fY2FjaGVkQWJzb2x1dGVQb3NpdGlvbikpICAgLy8gSWYgaXQgaGFzIGNoYW5nZWQsIGl0IG1pZ2h0IGNoYW5nZSBhZ2Fpbi5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24gPSB0bXA7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRBYnNvbHV0ZVBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcG9pbnQgb2YgdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgYXNzb2NpYXRlZCBnYW1lIG9iamVjdCByZWxhdGl2ZSB0byB0aGVcbiAgICAgKiBjbG9zZXN0IHNjb3BpbmcgRHJhd0J1ZmZlci4gVGhpcyBpcyB0aGUgcG9pbnQgYXQgd2hpY2ggdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgXG4gICAgICogb2JqZWN0IHNob3VsZCBiZSBkcmF3biB0byB0aGUgRHJhd0J1ZmZlci5cbiAgICAgKi9cbiAgICBkcmF3UG9zaXRpb25Ub3BMZWZ0KCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVzZXREcmF3UG9zKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCgwLDApO1xuXG4gICAgICAgIGlmICghKHRoaXMuX2RyYXdDYWNoZURpcnR5KSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWREcmF3UG9zaXRpb247XG4gICAgICAgIFxuICAgICAgICBsZXQgdG1wID0gdGhpcy5fY2FsY3VsYXRlRHJhd1Bvc2l0aW9uKCk7XG4gICAgICAgIGlmICghUG9pbnQuZXF1YWxzKHRtcCwgdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uKSkgICAvLyBJZiBpdCBoYXMgY2hhbmdlZCwgaXQgbWlnaHQgY2hhbmdlIGFnYWluLlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb25pbmdJc0RpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fZHJhd0NhY2hlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uID0gdG1wO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYWxsIFRyYW5zbGF0aW9ucyBhbmQgcmVtb3ZlIGFsbCBldmVudCBjYWxsYmFja3MuIFxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAvLyB0aGlzLm9uTW92ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRpb25zLmZvckVhY2godCA9PiB0LmRlc3Ryb3koKSk7XG4gICAgfVxuXG4gICAgY2hlY2tGb3JVcGRhdGVkVHJhbnNsYXRpb25zKClcbiAgICB7XG4gICAgICAgIGxldCB1cGRhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB0OiBUcmFuc2xhdGlvbjtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5fdHJhbnNsYXRpb25zLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHQgPSB0aGlzLl90cmFuc2xhdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAodC51cGRhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBDb25kaXRpb25hbFRyYW5zbGF0aW9uKVxuICAgICAgICAgICAgICAgIGlmICgoISh0LnByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbikpIHx8ICghKFBvaW50LmVxdWFscyh0LmFic29sdXRlUG9zaXRpb25Eb250VXBkYXRlUHJldmlvdXModGhpcy50cmFuc2Zvcm0uYm91bmRzKSx0LnByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbikpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaChkID0+IGQudXBkYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBwb3NpdGlvbigpIHsgcmV0dXJuIHRoaXMuYWJzb2x1dGVQb3NpdGlvblRvcExlZnQoKTsgfVxuICAgIGdldCBkcmF3UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLmRyYXdQb3NpdGlvblRvcExlZnQoKTsgfVxuXG4gICAgaGFzTW92ZWQoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiAoIVBvaW50LmVxdWFscyggdGhpcy5fY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCksIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24pKTtcbiAgICB9XG5cbiAgICBoYXNNb3ZlZEF1dG9VcGRhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGxldCBvbGRDYWNoZSA9IG5ldyBQb2ludCh0aGlzLl9jYWNoZWRBYnNvbHV0ZVBvc2l0aW9uLngsIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24ueSk7XG4gICAgICAgIHJldHVybiAoIVBvaW50LmVxdWFscyggdGhpcy5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpLCBvbGRDYWNoZSkpO1xuICAgIH1cblxuICAgIGhhc01vdmVkRHJhd0F1dG9VcGRhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhd0NhY2hlRGlydHkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IG9sZENhY2hlID0gbmV3IFBvaW50KHRoaXMuX2NhY2hlZERyYXdQb3NpdGlvbi54LHRoaXMuX2NhY2hlZERyYXdQb3NpdGlvbi55KTtcbiAgICAgICAgcmV0dXJuICghUG9pbnQuZXF1YWxzKHRoaXMuZHJhd1Bvc2l0aW9uVG9wTGVmdCgpLCBvbGRDYWNoZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX29uQ2hhbmdlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgIC8vICAgRXZlbnQuY2FsbCh0aGlzLm9uTW92ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgdG1wUG9zOiBQb2ludDtcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IDA7XG4gICAgICAgIGxldCB5OiBudW1iZXIgPSAwO1xuICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaCh0ID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9zID0gdC5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCh0aGlzLnRyYW5zZm9ybS5ib3VuZHMpXG4gICAgICAgICAgICAgICAgICAgIHggKz0gdG1wUG9zLng7XG4gICAgICAgICAgICAgICAgICAgIHkgKz0gdG1wUG9zLnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudClcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50Lmhhc1Bvc2l0aW9uKCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb3MgPSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgeCs9IHRtcFBvcy54O1xuICAgICAgICAgICAgICAgICAgICB5Kz0gdG1wUG9zLnk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxjdWxhdGVEcmF3UG9zaXRpb24oKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZXNldERyYXdQb3MpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KDAsMCk7XG5cbiAgICAgICAgbGV0IHRtcFBvczogUG9pbnQ7XG4gICAgICAgIGxldCB4OiBudW1iZXIgPSAwO1xuICAgICAgICBsZXQgeTogbnVtYmVyID0gMDtcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRpb25zLmZvckVhY2godCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRtcFBvcyA9IHQuYWJzb2x1dGVQb3NpdGlvblRvcExlZnQodGhpcy50cmFuc2Zvcm0uYm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB4ICs9IHRtcFBvcy54O1xuICAgICAgICAgICAgICAgICAgICB5ICs9IHRtcFBvcy55O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5oYXNQb3NpdGlvbigpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9zID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50LmdldERyYXdQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB4Kz0gdG1wUG9zLng7XG4gICAgICAgICAgICAgICAgICAgIHkrPSB0bXBQb3MueTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LHkpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLy4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSBkaW1lbnNpb24gdGhhdCBpcyBjYWxjdWxhdGVkIGFzIGEgZnVuY3Rpb24gb2YgaXRzIHBhcmVudCBkaW1lbnNpb24gdGhhdCBpcyBzdXBwbGllZFxuKiB3aGVuIGl0IGlzIGNvbnN0cnVjdGVkLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmRpdGlvbmFsRGltZW5zaW9uIGV4dGVuZHMgRGltZW5zaW9uXG57XG4gICAgcHJvdGVjdGVkIF9jb25kaXRpb25hbEZ1bmN0aW9uOiAoZGltZW5zaW9uOiBEaW1lbnNpb24pID0+IERpbWVuc2lvbjtcbiAgICBwcm90ZWN0ZWQgX3ByZXZpb3VzRGltZW5zaW9uOiBEaW1lbnNpb247XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uYWxGdW5jdGlvbiBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHBhcmVudCBkaW1lbnNpb24gYW5kIHJldHVybnMgYSBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb25hbEZ1bmN0aW9uOiAoZGltZW5zaW9uOiBEaW1lbnNpb24pID0+IERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIHN1cGVyKDAsMCk7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24gPSBjb25kaXRpb25hbEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGdldCBwcmV2aW91c0RpbWVuc2lvbigpIHsgcmV0dXJuIHRoaXMuX3ByZXZpb3VzRGltZW5zaW9uOyB9XG5cbiAgICBwaXhlbFdpZHRoKGJvdW5kczogQm91bmRzKSB7IHJldHVybiB0aGlzLl9jb25kaXRpb25hbERpbShib3VuZHMpLndpZHRoIH1cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcykgeyByZXR1cm4gdGhpcy5fY29uZGl0aW9uYWxEaW0oYm91bmRzKS5oZWlnaHQgfVxuXG4gICAgcHJvdGVjdGVkIF9jb25kaXRpb25hbERpbShib3VuZHM6IEJvdW5kcyk6IERpbWVuc2lvblxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IG51bGw7XG4gICAgICAgIGlmIChib3VuZHMpXG4gICAgICAgICAgICBkaW0gPSBib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIHRoaXMuX3ByZXZpb3VzRGltZW5zaW9uID0gdGhpcy5fY29uZGl0aW9uYWxGdW5jdGlvbihkaW0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNEaW1lbnNpb247XG4gICAgfVxuXG4gICAgZGltZW5zaW9uRG9udFVwZGF0ZVByZXZpb3VzKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24oYm91bmRzLmRpbWVuc2lvbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi8uLi9Cb3VuZHNcIjtcblxuLyoqXG4qIEEgcGFpciBvZiB2YWx1ZXMgdGhhdCBkZXNjaWJlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgR2FtZU9iamVjdC5cbiogQnkgZGVmYXVsdCwgdGhlc2UgdmFsdWVzIGFyZSBleHByZXNzZWQgaW4gYWJzb2x1dGUgKHBpeGVsKSB1bml0cy5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaW1lbnNpb25cbntcbiAgICBwcm90ZWN0ZWQgX3dpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9oZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3VwZGF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByb3RlY3RlZCBfcHJlc2VydmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICogQ29uc3RydWN0IGEgRGltZW5zaW9uIHRvIHN0b3JlIGEgcGFpciBvZiB2YWx1ZXNcbiAgICAqIEBwYXJhbSB3aWR0aCB0aGUgd2lkdGggdmFsdWUgdG8gc3RvcmVcbiAgICAqIEBwYXJhbSBoZWlnaHQgdGhlIGhlaWdodCB2YWx1ZSB0byBzdG9yZVxuICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuXG4gICAgbWFya0FzVXBkYXRlZCgpIHsgdGhpcy51cGRhdGVkID0gdHJ1ZTsgfVxuICAgIGRlc3Ryb3koKSB7fVxuXG4gICAgLyogSGFzIHRoZSBkaW1lbnNpb24gdXBkYXRlZCBpdHNlbGYgYW5kIHRodXMgYW55IGNhY2hlZCB2YWx1ZSBpbmNsdWRpbmcgdGhpcyBkaW1lbnNpb24gbmVlZHMgdG8gYmUgcmVjYWxjdWxhdGVkPyAqL1xuICAgIGdldCB1cGRhdGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fdXBkYXRlZDsgfVxuICAgIHNldCB1cGRhdGVkKHZhbCkgeyB0aGlzLl91cGRhdGVkID0gdmFsOyB9XG5cbiAgICAvKiogQmFzZSB3aWR0aCBzdG9yZWQgaW4gdGhpcyBEaW1lbnNpb24gKi9cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3dpZHRoOyB9XG4gICAgc2V0IHdpZHRoKHZhbClcbiAgICB7IFxuICAgICAgICBpZiAodmFsICE9PSB0aGlzLndpZHRoKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqIEJhc2UgaGVpZ2h0IHN0b3JlZCBpbiB0aGlzIERpbWVuc2lvbiAqL1xuICAgIGdldCBoZWlnaHQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX2hlaWdodDsgfVxuICAgIHNldCBoZWlnaHQodmFsKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5faGVpZ2h0KVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQWJzb2x1dGUgKHBpeGVsKSB3aWR0aCBvZiB0aGlzIGRpbWVuc2lvbiBpbiBkZXZpY2UtaW5kZXBlbmRhbnQgcGl4ZWxzXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgb2YgdGhlIHBhcmVudCB0byB0aGlzIGRpbWVuc2lvblxuICAgICovXG4gICAgcGl4ZWxXaWR0aChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLndpZHRoOyB9XG5cbiAgICAvKipcbiAgICAqIEFic29sdXRlIChwaXhlbCkgaGVpZ2h0IG9mIHRoaXMgZGltZW5zaW9uIGluIGRldmljZS1pbmRlcGVuZGFudCBwaXhlbHNcbiAgICAqIEBwYXJhbSBib3VuZHMgdGhlIGJvdW5kcyBvZiB0aGUgcGFyZW50IHRvIHRoaXMgZGltZW5zaW9uXG4gICAgKi9cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLmhlaWdodDsgfVxuXG4gICAgLyoqXG4gICAgKiBXaWR0aCBvZiB0aGlzIGRpbWVuc2lvbiBpbiBwaHlzaWNhbCBwaXhlbHNcbiAgICAqIEBwYXJhbSBib3VuZHMgdGhlIGJvdW5kcyBvZiB0aGUgcGFyZW50IHRvIHRoaXMgZGltZW5zaW9uXG4gICAgKi9cbiAgICBwaHlzaWNhbFBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5waXhlbFdpZHRoKGJvdW5kcykgKiBib3VuZHMuZGV2aWNlUGl4ZWxSYXRpbzsgfVxuXG4gICAgLyoqXG4gICAgKiBIZWlnaHQgb2YgdGhpcyBkaW1lbnNpb24gaW4gcGh5c2ljYWwgcGl4ZWxzXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgb2YgdGhlIHBhcmVudCB0byB0aGlzIGRpbWVuc2lvblxuICAgICovXG4gICAgcGh5c2ljYWxQaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLnBpeGVsSGVpZ2h0KGJvdW5kcykgKiBib3VuZHMuZGV2aWNlUGl4ZWxSYXRpbzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXRyaWV2ZSBhIERpbWVuc2lvbiB3aXRoIHRoZSBwaXhlbCB3aWR0aCBhbmQgaGVpZ2h0IGFzIHRoZSBiYXNlIHZhbHVlc1xuICAgICogQHBhcmFtIGJvdW5kcyB0aGUgYm91bmRzIG9mIHRoZSBwYXJlbnQgdG8gdGhpcyBkaW1lbnNpb25cbiAgICAqL1xuICAgIGFzU2ltcGxlUGl4ZWxEaW1lbnNpb24oYm91bmRzOiBCb3VuZHMpOiBEaW1lbnNpb24geyByZXR1cm4gbmV3IERpbWVuc2lvbih0aGlzLnBpeGVsV2lkdGgoYm91bmRzKSwgdGhpcy5waXhlbEhlaWdodChib3VuZHMpKSB9XG5cbiAgICAvKipcbiAgICAqIEFzcGVjdCByYXRpbyBiZXR3ZWVuIHdpZHRoIGFuZCBoZWlnaHQgZXhwcmVzc2VkIGFzIGEgZGVjaW1hbC4gQ2FsY3VsYXRlZFxuICAgICogYnk6IChoZWlnaHQgLyB3aWR0aClcbiAgICAqL1xuICAgIGdldCBhc3BlY3QoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaGVpZ2h0L3RoaXMud2lkdGg7IH1cblxuICAgIC8qIFdoZXRoZXIgdGhpcyBvYmplY3Qgc2hvdWxkIGJlIGtlcHQgKGZvciB0d2VlbmluZywgZXRjKSBvciB3aGV0aGVyXG4gICAgaXQgY2FuIGJlIGNvbWJpbmVkIHdpdGggb3RoZXJzIGZvciBlZmZpY2llbmN5ICovXG4gICAgZ2V0IHByZXNlcnZlKCkgeyByZXR1cm4gdGhpcy5fcHJlc2VydmU7IH1cbiAgICBzZXQgcHJlc2VydmUodmFsKSB7IHRoaXMuX3ByZXNlcnZlID0gdmFsO31cblxuICAgIHN0YXRpYyBhZGQoYTogRGltZW5zaW9uLCBiOiBEaW1lbnNpb24pOiBEaW1lbnNpb25cbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRGltZW5zaW9uKGEud2lkdGggKyBiLndpZHRoLCBhLmhlaWdodCArIGIuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXF1YWxzKGE6IERpbWVuc2lvbiwgYjogRGltZW5zaW9uKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIChhLndpZHRoID09PSBiLndpZHRoKSAmJiAoYS5oZWlnaHQgPT09IGIuaGVpZ2h0KTsgXG4gICAgfVxufVxuIiwiaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi9EaW1lbnNpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4vLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIHdpZHRoL2hlaWdodCBwYWlyIGV4cHJlc3NlZCBpbiBkZXZpY2UtaW5kZXBlbmRhbnQgcGl4ZWxzLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpeGVsRGltZW5zaW9uIGV4dGVuZHMgRGltZW5zaW9uXG57XG4gICAgcGl4ZWxXaWR0aChib3VuZHM6IEJvdW5kcykgeyByZXR1cm4gdGhpcy53aWR0aDsgfVxuICAgIHBpeGVsSGVpZ2h0KGJvdW5kczogQm91bmRzKSB7IHJldHVybiB0aGlzLmhlaWdodDsgfVxufVxuIiwiaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi9EaW1lbnNpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4vLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIHdpZHRoL2hlaWdodCBwYWlyIGRldGVybWluZWQgYXMgYSBwcm9wb3J0aW9uIG9mIHRoZSBwYXJlbnQgVHJhbnNsYXRpb24ncyBkaW1lbnNpb24uXG4qIENhbiBvcHRpb25hbGx5IGJlIGNvbnN0cnVjdGVkIHdpdGggYSBzcGVjaWZpZWQgcmVmZXJlbmNlIGJvdW5kcyB0byB1c2UgaW4gcGxhY2Ugb2ZcbiogcGFyZW50LlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BvcnRpb25hbERpbWVuc2lvbiBleHRlbmRzIERpbWVuc2lvblxue1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlQm91bmRzOiBCb3VuZHM7XG5cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgcmVmZXJlbmNlQm91bmRzPzogQm91bmRzKVxuICAgIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmIChyZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcyA9IHJlZmVyZW5jZUJvdW5kcztcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxuICAgIHBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVmZXJlbmNlQm91bmRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhbGN1bGF0aW5nKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndpZHRoICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhY2hlZERpbWVuc2lvbi53aWR0aDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aWR0aCAqIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5kaW1lbnNpb24ud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiBib3VuZHMuZGltZW5zaW9uLndpZHRoO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMuY2FsY3VsYXRpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhY2hlZERpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbiIsImltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLy4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSB3aWR0aC9oZWlnaHQgcGFpciBkZXRlcm1pbmVkIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgcGFyZW50IFRyYW5zbGF0aW9uJ3Mgc2NhbGVcbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGl2ZURpbWVuc2lvbiBleHRlbmRzIERpbWVuc2lvblxue1xuICAgIHBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiBib3VuZHMucmVmZXJlbmNlU2NhbGU7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIFxuICAgIHBpeGVsSGVpZ2h0KGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgaWYgKGJvdW5kcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlaWdodCAqIGJvdW5kcy5yZWZlcmVuY2VTY2FsZTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgVHJhbnNsYXRpb24gZnJvbSBcIi4vVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi8uLi9UcmFuc2Zvcm1cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWRqYWNlbnRUcmFuc2xhdGlvbiBleHRlbmRzIFRyYW5zbGF0aW9uXG57XG4gICAgdGFyZ2V0OiBUcmFuc2Zvcm07XG4gICAgb2Zmc2V0OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICogQHBhcmFtIG9mZnNldCBwaXhlbHMgdG8gb2Zmc2V0IGZyb20gZWRnZSBvZiB0YXJnZXQsIGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldDogVHJhbnNmb3JtLCBvZmZzZXQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKDAsIDAsIG5ldyBQb2ludCgwLDApKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAvL3RoaXMuYWx3YXlzVXBkYXRlID0gdHJ1ZTsgVE9ETyBSZXBsYWNlIHRoaXMgZnVuY3Rpb25hbGl0eVxuICAgIH1cblxuICAgIGFic29sdXRlUG9zaXRpb24oYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gYm91bmRzLnRyYW5zZm9ybS5wYXJlbnQ7XG5cbiAgICAgICAgbGV0IG5ld1BvcyA9IG51bGw7XG4gICAgICAgIGxldCB0bFBvcyA9IFBvaW50Lm1pbnVzKHRoaXMudGFyZ2V0LnBvc2l0aW9uLmFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCksIGNvbnRhaW5lci5wb3NpdGlvbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpKTtcbiAgICAgICAgaWYgKGJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICsgdGhpcy5vZmZzZXQgPCB0bFBvcy55KSAvL3dlIGhhdmUgc3BhY2UgYWJvdmVcbiAgICAgICAgICAgIG5ld1BvcyA9IG5ldyBQb2ludCh0bFBvcy54LCB0bFBvcy55IC0gdGhpcy5vZmZzZXQgLSBib3VuZHMuZGltZW5zaW9uLmhlaWdodCk7XG4gICAgICAgIGVsc2UgaWYgKGJvdW5kcy5kaW1lbnNpb24ud2lkdGggKyB0aGlzLm9mZnNldCA8IHRsUG9zLngpIC8vd2UgaGF2ZSBzcGFjZSBsZWZ0XG4gICAgICAgICAgICBuZXdQb3MgPSBuZXcgUG9pbnQodGxQb3MueCAtIHRoaXMub2Zmc2V0ICAtIGJvdW5kcy5kaW1lbnNpb24ud2lkdGgsIHRsUG9zLnkpO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMuZGltZW5zaW9uLmhlaWdodCArIHRoaXMub2Zmc2V0ICsgdGxQb3MueSA8IGNvbnRhaW5lci5ib3VuZHMuZGltZW5zaW9uLmhlaWdodCkgLy93ZSBoYXZlIHNwYWNlIGJlbG93XG4gICAgICAgICAgICBuZXdQb3MgPSBuZXcgUG9pbnQodGxQb3MueCwgdGxQb3MueSArIHRoaXMudGFyZ2V0LmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICsgdGhpcy5vZmZzZXQpO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMuZGltZW5zaW9uLndpZHRoICsgdGhpcy5vZmZzZXQgKyB0bFBvcy54IDwgY29udGFpbmVyLmJvdW5kcy5kaW1lbnNpb24ud2lkdGgpIC8vd2UgaGF2ZSBzcGFjZSByaWdodFxuICAgICAgICAgICAgbmV3UG9zID0gbmV3IFBvaW50KHRsUG9zLnggKyB0aGlzLnRhcmdldC5ib3VuZHMuZGltZW5zaW9uLndpZHRoICsgdGhpcy5vZmZzZXQsIHRsUG9zLnkpO1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uLy4uL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uL0JvdW5kc1wiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi4vLi4vVHJhbnNmb3JtXCI7XG5cbi8qKlxuKiBBIFRyYW5zbGF0aW9uIHdob3NlIHBvc2l0aW9uIGlzIGV4cHJlc3NlZCBhcyBhIHByb3ZpZGVkIGZ1bmN0aW9uIG9mIHRoZSBkaW1lbnNpb25zIG9mXG4qIGl0cyBwYXJlbnQuXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbiBleHRlbmRzIFRyYW5zbGF0aW9uXG57XG4gICAgcHJpdmF0ZSBfY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50O1xuICAgIHByaXZhdGUgX3ByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbjogUG9pbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uYWxGdW5jdGlvbiBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHBhcmVudCBkaW1lbnNpb24gYW5kIHJldHVybnMgYSBwb2ludFxuICAgICAqIEBwYXJhbSBhbmNob3IgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50LCBhbmNob3I/OiBQb2ludClcbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb25hbEZ1bmN0aW9uOiAoZ2FtZU9iamVjdDogVHJhbnNmb3JtLCBwYXJlbnREaW1lbnNpb246IERpbWVuc2lvbikgPT4gUG9pbnQpXG4gICAgY29uc3RydWN0b3IoY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50LCBhbmNob3I/OiBQb2ludCB8IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoYW5jaG9yIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN1cGVyKDAsIDAsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFuY2hvciA9PT0gXCJib29sZWFuXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN1cGVyKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN1cGVyKDAsMCk7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24gPSBjb25kaXRpb25hbEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGdldCBwcmV2aW91c0Fic29sdXRlUG9zaXRpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCBwRGltID0gbnVsbFxuICAgICAgICBpZiAoYm91bmRzLnBhcmVudEJvdW5kcylcbiAgICAgICAgICAgIHBEaW0gPSBib3VuZHMucGFyZW50Qm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNBYnNvbHV0ZVBvc2l0aW9uID0gIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24oYm91bmRzLnRyYW5zZm9ybSwgcERpbSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmV2aW91c0Fic29sdXRlUG9zaXRpb247XG4gICAgfVxuXG4gICAgYWJzb2x1dGVQb3NpdGlvbkRvbnRVcGRhdGVQcmV2aW91cyhib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25kaXRpb25hbEZ1bmN0aW9uKGJvdW5kcy50cmFuc2Zvcm0sIGJvdW5kcy5wYXJlbnRCb3VuZHMuZGltZW5zaW9uKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCBUcmFuc2xhdGlvbiBmcm9tIFwiLi9UcmFuc2xhdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIFRyYW5zbGF0aW9uIHdob3NlIHBvc2l0aW9uIGlzIGV4cHJlc3NlZCBhcyBhIGRldmljZS1pbmRlcGVuZGFudCBwaXhlbCB2YWx1ZS5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaXhlbFRyYW5zbGF0aW9uIGV4dGVuZHMgVHJhbnNsYXRpb25cbntcbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uLy4uL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSBUcmFuc2xhdGlvbiB3aG9zZSBwb3NpdGlvbiBpcyBleHByZXNzZWQgYXMgYSBwcm9wb3J0aW9uIG9mIHRoZSBkaW1lbnNpb25zIG9mXG4qIGl0cyBwYXJlbnQuXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZXh0ZW5kcyBUcmFuc2xhdGlvblxue1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlQm91bmRzOiBCb3VuZHM7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9pbnQpXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvaW50LCBhbmNob3I6IFBvaW50KVxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb2ludCwgcmVmZXJlbmNlQm91bmRzOiBCb3VuZHMpXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvaW50LCBhbmNob3I6IFBvaW50LCByZWZlcmVuY2VCb3VuZHM6IEJvdW5kcylcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcilcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgYW5jaG9yOiBQb2ludClcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgcmVmZXJlbmNlQm91bmRzOiBCb3VuZHMpXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuY2hvcjogUG9pbnQsIHJlZmVyZW5jZUJvdW5kczogQm91bmRzKVxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciB8IFBvaW50LCB5PzogbnVtYmVyIHwgUG9pbnQgfCBCb3VuZHMsIGFuY2hvcj86IFBvaW50IHwgQm91bmRzLCByZWZlcmVuY2VCb3VuZHM/OiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1cGVyKHgsIHkpXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlQm91bmRzID0gYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1cGVyKHgpO1xuICAgICAgICAgICAgICAgIGlmICh5IGluc3RhbmNlb2YgQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VCb3VuZHMgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh0eXBlb2YoeCkgPT09IFwibnVtYmVyXCIpICYmICh0eXBlb2YoeSkgPT09IFwibnVtYmVyXCIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYW5jaG9yIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIoeCwgeSwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocmVmZXJlbmNlQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VCb3VuZHMgPSByZWZlcmVuY2VCb3VuZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIoeCwgeSk7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlQm91bmRzID0gYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBnZXQgcmVmZXJlbmNlQm91bmRzKCkgeyByZXR1cm4gdGhpcy5fcmVmZXJlbmNlQm91bmRzOyB9XG5cbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgICAgICBkaW0gPSB0aGlzLl9yZWZlcmVuY2VCb3VuZHMuZGltZW5zaW9uO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMucGFyZW50Qm91bmRzKVxuICAgICAgICAgICAgZGltID0gYm91bmRzLnBhcmVudEJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoMCwwKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLnBvc2l0aW9uLnggKiBkaW0ud2lkdGg7XG4gICAgICAgIGxldCB5ID0gdGhpcy5wb3NpdGlvbi55ICogZGltLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LHkpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBSZXByZXNlbnRzIGEgVHJhbnNsYXRpb24uIFRoZSB1bml0cyBpbiB3aGljaCB0aGUgcG9zaXRpb24gaXMgZXhwcmVzc2VkIGluIGlzXG4qIGRldGVybWluZWQgYnkgc3ViY2xhc3Nlcy5cbiogQGFic3RyYWN0XG4qL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgVHJhbnNsYXRpb25cbntcbiAgICBwcm90ZWN0ZWQgX2FuY2hvcjogUG9pbnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBQb2ludCA9IG5ldyBQb2ludCgwLDApO1xuICAgIHByb3RlY3RlZCBfdXBkYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJvdGVjdGVkIF9wcmVzZXJ2ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuY2hvcj86IFBvaW50KVxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb2ludCwgYW5jaG9yPzogUG9pbnQpXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyIHwgUG9pbnQsIHk/OiBudW1iZXIgfCBQb2ludCwgYW5jaG9yPzogUG9pbnQpXG4gICAge1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB4O1xuICAgICAgICAgIGlmICh5IGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICAgIHRoaXMuYW5jaG9yID0geTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgodHlwZW9mKHgpID09PSBcIm51bWJlclwiKSAmJiAodHlwZW9mKHkpID09PSBcIm51bWJlclwiKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG5ldyBQb2ludCh4IHx8IDAsIHkgfHwgMCk7XG4gICAgICAgICAgICBpZiAoYW5jaG9yKVxuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgdXBkYXRlZCgpIHsgcmV0dXJuIHRoaXMuX3VwZGF0ZWQ7IH1cbiAgICBzZXQgdXBkYXRlZCh2YWwpIHsgdGhpcy5fdXBkYXRlZCA9IHZhbDt9XG4gICAgbWFya0FzVXBkYXRlZCgpIHsgdGhpcy51cGRhdGVkID0gdHJ1ZTsgfVxuXG4gICAgLyoqIFRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGluIHRoZSB1bml0cyBvZiB0aGUgVHJhbnNsYXRpb24gKi9cbiAgICBnZXQgcG9zaXRpb24oKSB7IHJldHVybiB0aGlzLl9wb3NpdGlvbjsgfVxuICAgIHNldCBwb3NpdGlvbih2YWw6IFBvaW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFQb2ludC5lcXVhbHModmFsLCB0aGlzLnBvc2l0aW9uKSlcbiAgICAgICAgICAgIHRoaXMubWFya0FzVXBkYXRlZCgpO1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHZhbDtcbiAgICB9XG5cbiAgICAvKiBXaGV0aGVyIHRoaXMgb2JqZWN0IHNob3VsZCBiZSBrZXB0IChmb3IgdHdlZW5pbmcsIGV0Yykgb3Igd2hldGhlclxuICAgIGl0IGNhbiBiZSBjb21iaW5lZCB3aXRoIG90aGVycyBmb3IgZWZmaWNpZW5jeSAqL1xuICAgIGdldCBwcmVzZXJ2ZSgpIHsgcmV0dXJuIHRoaXMuX3ByZXNlcnZlOyB9XG4gICAgc2V0IHByZXNlcnZlKHZhbCkgeyB0aGlzLl9wcmVzZXJ2ZSA9IHZhbDt9XG5cbiAgICAvKipcbiAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgZGltZW5zaW9uIG9mIHRoZVxuICAgICogVHJhbnNsYXRpb24uIDAsMCBpcyB0aGUgdG9wIGxlZnQuIDEsMSBpcyBib3R0b20gcmlnaHQuXG4gICAgKi9cbiAgICBnZXQgYW5jaG9yKCkgeyByZXR1cm4gdGhpcy5fYW5jaG9yOyB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgZGltZW5zaW9uIG9mIHRoZVxuICAgICogVHJhbnNsYXRpb24uIDAsMCBpbmRpY2F0ZXMgdG9wIGxlZnQuIDEsMSBpbmRpY2F0ZXMgYm90dG9tIHJpZ2h0LlxuICAgICogQHBhcmFtIHZhbCBhIFBvaW50XG4gICAgKi9cbiAgICBzZXQgYW5jaG9yKHZhbDogUG9pbnQpXG4gICAge1xuICAgICAgICBpZiAoIVBvaW50LmVxdWFscyh2YWwsIHRoaXMuYW5jaG9yKSlcbiAgICAgICAgICAgIHRoaXMubWFya0FzVXBkYXRlZCgpO1xuICAgICAgICB0aGlzLl9hbmNob3IgPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGFuY2hvciBpbiBhYnNvbHV0ZSAocGl4ZWwpIHVuaXRzIGZyb20gdGhlIHRvcCBsZWZ0IG9mXG4gICAgKiB0aGUgVHJhbnNsYXRpb24uXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhbmNob3JPZmZzZXQoYm91bmRzOiBCb3VuZHMpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IGJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoZGltLndpZHRoKnRoaXMuYW5jaG9yLngsIGRpbS5oZWlnaHQqdGhpcy5hbmNob3IueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBBIFBvaW50IGNvbnRhaW5pbmcgdGhlIGFic29sdXRlIHBpeGVsIHBvc2l0aW9uIG9mIHRoZSBUcmFuc2xhdGlvbidzIGFuY2hvclxuICAgICogQGFic3RyYWN0XG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhYnN0cmFjdCBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKTogUG9pbnRcblxuICAgIC8qKlxuICAgICogQSBQb2ludCBjb250YWluaW5nIHRoZSBhYnNvbHV0ZSBwaXhlbCBwb3NpdGlvbiBvZiB0aGUgdG9wIGxlZnQgY29ybmVyIG9mXG4gICAgKiB0aGUgVHJhbnNsYXRpb24uXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdChib3VuZHM6IEJvdW5kcyk6IFBvaW50IHsgcmV0dXJuIFBvaW50Lm1pbnVzKHRoaXMuYWJzb2x1dGVQb3NpdGlvbihib3VuZHMpLCB0aGlzLmFuY2hvck9mZnNldChib3VuZHMpKTsgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHsgfVxufVxuIiwiY2xhc3MgUGFpcjxULFU+IHtcbiAgICByZWFkb25seSBrZXkgOiBUO1xuICAgIHJlYWRvbmx5IHZhbHVlOiBVO1xuXG4gICAgY29uc3RydWN0b3Ioa2V5OiBULCB2YWx1ZTogVSlcbiAgICB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuIH0gXG5cbmNsYXNzIER1cGxpY2F0ZU1hcDxULFU+XG57XG4gICAgZW50cmllczogUGFpcjxULFU+W10gPSBbXTtcblxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLmVudHJpZXMubGVuZ3RoOyB9XG5cbiAgICBwdXNoKGtleSwgdmFsdWUpIHsgdGhpcy5lbnRyaWVzLnB1c2gobmV3IFBhaXIoa2V5LCB2YWx1ZSkpIH1cblxuICAgIGRlbGV0ZShrZXk6IFQsIHZhbHVlPzogVSlcbiAgICB7XG4gICAgICAgIGxldCBuZXdFbnRyaWVzOiBQYWlyPFQsVT5bXSA9IFtdO1xuICAgICAgICB0aGlzLmVudHJpZXMuZm9yRWFjaCh4ID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeC5rZXkgIT09IGtleSlcbiAgICAgICAgICAgICAgICBuZXdFbnRyaWVzLnB1c2goeCk7XG4gICAgICAgICAgICBlbHNlIGlmICgodmFsdWUpICYmICh4LnZhbHVlICE9PSB2YWx1ZSkpXG4gICAgICAgICAgICAgICAgbmV3RW50cmllcy5wdXNoKHgpO1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLmVudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgIH1cblxuICAgIGRlbGV0ZVZhbHVlKHZhbHVlOiBVKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld0VudHJpZXM6IFBhaXI8VCxVPltdID0gW107XG4gICAgICAgIHRoaXMuZW50cmllcy5mb3JFYWNoKHggPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh4LnZhbHVlICE9PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICBuZXdFbnRyaWVzLnB1c2goeCk7XG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgfVxuXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gW107XG4gICAgfVxuXG4gICAgZm9yRWFjaChmKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzLmZvckVhY2goZik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudFxue1xuICAgIHByaXZhdGUgX2NhbGxiYWNrczogRHVwbGljYXRlTWFwPG9iamVjdCwgKC4uLmFyZ3MpID0+IHZvaWQ+ID0gbmV3IER1cGxpY2F0ZU1hcDxvYmplY3QsICguLi5hcmdzKSA9PiB2b2lkPigpO1xuXG4gICAgY2FsbCguLi5hcmdzKTogdm9pZFxuICAgIHsgXG4gICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2FsbGJhY2tzLmVudHJpZXMubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcy5lbnRyaWVzW2ldLnZhbHVlKC4uLmFyZ3MpOyBcbiAgICB9XG5cbiAgICBwdXNoKGNhbGxiYWNrOiAoLi4uYXJncykgPT4gdm9pZCwgY3JlYXRvcjogb2JqZWN0KTogRXZlbnRcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5wdXNoKGNyZWF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlcihjcmVhdG9yKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmRlbGV0ZShjcmVhdG9yKTtcbiAgICB9XG4gICAgXG4gICAgLypyZW1vdmUoY2FsbGJhY2s6ICguLi5hcmdzKSA9PiB2b2lkKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmRlbGV0ZVZhbHVlKGNhbGxiYWNrKTtcbiAgICB9Ki9cblxuICAgIHJlbW92ZUFsbCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbGluayhzb3VyY2U6IEV2ZW50LCBkZXN0OiBFdmVudCwgY3JlYXRvcjogb2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiBkZXN0KVxuICAgICAgICAgICAgc291cmNlLnB1c2goZGVzdC5jYWxsLmJpbmQoZGVzdCksIGNyZWF0b3IpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjYWxsKGV2ZW50OiBFdmVudCwgLi4uYXJncyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChldmVudClcbiAgICAgICAgICAgIGV2ZW50LmNhbGwuYmluZChldmVudCkoLi4uYXJncyk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgRXZlbnQgZnJvbSBcIi4vRXZlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzZXJ2ZXJWYXJpYWJsZTxUPlxue1xuICAgIHByaXZhdGUgX3ZhbHVlOiBUO1xuICAgIHByaXZhdGUgX29uVXBkYXRlOiBFdmVudDtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBUKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUgPSBuZXcgRXZlbnQoKTtcbiAgICB9XG5cbiAgICBnZXQgb25VcGRhdGUoKSB7IHJldHVybiB0aGlzLl9vblVwZGF0ZTsgfVxuXG4gICAgZ2V0IHZhbHVlKCk6IFQgeyByZXR1cm4gdGhpcy5fdmFsdWU7IH1cbiAgICBzZXQgdmFsdWUodmFsKVxuICAgIHtcbiAgICAgICAgbGV0IHVwZGF0ZSA9ICh2YWwgIT09IHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWw7XG4gICAgICAgIGlmICh1cGRhdGUpXG4gICAgICAgICAgICBFdmVudC5jYWxsKHRoaXMub25VcGRhdGUsIHZhbCk7XG4gICAgfVxuXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUucmVtb3ZlQWxsKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdGhyZWFkSWQgfSBmcm9tIFwid29ya2VyX3RocmVhZHNcIjtcblxuLyoqXG4qIEFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSBzaW1wbGUgMkQgY29vcmRpbmF0ZSwgMkQgdmVjdG9yLCBvciB4LXkgdmFsdWUgcGFpci5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludFxue1xuICAgIHByb3RlY3RlZCBfeDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfeTogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5feCA9IHggfHwgMDtcbiAgICAgICAgdGhpcy5feSA9IHkgfHwgMDtcbiAgICB9XG5cbiAgICBnZXQgeCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5feDsgfVxuICAgIGdldCB5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl95O31cblxuICAgIGdldCBtYWduaXR1ZGUoKTogbnVtYmVyIHsgcmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3ggKyB0aGlzLl95KnRoaXMuX3kpOyB9XG5cbiAgICBnZXQgaXNaZXJvKCk6IGJvb2xlYW4geyByZXR1cm4gKHRoaXMueCA9PT0gMCkgJiYgKHRoaXMueSA9PT0gMCl9XG5cbiAgICBzdGF0aWMgYWRkKGE6IFBvaW50LCBiOiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgeCA9IGEueCArIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgKyBiLnk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWludXMoYTogUG9pbnQsIGI/OiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAoIWIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnVzKG5ldyBQb2ludCgwLDApLCBhKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeCA9IGEueCAtIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgLSBiLnk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbXVsdGlwbHkocDogUG9pbnQsIHM6IG51bWJlciB8IFBvaW50KTogUG9pbnRcbiAgICB7XG4gICAgICAgIGlmIChzIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHAueCAqIHMueCwgcC55ICogcy55KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludChwLnggKiBzLCBwLnkgKiBzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZG90UHJvZHVjdChwOiBQb2ludCwgczogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gKHAueCAqIHMueCArIHAueSAqIHMueSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRpdmlkZShwOiBQb2ludCwgczogbnVtYmVyKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCB4ID0gcC54IC8gcztcbiAgICAgICAgbGV0IHkgPSBwLnkgLyBzO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgseSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyb3NzUHJvZHVjdChwOiBQb2ludCwgczogUG9pbnQpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBwLnggKiBzLnkgLSBwLnkgKiBzLng7XG4gICAgfVxuXG4gICAgc3RhdGljIGVxdWFscyhhOiBQb2ludCwgYjogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gKChhLnggPT09IGIueCkgJiYgKGEueSA9PT0gYi55KSk7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgdGhlIHN0cmFpZ2h0IGxpbmUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzICoqL1xuICAgIHN0YXRpYyBkaXN0YW5jZShhOiBQb2ludCwgYjogUG9pbnQpXG4gICAge1xuICAgICAgICBsZXQgeCA9IGEueCAtIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgLSBiLnk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeCp4ICsgeSp5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHBvaW50IHdoaWNoIGlzIHJvdGF0ZWQgY2xvY2t3aXNlIGFib3V0IHRoZSBvcmlnaW4uXG4gICAgICogUmVtZW1iZXIgdGhlIHkgYXhpcyBpcyBpbnZlcnRlZC5cbiAgICAgKiBAcGFyYW0gYW5nbGUgY2xvY2t3aXNlIGFuZ2xlIHRvIHJvdGF0ZSBieVxuICAgICAqL1xuICAgIHJvdGF0ZShhbmdsZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHggPSBNYXRoLmNvcyhhbmdsZSkgKiB0aGlzLl94ICsgLU1hdGguc2luKGFuZ2xlKSAqIHRoaXMuX3k7XG4gICAgICAgIGxldCB5ID0gTWF0aC5zaW4oYW5nbGUpICogdGhpcy5feCArIE1hdGguY29zKGFuZ2xlKSAqIHRoaXMuX3k7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBjbG9zZXN0UG9pbnQocG9pbnRzOiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgbGV0IHNtYWxsZXN0RGlzdGFuY2U6IG51bWJlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHdpbm5lcjogUG9pbnQ7XG4gICAgICAgIHBvaW50cy5mb3JFYWNoKHAgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IFBvaW50Lm1pbnVzKHAsdGhpcykubWFnbml0dWRlO1xuICAgICAgICAgICAgICAgIGlmICgoc21hbGxlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkKSB8fCAoZCA8IHNtYWxsZXN0RGlzdGFuY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaXN0YW5jZSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIHdpbm5lciA9IHA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHdpbm5lcjtcbiAgICB9XG5cbiAgICBnZXQgbm9ybWFsaXNlZCgpOiBQb2ludFxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLnggPT09IHRoaXMueSkgfHwgKCB0aGlzLnggPT09IDApIHx8ICh0aGlzLnkgPT09IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbWFnbml0dWRlID0gdGhpcy5tYWduaXR1ZGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueC9tYWduaXR1ZGUsIHRoaXMueS9tYWduaXR1ZGUpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIHlldFwiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYW5nbGVCZXR3ZWVuKGE6IFBvaW50LCBiOiBQb2ludCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIoYi55LGIueCkgLSBNYXRoLmF0YW4yKGEueSxhLngpXG4gICAgICAgLy8gcmV0dXJuIFBvaW50LmRvdFByb2R1Y3QoYSxiKS8oYS5tYWduaXR1ZGUqYi5tYWduaXR1ZGUpXG4gICAgfVxuXG4gICAgcHJvamVjdGlvbkluKHZlY3RvcjogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gUG9pbnQuZG90UHJvZHVjdCh0aGlzLCB2ZWN0b3Iubm9ybWFsaXNlZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFuZ2xlVG9Vbml0VmVjdG9yKGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KE1hdGguY29zKGFuZ2xlKSwgTWF0aC5zaW4oYW5nbGUpKTtcbiAgICB9XG5cbiAgICBhc0FuZ2xlKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludDNcbntcbiAgICBwcm90ZWN0ZWQgX3g6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3k6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3o6IG51bWJlcjtcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIgfCBudW1iZXJbXSB8IFBvaW50MywgeT86IG51bWJlciwgej86IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl94ID0geFswXTtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB4WzFdO1xuICAgICAgICAgICAgdGhpcy5feiA9IHhbMl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeCBpbnN0YW5jZW9mIFBvaW50MylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHgueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB4Lnk7XG4gICAgICAgICAgICB0aGlzLl96ID0geC56O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHggfHwgMDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5IHx8IDA7XG4gICAgICAgICAgICB0aGlzLl96ID0geiB8fCAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3g7IH1cbiAgICBnZXQgeSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5feTt9XG4gICAgZ2V0IHooKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3o7fVxuICAgIHNldCB4KHZhbCkgeyB0aGlzLl94ID0gdmFsOyB9XG4gICAgc2V0IHkodmFsKSB7IHRoaXMuX3kgPSB2YWw7fVxuICAgIHNldCB6KHZhbCkgeyB0aGlzLl96ID0gdmFsO31cblxuICAgIGVxdWFscyhiOiBQb2ludDMpXG4gICAge1xuICAgICAgICByZXR1cm4gKCh0aGlzLnggPT09IGIueCkgJiYgKHRoaXMueSA9PT0gYi55KSAmJiAodGhpcy56ID09PSBiLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXF1YWxzKGE6IFBvaW50MywgYjogUG9pbnQzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgoYS54ID09PSBiLngpICYmIChhLnkgPT09IGIueSkgJiYgKGEueiA9PT0gYi56KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1pbnVzKGE6IFBvaW50MywgYj86IFBvaW50Myk6IFBvaW50M1xuICAgIHtcbiAgICAgICAgaWYgKCFiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51cyhuZXcgUG9pbnQzKDAsMCwwKSwgYSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHggPSBhLnggLSBiLng7XG4gICAgICAgIGxldCB5ID0gYS55IC0gYi55O1xuICAgICAgICBsZXQgeiA9IGEueiAtIGIuelxuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4LHkseik7XG4gICAgfVxuXG4gICAgbWludXMoYTogUG9pbnQzKTogUG9pbnQzXG4gICAge1xuICAgICAgICBsZXQgeCA9IHRoaXMueCAtIGEueDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnkgLSBhLnk7XG4gICAgICAgIGxldCB6ID0gdGhpcy56IC0gYS56XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQzKHgseSx6KTtcbiAgICB9XG5cbiAgICBwbHVzKGE6IFBvaW50Myk6IFBvaW50M1xuICAgIHtcbiAgICAgICAgbGV0IHggPSB0aGlzLnggKyBhLng7XG4gICAgICAgIGxldCB5ID0gdGhpcy55ICsgYS55O1xuICAgICAgICBsZXQgeiA9IHRoaXMueiArIGEuelxuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4LHkseik7XG4gICAgfVxuXG4gICAgbXVsdGlwbHkoczogUG9pbnQzIHwgbnVtYmVyKTogUG9pbnQzXG4gICAge1xuICAgICAgICBpZiAocyBpbnN0YW5jZW9mIFBvaW50MylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggKiBzLng7XG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMueSAqIHMueTtcbiAgICAgICAgICAgIGxldCB6ID0gdGhpcy56ICogcy56O1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoeCx5LHopO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggKiBzO1xuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLnkgKiBzO1xuICAgICAgICAgICAgbGV0IHogPSB0aGlzLnogKiBzO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoeCx5LHopO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICB9XG5cbiAgICBnZXQgbm9ybWFsaXNlZCgpOiBQb2ludDNcbiAgICB7XG4gICAgICAgIGlmICgoKHRoaXMueCA9PT0gdGhpcy55KSB8fCAodGhpcy54ID09PSAwKSB8fCAodGhpcy55ID09PSAwKSkgJiYgKCh0aGlzLnkgPT09IHRoaXMueikgfHwgKHRoaXMueSA9PT0gMCkgfHwgKHRoaXMueiA9PT0gMCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbWFnbml0dWRlID0gdGhpcy5tYWduaXR1ZGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh0aGlzLngvbWFnbml0dWRlLCB0aGlzLnkvbWFnbml0dWRlLCB0aGlzLnovbWFnbml0dWRlKVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCB5ZXRcIik7XG4gICAgfVxuXG4gICAgZ2V0IG1hZ25pdHVkZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KCh0aGlzLngqdGhpcy54KSArICh0aGlzLnkqdGhpcy55KSArICh0aGlzLnoqdGhpcy56KSk7XG4gICAgfVxuXG59IiwiaW1wb3J0IFBvaW50IGZyb20gXCIuL1BvaW50XCI7XG5pbXBvcnQgeyBJbnRlcnNlY3Rpb24gfSBmcm9tIFwiLi4vZ2FtZW9iamVjdC9Qb2x5Z29uQ29sbGlzaW9uXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQb2x5U2hhcGVcbntcbiAgICBwcml2YXRlIF9wb2ludHM6IFBvaW50W107XG5cbiAgICBnZXQgcG9pbnRzKCkgeyByZXR1cm4gdGhpcy5fcG9pbnRzOyB9XG5cbiAgICBnZXQgZWRnZXMoKTogUG9seUVkZ2VbXVxuICAgIHtcbiAgICAgICAgbGV0IGUgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnBvaW50cy5sZW5ndGgtMTtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUucHVzaChuZXcgUG9seUVkZ2UoW3RoaXMucG9pbnRzW2ldLCB0aGlzLnBvaW50c1tpKzFdXSkpXG4gICAgICAgIH1cbiAgICAgICAgZS5wdXNoKG5ldyBQb2x5RWRnZShbdGhpcy5wb2ludHNbdGhpcy5wb2ludHMubGVuZ3RoLTFdLCB0aGlzLnBvaW50c1swXV0pKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocG9pbnRzOiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcG9pbnRzID0gcG9pbnRzO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGNsb25lKG5ld1BvaW50czogUG9pbnRbXSk7XG5cbiAgICBjZW50ZXJQb2ludCgpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IHhUb3RhbCA9IDA7XG4gICAgICAgIGxldCB5VG90YWwgPSAwO1xuICAgICAgICB0aGlzLnBvaW50cy5mb3JFYWNoKHAgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgeFRvdGFsICs9IHAueDtcbiAgICAgICAgICAgIHlUb3RhbCArPSBwLnk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHhUb3RhbC90aGlzLnBvaW50cy5sZW5ndGgsIHlUb3RhbC90aGlzLnBvaW50cy5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwb2ludCB0aGF0IGlzIHRoZSBtYXhpbXVtIHBvaW50IG9mIHByb2plY3Rpb24gb24gdGhlIHByb3ZpZGVkXG4gICAgICogdmVjdG9yLiBUaGUgcG9pbnQgcmV0dXJuZWQgd2lsbCBiZSBvbmUgb2YgdGhlIHZlcnRleGVzIG9mIHRoZSBwb2x5Z29uLlxuICAgICAqIFdoZXJlIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcG9pbnQgd2loIHRoZSBzYW1lIHByb2plY3Rpb24sIHRoZSBmaXJzdCB3aWxsXG4gICAgICogYmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHZlY3RvclxuICAgICAqL1xuICAgIG1heGltdW1Qcm9qZWN0aW9uT25WZWN0b3IodmVjdG9yOiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgY3VycmVudE1heCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGxlYWRpbmdQb2ludCA9IG51bGxcbiAgICAgICAgbGV0IHVuaXRWZWN0b3IgPSB2ZWN0b3Iubm9ybWFsaXNlZDtcbiAgICAgICAgdGhpcy5wb2ludHMuZm9yRWFjaChwID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2ogPSBQb2ludC5kb3RQcm9kdWN0KHAsIHVuaXRWZWN0b3IpO1xuICAgICAgICAgICAgICAgIGlmICgoY3VycmVudE1heCA9PT0gdW5kZWZpbmVkKSB8fCAocHJvaiA+IGN1cnJlbnRNYXgpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhZGluZ1BvaW50ID0gcDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1heCA9IHByb2o7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsZWFkaW5nUG9pbnQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBDb252ZXhQb2x5Z29uIGV4dGVuZHMgUG9seVNoYXBlXG57XG4gICAgcHJpdmF0ZSBfY2xvY2t3aXNlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb24gYXJlIGxpc3RlZCBpbiBjbG9ja3dpc2Ugb3JkZXIsIGZhbHNlIGlmXG4gICAgICogdGhleSBhcmUgbGlzdGVkIGluIGFudGljbG9ja3dpc2Ugb3JkZXIuXG4gICAgICovXG4gICAgZ2V0IGNsb2Nrd2lzZSgpIHsgcmV0dXJuIHRoaXMuX2Nsb2Nrd2lzZTsgfVxuICAgIHNldCBjbG9ja3dpc2UodmFsKSB7IHRoaXMuX2Nsb2Nrd2lzZSA9IHZhbDsgfVxuXG4gICAgY2xvbmUobmV3UG9pbnRzOiBQb2ludFtdKTogQ29udmV4UG9seWdvblxuICAgIHtcbiAgICAgICAgbGV0IHAgPSBuZXcgQ29udmV4UG9seWdvbihuZXdQb2ludHMpO1xuICAgICAgICBwLmNsb2Nrd2lzZSA9IHRoaXMuY2xvY2t3aXNlO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRydWUgaWYgdGhlIHBvbHlnb24gaW50ZXJzZWN0cyB3aXRoIHRoZSBwcm92aWRlZCByZWN0XG4gICAgICogQHBhcmFtIHJlY3QgXG4gICAgICovXG4gICAgaW50ZXJzZWN0cyhvdGhlcjogQ29udmV4UG9seWdvbik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHRoaXMucG9pbnRzLmZvckVhY2gocCA9PiB7IGlmIChvdGhlci5jb250YWluc1BvaW50KHApKSByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgIG90aGVyLnBvaW50cy5mb3JFYWNoKHAgPT4geyBpZiAodGhpcy5jb250YWluc1BvaW50KHApKSByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb250YWlucyhvdGhlcjogQ29udmV4UG9seWdvbik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIG90aGVyLnBvaW50cy5mb3JFYWNoKHAgPT4geyBpZiAoISh0aGlzLmNvbnRhaW5zUG9pbnQocCkpKSByZXR1cm4gZmFsc2U7IH0pXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGludGVyc2VjdGlvbnNXaXRoRWRnZShzdGFydDogUG9pbnQsIGVuZDogUG9pbnQpOiBJbnRlcnNlY3Rpb25bXVxuICAgIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5lZGdlcy5mb3JFYWNoKGUgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gZS5wb2ludE9mSW50ZXJzZWN0aW9uV2l0aEVkZ2Uoc3RhcnQsZW5kKTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaChuZXcgSW50ZXJzZWN0aW9uKHBvaW50LGUpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zO1xuICAgIH1cblxuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQ6IG51bWJlciB8IFBvaW50LCB5PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICBpZiAocG9pbnQgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAge1xuICAgICAgICAgICAgeSA9IHBvaW50Lnk7XG4gICAgICAgICAgICB4ID0gcG9pbnQueDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB4ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaChlID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghKHRoaXMucmlnaHRPZkVkZ2UoeCwgeSwgZSkpXG4gICAgICAgICAgICAgICAgfHwgKCEodGhpcy5jbG9ja3dpc2UpICYmICEodGhpcy5sZWZ0T2ZFZGdlKHgsIHksIGUpKSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmlnaHRPZkVkZ2UocHg6IG51bWJlciwgcHk6IG51bWJlciwgZTogUG9seUVkZ2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgZ3JhZCA9IChlWzFdLnktZVswXS55KS8oZVsxXS54LWVbMF0ueClcbiAgICAgICAgaWYgKGdyYWQgPT09IEluZmluaXR5KVxuICAgICAgICAgICAgcmV0dXJuIHB4IDw9IGVbMF0ueFxuICAgICAgICBpZiAoZ3JhZCA9PT0gLUluZmluaXR5KVxuICAgICAgICAgICAgcmV0dXJuIHB4ID49IGVbMF0ueFxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gZVswXS55IC0gKGdyYWQqZVswXS54KVxuICAgICAgICBsZXQgZXhwZWN0ZWRZID0gKHB4KmdyYWQgKyBpbnRlcnNlY3Rpb24pXG4gICAgICAgIGlmIChlWzFdLnggPiBlWzBdLngpXG4gICAgICAgICAgICByZXR1cm4gKHB5ID49IGV4cGVjdGVkWSlcbiAgICAgICAgaWYgKGVbMV0ueCA8IGVbMF0ueClcbiAgICAgICAgICAgIHJldHVybiAocHkgPD0gZXhwZWN0ZWRZKVxuICAgIH1cblxuICAgIGxlZnRPZkVkZ2UocHg6IG51bWJlciwgcHk6IG51bWJlciwgZTogUG9seUVkZ2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgZ3JhZCA9IChlWzFdLnktZVswXS55KS8oZVsxXS54LWVbMF0ueClcbiAgICAgICAgaWYgKGdyYWQgPT09IEluZmluaXR5KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZVswXS55ID4gZVsxXS55KVxuICAgICAgICAgICAgICAgIHJldHVybiBweCA8PSBlWzBdLnggXG4gICAgICAgICAgICBpZiAoZVswXS55IDwgZVsxXS55KVxuICAgICAgICAgICAgICAgIHJldHVybiBweCA+PSBlWzBdLnhcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gZVswXS55IC0gKGdyYWQqZVswXS54KVxuICAgICAgICBsZXQgZXhwZWN0ZWRZID0gKHB4KmdyYWQgKyBpbnRlcnNlY3Rpb24pXG4gICAgICAgIGlmIChlWzFdLnggPiBlWzBdLngpXG4gICAgICAgICAgICByZXR1cm4gKHB5IDw9IGV4cGVjdGVkWSlcbiAgICAgICAgaWYgKGVbMV0ueCA8IGVbMF0ueClcbiAgICAgICAgICAgIHJldHVybiAocHkgPj0gZXhwZWN0ZWRZKVxuICAgIH1cbn1cblxuLyoqXG4gKiBBbnkgbnVtYmVyIG9mIG5vZGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2x5TGluZSBleHRlbmRzIFBvbHlTaGFwZVxue1xuICAgIGNsb25lKCk6IFBvbHlMaW5lXG4gICAge1xuICAgICAgICBsZXQgcCA9IG5ldyBQb2x5TGluZSh0aGlzLnBvaW50cyk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBPbmx5IHR3byBub2Rlc1xuICovXG5leHBvcnQgY2xhc3MgUG9seUVkZ2UgZXh0ZW5kcyBQb2x5TGluZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvaW50czogUG9pbnRbXSlcbiAgICB7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoICE9PSAyKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUG9seUVkZ2UgZXhwZWN0cyBhIHBvaW50cyBhcnJheSBvZiBleGFjdGx5IDJcIilcbiAgICAgICAgc3VwZXIocG9pbnRzKTtcbiAgICB9XG5cbiAgICBnZXQgdmVjdG9yKCkgeyByZXR1cm4gUG9pbnQubWludXModGhpcy5wb2ludHNbMV0sIHRoaXMucG9pbnRzWzBdKTsgfVxuXG4gICAgcG9pbnRPZkludGVyc2VjdGlvbldpdGhFZGdlKGVkZ2U6IFBvbHlFZGdlIHwgUG9pbnQsIGVuZD86IFBvaW50KTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCBwOiBQb2ludDtcbiAgICAgICAgbGV0IHI6IFBvaW50O1xuICAgICAgICBpZiAoZWRnZSBpbnN0YW5jZW9mIFBvbHlFZGdlKVxuICAgICAgICB7XG4gICAgICAgICAgICBwID0gbmV3IFBvaW50KGVkZ2UucG9pbnRzWzBdLngsZWRnZS5wb2ludHNbMF0ueSk7XG4gICAgICAgICAgICByID0gbmV3IFBvaW50KGVkZ2UucG9pbnRzWzFdLngsZWRnZS5wb2ludHNbMV0ueSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZWRnZSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBwID0gZWRnZTtcbiAgICAgICAgICAgIHIgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgciA9IFBvaW50Lm1pbnVzKHIscCk7XG5cbiAgICAgICAgbGV0IHEgPSBuZXcgUG9pbnQodGhpcy5wb2ludHNbMF0ueCx0aGlzLnBvaW50c1swXS55KTtcbiAgICAgICAgbGV0IHMgPSBQb2ludC5taW51cyhuZXcgUG9pbnQodGhpcy5wb2ludHNbMV0ueCx0aGlzLnBvaW50c1sxXS55KSwgcSk7XG5cbiAgICAgICAgbGV0IHFtcDogUG9pbnQgPSBQb2ludC5taW51cyhxLCBwKTtcbiAgICAgICAgbGV0IHBtcTogUG9pbnQgPSBQb2ludC5taW51cyhwLCBxKTtcbiAgICAgICAgbGV0IHJ4czogbnVtYmVyID0gUG9pbnQuY3Jvc3NQcm9kdWN0KHIscylcblxuICAgICAgICBsZXQgdCA9IFBvaW50LmNyb3NzUHJvZHVjdChxbXAsIHMpIC8gcnhzO1xuICAgICAgICBsZXQgdSA9IFBvaW50LmNyb3NzUHJvZHVjdChwbXEsIHIpIC8gUG9pbnQuY3Jvc3NQcm9kdWN0KHMscik7XG4gICAgICAgIGxldCBwbXF4ciA9IFBvaW50LmNyb3NzUHJvZHVjdChwbXEscik7XG5cbiAgICAgICAgaWYgKChyeHMgPT09IDApICYmIChwbXF4ciA9PT0gMCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBycnM6IFBvaW50ID0gUG9pbnQuZGl2aWRlKHIsIFBvaW50LmRvdFByb2R1Y3QocixyKSk7XG4gICAgICAgICAgICBsZXQgdDA6IG51bWJlciA9IFBvaW50LmRvdFByb2R1Y3QocG1xLCBycnMpO1xuICAgICAgICAgICAgbGV0IHQxOiBudW1iZXIgPSB0MCArIFBvaW50LmRvdFByb2R1Y3QocywgcnJzKTtcbiAgICAgICAgICAgIGlmICgoKHQwID49IDAgJiYgdDAgPD0gMSkpIHx8ICgodDEgPj0gMCApICYmICh0MSA8PSAxKSkgfHwgKCh0MCA8PSAwKSAmJiAodDEgPj0gMCkpIHx8ICgodDAgPj0gMSkgJiYgKHQxIDw9IDApKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbGluZWFyIGFuZCBvdmVybGFwcGluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAvL2NvbGluZWFyIGFuZCBvdmVybGFwaW5nXG4gICAgICAgICAgICAgICAgLy9UT0RPOiB3b3JrIG91dCB3aGF0IHRvIGRvIGlmIHRoaXMgaXMgdGhlIGNhc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNvbGluZWFyIGJ1dCBub3Qgb3ZlcmxhcHBpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocnhzID09PSAwKSAmJiAocG1xeHIgIT09IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicGFyYWxsZWwgYW5kIG5vbi1pbnRlcnNlY3RpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBwYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChyeHMgIT09IDApICYmICh0ID49IDApICYmICh0IDw9IDEpICYmICh1ID49IDApICYmICh1IDw9IDEpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiaW50ZXJzZWN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gUG9pbnQuYWRkKHAsIFBvaW50Lm11bHRpcGx5KHIsdCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm5vbi1wYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIG5vbi1wYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9seVJlY3QgZXh0ZW5kcyBDb252ZXhQb2x5Z29uXG57XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBvbHlSZWN0LCBpZiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCwgcmV0dXJucyBhIDF4MSByZWN0IHdpdGggb3JpZ2luIDAsMFxuICAgICAqIEBwYXJhbSBjb29yZHMgYW4gYXJyYXkgb2YgbGVuZ3RoIDggd2l0aCBhbHRlcm5hdGluZyB4IHkgdmFsdWVzLCBtdXN0IGRlc2NyaWJlIHJlY3RhbmdsZVxuICAgICAqIHdpdGggbm8gcm90YXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwb2ludHM/OiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgaWYgKCFwb2ludHMpXG4gICAgICAgICAgICBzdXBlcihbbmV3IFBvaW50KDAsMCksIG5ldyBQb2ludCgxLDApLCBuZXcgUG9pbnQoMSwxKSwgbmV3IFBvaW50KDAsMSldKVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwb2ludHMubGVuZ3RoICE9PSA0KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBvbHlSZWN0IGV4cGVjdHMgYSBwb2ludHMgYXJyYXkgb2YgZXhhY3RseSA0XCIpXG4gICAgICAgICAgICBzdXBlcihwb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGFpbnNQb2ludCh4OiBudW1iZXIgfCBQb2ludCwgeT86IG51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiAoKHggPiB0aGlzLnBvaW50c1swXSkgJiYgKCB4IDwgdGhpcy5wb2ludHNbMV0ueCkgJiYgKHkgPiB0aGlzLnBvaW50c1swXS55KSAmJiAoeSA8IHRoaXMucG9pbnRzWzNdLnkpKTtcbiAgICB9XG59IiwiaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0QnVpbGRlclwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCB7IEZyYW1lLCBGcmFtZUNvbnRyb2xsZXIsIEZyYW1lTGlzdGVuZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFJlbGF0aXZlRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9SZWxhdGl2ZURpbWVuc2lvblwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJNZW51IGV4dGVuZHMgRnJhbWU8R2FtZU92ZXJNZW51TGlzdGVuZXIsIEdhbWVPdmVyTWVudUNvbnRyb2xsZXI+XG57XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBHYW1lT3Zlck1lbnVMaXN0ZW5lciwgY29udHJvbGxlcjogR2FtZU92ZXJNZW51Q29udHJvbGxlciwgZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5ib3VuZHMucmVmZXJlbmNlV2lkdGggPSAzMjA7XG4gICAgICAgIGxldCBiZyAgPSB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcImJsYWNrXCIpKTtcbiAgICAgICAgYmcub3BhY2l0eSA9IDAuNTtcblxuICAgICAgICBsZXQgdGJnICA9IHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSxuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUmVsYXRpdmVEaW1lbnNpb24oMTAwLDUwKSksIFwiYmxhY2tcIikpO1xuICAgICAgICB0Ymcub3BhY2l0eSA9IDAuOTtcblxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJZb3UgaGF2ZSBkaWVkXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCAyMCwgXCJzZXJpZlwiKTtcbiAgICAgICAgbGV0IHRleHQgPSB0YmcuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSxuZXcgUG9pbnQoMC41LDAuNSkpKSkpO1xuXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJNZW51TGlzdGVuZXIgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyXG57XG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVPdmVyTWVudUNvbnRyb2xsZXIgZXh0ZW5kcyBGcmFtZUNvbnRyb2xsZXJcbntcblxufSIsImltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciwgRnJhbWUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBUZXh0QnVpbGRlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dEJ1aWxkZXJcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgVGV4dCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dFwiO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSBcIi4vTWFpbkZyYW1lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgU3RhbmRhcmRCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1N0YW5kYXJkQnV0dG9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCB7IFRyZWVVdGlscyB9IGZyb20gXCJlbmdpbmUvVHJlZVV0aWxzXCI7XG5pbXBvcnQgTG9hZGluZ0JhciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvTG9hZGluZ0JhclwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IE1haW5NZW51QnV0dG9uIGZyb20gXCIuL01haW5NZW51QnV0dG9uXCI7XG5pbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludHJvRnJhbWUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgbWFpbkZyYW1lOiBNYWluRnJhbWU7XG4gICAgYnV0dG9uOiBNYWluTWVudUJ1dHRvbjtcbiAgICBzdGFydGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgbG9hZGluZ0JhcjogTG9hZGluZ0JhcjtcbiAgICBsb2FkaW5nVGV4dDogVGV4dDtcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcihcIlJQRyBBbHBoYVwiLCBjb250ZXh0MkQsIFwid2hpdGVcIiwgNDgsIFwic2VyaWZcIiwgMS40KTtcbiAgICAgICAgbGV0IHRpdGxlVGV4dDogVGV4dCA9IHRoaXMuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuMywgbmV3IFBvaW50KDAuNSwwLjUpKSkpKTtcbiAgICAgICAgdGl0bGVUZXh0LmNhbnZhc0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJibGFja1wiXG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDEwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJTdGFydCBHYW1lXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCAzMiwgXCJzZXJpZlwiKTtcbiAgICAgICAgbGV0IHN0YXJ0VGV4dCA9IHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpKTtcbiAgICAgICAgc3RhcnRUZXh0LmNhbnZhc0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJibGFja1wiXG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gdGhpcy5hZGRDaGlsZChuZXcgTWFpbk1lbnVCdXR0b24obmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC43LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMzAwLDUwKSksIHN0YXJ0VGV4dCkpO1xuXG4gICAgICAgIHRoaXMubG9hZGluZ0JhciA9IHRoaXMuYWRkQ2hpbGQobmV3IExvYWRpbmdCYXIobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC44LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMTAwLDEwKSksIFwid2hpdGVcIiwgXCJncmV5XCIpKTtcbiAgICAgICAgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJMb2FkaW5nIHRleHR1cmVzXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCA4LCBcInNlcmlmXCIsIDEuNSk7XG4gICAgICAgIHRoaXMubG9hZGluZ1RleHQgPSB0aGlzLmFkZENoaWxkKHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFBpeGVsVHJhbnNsYXRpb24oMCwxMCksIG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC44LCBuZXcgUG9pbnQoMC41LDApKSkpKTtcblxuICAgICAgICB0aGlzLm1haW5GcmFtZSA9IHRoaXMuYWRkQ2hpbGQobmV3IE1haW5GcmFtZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCkpKTtcbiAgICAgICAgdGhpcy5tYWluRnJhbWUucHJlY3JlYXRlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmJ1dHRvbi5vbkNsaWNrLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYWluRnJhbWUub3BlbigpO1xuICAgICAgICAgICAgdGhpcy5idXR0b24uaW50ZXJhY3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b24uc2V0SW50ZXJhY3RhYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKCEodGhpcy5zdGFydGVkKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXRzID0gVHJlZVV0aWxzLnN1YnRyZWVMb2FkU3RhdHModGhpcy5tYWluRnJhbWUpO1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnNldFByb3BvcnRpb24oc3RhdHMuYXNzZXRzUHJvcG9ydGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy5tYWluRnJhbWUuc3VidHJlZUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbi5zZXRJbnRlcmFjdGFibGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdUZXh0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uT3BlbigpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAwLjAxO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMsIFwib3BhY2l0eVwiLCAxLCAxMDAwKSkub25Db21wbGV0ZS5wdXNoKHRoaXMucmVhZHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWFkeSgpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAxO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMYXVuY2hlciB9IGZyb20gXCJMYXVuY2hlclwiO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSBcIi4vTWFpbkZyYW1lXCI7XG5pbXBvcnQgSU8gZnJvbSBcImVuZ2luZS9pby9JT1wiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuaW1wb3J0IHsgVGltaW5nTGlzdGVuZXIgfSBmcm9tIFwiZW5naW5lL2lvL1RpbWluZ1wiO1xuaW1wb3J0IEludHJvRnJhbWUgZnJvbSBcIi4vSW50cm9GcmFtZVwiO1xuXG5leHBvcnQgY2xhc3MgUnVuIGV4dGVuZHMgTGF1bmNoZXJcbntcbiAgICBwcm90ZWN0ZWQgX3Jvb3RHYW1lT2JqZWN0VHlwZSA9IEludHJvRnJhbWU7XG5cbiAgICBwcm90ZWN0ZWQgX2NyZWF0ZUludGVyZmFjZXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IElPXG4gICAge1xuICAgICAgICBsZXQgaW8gPSBuZXcgSU8oKTtcbiAgICAgICAgaW8uYWRkSW50ZXJmYWNlKG5ldyBMb2FkZXIoXCJcIiksIFwibG9hZGVyXCIpO1xuICAgICAgICBpby5hZGRJbnRlcmZhY2UobmV3IFRpbWluZ0xpc3RlbmVyKCksIFwidGltaW5nXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTW91c2UodGhpcy5fYWRkS2V5Ym9hcmQoaW8pLCBjYW52YXMpO1xuICAgIH1cbn1cblxubGV0IGwgPSBuZXcgUnVuKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FtZVRhcmdldFwiKSk7XG5sLmNyZWF0ZSgpO1xubC5zdGFydCgpO1xuIiwiaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4vVUlNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZ1N0YXR1c0ZyYW1lIGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgZ2FtZU1vZGVsIDogR2FtZU1vZGVsXG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIHVpTW9kZWw6IFVJTW9kZWwsIGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG4gICAgXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCBiYXIgPSB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuYmFja2dyb3VuZENvbG91cikpXG4gICAgICAgIGJhci52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuXG59IiwiaW1wb3J0IENoYXJhY3Rlck1lbnUsIHsgQ2hhcmFjdGVyTWVudUxpc3RlbmVyLCBDaGFyYWN0ZXJNZW51Q29udHJvbGxlciB9IGZyb20gXCIuL2NvcmUtdWktY29tcG9uZW50cy9DaGFyYWN0ZXJNZW51XCI7XG5pbXBvcnQgTWFwIGZyb20gXCIuL2NvcmUtdWktY29tcG9uZW50cy9NYXBcIjtcbmltcG9ydCB7IEdhbWVPdmVyTWVudSwgR2FtZU92ZXJNZW51TGlzdGVuZXIsIEdhbWVPdmVyTWVudUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9HYW1lT3Zlck1lbnVcIjtcbmltcG9ydCB7IEZyYW1lLCBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgS2V5VHJpZ2dlciwgeyBLZXlUcmlnZ2VyRXZlbnRzIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0tleVRyaWdnZXJcIjtcbmltcG9ydCBWYWx1ZVR3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1ZhbHVlVHdlZW5cIjtcbmltcG9ydCBNaW5pTWFwRnJhbWUsIHsgTWluaU1hcEZyYW1lTGlzdGVuZXIgfSBmcm9tIFwiLi9jb3JlLXVpLWNvbXBvbmVudHMvTWluaU1hcEZyYW1lXCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi9VSU1vZGVsXCI7XG5pbXBvcnQgR3JpZExheW91dCwgeyBHcmlkQnVpbGRlciwgR3JpZE9yaWVudGF0aW9uIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0dyaWRMYXlvdXRcIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCB7IERlYnVnUmVjdCB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUmVjdFwiO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0QnVpbGRlclwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFJlbGF0aXZlRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9SZWxhdGl2ZURpbWVuc2lvblwiO1xuaW1wb3J0IENvbmRpdGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Db25kaXRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgVGFiTGlzdE1lbnUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL1RhYkxpc3RNZW51XCI7XG5pbXBvcnQgV29ybGRGcmFtZSBmcm9tIFwiLi9Xb3JsZEZyYW1lXCI7XG5pbXBvcnQgUGFydHlTdGF0dXNNZW51IGZyb20gXCIuL2NvcmUtdWktY29tcG9uZW50cy9QYXJ0eVN0YXR1c01lbnVcIjtcbmltcG9ydCBEcmF3QnVmZmVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvRHJhd0J1ZmZlclwiO1xuaW1wb3J0IEFjdGlvbkJhck1lbnUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0FjdGlvbkJhck1lbnVcIjtcbmltcG9ydCBEZXRhaWxNZW51RnJhbWUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0RldGFpbE1lbnVGcmFtZVwiO1xuaW1wb3J0IExvYWRpbmdTdGF0dXNGcmFtZSBmcm9tIFwiLi9Mb2FkaW5nU3RhdHVzRnJhbWVcIjtcbmltcG9ydCBHYW1lTW9kZWwsIHsgR2FtZU1vZGVsTGlzdGVuZXIgfSBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBQYXJ0eU1vZGVsIGZyb20gXCIuL21vZGVsL1BhcnR5TW9kZWxcIjtcbmltcG9ydCBXb3JsZE1vZGVsIGZyb20gXCIuL21vZGVsL3dvcmxkL1dvcmxkTW9kZWxcIjtcbmltcG9ydCBQbGF5ZXJNb2RlbCBmcm9tIFwiLi9tb2RlbC9QbGF5ZXJNb2RlbFwiO1xuaW1wb3J0IHsgZ2FtZURhdGEgfSBmcm9tIFwiLi9kYXRhXCI7XG5pbXBvcnQgVG9vbFRpcCBmcm9tIFwiLi9Ub29sVGlwXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBXYWl0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXRcIjtcbmltcG9ydCBMZXZlbE5hbWVGcmFtZSBmcm9tIFwiLi9jb3JlLXVpLWNvbXBvbmVudHMvTGV2ZWxOYW1lRnJhbWVcIjtcbmltcG9ydCBTcGVsbEluZm9GcmFtZSBmcm9tIFwiLi9jb3JlLXVpLWNvbXBvbmVudHMvU3BlbGxJbmZvRnJhbWVcIjtcbmltcG9ydCBTcGVsbCBmcm9tIFwiLi9tb2RlbC9TcGVsbFwiO1xuXG5sZXQgcmFuZG9tQ29sb3VyID0gZnVuY3Rpb24oKTogc3RyaW5nXG57XG4gICByZXR1cm4gIFwiI1wiK01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCkgKyBcIlwiICtcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKSArIFwiXCIgK1xuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApICsgXCJcIiArXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCkgKyBcIlwiICtcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKSArIFwiXCIgK1xuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApICsgXCJcIlxufVxuZXhwb3J0IHsgcmFuZG9tQ29sb3VyIH07XG5cbmNsYXNzIFRlc3RGcmFtZSBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj5cbntcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIC4uLmFyZ3MpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCBjb2xvciA9IHJhbmRvbUNvbG91cigpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBEZWJ1Z1JlY3QoY29sb3IsIDEwKSk7XG5cbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBsZXQgY29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIodGhpcy5saXN0ZW5lci5jb25zdHJ1Y3Rvci5uYW1lLCBjb250ZXh0MkQsIGNvbG9yLCAxMiwgXCJzYW5zLXNlcmlmXCIpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpKSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWFpbkZyYW1lIGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lcixGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgY2hhcmFjdGVyTWVudTtcbiAgICB0YWJNZW51OiBHYW1lT2JqZWN0O1xuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgdG9vbHRpcDogRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPjtcbiAgICBtaW5pTWFwOiBNaW5pTWFwRnJhbWU7XG4gICAgd29ybGRGcmFtZTogV29ybGRGcmFtZTtcbiAgICBsZXZlbE5hbWVGcmFtZTogTGV2ZWxOYW1lRnJhbWU7XG4gICAgYm90dG9tVUlHcmlkOiBHcmlkTGF5b3V0O1xuICAgIHNwZWxsSW5mb0ZyYW1lOiBTcGVsbEluZm9GcmFtZTtcblxuICAgIHN0YXRpYyBjaGFyTWVudU1heFdpZHRoID0gNTAwO1xuXG4gICAgZ2FtZU92ZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zaG93R2FtZU92ZXJNZW51KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gbmV3IEdhbWVNb2RlbChuZXcgR2FtZU1vZGVsTGlzdGVuZXIoKSwgbmV3IFBhcnR5TW9kZWwoKSwgbmV3IFdvcmxkTW9kZWwoKSwgbmV3IFBsYXllck1vZGVsKCksIGdhbWVEYXRhKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBsYXllci5vblVwZGF0ZS5wdXNoKCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmdhbWVPdmVyKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU92ZXIoKTtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlTWluaU1hcCh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuc2hvd01pbmlNYXApO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLHRoaXMpO1xuXG4gICAgICAgIFxuICAgICAgICBsZXQgbWFwID0gbmV3IE1hcCh0aGlzLmdhbWVNb2RlbCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobWFwKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gbmV3IFVJTW9kZWwodGhpcy5nYW1lTW9kZWwsIG1hcCk7XG5cbiAgICAgICAgdGhpcy51aU1vZGVsLnNob3dMZXZlbE5hbWVGcmFtZS5vblVwZGF0ZS5wdXNoKHRoaXMudG9nZ2xlTGV2ZWxOYW1lRnJhbWUuYmluZCh0aGlzKSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uYm91bmRzLnJlZmVyZW5jZVdpZHRoID0gMzIwO1xuICAgICAgICBsZXQgYWN0aW9uQmFySGVpZ2h0ID0gNDI7XG4gICAgICAgIGxldCBwYXJ0eVN0YXR1c01lbnVXaWR0aCA9IDQyO1xuXG4gICAgICAgIGxldCBjaGFyYWN0ZXJNZW51ID0gbmV3IENoYXJhY3Rlck1lbnUobmV3IFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFJlbGF0aXZlRGltZW5zaW9uKDMyMCwxMjApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENoYXJhY3Rlck1lbnVMaXN0ZW5lcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2hhcmFjdGVyTWVudUNvbnRyb2xsZXIoKSwgdGhpcy51aU1vZGVsLCB0aGlzLmdhbWVNb2RlbCk7XG4gICAgICAgIGNoYXJhY3Rlck1lbnUudHJhbnNmb3JtLmJvdW5kcy5tYXhEaW1lbnNpb24gPSBuZXcgUGl4ZWxEaW1lbnNpb24oTWFpbkZyYW1lLmNoYXJNZW51TWF4V2lkdGgsMTcwKTtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJNZW51ID0gY2hhcmFjdGVyTWVudTtcbiAgICAgICAgbGV0IHRhYkxpc3RNZW51ID0gbmV3IFRhYkxpc3RNZW51KG5ldyBQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFJlbGF0aXZlRGltZW5zaW9uKDMyMCwwKSwgbmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKE1haW5GcmFtZS50YWJMaXN0SGVpZ2h0Q29uZGl0aW9uYWwuYmluZCh0aGlzKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwpO1xuICAgICAgICB0aGlzLnRhYk1lbnUgPSB0YWJMaXN0TWVudTtcbiAgICAgICAgdGFiTGlzdE1lbnUudHJhbnNmb3JtLmJvdW5kcy5tYXhEaW1lbnNpb24gPSBuZXcgUGl4ZWxEaW1lbnNpb24oTWFpbkZyYW1lLmNoYXJNZW51TWF4V2lkdGgsdW5kZWZpbmVkKTtcbiAgICAgICAgbGV0IGRldGFpbE1lbnUgPSBuZXcgRGV0YWlsTWVudUZyYW1lKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwxLHRhYkxpc3RNZW51LnRyYW5zZm9ybS5ib3VuZHMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBSZWxhdGl2ZURpbWVuc2lvbigzMjAsMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb25kaXRpb25hbERpbWVuc2lvbih0aGlzLl9kZXRhaWxNZW51SGVpZ2h0Q29uZGl0aW9uYWwuYmluZCh0aGlzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwxLHRhYkxpc3RNZW51LnRyYW5zZm9ybS5ib3VuZHMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRnJhbWVMaXN0ZW5lcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUNvbnRyb2xsZXIoKSwgdGhpcy51aU1vZGVsKTtcbiAgICAgICAgZGV0YWlsTWVudS50cmFuc2Zvcm0uYm91bmRzLm1heERpbWVuc2lvbiA9IG5ldyBQaXhlbERpbWVuc2lvbihNYWluRnJhbWUuY2hhck1lbnVNYXhXaWR0aCx1bmRlZmluZWQpO1xuICAgICAgICBsZXQgbWluaW1hcCA9IG5ldyBNaW5pTWFwRnJhbWUobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigxLDAsbmV3IFBvaW50KDEsMCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX21pbmlNYXBEaW1Db25kaXRpb25hbC5iaW5kKHRoaXMpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTWluaU1hcEZyYW1lTGlzdGVuZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUNvbnRyb2xsZXIoKSwgdGhpcy51aU1vZGVsLCB0aGlzLmdhbWVNb2RlbCk7XG4gICAgICAgIHRoaXMubWluaU1hcCA9IG1pbmltYXA7XG5cbiAgICAgICAgbGV0IHBhcnR5U3RhdHVzTWVudSA9IG5ldyBQYXJ0eVN0YXR1c01lbnUobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigxLDAsIG5ldyBQb2ludCgxLDApKSwgbmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsIDEsIG1pbmltYXAudHJhbnNmb3JtLmJvdW5kcykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBDb25kaXRpb25hbERpbWVuc2lvbih0aGlzLl9wYXJ0eVN0YXRzV2lkdGhDb25kaXRpb25hbC5iaW5kKHRoaXMpKSwgbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLDEsIHRoaXMudHJhbnNmb3JtLmJvdW5kcyksIG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwtMSwgY2hhcmFjdGVyTWVudS50cmFuc2Zvcm0uYm91bmRzKSwgIG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwtMSwgdGFiTGlzdE1lbnUudHJhbnNmb3JtLmJvdW5kcyksbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLC0xLCBtaW5pbWFwLnRyYW5zZm9ybS5ib3VuZHMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lTGlzdGVuZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwpO1xuXG4gICAgICAgIGxldCBhY3Rpb25CYXJNZW51ID0gbmV3IEFjdGlvbkJhck1lbnUobmV3IFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ29uZGl0aW9uYWxEaW1lbnNpb24odGhpcy5fYWN0aW9uQmFySGVpZ2h0Q29uZGl0aW9uYWwuYmluZCh0aGlzKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRnJhbWVMaXN0ZW5lcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRnJhbWVDb250cm9sbGVyKCksIHRoaXMudWlNb2RlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuXG4gICAgICAgIGxldCB3b3JsZEZyYW1lID0gbmV3IFdvcmxkRnJhbWUobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLDEsIGFjdGlvbkJhck1lbnUudHJhbnNmb3JtLmJvdW5kcykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpLCBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsLTEsIGFjdGlvbkJhck1lbnUudHJhbnNmb3JtLmJvdW5kcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX3dvcmxkRnJhbWVDb25kaXRpb25hbEhlaWdodC5iaW5kKHRoaXMpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lTGlzdGVuZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRnJhbWVDb250cm9sbGVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwsIHRoaXMudWlNb2RlbCk7XG5cbiAgICAgICAgdGhpcy5sZXZlbE5hbWVGcmFtZSA9IG5ldyBMZXZlbE5hbWVGcmFtZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCksIHRoaXMudWlNb2RlbCk7XG5cbiAgICAgICAgdGhpcy53b3JsZEZyYW1lID0gd29ybGRGcmFtZTtcblxuICAgICAgICBsZXQgbG9hZGluZ1N0YXR1c0ZyYW1lID0gbmV3IExvYWRpbmdTdGF0dXNGcmFtZShuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsMSwgbmV3IFBvaW50KDAsMSkpKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMCksIG5ldyBQaXhlbERpbWVuc2lvbigwLDIpKSwgbmV3IEZyYW1lTGlzdGVuZXIoKSwgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwsIHRoaXMuZ2FtZU1vZGVsKTtcblxuICAgICAgICBsZXQgd2JiID0gbmV3IEdyaWRCdWlsZGVyKClcbiAgICAgICAgd2JiLnB1c2hDZWxsKGRldGFpbE1lbnUpO1xuICAgICAgICB3YmIucHVzaENlbGwodGFiTGlzdE1lbnUpO1xuICAgICAgICB3YmIucHVzaENlbGwoY2hhcmFjdGVyTWVudSk7XG4gICAgICAgIHdiYi5maXhMYXllcihHcmlkT3JpZW50YXRpb24uVmVydGljYWwsIG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDEsIG5ldyBQb2ludCgwLjUsMSkpKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh3b3JsZEZyYW1lKTtcbiAgICAgICAgbGV0IHVpQnVmZmVyID0gdGhpcy5hZGRDaGlsZChuZXcgRHJhd0J1ZmZlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG4gICAgICAgIHRoaXMuYm90dG9tVUlHcmlkID0gdWlCdWZmZXIuYWRkQ2hpbGQod2JiLmdyaWQpO1xuICAgICAgICB1aUJ1ZmZlci5hZGRDaGlsZChwYXJ0eVN0YXR1c01lbnUpO1xuICAgICAgICB1aUJ1ZmZlci5hZGRDaGlsZChhY3Rpb25CYXJNZW51KTtcbiAgICAgICAgdWlCdWZmZXIuYWRkQ2hpbGQodGhpcy5sZXZlbE5hbWVGcmFtZSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobWluaW1hcCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobG9hZGluZ1N0YXR1c0ZyYW1lKTtcbiAgICAgICAgbG9hZGluZ1N0YXR1c0ZyYW1lLm9wZW4oKTtcbiAgICAgICAgXG5cbiAgICAgICAgdGhpcy5jcmVhdGVUcmlnZ2VycygpO1xuICAgICAgICBjaGFyYWN0ZXJNZW51Lm9wZW4oKTtcbiAgICAgICAgdGFiTGlzdE1lbnUub3BlbigpO1xuICAgICAgICBkZXRhaWxNZW51Lm9wZW4oKTtcbiAgICAgICAgd29ybGRGcmFtZS5vcGVuKCk7XG4gICAgICAgIHBhcnR5U3RhdHVzTWVudS5vcGVuKCk7XG4gICAgICAgIC8vbWluaW1hcC5vcGVuKCk7XG4gICAgICAgIGFjdGlvbkJhck1lbnUub3BlbigpO1xuICAgICAgICBpZiAodGhpcy51aU1vZGVsLnNob3dMZXZlbE5hbWVGcmFtZS52YWx1ZSlcbiAgICAgICAgICAgIHRoaXMubGV2ZWxOYW1lRnJhbWUub3BlbigpO1xuXG4gICAgICAgIHRoaXMudWlNb2RlbC50b29sdGlwLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVUb29sdGlwLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLnVpTW9kZWwuY3VycmVudFNwZWxsSW5mby5vblVwZGF0ZS5wdXNoKHRoaXMuY3JlYXRlU3BlbGxJbmZvRnJhbWUuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdG9nZ2xlTGV2ZWxOYW1lRnJhbWUodmlzaWJsZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICghdmlzaWJsZSAmJiB0aGlzLmxldmVsTmFtZUZyYW1lLmlzT3BlbilcbiAgICAgICAgdGhpcy5sZXZlbE5hbWVGcmFtZS5vbkNsb3NpbmcoKTtcbiAgICBlbHNlIGlmICh2aXNpYmxlICYmICF0aGlzLmxldmVsTmFtZUZyYW1lLmlzT3BlbilcbiAgICAgICAgdGhpcy5sZXZlbE5hbWVGcmFtZS5vcGVuKCk7XG4gICAgfVxuXG4gICAgc2hvd0dhbWVPdmVyTWVudSgpXG4gICAge1xuICAgICAgICBsZXQgZ2FtZU92ZXJNZW51ID0gdGhpcy5hZGRDaGlsZChuZXcgR2FtZU92ZXJNZW51KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIG5ldyBHYW1lT3Zlck1lbnVMaXN0ZW5lcigpLCBuZXcgR2FtZU92ZXJNZW51Q29udHJvbGxlcigpLCB0aGlzLmdhbWVNb2RlbCkpO1xuICAgICAgICBnYW1lT3Zlck1lbnUub3BlbigpO1xuICAgIH0gICBcblxuICAgIHRvZ2dsZU1pbmlNYXAodmlzaWJsZTogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICghdmlzaWJsZSAmJiB0aGlzLm1pbmlNYXAuaXNPcGVuKVxuICAgICAgICAgICAgdGhpcy5taW5pTWFwLm9uQ2xvc2luZygpO1xuICAgICAgICBlbHNlIGlmICh2aXNpYmxlICYmICF0aGlzLm1pbmlNYXAuaXNPcGVuKVxuICAgICAgICAgICAgdGhpcy5taW5pTWFwLm9wZW4oKTtcbiAgICB9XG5cbiAgICBjcmVhdGVUcmlnZ2VycygpXG4gICAge1xuICAgICAgICBsZXQga3QgPSB0aGlzLmFkZENoaWxkKG5ldyBLZXlUcmlnZ2VyKCkpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIndcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleURvd24pLnB1c2godGhpcy51aU1vZGVsLmtleVcuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJkXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlELmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiYVwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bikucHVzaCh0aGlzLnVpTW9kZWwua2V5QS5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuXG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiZFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleURVcC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcImFcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlBVXAuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcblxuXG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwic1wiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bikucHVzaCh0aGlzLnVpTW9kZWwua2V5Uy5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcInFcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleURvd24pLnB1c2godGhpcy51aU1vZGVsLmtleVEuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJlXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5RS5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIlBhZ2VVcFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bikucHVzaCh0aGlzLnVpTW9kZWwua2V5UGdVcC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIlBhZ2VEb3duXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlQZ0Rvd24uYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcblxuICAgICAgICBrdC5nZXRLZXlFdmVudChcImVcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlFLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG5cbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJBcnJvd1VwXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5VXAuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJBcnJvd1JpZ2h0XCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5UmlnaHQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJBcnJvd0Rvd25cIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlEb3duLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiQXJyb3dMZWZ0XCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5TGVmdC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIjBcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXkwLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiMVwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleTEuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcblxuICAgICAgICBrdC5nZXRLZXlFdmVudChcIm9cIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlPLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiLlwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleVJpZ2h0Q2hldnJvbi5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIixcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlMZWZ0Q2hldnJvbi5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuXG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiLVwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleU1pbnVzLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiX1wiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleVVuZGVyc2NvcmUuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCI9XCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5RXF1YWxzLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiK1wiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleVBsdXMuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJuXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5Ti5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuXG4gICAgfVxuXG4gICAgY3JlYXRlU3BlbGxJbmZvRnJhbWUoc3BlbGw6IFNwZWxsKVxuICAgIHtcbiAgICAgICAgbGV0IHcgPSB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KDApKTtcbiAgICAgICAgaWYgKHRoaXMuc3BlbGxJbmZvRnJhbWUpXG4gICAgICAgICAgICB3Lm9uQ29tcGxldGUucHVzaCh0aGlzLnJlcXVlc3RSZW1vdmFsLmJpbmQodGhpcy5zcGVsbEluZm9GcmFtZSksIHRoaXMpO1xuICAgICAgICB3Lm9uQ29tcGxldGUucHVzaCgoKCkgPT4geyBpZiAodGhpcy5zcGVsbEluZm9GcmFtZSkgdGhpcy5zcGVsbEluZm9GcmFtZS52aXNpYmxlID0gdHJ1ZTsgfSkuYmluZCh0aGlzKSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHNwZWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCBzaWYgPSB0aGlzLmFkZENoaWxkKG5ldyBTcGVsbEluZm9GcmFtZShuZXcgUG9zaXRpb24oKSwvLywgbmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsLTEsIG5ldyBQb2ludCgwLDApLCB0aGlzLmJvdHRvbVVJR3JpZC50cmFuc2Zvcm0uYm91bmRzKSwgbmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsMSwgbmV3IFBvaW50KDAsMCksIHRoaXMudGFiTWVudS50cmFuc2Zvcm0uYm91bmRzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksIG5ldyBGcmFtZUNvbnRyb2xsZXIoKSwgc3BlbGwsIHRoaXMudWlNb2RlbCkpO1xuICAgICAgICAgICAgc2lmLm9wZW4oKTtcbiAgICAgICAgICAgIHNpZi5saXN0ZW5lci5vbkNsb3NlLnB1c2godGhpcy51aU1vZGVsLmNsb3NlU3BlbGxJbmZvRnJhbWUuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc3BlbGxJbmZvRnJhbWUgPSBzaWY7XG4gICAgICAgICAgICB0aGlzLnNwZWxsSW5mb0ZyYW1lLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVRvb2x0aXAodGV4dDogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgaWYgKHRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvb2x0aXApXG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICBsZXQgY29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcih0ZXh0LCBjb250ZXh0MkQsIFwid2hpdGVcIiwgMjAsIFwic2VyaWZcIik7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSB0aGlzLmFkZENoaWxkKG5ldyBUb29sVGlwKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSwgbmV3IFBvaW50KDAuNSwwLjUpKSksIG5ldyBCb3VuZHModGIudGV4dERpbWVuc2lvbigpLCBuZXcgUGl4ZWxEaW1lbnNpb24oMzAsMzApKSwgbmV3IEZyYW1lTGlzdGVuZXIoKSwgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0ZXh0KSk7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAub3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9vbHRpcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9vbHRpcCA9IHRoaXMudG9vbHRpcDtcbiAgICAgICAgICAgICAgICB0b29sdGlwLmFkZENoaWxkKG5ldyBXYWl0KDYwMCkpLm9uQ29tcGxldGUucHVzaCgoKSA9PiB0b29sdGlwLm9uQ2xvc2luZygpLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAgICAgXG4gICAgb25PcGVuKClcbiAgICB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDAuMDE7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4odGhpcywgXCJvcGFjaXR5XCIsIDEsIDEwMDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5yZWFkeS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlYWR5KClcbiAgICB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfYWN0aW9uQmFySGVpZ2h0Q29uZGl0aW9uYWwoZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBpZiAoZGltLndpZHRoIDwgNTAwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigwLDQyKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IChkaW0ud2lkdGgtNTAwKSowLjE7XG4gICAgICAgICAgICBwcm9wID0gTWF0aC5taW4ocHJvcCwyMik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDAsNDIgKyBwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3BhcnR5U3RhdHNXaWR0aENvbmRpdGlvbmFsKGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgaWYgKGRpbS53aWR0aCA8IDUwMClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMjgsMCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHByb3AgPSAoZGltLndpZHRoLTUwMCkqMC4yO1xuICAgICAgICAgICAgcHJvcCA9IE1hdGgubWluKHByb3AsNDgpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDI4K3Byb3AsMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9taW5pTWFwRGltQ29uZGl0aW9uYWwoZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBpZiAoZGltLndpZHRoIDwgMzIwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigxMzAsMTMwKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IChkaW0ud2lkdGgtMzIwKSowLjI7XG4gICAgICAgICAgICBwcm9wID0gTWF0aC5taW4ocHJvcCw4MClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMTIwK3Byb3AsMTIwK3Byb3ApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfd29ybGRGcmFtZUNvbmRpdGlvbmFsSGVpZ2h0KGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgaWYgKGRpbS53aWR0aDwgODAwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigwLC10aGlzLmNoYXJhY3Rlck1lbnUudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEaW1lbnNpb24oMCwwKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHRhYkxpc3RIZWlnaHRDb25kaXRpb25hbChkaW06RGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgaWYgKGRpbS53aWR0aCA8IDMyMClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMCw0OClcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IChkaW0ud2lkdGgtMzIwKSowLjI7XG4gICAgICAgICAgICBwcm9wID0gTWF0aC5taW4ocHJvcCwxNilcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMCw0OCtwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2RldGFpbE1lbnVIZWlnaHRDb25kaXRpb25hbChkaW06RGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgaWYgKGRpbS53aWR0aCA8IDMyMClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMCwxMTApXG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHByb3AgPSAoZGltLndpZHRoLTMyMCkqMC4yO1xuICAgICAgICAgICAgcHJvcCA9IE1hdGgubWluKHByb3AsMTYwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigwLDExMCtwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuaW1wb3J0IFJvdW5kZWRSZWN0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUm91bmRlZFJlY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluTWVudUJ1dHRvbiBleHRlbmRzIEJ1dHRvblxue1xuICAgIGJhY2tncm91bmRSZWN0OiBSb3VuZGVkUmVjdDtcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9jcmVhdGVCdXR0b25Db250ZW50cygpO1xuICAgICAgICBzdXBlci5jcmVhdGUoKTtcbiAgICB9XG5cbiAgICBzZXRJbnRlcmFjdGFibGUodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGFibGUgPSB2YWw7XG4gICAgICAgIHRoaXMuY29udGVudC5vcGFjaXR5ID0gdmFsID8gMSA6IDAuNTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVCdXR0b25Db250ZW50cygpXG4gICAge1xuICAgICAgICBsZXQgcm91bmRlZG5lc3MgPSAyO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRSZWN0ID0gdGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgXCJncmV5XCIsIHVuZGVmaW5lZCwgMiwgcm91bmRlZG5lc3MpKTtcbiAgICAgICAgdGhpcy5zZXRIb3ZlclJlY3QodGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ3JleVwiLCBcImdyZXlcIiwgMCwgcm91bmRlZG5lc3MpKSk7XG4gICAgICAgIHRoaXMuc2V0UHJlc3NlZFJlY3QodGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWRcIiwgXCJyZWRcIiwgMCwgcm91bmRlZG5lc3MpKSk7XG4gICAgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgUmVsYXRpdmVEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1JlbGF0aXZlRGltZW5zaW9uXCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgeyBGcmFtZSwgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbFRpcCBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj5cbntcbiAgICB0ZXh0OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB0ZXh0OiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcilcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uYm91bmRzLnJlZmVyZW5jZVdpZHRoID0gMzIwO1xuICAgICAgICBsZXQgYmcgID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgXCJibGFja1wiKSk7XG4gICAgICAgIGJnLm9wYWNpdHkgPSAwLjk7XG4gICAgICAgIGxldCBidXR0b24gPSB0aGlzLmFkZENoaWxkKG5ldyBCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpO1xuICAgICAgICBidXR0b24ub25DbGljay5wdXNoKHRoaXMuY2xvc2UuYmluZCh0aGlzKSwgdGhpcyk7XG5cbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBsZXQgY29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgbGV0IHRiID0gbmV3IFRleHRCdWlsZGVyKHRoaXMudGV4dCwgY29udGV4dDJELCBcIndoaXRlXCIsIDIwLCBcInNlcmlmXCIpO1xuICAgICAgICBsZXQgdGV4dCA9IHRoaXMuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSxuZXcgUG9pbnQoMC41LDAuNSkpKSkpO1xuICAgIH1cblxuICAgIG9uT3BlbigpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAwO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMsIFwib3BhY2l0eVwiLCAxLCA1MDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5yZWFkeS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlYWR5KClcbiAgICB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgb25DbG9zaW5nKClcbiAgICB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4odGhpcywgXCJvcGFjaXR5XCIsIDAsIDUwMCkpLm9uQ29tcGxldGUucHVzaCh0aGlzLmNsb3NlLmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIG9uQ2xvc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMDtcbiAgICB9XG59IiwiaW1wb3J0IE1hcCBmcm9tIFwiLi9jb3JlLXVpLWNvbXBvbmVudHMvTWFwXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuL21vZGVsL0dhbWVNb2RlbFwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IHsgRmlsbFJlY3QsIE91dGxpbmVSZWN0LCBSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgeyByYW5kb21Db2xvdXIgfSBmcm9tIFwiLi9NYWluRnJhbWVcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCwgeyBIZWFsdGhTdGF0ZSB9IGZyb20gXCIuL21vZGVsL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgU3ByaXRlIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvU3ByaXRlXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBTaGFwZSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1NoYXBlXCI7XG5pbXBvcnQgeyBDb21iYXRTdGF0ZSB9IGZyb20gXCIuL21vZGVsL2FjdGlvbi9Jbml0aWF0aXZlTW9kZWxcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCJlbmdpbmUvdXRpbC9FdmVudFwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi9tb2RlbC9TdGF0dXNcIjtcbmltcG9ydCBTcGVsbExpc3QgZnJvbSBcIi4vbW9kZWwvU3BlbGxMaXN0XCI7XG5pbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IERldGFpbE1lbnVNb2RlbCBmcm9tIFwiLi9jb3JlLXVpLWNvbXBvbmVudHMvRGV0YWlsTWVudU1vZGVsXCI7XG5pbXBvcnQgU3BlbGwgZnJvbSBcIi4vbW9kZWwvU3BlbGxcIjtcbmltcG9ydCBOZXh0SWNvbkdyZWVuIGZyb20gXCJhc3NldHMvcnBnL3VpL25leHRpY29uLWdyZWVuLnBuZ1wiO1xuaW1wb3J0IE5leHRJY29uWWVsbG93IGZyb20gXCJhc3NldHMvcnBnL3VpL25leHRpY29uLXllbGxvdy5wbmdcIjtcbmltcG9ydCBOZXh0SWNvblJlZCBmcm9tIFwiYXNzZXRzL3JwZy91aS9uZXh0aWNvbi1yZWQucG5nXCI7XG5cbmltcG9ydCBTdGF0dXNTbG93IGZyb20gXCJhc3NldHMvcnBnL3VpL3N0YXR1cy1zbG93LnBuZ1wiO1xuaW1wb3J0IFN0YXR1c1N0YXJzIGZyb20gXCJhc3NldHMvcnBnL3VpL3N0YXR1cy1zdGFycy5wbmdcIjtcbmltcG9ydCBTdGF0dXNEZWFkIGZyb20gXCJhc3NldHMvcnBnL3VpL3N0YXR1cy1kZWFkLnBuZ1wiO1xuaW1wb3J0IFN0YXR1c1RvcmNoTGlnaHQgZnJvbSBcImFzc2V0cy9ycGcvdWkvc3RhdHVzLXRvcmNoLWxpZ2h0LnBuZ1wiO1xuaW1wb3J0IFRvcmNoTGlnaHQgZnJvbSBcIi4vbW9kZWwvYWN0aW9uL3NwZWxscy9Ub3JjaExpZ2h0XCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4vbW9kZWwvYWN0aW9uL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4vbW9kZWwvYWN0aW9uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4vbW9kZWwvd29ybGQvTlBDTW9kZWxcIjtcbmltcG9ydCBXb3JsZE9iamVjdE1vZGVsIGZyb20gXCIuL21vZGVsL3dvcmxkL1dvcmxkT2JqZWN0TW9kZWxcIjtcbmltcG9ydCBXYWxsTW9kZWwgZnJvbSBcIi4vbW9kZWwvd29ybGQvV2FsbE1vZGVsXCI7XG5pbXBvcnQgeyBNb3VzZSB9IGZyb20gXCJlbmdpbmUvaW8vTW91c2VcIjtcbmltcG9ydCBEb29yTW9kZWwgZnJvbSBcIi4vbW9kZWwvd29ybGQvRG9vck1vZGVsXCI7XG5pbXBvcnQgeyBGYWNpbmcgfSBmcm9tIFwiLi9tb2RlbC9QbGF5ZXJNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTW9kZWwge1xuICAgIG1hcDogTWFwO1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuXG4gICAgb25DaGFyYWN0ZXJTZWxlY3RlZDogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICBjdXJyZW50RGV0YWlsTWVudTogT2JzZXJ2ZXJWYXJpYWJsZTxEZXRhaWxNZW51TW9kZWw+ID0gbmV3IE9ic2VydmVyVmFyaWFibGU8RGV0YWlsTWVudU1vZGVsPihudWxsKTtcblxuICAgIGJhY2tncm91bmRDb2xvdXI6IHN0cmluZyA9IFwiI2YzZTdkN1wiO1xuICAgIHRleHRDb2xvdXI6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgICBob2xkRHVyYXRpb246IG51bWJlciA9IDMwMDtcbiAgICB6b29tSG9sZER1cmF0aW9uOiBudW1iZXIgPSAzMDA7XG4gICAgdG9vbHRpcDogT2JzZXJ2ZXJWYXJpYWJsZTxzdHJpbmc+O1xuICAgIHpvb21lZFZpZXc6IGJvb2xlYW47XG5cbiAgICBzaG93TGV2ZWxOYW1lRnJhbWU6IE9ic2VydmVyVmFyaWFibGU8Ym9vbGVhbj4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPihmYWxzZSk7XG4gICAgY3VycmVudFNwZWxsSW5mbzogT2JzZXJ2ZXJWYXJpYWJsZTxTcGVsbD4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZTxTcGVsbD4obnVsbCk7XG5cbiAgICBkcmFnZ2luZzogRmFjaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF9mYWNpbmdBdERyYWdTdGFydDogRmFjaW5nO1xuICAgIHByaXZhdGUgX3Bvc2l0aW9uQXREcmFnU3RhcnQ6IFBvaW50MztcbiAgICBwcml2YXRlIF92RHJhZ0Rpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3ZEcmFnUmVxdWlyZWQ6IG51bWJlciA9IDAuMTtcbiAgICBwcml2YXRlIF9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2g6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lTW9kZWw6IEdhbWVNb2RlbCwgbWFwOiBNYXApIHtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgICAgIHRoaXMubWFwID0gbWFwXG5cbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLm9uVXBkYXRlLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyU2VsZWN0ZWQuY2FsbCgpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy50b29sdGlwID0gbmV3IE9ic2VydmVyVmFyaWFibGU8c3RyaW5nPihudWxsKTtcbiAgICB9XG5cblxuICAgIGdldCBzZWxlY3RlZENoYXJhY3RlcigpIHsgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZTsgfVxuXG4gICAgZ2V0IG1hcFJvdGF0aW9uKCkgeyByZXR1cm4gdGhpcy5nYW1lTW9kZWwucGxheWVyLnJvdGF0aW9uOyB9XG5cbiAgICBnZXQgbGV2ZWxOYW1lKCkgeyByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLm5hbWU7IH1cblxuICAgIGdldCBwYXJlbnRBcmVhTmFtZSgpIHsgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5wYXJlbnRBcmVhTmFtZTsgfVxuXG4gICAgZHJhZ0Rvd24oZGlzdGFuY2U6IG51bWJlciwgZG91YmxlVG91Y2g6IGJvb2xlYW4pIHtcbiAgICAgICAgZGlzdGFuY2UgPSBNYXRoLm1pbihkaXN0YW5jZSwgMC4xKVxuICAgICAgICBpZiAoIXRoaXMuem9vbWVkVmlldykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25BdERyYWdTdGFydCA9IHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmIChkb3VibGVUb3VjaCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuRmx5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zbGlkZVVwd2FyZChkaXN0YW5jZSAqIDEuNSk7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZEcmFnRGlzdGFuY2UgKz0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl92RHJhZ0Rpc3RhbmNlID49IHRoaXMuX3ZEcmFnUmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmp1bXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZEcmFnRGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlRm9yd2FyZChkaXN0YW5jZSAqIDMpO1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IEZhY2luZy5Tb3V0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYWdVcChkaXN0YW5jZTogbnVtYmVyLCBkb3VibGVUb3VjaDogYm9vbGVhbikge1xuICAgICAgICBkaXN0YW5jZSA9IE1hdGgubWluKGRpc3RhbmNlLCAwLjEpXG4gICAgICAgIGlmICghdGhpcy56b29tZWRWaWV3KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0ID0gdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKGRvdWJsZVRvdWNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnhdW3RoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi55XVt0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24uel07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5GbHkgJiYgY2VsbC5mbG9vcldhbGwucGFzc2FibGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlRG93bndhcmQoZGlzdGFuY2UgKiAxLjUpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjZWxsLmZsb29yV2FsbC5wYXNzYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92RHJhZ0Rpc3RhbmNlIC09IGRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdkRyYWdEaXN0YW5jZSA8PSAtdGhpcy5fdkRyYWdSZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuY3JvdWNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92RHJhZ0Rpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zbGlkZUJhY2t3YXJkKGRpc3RhbmNlICogMyk7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gRmFjaW5nLk5vcnRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhZ0xlZnQoZGlzdGFuY2U6IG51bWJlciwgZG91YmxlVG91Y2g6IGJvb2xlYW4pIHtcbiAgICAgICAgZGlzdGFuY2UgPSBNYXRoLm1pbihkaXN0YW5jZSwgMC4xKVxuICAgICAgICBpZiAoIXRoaXMuem9vbWVkVmlldykge1xuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5fZmFjaW5nQXREcmFnU3RhcnQgPSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nO1xuICAgICAgICAgICAgaWYgKGRvdWJsZVRvdWNoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25BdERyYWdTdGFydCA9IHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc2xpZGVSaWdodCgtZGlzdGFuY2UgKiAxLjUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnJvdGF0ZVJpZ2h0KC1kaXN0YW5jZSAqIChNYXRoLlBJIC8gMikpO1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IEZhY2luZy5XZXN0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhZ1JpZ2h0KGRpc3RhbmNlOiBudW1iZXIsIGRvdWJsZVRvdWNoOiBib29sZWFuKSB7XG4gICAgICAgIGRpc3RhbmNlID0gTWF0aC5taW4oZGlzdGFuY2UsIDAuMSlcbiAgICAgICAgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhY2luZ0F0RHJhZ1N0YXJ0ID0gdGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZztcbiAgICAgICAgICAgIGlmIChkb3VibGVUb3VjaCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQgPSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlTGVmdCgtZGlzdGFuY2UgKiAxLjUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnJvdGF0ZUxlZnQoLWRpc3RhbmNlICogKE1hdGguUEkgLyAyKSk7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gRmFjaW5nLkVhc3Q7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnRG93bih0b3VjaENvdW50OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRvdWNoQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoICYmIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQuZXF1YWxzKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwubW92ZUZvcndhcmQoKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuRmx5ICYmIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQuZXF1YWxzKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmhvdmVyVXAoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmp1bXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5kRHJhZ1Jlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnVXAodG91Y2hDb3VudDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0b3VjaENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCAmJiB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0LmVxdWFscyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLm1vdmVCYWNrd2FyZCgpO1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnhdW3RoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi55XVt0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24uel07XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkZseSAmJiBjZWxsLmZsb29yV2FsbC5wYXNzYWJsZSAmJiB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0LmVxdWFscyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5ob3ZlckRvd24oKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmNyb3VjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmREcmFnUmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZERyYWdMZWZ0KHRvdWNoQ291bnQ6IG51bWJlcikge1xuICAgICAgICBpZiAodG91Y2hDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2ggJiYgdGhpcy5fZmFjaW5nQXREcmFnU3RhcnQgPT09IHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9ICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nICsgOCAtIDEpICUgODtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCAmJiB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0LmVxdWFscyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc3RyYWZlTGVmdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmREcmFnUmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZERyYWdSaWdodCh0b3VjaENvdW50OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRvdWNoQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoICYmIHRoaXMuX2ZhY2luZ0F0RHJhZ1N0YXJ0ID09PSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcgPSAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyArIDEpICUgODtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCAmJiB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0LmVxdWFscyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc3RyYWZlUmlnaHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5kRHJhZ1Jlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnUmVzZXQoKSB7XG4gICAgICAgIGlmICghdGhpcy56b29tZWRWaWV3KSB7XG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5yZXNldFJvdGF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5yZXNldFBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZEcmFnRGlzdGFuY2UgPSAwO1xuICAgICAgICB0aGlzLl9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2ggPSBmYWxzZTtcbiAgICB9XG5cbiAgICBrZXlXKCkgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwubW92ZUZvcndhcmQoKTsgfVxuICAgIGtleUEoZGVsdGE6IG51bWJlcikgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwudHVybkxlZnQoKTsgfVxuICAgIGtleUQoZGVsdGE6IG51bWJlcikgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwudHVyblJpZ2h0KCk7IH1cbiAgICBrZXlBVXAoKSB7IGlmICghdGhpcy56b29tZWRWaWV3KSB0aGlzLmdhbWVNb2RlbC5yZXNldFJvdGF0aW9uKCk7IH1cbiAgICBrZXlEVXAoKSB7IGlmICghdGhpcy56b29tZWRWaWV3KSB0aGlzLmdhbWVNb2RlbC5yZXNldFJvdGF0aW9uKCk7IH1cbiAgICBrZXlTKCkgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwubW92ZUJhY2t3YXJkKCk7IH1cbiAgICBrZXlRKCkgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwuc3RyYWZlTGVmdCgpOyB9XG4gICAga2V5RSgpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLnN0cmFmZVJpZ2h0KCk7IH1cbiAgICBrZXlSKCkge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLm5wY3NbMF07XG4gICAgICAgIGxldCBhY3Rpb24gPSB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUuYXZhaWxhYmxlQWN0aW9ucyh0YXJnZXQpWzBdO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5wZXJmb3JtQWN0aW9uKHRhcmdldCwgYWN0aW9uKTtcbiAgICB9XG5cbiAgICBrZXlVcCgpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxGcm9udCgpOyB9XG4gICAga2V5UmlnaHQoKSB7IGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuTGV2ZWxFZGl0KSB0aGlzLmdhbWVNb2RlbC50b2dnbGVXYWxsUmlnaHQoKTsgfVxuICAgIGtleURvd24oKSB7IGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuTGV2ZWxFZGl0KSB0aGlzLmdhbWVNb2RlbC50b2dnbGVXYWxsQmVoaW5kKCk7IH1cbiAgICBrZXlMZWZ0KCkgeyBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkxldmVsRWRpdCkgdGhpcy5nYW1lTW9kZWwudG9nZ2xlV2FsbExlZnQoKTsgfVxuICAgIGtleTEoKSB7IGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuTGV2ZWxFZGl0KSB0aGlzLmdhbWVNb2RlbC50b2dnbGVXYWxsQWJvdmUoKTsgfVxuICAgIGtleTAoKSB7IGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuTGV2ZWxFZGl0KSB0aGlzLmdhbWVNb2RlbC50b2dnbGVXYWxsQmVsb3coKTsgfVxuXG4gICAga2V5UGdVcCgpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5GbHkpIGlmICghdGhpcy56b29tZWRWaWV3KSB0aGlzLmdhbWVNb2RlbC5ob3ZlclVwKCk7IH1cbiAgICBrZXlQZ0Rvd24oKSB7IGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuRmx5KSBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwuaG92ZXJEb3duKCk7IH1cblxuICAgIGtleU8oKSB7IHRoaXMuZ2FtZU1vZGVsLnNhdmUoKTsgfVxuICAgIGtleVJpZ2h0Q2hldnJvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbElEIDwgdGhpcy5nYW1lTW9kZWwud29ybGQubGV2ZWxzLmxlbmd0aCAtIDEpXG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zd2l0Y2hMZXZlbCh0aGlzLmdhbWVNb2RlbC53b3JsZC5sZXZlbHNbdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsSUQgKyAxXSk7XG4gICAgfVxuICAgIGtleUxlZnRDaGV2cm9uKCkge1xuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsSUQgPiAwKVxuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc3dpdGNoTGV2ZWwodGhpcy5nYW1lTW9kZWwud29ybGQubGV2ZWxzW3RoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbElEIC0gMV0pO1xuICAgIH1cblxuICAgIGtleU1pbnVzKCkge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5jdXJyZW50UGFpbnRJRC0tO1xuICAgIH1cbiAgICBrZXlFcXVhbHMoKSB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmN1cnJlbnRQYWludElEKys7XG4gICAgfVxuICAgIGtleVVuZGVyc2NvcmUoKSB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmN1cnJlbnRQYWludElEIC09IDEwO1xuICAgIH1cbiAgICBrZXlQbHVzKCkge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5jdXJyZW50UGFpbnRJRCArPSAxMDtcbiAgICB9XG4gICAga2V5TigpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uKVxuICAgIH1cblxuICAgIHdvcmxkQ2xpY2sodGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCkge1xuICAgICAgICB0aGlzLmNsb3NlU3BlbGxJbmZvRnJhbWUoKTtcbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcC52YWx1ZSAhPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcC52YWx1ZSA9IG51bGw7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUgIT09IG51bGwpXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID0gbnVsbDtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgYWN0aW9uUmVzdWx0OiBBY3Rpb25SZXN1bHRNb2RlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLnBsYXllckNhbkFjdCkge1xuICAgICAgICAgICAgICAgIGlmICgodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkxldmVsRWRpdCkgJiYgKHRhcmdldCBpbnN0YW5jZW9mIFdhbGxNb2RlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFpbnRXYWxsKHRhcmdldClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTlBDTW9kZWwgfHwgdGFyZ2V0IGluc3RhbmNlb2YgV29ybGRPYmplY3RNb2RlbCB8fCB0YXJnZXQgaW5zdGFuY2VvZiBEb29yTW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFjdGlvbnMgPSB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUuYXZhaWxhYmxlQWN0aW9ucyh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9ucy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uUmVzdWx0ID0gdGhpcy5nYW1lTW9kZWwucGVyZm9ybUFjdGlvbih0YXJnZXQsIGFjdGlvbnNbMF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhY3Rpb25SZXN1bHQpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuYXBwbHlBY3Rpb25SZXN1bHQoYWN0aW9uUmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdvcmxkSG9sZCh6b29tVmlldzogKG1vdXNlKSA9PiB2b2lkLCBtb3VzZTogTW91c2UpIHtcbiAgICAgICAgdGhpcy56b29tZWRWaWV3ID0gdHJ1ZTtcbiAgICAgICAgem9vbVZpZXcobW91c2UpO1xuICAgIH1cblxuICAgIHdvcmxkUmVsZWFzZUhvbGQodW56b29tVmlldzogKCkgPT4gdm9pZCkge1xuICAgICAgICB0aGlzLnpvb21lZFZpZXcgPSBmYWxzZTtcbiAgICAgICAgdW56b29tVmlldygpO1xuICAgIH1cblxuICAgIGNsaWNrQ2hhcmFjdGVyUG9ydHJhaXQoYzogQ2hhcmFjdGVyTW9kZWwpIHtcbiAgICAgICAgdGhpcy5jbG9zZVNwZWxsSW5mb0ZyYW1lKCk7XG4gICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUgIT09IGMpXG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zd2l0Y2hDaGFyYWN0ZXIoYylcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhvbGRDaGFyYWN0ZXJQb3J0cmFpdChjOiBDaGFyYWN0ZXJNb2RlbCkge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBjLmZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHJlbGVhc2VIb2xkKCkge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIGNsaWNrUXVpY2tJdGVtc1RhYkJ1dHRvbigpIHtcbiAgICAgICAgdGhpcy5jbG9zZVNwZWxsSW5mb0ZyYW1lKCk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5zZXREZXRhaWxNZW51KCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUuc3BlbGxMaXN0KVxuICAgICAgICAgICAgdGhpcy5zZXREZXRhaWxNZW51KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuaGlkZURldGFpbE1lbnUoKTtcblxuICAgIH1cblxuICAgIGhvbGRRdWlja0l0ZW1zVGFiQnV0dG9uKCkge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBcIlF1aWNrIGl0ZW1zXCI7XG4gICAgfVxuXG4gICAgY2xpY2tTcGVsbExpc3RUYWJCdXR0b24obDogU3BlbGxMaXN0KSB7XG4gICAgICAgIHRoaXMuY2xvc2VTcGVsbEluZm9GcmFtZSgpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMuc2V0RGV0YWlsTWVudShsKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZS5zcGVsbExpc3QgIT09IGwpXG4gICAgICAgICAgICB0aGlzLnNldERldGFpbE1lbnUobCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuaGlkZURldGFpbE1lbnUoKTtcbiAgICB9XG5cbiAgICBob2xkU3BlbGxMaXN0VGFiQnV0dG9uKGw6IFNwZWxsTGlzdCkge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBsLm5hbWUgKyBcIiBzcGVsbHNcIjtcbiAgICB9XG5cbiAgICBjbGlja1NwZWxsQnV0dG9uKHM6IFNwZWxsKSB7XG4gICAgICAgIHRoaXMuY2xvc2VTcGVsbEluZm9GcmFtZSgpO1xuICAgICAgICBpZiAocy50ZXN0KHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIsIG51bGwpKSB7XG4gICAgICAgICAgICBpZiAocy5yZXF1aXJlVGFyZ2V0KVxuICAgICAgICAgICAgICAgIHRoaXMuYWNxdWlyZVRhcmdldChzKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5jYXN0U3BlbGwocywgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlU3BlbGxJbmZvRnJhbWUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3BlbGxJbmZvLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICBob2xkU3BlbGxCdXR0b24oczogU3BlbGwpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U3BlbGxJbmZvLnZhbHVlID0gcztcbiAgICB9XG5cbiAgICBob2xkU3RhdHVzSWNvbihzdGF0dXM6IFN0YXR1cykge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBzdGF0dXMubmFtZTtcbiAgICB9XG5cbiAgICBob2xkTWluaU1hcCgpIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gXCJEYXRlL1RpbWVcIlxuICAgIH1cblxuICAgIGNsaWNrTGV2ZWxOYW1lVGV4dCgpIHtcbiAgICAgICAgdGhpcy5jbG9zZVNwZWxsSW5mb0ZyYW1lKCk7XG4gICAgICAgIHRoaXMuc2hvd0xldmVsTmFtZUZyYW1lLnZhbHVlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjbGlja0xldmVsTmFtZUZyYW1lKCkge1xuICAgICAgICB0aGlzLnNob3dMZXZlbE5hbWVGcmFtZS52YWx1ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGhvbGRMZXZlbE5hbWVUZXh0KCkge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUubmFtZVxuICAgIH1cblxuICAgIGhvbGRDaGFyYWN0ZXJTaGVldE1lbnVJY29uKCkge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBcIlNob3cgY2hhcmFjdGVyIHNoZWV0c1wiO1xuICAgIH1cblxuICAgIGFjcXVpcmVUYXJnZXQoc3BlbGw6IFNwZWxsKSB7XG5cbiAgICB9XG5cbiAgICBnZXRDaGFyYWN0ZXJQb3J0cmFpdEltYWdlKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbCkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCB0aGlzLmdhbWVNb2RlbC5kYXRhLnBvcnRyYWl0c1tjaGFyYWN0ZXJNb2RlbC5jaGFyYWN0ZXJEYXRhLnBvcnRyYWl0XS5maWxlbmFtZSk7XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVyU2VsZWN0ZWRIaWdobGlnaHQocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKSB7XG4gICAgICAgIGxldCBzaCA9IG5ldyBPdXRsaW5lUmVjdChwb3NpdGlvbiwgYm91bmRzLCBcInllbGxvd1wiLCAyKTtcbiAgICAgICAgc2gudmlzaWJsZSA9IHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPT09IGNoYXJhY3Rlck1vZGVsO1xuICAgICAgICB0aGlzLm9uQ2hhcmFjdGVyU2VsZWN0ZWQucHVzaCgoKCkgPT4gc2gudmlzaWJsZSA9IHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPT09IGNoYXJhY3Rlck1vZGVsKS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIHNoO1xuICAgIH1cblxuICAgIGdldENoYXJhY3Rlck5leHRIaWdobGlnaHQocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKSB7XG4gICAgICAgIGxldCBncm91cCA9IG5ldyBHYW1lT2JqZWN0KHBvc2l0aW9uLCBib3VuZHMpXG4gICAgICAgIGxldCBnID0gbmV3IFNwcml0ZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsIDEpKSwgTmV4dEljb25HcmVlbik7XG4gICAgICAgIGxldCB5ID0gbmV3IFNwcml0ZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsIDEpKSwgTmV4dEljb25ZZWxsb3cpO1xuICAgICAgICBsZXQgciA9IG5ldyBTcHJpdGUobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLCAxKSksIE5leHRJY29uUmVkKTtcbiAgICAgICAgZ3JvdXAuYWRkQ2hpbGQoZyk7XG4gICAgICAgIGdyb3VwLmFkZENoaWxkKHkpO1xuICAgICAgICBncm91cC5hZGRDaGlsZChyKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS5vblVwZGF0ZS5wdXNoKCh2YWwpID0+IHtcbiAgICAgICAgICAgIGcudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgeS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICByLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh2YWwgPT09IENvbWJhdFN0YXRlLkdyZWVuKVxuICAgICAgICAgICAgICAgIGcudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPT09IENvbWJhdFN0YXRlLlllbGxvdylcbiAgICAgICAgICAgICAgICB5LnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5SZWQpXG4gICAgICAgICAgICAgICAgci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdyb3VwLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBnLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgeS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuR3JlZW4pXG4gICAgICAgICAgICBnLnZpc2libGUgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLmNvbWJhdFN0YXRlLnZhbHVlID09PSBDb21iYXRTdGF0ZS5ZZWxsb3cpXG4gICAgICAgICAgICB5LnZpc2libGUgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLmNvbWJhdFN0YXRlLnZhbHVlID09PSBDb21iYXRTdGF0ZS5SZWQpXG4gICAgICAgICAgICByLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLndhaXRpbmdDaGFyYWN0ZXIub25VcGRhdGUucHVzaCgoKHZhbCkgPT4gZ3JvdXAudmlzaWJsZSA9IHZhbCA9PT0gY2hhcmFjdGVyTW9kZWwpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBncm91cC52aXNpYmxlID0gdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlID09PSBjaGFyYWN0ZXJNb2RlbDtcbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIGdldENoYXJhY3RlcldhaXRpbmdIaWdobGlnaHQocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKSB7XG5cbiAgICAgICAgbGV0IGdyb3VwID0gbmV3IEZpbGxSZWN0KHBvc2l0aW9uLCBib3VuZHMsIFwiZ3JlZW5cIilcbiAgICAgICAgLy8gIGxldCBnID0gbmV3IFNwcml0ZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBXYWl0aW5nSWNvbkdyZWVuKTtcbiAgICAgICAgLy8gIGxldCB5ID0gbmV3IFNwcml0ZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBXYWl0aW5nSWNvblllbGxvdyk7XG4gICAgICAgIC8vbGV0IHIgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFdhaXRpbmdJY29uUmVkKTtcbiAgICAgICAgLy8gZ3JvdXAuYWRkQ2hpbGQoZyk7XG4gICAgICAgIC8vZ3JvdXAuYWRkQ2hpbGQoeSk7XG4gICAgICAgIC8vIGdyb3VwLmFkZENoaWxkKHIpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLmNvbWJhdFN0YXRlLm9uVXBkYXRlLnB1c2goKHZhbCkgPT4ge1xuICAgICAgICAgICAgLy8gZy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvLyB5LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIHIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gQ29tYmF0U3RhdGUuR3JlZW4pXG4gICAgICAgICAgICAgICAgZ3JvdXAuZmlsbFN0eWxlID0gXCJncmVlblwiXG4gICAgICAgICAgICAvLyAgICAgZy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gQ29tYmF0U3RhdGUuWWVsbG93KVxuICAgICAgICAgICAgICAgIGdyb3VwLmZpbGxTdHlsZSA9IFwieWVsbG93XCJcbiAgICAgICAgICAgIC8vICAgIHkudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPT09IENvbWJhdFN0YXRlLlJlZClcbiAgICAgICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcInJlZFwiXG4gICAgICAgICAgICAvLyAgICByLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgZ3JvdXAucmVxdWVzdERyYXcoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIC8vIGcudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAvLyAgeS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIC8vICAgci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLmNvbWJhdFN0YXRlLnZhbHVlID09PSBDb21iYXRTdGF0ZS5HcmVlbilcbiAgICAgICAgICAgIGdyb3VwLmZpbGxTdHlsZSA9IFwiZ3JlZW5cIlxuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLmNvbWJhdFN0YXRlLnZhbHVlID09PSBDb21iYXRTdGF0ZS5ZZWxsb3cpXG4gICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcInllbGxvd1wiXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUuY29tYmF0U3RhdGUudmFsdWUgPT09IENvbWJhdFN0YXRlLlJlZClcbiAgICAgICAgICAgIGdyb3VwLmZpbGxTdHlsZSA9IFwicmVkXCJcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVycy5vblVwZGF0ZS5wdXNoKCgodmFsKSA9PiBncm91cC52aXNpYmxlID0gdmFsLmluZGV4T2YoY2hhcmFjdGVyTW9kZWwpICE9PSAtMSkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGdyb3VwLnZpc2libGUgPSB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLndhaXRpbmdDaGFyYWN0ZXJzLnZhbHVlLmluZGV4T2YoY2hhcmFjdGVyTW9kZWwpICE9PSAtMTtcbiAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgIH1cblxuICAgIGdldENoYXJhY3RlckhpdEZpbHRlcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwpIHtcbiAgICAgICAgbGV0IGhpdEZpbHRlciA9IG5ldyBGaWxsUmVjdChwb3NpdGlvbiwgYm91bmRzLCBcInJlZFwiKTtcbiAgICAgICAgaGl0RmlsdGVyLm9wYWNpdHkgPSAwLjU7XG4gICAgICAgIGhpdEZpbHRlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGNoYXJhY3Rlck1vZGVsLm9uVGFrZURhbWFnZS5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIGhpdEZpbHRlci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGhpdEZpbHRlci5hZGRDaGlsZChuZXcgV2FpdCgzMDApKS5vbkNvbXBsZXRlLnB1c2goKCkgPT4gaGl0RmlsdGVyLnZpc2libGUgPSBmYWxzZSwgdGhpcyk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICByZXR1cm4gaGl0RmlsdGVyO1xuICAgIH1cblxuICAgIGdldENoYXJhY3RlckhQQmFyKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbCkge1xuICAgICAgICBsZXQgcGFyZW50ID0gbmV3IFJlY3QocG9zaXRpb24sIGJvdW5kcywgXCJibGFja1wiLCBcIiNmM2U3ZDdcIiwgMSk7XG4gICAgICAgIGxldCBocFByb3BvcnRpb24gPSBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsIDEpO1xuICAgICAgICBocFByb3BvcnRpb24ucHJlc2VydmUgPSB0cnVlO1xuICAgICAgICBsZXQgY2hpbGQgPSBuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsIDEsIG5ldyBQb2ludCgwLjUsIDEpKSwgbmV3IFBpeGVsVHJhbnNsYXRpb24oMCwtMSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwgMCksIGhwUHJvcG9ydGlvbiwgbmV3IFBpeGVsRGltZW5zaW9uKC0yLC0yKSksIFwiZ3JlZW5cIik7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5maXhlZCA9IGZhbHNlO1xuICAgICAgICBjaGFyYWN0ZXJNb2RlbC5oaXRwb2ludHMub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZUhQU3RhdGUuYmluZCh0aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIGhwUHJvcG9ydGlvbiksIHRoaXMpO1xuICAgICAgICBjaGFyYWN0ZXJNb2RlbC5tYXhIaXRwb2ludHMub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZUhQU3RhdGUuYmluZCh0aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIGhwUHJvcG9ydGlvbiksIHRoaXMpO1xuICAgICAgICBjaGFyYWN0ZXJNb2RlbC5oZWFsdGhTdGF0ZS5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlSFBTdGF0ZS5iaW5kKHRoaXMsIGNoYXJhY3Rlck1vZGVsLCBjaGlsZCwgaHBQcm9wb3J0aW9uKSwgdGhpcyk7XG4gICAgICAgIHBhcmVudC5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVyTWFuYUJhcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwpIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IG5ldyBSZWN0KHBvc2l0aW9uLCBib3VuZHMsIFwiYmxhY2tcIiwgXCIjZjNlN2Q3XCIsIDEpO1xuICAgICAgICBsZXQgbWFuYVByb3BvcnRpb24gPSBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsIDEpO1xuICAgICAgICBtYW5hUHJvcG9ydGlvbi5wcmVzZXJ2ZSA9IHRydWU7XG4gICAgICAgIGxldCBjaGlsZCA9IG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwgMSwgbmV3IFBvaW50KDAuNSwgMSkpLCBuZXcgUGl4ZWxUcmFuc2xhdGlvbigwLC0xKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLCAwKSwgbWFuYVByb3BvcnRpb24sIG5ldyBQaXhlbERpbWVuc2lvbigtMiwtMikpLCBcImJsdWVcIik7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5maXhlZCA9IGZhbHNlO1xuICAgICAgICBjaGFyYWN0ZXJNb2RlbC5tYW5hLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVNYW5hU3RhdGUuYmluZCh0aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIG1hbmFQcm9wb3J0aW9uKSwgdGhpcyk7XG4gICAgICAgIGNoYXJhY3Rlck1vZGVsLm1heE1hbmEub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZU1hbmFTdGF0ZS5iaW5kKHRoaXMsIGNoYXJhY3Rlck1vZGVsLCBjaGlsZCwgbWFuYVByb3BvcnRpb24pLCB0aGlzKTtcbiAgICAgICAgcGFyZW50LmFkZENoaWxkKGNoaWxkKTtcbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBnZXRTdGF0dXNJY29uKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0YXR1czogU3RhdHVzKSB7XG4gICAgICAgIGxldCBmaWxlbmFtZTtcbiAgICAgICAgaWYgKHN0YXR1cy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLkRlYWQpXG4gICAgICAgICAgICBmaWxlbmFtZSA9IFN0YXR1c0RlYWRcbiAgICAgICAgaWYgKHN0YXR1cy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLlNsb3cpXG4gICAgICAgICAgICBmaWxlbmFtZSA9IFN0YXR1c1Nsb3dcbiAgICAgICAgaWYgKHN0YXR1cy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLlRvcmNoTGlnaHQpXG4gICAgICAgICAgICBmaWxlbmFtZSA9IFN0YXR1c1RvcmNoTGlnaHRcblxuICAgICAgICBpZiAoZmlsZW5hbWUpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCBmaWxlbmFtZSk7XG4gICAgICAgIHJldHVybiBuZXcgT3V0bGluZVJlY3QocG9zaXRpb24sIGJvdW5kcywgcmFuZG9tQ29sb3VyKCksIDEpXG4gICAgfVxuXG4gICAgdXBkYXRlSFBTdGF0ZShjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwsIGhwQmFyOiBTaGFwZSwgaHBQcm9wb3J0aW9uOiBQcm9wb3J0aW9uYWxEaW1lbnNpb24pIHtcbiAgICAgICAgaWYgKGNoYXJhY3Rlck1vZGVsLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5Ob3JtYWwpIHtcbiAgICAgICAgICAgIGhwUHJvcG9ydGlvbi5oZWlnaHQgPSBNYXRoLm1heCgwLCBjaGFyYWN0ZXJNb2RlbC5oaXRwb2ludHMudmFsdWUgLyBjaGFyYWN0ZXJNb2RlbC5tYXhIaXRwb2ludHMudmFsdWUpO1xuICAgICAgICAgICAgaWYgKGhwUHJvcG9ydGlvbi5oZWlnaHQgPCAwLjMzKVxuICAgICAgICAgICAgICAgIGhwQmFyLmZpbGxTdHlsZSA9IFwicmVkXCI7XG4gICAgICAgICAgICBlbHNlIGlmIChocFByb3BvcnRpb24uaGVpZ2h0IDwgMC41KVxuICAgICAgICAgICAgICAgIGhwQmFyLmZpbGxTdHlsZSA9IFwieWVsbG93XCI7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaHBCYXIuZmlsbFN0eWxlID0gXCJncmVlblwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNoYXJhY3Rlck1vZGVsLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5VbmNvbnNpb3VzKSB7XG4gICAgICAgICAgICBocFByb3BvcnRpb24uaGVpZ2h0ID0gTWF0aC5taW4oMSwgLWNoYXJhY3Rlck1vZGVsLmhpdHBvaW50cy52YWx1ZSAvIGNoYXJhY3Rlck1vZGVsLm1heEhpdHBvaW50cy52YWx1ZSk7XG4gICAgICAgICAgICBocEJhci5maWxsU3R5bGUgPSBcImdyZXlcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhwUHJvcG9ydGlvbi5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgaHBCYXIuZmlsbFN0eWxlID0gdW5kZWZpbmVkXG4gICAgICAgIH1cblxuICAgICAgICBocEJhci5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIHVwZGF0ZU1hbmFTdGF0ZShjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwsIG1hbmFCYXI6IFNoYXBlLCBtYW5hUHJvcG9ydGlvbjogUHJvcG9ydGlvbmFsRGltZW5zaW9uKSB7XG4gICAgICAgIG1hbmFQcm9wb3J0aW9uLmhlaWdodCA9IE1hdGgubWF4KDAsIGNoYXJhY3Rlck1vZGVsLm1hbmEudmFsdWUvIGNoYXJhY3Rlck1vZGVsLm1heE1hbmEudmFsdWUpO1xuICAgICAgICBtYW5hQmFyLmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xuXG4gICAgICAgIGlmIChjaGFyYWN0ZXJNb2RlbC5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuRGVhZCkge1xuICAgICAgICAgICAgbWFuYVByb3BvcnRpb24uaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIG1hbmFCYXIuZmlsbFN0eWxlID0gXCJibGFja1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFuYUJhci5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuXG4gICAgZ2V0Q2hhcmFjdGVyVGFicyhjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwpOiBHYW1lT2JqZWN0W10ge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVyU2hlZXRNZW51SWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHBvc2l0aW9uLCBib3VuZHMsIHRoaXMuZ2FtZU1vZGVsLmRhdGEudWkuY2hhclNoZWV0SWNvbik7XG4gICAgfVxuXG4gICAgZ2V0UXVpY2tJdGVtVGFiSWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHBvc2l0aW9uLCBib3VuZHMsIHRoaXMuZ2FtZU1vZGVsLmRhdGEudWkucXVpY2tJdGVtVGFiSWNvbik7XG4gICAgfVxuXG4gICAgZ2V0U3BlbGxMaXN0VGFiSWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzcGVsbExpc3Q6IFNwZWxsTGlzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCBzcGVsbExpc3QuaWNvbik7XG4gICAgfVxuXG4gICAgc2V0RGV0YWlsTWVudShzcGVsbExpc3Q/OiBTcGVsbExpc3QpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZSA9IG5ldyBEZXRhaWxNZW51TW9kZWwoc3BlbGxMaXN0KTtcbiAgICB9XG5cbiAgICBoaWRlRGV0YWlsTWVudSgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0U3BlbGxJY29uKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHNwZWxsOiBTcGVsbCk6IEdhbWVPYmplY3Qge1xuICAgICAgICBpZiAoIXNwZWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNyZWF0ZSBpY29uIGZvciBzcGVsbCBiZWNhdXNlIHNwZWxsIG5vdCBmb3VuZCwgZG9lcyB0aGUgc3BlbGwgZXhpc3QgYW5kIGlzIGl0IHByb3Blcmx5IG5hbWVkP1wiKTtcbiAgICAgICAgbGV0IHMgPSAgbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCBzcGVsbC5pY29uKTtcbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZ2V0QW5pbVdhaXRIb3VyZ2xhc3MocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcykge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCB0aGlzLmdhbWVNb2RlbC5kYXRhLnVpLmhvdXJnbGFzc0ljb24pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBGcmFtZSwgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFRleHQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRcIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgeyBGaWxsUmVjdCB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUmVjdFwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IEFuaW1hdGlvbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9BbmltYXRpb25cIjtcbmltcG9ydCBXYWl0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXRcIjtcbmltcG9ydCBWYWx1ZVR3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1ZhbHVlVHdlZW5cIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4vbW9kZWwvR2FtZU1vZGVsXCI7XG5pbXBvcnQgeyBNb3VzZSB9IGZyb20gXCJlbmdpbmUvaW8vTW91c2VcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuL1VJTW9kZWxcIjtcbmltcG9ydCB7IFRyZWVVdGlscyB9IGZyb20gXCJlbmdpbmUvVHJlZVV0aWxzXCI7XG5pbXBvcnQgU2NlbmUgZnJvbSBcIi4vc2NlbmV2aWV3L1NjZW5lXCI7XG5pbXBvcnQgTG9hZGluZ0JhciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvTG9hZGluZ0JhclwiO1xuaW1wb3J0IEtleVRyaWdnZXIsIHsgS2V5VHJpZ2dlckV2ZW50cyB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9LZXlUcmlnZ2VyXCI7XG5pbXBvcnQgVGhyZWVCdWZmZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlQnVmZmVyXCI7XG5pbXBvcnQgTW91c2VEcmFnVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvTW91c2VEcmFnVHJpZ2dlclwiO1xuaW1wb3J0IHsgRmFjaW5nIH0gZnJvbSBcIi4vbW9kZWwvUGxheWVyTW9kZWxcIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGRGcmFtZSBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHByaXZhdGUgdGhyZWVCdWZmZXI6IFRocmVlQnVmZmVyO1xuICAgIHByaXZhdGUgc2NlbmUgOiBTY2VuZTtcblxuICAgIHByaXZhdGUgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgcHJpdmF0ZSB1aU1vZGVsOiBVSU1vZGVsO1xuICAgIFxuICAgIHByaXZhdGUgaW5mb1RleHQ6IFRleHQ7XG4gICAgcHJpdmF0ZSBjcm9zc2hhaXI6IEdhbWVPYmplY3Q7XG4gICAgcHJvdGVjdGVkIGluZm9UZXh0V2FpdDogQW5pbWF0aW9uO1xuXG4gICAgcHJpdmF0ZSBsb2FkaW5nQmFyOiBMb2FkaW5nQmFyO1xuICAgIHByaXZhdGUgX2NoYW5naW5nU2NlbmU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2xhc3REcmFnVmVjdG9yOiBQb2ludDtcbiAgICB3b3JsZERyYWdUcmlnZ2VyOiBNb3VzZURyYWdUcmlnZ2VyO1xuXG4gICAgZ2V0IGNoYW5naW5nU2NlbmUoKSB7IHJldHVybiB0aGlzLl9jaGFuZ2luZ1NjZW5lO31cblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIGdhbWVNb2RlbDogR2FtZU1vZGVsLCB1aU1vZGVsOlVJTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICAvL3RoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFwiYmxhY2tcIikpXG4gICAgICAgIHRoaXMuX2NyZWF0ZU1vdXNlVHJpZ2dlcnMoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlVGhyZWVCdWZmZXIoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlSFVEKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVNjZW5lKCk7XG4gICAgICAgIHRoaXMuc2NlbmUub3BlbigpO1xuXG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uU3dpdGNoTGV2ZWwucHVzaCh0aGlzLl9zd2l0Y2hMZXZlbC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5mb1RleHQub25VcGRhdGUucHVzaCh0aGlzLl91cGRhdGVJbmZvVGV4dC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgbGV0IGt0ID0gdGhpcy5hZGRDaGlsZChuZXcgS2V5VHJpZ2dlcigpKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJtXCIsS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKCgpID0+IGNvbnNvbGUubG9nKHRoaXMudGhyZWVCdWZmZXIucmVuZGVyZXIuaW5mbyksIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuX2NyZWF0ZURyYWdUcmlnZ2VycygpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jaGFuZ2luZ1NjZW5lKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhdHMgPSBUcmVlVXRpbHMuc3VidHJlZUxvYWRTdGF0cyh0aGlzLnRocmVlQnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ0Jhci5zZXRQcm9wb3J0aW9uKHN0YXRzLmFzc2V0c1Byb3BvcnRpb24pO1xuICAgICAgICAgICAgaWYgKHRoaXMudGhyZWVCdWZmZXIuc3VidHJlZUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbExvYWRlZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5naW5nU2NlbmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZURyYWdUcmlnZ2VycygpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkRHJhZ1RyaWdnZXIgPSB0aGlzLmFkZENoaWxkKG5ldyBNb3VzZURyYWdUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpKTtcbiAgICAgICAgdGhpcy53b3JsZERyYWdUcmlnZ2VyLm1pbkRpc3RhbmNlID0gbmV3IFBvaW50KDE1LDE1KTtcbiAgICAgICAgdGhpcy53b3JsZERyYWdUcmlnZ2VyLm9ubHlJZlVuaGFuZGxlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy53b3JsZERyYWdUcmlnZ2VyLm9uRHJhZy5wdXNoKCh2ZWN0b3IsIG1vdXNlLCB0b3VjaCwgdG91Y2hJRCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGRvdWJsZVRvdWNoID0gdGhpcy53b3JsZERyYWdUcmlnZ2VyLnRvdWNoQ291bnQgPiAxO1xuICAgICAgICAgICAgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyAhPT0gbnVsbCB8fCAoTWF0aC5hYnModmVjdG9yLnkpID4gTWF0aC5hYnModmVjdG9yLngpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHZlY3Rvci55ID4gMCkgJiYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gbnVsbCB8fCB0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5Ob3J0aCB8fCB0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5Tb3V0aCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC5kcmFnRG93bigtdmVjdG9yLnkgLyB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLmhlaWdodCwgZG91YmxlVG91Y2gpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCh2ZWN0b3IueSA8IDApICYmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IG51bGwgfHwgdGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuU291dGggfHwgdGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuTm9ydGgpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZHJhZ1VwKHZlY3Rvci55IC8gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQsIGRvdWJsZVRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgIT09IG51bGwgfHwgKE1hdGguYWJzKHZlY3Rvci55KSA8IE1hdGguYWJzKHZlY3Rvci54KSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCh2ZWN0b3IueCA+IDApICYmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IG51bGwgfHwgdGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuRWFzdCB8fCB0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5XZXN0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmRyYWdSaWdodCh2ZWN0b3IueCAvIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24ud2lkdGgsIGRvdWJsZVRvdWNoKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgodmVjdG9yLnggPCAwKSAmJiAodGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBudWxsIHx8IHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLldlc3QgfHwgdGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuRWFzdCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC5kcmFnTGVmdCgtdmVjdG9yLnggLyB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoLCBkb3VibGVUb3VjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9sYXN0RHJhZ1ZlY3RvciA9IHZlY3RvcjtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy53b3JsZERyYWdUcmlnZ2VyLm9uRW5kRHJhZy5wdXNoKCgobW91c2UpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLlNvdXRoICYmIHRoaXMuX2xhc3REcmFnVmVjdG9yLnkgPiAwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZW5kRHJhZ1VwKHRoaXMud29ybGREcmFnVHJpZ2dlci50b3VjaENvdW50KTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5Ob3J0aCAmJiB0aGlzLl9sYXN0RHJhZ1ZlY3Rvci55IDwgMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmVuZERyYWdEb3duKHRoaXMud29ybGREcmFnVHJpZ2dlci50b3VjaENvdW50KTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5XZXN0ICYmIHRoaXMuX2xhc3REcmFnVmVjdG9yLnggPCAwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZW5kRHJhZ0xlZnQodGhpcy53b3JsZERyYWdUcmlnZ2VyLnRvdWNoQ291bnQpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLkVhc3QgJiYgdGhpcy5fbGFzdERyYWdWZWN0b3IueCA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC5lbmREcmFnUmlnaHQodGhpcy53b3JsZERyYWdUcmlnZ2VyLnRvdWNoQ291bnQpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmVuZERyYWdSZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVTY2VuZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zY2VuZSlcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHRoaXMudGhyZWVCdWZmZXIuYWRkQ2hpbGQobmV3IFNjZW5lKG5ldyBGcmFtZUxpc3RlbmVyKCksIG5ldyBGcmFtZUNvbnRyb2xsZXIoKSwgdGhpcy5nYW1lTW9kZWwpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVUaHJlZUJ1ZmZlcigpXG4gICAge1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyID0gdGhpcy5hZGRDaGlsZChuZXcgVGhyZWVCdWZmZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKSkpO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLnJlbmRlcmVyLnNldENsZWFyQ29sb3IobmV3IFRIUkVFLkNvbG9yKFwiYmxhY2tcIiksIDEpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZU1vdXNlVHJpZ2dlcnMoKVxuICAgIHtcbiAgICAgICAgbGV0IHdvcmxkQ2xpY2s6IEJ1dHRvbiA9IHRoaXMuYWRkQ2hpbGQobmV3IEJ1dHRvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSlcbiAgICAgICAgd29ybGRDbGljay5vbkNsaWNrLnB1c2godGhpcy5fd29ybGRDbGljay5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgd29ybGRDbGljay5vbmx5SWZVbmhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAvKmxldCB3b3JsZEhvbGQ6IFByZXNzSG9sZFRyaWdnZXIgPSB0aGlzLmFkZENoaWxkKG5ldyBQcmVzc0hvbGRUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC56b29tSG9sZER1cmF0aW9uKSk7XG4gICAgICAgIHdvcmxkSG9sZC5vbkhvbGQucHVzaCh3b3JsZENsaWNrLnJlc2V0LmJpbmQod29ybGRDbGljayksIHRoaXMpO1xuICAgICAgICB3b3JsZEhvbGQub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLndvcmxkSG9sZC5iaW5kKHRoaXMudWlNb2RlbCwgdGhpcy5fem9vbVZpZXcuYmluZCh0aGlzKSksIHRoaXMpO1xuICAgICAgICB3b3JsZEhvbGQub25SZWxlYXNlSG9sZC5wdXNoKHRoaXMudWlNb2RlbC53b3JsZFJlbGVhc2VIb2xkLmJpbmQodGhpcy51aU1vZGVsLCB0aGlzLl91bnpvb21WaWV3LmJpbmQodGhpcykpLCB0aGlzKTsqL1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZUhVRCgpXG4gICAge1xuICAgICAgICB0aGlzLmluZm9UZXh0ID0gdGhpcy5hZGRDaGlsZChuZXcgVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjgsIG5ldyBQb2ludCgwLjUsMC41KSkpLG5ldyBCb3VuZHMoKSwgXCJcIiwgXCJ3aGl0ZVwiLCAxMiwgXCJzZXJpZlwiLCAxLjUpKTsgICAgICAgIFxuICAgICAgICB0aGlzLmNyb3NzaGFpciA9IHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSwgbmV3IFBvaW50KDAuNSwwLjUpKSksIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKDMsMykpLCBcIndoaXRlXCIpKTtcbiAgICAgICAgdGhpcy5jcm9zc2hhaXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxvYWRpbmdCYXIgPSB0aGlzLmFkZENoaWxkKG5ldyBMb2FkaW5nQmFyKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSwgbmV3IFBvaW50KDAuNSwwLjUpKSksIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKDEwMCwxMCkpLCBcIndoaXRlXCIsIFwiZ3JleVwiKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc3dpdGNoTGV2ZWwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2hhbmdpbmdTY2VuZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLndvcmxkRHJhZ1RyaWdnZXIpXG4gICAgICAgICAgICB0aGlzLndvcmxkRHJhZ1RyaWdnZXIuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2NlbmUub25DbG9zaW5nKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVNjZW5lKCk7XG4gICAgICAgIHRoaXMuc2NlbmUub3BlbigpO1xuICAgICAgICAvL3RoaXMudGhyZWVCdWZmZXIucmVuZGVyZXIuY2xlYXIodHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMubG9hZGluZ0Jhci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51aU1vZGVsLnNob3dMZXZlbE5hbWVGcmFtZS52YWx1ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2xldmVsTG9hZGVkKClcbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGluZ0Jhci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLndvcmxkRHJhZ1RyaWdnZXIpXG4gICAgICAgICAgICB0aGlzLndvcmxkRHJhZ1RyaWdnZXIuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51aU1vZGVsLnNob3dMZXZlbE5hbWVGcmFtZS52YWx1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQoMTUwMCkpLm9uQ29tcGxldGUucHVzaCgoKCkgPT4gdGhpcy51aU1vZGVsLnNob3dMZXZlbE5hbWVGcmFtZS52YWx1ZSA9IGZhbHNlKS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVJbmZvVGV4dCh2YWw6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHRoaXMuaW5mb1RleHQudGV4dCA9IHZhbDtcbiAgICAgICAgdGhpcy5pbmZvVGV4dC5vcGFjaXR5ID0gMTtcbiAgICAgICAgdGhpcy5pbmZvVGV4dC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaW5mb1RleHRXYWl0KVxuICAgICAgICAgICAgdGhpcy5pbmZvVGV4dFdhaXQucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgdGhpcy5pbmZvVGV4dFdhaXQgPSB0aGlzLmluZm9UZXh0LmFkZENoaWxkKG5ldyBXYWl0KDMwMDApKTtcbiAgICAgICAgdGhpcy5pbmZvVGV4dFdhaXQub25Db21wbGV0ZS5wdXNoKCgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgIHRoaXMuaW5mb1RleHRXYWl0ID0gdGhpcy5pbmZvVGV4dC5hZGRDaGlsZChuZXcgVmFsdWVUd2Vlbih0aGlzLmluZm9UZXh0LCBcIm9wYWNpdHlcIiwgMCwgMTAwMCkpO1xuICAgICAgICAgICB0aGlzLmluZm9UZXh0V2FpdC5vbkNvbXBsZXRlLnB1c2goKCkgPT4gdGhpcy5pbmZvVGV4dC52aXNpYmxlID0gZmFsc2UsIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKVxuICAgIH1cblxuICAgIHByaXZhdGUgX3dvcmxkQ2xpY2sobW91c2U6IE1vdXNlKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoYW5naW5nU2NlbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLl9nZXRNb3VzZU9mZnNldChtb3VzZSk7XG5cbiAgICAgICAgICAgIGxldCByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XG4gICAgICAgICAgICByYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShuZXcgVEhSRUUuVmVjdG9yMihvZmZzZXQueCxvZmZzZXQueSksIHRoaXMuc2NlbmUuY2FtZXJhLm9iamVjdDNEKTtcbiAgICAgICAgICAgIGxldCBpbnRlcnNlY3RzID0gcmF5Y2FzdGVyLmludGVyc2VjdE9iamVjdHModGhpcy5zY2VuZS5vYmplY3QzRC5jaGlsZHJlbik7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBnbyA9IGludGVyc2VjdHNbMF0ub2JqZWN0LnVzZXJEYXRhLmdhbWVPYmplY3Q7XG4gICAgICAgICAgICAgICAgaWYgKGdvKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwud29ybGRDbGljayhnby5tb2RlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRNb3VzZU9mZnNldChtb3VzZTogTW91c2UpXG4gICAge1xuICAgICAgICBsZXQgbW91c2VQb3MgPSBQb2ludC5taW51cyhtb3VzZS5wb3NpdGlvbiwgdGhpcy50cmFuc2Zvcm0uZ2V0Q2Fub25pY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIGxldCB4ID0gKG1vdXNlUG9zLngvdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi53aWR0aCkqMi0xO1xuICAgICAgICBsZXQgeSA9IC0oKG1vdXNlUG9zLnkvdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQpKjItMSk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICAvKnByaXZhdGUgX3pvb21WaWV3KG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLl9nZXRNb3VzZU9mZnNldChtb3VzZSk7XG4gICAgICAgIGxldCBoRk9WID0gMiAqIE1hdGguYXRhbiggTWF0aC50YW4oIHRoaXMudGhyZWVCdWZmZXIuZmllbGRPZlZpZXcgKiBNYXRoLlBJIC8gMTgwIC8gMiApICogdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEuYXNwZWN0ICkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICBsZXQgZGVnWCA9IG9mZnNldC54ICogKGhGT1YvMilcbiAgICAgICAgbGV0IHJhZFggPSAoZGVnWC8xODApICogTWF0aC5QSTtcbiAgICAgICAgbGV0IGRlZ1kgPSBvZmZzZXQueSAqICh0aGlzLnRocmVlQnVmZmVyLmZpZWxkT2ZWaWV3LzIpXG4gICAgICAgIGxldCByYWRZID0gKGRlZ1kvMTgwKSAqIE1hdGguUEk7XG5cbiAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5wbGF5ZXIuc2V0Q2FtZXJhUm90YXRpb24odGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEucm90YXRpb24ueCArIHJhZFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnJvdGF0aW9uLnkgLSByYWRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5yb3RhdGlvbi56LCB0cnVlLCAyMDApO1xuXG4gICAgICAgIGxldCB0d2VlbiA9IHRoaXMudGhyZWVCdWZmZXIuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4odGhpcy50aHJlZUJ1ZmZlciwgXCJmaWVsZE9mVmlld1wiLCA2MCwgMjAwKSk7XG4gICAgICAgIHR3ZWVuLm9uQ29tcGxldGUucHVzaCgoKCkgPT4gdGhpcy5jcm9zc2hhaXIudmlzaWJsZSA9IHRydWUpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3Vuem9vbVZpZXcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jcm9zc2hhaXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBsZXQgeSA9IHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnJvdGF0aW9uLnk7XG4gICAgICAgIHkgPSAoTWF0aC5yb3VuZCgoeS8oTWF0aC5QSS8yKSkpJTQpKihNYXRoLlBJLzIpO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLnBsYXllci5zZXRDYW1lcmFSb3RhdGlvbigwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5yb3RhdGlvbi56LCB0cnVlLCA0MDApO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMudGhyZWVCdWZmZXIsIFwiZmllbGRPZlZpZXdcIiwgdGhpcy5kZWZhdWx0Rk9WLCA0MDApKTtcbiAgICB9Ki9cbn1cbiIsImltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciwgRnJhbWUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBGaWxsUmVjdCB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUmVjdFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBQcmVzc0hvbGRUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9QcmVzc0hvbGRUcmlnZ2VyXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBUZXh0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0XCI7XG5pbXBvcnQgQ2xpY2tUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9DbGlja1RyaWdnZXJcIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBY3Rpb25CYXJNZW51IGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHByaXZhdGUgdWlNb2RlbDogVUlNb2RlbFxuICAgIHByaXZhdGUgbGV2ZWxOYW1lVGV4dDogVGV4dDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgbGlzdGVuZXI6IEZyYW1lTGlzdGVuZXIsIGNvbnRyb2xsZXI6IEZyYW1lQ29udHJvbGxlciwgdWlNb2RlbDogVUlNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcIiNmM2U3ZDdcIikpO1xuICAgICAgICByZWN0LmNhbnZhc0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJibGFja1wiXG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDU7XG4gICAgICAgIH1cbiAgICAgICAgLy9sZXQgc2hhZG93ID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLDEpKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMCksIG5ldyBQaXhlbERpbWVuc2lvbigwLDEpKSwgXCJibGFja1wiKSk7XG4gICAgICAgIC8vc2hhZG93Lm9wYWNpdHkgPSAwLjM7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZUNoYXJhY3RlclNoZWV0TWVudUljb24oKSk7XG4gICAgICAgIHRoaXMubGV2ZWxOYW1lVGV4dCA9IHRoaXMuYWRkQ2hpbGQodGhpcy5jcmVhdGVMZXZlbE5hbWVUZXh0KCkpO1xuICAgICAgICB0aGlzLnVpTW9kZWwuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC5vblVwZGF0ZS5wdXNoKCgodmFsKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxldmVsTmFtZVRleHQudGV4dCA9IHZhbC5uYW1lO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKVxuICAgIH1cblxuICAgIGNyZWF0ZUNoYXJhY3RlclNoZWV0TWVudUljb24oKTogR2FtZU9iamVjdFxuICAgIHtcbiAgICAgICAgbGV0IGNzbWkgPSB0aGlzLnVpTW9kZWwuZ2V0Q2hhcmFjdGVyU2hlZXRNZW51SWNvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMSksIG5ldyBQaXhlbERpbWVuc2lvbig2NCwwKSkpO1xuICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSBuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKTtcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRDaGFyYWN0ZXJTaGVldE1lbnVJY29uLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgY3NtaS5hZGRDaGlsZChob2xkVHJpZ2dlcik7XG4gICAgICAgIHJldHVybiBjc21pO1xuICAgIH1cblxuICAgIGNyZWF0ZUxldmVsTmFtZVRleHQoKTogVGV4dFxuICAgIHtcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBsZXQgY29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIodGhpcy51aU1vZGVsLmxldmVsTmFtZSwgY29udGV4dDJELCBcImJsYWNrXCIsIDEwLCBcInNhbnMtc2VyaWZcIiwgMS4yKTtcbiAgICAgICAgbGV0IGxldmVsTmFtZVRleHQgPSB0aGlzLmFkZENoaWxkKHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpKSk7XG5cbiAgICAgICAgbGV0IGNsaWNrVHJpZ2dlciA9IHRoaXMuYWRkQ2hpbGQobmV3IENsaWNrVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG4gICAgICAgIGNsaWNrVHJpZ2dlci5vbkNsaWNrLnB1c2godGhpcy51aU1vZGVsLmNsaWNrTGV2ZWxOYW1lVGV4dC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBjbGlja1RyaWdnZXIuaGFuZGxlQ2xpY2tzID0gdHJ1ZTtcbiAgICAgICAgY2xpY2tUcmlnZ2VyLm9ubHlJZlVuaGFuZGxlZCA9IHRydWU7XG5cbiAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gbmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbik7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5ob2xkTGV2ZWxOYW1lVGV4dC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBob2xkVHJpZ2dlci5vblJlbGVhc2VIb2xkLnB1c2godGhpcy51aU1vZGVsLnJlbGVhc2VIb2xkLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGxldmVsTmFtZVRleHQuYWRkQ2hpbGQoaG9sZFRyaWdnZXIpO1xuICAgICAgICBob2xkVHJpZ2dlci5vbmx5SWZVbmhhbmRsZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbGV2ZWxOYW1lVGV4dDtcbiAgICB9XG59IiwiaW1wb3J0IFBvcnRyYWl0QnV0dG9uIGZyb20gXCIuL1BvcnRyYWl0QnV0dG9uXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWwvQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCB7IEZyYW1lLCBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi4vVUlNb2RlbFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVyTWVudSBleHRlbmRzIEZyYW1lPENoYXJhY3Rlck1lbnVMaXN0ZW5lciwgQ2hhcmFjdGVyTWVudUNvbnRyb2xsZXI+XG57XG4gICAgdWlNb2RlbDogVUlNb2RlbDtcbiAgICBnYW1lTW9kZWwgOiBHYW1lTW9kZWxcbiAgICBwb3J0cmFpdHM6IFBvcnRyYWl0QnV0dG9uW107XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBDaGFyYWN0ZXJNZW51TGlzdGVuZXIsIGNvbnRyb2xsZXI6IENoYXJhY3Rlck1lbnVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5iYWNrZ3JvdW5kQ29sb3VyKSk7XG4gICAgICAgIHRoaXMuY3JlYXRlTWVudSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWN1cnNlUHJpbnQoc2VsZiwgcGFkZGluZylcbiAgICB7ICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coIFwiIFwiLnJlcGVhdChwYWRkaW5nKSArIHNlbGYudHlwZU5hbWUgKTtcbiAgICAgICAgc2VsZi5jaGlsZHJlbi5mb3JFYWNoKHggPT4gQ2hhcmFjdGVyTWVudS5yZWN1cnNlUHJpbnQoeCwgcGFkZGluZyArIDQpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNZW51KClcbiAgICB7XG4gICAgICAgIHRoaXMucG9ydHJhaXRzID0gdGhpcy5jcmVhdGVQb3J0cmFpdHMoKTtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5wb3J0cmFpdHMubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLmFkZENoaWxkKHRoaXMucG9ydHJhaXRzW2ldKTtcbiAgICAgICAgICAgIHAudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbihpKjAuMjUsMCkpO1xuICAgICAgICAgICAgcC50cmFuc2Zvcm0uYm91bmRzLmFkZERpbWVuc2lvbihuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAuMjUsMSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUG9ydHJhaXRzKCk6IFBvcnRyYWl0QnV0dG9uW11cbiAgICB7XG4gICAgICAgIGxldCBwb3J0cmFpdHMgPSBbXTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuY2hhcmFjdGVycy5mb3JFYWNoKChjOiBDaGFyYWN0ZXJNb2RlbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHAgPSBuZXcgUG9ydHJhaXRCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMoKSwgYywgdGhpcy51aU1vZGVsKTtcbiAgICAgICAgICAgIHAub25DbGljay5wdXNoKHRoaXMudWlNb2RlbC5jbGlja0NoYXJhY3RlclBvcnRyYWl0LmJpbmQodGhpcy51aU1vZGVsLCBjKSwgdGhpcyk7XG4gICAgICAgICAgICBwb3J0cmFpdHMucHVzaChwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHBvcnRyYWl0cztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJNZW51TGlzdGVuZXIgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyXG57XG5cbn1cblxuZXhwb3J0IGNsYXNzIENoYXJhY3Rlck1lbnVDb250cm9sbGVyIGV4dGVuZHMgRnJhbWVDb250cm9sbGVyXG57XG5cbn0iLCJpbXBvcnQgeyBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIsIEZyYW1lIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi4vVUlNb2RlbFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgRmlsbFJlY3QsIFJlY3QsIE91dGxpbmVSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0QnVpbGRlclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IHsgR3JpZEJ1aWxkZXIsIEdyaWRPcmllbnRhdGlvbiB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9HcmlkTGF5b3V0XCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBQcmVzc0hvbGRUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9QcmVzc0hvbGRUcmlnZ2VyXCI7XG5pbXBvcnQgV2FpdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XYWl0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBDb25kaXRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vQ29uZGl0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCB7IE1haW5GcmFtZSB9IGZyb20gXCIuLi9NYWluRnJhbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGV0YWlsTWVudUZyYW1lIGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWxcbiAgICBtZW51OiBHYW1lT2JqZWN0O1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnVpTW9kZWwuY3VycmVudERldGFpbE1lbnUub25VcGRhdGUucHVzaCh0aGlzLmNyZWF0ZURldGFpbE1lbnUuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlRGV0YWlsTWVudSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZURldGFpbE1lbnUoKVxuICAgIHtcbiAgICAgICAgbGV0IHcgPSB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KDApKTtcbiAgICAgICAgaWYgKHRoaXMubWVudSlcbiAgICAgICAgICAgIHcub25Db21wbGV0ZS5wdXNoKHRoaXMucmVxdWVzdFJlbW92YWwuYmluZCh0aGlzLm1lbnUpLCB0aGlzKTtcbiAgICAgICAgdy5vbkNvbXBsZXRlLnB1c2goKCgpID0+IHsgaWYgKHRoaXMubWVudSkgdGhpcy5tZW51LnZpc2libGUgPSB0cnVlOyB9KS5iaW5kKHRoaXMpLCB0aGlzKTtcblxuICAgICAgICBsZXQgZGV0YWlsTWVudU1vZGVsID0gdGhpcy51aU1vZGVsLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlO1xuICAgICAgICBpZiAoZGV0YWlsTWVudU1vZGVsKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gdGhpcy5hZGRDaGlsZChuZXcgUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB1bmRlZmluZWQsIHRoaXMudWlNb2RlbC5iYWNrZ3JvdW5kQ29sb3VyLCAyKSk7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQobmV3IEJ1dHRvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG4gICAgICAgICAgICAvL2NvbnRhaW5lci5vcGFjaXR5ID0gMC44O1xuICAgICAgICAgICAgY29udGFpbmVyLmNhbnZhc0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDA7XG4gICAgICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gMTA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBpbm5lckNvbnRhaW5lciA9IGNvbnRhaW5lci5hZGRDaGlsZChuZXcgR2FtZU9iamVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSksIG5ldyBDb25kaXRpb25hbERpbWVuc2lvbihkaW0gPT4gbmV3IFBpeGVsRGltZW5zaW9uKDAsIC1NYWluRnJhbWUudGFiTGlzdEhlaWdodENvbmRpdGlvbmFsKGRpbSkuaGVpZ2h0KSkpKSk7XG5cbiAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgbGV0IHRiID0gbmV3IFRleHRCdWlsZGVyKGRldGFpbE1lbnVNb2RlbC50aXRsZSwgY29udGV4dDJELCBcImJsYWNrXCIsIDEyLCBcInNhbnMtc2VyaWZcIik7XG4gICAgICAgICAgICBpbm5lckNvbnRhaW5lci5hZGRDaGlsZCh0Yi5idWlsZFRleHQobmV3IFBvc2l0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKDEwLDQsIG5ldyBQb2ludCgwLDApKSkpKTtcblxuICAgICAgICAgICAgaWYgKGRldGFpbE1lbnVNb2RlbC5zcGVsbExpc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGdiID0gbmV3IEdyaWRCdWlsZGVyKCk7XG4gICAgICAgICAgICAgICAgZGV0YWlsTWVudU1vZGVsLnNwZWxsTGlzdC5zcGVsbHMuZm9yRWFjaChzID0+IFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWNvbiA9IHRoaXMudWlNb2RlbC5nZXRTcGVsbEljb24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dGJnID0gbmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwwLjksIG5ldyBQb2ludCgwLDEpKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDApLCBuZXcgUGl4ZWxEaW1lbnNpb24oMCwxMikpLCB0aGlzLnVpTW9kZWwuYmFja2dyb3VuZENvbG91cilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRiZy5vcGFjaXR5PTAuODtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb24uYWRkQ2hpbGQodGV4dGJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcihzLm5hbWUsIGNvbnRleHQyRCwgdGhpcy51aU1vZGVsLnRleHRDb2xvdXIsIDEwLCBcInNhbnMtc2VyaWZcIiwgMS40KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lVGV4dCA9IHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRiZy5hZGRDaGlsZChuYW1lVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiID0gbmV3IEJ1dHRvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAuMiwgMSwgaW5uZXJDb250YWluZXIudHJhbnNmb3JtLmJvdW5kcyksIG5ldyBQaXhlbERpbWVuc2lvbigwLC0yMCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIuYWRkQ2hpbGQoaWNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBiLnNldEhvdmVyUmVjdChiLmFkZENoaWxkKG5ldyBPdXRsaW5lUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcInJlZFwiLCAyKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYi5zZXRQcmVzc2VkUmVjdChiLmFkZENoaWxkKG5ldyBPdXRsaW5lUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcInJlZFwiLCAyKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYi5vbkNsaWNrLnB1c2godGhpcy51aU1vZGVsLmNsaWNrU3BlbGxCdXR0b24uYmluZCh0aGlzLnVpTW9kZWwsIHMpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdiLnB1c2hDZWxsKGIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gdGhpcy5hZGRDaGlsZChuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaCh0aGlzLnVpTW9kZWwuaG9sZFNwZWxsQnV0dG9uLmJpbmQodGhpcy51aU1vZGVsLCBzKSwgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKGIucmVzZXQuYmluZChiKSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBob2xkVHJpZ2dlci5vblJlbGVhc2VIb2xkLnB1c2godGhpcy51aU1vZGVsLnJlbGVhc2VIb2xkLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiLmFkZENoaWxkKGhvbGRUcmlnZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZ2IuZml4TGF5ZXIoR3JpZE9yaWVudGF0aW9uLkhvcml6b250YWwsIG5ldyBQb3NpdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbigwLDIwKSkpO1xuICAgICAgICAgICAgICAgIGlubmVyQ29udGFpbmVyLmFkZENoaWxkKGdiLmdyaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm1lbnUgPSBjb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLm1lbnUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsTGlzdCBmcm9tIFwiLi4vbW9kZWwvU3BlbGxMaXN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldGFpbE1lbnVNb2RlbFxue1xuICAgIHRpdGxlOiBzdHJpbmdcbiAgICBzcGVsbExpc3Q6IFNwZWxsTGlzdFxuXG4gICAgY29uc3RydWN0b3Ioc3BlbGxMaXN0PzogU3BlbGxMaXN0KVxuICAgIHtcbiAgICAgICAgdGhpcy5zcGVsbExpc3QgPSBzcGVsbExpc3Q7XG4gICAgICAgIGlmICghc3BlbGxMaXN0KSBcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSBcIlF1aWNrIEl0ZW1zXCI7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHNwZWxsTGlzdC5uYW1lICsgXCIgc3BlbGxzXCI7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBUZXh0QnVpbGRlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dEJ1aWxkZXJcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFRleHQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRcIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBDbGlja1RyaWdnZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0NsaWNrVHJpZ2dlclwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vVmFsdWVUd2VlblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbE5hbWVGcmFtZSBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj5cbntcbiAgICBwcml2YXRlIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgcHJpdmF0ZSBuYW1lVGV4dDogVGV4dDtcbiAgICBwcml2YXRlIHBhcmVudE5hbWVUZXh0OiBUZXh0O1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgbGlzdGVuZXI6IEZyYW1lTGlzdGVuZXIsIGNvbnRyb2xsZXI6IEZyYW1lQ29udHJvbGxlciwgdWlNb2RlbDogVUlNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IGJnID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgXCJibGFja1wiKSk7XG4gICAgICAgIGJnLm9wYWNpdHkgPSAwLjY7XG5cbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBsZXQgY29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIodGhpcy51aU1vZGVsLmxldmVsTmFtZSwgY29udGV4dDJELCBcIndoaXRlXCIsIDQ4LCBcInNlcmlmXCIsIDEuNCk7XG4gICAgICAgIHRoaXMubmFtZVRleHQgPSB0aGlzLmFkZENoaWxkKHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjQsIG5ldyBQb2ludCgwLjUsMSkpLCBuZXcgUGl4ZWxUcmFuc2xhdGlvbigwLC0yMCkpKSk7XG4gICAgICAgIHRoaXMubmFtZVRleHQuY2FudmFzRnVuY3Rpb24gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBjdHguc2hhZG93Q29sb3IgPSBcImJsYWNrXCJcbiAgICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gMjtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gMjtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dCbHVyID0gMTA7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGIyID0gbmV3IFRleHRCdWlsZGVyKHRoaXMudWlNb2RlbC5wYXJlbnRBcmVhTmFtZSwgY29udGV4dDJELCBcIndoaXRlXCIsIDI0LCBcInNlcmlmXCIsIDEuNCk7XG4gICAgICAgIHRoaXMucGFyZW50TmFtZVRleHQgPSB0aGlzLmFkZENoaWxkKHRiMi5idWlsZFRleHQobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC40LCBuZXcgUG9pbnQoMC41LDApKSkpKTtcbiAgICAgICAgdGhpcy5wYXJlbnROYW1lVGV4dC5jYW52YXNGdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFggPSAyO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAyO1xuICAgICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSAxMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjdCA9IHRoaXMuYWRkQ2hpbGQobmV3IENsaWNrVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG4gICAgICAgIGN0Lm9uQ2xpY2sucHVzaCh0aGlzLnVpTW9kZWwuY2xpY2tMZXZlbE5hbWVGcmFtZS5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBjdC5oYW5kbGVDbGlja3MgPSB0cnVlO1xuICAgICAgICBjdC5vbmx5SWZVbmhhbmRsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIG9uT3BlbigpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAwO1xuICAgICAgICB0aGlzLm5hbWVUZXh0LnRleHQgPSB0aGlzLnVpTW9kZWwubGV2ZWxOYW1lO1xuICAgICAgICB0aGlzLnBhcmVudE5hbWVUZXh0LnRleHQgPSB0aGlzLnVpTW9kZWwucGFyZW50QXJlYU5hbWU7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4odGhpcywgXCJvcGFjaXR5XCIsIDEsIDIwMCkpLm9uQ29tcGxldGUucHVzaCh0aGlzLnJlYWR5LmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVhZHkoKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICBvbkNsb3NpbmcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgVmFsdWVUd2Vlbih0aGlzLCBcIm9wYWNpdHlcIiwgMCwgNDAwKSkub25Db21wbGV0ZS5wdXNoKHRoaXMuY2xvc2UuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAwO1xuICAgIH1cblxufSIsImltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL21vZGVsL0dhbWVNb2RlbFwiO1xuaW1wb3J0IENlbGxNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvQ2VsbE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgRHJhd0J1ZmZlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0RyYXdCdWZmZXJcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCB7IEZpbGxDaXJjbGUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0NpcmNsZVwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgeyBGaWxsVHJpYW5nbGUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1RyaWFuZ2xlXCI7XG5pbXBvcnQgeyBGYWNpbmcgfSBmcm9tIFwiLi4vbW9kZWwvUGxheWVyTW9kZWxcIjtcbmltcG9ydCBWYWx1ZVR3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1ZhbHVlVHdlZW5cIjtcbmltcG9ydCBMZXZlbE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9MZXZlbE1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcCBleHRlbmRzIERyYXdCdWZmZXJcbntcbiAgICBwcm90ZWN0ZWQgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgcHJvdGVjdGVkIGNlbGxTaXplOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGVkZ2VXaWR0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBsZXZlbE1vZGVsOiBMZXZlbE1vZGVsO1xuXG4gICAgcHJvdGVjdGVkIGN1cnJlbnRNYXBZOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHBsYXllckljb246IEdhbWVPYmplY3Q7XG4gICAgcHJvdGVjdGVkIG5wY0ljb25zOiBHYW1lT2JqZWN0W107XG4gICAgcHJvdGVjdGVkIG1hcExheWVyczogR2FtZU9iamVjdFtdO1xuICAgIHByb3RlY3RlZCBtYXBDZWxsczogR2FtZU9iamVjdFtdW11bXTtcblxuICAgIGNvbnN0cnVjdG9yKGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IHcgPSBnYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLndpZHRoO1xuICAgICAgICBsZXQgaCA9IGdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuZGVwdGg7XG4gICAgICAgIHN1cGVyKG51bGwsIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKHcqMTAwLGgqMTAwKSkpO1xuICAgICAgICB0aGlzLmNlbGxTaXplID0gMTAwO1xuICAgICAgICB0aGlzLmVkZ2VXaWR0aCA9IHRoaXMuY2VsbFNpemUvMTA7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLm5wY0ljb25zICA9IFtdXG4gICAgICAgIHRoaXMuY3VycmVudE1hcFkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbk1vdmUucHVzaCh0aGlzLnVwZGF0ZVBsYXllci5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLnB1c2godGhpcy51cGRhdGVQbGF5ZXIuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uV29ybGRDaGFuZ2UucHVzaCh0aGlzLnVwZGF0ZU1hcFZpc2liaWxpdHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uU3dpdGNoTGV2ZWwucHVzaCh0aGlzLnJlY3JlYXRlTWFwLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLnJlY3JlYXRlTWFwKCk7XG4gICAgfVxuXG4gICAgcmVjcmVhdGVNYXAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sZXZlbE1vZGVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlO1xuICAgICAgICB0aGlzLmNyZWF0ZU1hcCh0aGlzLmxldmVsTW9kZWwpO1xuICAgICAgICB0aGlzLmNyZWF0ZU5QQ3ModGhpcy5sZXZlbE1vZGVsKTtcbiAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXIoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVOUEMobnBjOiBOUENNb2RlbClcbiAgICB7XG4gICAgICAgIGxldCBucGNJY29uID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbENpcmNsZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24odGhpcy5jZWxsU2l6ZS80LHRoaXMuY2VsbFNpemUvNCkpLCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5ucGNJY29ucy5mb3JFYWNoKG4gPT4gbi5yZXF1ZXN0UmVtb3ZhbCgpKTtcbiAgICAgICAgdGhpcy5ucGNJY29ucy5wdXNoKG5wY0ljb24pO1xuICAgICAgICBucGMuYWxpdmUub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZU5QQy5iaW5kKHRoaXMsIG5wYywgbnBjSWNvbiksIHRoaXMpO1xuICAgICAgICBucGMucG9zaXRpb24ub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZU5QQy5iaW5kKHRoaXMsIG5wYywgbnBjSWNvbiksIHRoaXMpO1xuICAgICAgICBucGMubG9vdGVkLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVOUEMuYmluZCh0aGlzLCBucGMsIG5wY0ljb24pLCB0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVOUEMobnBjLCBucGNJY29uKTtcbiAgICB9XG5cbiAgICB1cGRhdGVOUEMobnBjOiBOUENNb2RlbCwgbnBjSWNvbjogRmlsbENpcmNsZSlcbiAgICB7XG4gICAgICAgIGlmIChucGMubG9vdGVkLnZhbHVlKVxuICAgICAgICAgICAgbnBjSWNvbi52aXNpYmxlID0gZmFsc2VcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBucGNJY29uLnRyYW5zZm9ybS5wb3NpdGlvbi5jbGVhclRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgICAgbnBjSWNvbi50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFBpeGVsVHJhbnNsYXRpb24oKG5wYy5wb3NpdGlvbi52YWx1ZS54KzAuNSkqdGhpcy5jZWxsU2l6ZSwobnBjLnBvc2l0aW9uLnZhbHVlLnorMC41KSp0aGlzLmNlbGxTaXplLCBuZXcgUG9pbnQoMC41LDAuNSkpKTtcbiAgICAgICAgICAgIGxldCBjb2xvdXIgPSBucGMuaG9zdGlsZSA/IFwicmVkXCIgOiBcImdyZWVuXCI7XG4gICAgICAgICAgICBpZiAoIShucGMuYWxpdmUudmFsdWUpKVxuICAgICAgICAgICAgICAgIGNvbG91ciA9IFwiYmx1ZVwiO1xuICAgICAgICAgICAgbnBjSWNvbi5maWxsU3R5bGUgID0gY29sb3VyO1xuICAgICAgICAgICAgbnBjSWNvbi5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTlBDcyhsZXZlbDogTGV2ZWxNb2RlbClcbiAgICB7XG4gICAgICAgIGxldmVsLm5wY3MuZm9yRWFjaChuID0+IHRoaXMuY3JlYXRlTlBDKG4pKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQbGF5ZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnRyYW5zZm9ybS5wb3NpdGlvbi5jbGVhclRyYW5zbGF0aW9ucygpO1xuICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKCh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24ueCswLjUpKnRoaXMuY2VsbFNpemUsKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi56KzAuNSkqdGhpcy5jZWxsU2l6ZSwgbmV3IFBvaW50KDAuNSwwLjUpKSk7XG4gICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnJvdGF0aW9uID0gMDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSBNYXRoLlBJLzQ7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnRyYW5zZm9ybS5yb3RhdGlvbiA9IE1hdGguUEkvMjtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSAzKihNYXRoLlBJLzQpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnJvdGF0aW9uID0gTWF0aC5QSTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSAtMyooTWF0aC5QSS80KTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnJvdGF0aW9uID0gLU1hdGguUEkvMjtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSAtTWF0aC5QSS80O1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi55ICE9PSB0aGlzLmN1cnJlbnRNYXBZKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN3aXRjaFRvTGF5ZXIodGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoVG9MYXllcih5OiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLm1hcExheWVycy5mb3JFYWNoKChsOiBHYW1lT2JqZWN0LGkpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaSA9PT0geSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobC5vcGFjaXR5ICE9PSAxKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKGwsXCJvcGFjaXR5XCIsIDEsIDMwMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKGkgPT09IHktMSkgfHwgKGkgPT09IHkrMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGwub3BhY2l0eSAhPT0gMC41KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKGwsXCJvcGFjaXR5XCIsIDAuNSwgMzAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsLm9wYWNpdHkgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4obCxcIm9wYWNpdHlcIiwgMCwgMzAwKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmN1cnJlbnRNYXBZID0geTtcbiAgICB9XG5cbiAgICB1cGRhdGVNYXBWaXNpYmlsaXR5KClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5sZXZlbE1vZGVsLmhlaWdodDsgeSsrKVxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmxldmVsTW9kZWwud2lkdGg7IHgrKylcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB6ID0gMDsgeiA8IHRoaXMubGV2ZWxNb2RlbC5kZXB0aDsgeisrKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcENlbGxzW3hdW3ldW3pdLnZpc2libGUgPSAhKHRoaXMubGV2ZWxNb2RlbC5jZWxsc1t4XVt5XVt6XS53YWxsc1s0XS5oaWRkZW4udmFsdWUpO1xuICAgIH1cblxuICAgIGNyZWF0ZU1hcChsZXZlbDogTGV2ZWxNb2RlbCkgXG4gICAge1xuICAgICAgICB0aGlzLm1hcENlbGxzID0gbmV3IEFycmF5KGxldmVsLndpZHRoKTtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8bGV2ZWwud2lkdGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hcENlbGxzW2ldID0gbmV3IEFycmF5KGxldmVsLmhlaWdodCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqPTA7ajxsZXZlbC5oZWlnaHQ7aisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwQ2VsbHNbaV1bal0gPSBuZXcgQXJyYXkobGV2ZWwuZGVwdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBsYXllcnMgPSBbXTtcbiAgICAgICAgZm9yKGxldCB5ID0gMDsgeSA8IGxldmVsLmhlaWdodDsgeSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbCA9IG5ldyBHYW1lT2JqZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpO1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBsZXZlbC53aWR0aDsgeCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgbGV2ZWwuZGVwdGg7IHorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByID0gbC5hZGRDaGlsZCh0aGlzLmNyZWF0ZVJlY3QoeCwgeiwgbGV2ZWwuY2VsbHNbeF1beV1bel0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxldmVsLmNlbGxzW3hdW3ldW3pdLndhbGxzWzRdLmhpZGRlbi52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcENlbGxzW3hdW3ldW3pdID0gcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgbGF5ZXJzLnB1c2godGhpcy5hZGRDaGlsZChsKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWFwTGF5ZXJzKVxuICAgICAgICAgICAgdGhpcy5tYXBMYXllcnMuZm9yRWFjaChsID0+IGwucmVxdWVzdFJlbW92YWwoKSk7XG4gICAgICAgIHRoaXMubWFwTGF5ZXJzID0gbGF5ZXJzO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXJJY29uKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgIHRoaXMucGxheWVySWNvbiA9IHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxUcmlhbmdsZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24odGhpcy5jZWxsU2l6ZS8yLHRoaXMuY2VsbFNpemUvMikpLCBcImJsYWNrXCIpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVSZWN0KHg6IG51bWJlciwgejogbnVtYmVyLCBjZWxsOiBDZWxsTW9kZWwpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbih4KnRoaXMuY2VsbFNpemUrdGhpcy5lZGdlV2lkdGgvMix6KnRoaXMuY2VsbFNpemUrdGhpcy5lZGdlV2lkdGgvMikpLCBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbih0aGlzLmNlbGxTaXplLXRoaXMuZWRnZVdpZHRoLHRoaXMuY2VsbFNpemUtdGhpcy5lZGdlV2lkdGgpKSwgXCJ3aGl0ZVwiKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Nb3ZlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uVHVybi51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbldvcmxkQ2hhbmdlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uU3dpdGNoTGV2ZWwudW5yZWdpc3Rlcih0aGlzKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRnJhbWVDb250cm9sbGVyLCBGcmFtZUxpc3RlbmVyLCBGcmFtZSB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgeyBGaWxsQ2lyY2xlIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9DaXJjbGVcIjtcbmltcG9ydCBCdWZmZXJDbG9uZSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0J1ZmZlckNsb25lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUHJlc3NIb2xkVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvUHJlc3NIb2xkVHJpZ2dlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaW5pTWFwRnJhbWUgZXh0ZW5kcyBGcmFtZTxNaW5pTWFwRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgZ2FtZU1vZGVsIDogR2FtZU1vZGVsXG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBNaW5pTWFwRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCBtaW5pTWFwID0gdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZU1pbmlNYXAoKSk7XG5cbiAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gdGhpcy5hZGRDaGlsZChuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKSk7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5ob2xkTWluaU1hcC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBob2xkVHJpZ2dlci5vblJlbGVhc2VIb2xkLnB1c2godGhpcy51aU1vZGVsLnJlbGVhc2VIb2xkLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgbWFwQ2xpcChjdHg6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3M6IFBvaW50LCBkaW06IERpbWVuc2lvbikgXG4gICAge1xuICAgICAgICBjdHgudHJhbnNsYXRlKHBvcy54ICsgZGltLndpZHRoLzIscG9zLnkgKyBkaW0uaGVpZ2h0LzIpXG4gICAgICAgIGN0eC5yb3RhdGUodGhpcy51aU1vZGVsLm1hcFJvdGF0aW9uLnkpXG4gICAgICAgIGN0eC50cmFuc2xhdGUoLShwb3MueCArIGRpbS53aWR0aC8yKSwtKHBvcy55ICsgZGltLmhlaWdodC8yKSlcbiAgICAgICAgY3R4LmFyYyhwb3MueCArIGRpbS53aWR0aC8yLFxuICAgICAgICAgICAgICAgIHBvcy55ICsgZGltLmhlaWdodC8yLFxuICAgICAgICAgICAgICAgIE1hdGgubWluKGRpbS53aWR0aCwgZGltLmhlaWdodCkvMixcbiAgICAgICAgICAgICAgICAwLCAyKk1hdGguUEkpO1xuICAgIH1cblxuICAgIHNldE1hcE9yaWdpbkFuZEFyZWEoYnVmZmVyQ2xvbmU6IEJ1ZmZlckNsb25lKVxuICAgIHtcbiAgICAgICAgbGV0IGxldmVsRGltID0gbmV3IERpbWVuc2lvbih0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmRlcHRoKTtcbiAgICAgICAgbGV0IGNlbGxTaXplID0gMTAwLy9idWZmZXJDbG9uZS5kcmF3QnVmZmVyLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoL2xldmVsRGltLndpZHRoO1xuICAgICAgICBsZXQgcmFkaXVzID0gNTtcbiAgICAgICAgYnVmZmVyQ2xvbmUub3JpZ2luID0gbmV3IFBpeGVsVHJhbnNsYXRpb24oKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi54KzAuNS1yYWRpdXMpKmNlbGxTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi56KzAuNS1yYWRpdXMpKmNlbGxTaXplKTtcbiAgICAgICAgYnVmZmVyQ2xvbmUuYXJlYSA9IG5ldyBQaXhlbERpbWVuc2lvbihjZWxsU2l6ZSpyYWRpdXMqMixjZWxsU2l6ZSpyYWRpdXMqMik7XG4gICAgfVxuXG4gICAgY3JlYXRlTWluaU1hcCgpXG4gICAge1xuICAgICAgICBsZXQgbWFwQXJlYSA9IG5ldyBCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSk7XG4gICAgICAgIG1hcEFyZWEub25DbGljay5wdXNoKCgpID0+IHRoaXMubGlzdGVuZXIub25NYXBDbGljay5jYWxsKCksIHRoaXMpO1xuICAgICAgICAvL21hcEFyZWEudHJhbnNmb3JtLmJvdW5kcy5tYXhEaW1lbnNpb24gPSBuZXcgUGl4ZWxEaW1lbnNpb24oMTgwLCAxODApO1xuICAgICAgICBsZXQgbWFwQmFja2dyb3VuZCA9IG1hcEFyZWEuYWRkQ2hpbGQobmV3IEZpbGxDaXJjbGUobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgXCJncmV5XCIpKTtcbiAgICAgICAgbWFwQmFja2dyb3VuZC5vcGFjaXR5ID0gMC41O1xuICAgICAgICBsZXQgbWFwQ2lyY2xlID0gbWFwQXJlYS5hZGRDaGlsZChuZXcgQnVmZmVyQ2xvbmUobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLm1hcCkpO1xuICAgICAgICB0aGlzLnNldE1hcE9yaWdpbkFuZEFyZWEobWFwQ2lyY2xlKTtcbiAgICAgICAgbWFwQ2lyY2xlLmNsaXBGdW5jdGlvbiA9IHRoaXMubWFwQ2xpcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbk1vdmUucHVzaCh0aGlzLnNldE1hcE9yaWdpbkFuZEFyZWEuYmluZCh0aGlzLCBtYXBDaXJjbGUpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Td2l0Y2hMZXZlbC5wdXNoKHRoaXMuc2V0TWFwT3JpZ2luQW5kQXJlYS5iaW5kKHRoaXMsIG1hcENpcmNsZSksIHRoaXMpO1xuICAgICAgICByZXR1cm4gbWFwQXJlYTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNaW5pTWFwRnJhbWVMaXN0ZW5lciBleHRlbmRzIEZyYW1lTGlzdGVuZXJcbntcbiAgICBvbk1hcENsaWNrOiBFdmVudCA9IG5ldyBFdmVudCgpO1xufSIsImltcG9ydCB7IEZyYW1lLCBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBTdGF0dXNMaXN0IGZyb20gXCIuL1N0YXR1c0xpc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFydHlTdGF0dXNNZW51IGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHByb3RlY3RlZCBfdWlNb2RlbDogVUlNb2RlbDtcbiAgICBsaXN0OiBTdGF0dXNMaXN0O1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLl91aU1vZGVsID0gdWlNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZUxpc3QoKSk7XG4gICAgICAgIHRoaXMuX3VpTW9kZWwuZ2FtZU1vZGVsLnBhcnR5LnN0YXR1c2VzLm9uVXBkYXRlLnB1c2goKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5saXN0LnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmFkZENoaWxkKHRoaXMuY3JlYXRlTGlzdCgpKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGlzdCgpOiBTdGF0dXNMaXN0XG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXR1c0xpc3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5fdWlNb2RlbC5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUsIHRoaXMuX3VpTW9kZWwpO1xuICAgIH1cbn1cbiIsImltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWwvQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQaXhlbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBTdGF0dXNMaXN0IGZyb20gXCIuL1N0YXR1c0xpc3RcIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgQ2xpcCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvQ2xpcFwiO1xuaW1wb3J0IFByZXNzSG9sZFRyaWdnZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1ByZXNzSG9sZFRyaWdnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9ydHJhaXRCdXR0b24gZXh0ZW5kcyBCdXR0b25cbntcbiAgICBnZXQgZmlsZW5hbWUoKSB7IHJldHVybiB0aGlzLmNoYXJhY3Rlck1vZGVsLnBvcnRyYWl0VHlwZS5maWxlbmFtZTsgfVxuICAgIHByaXZhdGUgX2lzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIF9pc1dhaXRpbmcgPSBmYWxzZTtcblxuICAgIGdldCBpc1NlbGVjdGVkKCkgeyByZXR1cm4gdGhpcy5faXNTZWxlY3RlZDsgfVxuICAgIGdldCBpc1dhaXRpbmcoKSB7IHJldHVybiB0aGlzLl9pc1dhaXRpbmc7IH1cbiAgICBzZXQgaXNTZWxlY3RlZCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gdmFsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSGlnaGxpZ2h0LnZpc2libGUgPSB2YWw7XG4gICAgfVxuICAgIHNldCBpc1dhaXRpbmcodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5faXNXYWl0aW5nID0gdmFsO1xuICAgICAgICB0aGlzLndhaXRpbmdIaWdobGlnaHQudmlzaWJsZSA9IHZhbDtcbiAgICB9XG5cbiAgICB1aU1vZGVsOiBVSU1vZGVsO1xuICAgIGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbFxuXG4gICAgbmV4dEhpZ2hsaWdodDogR2FtZU9iamVjdDtcbiAgICB3YWl0aW5nSGlnaGxpZ2h0OiBHYW1lT2JqZWN0O1xuICAgIHNlbGVjdGVkSGlnaGxpZ2h0OiBHYW1lT2JqZWN0XG4gICAgaGl0RmlsdGVyOiBHYW1lT2JqZWN0O1xuICAgIGhwQmFyOiBHYW1lT2JqZWN0O1xuICAgIG1hbmFCYXI6IEdhbWVPYmplY3Q7XG4gICAgcG9ydHJhaXQ6IEdhbWVPYmplY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwsIHVpTW9kZWw6IFVJTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJNb2RlbCA9IGNoYXJhY3Rlck1vZGVsO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBzdXBlci5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy53YWl0aW5nSGlnaGxpZ2h0ID0gdGhpcy5hZGRDaGlsZCh0aGlzLnVpTW9kZWwuZ2V0Q2hhcmFjdGVyV2FpdGluZ0hpZ2hsaWdodChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsMCxuZXcgUG9pbnQoMCwwKSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMuY2hhcmFjdGVyTW9kZWwpKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEhpZ2hsaWdodCA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3RlclNlbGVjdGVkSGlnaGxpZ2h0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMuY2hhcmFjdGVyTW9kZWwpKTtcblxuICAgICAgICB0aGlzLnBvcnRyYWl0ID0gdGhpcy51aU1vZGVsLmdldENoYXJhY3RlclBvcnRyYWl0SW1hZ2UobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5jaGFyYWN0ZXJNb2RlbCk7XG4gICAgICAgIC8qbGV0IGNsaXAgPSBuZXcgQ2xpcChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKVxuICAgICAgICBjbGlwLnNldENsaXAgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBjbGlwLnRyYW5zZm9ybS5nZXREcmF3UG9zaXRpb24oKTtcbiAgICAgICAgICAgIGxldCBkaW0gPSBjbGlwLnRyYW5zZm9ybS5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdFbGxpcHNlKGN0eCwgcG9zLnggLSBkaW0ud2lkdGgqMC4wNSwgcG9zLnktZGltLmhlaWdodCowLjA1LCBkaW0ud2lkdGgqMS4xLCBkaW0uaGVpZ2h0KjEuMSlcbiAgICAgICAgICAgIGN0eC5jbGlwKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoY2xpcCk7Ki9cbiAgICAgICAgLy90aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcImJsYWNrXCIpKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnBvcnRyYWl0KTtcbiAgICAgICAgLyp0aGlzLnVpTW9kZWwuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3RlcnMub25VcGRhdGUucHVzaCgodmFsKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsLmluZGV4T2YodGhpcy5jaGFyYWN0ZXJNb2RlbCkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHRoaXMucG9ydHJhaXQub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0cmFpdC5vcGFjaXR5ID0gMC42O1xuICAgICAgICB9LCB0aGlzKTsqL1xuXG4gICAgICAgIHRoaXMubmV4dEhpZ2hsaWdodCA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3Rlck5leHRIaWdobGlnaHQobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMCxuZXcgUG9pbnQoMC41LDApKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLjUsMC4xNSkpLCB0aGlzLmNoYXJhY3Rlck1vZGVsKSk7XG4gICAgICAgIHRoaXMuaGl0RmlsdGVyID0gdGhpcy5wb3J0cmFpdC5hZGRDaGlsZCh0aGlzLnVpTW9kZWwuZ2V0Q2hhcmFjdGVySGl0RmlsdGVyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMuY2hhcmFjdGVyTW9kZWwpKTtcbiAgICAgICAgdGhpcy5ocEJhciA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3RlckhQQmFyKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwwLjUsIG5ldyBQb2ludCgwLDAuNSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQaXhlbFRyYW5zbGF0aW9uKDIsMCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbig4LDApLCBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMC43NSkpLCB0aGlzLmNoYXJhY3Rlck1vZGVsKSk7XG4gICAgICAgIHRoaXMubWFuYUJhciA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3Rlck1hbmFCYXIobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigxLDAuNSwgbmV3IFBvaW50KDEsMC41KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQaXhlbFRyYW5zbGF0aW9uKC0yLDApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oOCwwKSwgbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLDAuNzUpKSwgdGhpcy5jaGFyYWN0ZXJNb2RlbCkpO1xuICAgICAgICBcbiAgICAgICAgbGV0IHN0YXR1c0xpc3QgPSB0aGlzLmFkZENoaWxkKG5ldyBTdGF0dXNMaXN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLG5ldyBQb2ludCgxLDApKSwgbmV3IFBpeGVsVHJhbnNsYXRpb24oLTE2LDApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMzIsMCksIG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwxKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyTW9kZWwuc3RhdHVzZXMsIHRoaXMudWlNb2RlbCkpO1xuXG4gICAgICAgIGxldCBob2xkVHJpZ2dlciA9IHRoaXMuYWRkQ2hpbGQobmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbikpO1xuICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaCh0aGlzLnVpTW9kZWwuaG9sZENoYXJhY3RlclBvcnRyYWl0LmJpbmQodGhpcy51aU1vZGVsLCB0aGlzLmNoYXJhY3Rlck1vZGVsKSwgdGhpcylcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy5yZXNldC5iaW5kKHRoaXMpLCB0aGlzKTsgICAgICBcbiAgICAgICAgaG9sZFRyaWdnZXIub25SZWxlYXNlSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5yZWxlYXNlSG9sZC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBob2xkVHJpZ2dlci5vbmx5SWZVbmhhbmRsZWQgPSB0cnVlOyAgICAgICAgICAgICAgXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZHJhd0VsbGlwc2UoY3R4LCB4LCB5LCB3LCBoKVxuICAgIHtcbiAgICAgICAgdmFyIGthcHBhID0gLjU1MjI4NDgsXG4gICAgICAgICAgICBveCA9ICh3IC8gMikgKiBrYXBwYSwgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxuICAgICAgICAgICAgb3kgPSAoaCAvIDIpICoga2FwcGEsIC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IHZlcnRpY2FsXG4gICAgICAgICAgICB4ZSA9IHggKyB3LCAgICAgICAgICAgLy8geC1lbmRcbiAgICAgICAgICAgIHllID0geSArIGgsICAgICAgICAgICAvLyB5LWVuZFxuICAgICAgICAgICAgeG0gPSB4ICsgdyAvIDIsICAgICAgIC8vIHgtbWlkZGxlXG4gICAgICAgICAgICB5bSA9IHkgKyBoIC8gMjsgICAgICAgLy8geS1taWRkbGVcbiAgICAgIFxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG4gICAgfVxufSIsImltcG9ydCB7IEZyYW1lLCBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgeyBGaWxsUmVjdCwgUmVjdCB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUmVjdFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgQ2xpY2tUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9DbGlja1RyaWdnZXJcIjtcbmltcG9ydCBTcGVsbCBmcm9tIFwiLi4vbW9kZWwvU3BlbGxcIjtcbmltcG9ydCB7IEdyaWRPcmllbnRhdGlvbiwgR3JpZEJ1aWxkZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvR3JpZExheW91dFwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IFJlbGF0aXZlRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9SZWxhdGl2ZURpbWVuc2lvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBWYWx1ZVR3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1ZhbHVlVHdlZW5cIjtcbmltcG9ydCB7IE1haW5GcmFtZSB9IGZyb20gXCIuLi9NYWluRnJhbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3BlbGxJbmZvRnJhbWUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgcHJpdmF0ZSB1aU1vZGVsOiBVSU1vZGVsO1xuICAgIHByaXZhdGUgc3BlbGw6IFNwZWxsO1xuICAgIHByaXZhdGUgc2NyaW06IEdhbWVPYmplY3Q7XG5cblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIHNwZWxsOiBTcGVsbCwgdWlNb2RlbDogVUlNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICAgICAgdGhpcy5zcGVsbCA9IHNwZWxsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnNjcmltID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgXCJibGFja1wiKSk7XG4gICAgICAgIHRoaXMuc2NyaW0ub3BhY2l0eSA9IDAuNTtcblxuICAgICAgICBsZXQgY29udGFpbmVyID0gbmV3IEdhbWVPYmplY3QobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC41LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUmVsYXRpdmVEaW1lbnNpb24oMzIwLDApLCBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMSkpKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChjb250YWluZXIpO1xuICAgICAgICBsZXQgaWNvbiA9IHRoaXMudWlNb2RlbC5nZXRTcGVsbEljb24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKDcwLDEwMCkpLCB0aGlzLnNwZWxsKTsgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcih0aGlzLnNwZWxsLm5hbWUsIGNvbnRleHQyRCwgdGhpcy51aU1vZGVsLnRleHRDb2xvdXIsIDE0LCBcInNhbnMtc2VyaWZcIiwgMS40LCAzMjAtODApO1xuICAgICAgICBsZXQgdGl0bGVUZXh0ID0gdGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbigpKTtcblxuICAgICAgICB0YiA9IG5ldyBUZXh0QnVpbGRlcih0aGlzLnNwZWxsLmJhc2VEZXNjcmlwdGlvbiwgY29udGV4dDJELCB0aGlzLnVpTW9kZWwudGV4dENvbG91ciwgMTIsIFwic2Fucy1zZXJpZlwiLCAxLjQsIDMyMC04MCk7XG4gICAgICAgIGxldCBkZXNjVGV4dDEgPSB0Yi5idWlsZFRleHQobmV3IFBvc2l0aW9uKCkpO1xuXG4gICAgICAgIHRiID0gbmV3IFRleHRCdWlsZGVyKFwiTGV2ZWwgMjogXCIgK3RoaXMuc3BlbGwubGV2ZWwyRGVzY3JpcHRpb24sIGNvbnRleHQyRCwgdGhpcy51aU1vZGVsLnRleHRDb2xvdXIsIDEyLCBcInNhbnMtc2VyaWZcIiwgMS40LCAzMjAtODApO1xuICAgICAgICBsZXQgZGVzY1RleHQyID0gdGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbigpKTtcblxuICAgICAgICB0YiA9IG5ldyBUZXh0QnVpbGRlcihcIkxldmVsIDM6IFwiICt0aGlzLnNwZWxsLmxldmVsM0Rlc2NyaXB0aW9uLCBjb250ZXh0MkQsIHRoaXMudWlNb2RlbC50ZXh0Q29sb3VyLCAxMiwgXCJzYW5zLXNlcmlmXCIsIDEuNCwgMzIwLTgwKTtcbiAgICAgICAgbGV0IGRlc2NUZXh0MyA9IHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24oKSk7XG5cbiAgICAgICAgbGV0IGdiID0gbmV3IEdyaWRCdWlsZGVyKClcbiAgICAgICAgZ2IucHVzaENlbGwodGl0bGVUZXh0KTtcbiAgICAgICAgZ2IucHVzaENlbGwoZGVzY1RleHQxKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnNwZWxsLmxldmVsMkRlc2NyaXB0aW9uKVxuICAgICAgICAgICAgZ2IucHVzaENlbGwoZGVzY1RleHQyKTtcbiAgICAgICAgaWYgKHRoaXMuc3BlbGwubGV2ZWwzRGVzY3JpcHRpb24pXG4gICAgICAgICAgICBnYi5wdXNoQ2VsbChkZXNjVGV4dDMpO1xuICAgICAgICBnYi5maXhMYXllcihHcmlkT3JpZW50YXRpb24uVmVydGljYWwpO1xuICAgICAgICBnYi5ncmlkLmFkZFBpeGVsUGFkZGluZygyMCk7XG4gICAgICAgIGdiLnB1c2hDZWxsKGljb24sMCk7XG4gICAgICAgIGdiLmZpeExheWVyKEdyaWRPcmllbnRhdGlvbi5Ib3Jpem9udGFsLCBuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpKTtcbiAgICAgICAgZ2IuZ3JpZC5hZGRQaXhlbFBhZGRpbmcoMTApO1xuICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQoZ2IuZ3JpZCk7XG5cbiAgICAgICAgbGV0IGJnID0gZ2IuZ3JpZC5hZGRDaGlsZChuZXcgUmVjdChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSwgbmV3IFBpeGVsRGltZW5zaW9uKDIwLDIwKSksIHVuZGVmaW5lZCwgdGhpcy51aU1vZGVsLmJhY2tncm91bmRDb2xvdXIsIDIpKTtcbiAgICAgICAgYmcub3BhY2l0eSA9IDAuOTtcbiAgICAgICAgLy9iZy50cmFuc2Zvcm0uYm91bmRzLm1heERpbWVuc2lvbiA9IG5ldyBQaXhlbERpbWVuc2lvbihNYWluRnJhbWUuY2hhck1lbnVNYXhXaWR0aCx1bmRlZmluZWQpO1xuICAgICAgICBiZy5jYW52YXNGdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSAxMDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IGN0ID0gdGhpcy5hZGRDaGlsZChuZXcgQ2xpY2tUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpKTtcbiAgICAgICAgY3Qub25DbGljay5wdXNoKHRoaXMub25DbG9zaW5nLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBjdC5oYW5kbGVDbGlja3MgPSB0cnVlO1xuICAgICAgICBjdC5vbmx5SWZVbmhhbmRsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIG9uT3BlbigpXG4gICAge1xuICAgICAgICB0aGlzLnNjcmltLm9wYWNpdHkgPSAwO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMuc2NyaW0sIFwib3BhY2l0eVwiLCAwLjUsIDIwMCkpLm9uQ29tcGxldGUucHVzaCh0aGlzLnJlYWR5LmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVhZHkoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zY3JpbS5vcGFjaXR5ID0gMC41O1xuICAgIH1cblxuICAgIG9uQ2xvc2luZygpXG4gICAge1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMuc2NyaW0sIFwib3BhY2l0eVwiLCAwLCAyMDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5jbG9zZS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2NyaW0ub3BhY2l0eSA9IDA7XG4gICAgfVxuXG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgeyBHcmlkQnVpbGRlciwgR3JpZE9yaWVudGF0aW9uIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0dyaWRMYXlvdXRcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBTdGF0dXMgZnJvbSBcIi4uL21vZGVsL1N0YXR1c1wiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUHJlc3NIb2xkVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvUHJlc3NIb2xkVHJpZ2dlclwiO1xuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvQnV0dG9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXR1c0xpc3QgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBzdGF0dXNlczogU3RhdHVzW107XG4gICAgcHJpdmF0ZSB1aU1vZGVsOiBVSU1vZGVsXG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdGF0dXNlczogU3RhdHVzW10sIHVpTW9kZWw6IFVJTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKVxuICAgICAgICB0aGlzLnN0YXR1c2VzID0gc3RhdHVzZXM7XG4gICAgICAgIHRoaXMudWlNb2RlbCA9IHVpTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCBnYiA9IG5ldyBHcmlkQnVpbGRlcigpO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLnN0YXR1c2VzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBpY29uID0gdGhpcy51aU1vZGVsLmdldFN0YXR1c0ljb24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEsIHRoaXMudHJhbnNmb3JtLmJvdW5kcykpLCB0aGlzLnN0YXR1c2VzW2ldKTtcbiAgICAgICAgICAgIGljb24udHJhbnNmb3JtLmJvdW5kcy50YXJnZXRBc3BlY3RSYXRpbyA9IDE7XG4gICAgICAgICAgICBnYi5wdXNoQ2VsbChpY29uKTtcbiAgICAgICAgICAgIGljb24uYWRkQ2hpbGQobmV3IEJ1dHRvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG5cbiAgICAgICAgICAgIGxldCBob2xkVHJpZ2dlciA9IG5ldyBQcmVzc0hvbGRUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5ob2xkRHVyYXRpb24pO1xuICAgICAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRTdGF0dXNJY29uLmJpbmQodGhpcy51aU1vZGVsLCB0aGlzLnN0YXR1c2VzW2ldKSwgdGhpcylcbiAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgICAgIGljb24uYWRkQ2hpbGQoaG9sZFRyaWdnZXIpO1xuICAgICAgICB9XG4gICAgICAgIGdiLmZpeExheWVyKEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbCwgbmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLDEsIG5ldyBQb2ludCgwLDEpKSkpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKGdiLmdyaWQpO1xuICAgIH1cbn0iLCJpbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBSb3VuZGVkUmVjdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JvdW5kZWRSZWN0XCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJCdXR0b24gZXh0ZW5kcyBCdXR0b25cbntcbiAgICB0YWJJY29uOiBHYW1lT2JqZWN0O1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb24sIGJvdW5kcywgdGFiSWNvbilcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLnRhYkljb24gPSB0YWJJY29uO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBsZXQgYmcgPSB0aGlzLmFkZENoaWxkKG5ldyBSb3VuZGVkUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB1bmRlZmluZWQsIFwiI2YzZTdkN1wiLCAwLCAxMCkpO1xuICAgICAgICBiZy5jYW52YXNGdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN0eC5zaGFkb3dDb2xvciA9IFwiYmxhY2tcIlxuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFggPSAwO1xuICAgICAgICAgICAgY3R4LnNoYWRvd09mZnNldFkgPSAwO1xuICAgICAgICAgICAgY3R4LnNoYWRvd0JsdXIgPSAxMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEhvdmVyUmVjdCh0aGlzLmFkZENoaWxkKG5ldyBSb3VuZGVkUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB1bmRlZmluZWQsIFwid2hpdGVcIiwgMCwgMTApKSk7XG4gICAgICAgIHRoaXMuc2V0UHJlc3NlZFJlY3QodGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdW5kZWZpbmVkLCBcIndoaXRlXCIsIDAsIDEwKSkpO1xuICAgICAgICBzdXBlci5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRhYkljb24pO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIsIEZyYW1lIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgR3JpZEJ1aWxkZXIsIEdyaWRPcmllbnRhdGlvbiB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9HcmlkTGF5b3V0XCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgVGFiQnV0dG9uIGZyb20gXCIuL1RhYkJ1dHRvblwiXG5pbXBvcnQgeyBGaWxsUmVjdCB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUmVjdFwiO1xuaW1wb3J0IFByZXNzSG9sZFRyaWdnZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1ByZXNzSG9sZFRyaWdnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFiTGlzdE1lbnUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgdWlNb2RlbDogVUlNb2RlbDtcbiAgICBncmlkOiBHYW1lT2JqZWN0O1xuICAgIFxuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgbGlzdGVuZXI6IEZyYW1lTGlzdGVuZXIsIGNvbnRyb2xsZXI6IEZyYW1lQ29udHJvbGxlciwgdWlNb2RlbDogVUlNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLDEsIG5ldyBQb2ludCgwLDEpKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDApLCBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMC41KSksIHRoaXMudWlNb2RlbC5iYWNrZ3JvdW5kQ29sb3VyKSk7XG4gICAgICAgIHRoaXMudWlNb2RlbC5vbkNoYXJhY3RlclNlbGVjdGVkLnB1c2godGhpcy5jcmVhdGVNZW51LmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy51aU1vZGVsLnNlbGVjdGVkQ2hhcmFjdGVyKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVNZW51KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlTWVudSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ncmlkKVxuICAgICAgICAgICAgdGhpcy5ncmlkLnJlcXVlc3RSZW1vdmFsKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudWlNb2RlbC5zZWxlY3RlZENoYXJhY3RlcilcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGdiID0gbmV3IEdyaWRCdWlsZGVyKCk7XG4gICAgICAgICAgICBsZXQgdGFicyA9IHRoaXMuY3JlYXRlVGFicygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8dGFicy5sZW5ndGg7aSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdiLnB1c2hDZWxsKHRhYnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2IuZml4TGF5ZXIoR3JpZE9yaWVudGF0aW9uLkhvcml6b250YWwpO1xuICAgICAgICAgICAgdGhpcy5ncmlkID0gdGhpcy5hZGRDaGlsZChnYi5ncmlkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZCA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldEFuaW1XYWl0SG91cmdsYXNzKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLjUsbmV3IFBvaW50KDEsMC41KSkpLG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpO1xuICAgICAgICAgICAgdGhpcy5ncmlkLnRyYW5zZm9ybS5ib3VuZHMudGFyZ2V0QXNwZWN0UmF0aW8gPSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVGFicygpXG4gICAge1xuICAgICAgICBsZXQgdGFicyA9IFtdXG4gICAgICAgIGxldCB0YWIgPSB0aGlzLmNyZWF0ZVRhYkJ1dHRvbih0aGlzLnVpTW9kZWwuZ2V0UXVpY2tJdGVtVGFiSWNvbihuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsbmV3IFBvaW50KDAuNSwwLjUpKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLjcsMC43KSkpKTtcbiAgICAgICAgdGFicy5wdXNoKHRhYik7XG4gICAgICAgIHRhYi5vbkNsaWNrLnB1c2godGhpcy51aU1vZGVsLmNsaWNrUXVpY2tJdGVtc1RhYkJ1dHRvbi5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSBuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKTtcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRRdWlja0l0ZW1zVGFiQnV0dG9uLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcylcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGFiLnJlc2V0LmJpbmQodGFiKSwgdGhpcyk7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgdGFiLmFkZENoaWxkKGhvbGRUcmlnZ2VyKTtcblxuICAgICAgICB0aGlzLnVpTW9kZWwuc2VsZWN0ZWRDaGFyYWN0ZXIuc3BlbGxMaXN0cy5mb3JFYWNoKGwgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFiID0gdGhpcy5jcmVhdGVUYWJCdXR0b24odGhpcy51aU1vZGVsLmdldFNwZWxsTGlzdFRhYkljb24obmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC41LG5ldyBQb2ludCgwLjUsMC41KSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMC43LDAuNykpLCBsKSk7XG4gICAgICAgICAgICAgICAgdGFicy5wdXNoKHRhYik7XG4gICAgICAgICAgICAgICAgdGFiLm9uQ2xpY2sucHVzaCh0aGlzLnVpTW9kZWwuY2xpY2tTcGVsbExpc3RUYWJCdXR0b24uYmluZCh0aGlzLnVpTW9kZWwsbCksIHRoaXMpXG4gICAgICAgICAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gbmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRTcGVsbExpc3RUYWJCdXR0b24uYmluZCh0aGlzLnVpTW9kZWwsIGwpLCB0aGlzKVxuICAgICAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRhYi5yZXNldC5iaW5kKHRhYiksIHRoaXMpO1xuICAgICAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0YWIuYWRkQ2hpbGQoaG9sZFRyaWdnZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YWJzO1xuICAgIH1cblxuICAgIGNyZWF0ZVRhYkJ1dHRvbihjaGlsZDogR2FtZU9iamVjdCk6IFRhYkJ1dHRvblxuICAgIHtcbiAgICAgICAgbGV0IHRhYiA9IG5ldyBUYWJCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEsIHRoaXMudHJhbnNmb3JtLmJvdW5kcykpLCBjaGlsZCk7XG4gICAgICAgIHRhYi50cmFuc2Zvcm0uYm91bmRzLnRhcmdldEFzcGVjdFJhdGlvID0gMTtcbiAgICAgICAgdGFiLmFkZENoaWxkKGNoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRhYjtcbiAgICB9XG59IiwiaW1wb3J0IFBvcnRyYWl0MSBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC9GbGFyZU1hbGVIZXJvMi1yZXNpemUucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQyIGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0L0ZsYXJlTWFsZUhlcm8zLXJlc2l6ZS5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdDMgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvRmxhcmVGZW1hbGVIZXJvMi1yZXNpemUucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQ0IGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0L0ZsYXJlRmVtYWxlSGVybzMtcmVzaXplLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0T3JjIGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0LzVwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0NiBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC82cC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdFNrdWxsIGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0LzdwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0OCBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC84cC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdDkgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvOXAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxMCBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xMHAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxMSBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xMXAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxMiBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xMnAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxMyBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xM3AucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxNCBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xNHAucG5nXCI7XG5cbmltcG9ydCBUZXh0dXJlRW1wdHkgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvZW1wdHkucG5nXCI7IGV4cG9ydCB7IFRleHR1cmVFbXB0eSB9O1xuXG5pbXBvcnQgVGV4dHVyZVN0b25lV2FsbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy80LnBuZ1wiO1xuaW1wb3J0IFRleHR1cmVTdG9uZUFyY2h3YXkgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvNC1hcmNoLnBuZ1wiO1xuaW1wb3J0IFRleHR1cmVTdG9uZVdhbGxOb3JtYWwgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvNG4ucG5nXCI7XG5cbmltcG9ydCBUWFJlZENsb3ZlciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9CYXR0ZXJlZCBSZWQgQ2xvdmVyLmpwZ1wiO1xuaW1wb3J0IFRYR3Jhbml0ZVdhbGwgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvR3Jhbml0ZSBXYWxsLmpwZ1wiO1xuaW1wb3J0IFRYU2VnbWVudGVkU3RvbmVXYWxsIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1NlZ21lbnRlZCBTdG9uZSBXYWxsLmpwZ1wiO1xuaW1wb3J0IFRYU2FtYXJpc01ldGFsIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1NhbWFyaXMgTWV0YWwuanBnXCI7XG5pbXBvcnQgVFhQYWxhY2VGbG9vciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9QYWxhY2UgRmxvb3IuanBnXCI7XG5pbXBvcnQgVFhTbXVkZ2VkRGlydCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TbXVkZ2VkIERpcnQuanBnXCI7XG5pbXBvcnQgVFhDYXJ2ZWRTYW5kc3RvbmUgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ2FydmVkIFNhbmRzdG9uZS5qcGdcIjtcbmltcG9ydCBUWEFzeWx1bUNlbGxPcmFuZ2UgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQXN5bHVtIENlbGwgT3JhbmdlLmpwZ1wiO1xuaW1wb3J0IFRYQ291bmNpbENoYW1iZXIgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ291bmNpbCBDaGFtYmVyLmpwZ1wiO1xuaW1wb3J0IFRYU2FtYXJpcyBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TYW1hcmlzLmpwZ1wiO1xuaW1wb3J0IFRYU2xpbWVXYWxsIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1NsaW1lIFdhbGwuanBnXCI7XG5pbXBvcnQgVFhEYXJrR3JheU1hcmJsZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9EYXJrIEdyYXkgTWFyYmxlLmpwZ1wiO1xuaW1wb3J0IFRYR2xhc3N5UGlua01hcmJsZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9HbGFzc3kgUGluayBNYXJibGUuanBnXCI7XG5pbXBvcnQgVFhTbWFzaGVkR3JheU1hcmJsZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TbWFzaGVkIEdyYXkgTWFyYmxlLmpwZ1wiO1xuaW1wb3J0IFRYRGVhZENhdmVzIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0RlYWQgQ2F2ZXMuanBnXCI7XG5pbXBvcnQgVFhGZW5TdG9uZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9GZW4gU3RvbmUuanBnXCI7XG5pbXBvcnQgVFhCcm93blF1c3NhaXJHcmFuaXRlIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0Jyb3duIFF1c3NhaXIgR3Jhbml0ZS5qcGdcIjtcbmltcG9ydCBUWFJvdWdoT3J0aG9jbGFzZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Sb3VnaCBPcnRob2NsYXNlLmpwZ1wiO1xuaW1wb3J0IFRYTWlkbmlnaHRTdG9uZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9NaWRuaWdodCBTdG9uZS5qcGdcIjtcbmltcG9ydCBUWFdlZWR5TGF3biBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9XZWVkeSBMYXduLmpwZ1wiO1xuaW1wb3J0IFRYTW9zc0N1c2hpb25zIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL01vc3MgQ3VzaGlvbnMuanBnXCI7XG5pbXBvcnQgVFhGb3Jlc3RGbG9vciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Gb3Jlc3QgRmxvb3IuanBnXCI7XG5pbXBvcnQgVFhXZWVkc0FuZEdyYXZlbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9XZWVkcyBhbmQgR3JhdmVsLmpwZ1wiO1xuaW1wb3J0IFRYTW9zc3lSb2NrIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL01vc3N5IFJvY2suanBnXCI7XG5cbmltcG9ydCBUWENvdHRhZ2UxRG9vciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBEb29yIChGTCAxKS5qcGdcIjtcbmltcG9ydCBUWENvdHRhZ2UxV2FsbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXYWxsIChGTCAxKS5qcGdcIjtcbmltcG9ydCBUWENvdHRhZ2UxV2FsbEZsMiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXYWxsIChGTCAyKykuanBnXCI7XG5pbXBvcnQgVFhDb3R0YWdlMVdpbmRvd0ZsMiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXaW5kb3cgKEZMIDIrKS5qcGdcIjtcbmltcG9ydCBUWENvdHRhZ2UxV2luZG93MkZsMiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXaW5kb3cgMiAoRkwgMispLmpwZ1wiO1xuaW1wb3J0IFRYQ290dGFnZTFEb29yMiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBEb29yIDIgKEZMIDEpLmpwZ1wiO1xuXG5pbXBvcnQgVFhTYW5keUxpY2hlbkJyaWNrIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1NhbmR5IExpY2hlbiBCcmljay5qcGdcIjtcbmltcG9ydCBUWFN0cmF3Um9vZiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TdHJhdyBSb29mLmpwZ1wiO1xuaW1wb3J0IFRYU3RyYXdSb29mSW50ZXJpb3IgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvU3RyYXcgUm9vZiBJbnRlcmlvci5qcGdcIjtcblxuaW1wb3J0IFNreWJveFRleHR1cmUxWFBvcyBmcm9tICdhc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfZWFzdC5wbmcnO1xuaW1wb3J0IFNreWJveFRleHR1cmUxWE5lZyBmcm9tICdhc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfd2VzdC5wbmcnO1xuaW1wb3J0IFNreWJveFRleHR1cmUxWVBvcyBmcm9tICdhc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfdXAucG5nJztcbmltcG9ydCBTa3lib3hUZXh0dXJlMVlOZWcgZnJvbSAnYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX2Rvd24ucG5nJztcbmltcG9ydCBTa3lib3hUZXh0dXJlMVpQb3MgZnJvbSAnYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX25vcnRoLnBuZyc7XG5pbXBvcnQgU2t5Ym94VGV4dHVyZTFaTmVnIGZyb20gJ2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV9zb3V0aC5wbmcnO1xuaW1wb3J0IFVrb2JhY2hUZXh0dXJlIGZyb20gXCJhc3NldHMvcnBnL25wY3MvdWtvYmFjaC10ZXN0LnBuZ1wiXG5pbXBvcnQgQnVlclRleHR1cmUgZnJvbSBcImFzc2V0cy9ycGcvbnBjcy9idWVyLXRlc3QucG5nXCJcbmltcG9ydCBTa3VsbENyb3NzYm9uZXMgZnJvbSBcImFzc2V0cy9ycGcvbnBjcy9za3VsbC1jcm9zc2JvbmVzLnBuZ1wiO1xuaW1wb3J0IEZhbmN5RHJlc3MxMlRleHR1cmUgZnJvbSBcImFzc2V0cy9ycGcvbnBjcy9mYW5jeS1kcmVzcy0xMi5wbmdcIjtcblxuaW1wb3J0IEFudGVkaWx1dmlhbkRvb3IgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQW50ZWRpbHV2aWFuIERvb3IucG5nXCI7XG5pbXBvcnQgQW50ZWRpbHV2aWFuRG9vckFscGhhIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0FudGVkaWx1dmlhbiBEb29yLWFscGhhbWFwLnBuZ1wiO1xuaW1wb3J0IENvdW50aW5nSG91c2VEb29yIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0NvdW50aW5nIEhvdXNlIERvb3IuanBnXCI7XG5cbmltcG9ydCBXYWxsczEgZnJvbSBcImFzc2V0cy9ycGcvbGV2ZWxzL3dhbGxzMS5qc29uXCI7XG5pbXBvcnQgTGFyZ2VIb3VzZSBmcm9tIFwiYXNzZXRzL3JwZy9sZXZlbHMvbGFyZ2UtaG91c2UuanNvblwiO1xuaW1wb3J0IE9wZW5Db3VudHJ5IGZyb20gXCJhc3NldHMvcnBnL2xldmVscy9vcGVuLWNvdW50cnkuanNvblwiO1xuXG5pbXBvcnQgU3BlbGxUZXN0SW1hZ2UgZnJvbSBcImFzc2V0cy9ycGcvc3BlbGxzL2JlYXV0aWZ1bC1iaXJkLmpwZ1wiO1xuaW1wb3J0IEhvdXJHbGFzc0ljb24gZnJvbSBcImFzc2V0cy9ycGcvdWkvaG91cmdsYXNzLnBuZ1wiO1xuaW1wb3J0IENoYXJTaGVldEljb24gZnJvbSBcImFzc2V0cy9ycGcvdWkvY2hhcnNoZWV0LWljb24ucG5nXCI7XG5cbmltcG9ydCBFYXJ0aFNwZWxsVGFiIGZyb20gXCJhc3NldHMvcnBnL3VpL2VhcnRoLXNwZWxsLXRhYi5wbmdcIjtcbmltcG9ydCBBaXJTcGVsbFRhYiBmcm9tIFwiYXNzZXRzL3JwZy91aS9haXItc3BlbGwtdGFiLnBuZ1wiO1xuaW1wb3J0IEZpcmVTcGVsbFRhYiBmcm9tIFwiYXNzZXRzL3JwZy91aS9maXJlLXNwZWxsLXRhYi5wbmdcIjtcbmltcG9ydCBXYXRlclNwZWxsVGFiIGZyb20gXCJhc3NldHMvcnBnL3VpL3dhdGVyLXNwZWxsLXRhYi5wbmdcIjtcblxuaW1wb3J0IFF1aWNrSXRlbVRhYkljb24gZnJvbSBcImFzc2V0cy9ycGcvdWkvcXVpY2staXRlbXMtdGFiLnBuZ1wiO1xuXG5cbmxldCBnYW1lRGF0YTogR2FtZURhdGEgPVxue1xuICAgIHNreWJveGVzOiBbeyB4UG9zOiBTa3lib3hUZXh0dXJlMVhQb3MsIHhOZWc6IFNreWJveFRleHR1cmUxWE5lZywgeVBvczogU2t5Ym94VGV4dHVyZTFZUG9zLCB5TmVnOiBTa3lib3hUZXh0dXJlMVlOZWcsIHpQb3M6IFNreWJveFRleHR1cmUxWlBvcywgek5lZzogU2t5Ym94VGV4dHVyZTFaTmVnIH1dLFxuICAgIHBvcnRyYWl0czogW3sgZmlsZW5hbWU6IFBvcnRyYWl0MSB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MiB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MyB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0NCB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0T3JjIH0sXG4gICAgeyBmaWxlbmFtZTogUG9ydHJhaXQ2IH0sXG4gICAgeyBmaWxlbmFtZTogUG9ydHJhaXRTa3VsbCB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0OCB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0OSB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MTAgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDExIH0sXG4gICAgeyBmaWxlbmFtZTogUG9ydHJhaXQxMiB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MTMgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDE0IH1dLFxuXG4gICAgd2FsbHM6IFt7IGZpbGVuYW1lOiBUZXh0dXJlRW1wdHksIHBhc3NhYmxlOiB0cnVlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNhbWFyaXNNZXRhbCwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiBmYWxzZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVGV4dHVyZUVtcHR5LCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IGZhbHNlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWEdyYW5pdGVXYWxsLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IGZhbHNlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFJlZENsb3ZlciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiBmYWxzZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVGV4dHVyZVN0b25lQXJjaHdheSwgcGFzc2FibGU6IHRydWUsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuXG4gICAgeyBmaWxlbmFtZTogVFhTZWdtZW50ZWRTdG9uZVdhbGwsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhQYWxhY2VGbG9vciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNtdWRnZWREaXJ0LCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQ2FydmVkU2FuZHN0b25lLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQXN5bHVtQ2VsbE9yYW5nZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdW5jaWxDaGFtYmVyLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYU2FtYXJpcywgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNsaW1lV2FsbCwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWERhcmtHcmF5TWFyYmxlLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYR2xhc3N5UGlua01hcmJsZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNtYXNoZWRHcmF5TWFyYmxlLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYRGVhZENhdmVzLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYRmVuU3RvbmUsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhCcm93blF1c3NhaXJHcmFuaXRlLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYUm91Z2hPcnRob2NsYXNlLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYTWlkbmlnaHRTdG9uZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFdlZWR5TGF3biwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWE1vc3NDdXNoaW9ucywgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWEZvcmVzdEZsb29yLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYV2VlZHNBbmRHcmF2ZWwsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhNb3NzeVJvY2ssIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG5cbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxRG9vciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxV2FsbCwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxV2FsbEZsMiwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxV2luZG93RmwyLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQ290dGFnZTFXaW5kb3cyRmwyLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQ290dGFnZTFEb29yMiwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNhbmR5TGljaGVuQnJpY2ssIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTdHJhd1Jvb2YsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTdHJhd1Jvb2ZJbnRlcmlvciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfV0sXG4gICAgXG4gICAgZG9vcnM6IFt7ZmlsZW5hbWU6IEFudGVkaWx1dmlhbkRvb3IsIGFscGhhTWFwOiBBbnRlZGlsdXZpYW5Eb29yQWxwaGEsIG5vcm1hbE1hcDpcIlwifV0sXG5cbiAgICBvYmplY3RzOiBbeyBuYW1lOiBcIkNoZXN0XCIsIGZpbGVuYW1lOiBcImFzc2V0cy9ycGcvQmFzaWMgUlBHIEl0ZW0gRnJlZS9NZXRhbCBDYXNlXzAxLnBuZ1wiIH0sXG4gICAgeyBuYW1lOiBcIkxldmVyXCIsIGZpbGVuYW1lOiBcInJwZy9vYmplY3QvMy5wbmdcIiB9LFxuICAgIHsgbmFtZTogXCJCdXR0b25cIiwgZmlsZW5hbWU6IFwicnBnL29iamVjdC80LnBuZ1wiIH1dLFxuXG4gICAgbnBjczogW3tcbiAgICAgICAgbmFtZTogXCJVa29iYWNoXCIsXG4gICAgICAgIGZpbGVuYW1lOiBVa29iYWNoVGV4dHVyZSxcbiAgICAgICAgZGVhZFRleHR1cmU6IFNrdWxsQ3Jvc3Nib25lcyxcbiAgICAgICAgc2NhbGU6IDAuNSxcbiAgICAgICAgaHA6IFwiM2Q4KzNcIixcbiAgICAgICAgbG9vdDogXCIzZDRcIixcbiAgICAgICAgaG9zdGlsZTogdHJ1ZSxcbiAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJTd29yZFwiLCB0eXBlOiBcImF0dGFja1wiLCByYW5nZTogMSwgZGFtYWdlOiBcIjJkNlwiLCB0b0hpdDogXCIzXCIsIHJlY292ZXJ5OiBcIjJcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiQm93XCIsIHR5cGU6IFwiYXR0YWNrXCIsIHJhbmdlOiA2LCBkYW1hZ2U6IFwiMWQ0XCIsIHRvSGl0OiBcIjNcIiwgcmVjb3Zlcnk6IFwiMTBcIiB9XVxuICAgIH0sXG5cbiAgICB7XG4gICAgICAgIG5hbWU6IFwiQnVlclwiLFxuICAgICAgICBmaWxlbmFtZTogQnVlclRleHR1cmUsXG4gICAgICAgIGRlYWRUZXh0dXJlOiBTa3VsbENyb3NzYm9uZXMsXG4gICAgICAgIHNjYWxlOiAwLjgsXG4gICAgICAgIGhwOiBcIjZkOCs2XCIsXG4gICAgICAgIGxvb3Q6IFwiNmQ4XCIsXG4gICAgICAgIGhvc3RpbGU6IHRydWUsXG4gICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiQml0ZVwiLCB0eXBlOiBcImF0dGFja1wiLCByYW5nZTogMSwgZGFtYWdlOiBcIjJkOFwiLCB0b0hpdDogXCI0XCIsIHJlY292ZXJ5OiBcIjNcIiB9XVxuICAgIH0sXG5cbiAgICB7XG4gICAgICAgIG5hbWU6IFwiRmFuY3kgRHJlc3MgMTJcIixcbiAgICAgICAgZmlsZW5hbWU6IEZhbmN5RHJlc3MxMlRleHR1cmUsXG4gICAgICAgIGRlYWRUZXh0dXJlOiBTa3VsbENyb3NzYm9uZXMsXG4gICAgICAgIHNjYWxlOiAwLjYsXG4gICAgICAgIGhwOiBcIjJkNlwiLFxuICAgICAgICBsb290OiBcIjNkNFwiLFxuICAgICAgICBob3N0aWxlOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uczogW11cbiAgICB9XSxcblxuICAgIGVxdWlwbWVudDogW3sgdHlwZTogXCJ3ZWFwb25cIiwgbmFtZTogXCJTd29yZFwiLCBkYW1hZ2U6IFwiMmQ2XCIsIHRvSGl0OiA0LCByYW5nZTogMSB9LFxuICAgIHsgdHlwZTogXCJ3ZWFwb25cIiwgbmFtZTogXCJCb3dcIiwgZGFtYWdlOiBcIjFkOFwiLCB0b0hpdDogNCwgcmFuZ2U6IDYgfV0sXG5cbiAgICB1aTogeyBob3VyZ2xhc3NJY29uOiBIb3VyR2xhc3NJY29uLCBjaGFyU2hlZXRJY29uOiBDaGFyU2hlZXRJY29uLCBxdWlja0l0ZW1UYWJJY29uOiBRdWlja0l0ZW1UYWJJY29uIH0sXG5cbiAgICBsZXZlbHM6IFt7XG4gICAgICAgIG5hbWU6IFwiRHVuZ2VvblwiLCB3aWR0aDogMiwgaGVpZ2h0OiAxLCBkZXB0aDogMixcbiAgICAgICAgcGFyZW50QXJlYU5hbWU6IFwiXCIsXG4gICAgICAgIHdhbGxzOiBbMCwgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDEsIDAsXG5cbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAxLCAwXSxcbiAgICAgICAgZG9vcnM6IFtdLFxuICAgICAgICBvYmplY3RzOiBbXSxcbiAgICAgICAgbnBjczogW10sXG4gICAgICAgIHN0YXJ0aW5nUG9zaXRpb246IFswLCAwLCAwXSxcbiAgICAgICAgc3RhcnRpbmdGYWNpbmc6IDEsXG4gICAgICAgIG91dHNpZGU6IGZhbHNlLFxuICAgICAgICBza3lib3g6IDBcbiAgICB9LFxuXG4gICAge1xuICAgICAgICBuYW1lOiBcIkVuZHNtZWV0XCIsIHdpZHRoOiAxMCwgaGVpZ2h0OiAyLCBkZXB0aDogOCwgXG4gICAgICAgIHBhcmVudEFyZWFOYW1lOiBcIldlc3Rlcm4gSXRoYXJpYVwiLFxuICAgICAgICB3YWxsczogT3BlbkNvdW50cnksXG4gICAgICAgIGRvb3JzOiBbe3R5cGU6IDAsIHBvc2l0aW9uOiBbNiwwLDUsMF0sIHRhcmdldDogWzIsMywxLDQsMF0sIG9wZW5BbmdsZTogdW5kZWZpbmVkfV0sXG4gICAgICAgIG9iamVjdHM6IFtdLFxuICAgICAgICBucGNzOiBbXSxcbiAgICAgICAgc3RhcnRpbmdQb3NpdGlvbjogWzYsIDAsIDddLFxuICAgICAgICBzdGFydGluZ0ZhY2luZzogMCxcbiAgICAgICAgb3V0c2lkZTogdHJ1ZSxcbiAgICAgICAgc2t5Ym94OiAwXG4gICAgfSxcblxuICAgIHtcbiAgICAgICAgbmFtZTogXCJIb3VzZSBvZiBWYWhzXCIsIHdpZHRoOiA3LCBkZXB0aDogNSwgaGVpZ2h0OiAzLFxuICAgICAgICBwYXJlbnRBcmVhTmFtZTogXCJFbmRzbWVldFwiLFxuICAgICAgICB3YWxsczogTGFyZ2VIb3VzZSxcbiAgICAgICAgZG9vcnM6IFt7dHlwZTogMCwgcG9zaXRpb246IFsyLDEsMywwXSwgdGFyZ2V0OiB1bmRlZmluZWQsIG9wZW5BbmdsZTogTWF0aC5QSS8yfSxcbiAgICAgICAge3R5cGU6IDAsIHBvc2l0aW9uOiBbMywxLDQsMV0sIHRhcmdldDogdW5kZWZpbmVkLCBvcGVuQW5nbGU6IE1hdGguUEkvMn0sXG4gICAgICAgIHt0eXBlOiAwLCBwb3NpdGlvbjogWzMsMSw0LDJdLCB0YXJnZXQ6IFsxLDYsMCw1LDRdLCBvcGVuQW5nbGU6IHVuZGVmaW5lZH0sXG4gICAgICAgIHt0eXBlOiAwLCBwb3NpdGlvbjogWzQsMSwyLDFdLCB0YXJnZXQ6IHVuZGVmaW5lZCwgb3BlbkFuZ2xlOiBNYXRoLlBJLzJ9LFxuICAgICAgICB7dHlwZTogMCwgcG9zaXRpb246IFs0LDEsMiwzXSwgdGFyZ2V0OiB1bmRlZmluZWQsIG9wZW5BbmdsZTogTWF0aC5QSS8yfV0sXG4gICAgICAgIG9iamVjdHM6IFtdLFxuICAgICAgICBucGNzOiBbe3R5cGU6IDAsIHBvc2l0aW9uOiBbMiwxLDJdfV0sXG4gICAgICAgIHN0YXJ0aW5nUG9zaXRpb246IFszLCAxLCA0XSxcbiAgICAgICAgc3RhcnRpbmdGYWNpbmc6IDAsXG4gICAgICAgIG91dHNpZGU6IGZhbHNlLFxuICAgICAgICBza3lib3g6IHVuZGVmaW5lZFxuICAgIH1dLFxuICAgIHBhcnR5OiB7XG4gICAgICAgIGNoYXJhY3RlcnM6IFt7XG4gICAgICAgICAgICBuYW1lOiBcIlRvcnd5blwiLCB0aXRsZTogXCJTcXVpcmVcIiwgcG9ydHJhaXQ6IDIsIGVxdWlwbWVudDogWzAsIDFdLCBsZXZlbDogMSwgeHA6IDAsIGhwOiAyNCwgbWF4SFA6IDI0LCBtYW5hOiAwLCBtYXhNYW5hOiAwLFxuICAgICAgICAgICAgc3BlbGxMaXN0czogW11cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJBbWVsYXJcIiwgdGl0bGU6IFwiQWNvbHl0ZVwiLCBwb3J0cmFpdDogMSwgZXF1aXBtZW50OiBbXSwgbGV2ZWw6IDEsIHhwOiAwLCBocDogMTQsIG1heEhQOiAxNCwgbWFuYTogOCwgbWF4TWFuYTogOCxcbiAgICAgICAgICAgIHNwZWxsTGlzdHM6IFt7IGxpc3Q6IDIsIHNwZWxsczogWzBdIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiR2FyblwiLCB0aXRsZTogXCJQaWNrcG9ja2V0XCIsIHBvcnRyYWl0OiAwLCBlcXVpcG1lbnQ6IFtdLCBsZXZlbDogMSwgeHA6IDAsIGhwOiAxMiwgbWF4SFA6IDEyLCBtYW5hOiAwLCBtYXhNYW5hOiAwLFxuICAgICAgICAgICAgc3BlbGxMaXN0czogW11cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJNZWx5c3RyYVwiLCB0aXRsZTogXCJBcHByZW50aWNlXCIsIHBvcnRyYWl0OiAzLCBlcXVpcG1lbnQ6IFtdLCBsZXZlbDogMSwgeHA6IDAsIGhwOiA4LCBtYXhIUDogOCwgbWFuYTogMTIsIG1heE1hbmE6IDEyLFxuICAgICAgICAgICAgc3BlbGxMaXN0czogW3sgbGlzdDogMCwgc3BlbGxzOiBbMF0gfSxcbiAgICAgICAgICAgIHsgbGlzdDogMSwgc3BlbGxzOiBbMCwgMV0gfSxcbiAgICAgICAgICAgIHsgbGlzdDogMiwgc3BlbGxzOiBbMCwgMV0gfSxcbiAgICAgICAgICAgIHsgbGlzdDogMywgc3BlbGxzOiBbXSB9XVxuICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIGdvbGQ6IDBcbiAgICB9LFxuICAgIHBsYXllcjogeyBwb3NpdGlvbjogdW5kZWZpbmVkLCBmYWNpbmc6IDAsIGxldmVsOiAxIH0sXG5cbiAgICBzcGVsbExpc3RzOiBbeyBuYW1lOiBcIkVhcnRoXCIsIGljb246IEVhcnRoU3BlbGxUYWIsICBzcGVsbHM6IFtcbiAgICAgICAgeyBuYW1lOiBcIkxldmVsIEVkaXRpbmdcIixcbiAgICAgICAgICAgIGJhc2VEZXNjcmlwdGlvbjpcIkFsbG93IGVkaXRpbmcgb2YgdGhlIGxldmVsLiBDbGljayBvbiBhIHdhbGwgdG8gY2hhbmdlIHRoZSB0ZXh0dXJlIHRvIHRoZSBjdXJyZW50IGFjdGl2ZSB0ZXh0dXJlLlwiLFxuICAgICAgICAgICAgbGV2ZWwyRGVzY3JpcHRpb246IFwiTi9BXCIsXG4gICAgICAgICAgICBsZXZlbDNEZXNjcmlwdGlvbjogXCJOL0FcIixcbiAgICAgICAgICAgIGljb246IFNwZWxsVGVzdEltYWdlIH1dfSxcbiAgICB7IG5hbWU6IFwiQWlyXCIsIHNwZWxsczogW1xuICAgICAgICB7IG5hbWU6IFwiTWluaW1hcFwiLFxuICAgICAgICAgICAgYmFzZURlc2NyaXB0aW9uOlwiU2hvdyBhIG1pbmltYXAgb2YgeW91ciBzdXJyb3VuZGluZ3MuXCIsXG4gICAgICAgICAgICBsZXZlbDJEZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICAgIGxldmVsM0Rlc2NyaXB0aW9uOiBcIlwiLFxuICAgICAgICAgICAgaWNvbjogU3BlbGxUZXN0SW1hZ2UgfSwgXG4gICAgICAgIHsgbmFtZTogXCJGbHlcIixcbiAgICAgICAgICAgIGJhc2VEZXNjcmlwdGlvbjogXCJQZXJtaXRzIGZseWluZyBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBzcGVsbC5cIixcbiAgICAgICAgICAgIGxldmVsMkRlc2NyaXB0aW9uOiBcIlNwZWxsIGR1cmF0aW9uIGlzIGluY3JlYXNlZC4gUmVjb3ZlcnkgdGltZSBpcyByZWR1Y2VkIGJ5IDEvMi5cIixcbiAgICAgICAgICAgIGxldmVsM0Rlc2NyaXB0aW9uOiBcIlNwZWxsIGR1cmF0aW9uIGlzIGluY3JlYXNlZC4gTWFuYSBjb3N0IGlzIHJlZHVjZWQgYnkgMS8yLlwiLFxuICAgICAgICAgICAgaWNvbjogU3BlbGxUZXN0SW1hZ2UgfV0sIGljb246IEFpclNwZWxsVGFiIH0sXG4gICAgeyBuYW1lOiBcIkZpcmVcIixpY29uOiBGaXJlU3BlbGxUYWIsIHNwZWxsczogW1xuICAgICAgICB7IG5hbWU6IFwiRmlyZSBCb2x0XCIsXG4gICAgICAgICAgICBiYXNlRGVzY3JpcHRpb246XCJUaHJvd3MgYSBib2x0IG9mIGZsYW1lIGF0IGEgc2luZ2xlIHRhcmdldCwgZGVhbGluZyAzZDYgZGFtYWdlLlwiLFxuICAgICAgICAgICAgbGV2ZWwyRGVzY3JpcHRpb246IFwiRGVhbHMgYW4gZXh0cmEgMWQ2IGRhbWFnZSBhbmQgcmVjb3ZlcnkgdGltZSBpcyByZWR1Y2VkXCIsXG4gICAgICAgICAgICBsZXZlbDNEZXNjcmlwdGlvbjogXCJEZWFscyBhbiBleHRyYSAyZDYgZGFtYWdlIGFuZCByZWNvdmVyeSB0aW1lIGlzIHJlZHVjZWQgdG8gMS80XCIsXG4gICAgICAgICAgICBpY29uOiBTcGVsbFRlc3RJbWFnZSB9LFxuICAgICAgICB7IG5hbWU6IFwiVG9yY2ggTGlnaHRcIixcbiAgICAgICAgICAgIGJhc2VEZXNjcmlwdGlvbjpcIkNyZWF0ZXMgYSBtYWdpY2FsIGxpZ2h0IHRoYXQgaWxsdW1pbmF0ZXMgeW91ciBzdXJyb3VuZGluZ3MuIFVzZWZ1bCBpbmRvb3JzXCIsXG4gICAgICAgICAgICBsZXZlbDJEZXNjcmlwdGlvbjogXCJNYW5hIGNvc3QgYW5kIHJlY292ZXJ5IHRpbWUgYXJlIHJlZHVjZWQuIER1cmF0aW9uIGlzIGRvdWJsZWQuXCIsXG4gICAgICAgICAgICBsZXZlbDNEZXNjcmlwdGlvbjogXCJNYW5hIGNvc3QgaXMgcmVkdWNlZCB0byAwLCByZWNvdmVyeSB0aW1lIGlzIHJlZHVjZWQgdG8gMS80LiBEdXJhdGlvbiBpcyBpbmNyZWFzZWQgdG8gNHguXCIsXG4gICAgICAgICAgICBpY29uOiBTcGVsbFRlc3RJbWFnZSB9XSB9LFxuICAgIHsgbmFtZTogXCJXYXRlclwiLCBpY29uOiBXYXRlclNwZWxsVGFiICwgc3BlbGxzOiBbXSB9XVxuXG59XG5leHBvcnQgeyBnYW1lRGF0YSB9O1xuXG5leHBvcnQgY2xhc3MgR2FtZURhdGEge1xuICAgIHBvcnRyYWl0czogUG9ydHJhaXREYXRhW107XG4gICAgd2FsbHM6IFdhbGxEYXRhW107XG4gICAgZG9vcnM6IERvb3JEYXRhW107XG4gICAgb2JqZWN0czogV29ybGRPYmplY3REYXRhW107XG4gICAgbnBjczogTlBDRGF0YVtdO1xuICAgIGxldmVsczogTGV2ZWxEYXRhW107XG4gICAgcGFydHk6IFBhcnR5RGF0YTtcbiAgICBwbGF5ZXI6IFBsYXllckRhdGE7XG4gICAgdWk6IFVJRGF0YVxuICAgIGVxdWlwbWVudDogKEl0ZW1EYXRhIHwgV2VhcG9uSXRlbURhdGEpW107XG4gICAgc2t5Ym94ZXM6IFNreWJveERhdGFbXTtcbiAgICBzcGVsbExpc3RzOiBTcGVsbExpc3REYXRhW107XG59XG5leHBvcnQgY2xhc3MgU2t5Ym94RGF0YSB7IHhQb3M6IHN0cmluZzsgeE5lZzogc3RyaW5nOyB5UG9zOiBzdHJpbmc7IHlOZWc6IHN0cmluZzsgelBvczogc3RyaW5nOyB6TmVnOiBzdHJpbmcgfVxuZXhwb3J0IGNsYXNzIFBvcnRyYWl0RGF0YSB7IGZpbGVuYW1lOiBzdHJpbmcgfVxuZXhwb3J0IGNsYXNzIFdhbGxEYXRhIHsgZmlsZW5hbWU6IHN0cmluZzsgcGFzc2FibGU6IGJvb2xlYW47IG5vcm1hbE1hcDogc3RyaW5nOyB0cmFuc3BhcmVudDogYm9vbGVhbjsgcmVwZWF0OiBudW1iZXJbXSB9XG5leHBvcnQgY2xhc3MgV2FsbERldGFpbHNEYXRhIHsgdDogbnVtYmVyOyBudzogbnVtYmVyOyBuZTogbnVtYmVyOyBzZTogbnVtYmVyOyBzdzogbnVtYmVyOyBtaWQ6IG51bWJlcjsgbjogbnVtYmVyOyBlOiBudW1iZXI7IHM6IG51bWJlcjsgdzogbnVtYmVyIH1cbmV4cG9ydCBjbGFzcyBXb3JsZE9iamVjdERhdGEgeyBuYW1lOiBzdHJpbmc7IGZpbGVuYW1lOiBzdHJpbmcgfVxuZXhwb3J0IGNsYXNzIE5QQ0RhdGEgeyBuYW1lOiBzdHJpbmc7IGZpbGVuYW1lOiBzdHJpbmc7IGRlYWRUZXh0dXJlOiBzdHJpbmc7IHNjYWxlOiBudW1iZXI7IGhwOiBzdHJpbmc7IGxvb3Q6IHN0cmluZzsgaG9zdGlsZTogYm9vbGVhbjsgYWN0aW9uczogQWN0aW9uRGF0YVtdIH1cbmV4cG9ydCBjbGFzcyBBY3Rpb25EYXRhIHsgdHlwZTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IHJhbmdlOiBudW1iZXI7IGRhbWFnZTogc3RyaW5nOyB0b0hpdDogc3RyaW5nOyByZWNvdmVyeTogc3RyaW5nIH1cbmV4cG9ydCBjbGFzcyBMZXZlbERhdGEge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwYXJlbnRBcmVhTmFtZTogc3RyaW5nO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgZGVwdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB3YWxsczogKG51bWJlciB8IGFueSlbXTtcbiAgICAvLyBwb3NpdGlvbjogeCx5LHosZmFjZVxuICAgIC8vIHRhcmdldDogbGV2ZWwseCx5LHpcbiAgICBkb29yczogTGV2ZWxEb29yRGF0YVtdO1xuICAgIG9iamVjdHM6IHsgdHlwZTogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyW10gfVtdO1xuICAgIG5wY3M6IHsgdHlwZTogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyW10gfVtdO1xuICAgIHN0YXJ0aW5nUG9zaXRpb246IG51bWJlcltdO1xuICAgIHN0YXJ0aW5nRmFjaW5nOiBudW1iZXI7XG4gICAgb3V0c2lkZTogYm9vbGVhbjtcbiAgICBza3lib3g6IG51bWJlcjtcbn1cbmV4cG9ydCBjbGFzcyBQYXJ0eURhdGEge1xuICAgIGNoYXJhY3RlcnM6IENoYXJhY3RlckRhdGFbXTtcbiAgICBnb2xkOiBudW1iZXI7XG59XG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyRGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgcG9ydHJhaXQ6IG51bWJlcjtcbiAgICBlcXVpcG1lbnQ6IG51bWJlcltdO1xuICAgIGxldmVsOiBudW1iZXJcbiAgICB4cDogbnVtYmVyXG4gICAgaHA6IG51bWJlcjtcbiAgICBtYXhIUDogbnVtYmVyO1xuICAgIG1hbmE6IG51bWJlcjtcbiAgICBtYXhNYW5hOiBudW1iZXI7XG4gICAgc3BlbGxMaXN0czogeyBsaXN0OiBudW1iZXIsIHNwZWxsczogbnVtYmVyW10gfVtdXG5cbn1cbmV4cG9ydCBjbGFzcyBQbGF5ZXJEYXRhIHsgcG9zaXRpb246IG51bWJlcltdOyBmYWNpbmc6IG51bWJlcjsgbGV2ZWw6IG51bWJlcjsgfVxuZXhwb3J0IGNsYXNzIFVJRGF0YSB7IGhvdXJnbGFzc0ljb246IHN0cmluZzsgY2hhclNoZWV0SWNvbjogc3RyaW5nOyBxdWlja0l0ZW1UYWJJY29uOiBzdHJpbmc7IH07XG5leHBvcnQgY2xhc3MgSXRlbURhdGEgeyB0eXBlOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgfVxuZXhwb3J0IGNsYXNzIFdlYXBvbkl0ZW1EYXRhIGV4dGVuZHMgSXRlbURhdGEgeyBkYW1hZ2U6IHN0cmluZzsgdG9IaXQ6IG51bWJlcjsgcmFuZ2U6IG51bWJlciB9XG5leHBvcnQgY2xhc3MgU3BlbGxMaXN0RGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNwZWxsczogU3BlbGxEYXRhW107XG4gICAgaWNvbjogc3RyaW5nO1xufVxuZXhwb3J0IGNsYXNzIFNwZWxsRGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGJhc2VEZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIGxldmVsMkRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgbGV2ZWwzRGVzY3JpcHRpb246IHN0cmluZztcbiAgICBpY29uOiBzdHJpbmc7XG5cbn1cbmV4cG9ydCBjbGFzcyBEb29yRGF0YSB7ZmlsZW5hbWU6IHN0cmluZzsgbm9ybWFsTWFwOiBzdHJpbmc7IGFscGhhTWFwOiBzdHJpbmc7IH1cbmV4cG9ydCBjbGFzcyBMZXZlbERvb3JEYXRhIHsgdHlwZTogbnVtYmVyOyBwb3NpdGlvbjogbnVtYmVyW107IHRhcmdldDogbnVtYmVyW107IG9wZW5BbmdsZTogbnVtYmVyOyB9IiwiaW1wb3J0IE9ic2VydmVyVmFyaWFibGUgZnJvbSBcImVuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGVcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiZW5naW5lL3V0aWwvRXZlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQWN0b3JNb2RlbFxue1xuICAgIGhpdHBvaW50czogT2JzZXJ2ZXJWYXJpYWJsZTxudW1iZXI+O1xuICAgIG1heEhpdHBvaW50czogT2JzZXJ2ZXJWYXJpYWJsZTxudW1iZXI+O1xuXG4gICAgb25UYWtlRGFtYWdlOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuXG4gICAgcm9sbEluaXRpYXRpdmUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo1KTtcbiAgICB9XG5cbiAgICB0YWtlRGFtYWdlKGRhbWFnZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5oaXRwb2ludHMudmFsdWUgLT0gZGFtYWdlO1xuICAgICAgICB0aGlzLmNoZWNrSGVhbHRoU3RhdGUoKTtcbiAgICAgICAgdGhpcy5vblRha2VEYW1hZ2UuY2FsbCgpO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGNoZWNrSGVhbHRoU3RhdGUoKTtcbn0iLCJpbXBvcnQgeyBQb3J0cmFpdERhdGEsIENoYXJhY3RlckRhdGEsIEdhbWVEYXRhLCBXZWFwb25JdGVtRGF0YSB9IGZyb20gXCIuLi9kYXRhXCI7XG5pbXBvcnQgQWN0b3JNb2RlbCBmcm9tIFwiLi9BY3Rvck1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4vYWN0aW9uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4vYWN0aW9uL0FjdGlvbk1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuL0dhbWVNb2RlbFwiO1xuaW1wb3J0IEVxdWlwbWVudE1vZGVsIGZyb20gXCIuL0VxdWlwbWVudE1vZGVsXCI7XG5pbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IExvb3RBY3Rpb25Nb2RlbCBmcm9tIFwiLi9hY3Rpb24vTG9vdEFjdGlvbk1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4vYWN0aW9uL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgQXR0YWNrQWN0aW9uTW9kZWwgZnJvbSBcIi4vYWN0aW9uL0F0dGFja0FjdGlvbk1vZGVsXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi9TdGF0dXNcIjtcbmltcG9ydCBTcGVsbExpc3QgZnJvbSBcIi4vU3BlbGxMaXN0XCI7XG5pbXBvcnQgT3BlbkRvb3JBY3Rpb25Nb2RlbCBmcm9tIFwiLi9hY3Rpb24vT3BlbkRvb3JBY3Rpb25Nb2RlbFwiO1xuXG5leHBvcnQgZW51bSBIZWFsdGhTdGF0ZSB7IE5vcm1hbCwgVW5jb25zaW91cywgRGVhZCB9XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXJhY3Rlck1vZGVsIGV4dGVuZHMgQWN0b3JNb2RlbCBpbXBsZW1lbnRzIEFjdGlvblNvdXJjZU1vZGVsLCBBY3Rpb25UYXJnZXRNb2RlbFxue1xuICAgIHBvcnRyYWl0VHlwZTogUG9ydHJhaXREYXRhO1xuICAgIGNoYXJhY3RlckRhdGE6IENoYXJhY3RlckRhdGE7XG4gICAgdW5sb2NrZWRBY3Rpb25zOiBBY3Rpb25Nb2RlbFtdID0gW107XG4gICAgZXF1aXBtZW50TW9kZWw6IEVxdWlwbWVudE1vZGVsO1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuXG4gICAgaGVhbHRoU3RhdGU6IE9ic2VydmVyVmFyaWFibGU8SGVhbHRoU3RhdGU+O1xuICAgIG1hbmE6IE9ic2VydmVyVmFyaWFibGU8bnVtYmVyPjtcbiAgICBtYXhNYW5hOiBPYnNlcnZlclZhcmlhYmxlPG51bWJlcj47XG4gICAgbGV2ZWw6IG51bWJlcjtcbiAgICB4cDogbnVtYmVyO1xuICAgIHN0YXR1c2VzOiBTdGF0dXNbXSA9IFtdO1xuICAgIHNwZWxsTGlzdHM6IFNwZWxsTGlzdFtdID0gW107XG5cbiAgICBnZXQgZnVsbE5hbWUoKSB7IHJldHVybiB0aGlzLmNoYXJhY3RlckRhdGEubmFtZSArIFwiIHRoZSBcIiArIHRoaXMuY2hhcmFjdGVyRGF0YS50aXRsZTsgfVxuXG4gICAgY29uc3RydWN0b3IoZ2FtZURhdGE6IEdhbWVEYXRhLCBkYXRhOiBDaGFyYWN0ZXJEYXRhKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJEYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5wb3J0cmFpdFR5cGUgPSBnYW1lRGF0YS5wb3J0cmFpdHNbZGF0YS5wb3J0cmFpdF07XG4gICAgfVxuXG4gICAgc2F2ZShnYW1lRGF0YTogR2FtZURhdGEsIGNoYXJhY3RlckRhdGE6IENoYXJhY3RlckRhdGEpXG4gICAge1xuICAgICAgICBjaGFyYWN0ZXJEYXRhLmhwID0gdGhpcy5oaXRwb2ludHMudmFsdWU7XG4gICAgICAgIGNoYXJhY3RlckRhdGEubWFuYSA9IHRoaXMubWFuYS52YWx1ZTtcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5tYXhIUCA9IHRoaXMubWF4SGl0cG9pbnRzLnZhbHVlO1xuICAgICAgICBjaGFyYWN0ZXJEYXRhLm1heE1hbmEgPSB0aGlzLm1heE1hbmEudmFsdWU7XG4gICAgICAgIGNoYXJhY3RlckRhdGEubGV2ZWwgPSB0aGlzLmxldmVsO1xuICAgICAgICBjaGFyYWN0ZXJEYXRhLnhwID0gdGhpcy54cDtcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5wb3J0cmFpdCA9IGdhbWVEYXRhLnBvcnRyYWl0cy5pbmRleE9mKHRoaXMucG9ydHJhaXRUeXBlKTtcbiAgICB9XG5cbiAgICBnZXQgc3RhdHVzVGV4dCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuTm9ybWFsKVxuICAgICAgICAgICAgcmV0dXJuIFwiR29vZFwiOyAgIFxuICAgICAgICBpZiAodGhpcy5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuVW5jb25zaW91cylcbiAgICAgICAgICAgIHJldHVybiBcIlVuY29uc2lvdXNcIjsgICAgXG4gICAgICAgIGlmICh0aGlzLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5EZWFkKVxuICAgICAgICAgICAgcmV0dXJuIFwiRGVhZFwiOyAgIFxuICAgIH1cblxuICAgIGdldFBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uOyB9XG5cbiAgICBjcmVhdGUoZ2FtZU1vZGVsOkdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMuZXF1aXBtZW50TW9kZWwgPSBuZXcgRXF1aXBtZW50TW9kZWwoKVxuICAgICAgICB0aGlzLm1heEhpdHBvaW50cyA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKHRoaXMuY2hhcmFjdGVyRGF0YS5tYXhIUCk7XG4gICAgICAgIHRoaXMuaGl0cG9pbnRzID0gbmV3IE9ic2VydmVyVmFyaWFibGUodGhpcy5jaGFyYWN0ZXJEYXRhLmhwKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgICAgIHRoaXMuaGVhbHRoU3RhdGUgPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZShIZWFsdGhTdGF0ZS5Ob3JtYWwpO1xuICAgICAgICB0aGlzLmNoZWNrSGVhbHRoU3RhdGUoZmFsc2UpO1xuICAgICAgICB0aGlzLm1hbmEgPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZSh0aGlzLmNoYXJhY3RlckRhdGEubWFuYSk7XG4gICAgICAgIHRoaXMubWF4TWFuYSA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKHRoaXMuY2hhcmFjdGVyRGF0YS5tYXhNYW5hKTtcbiAgICAgICAgdGhpcy5sZXZlbCA9IHRoaXMuY2hhcmFjdGVyRGF0YS5sZXZlbDtcbiAgICAgICAgdGhpcy54cCA9IHRoaXMuY2hhcmFjdGVyRGF0YS54cDtcblxuICAgICAgICB0aGlzLmNoYXJhY3RlckRhdGEuc3BlbGxMaXN0cy5mb3JFYWNoKGwgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgc3BlbGxzID0gW107XG4gICAgICAgICAgICAgICAgbC5zcGVsbHMuZm9yRWFjaChzID0+XG4gICAgICAgICAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzcGVsbERhdGEgPSB0aGlzLmdhbWVNb2RlbC5kYXRhLnNwZWxsTGlzdHNbbC5saXN0XS5zcGVsbHNbc107XG4gICAgICAgICAgICAgICAgICAgICAgICBzcGVsbHMucHVzaChTcGVsbExpc3QuZ2V0U3BlbGwoc3BlbGxEYXRhLCB0aGlzLmdhbWVNb2RlbCkpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGxldCBzbCA9IG5ldyBTcGVsbExpc3QodGhpcy5nYW1lTW9kZWwuZGF0YS5zcGVsbExpc3RzW2wubGlzdF0ubmFtZSwgc3BlbGxzLCB0aGlzLmdhbWVNb2RlbC5kYXRhLnNwZWxsTGlzdHNbbC5saXN0XS5pY29uKVxuICAgICAgICAgICAgICAgIHRoaXMuc3BlbGxMaXN0cy5wdXNoKHNsKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZXF1aXBtZW50TW9kZWwuY3JlYXRlKHRoaXMuY2hhcmFjdGVyRGF0YS5lcXVpcG1lbnQsIGdhbWVNb2RlbCk7XG4gICAgICAgIGlmICh0aGlzLmVxdWlwbWVudE1vZGVsLmVxdWlwZWRXZWFwb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB3ZWFwb24gPSAodGhpcy5lcXVpcG1lbnRNb2RlbC5lcXVpcGVkV2VhcG9uLml0ZW1EYXRhIGFzIFdlYXBvbkl0ZW1EYXRhKTtcbiAgICAgICAgICAgIHRoaXMudW5sb2NrZWRBY3Rpb25zLnB1c2gobmV3IEF0dGFja0FjdGlvbk1vZGVsKHRoaXMuZ2FtZU1vZGVsLCB0aGlzLmVxdWlwbWVudE1vZGVsLmVxdWlwZWRXZWFwb24ubmFtZSwgd2VhcG9uLmRhbWFnZSwgd2VhcG9uLnJhbmdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy51bmxvY2tlZEFjdGlvbnMucHVzaChuZXcgQXR0YWNrQWN0aW9uTW9kZWwodGhpcy5nYW1lTW9kZWwsIFwiVW5hcm1lZFwiLCBcIjFkNFwiLCAxKSk7XG4gICAgICAgIHRoaXMudW5sb2NrZWRBY3Rpb25zLnB1c2gobmV3IExvb3RBY3Rpb25Nb2RlbCh0aGlzLmdhbWVNb2RlbCkpXG4gICAgICAgIHRoaXMudW5sb2NrZWRBY3Rpb25zLnB1c2gobmV3IE9wZW5Eb29yQWN0aW9uTW9kZWwodGhpcy5nYW1lTW9kZWwpKVxuXG4gICAgICAgIHRoaXMuaGl0cG9pbnRzLm9uVXBkYXRlLnB1c2godGhpcy5jaGVja0hlYWx0aFN0YXRlLmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIGNoZWNrSGVhbHRoU3RhdGUodXBkYXRlUGFydHk/OiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaGl0cG9pbnRzLnZhbHVlIDw9IDApXG4gICAgICAgICAgICB0aGlzLmhlYWx0aFN0YXRlLnZhbHVlID0gSGVhbHRoU3RhdGUuVW5jb25zaW91cztcbiAgICAgICAgaWYgKHRoaXMuaGl0cG9pbnRzLnZhbHVlIDw9IC10aGlzLm1heEhpdHBvaW50cy52YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5oZWFsdGhTdGF0ZS52YWx1ZSA9IEhlYWx0aFN0YXRlLkRlYWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c2VzLnB1c2gobmV3IFN0YXR1cyhTdGF0dXNUeXBlLkRlYWQpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlUGFydHkgfHwgdXBkYXRlUGFydHkgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmNoZWNrSGVhbHRoU3RhdGUoKTtcbiAgICB9XG5cbiAgICBhdmFpbGFibGVBY3Rpb25zKHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25Nb2RlbFtdXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmxvY2tlZEFjdGlvbnMuZmlsdGVyKGEgPT4gYS50ZXN0KHRoaXMsIHRhcmdldCkpXG4gICAgfVxufSIsImltcG9ydCBJdGVtTW9kZWwgZnJvbSBcIi4vSXRlbU1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuL0dhbWVNb2RlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFcXVpcG1lbnRNb2RlbFxue1xuICAgIGVxdWlwbWVudDogSXRlbU1vZGVsW10gPSBbXTtcbiAgICBlcXVpcGVkV2VhcG9uOiBJdGVtTW9kZWw7XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBjcmVhdGUoZXF1aXBtZW50SURzOiBudW1iZXJbXSwgZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgZXF1aXBtZW50SURzLmZvckVhY2goaWQgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVxdWlwbWVudC5wdXNoKG5ldyBJdGVtTW9kZWwoZ2FtZU1vZGVsLmRhdGEuZXF1aXBtZW50W2lkXSkpXG4gICAgICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IFBhcnR5TW9kZWwgZnJvbSBcIi4vUGFydHlNb2RlbFwiO1xuaW1wb3J0IFdvcmxkTW9kZWwgZnJvbSBcIi4vd29ybGQvV29ybGRNb2RlbFwiO1xuaW1wb3J0IFBsYXllck1vZGVsLCB7IEZhY2luZyB9IGZyb20gXCIuL1BsYXllck1vZGVsXCI7XG5pbXBvcnQgeyBHYW1lRGF0YSwgV2FsbERhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuaW1wb3J0IEluaXRpYXRpdmVNb2RlbCBmcm9tIFwiLi9hY3Rpb24vSW5pdGlhdGl2ZU1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4vQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Nb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBMZXZlbE1vZGVsIGZyb20gXCIuL3dvcmxkL0xldmVsTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi93b3JsZC9OUENNb2RlbFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCJlbmdpbmUvdXRpbC9FdmVudFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgV2FsbE1vZGVsIGZyb20gXCIuL3dvcmxkL1dhbGxNb2RlbFwiO1xuaW1wb3J0IFNwZWxsTGlzdCBmcm9tIFwiLi9TcGVsbExpc3RcIjtcbmltcG9ydCBTcGVsbCBmcm9tIFwiLi9TcGVsbFwiO1xuaW1wb3J0IERvb3JNb2RlbCBmcm9tIFwiLi93b3JsZC9Eb29yTW9kZWxcIjtcbmltcG9ydCBTdGF0dXMgZnJvbSBcIi4vU3RhdHVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVNb2RlbFxue1xuICAgIHBhcnR5OiBQYXJ0eU1vZGVsO1xuICAgIHdvcmxkOiBXb3JsZE1vZGVsO1xuICAgIHBsYXllcjogUGxheWVyTW9kZWw7XG4gICAgZGF0YTogR2FtZURhdGE7XG4gICAgaW5pdGlhdGl2ZTogSW5pdGlhdGl2ZU1vZGVsO1xuXG4gICAgc3BlbGxMaXN0czogU3BlbGxMaXN0W10gPSBbXTtcblxuICAgIGxpc3RlbmVyOiBHYW1lTW9kZWxMaXN0ZW5lcjtcblxuICAgIGluZm9UZXh0OiBPYnNlcnZlclZhcmlhYmxlPHN0cmluZz4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZShcIlwiKTtcbiAgICBjdXJyZW50TGV2ZWxFZGl0V2FsbERhdGE6IFdhbGxEYXRhO1xuXG4gICAgcHJpdmF0ZSBfY3VycmVudFBhaW50SUQ6IG51bWJlciA9IDA7XG5cblxuICAgIGNvbnN0cnVjdG9yKGxpc3RlbmVyOiBHYW1lTW9kZWxMaXN0ZW5lciwgcGFydHk6IFBhcnR5TW9kZWwsIHdvcmxkOiBXb3JsZE1vZGVsLCBwbGF5ZXI6IFBsYXllck1vZGVsLCBkYXRhOiBHYW1lRGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5wYXJ0eSA9IHBhcnR5O1xuICAgICAgICB0aGlzLndvcmxkID0gd29ybGQ7XG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUgPSBuZXcgSW5pdGlhdGl2ZU1vZGVsKCk7XG4gICAgfVxuICAgIFxuICAgIGdldCBjdXJyZW50UGFpbnRJRCgpIHsgcmV0dXJuIHRoaXMuX2N1cnJlbnRQYWludElEOyB9XG4gICAgc2V0IGN1cnJlbnRQYWludElEKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRQYWludElEID0gdmFsICUgdGhpcy5kYXRhLndhbGxzLmxlbmd0aDtcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRQYWludElEIDwgMClcbiAgICAgICAgdGhpcy5fY3VycmVudFBhaW50SUQgPSB0aGlzLmRhdGEud2FsbHMubGVuZ3RoICsgdGhpcy5jdXJyZW50UGFpbnRJRDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJ0eS5jcmVhdGUodGhpcy5kYXRhLCB0aGlzKTtcbiAgICAgICAgdGhpcy53b3JsZC5jcmVhdGUodGhpcyk7XG4gICAgICAgIHRoaXMucGxheWVyLmNyZWF0ZSh0aGlzLCB0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUuY3JlYXRlKHRoaXMsIHRoaXMucGFydHkpO1xuICAgIH1cblxuICAgIHNhdmUoKVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZC5zYXZlKHRoaXMuZGF0YSk7XG4gICAgICAgIHRoaXMucGFydHkuc2F2ZSh0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLnBsYXllci5zYXZlKHRoaXMuZGF0YSk7XG4gICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YS5sZXZlbHNbdGhpcy53b3JsZC5jdXJyZW50TGV2ZWxJRF0ud2FsbHMpKTtcbiAgICB9XG5cbiAgICB0dXJuTGVmdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhblR1cm4pXG4gICAgICAgICAgICB0aGlzLnBsYXllci50dXJuTGVmdCgpO1xuICAgIH1cblxuICAgIHJvdGF0ZUxlZnQoYW5nbGU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuVHVybikvLyAmJiAoIXRoaXMucGxheWVyLmFuaW1hdGluZykpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5yb3RhdGVMZWZ0KGFuZ2xlKTtcbiAgICB9XG5cbiAgICByb3RhdGVSaWdodChhbmdsZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5UdXJuKSAvLyYmICghdGhpcy5wbGF5ZXIuYW5pbWF0aW5nKSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJvdGF0ZVJpZ2h0KGFuZ2xlKTtcbiAgICB9XG5cbiAgICBqdW1wKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwianVtcFwiKTtcbiAgICB9XG5cbiAgICBjcm91Y2goKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJjcm91Y2hcIik7XG4gICAgfVxuXG4gICAgc2xpZGVSaWdodChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2xpZGVSaWdodChkaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgc2xpZGVMZWZ0KGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNsaWRlUmlnaHQoLWRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICBzbGlkZVVwd2FyZChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2xpZGVVcHdhcmQoZGlzdGFuY2UpO1xuICAgIH1cblxuICAgIHNsaWRlRG93bndhcmQoZGlzdGFuY2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNsaWRlVXB3YXJkKC1kaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgc2xpZGVGb3J3YXJkKGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zbGlkZUZvcndhcmQoZGlzdGFuY2UpO1xuICAgIH1cblxuICAgIHNsaWRlQmFja3dhcmQoZGlzdGFuY2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNsaWRlRm9yd2FyZCgtZGlzdGFuY2UpO1xuICAgIH1cblxuICAgIHR1cm5SaWdodCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhblR1cm4pXG4gICAgICAgICAgICB0aGlzLnBsYXllci50dXJuUmlnaHQoKTtcbiAgICB9XG5cbiAgICByZXNldFJvdGF0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25UdXJuLmNhbGwoKTtcbiAgICB9XG5cbiAgICByZXNldFBvc2l0aW9uKClcbiAgICB7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25Nb3ZlLmNhbGwoKTtcbiAgICB9XG5cbiAgICBzdHJhZmVMZWZ0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnBsYXllci5zdHJhZmVMZWZ0KCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoIShzdGFydC5lcXVhbHMoZW5kKSkpXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLm1vdmVQYXJ0eShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0cmFmZVJpZ2h0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnBsYXllci5zdHJhZmVSaWdodCgpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCEoc3RhcnQuZXF1YWxzKGVuZCkpKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5tb3ZlUGFydHkoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlRm9yd2FyZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZUZvcndhcmQoKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmICghKHN0YXJ0LmVxdWFscyhlbmQpKSlcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmUubW92ZVBhcnR5KHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZUJhY2t3YXJkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlQmFja3dhcmQoKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmICghKHN0YXJ0LmVxdWFscyhlbmQpKSlcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmUubW92ZVBhcnR5KHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG92ZXJVcCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuaG92ZXJVcCgpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCEoc3RhcnQuZXF1YWxzKGVuZCkpKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5tb3ZlUGFydHkoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBob3ZlckRvd24oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmhvdmVyRG93bigpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCEoc3RhcnQuZXF1YWxzKGVuZCkpKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5tb3ZlUGFydHkoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYXN0U3BlbGwoc3BlbGw6IFNwZWxsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IHNvdXJjZSA9IHRoaXMuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlO1xuICAgICAgICBpZiAoc3BlbGwudGVzdChzb3VyY2UsIHRhcmdldCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnBlcmZvcm1BY3Rpb24odGFyZ2V0LCBzcGVsbCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5hcHBseSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoTGV2ZWwobGV2ZWw6IExldmVsTW9kZWwsIHBvc2l0aW9uPzogUG9pbnQzLCBmYWNpbmc/OiBGYWNpbmcpXG4gICAge1xuICAgICAgICBcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vbkV4aXRMZXZlbC5jYWxsKCk7XG4gICAgICAgIHRoaXMud29ybGQuc3dpdGNoVG9MZXZlbChsZXZlbCk7XG4gICAgICAgIGlmIChwb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnBvc2l0aW9uID0gbGV2ZWwuc3RhcnRpbmdQb3NpdGlvbjtcbiAgICAgICAgaWYgKGZhY2luZylcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmZhY2luZyA9IGZhY2luZztcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZmFjaW5nID0gbGV2ZWwuc3RhcnRpbmdGYWNpbmc7XG4gICAgICAgIHRoaXMucGxheWVyLnVwZGF0ZVJvdGF0aW9uVG9NYXRjaEZhY2luZygpO1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUucmVzZXQoKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblN3aXRjaExldmVsLmNhbGwoKTtcbiAgICB9XG5cbiAgICBvcGVuRG9vcihkb29yOiBEb29yTW9kZWwpXG4gICAge1xuICAgICAgICBpZiAoZG9vci50YXJnZXRMZXZlbCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hMZXZlbCh0aGlzLndvcmxkLmxldmVsc1tkb29yLnRhcmdldExldmVsXSwgZG9vci50YXJnZXRQb3NpdGlvbiwgZG9vci50YXJnZXRGYWNpbmcpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRvb3IuY2hhbmdlT3BlblN0YXRlKCk7XG4gICAgfVxuXG4gICAgdG9nZ2xlV2FsbEFib3ZlKClcbiAgICB7XG4gICAgICAgIHRoaXMudG9nZ2xlV2FsbCg1KTtcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsQmVsb3coKVxuICAgIHtcbiAgICAgICAgdGhpcy50b2dnbGVXYWxsKDQpO1xuICAgIH1cblxuICAgIHRvZ2dsZVdhbGxGcm9udCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMCk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDEpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMik7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDMpO1xuICAgICAgICBcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsQmVoaW5kKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgyKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMyk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgwKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlV2FsbExlZnQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDMpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgwKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDEpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgyKTtcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsUmlnaHQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDEpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgyKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDMpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgwKTtcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsKGlkKVxuICAgIHtcbiAgICAgICAgaWYgKGlkID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlV2FsbDIoMCwgMiwgMCwgMCwgLTEpO1xuICAgICAgICBlbHNlIGlmIChpZCA9PT0gMSlcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVdhbGwyKDEsIDMsIDEsIDAsIDApO1xuICAgICAgICBlbHNlIGlmIChpZCA9PT0gMilcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVdhbGwyKDIsIDAsIDAsIDAsIDEpO1xuICAgICAgICBlbHNlIGlmIChpZCA9PT0gMylcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVdhbGwyKDMsIDEsIC0xLCAwLCAwKTtcbiAgICAgICAgZWxzZSBpZiAoaWQgPT09IDQpXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVXYWxsMig0LCA1LCAwLCAtMSwgMCk7XG4gICAgICAgIGVsc2UgaWYgKGlkID09PSA1KVxuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlV2FsbDIoNSwgNCwgMCwgMSwgMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdG9nZ2xlV2FsbDIoaWQ6IG51bWJlciwgaWRDZWxsMjogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IGN1cnJlbnRDZWxsID0gdGhpcy53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wbGF5ZXIucG9zaXRpb24ueF1bdGhpcy5wbGF5ZXIucG9zaXRpb24ueV1bdGhpcy5wbGF5ZXIucG9zaXRpb24uel07XG4gICAgICAgIGN1cnJlbnRDZWxsLndhbGxzW2lkXS5oaWRkZW4udmFsdWUgPSAhY3VycmVudENlbGwud2FsbHNbaWRdLmhpZGRlbi52YWx1ZTtcbiAgICAgICAgaWYgKCh0aGlzLnBsYXllci5wb3NpdGlvbi54K3ggPj0gMCkgJiYgKCB0aGlzLnBsYXllci5wb3NpdGlvbi54K3ggPCB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS53aWR0aCkpXG4gICAgICAgICAgICBpZiAoKHRoaXMucGxheWVyLnBvc2l0aW9uLnkreSA+PSAwKSAmJiAoIHRoaXMucGxheWVyLnBvc2l0aW9uLnkreSA8IHRoaXMud29ybGQuY3VycmVudExldmVsLnZhbHVlLmhlaWdodCkpXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnBsYXllci5wb3NpdGlvbi56K3ogPj0gMCkgJiYgKCB0aGlzLnBsYXllci5wb3NpdGlvbi56K3ogPCB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5kZXB0aCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbDIgPSB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBsYXllci5wb3NpdGlvbi54K3hdW3RoaXMucGxheWVyLnBvc2l0aW9uLnkreV1bdGhpcy5wbGF5ZXIucG9zaXRpb24ueit6XTtcbiAgICAgICAgICAgICAgICAgICAgY2VsbDIud2FsbHNbaWRDZWxsMl0uaGlkZGVuLnZhbHVlID0gY3VycmVudENlbGwud2FsbHNbaWRdLmhpZGRlbi52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25Xb3JsZENoYW5nZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgcGFpbnRXYWxsKHdhbGxNb2RlbDogV2FsbE1vZGVsKVxuICAgIHtcbiAgICAgICAgLypsZXQgaSA9IHRoaXMuZGF0YS53YWxscy5pbmRleE9mKHdhbGxNb2RlbC53YWxsRGF0YS52YWx1ZSlcbiAgICAgICAgaWYgKGkgIT09IC0xKVxuICAgICAgICAgICAgaSA9IChpICsgMSkgJSB0aGlzLmRhdGEud2FsbHMubGVuZ3RoKi9cbiAgICAgICAgd2FsbE1vZGVsLndhbGxEYXRhLnZhbHVlID0gdGhpcy5kYXRhLndhbGxzW3RoaXMuY3VycmVudFBhaW50SURdO1xuICAgIH1cblxuICAgIHN3aXRjaENoYXJhY3RlcihjaGFyYWN0ZXI6IENoYXJhY3Rlck1vZGVsKVxuICAgIHsgXG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuQWN0KVxuICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLnN3aXRjaENoYXJhY3RlcihjaGFyYWN0ZXIpO1xuICAgIH1cblxuICAgIHBlcmZvcm1BY3Rpb24odGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCwgYWN0aW9uOiBBY3Rpb25Nb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbkFjdClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNvdXJjZSA9IHRoaXMuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlO1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGFjdGlvbi5wZXJmb3JtKHNvdXJjZSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5wZXJmb3JtZWRBY3Rpb24oc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBucGNQZXJmb3JtQWN0aW9uKHNvdXJjZTogTlBDTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwsIGFjdGlvbjogQWN0aW9uTW9kZWwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLm5wY3NUb0FjdC52YWx1ZS5pbmRleE9mKHNvdXJjZSkgIT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYWN0aW9uLnBlcmZvcm0oc291cmNlLCB0YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLnBlcmZvcm1lZEFjdGlvbihzb3VyY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIG5wY0RlbGF5KG5wYzogTlBDTW9kZWwsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghbnBjKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGRlbGF5IG51bGwgTlBDXCIpO1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUubnBjRGVsYXkobnBjLCB0aW1lKTtcbiAgICB9XG5cbiAgICBhcHBseUFjdGlvblJlc3VsdChhY3Rpb25SZXN1bHQ6IEFjdGlvblJlc3VsdE1vZGVsKVxuICAgIHtcbiAgICAgICAgYWN0aW9uUmVzdWx0LmFwcGx5KCk7XG4gICAgfVxuXG4gICAgdHJhdmVsVG8obGV2ZWw6IExldmVsTW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkLnN3aXRjaFRvTGV2ZWwobGV2ZWwpO1xuICAgICAgICB0aGlzLnBsYXllci5wb3NpdGlvbiA9IGxldmVsLnN0YXJ0aW5nUG9zaXRpb247XG4gICAgICAgIHRoaXMucGxheWVyLmZhY2luZyA9IGxldmVsLnN0YXJ0aW5nRmFjaW5nO1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUucmVzZXQoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcm9sbERpY2UoZGljZVNwZWM6IHN0cmluZyk6IG51bWJlclxuICAgIHtcbiAgICAgICAgLy9UT0RPOiBoYW5kbGUgbWludXNcbiAgICAgICAgLy9kaWNlU3BlYyA9IGRpY2VTcGVjLnJlcGxhY2UoL1xcdy9nLCcnKTtcbiAgICAgICAgbGV0IHBhcnRzID0gZGljZVNwZWMuc3BsaXQoXCIrXCIpO1xuICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgcGFydHMuZm9yRWFjaChwID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1bSArPSBHYW1lTW9kZWwucm9sbFNpbXBsZURpY2UocCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1bVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHJvbGxTaW1wbGVEaWNlKHNpbXBsZURpY2VTcGVjOiBzdHJpbmcpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGxldCBwYXJ0cyA9IHNpbXBsZURpY2VTcGVjLnNwbGl0KFwiZFwiKTtcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChwYXJ0c1swXSk7XG4gICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHBhcnNlSW50KHBhcnRzWzBdKTtpKyspXG4gICAgICAgICAgICB0b3RhbCArPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqKHBhcnNlSW50KHBhcnRzWzFdKS0xKSkgKyAxO1xuICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgfVxuXG4gICAgaXNXaXRoaW5NZWxlZShzb3VyY2U6IFBvaW50MywgdGFyZ2V0OiBQb2ludDMgKVxuICAgIHtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gUG9pbnQzLm1pbnVzKHRhcmdldCwgc291cmNlKS5tYWduaXR1ZGU7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVNb2RlbExpc3RlbmVyXG57XG4gICAgb25Nb3ZlOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIG9uVHVybjogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICBvbldvcmxkQ2hhbmdlOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIG9uU2hvd01pbmlNYXBDaGFuZ2U6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgb25FeGl0TGV2ZWw6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgb25Td2l0Y2hMZXZlbDogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbn1cbiIsImltcG9ydCB7IEl0ZW1EYXRhIH0gZnJvbSBcIi4uL2RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbU1vZGVsXG57XG4gICAgaXRlbURhdGE6IEl0ZW1EYXRhO1xuXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLml0ZW1EYXRhLm5hbWU7IH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIHRoaXMuaXRlbURhdGEudHlwZTsgfVxuXG4gICAgY29uc3RydWN0b3IoaXRlbURhdGE6IEl0ZW1EYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtRGF0YSA9IGl0ZW1EYXRhO1xuICAgIH1cbn0iLCJpbXBvcnQgQ2hhcmFjdGVyTW9kZWwsIHsgSGVhbHRoU3RhdGUgfSBmcm9tIFwiLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi9TdGF0dXNcIjtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0eU1vZGVsXG57XG4gICAgY2hhcmFjdGVyczogQ2hhcmFjdGVyTW9kZWxbXTtcbiAgICBnb2xkOiBPYnNlcnZlclZhcmlhYmxlPG51bWJlcj47XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgbW92ZVJlY292ZXJ5VGltZTogMTtcbiAgICBwYXJ0eURlYWQ6IGJvb2xlYW47XG4gICAgc3RhdHVzZXM6IE9ic2VydmVyVmFyaWFibGU8U3RhdHVzW10+O1xuXG4gICAgY3JlYXRlKGRhdGE6IEdhbWVEYXRhLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLmNoYXJhY3RlcnMgPSBbXTtcbiAgICAgICAgZGF0YS5wYXJ0eS5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PiB0aGlzLmNoYXJhY3RlcnMucHVzaChuZXcgQ2hhcmFjdGVyTW9kZWwoZGF0YSwgYykpKTtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PiBjLmNyZWF0ZShnYW1lTW9kZWwpKTtcbiAgICAgICAgdGhpcy5nb2xkID0gbmV3IE9ic2VydmVyVmFyaWFibGUoZGF0YS5wYXJ0eS5nb2xkKTtcbiAgICAgICAgdGhpcy5zdGF0dXNlcyA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKFtdKTtcbiAgICB9XG5cbiAgICBzYXZlKGRhdGE6IEdhbWVEYXRhKVxuICAgIHtcbiAgICAgICAgZGF0YS5wYXJ0eS5nb2xkID0gdGhpcy5nb2xkLnZhbHVlO1xuICAgICAgICBsZXQgY2hhcmFjdGVycyA9IFtdO1xuICAgICAgICB0aGlzLmNoYXJhY3RlcnMuZm9yRWFjaChjID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMuc2F2ZShkYXRhLCBjLmNoYXJhY3RlckRhdGEpXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVycy5wdXNoKGMuY2hhcmFjdGVyRGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZGF0YS5wYXJ0eS5jaGFyYWN0ZXJzID0gY2hhcmFjdGVycztcbiAgICB9XG5cblxuICAgIGFkZFN0YXR1cyhzdGF0dXM6IFN0YXR1cylcbiAgICB7XG4gICAgICAgIGxldCBuZXdTdGF0dXNlcyA9IHRoaXMuZ2FtZU1vZGVsLnBhcnR5LnN0YXR1c2VzLnZhbHVlLmZpbHRlcihzID0+IHMuc3RhdHVzVHlwZSAhPT0gc3RhdHVzLnN0YXR1c1R5cGUpXG4gICAgICAgIG5ld1N0YXR1c2VzLnB1c2goc3RhdHVzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUgPSBuZXdTdGF0dXNlcztcbiAgICB9XG5cblxuICAgIGdhaW5Hb2xkKGluY3JlbWVudDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5nb2xkLnZhbHVlICs9IGluY3JlbWVudDtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5mb1RleHQudmFsdWUgPSBcIllvdSBnYWluZWQgXCIrIGluY3JlbWVudCtcIiBncFwiO1xuICAgIH1cblxuICAgIGNoZWNrSGVhbHRoU3RhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IGxpdmluZ0NoYXJzID0gdGhpcy5jaGFyYWN0ZXJzLmZpbHRlcihjID0+IGMuaGVhbHRoU3RhdGUudmFsdWUgPT09IEhlYWx0aFN0YXRlLk5vcm1hbClcbiAgICAgICAgaWYgKGxpdmluZ0NoYXJzLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJ0eURlYWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGxheWVyLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuL0dhbWVNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi9TdGF0dXNcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiZW5naW5lL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcblxuZXhwb3J0IGVudW0gRmFjaW5nIHsgTm9ydGgsIE5vcnRoRWFzdCwgRWFzdCwgU291dGhFYXN0LCBTb3V0aCwgU291dGhXZXN0LCBXZXN0LCBOb3J0aFdlc3R9XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllck1vZGVsXG57XG4gICAgZmFjaW5nOiBGYWNpbmc7XG4gICAgcG9zaXRpb246IFBvaW50MztcbiAgICB5T2Zmc2V0OiBudW1iZXIgPSAwO1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuICAgIGFuaW1hdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2dhbWVPdmVyIDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGNhbk1vdmU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIGNhblR1cm46IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX3JvdGF0aW9uOiBQb2ludDM7XG4gICAgcHJpdmF0ZSBfZmluZVBvc2l0aW9uOiBQb2ludDM7XG4gICAgcHJpdmF0ZSBfc2hvd1RvcmNoTGlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zaG93TWluaU1hcDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIG9uVXBkYXRlOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuXG4gICAgZ2V0IHJvdGF0aW9uKCkgeyByZXR1cm4gdGhpcy5fcm90YXRpb247IH1cbiAgICBzZXQgcm90YXRpb24odmFsKSB7IHRoaXMuX3JvdGF0aW9uID0gdmFsOyB0aGlzLm9uVXBkYXRlLmNhbGwoKTt9XG5cbiAgICBnZXQgZmluZVBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5fZmluZVBvc2l0aW9ufVxuICAgIHNldCBmaW5lUG9zaXRpb24odmFsKSB7IHRoaXMuX2ZpbmVQb3NpdGlvbiA9IHZhbDsgdGhpcy5vblVwZGF0ZS5jYWxsKCk7fVxuXG4gICAgZ2V0IHNob3dUb3JjaExpZ2h0KCkgeyByZXR1cm4gdGhpcy5fc2hvd1RvcmNoTGlnaHQ7IH1cbiAgICBzZXQgc2hvd1RvcmNoTGlnaHQodmFsKSB7IHRoaXMuX3Nob3dUb3JjaExpZ2h0ID0gdmFsOyB0aGlzLm9uVXBkYXRlLmNhbGwoKTt9XG5cbiAgICBnZXQgc2hvd01pbmlNYXAoKSB7IHJldHVybiB0aGlzLl9zaG93TWluaU1hcDsgfVxuICAgIHNldCBzaG93TWluaU1hcCh2YWwpIHsgdGhpcy5fc2hvd01pbmlNYXAgPSB2YWw7IHRoaXMub25VcGRhdGUuY2FsbCgpO31cblxuICAgIGdldCBncmlkUG9zaXRpb25XaXRoT2Zmc2V0KClcbiAgICB7ICAgICAgICBcbiAgICAgICAgbGV0IHBwb3MgPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICBsZXQgcG9zID0gbmV3IFBvaW50MyhwcG9zLngscHBvcy55K3RoaXMueU9mZnNldCwgcHBvcy56KTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG5cbiAgICBnZXQgZ2FtZU92ZXIoKSB7IHJldHVybiB0aGlzLl9nYW1lT3ZlcjsgfVxuICAgIHNldCBnYW1lT3Zlcih2YWwpIHsgdGhpcy5fZ2FtZU92ZXIgPSB2YWw7IHRoaXMub25VcGRhdGUuY2FsbCgpO31cblxuICAgIGdldCBjYW5GbHkoKSB7IFxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUuZmlsdGVyKHMgPT4gcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLkZseWluZykubGVuZ3RoID49IDEpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXQgY2FuTGV2ZWxFZGl0KCkgeyBcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBhcnR5LnN0YXR1c2VzLnZhbHVlLmZpbHRlcihzID0+IHMuc3RhdHVzVHlwZSA9PT0gU3RhdHVzVHlwZS5MZXZlbEVkaXQpLmxlbmd0aCA+PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IGNhbkFjdCgpIHsgcmV0dXJuICEodGhpcy5hbmltYXRpbmcpOyB9XG5cbiAgICBjcmVhdGUoZ2FtZU1vZGVsOiBHYW1lTW9kZWwsZGF0YTogR2FtZURhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5mYWNpbmcgPSBkYXRhLnBsYXllci5mYWNpbmc7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBuZXcgUG9pbnQzKDAsMCwwKTtcbiAgICAgICAgaWYgKGRhdGEucGxheWVyLnBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBQb2ludDMoZGF0YS5wbGF5ZXIucG9zaXRpb25bMF0sZGF0YS5wbGF5ZXIucG9zaXRpb25bMV0sZGF0YS5wbGF5ZXIucG9zaXRpb25bMl0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFBvaW50MyhnYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLnN0YXJ0aW5nUG9zaXRpb24pXG4gICAgfVxuXG4gICAgc2F2ZShkYXRhOiBHYW1lRGF0YSlcbiAgICB7XG4gICAgICAgIGRhdGEucGxheWVyLnBvc2l0aW9uID0gW3RoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56XTtcbiAgICAgICAgZGF0YS5wbGF5ZXIuZmFjaW5nID0gdGhpcy5mYWNpbmc7XG4gICAgICAgIGRhdGEucGxheWVyLmxldmVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQubGV2ZWxzLmluZGV4T2YodGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlKTtcbiAgICB9XG5cbiAgICB1cGRhdGVSb3RhdGlvblRvTWF0Y2hGYWNpbmcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IG5ldyBQb2ludDMoMCx0aGlzLmZhY2luZypNYXRoLlBJLzQsMCk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuY2FsbCgpO1xuICAgIH1cblxuICAgIHR1cm5SaWdodCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLk5vcnRoRWFzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5FYXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Tb3V0aEVhc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuU291dGg7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Tb3V0aFdlc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuV2VzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuTm9ydGhXZXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLk5vcnRoO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4uY2FsbCgpO1xuICAgIH1cblxuICAgIHR1cm5MZWZ0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuTm9ydGhXZXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLk5vcnRoO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Ob3J0aEVhc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuRWFzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLlNvdXRoRWFzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Tb3V0aDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuU291dGhXZXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLldlc3Q7XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLmNhbGwoKTtcbiAgICB9XG5cbiAgICByb3RhdGVMZWZ0KGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbmV3IFBvaW50Myh0aGlzLnJvdGF0aW9uLngsICh0aGlzLnJvdGF0aW9uLnkgKyBhbmdsZSklKE1hdGguUEkqMiksIHRoaXMucm90YXRpb24ueik7XG4gICAgICAgIGxldCB5ID0gTWF0aC5yb3VuZCg3IC0gKHRoaXMucm90YXRpb24ueSAvIChNYXRoLlBJLzQpKSk7XG4gICAgICAgIC8vaWYgKHRoaXMuZmFjaW5nICE9PSAoeSsxKSU4KVxuICAgICAgICAvL3tcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gKHkrMSklODtcbiAgICAgICAgICAgIC8vdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLmNhbGwoKTtcbiAgICAgICAvLyB9XG4gICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG4gICAgfVxuXG5cblxuICAgIGNhbk1vdmVJbkZhY2luZyhmYWNpbmc6IEZhY2luZyk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVOb3J0aCgpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuTW92ZU5vcnRoRWFzdCgpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVFYXN0KCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5Nb3ZlU291dGhFYXN0KCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVTb3V0aCgpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuTW92ZVNvdXRoV2VzdCgpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVXZXN0KCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aFdlc3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5Nb3ZlTm9ydGhXZXN0KCk7XG4gICAgfVxuXG4gICAgb3Bwb3NpdGVGYWNpbmcoZmFjaW5nOiBGYWNpbmcpOiBGYWNpbmdcbiAgICB7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuU291dGg7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICByZXR1cm4gRmFjaW5nLlNvdXRoV2VzdDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICByZXR1cm4gRmFjaW5nLldlc3Q7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICByZXR1cm4gRmFjaW5nLk5vcnRoV2VzdDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgcmV0dXJuIEZhY2luZy5Ob3J0aDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuTm9ydGhFYXN0O1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuRWFzdDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuU291dGhFYXN0O1xuICAgIH1cblxuICAgIGZhY2luZ1RvVW5pdFZlY3RvcihmYWNpbmc6IEZhY2luZyk6IFBvaW50M1xuICAgIHtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoMCwwLC0xKTtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQzKDEsMCwtMSk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoMSwwLDApO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoMSwwLDEpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygwLDAsMSk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygtMSwwLDEpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQzKC0xLDAsMCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aFdlc3QpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygtMSwwLC0xKTtcblxuICAgIH1cblxuICAgIHNsaWRlVXB3YXJkKGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBsZXQgcG9sYXJpdHkgPSAxO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCAwKVxuICAgICAgICAgICAgcG9sYXJpdHkgPSAtMTtcblxuICAgICAgICBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVVcHdhcmQoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVEb3dud2FyZCgpKSlcbiAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gIG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCx0aGlzLmZpbmVQb3NpdGlvbi55ICsgZGlzdGFuY2UsdGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy5fY2hlY2tGb3JHcmlkUG9zaXRpb25DaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgc2xpZGVSaWdodChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHBvbGFyaXR5ID0gMTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgMClcbiAgICAgICAgICAgIHBvbGFyaXR5ID0gLTE7XG5cbiAgICAgICAgbGV0IGZhY2luZyA9ICh0aGlzLmZhY2luZyArIDIpJTg7XG4gICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZUluRmFjaW5nKGZhY2luZykpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlSW5GYWNpbmcodGhpcy5vcHBvc2l0ZUZhY2luZyhmYWNpbmcpKSkpXG4gICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9ICB0aGlzLmZhY2luZ1RvVW5pdFZlY3RvcihmYWNpbmcpLm5vcm1hbGlzZWQubXVsdGlwbHkoZGlzdGFuY2UpLnBsdXModGhpcy5maW5lUG9zaXRpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgIHRoaXMuX2NoZWNrRm9yR3JpZFBvc2l0aW9uQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuY2FsbCgpO1xuICAgIH1cblxuICAgIHNsaWRlRm9yd2FyZChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHBvbGFyaXR5ID0gMTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgMClcbiAgICAgICAgICAgIHBvbGFyaXR5ID0gLTE7XG4gICAgICAgIGxldCBkaWFnb25hbENvbXBvbmVudCA9IE1hdGguc3FydCgoZGlzdGFuY2UqZGlzdGFuY2UpLzIpICogcG9sYXJpdHk7XG5cbiAgICAgICAgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlSW5GYWNpbmcodGhpcy5mYWNpbmcpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZUluRmFjaW5nKHRoaXMub3Bwb3NpdGVGYWNpbmcodGhpcy5mYWNpbmcpKSkpXG4gICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9ICB0aGlzLmZhY2luZ1RvVW5pdFZlY3Rvcih0aGlzLmZhY2luZykubm9ybWFsaXNlZC5tdWx0aXBseShkaXN0YW5jZSkucGx1cyh0aGlzLmZpbmVQb3NpdGlvbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZU5vcnRoKCkgJiYgIXRoaXMuY2FuTW92ZUVhc3QoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVTb3V0aCgpICYmICF0aGlzLmNhbk1vdmVXZXN0KCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueiAtIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZUVhc3QoKSAmJiAhdGhpcy5jYW5Nb3ZlTm9ydGgoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVXZXN0KCkgJiYgIXRoaXMuY2FuTW92ZVNvdXRoKCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCArIGRpc3RhbmNlLCB0aGlzLmZpbmVQb3NpdGlvbi55LCB0aGlzLmZpbmVQb3NpdGlvbi56KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZVNvdXRoKCkgJiYgIXRoaXMuY2FuTW92ZUVhc3QoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVOb3J0aCgpJiYgIXRoaXMuY2FuTW92ZVdlc3QoKSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLmZpbmVQb3NpdGlvbi54LCB0aGlzLmZpbmVQb3NpdGlvbi55LCB0aGlzLmZpbmVQb3NpdGlvbi56ICsgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpICYmICF0aGlzLmNhbk1vdmVTb3V0aCgpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZVdlc3QoKSYmICF0aGlzLmNhbk1vdmVOb3J0aCgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMuZmluZVBvc2l0aW9uLnggKyBkaXN0YW5jZSwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVTb3V0aCgpICYmICF0aGlzLmNhbk1vdmVXZXN0KCkpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlTm9ydGgoKSAmJiAhdGhpcy5jYW5Nb3ZlRWFzdCgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMuZmluZVBvc2l0aW9uLngsIHRoaXMuZmluZVBvc2l0aW9uLnksIHRoaXMuZmluZVBvc2l0aW9uLnogKyBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVXZXN0KCkgJiYgIXRoaXMuY2FuTW92ZVNvdXRoKCkpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpICYmICF0aGlzLmNhbk1vdmVTb3V0aCgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMuZmluZVBvc2l0aW9uLnggLSBkaXN0YW5jZSwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVOb3J0aCgpICYmICF0aGlzLmNhbk1vdmVXZXN0KCkpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlU291dGgoKSYmICF0aGlzLmNhbk1vdmVFYXN0KCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueiAtIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZVdlc3QoKSAmJiAhdGhpcy5jYW5Nb3ZlTm9ydGgoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVFYXN0KCkmJiAhdGhpcy5jYW5Nb3ZlU291dGgoKSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLmZpbmVQb3NpdGlvbi54IC0gZGlzdGFuY2UsIHRoaXMuZmluZVBvc2l0aW9uLnksIHRoaXMuZmluZVBvc2l0aW9uLnopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoZWNrRm9yR3JpZFBvc2l0aW9uQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuY2FsbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NoZWNrRm9yR3JpZFBvc2l0aW9uQ2hhbmdlKClcbiAgICB7XG4gICAgICAgIGxldCByeCA9IE1hdGgucm91bmQodGhpcy5maW5lUG9zaXRpb24ueCk7XG4gICAgICAgIGxldCByeSA9IE1hdGgucm91bmQodGhpcy5maW5lUG9zaXRpb24ueSk7XG4gICAgICAgIGxldCByeiA9IE1hdGgucm91bmQodGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgIGlmIChyeCA9PT0gdGhpcy5wb3NpdGlvbi54LTEpXG4gICAgICAgICAgICB0aGlzLm1vdmVXZXN0KCk7XG4gICAgICAgIGlmIChyeCA9PSB0aGlzLnBvc2l0aW9uLngrMSlcbiAgICAgICAgICAgIHRoaXMubW92ZUVhc3QoKTtcbiAgICAgICAgaWYgKHJ6ID09PSB0aGlzLnBvc2l0aW9uLnorMSlcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgIGlmIChyeiA9PT0gdGhpcy5wb3NpdGlvbi56LTEpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aCgpO1xuICAgIH1cblxuICAgIHJvdGF0ZVJpZ2h0KGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbmV3IFBvaW50Myh0aGlzLnJvdGF0aW9uLngsICh0aGlzLnJvdGF0aW9uLnkgLSBhbmdsZSklKE1hdGguUEkqMiksIHRoaXMucm90YXRpb24ueik7XG4gICAgICAgIGxldCB5ID0gTWF0aC5yb3VuZCg3IC0gKHRoaXMucm90YXRpb24ueSAvIChNYXRoLlBJLzQpKSk7XG4gICAgICAgIC8vaWYgKHRoaXMuZmFjaW5nICE9PSAoeSsxKSU4KVxuICAgICAgICAvL3tcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gKHkrMSklODtcbiAgICAgICAgICAgIC8vdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLmNhbGwoKTtcbiAgICAgICAvLyB9XG4gICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG5cbiAgICB9XG5cbiAgICBtb3ZlRm9yd2FyZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoKCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aEVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aFdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhXZXN0KCk7XG4gICAgfVxuXG4gICAgbW92ZUJhY2t3YXJkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGhXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoV2VzdCgpOyAgXG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoRWFzdCgpO1xuICAgIH1cblxuICAgIHN0cmFmZUxlZnQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLm1vdmVXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoV2VzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aEVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoV2VzdCgpO1xuICAgIH1cblxuICAgIHN0cmFmZVJpZ2h0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aEVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoV2VzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aEVhc3QoKTtcbiAgICB9XG5cbiAgICBob3ZlclVwKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLnkgPCB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUubGV2ZWxUeXBlLmhlaWdodC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgbGV0IG5ld2NlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnkrMV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKGNlbGwud2FsbHNbNV0ucGFzc2FibGUpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlKDAsMSwwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhvdmVyRG93bigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi55ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGxldCBuZXdjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55LTFdW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGlmIChjZWxsLndhbGxzWzRdLnBhc3NhYmxlKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZSgwLC0xLDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZU5vcnRoKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmVOb3J0aCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgdGhpcy5tb3ZlKDAsY2VsbC5leGl0T2Zmc2V0TiwtMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5Nb3ZlVXB3YXJkKClcbiAgICB7XG4gICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgIGlmIChjZWxsLmNlaWxpbmdXYWxsLnBhc3NhYmxlKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjYW5Nb3ZlRG93bndhcmQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24ueSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBpZiAoY2VsbC5mbG9vcldhbGwucGFzc2FibGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNhbk1vdmVOb3J0aCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi56ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGlmICgoY2VsbC53YWxsc1swXS5wYXNzYWJsZSkgfHwgKGNlbGwuZXhpdE9mZnNldE4gIT09IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlTm9ydGhFYXN0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmVOb3J0aEVhc3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIHRoaXMubW92ZSgxLGNlbGwuZXhpdE9mZnNldEUsLTEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBuID0gdGhpcy5jYW5Nb3ZlTm9ydGgoKTtcbiAgICAgICAgICAgIGxldCBlID0gdGhpcy5jYW5Nb3ZlRWFzdCgpO1xuICAgICAgICAgICAgaWYgKG4gJiYgIWUpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgICAgIGlmIChlICYmICFuKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZUVhc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbk1vdmVOb3J0aEVhc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZU5vcnRoKCkgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpIClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGlmICgoY2VsbC5leGl0T2Zmc2V0TiA9PT0gY2VsbC5leGl0T2Zmc2V0RSkgJiYgKHRoaXMuZWFzdENlbGwoKS5ub3J0aFdhbGwucGFzc2FibGUpICYmICh0aGlzLm5vcnRoQ2VsbCgpLmVhc3RXYWxsLnBhc3NhYmxlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZUVhc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZUVhc3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIHRoaXMubW92ZSgxLGNlbGwuZXhpdE9mZnNldEUsMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5Nb3ZlRWFzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi54IDwgdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmxldmVsVHlwZS53aWR0aC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKGNlbGwud2FsbHNbMV0ucGFzc2FibGUgfHwgY2VsbC5leGl0T2Zmc2V0RSAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG5vcnRoQ2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnotMV07XG4gICAgfVxuXG4gICAgbm9ydGhFYXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueCsxXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uei0xXTtcbiAgICB9XG5cbiAgICBlYXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueCsxXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel07XG4gICAgfVxuXG4gICAgc291dGhFYXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueCsxXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24ueisxXTtcbiAgICB9XG5cbiAgICBzb3V0aENlbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56KzFdO1xuICAgIH1cblxuICAgIHNvdXRoV2VzdENlbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLngtMV1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnorMV07XG4gICAgfVxuXG4gICAgd2VzdENlbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLngtMV1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdO1xuICAgIH1cblxuICAgIG5vcnRoV2VzdENlbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLngtMV1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnotMV07XG4gICAgfVxuXG4gICAgbW92ZVNvdXRoRWFzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlU291dGhFYXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoMSxjZWxsLmV4aXRPZmZzZXRFLDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzID0gdGhpcy5jYW5Nb3ZlU291dGgoKTtcbiAgICAgICAgICAgIGxldCBlID0gdGhpcy5jYW5Nb3ZlRWFzdCgpO1xuICAgICAgICAgICAgaWYgKHMgJiYgIWUpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlU291dGgoKTtcbiAgICAgICAgICAgIGlmIChlICYmICFzKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZUVhc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbk1vdmVTb3V0aEVhc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZVNvdXRoKCkgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKChjZWxsLmV4aXRPZmZzZXRTID09PSBjZWxsLmV4aXRPZmZzZXRFKSAmJiAodGhpcy5zb3V0aENlbGwoKS5lYXN0V2FsbC5wYXNzYWJsZSkgJiYgKHRoaXMuZWFzdENlbGwoKS5zb3V0aFdhbGwucGFzc2FibGUpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlU291dGgoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZVNvdXRoKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoMCxjZWxsLmV4aXRPZmZzZXRTLDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FuTW92ZVNvdXRoKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLno8dGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmxldmVsVHlwZS5kZXB0aC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgbGV0IG5ld2NlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24ueisxXVxuICAgICAgICAgICAgaWYgKGNlbGwud2FsbHNbMl0ucGFzc2FibGUgfHwgY2VsbC5leGl0T2Zmc2V0UyAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZVNvdXRoV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlU291dGhXZXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoLTEsY2VsbC5leGl0T2Zmc2V0RSwxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIFxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcyA9IHRoaXMuY2FuTW92ZVNvdXRoKCk7XG4gICAgICAgICAgICBsZXQgdyA9IHRoaXMuY2FuTW92ZVdlc3QoKTtcbiAgICAgICAgICAgIGlmIChzICYmICF3KVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgICAgICBpZiAodyAmJiAhcylcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVXZXN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGNhbk1vdmVTb3V0aFdlc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZVNvdXRoKCkgJiYgdGhpcy5jYW5Nb3ZlV2VzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKChjZWxsLmV4aXRPZmZzZXRTID09PSBjZWxsLmV4aXRPZmZzZXRXKSAmJiAodGhpcy5zb3V0aENlbGwoKS53ZXN0V2FsbC5wYXNzYWJsZSkgJiYgKHRoaXMud2VzdENlbGwoKS5zb3V0aFdhbGwucGFzc2FibGUpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlV2VzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgdGhpcy5tb3ZlKC0xLGNlbGwuZXhpdE9mZnNldEUsMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5Nb3ZlV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi54PjApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdO1xuICAgICAgICAgICAgbGV0IG5ld2NlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54LTFdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XTtcbiAgICAgICAgICAgIGlmIChjZWxsLndhbGxzWzNdLnBhc3NhYmxlIHx8IGNlbGwuZXhpdE9mZnNldFcgIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmVOb3J0aFdlc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZU5vcnRoV2VzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgdGhpcy5tb3ZlKC0xLGNlbGwuZXhpdE9mZnNldEUsLTEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBuID0gdGhpcy5jYW5Nb3ZlTm9ydGgoKTtcbiAgICAgICAgICAgIGxldCB3ID0gdGhpcy5jYW5Nb3ZlV2VzdCgpO1xuICAgICAgICAgICAgaWYgKG4gJiYgIXcpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgICAgIGlmICh3ICYmICFuKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgY2FuTW92ZU5vcnRoV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlTm9ydGgoKSAmJiB0aGlzLmNhbk1vdmVXZXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBpZiAoKGNlbGwuZXhpdE9mZnNldE4gPT09IGNlbGwuZXhpdE9mZnNldFcpICYmICh0aGlzLm5vcnRoQ2VsbCgpLndlc3RXYWxsLnBhc3NhYmxlKSAmJiAodGhpcy53ZXN0Q2VsbCgpLm5vcnRoV2FsbC5wYXNzYWJsZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmUoeDogbnVtYmVyLHk6IG51bWJlcix6OiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLnBvc2l0aW9uLngreCx0aGlzLnBvc2l0aW9uLnkreSx0aGlzLnBvc2l0aW9uLnoreik7XG4gICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgIHRoaXMueU9mZnNldCA9IGNlbGwubWlkSGVpZ2h0O1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbk1vdmUuY2FsbCgpO1xuICAgIH1cbn0iLCJpbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4vYWN0aW9uL0FjdGlvbk1vZGVsXCI7XG5pbXBvcnQgeyBTcGVsbERhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBTcGVsbCBleHRlbmRzIEFjdGlvbk1vZGVsXG57XG4gICAgc3BlbGxEYXRhOiBTcGVsbERhdGE7XG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuc3BlbGxEYXRhLm5hbWU7IH1cbiAgICBnZXQgYmFzZURlc2NyaXB0aW9uKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnNwZWxsRGF0YS5iYXNlRGVzY3JpcHRpb247IH1cbiAgICBnZXQgbGV2ZWwyRGVzY3JpcHRpb24oKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuc3BlbGxEYXRhLmxldmVsMkRlc2NyaXB0aW9uOyB9XG4gICAgZ2V0IGxldmVsM0Rlc2NyaXB0aW9uKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLnNwZWxsRGF0YS5sZXZlbDNEZXNjcmlwdGlvbjsgfVxuICAgIHJlcXVpcmVUYXJnZXQ6IGJvb2xlYW47XG4gICAgZ2V0IGljb24oKTogc3RyaW5nIHsgcmV0dXJuIHRoaXMuc3BlbGxEYXRhLmljb24gfVxuXG4gICAgY29uc3RydWN0b3Ioc3BlbGxEYXRhOiBTcGVsbERhdGEsIHJlcXVpcmVUYXJnZXQ6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNwZWxsRGF0YSA9IHNwZWxsRGF0YTtcbiAgICAgICAgdGhpcy5yZXF1aXJlVGFyZ2V0ID0gcmVxdWlyZVRhcmdldDtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsIGZyb20gXCIuL1NwZWxsXCI7XG5pbXBvcnQgRmlyZUJvbHQgZnJvbSBcIi4vYWN0aW9uL3NwZWxscy9GaXJlQm9sdFwiO1xuaW1wb3J0IFRvcmNoTGlnaHQgZnJvbSBcIi4vYWN0aW9uL3NwZWxscy9Ub3JjaExpZ2h0XCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuL0dhbWVNb2RlbFwiO1xuaW1wb3J0IExldmVsRWRpdGluZyBmcm9tIFwiLi9hY3Rpb24vc3BlbGxzL0xldmVsRWRpdGluZ1wiO1xuaW1wb3J0IEZseSBmcm9tIFwiLi9hY3Rpb24vc3BlbGxzL0ZseVwiO1xuaW1wb3J0IE1pbmlNYXAgZnJvbSBcIi4vYWN0aW9uL3NwZWxscy9NaW5pTWFwXCI7XG5pbXBvcnQgeyBTcGVsbERhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcGVsbExpc3RcbntcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBzcGVsbHM6IFNwZWxsW10gPSBbXTtcbiAgICBpY29uOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHNwZWxsczogU3BlbGxbXSwgaWNvbjogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zcGVsbHMgPSBzcGVsbHM7XG4gICAgICAgIHRoaXMuaWNvbiA9IGljb247XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFNwZWxsKHNwZWxsRGF0YTogU3BlbGxEYXRhLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIGlmIChzcGVsbERhdGEubmFtZSA9PT0gXCJGaXJlIEJvbHRcIilcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmlyZUJvbHQoc3BlbGxEYXRhKTtcbiAgICAgICAgaWYgKHNwZWxsRGF0YS5uYW1lID09PSBcIlRvcmNoIExpZ2h0XCIpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRvcmNoTGlnaHQoc3BlbGxEYXRhLCBnYW1lTW9kZWwpO1xuICAgICAgICBpZiAoc3BlbGxEYXRhLm5hbWUgPT09IFwiTGV2ZWwgRWRpdGluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMZXZlbEVkaXRpbmcoc3BlbGxEYXRhLCBnYW1lTW9kZWwpO1xuICAgICAgICBpZiAoc3BlbGxEYXRhLm5hbWUgPT09IFwiRmx5XCIpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEZseShzcGVsbERhdGEsIGdhbWVNb2RlbCk7XG4gICAgICAgIGlmIChzcGVsbERhdGEubmFtZSA9PT0gXCJNaW5pbWFwXCIpXG4gICAgICAgICAgICByZXR1cm4gbmV3IE1pbmlNYXAoc3BlbGxEYXRhLCBnYW1lTW9kZWwpO1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGVudW0gU3RhdHVzVHlwZVxue1xuICAgIERlYWQsXG4gICAgVG9yY2hMaWdodCxcbiAgICBTbG93LFxuICAgIEZseWluZyxcbiAgICBMZXZlbEVkaXQsXG4gICAgTWluaU1hcFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0dXNcbntcbiAgICBzdGF0dXNUeXBlOiBTdGF0dXNUeXBlO1xuXG4gICAgZ2V0IG5hbWUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzVHlwZSA9PT0gU3RhdHVzVHlwZS5EZWFkKVxuICAgICAgICAgICAgcmV0dXJuIFwiRGVhZFwiO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLlRvcmNoTGlnaHQpXG4gICAgICAgICAgICByZXR1cm4gXCJUb3JjaCBMaWdodFwiO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLlNsb3cpXG4gICAgICAgICAgICByZXR1cm4gXCJTbG93XCI7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuRmx5aW5nKVxuICAgICAgICAgICAgcmV0dXJuIFwiRmx5aW5nXCI7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuTGV2ZWxFZGl0KVxuICAgICAgICAgICAgcmV0dXJuIFwiTGV2ZWwgRWRpdGluZ1wiO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLk1pbmlNYXApXG4gICAgICAgICAgICByZXR1cm4gXCJNaW5pIE1hcFwiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHN0YXR1c1R5cGU6IFN0YXR1c1R5cGUpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXR1c1R5cGUgPSBzdGF0dXNUeXBlO1xuICAgIH1cbn0iLCJpbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEFjdGlvbk1vZGVsXG57XG4gICAgYWJzdHJhY3QgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG5cbiAgICBhYnN0cmFjdCB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG5cbiAgICBhYnN0cmFjdCByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbn0iLCJpbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjdGlvblJlc3VsdE1vZGVsXG57XG4gICAgcmVjb3ZlcnlUaW1lOiBudW1iZXIgPSAwO1xuICAgIG9uQXBwbHk6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWNvdmVyeVRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucmVjb3ZlcnlUaW1lID0gcmVjb3ZlcnlUaW1lO1xuICAgIH1cblxuICAgIGFwcGx5KClcbiAgICB7XG4gICAgICAgIHRoaXMub25BcHBseS5jYWxsKCk7XG4gICAgfVxufSIsImltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IEFjdG9yTW9kZWwgZnJvbSBcIi4uL0FjdG9yTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0dGFja0FjdGlvbk1vZGVsIGV4dGVuZHMgQWN0aW9uTW9kZWxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBkYW1hZ2VTcGVjOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHJhbmdlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lTW9kZWw6IEdhbWVNb2RlbCwgbmFtZTogc3RyaW5nLCBkYW1hZ2VTcGVjOiBzdHJpbmcsIHJhbmdlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kYW1hZ2VTcGVjID0gZGFtYWdlU3BlYztcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgIH1cblxuICAgIHBlcmZvcm0oc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBY3Rvck1vZGVsKVxuICAgICAgICAgICAgci5vbkFwcGx5LnB1c2goKCkgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGRhbWFnZSA9IEdhbWVNb2RlbC5yb2xsRGljZSh0aGlzLmRhbWFnZVNwZWMpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5mb1RleHQudmFsdWUgPSBcIllvdSBkaWQgXCIgKyBkYW1hZ2UgKyBcIiBkYW1hZ2VcIjtcbiAgICAgICAgICAgICAgICB0YXJnZXQudGFrZURhbWFnZShkYW1hZ2UpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBOUENNb2RlbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCEodGFyZ2V0LmFsaXZlLnZhbHVlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoUG9pbnQzLm1pbnVzKHRhcmdldC5nZXRQb3NpdGlvbigpLCBzb3VyY2UuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlIDw9IHRoaXMucmFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMTApXG4gICAgfVxufSIsImltcG9ydCBBY3Rvck1vZGVsIGZyb20gXCIuLi9BY3Rvck1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwsIHsgSGVhbHRoU3RhdGUgfSBmcm9tIFwiLi4vQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgUGFydHlNb2RlbCBmcm9tIFwiLi4vUGFydHlNb2RlbFwiO1xuaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4uL3dvcmxkL0xldmVsTW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcblxuZXhwb3J0IGVudW0gQ29tYmF0U3RhdGUgeyBHcmVlbiwgWWVsbG93LCBSZWQgfVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbml0aWF0aXZlTW9kZWxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBwYXJ0eU1vZGVsOiBQYXJ0eU1vZGVsO1xuXG4gICAgaW5pdGlhdGl2ZU9yZGVyOiB7bnVtYmVyOiBudW1iZXIsIGFjdG9yOiBBY3Rvck1vZGVsfVtdID0gW107XG4gICAgbnBjc1RvQWN0OiBPYnNlcnZlclZhcmlhYmxlPE5QQ01vZGVsW10+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUoW10pO1xuICAgIGNvbWJhdFN0YXRlOiBPYnNlcnZlclZhcmlhYmxlPENvbWJhdFN0YXRlPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKG51bGwpO1xuICAgIHdhaXRpbmdDaGFyYWN0ZXJzOiBPYnNlcnZlclZhcmlhYmxlPENoYXJhY3Rlck1vZGVsW10+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUobnVsbCk7XG4gICAgd2FpdGluZ0NoYXJhY3RlcjogT2JzZXJ2ZXJWYXJpYWJsZTxDaGFyYWN0ZXJNb2RlbD4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZShudWxsKTtcblxuICAgIGdldCBwbGF5ZXJDYW5BY3QoKSBcbiAgICB7XG4gICAgICAgIHJldHVybiAoIXRoaXMucGFydHlNb2RlbC5wYXJ0eURlYWQgJiYgdGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkFjdCAmJiB0aGlzLm5wY3NUb0FjdC52YWx1ZS5sZW5ndGggPT09IDAgJiYgdGhpcy53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlICE9PSBudWxsKTsgXG4gICAgfVxuXG4gICAgZ2V0IHBsYXllckNhbk1vdmUoKSBcbiAgICB7XG4gICAgICAgIHJldHVybiAoIXRoaXMucGFydHlNb2RlbC5wYXJ0eURlYWQgJiYgdGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbk1vdmUgJiYgdGhpcy5ucGNzVG9BY3QudmFsdWUubGVuZ3RoID09PSAwICYmIHRoaXMud2FpdGluZ0NoYXJhY3Rlci52YWx1ZSAhPT0gbnVsbCk7IFxuICAgIH1cblxuICAgIGdldCBwbGF5ZXJDYW5UdXJuKCkgXG4gICAge1xuICAgICAgICByZXR1cm4gKCF0aGlzLnBhcnR5TW9kZWwucGFydHlEZWFkICYmIHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5UdXJuKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoZ2FtZU1vZGVsOiBHYW1lTW9kZWwsIHBhcnR5TW9kZWw6IFBhcnR5TW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5wYXJ0eU1vZGVsID0gcGFydHlNb2RlbDtcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyID0gW107XG4gICAgICAgIHRoaXMucGFydHlNb2RlbC5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYXRpdmVPcmRlci5wdXNoKHtudW1iZXI6IGMucm9sbEluaXRpYXRpdmUoKSwgYWN0b3I6IGN9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5ucGNzLmZvckVhY2gobiA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYXRpdmVPcmRlci5wdXNoKHtudW1iZXI6IG4ucm9sbEluaXRpYXRpdmUoKSwgYWN0b3I6IG59KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc29ydEluaXRpYXRpdmVPcmRlcigpO1xuICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXJzLnZhbHVlID0gdGhpcy5nZXRXYWl0aW5nQ2hhcmFjdGVycygpO1xuICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUgPSB0aGlzLmdldFdhaXRpbmdDaGFyYWN0ZXIoKTtcbiAgICAgICAgdGhpcy5jb21iYXRTdGF0ZS52YWx1ZSA9IHRoaXMuZ2V0Q29tYmF0U3RhdGUoKTtcbiAgICAgICAgdGhpcy5hZnRlckNoYW5nZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHN3aXRjaENoYXJhY3RlcihjaGFyYWN0ZXI6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IGNoYXJhY3RlcnMgPSBbXTtcbiAgICAgICAgbGV0IGRlbGF5VW50aWw6IG51bWJlcjtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5pbml0aWF0aXZlT3JkZXIubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yID09PSBjaGFyYWN0ZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsYXlVbnRpbCA9IHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLm51bWJlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhcmFjdGVycy5wdXNoKHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNoYXJhY3RlcnMuZm9yRWFjaChjID0+IHRoaXMuZGVsYXlBY3RvclVudGlsKGMsIGRlbGF5VW50aWwpKTtcbiAgICAgICAgdGhpcy5hZnRlckNoYW5nZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG1vdmVQYXJ0eShzdGFydDogUG9pbnQzLCBlbmQ6IFBvaW50MylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNvbWJhdFN0YXRlLnZhbHVlID09PSBDb21iYXRTdGF0ZS5SZWQpXG4gICAgICAgICAgICB0aGlzLmRlbGF5UGFydHlVbnRpbExhc3RNZW1iZXIodGhpcy5nYW1lTW9kZWwucGFydHkubW92ZVJlY292ZXJ5VGltZSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJDaGFuZ2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBwZXJmb3JtZWRBY3Rpb24oYWN0b3I6IEFjdG9yTW9kZWwsIHJlc3VsdDogQWN0aW9uUmVzdWx0TW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5QWN0b3IoYWN0b3IsIHJlc3VsdC5yZWNvdmVyeVRpbWUpO1xuICAgICAgICB0aGlzLmFmdGVyQ2hhbmdlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgbnBjRGVsYXkobnBjOiBOUENNb2RlbCwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWxheUFjdG9yKG5wYywgdGltZSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJDaGFuZ2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBucGNEaWVkKG5wYzogTlBDTW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLmluaXRpYXRpdmVPcmRlciA9IHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmZpbHRlcihyID0+IHIuYWN0b3IgIT09IG5wYyk7XG4gICAgICAgIHRoaXMuYWZ0ZXJDaGFuZ2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgYWZ0ZXJDaGFuZ2VVcGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGFydHlNb2RlbC5wYXJ0eURlYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2FpdGluZ0NoYXJhY3RlcnMudmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMud2FpdGluZ0NoYXJhY3Rlci52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNvcnRJbml0aWF0aXZlT3JkZXIoKTtcbiAgICAgICAgICAgIHRoaXMuZmlsbE5QQ3NUb0FjdEFycmF5KCk7XG4gICAgICAgICAgICB0aGlzLmNvbWJhdFN0YXRlLnZhbHVlID0gdGhpcy5nZXRDb21iYXRTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVXYWl0aW5nQ2hhcmFjdGVycygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHVwZGF0ZVdhaXRpbmdDaGFyYWN0ZXJzKClcbiAgICB7XG4gICAgICAgIHRoaXMud2FpdGluZ0NoYXJhY3RlcnMudmFsdWUgPSB0aGlzLmdldFdhaXRpbmdDaGFyYWN0ZXJzKCk7XG4gICAgICAgIGlmICh0aGlzLndhaXRpbmdDaGFyYWN0ZXJzLnZhbHVlLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUgPSB0aGlzLndhaXRpbmdDaGFyYWN0ZXJzLnZhbHVlWzBdO1xuICAgICAgICBlbHNlICAgXG4gICAgICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRXYWl0aW5nQ2hhcmFjdGVycygpOiBDaGFyYWN0ZXJNb2RlbFtdXG4gICAge1xuICAgICAgICBsZXQgY2hhcmFjdGVyczogQ2hhcmFjdGVyTW9kZWxbXSA9IFtdO1xuICAgICAgICBsZXQgY2hhcnNUb0RlbGF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgodGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgYXMgQ2hhcmFjdGVyTW9kZWwpLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5Ob3JtYWwpXG4gICAgICAgICAgICAgICAgICAgIGNoYXJhY3RlcnMucHVzaCh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBhcyBDaGFyYWN0ZXJNb2RlbCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBjaGFyc1RvRGVsYXkucHVzaCh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBjaGFyc1RvRGVsYXkuZm9yRWFjaChjID0+IHRoaXMuZGVsYXlBY3RvcihjLCAxKSk7XG4gICAgICAgIHRoaXMuc29ydEluaXRpYXRpdmVPcmRlcigpO1xuICAgICAgICB0aGlzLmZpbGxOUENzVG9BY3RBcnJheSgpO1xuXG4gICAgICAgIHJldHVybiBjaGFyYWN0ZXJzO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRXYWl0aW5nQ2hhcmFjdGVyKCk6IENoYXJhY3Rlck1vZGVsXG4gICAgeyBcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5pbml0aWF0aXZlT3JkZXIubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yIGFzIENoYXJhY3Rlck1vZGVsO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHdhaXRpbmdBY3RvcigpOiBBY3Rvck1vZGVsXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlT3JkZXIubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYXRpdmVPcmRlclswXS5hY3RvcjtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRlbGF5UGFydHlVbnRpbExhc3RNZW1iZXIoYWRkaXRpb25hbERlbGF5OiBudW1iZXIpXG4gICAge1xuICAgICAgICBsZXQgZm91bmRDaGFyYWN0ZXJzOiBudW1iZXIgPSAwO1xuICAgICAgICBsZXQgZGVsYXlVbnRpbDogbnVtYmVyO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLmluaXRpYXRpdmVPcmRlci5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYWN0b3IgPSB0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvcjtcbiAgICAgICAgICAgIGlmIChhY3RvciBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvdW5kQ2hhcmFjdGVycysrO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZENoYXJhY3RlcnMgPT09IHRoaXMucGFydHlNb2RlbC5jaGFyYWN0ZXJzLmxlbmd0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGF5VW50aWwgPSB0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5udW1iZXI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFydHlNb2RlbC5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PiB0aGlzLmRlbGF5QWN0b3JVbnRpbChjLCBkZWxheVVudGlsICsgYWRkaXRpb25hbERlbGF5KSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGdldENvbWJhdFN0YXRlKCk6IENvbWJhdFN0YXRlXG4gICAge1xuICAgICAgICBsZXQgaW5NZWxlZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgICAgICBsZXQgYWxpdmVOUEM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLm5wY3MuZm9yRWFjaChucGMgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKG5wYy5hbGl2ZS52YWx1ZSkgJiYgKG5wYy5ob3N0aWxlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5pc1dpdGhpbk1lbGVlKG5wYy5nZXRQb3NpdGlvbigpLCB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5NZWxlZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGFsaXZlTlBDID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKGluTWVsZWUpXG4gICAgICAgICAgICByZXR1cm4gQ29tYmF0U3RhdGUuUmVkO1xuICAgICAgICBpZiAoYWxpdmVOUEMpXG4gICAgICAgICAgICByZXR1cm4gQ29tYmF0U3RhdGUuWWVsbG93O1xuICAgICAgICByZXR1cm4gQ29tYmF0U3RhdGUuR3JlZW47XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGZpbGxOUENzVG9BY3RBcnJheSgpXG4gICAge1xuICAgICAgICB0aGlzLm5wY3NUb0FjdC52YWx1ZSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLmluaXRpYXRpdmVPcmRlci5sZW5ndGg7aSsrKVxuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yIGluc3RhbmNlb2YgTlBDTW9kZWwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IG5wYyA9ICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBhcyBOUENNb2RlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ucGNzVG9BY3QudmFsdWUucHVzaChucGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB0aGlzLm5wY3NUb0FjdC5vblVwZGF0ZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRlbGF5QWN0b3JVbnRpbChhY3RvcjogQWN0b3JNb2RlbCwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5pbml0aWF0aXZlT3JkZXIubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yID09PSBhY3RvcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmVPcmRlci5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFjdG9yKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGVsYXkgdW50aWwgYWN0b3IgaXMgbnVsbFwiKTtcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlT3JkZXIucHVzaCh7bnVtYmVyOiB0aW1lLCBhY3RvcjogYWN0b3IgfSlcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZGVsYXlBY3RvcihhY3RvcjogQWN0b3JNb2RlbCwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciA9PT0gYWN0b3IpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3VycmVudFBvc2l0aW9uID0gdGhpcy5pbml0aWF0aXZlT3JkZXJbaV0ubnVtYmVyO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnNwbGljZShpLDEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYWN0b3IpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZWxheSAgYWN0b3IgaXMgbnVsbFwiKTtcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlT3JkZXIucHVzaCh7bnVtYmVyOiBjdXJyZW50UG9zaXRpb24gKyB0aW1lLCBhY3RvcjogYWN0b3IgfSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHNvcnRJbml0aWF0aXZlT3JkZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlT3JkZXIuc29ydCgoYSxiKSA9PiBhLm51bWJlciAtIGIubnVtYmVyKTtcbiAgICB9XG59IiwiaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi4vd29ybGQvTlBDTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Nb2RlbCBmcm9tIFwiLi9BY3Rpb25Nb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4vQWN0aW9uU291cmNlTW9kZWxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb290QWN0aW9uTW9kZWwgZXh0ZW5kcyBBY3Rpb25Nb2RlbFxue1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuICAgIGxvb3REaXN0YW5jZSA9IDM7XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIHBlcmZvcm0oc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBsZXQgciA9IG5ldyBBY3Rpb25SZXN1bHRNb2RlbCh0aGlzLnJlY292ZXJ5VGltZShzb3VyY2UpKTtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIE5QQ01vZGVsKVxuICAgICAgICAgICAgci5vbkFwcGx5LnB1c2goKCkgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuZ2FpbkdvbGQoR2FtZU1vZGVsLnJvbGxEaWNlKHRhcmdldC5sb290U3BlYykpO1xuICAgICAgICAgICAgICAgIHRhcmdldC5sb290ZWQudmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChQb2ludDMubWludXModGFyZ2V0LmdldFBvc2l0aW9uKCksIHNvdXJjZS5nZXRQb3NpdGlvbigpKS5tYWduaXR1ZGUgPD0gdGhpcy5sb290RGlzdGFuY2UpXG4gICAgICAgICAgICBpZiAoKHRhcmdldCBpbnN0YW5jZW9mIE5QQ01vZGVsKSAmJiAoIXRhcmdldC5hbGl2ZS52YWx1ZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcmVjb3ZlcnlUaW1lKHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn0iLCJpbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IE5QQ01vZGVsIGZyb20gXCIuLi93b3JsZC9OUENNb2RlbFwiO1xuaW1wb3J0IEFjdGlvbk1vZGVsIGZyb20gXCIuL0FjdGlvbk1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgRG9vck1vZGVsIGZyb20gXCIuLi93b3JsZC9Eb29yTW9kZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlbkRvb3JBY3Rpb25Nb2RlbCBleHRlbmRzIEFjdGlvbk1vZGVsXG57XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgcHJpdmF0ZSByZWFjaCA9IDE7XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIHBlcmZvcm0oc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBsZXQgciA9IG5ldyBBY3Rpb25SZXN1bHRNb2RlbCh0aGlzLnJlY292ZXJ5VGltZShzb3VyY2UpKTtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIERvb3JNb2RlbClcbiAgICAgICAgICAgIHIub25BcHBseS5wdXNoKCgpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLm9wZW5Eb29yKHRhcmdldCk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfVxuXG4gICAgdGVzdChzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIERvb3JNb2RlbClcbiAgICAgICAgICAgIGlmICghKHRhcmdldC5sb2NrZWQpKVxuICAgICAgICAgICAgICAgIGlmIChQb2ludDMubWludXModGFyZ2V0LmdldFBvc2l0aW9uKCksIHNvdXJjZS5nZXRQb3NpdGlvbigpKS5tYWduaXR1ZGUgPD0gdGhpcy5yZWFjaClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG4gICAgcmVjb3ZlcnlUaW1lKHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbn0iLCJpbXBvcnQgU3BlbGwgZnJvbSBcIi4uLy4uL1NwZWxsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4uL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uLy4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgeyBTcGVsbERhdGEgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaXJlQm9sdCBleHRlbmRzIFNwZWxsXG57XG4gICAgY29uc3RydWN0b3Ioc3BlbGxEYXRhOiBTcGVsbERhdGEpXG4gICAge1xuICAgICAgICBzdXBlcihzcGVsbERhdGEsIHRydWUpXG4gICAgfVxuXG4gICAgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5tYW5hLnZhbHVlLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBBY3Rpb25SZXN1bHRNb2RlbCh0aGlzLnJlY292ZXJ5VGltZShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UubWFuYS52YWx1ZSA+PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghKHRhcmdldCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGVzdCBlZy4gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlY292ZXJ5VGltZShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxufSIsImltcG9ydCBTcGVsbCBmcm9tIFwiLi4vLi4vU3BlbGxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi4vQWN0aW9uU291cmNlTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi4vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi4vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi4vLi4vQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uLy4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNUeXBlIH0gZnJvbSBcIi4uLy4uL1N0YXR1c1wiO1xuaW1wb3J0IHsgU3BlbGxEYXRhIH0gZnJvbSBcIi4uLy4uLy4uL2RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmx5IGV4dGVuZHMgU3BlbGxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKHNwZWxsRGF0YTogU3BlbGxEYXRhLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHNwZWxsRGF0YSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBwZXJmb3JtKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogQWN0aW9uUmVzdWx0TW9kZWxcbiAgICB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIHJlc3VsdC5vbkFwcGx5LnB1c2goKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgICAgICBzb3VyY2UubWFuYS52YWx1ZSAtPSA4O1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmFkZFN0YXR1cyhuZXcgU3RhdHVzKFN0YXR1c1R5cGUuRmx5aW5nKSk7XG4gICAgICAgIH0pLmJpbmQodGhpcyksIHRoaXMpXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdGVzdChzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbCkgJiYgKHNvdXJjZS5tYW5hLnZhbHVlID49IDgpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbn0iLCJpbXBvcnQgU3BlbGwgZnJvbSBcIi4uLy4uL1NwZWxsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4uL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uLy4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi8uLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzVHlwZSB9IGZyb20gXCIuLi8uLi9TdGF0dXNcIjtcbmltcG9ydCB7IFNwZWxsRGF0YSB9IGZyb20gXCIuLi8uLi8uLi9kYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsRWRpdGluZyBleHRlbmRzIFNwZWxsXG57XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBjb25zdHJ1Y3RvcihzcGVsbERhdGE6IFNwZWxsRGF0YSwgZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihzcGVsbERhdGEsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFjdGlvblJlc3VsdE1vZGVsKHRoaXMucmVjb3ZlcnlUaW1lKHNvdXJjZSkpO1xuICAgICAgICByZXN1bHQub25BcHBseS5wdXNoKCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5wYXJ0eS5hZGRTdGF0dXMobmV3IFN0YXR1cyhTdGF0dXNUeXBlLkxldmVsRWRpdCkpO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVjb3ZlcnlUaW1lKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsIGZyb20gXCIuLi8uLi9TcGVsbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IENoYXJhY3Rlck1vZGVsIGZyb20gXCIuLi8uLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi4vLi4vU3RhdHVzXCI7XG5pbXBvcnQgeyBTcGVsbERhdGEgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaW5pTWFwIGV4dGVuZHMgU3BlbGxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKHNwZWxsRGF0YTogU3BlbGxEYXRhLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHNwZWxsRGF0YSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBwZXJmb3JtKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogQWN0aW9uUmVzdWx0TW9kZWxcbiAgICB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIHJlc3VsdC5vbkFwcGx5LnB1c2goKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgICAgICBzb3VyY2UubWFuYS52YWx1ZS0tO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuYWRkU3RhdHVzKG5ldyBTdGF0dXMoU3RhdHVzVHlwZS5NaW5pTWFwKSk7XG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuc2hvd01pbmlNYXAgPSB0cnVlO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICgoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpICYmIChzb3VyY2UubWFuYS52YWx1ZSA+PSAxKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVjb3ZlcnlUaW1lKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsIGZyb20gXCIuLi8uLi9TcGVsbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IENoYXJhY3Rlck1vZGVsIGZyb20gXCIuLi8uLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi4vLi4vU3RhdHVzXCI7XG5pbXBvcnQgeyBTcGVsbERhdGEgfSBmcm9tIFwiLi4vLi4vLi4vZGF0YVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb3JjaExpZ2h0IGV4dGVuZHMgU3BlbGxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKHNwZWxsRGF0YTogU3BlbGxEYXRhLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHNwZWxsRGF0YSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBwZXJmb3JtKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogQWN0aW9uUmVzdWx0TW9kZWxcbiAgICB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIHJlc3VsdC5vbkFwcGx5LnB1c2goKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgICAgICBzb3VyY2UubWFuYS52YWx1ZS0tO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuYWRkU3RhdHVzKG5ldyBTdGF0dXMoU3RhdHVzVHlwZS5Ub3JjaExpZ2h0KSk7XG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuc2hvd1RvcmNoTGlnaHQgPSB0cnVlO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICgoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpICYmIChzb3VyY2UubWFuYS52YWx1ZSA+PSAxKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVjb3ZlcnlUaW1lKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59IiwiaW1wb3J0IFdhbGxNb2RlbCBmcm9tIFwiLi9XYWxsTW9kZWxcIjtcbmltcG9ydCB7IEdhbWVEYXRhLCBXYWxsRGV0YWlsc0RhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDZWxsTW9kZWxcbntcbiAgICB3YWxsczogV2FsbE1vZGVsW10gPSBbXTtcbiAgICBtaWRIZWlnaHQ6IG51bWJlciA9IDA7XG4gICAgZXhpdE9mZnNldE4gPSAwXG4gICAgZXhpdE9mZnNldEUgPSAwO1xuICAgIGV4aXRPZmZzZXRTID0gMDtcbiAgICBleGl0T2Zmc2V0VyA9IDA7XG5cbiAgICBnZXQgbm9ydGhXYWxsKCkgeyByZXR1cm4gdGhpcy53YWxsc1swXTsgfVxuICAgIGdldCBlYXN0V2FsbCgpIHsgcmV0dXJuIHRoaXMud2FsbHNbMV07IH1cbiAgICBnZXQgc291dGhXYWxsKCkgeyByZXR1cm4gdGhpcy53YWxsc1syXTsgfVxuICAgIGdldCB3ZXN0V2FsbCgpIHsgcmV0dXJuIHRoaXMud2FsbHNbM107IH1cbiAgICBnZXQgZmxvb3JXYWxsKCkgeyByZXR1cm4gdGhpcy53YWxsc1s0XTsgfVxuICAgIGdldCBjZWlsaW5nV2FsbCgpIHsgcmV0dXJuIHRoaXMud2FsbHNbNV07IH1cblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IEdhbWVEYXRhLCB3YWxsVHlwZXM6IChudW1iZXIgfCBXYWxsRGV0YWlsc0RhdGEpW10pXG4gICAge1xuICAgICAgICB3aGlsZSAod2FsbFR5cGVzLmxlbmd0aCA8IDYpXG4gICAgICAgICAgICB3YWxsVHlwZXMucHVzaCgwKTtcbiAgICAgICAgd2FsbFR5cGVzLmZvckVhY2godHlwZSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWxscy5wdXNoKG5ldyBXYWxsTW9kZWwoZGF0YS53YWxsc1t0eXBlXSkpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWxscy5wdXNoKG5ldyBXYWxsTW9kZWwoZGF0YS53YWxsc1t0eXBlLnRdLCB0eXBlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMud2FsbHNbNF0uZGV0YWlscylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5taWRIZWlnaHQgPSB0aGlzLndhbGxzWzRdLmRldGFpbHMubWlkIHx8IDA7XG4gICAgICAgICAgICB0aGlzLmV4aXRPZmZzZXROID0gdGhpcy53YWxsc1s0XS5kZXRhaWxzLm4gfHwgMDtcbiAgICAgICAgICAgIHRoaXMuZXhpdE9mZnNldEUgPSB0aGlzLndhbGxzWzRdLmRldGFpbHMuZSB8fCAwO1xuICAgICAgICAgICAgdGhpcy5leGl0T2Zmc2V0UyA9IHRoaXMud2FsbHNbNF0uZGV0YWlscy5zIHx8IDA7XG4gICAgICAgICAgICB0aGlzLmV4aXRPZmZzZXRXID0gdGhpcy53YWxsc1s0XS5kZXRhaWxzLncgfHwgMDtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lRGF0YSwgV29ybGRPYmplY3REYXRhLCBEb29yRGF0YSwgTGV2ZWxEb29yRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IHsgRmFjaW5nIH0gZnJvbSBcIi4uL1BsYXllck1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBMZXZlbE1vZGVsIGZyb20gXCIuL0xldmVsTW9kZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9vck1vZGVsIGltcGxlbWVudHMgQWN0aW9uVGFyZ2V0TW9kZWxcbntcbiAgICBkb29yRGF0YTogRG9vckRhdGE7XG4gICAgcG9zaXRpb246IFBvaW50MztcbiAgICB3YWxsOiBudW1iZXI7XG4gICAgdGFyZ2V0TGV2ZWw6IG51bWJlciA9IHVuZGVmaW5lZDtcbiAgICB0YXJnZXRQb3NpdGlvbjogUG9pbnQzO1xuICAgIHRhcmdldEZhY2luZzogRmFjaW5nO1xuICAgIG9wZW5BbmdsZTogbnVtYmVyO1xuICAgIGxldmVsTW9kZWw6TGV2ZWxNb2RlbDtcblxuICAgIGlzT3BlbjogT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlPGJvb2xlYW4+KGZhbHNlKTtcblxuICAgIGdldCBmaWxlbmFtZSgpIHsgcmV0dXJuIHRoaXMuZG9vckRhdGEuZmlsZW5hbWU7IH1cbiAgICBnZXQgbm9ybWFsTWFwKCkgeyByZXR1cm4gdGhpcy5kb29yRGF0YS5ub3JtYWxNYXAgfHwgbnVsbDsgfVxuICAgIGdldCBsb2NrZWQoKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIGdldCBvcGVucygpIHsgcmV0dXJuIHRoaXMudGFyZ2V0TGV2ZWwgPT09IHVuZGVmaW5lZDsgfVxuXG4gICAgY29uc3RydWN0b3IoZ2FtZURhdGE6IEdhbWVEYXRhLCBsZXZlbERvb3JEYXRhOiBMZXZlbERvb3JEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5kb29yRGF0YSA9IGdhbWVEYXRhLmRvb3JzW2xldmVsRG9vckRhdGEudHlwZV07XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgUG9pbnQzKGxldmVsRG9vckRhdGEucG9zaXRpb24uc2xpY2UoMCwzKSk7XG4gICAgICAgIHRoaXMud2FsbCA9IGxldmVsRG9vckRhdGEucG9zaXRpb25bM107XG4gICAgICAgIGlmIChsZXZlbERvb3JEYXRhLnRhcmdldClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50YXJnZXRMZXZlbCA9IGxldmVsRG9vckRhdGEudGFyZ2V0WzBdO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRQb3NpdGlvbiA9IG5ldyBQb2ludDMobGV2ZWxEb29yRGF0YS50YXJnZXQuc2xpY2UoMSw0KSk7XG4gICAgICAgICAgICBsZXQgZiA9IGxldmVsRG9vckRhdGEudGFyZ2V0WzRdO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRGYWNpbmcgPSBmO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcGVuQW5nbGUgPSBsZXZlbERvb3JEYXRhLm9wZW5BbmdsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZShsZXZlbE1vZGVsOiBMZXZlbE1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5sZXZlbE1vZGVsID0gbGV2ZWxNb2RlbDtcbiAgICAgICAgbGV0IGNlbGwgPSBsZXZlbE1vZGVsLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdO1xuICAgICAgICBsZXQgd2FsbCA9IGNlbGwud2FsbHNbdGhpcy53YWxsXTtcbiAgICAgICAgaWYgKHRoaXMub3BlbnMpXG4gICAgICAgICAgICB3YWxsLmFscGhhTWFwID0gdGhpcy5kb29yRGF0YS5hbHBoYU1hcDtcbiAgICAgICAgd2FsbC5wYXNzYWJsZSA9IHRoaXMuaXNPcGVuLnZhbHVlO1xuICAgIH1cblxuICAgIGdldFBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5wb3NpdGlvbjsgfVxuXG4gICAgY2hhbmdlT3BlblN0YXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuaXNPcGVuLnZhbHVlID0gIXRoaXMuaXNPcGVuLnZhbHVlO1xuXG4gICAgICAgIGxldCBjZWxsID0gdGhpcy5sZXZlbE1vZGVsLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdO1xuICAgICAgICBsZXQgd2FsbCA9IGNlbGwud2FsbHNbdGhpcy53YWxsXTtcbiAgICAgICAgd2FsbC5wYXNzYWJsZSA9IHRoaXMuaXNPcGVuLnZhbHVlO1xuICAgIH1cbn0iLCJpbXBvcnQgQ2VsbE1vZGVsIGZyb20gXCIuL0NlbGxNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEsIExldmVsRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5pbXBvcnQgV29ybGRPYmplY3RNb2RlbCBmcm9tIFwiLi9Xb3JsZE9iamVjdE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4vTlBDTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgRG9vck1vZGVsIGZyb20gXCIuL0Rvb3JNb2RlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMZXZlbE1vZGVsXG57XG4gICAgY2VsbHM6IENlbGxNb2RlbFtdW11bXTtcbiAgICBkb29yczogRG9vck1vZGVsW107XG4gICAgb2JqZWN0czogV29ybGRPYmplY3RNb2RlbFtdO1xuICAgIG5wY3M6IE5QQ01vZGVsW107XG4gICAgbGV2ZWxUeXBlOiBMZXZlbERhdGE7XG5cbiAgICBnZXQgbmFtZSgpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLm5hbWU7IH1cbiAgICBnZXQgcGFyZW50QXJlYU5hbWUoKSB7IHJldHVybiB0aGlzLmxldmVsVHlwZS5wYXJlbnRBcmVhTmFtZTsgfVxuICAgIGdldCB3aWR0aCgpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLndpZHRoOyB9XG4gICAgZ2V0IGhlaWdodCgpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLmhlaWdodDsgfVxuICAgIGdldCBkZXB0aCgpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLmRlcHRoOyB9XG4gICAgZ2V0IHN0YXJ0aW5nUG9zaXRpb24oKSB7IHJldHVybiBuZXcgUG9pbnQzKHRoaXMubGV2ZWxUeXBlLnN0YXJ0aW5nUG9zaXRpb25bMF0sdGhpcy5sZXZlbFR5cGUuc3RhcnRpbmdQb3NpdGlvblsxXSx0aGlzLmxldmVsVHlwZS5zdGFydGluZ1Bvc2l0aW9uWzJdKTsgfVxuICAgIGdldCBzdGFydGluZ0ZhY2luZygpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLnN0YXJ0aW5nRmFjaW5nOyB9XG4gICAgZ2V0IG91dHNpZGUoKSB7IHJldHVybiB0aGlzLmxldmVsVHlwZS5vdXRzaWRlOyB9XG4gICAgZ2V0IHNreWJveElEKCkgeyByZXR1cm4gdGhpcy5sZXZlbFR5cGUuc2t5Ym94OyB9XG5cbiAgICBjcmVhdGUoZ2FtZU1vZGVsOiBHYW1lTW9kZWwsIGxldmVsOiBMZXZlbERhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmxldmVsVHlwZSA9IGxldmVsO1xuICAgICAgICB0aGlzLmNlbGxzID0gdGhpcy5jcmVhdGVDZWxscyhnYW1lTW9kZWwuZGF0YSwgbGV2ZWwpO1xuICAgICAgICB0aGlzLmRvb3JzID0gdGhpcy5jcmVhdGVEb29ycyhnYW1lTW9kZWwuZGF0YSwgbGV2ZWwpO1xuICAgICAgICB0aGlzLm9iamVjdHMgPSB0aGlzLmNyZWF0ZU9iamVjdHMoZ2FtZU1vZGVsLmRhdGEsIGxldmVsKTtcbiAgICAgICAgdGhpcy5ucGNzID0gdGhpcy5jcmVhdGVOUENzKGdhbWVNb2RlbCwgbGV2ZWwpO1xuICAgIH1cblxuICAgIHNhdmUoZ2FtZURhdGE6IEdhbWVEYXRhLCBsZXZlbDogTGV2ZWxEYXRhKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IG5ld1dhbGxzID0gW11cbiAgICAgICAgZm9yIChsZXQgeSA9IDA7eTx0aGlzLmhlaWdodDt5KyspXG4gICAgICAgICAgICBmb3IgKGxldCB6ID0gMDt6PHRoaXMuZGVwdGg7eisrKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwO3g8dGhpcy53aWR0aDt4KyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNlbGxzW3hdW3ldW3pdLndhbGxzLmZvckVhY2godyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LmRldGFpbHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAody5oaWRkZW4udmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdXYWxscy5wdXNoKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcuZGV0YWlscy50ID0gZ2FtZURhdGEud2FsbHMuaW5kZXhPZih3LndhbGxEYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dhbGxzLnB1c2gody5kZXRhaWxzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LmhpZGRlbi52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dhbGxzLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dhbGxzLnB1c2goZ2FtZURhdGEud2FsbHMuaW5kZXhPZih3LndhbGxEYXRhLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBsZXZlbC53YWxscyA9IG5ld1dhbGxzO1xuXG4gICAgICAgIGxldCBucGNzID0gW107XG4gICAgICAgIHRoaXMubnBjcy5mb3JFYWNoKG4gPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gZ2FtZURhdGEubnBjcy5pbmRleE9mKG4ubnBjVHlwZSk7XG4gICAgICAgICAgICAgICAgbnBjcy5wdXNoKHt0eXBlOiBpZCwgcG9zaXRpb246IFtuLnBvc2l0aW9uLnZhbHVlLngsbi5wb3NpdGlvbi52YWx1ZS55LG4ucG9zaXRpb24udmFsdWUuel19KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldmVsLm5wY3MgPSBucGNzO1xuXG4gICAgICAgIGxldCBvYmplY3RzID0gW107XG4gICAgICAgIHRoaXMub2JqZWN0cy5mb3JFYWNoKG8gPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gZ2FtZURhdGEub2JqZWN0cy5pbmRleE9mKG8ub2JqZWN0VHlwZSk7XG4gICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKHt0eXBlOiBpZCwgcG9zaXRpb246IFtvLnBvc2l0aW9uLnZhbHVlLngsby5wb3NpdGlvbi52YWx1ZS55LG8ucG9zaXRpb24udmFsdWUuel19KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldmVsLm9iamVjdHMgPSBvYmplY3RzO1xuICAgIH1cblxuICAgIGNyZWF0ZURvb3JzKGRhdGE6IEdhbWVEYXRhLCBsZXZlbDogTGV2ZWxEYXRhKTogRG9vck1vZGVsW11cbiAgICB7XG4gICAgICAgIGxldCBkb29ycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTxsZXZlbC5kb29ycy5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZG9vciA9IG5ldyBEb29yTW9kZWwoZGF0YSwgbGV2ZWwuZG9vcnNbaV0pO1xuICAgICAgICAgICAgZG9vci5jcmVhdGUodGhpcyk7XG4gICAgICAgICAgICBkb29ycy5wdXNoKGRvb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb29ycztcbiAgICB9XG5cbiAgICBjcmVhdGVPYmplY3RzKGRhdGE6IEdhbWVEYXRhLCBsZXZlbDogTGV2ZWxEYXRhKTogV29ybGRPYmplY3RNb2RlbFtdXG4gICAge1xuICAgICAgICBsZXQgb2JqZWN0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTxsZXZlbC5vYmplY3RzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBvYmogPSBuZXcgV29ybGRPYmplY3RNb2RlbChkYXRhLCBsZXZlbC5vYmplY3RzW2ldLnR5cGUsIGxldmVsLm9iamVjdHNbaV0ucG9zaXRpb24pO1xuICAgICAgICAgICAgb2JqLmNyZWF0ZSgpO1xuICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdHM7XG4gICAgfVxuXG4gICAgY3JlYXRlTlBDcyhnYW1lTW9kZWw6IEdhbWVNb2RlbCwgbGV2ZWw6IExldmVsRGF0YSk6IE5QQ01vZGVsW11cbiAgICB7XG4gICAgICAgIGxldCBucGNzID0gW107XG4gICAgICAgIGZvciAobGV0IGk9MDtpPGxldmVsLm5wY3MubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG5wYyA9IG5ldyBOUENNb2RlbChnYW1lTW9kZWwsIGxldmVsLm5wY3NbaV0udHlwZSwgbGV2ZWwubnBjc1tpXS5wb3NpdGlvbik7XG4gICAgICAgICAgICBucGMuY3JlYXRlKCk7XG4gICAgICAgICAgICBucGNzLnB1c2gobnBjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnBjcztcbiAgICB9XG5cbiAgICBjcmVhdGVDZWxscyhkYXRhOiBHYW1lRGF0YSwgbGV2ZWw6IExldmVsRGF0YSlcbiAgICB7XG4gICAgICAgIGxldCByb3dzID0gW107XG4gICAgICAgIGZvcihsZXQgaT0wO2k8bGV2ZWwud2lkdGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGF5ZXJzID0gW11cbiAgICAgICAgICAgIGZvcihsZXQgaD0wO2g8bGV2ZWwuaGVpZ2h0O2grKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgY29sID0gW107XG4gICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7ajxsZXZlbC5kZXB0aDtqKyspXG4gICAgICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IChoKmxldmVsLndpZHRoKmxldmVsLmRlcHRoKjYpKyhqKmxldmVsLndpZHRoKjYpK2kqNjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdhbGxTdWJzZXQgPSBsZXZlbC53YWxscy5zbGljZShzdGFydCwgc3RhcnQgKyA2KTtcbiAgICAgICAgICAgICAgICAgICAgY29sLnB1c2gobmV3IENlbGxNb2RlbChkYXRhLCB3YWxsU3Vic2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKGNvbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dzLnB1c2gobGF5ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm93cztcbiAgICB9XG59IiwiaW1wb3J0IHsgTlBDRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5pbXBvcnQgQWN0b3JNb2RlbCBmcm9tIFwiLi4vQWN0b3JNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvbk1vZGVsIGZyb20gXCIuLi9hY3Rpb24vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBBdHRhY2tBY3Rpb25Nb2RlbCBmcm9tIFwiLi4vYWN0aW9uL0F0dGFja0FjdGlvbk1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9hY3Rpb24vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCwgeyBIZWFsdGhTdGF0ZSB9IGZyb20gXCIuLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IE9ic2VydmVyVmFyaWFibGUgZnJvbSBcImVuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGVcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOUENNb2RlbCBleHRlbmRzIEFjdG9yTW9kZWwgaW1wbGVtZW50cyBBY3Rpb25Tb3VyY2VNb2RlbCwgQWN0aW9uVGFyZ2V0TW9kZWxcbntcbiAgICBucGNUeXBlOiBOUENEYXRhO1xuICAgIGFsaXZlOiBPYnNlcnZlclZhcmlhYmxlPGJvb2xlYW4+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUodHJ1ZSk7XG4gICAgcGVyZm9ybWluZ0FjdGlvbjogT2JzZXJ2ZXJWYXJpYWJsZTxBY3Rpb25SZXN1bHRNb2RlbD4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZShudWxsKTtcbiAgICBkZWxheWluZzogT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKGZhbHNlKTtcbiAgICBhY3Rpb25zOiBBY3Rpb25Nb2RlbFtdO1xuICAgIGxvb3RlZDogT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKGZhbHNlKTtcblxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLm5hbWU7IH1cbiAgICBnZXQgZmlsZW5hbWUoKSB7IHJldHVybiB0aGlzLm5wY1R5cGUuZmlsZW5hbWU7IH1cbiAgICBnZXQgaHBTcGVjKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLmhwOyB9XG4gICAgZ2V0IGxvb3RTcGVjKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLmxvb3Q7IH1cbiAgICBnZXQgaG9zdGlsZSgpIHsgcmV0dXJuIHRoaXMubnBjVHlwZS5ob3N0aWxlOyB9XG4gICAgZ2V0IGRlYWRUZXh0dXJlKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLmRlYWRUZXh0dXJlOyB9XG5cbiAgICBwb3NpdGlvbjogT2JzZXJ2ZXJWYXJpYWJsZTxQb2ludDM+O1xuXG4gICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLnBvc2l0aW9uLnZhbHVlOyB9XG5cbiAgICBwcml2YXRlIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuXG4gICAgY29uc3RydWN0b3IoZ2FtZU1vZGVsOiBHYW1lTW9kZWwsIHR5cGU6IG51bWJlciwgcG9zaXRpb246IG51bWJlcltdKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgICAgIHRoaXMubnBjVHlwZSA9IGdhbWVNb2RlbC5kYXRhLm5wY3NbdHlwZV07XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZShuZXcgUG9pbnQzKHBvc2l0aW9uKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMubWF4SGl0cG9pbnRzID0gbmV3IE9ic2VydmVyVmFyaWFibGUoR2FtZU1vZGVsLnJvbGxEaWNlKHRoaXMuaHBTcGVjKSk7XG4gICAgICAgIHRoaXMuaGl0cG9pbnRzID0gbmV3IE9ic2VydmVyVmFyaWFibGUodGhpcy5tYXhIaXRwb2ludHMudmFsdWUpO1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5ucGNUeXBlLmFjdGlvbnMuZm9yRWFjaChhID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGEudHlwZSA9PT0gXCJhdHRhY2tcIilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLnB1c2gobmV3IEF0dGFja0FjdGlvbk1vZGVsKHRoaXMuZ2FtZU1vZGVsLCBhLm5hbWUsIGEuZGFtYWdlLCBhLnJhbmdlKSk7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIGNoZWNrSGVhbHRoU3RhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaGl0cG9pbnRzLnZhbHVlIDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWxpdmUudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUubnBjRGllZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFjdCgpXG4gICAge1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHRhcmdldDogQ2hhcmFjdGVyTW9kZWw7XG4gICAgICAgIHdoaWxlICghZm91bmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKih0aGlzLmdhbWVNb2RlbC5wYXJ0eS5jaGFyYWN0ZXJzLmxlbmd0aC0xKSk7XG4gICAgICAgICAgICB0YXJnZXQgPSB0aGlzLmdhbWVNb2RlbC5wYXJ0eS5jaGFyYWN0ZXJzW3JdO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5oZWFsdGhTdGF0ZS52YWx1ZSAhPT0gSGVhbHRoU3RhdGUuRGVhZClcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGF2YWlsYWJsZUFjdGlvbnMgPSB0aGlzLmFjdGlvbnMuZmlsdGVyKGEgPT4gYS50ZXN0KHRoaXMsIHRhcmdldCkpO1xuICAgICAgICBpZiAoYXZhaWxhYmxlQWN0aW9ucy5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5nYW1lTW9kZWwubnBjUGVyZm9ybUFjdGlvbih0aGlzLCB0YXJnZXQsIGF2YWlsYWJsZUFjdGlvbnNbMF0pO1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtaW5nQWN0aW9uLnZhbHVlID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZGVsYXlpbmcudmFsdWUgPSB0cnVlO1xuICAgIH1cblxuICAgIGFwcGx5QWN0aW9uUmVzdWx0KGFjdGlvblJlc3VsdDogQWN0aW9uUmVzdWx0TW9kZWwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wZXJmb3JtaW5nQWN0aW9uLnZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5hcHBseUFjdGlvblJlc3VsdChhY3Rpb25SZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtaW5nQWN0aW9uLnZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGVsYXlpbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLm5wY0RlbGF5KHRoaXMsIDEpOyAgIFxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IFdhbGxEYXRhLCBXYWxsRGV0YWlsc0RhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuaW1wb3J0IE9ic2VydmVyVmFyaWFibGUgZnJvbSBcImVuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGVcIjtcbmltcG9ydCB7IFRleHR1cmVFbXB0eSB9IGZyb20gXCJleGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvZGF0YVwiXG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsTW9kZWwgaW1wbGVtZW50cyBBY3Rpb25UYXJnZXRNb2RlbFxue1xuICAgIHdhbGxEYXRhOiBPYnNlcnZlclZhcmlhYmxlPFdhbGxEYXRhPjtcbiAgICBkZXRhaWxzOiBXYWxsRGV0YWlsc0RhdGE7XG4gICAgX3Bhc3NhYmxlOiBib29sZWFuO1xuICAgIGdldCBmaWxlbmFtZSgpIHsgcmV0dXJuIHRoaXMud2FsbERhdGEudmFsdWUuZmlsZW5hbWU7IH1cbiAgICBnZXQgcGFzc2FibGUoKSB7IHJldHVybiB0aGlzLl9wYXNzYWJsZSB8fCB0aGlzLmhpZGRlbi52YWx1ZSB9XG4gICAgc2V0IHBhc3NhYmxlKHZhbCkgeyB0aGlzLl9wYXNzYWJsZSA9IHZhbDsgfVxuICAgIGdldCBjcmVhdGUoKSB7IHJldHVybiB0aGlzLndhbGxEYXRhLnZhbHVlLmZpbGVuYW1lICE9PSBUZXh0dXJlRW1wdHk7IH1cbiAgICBnZXQgbm9ybWFsTWFwKCkgeyByZXR1cm4gKHRoaXMud2FsbERhdGEudmFsdWUubm9ybWFsTWFwIHx8IHVuZGVmaW5lZCk7IH1cbiAgICBoaWRkZW46IE9ic2VydmVyVmFyaWFibGU8Ym9vbGVhbj47XG4gICAgYWxwaGFNYXA6IHN0cmluZztcblxuICAgIGdldFBvc2l0aW9uKCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgY29uc3RydWN0b3Iod2FsbERhdGE6IFdhbGxEYXRhLCBkZXRhaWxzPzogV2FsbERldGFpbHNEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy53YWxsRGF0YSA9IG5ldyBPYnNlcnZlclZhcmlhYmxlPFdhbGxEYXRhPih3YWxsRGF0YSk7XG4gICAgICAgIHRoaXMuaGlkZGVuID0gbmV3IE9ic2VydmVyVmFyaWFibGU8Ym9vbGVhbj4oISh0aGlzLmNyZWF0ZSkpO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgICAgICB0aGlzLl9wYXNzYWJsZSA9IHdhbGxEYXRhLnBhc3NhYmxlO1xuICAgIH1cbn0iLCJpbXBvcnQgTGV2ZWxNb2RlbCBmcm9tIFwiLi9MZXZlbE1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgeyBHYW1lRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmxkTW9kZWxcbntcbiAgICBsZXZlbHM6IExldmVsTW9kZWxbXVxuICAgIGN1cnJlbnRMZXZlbDogT2JzZXJ2ZXJWYXJpYWJsZTxMZXZlbE1vZGVsPlxuXG4gICAgZ2V0IGN1cnJlbnRMZXZlbElEKCkgeyByZXR1cm4gdGhpcy5sZXZlbHMuaW5kZXhPZih0aGlzLmN1cnJlbnRMZXZlbC52YWx1ZSk7IH1cblxuICAgIGNyZWF0ZShnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMubGV2ZWxzID0gW107XG4gICAgICAgIGdhbWVNb2RlbC5kYXRhLmxldmVscy5mb3JFYWNoKGwgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGxldmVsID0gbmV3IExldmVsTW9kZWwoKTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgICAgICAgICAgbGV2ZWwuY3JlYXRlKGdhbWVNb2RlbCwgbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gbmV3IE9ic2VydmVyVmFyaWFibGU8TGV2ZWxNb2RlbD4odGhpcy5sZXZlbHNbZ2FtZU1vZGVsLmRhdGEucGxheWVyLmxldmVsXSk7XG4gICAgfVxuXG4gICAgc2F2ZShkYXRhOiBHYW1lRGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMubGV2ZWxzLmZvckVhY2gobCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGwuc2F2ZShkYXRhLCBsLmxldmVsVHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzd2l0Y2hUb0xldmVsKGxldmVsOiBMZXZlbE1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwudmFsdWUgPSBsZXZlbDtcbiAgICB9XG59IiwiaW1wb3J0IHsgR2FtZURhdGEsIFdvcmxkT2JqZWN0RGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JsZE9iamVjdE1vZGVsIGltcGxlbWVudHMgQWN0aW9uVGFyZ2V0TW9kZWxcbntcbiAgICBvYmplY3RUeXBlOiBXb3JsZE9iamVjdERhdGE7XG4gICAgcG9zaXRpb246IE9ic2VydmVyVmFyaWFibGU8UG9pbnQzPjtcblxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy5vYmplY3RUeXBlLm5hbWU7IH1cbiAgICBnZXQgZmlsZW5hbWUoKSB7IHJldHVybiB0aGlzLm9iamVjdFR5cGUuZmlsZW5hbWU7IH1cblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IEdhbWVEYXRhLCB0eXBlOiBudW1iZXIsIHBvc2l0aW9uOiBudW1iZXJbXSlcbiAgICB7XG4gICAgICAgIHRoaXMub2JqZWN0VHlwZSA9IGRhdGEub2JqZWN0c1t0eXBlXTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKG5ldyBQb2ludDMocG9zaXRpb24pKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcblxuICAgIH1cblxuICAgIGdldFBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5wb3NpdGlvbi52YWx1ZTsgfVxufSIsImltcG9ydCBXb3JsZE9iamVjdE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9Xb3JsZE9iamVjdE1vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBUaHJlZU1lc2ggZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaFwiO1xuaW1wb3J0IERvb3JNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvRG9vck1vZGVsXCI7XG5pbXBvcnQgTG9hZGVyIGZyb20gXCJlbmdpbmUvaW8vTG9hZGVyXCI7XG5pbXBvcnQgV3JhcHBpbmdWYWx1ZVR3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dyYXBwaW5nVmFsdWVUd2VlblwiO1xuaW1wb3J0IEFzc2V0IGZyb20gXCJlbmdpbmUvQXNzZXRcIjtcbmltcG9ydCBHZW9tTG9hZGVyIGZyb20gXCIuL0dlb21Mb2FkZXJcIjtcbmltcG9ydCBNYXRlcmlhbExvYWRlciBmcm9tIFwiLi9NYXRlcmlhbExvYWRlclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IEFuaW1hdGlvbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9BbmltYXRpb25cIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9vciBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBtb2RlbDogRG9vck1vZGVsO1xuICAgIG1lc2g6IFRocmVlTWVzaDtcbiAgICBfdHVybkFuaW1zOiBBbmltYXRpb25bXSA9IFtdO1xuXG4gICAgZ2VvbTogQXNzZXQ8YW55PjsgLy9USFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5XG4gICAgbWF0ZXJpYWw6IEFzc2V0PGFueT5cblxuICAgIGNvbnN0cnVjdG9yKG1vZGVsOiBEb29yTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIH1cblxuICAgIGxvYWQoe2xvYWRlcjogbG9hZGVyfSA6IHtsb2FkZXI6IExvYWRlcn0pXG4gICAge1xuICAgICAgICB0aGlzLmdlb20gPSB0aGlzLmFkZEFzc2V0KEdlb21Mb2FkZXIuZ2V0U2hhcmVkUGxhbmVHZW9tKGxvYWRlcikpO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gdGhpcy5hZGRBc3NldChNYXRlcmlhbExvYWRlci5nZXRTaGFyZWRNYXRlcmlhbEFzc2V0KGxvYWRlciwgdGhpcy5tb2RlbC5maWxlbmFtZSwgdGhpcy5tb2RlbC5ub3JtYWxNYXAsIG51bGwsIG5ldyBQb2ludCgxLDEpLCB0cnVlLCB0cnVlKSk7XG4gICAgICAgIHJldHVybiAoKHRoaXMubWF0ZXJpYWwgIT09IG51bGwpICYmICh0aGlzLmdlb20gIT09IG51bGwpKTtcbiAgICB9XG4gICAgXG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IG1lc2ggPSBuZXcgVGhyZWVNZXNoKHRoaXMuZ2VvbS5hc3NldCx0aGlzLm1hdGVyaWFsLmFzc2V0KTtcbiAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnggPSB0aGlzLm1vZGVsLnBvc2l0aW9uLng7XG4gICAgICAgIG1lc2gubWVzaC5wb3NpdGlvbi55ID0gdGhpcy5tb2RlbC5wb3NpdGlvbi55O1xuICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueiA9IHRoaXMubW9kZWwucG9zaXRpb24uejtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwud2FsbCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnogLT0gMC40OTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueCArPSAwLjQ5O1xuICAgICAgICAgICAgbWVzaC5tZXNoLnJvdGF0aW9uLnkgLT0gTWF0aC5QSS8yXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW9kZWwud2FsbCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnogKz0gMC40OTtcbiAgICAgICAgICAgIG1lc2gubWVzaC5yb3RhdGlvbi55ICs9IE1hdGguUElcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAzKVxuICAgICAgICB7XG4gICAgICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueCAtPSAwLjQ5O1xuICAgICAgICAgICAgbWVzaC5tZXNoLnJvdGF0aW9uLnkgKz0gTWF0aC5QSS8yXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5hZGRDaGlsZChtZXNoKTtcbiAgICAgICAgdGhpcy5tb2RlbC5pc09wZW4ub25VcGRhdGUucHVzaCh0aGlzLmNoYW5nZU9wZW5TdGF0ZS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gudXNlckRhdGEgPSB7Z2FtZU9iamVjdDogdGhpc307XG4gICAgfVxuXG4gICAgY2hhbmdlT3BlblN0YXRlKG9wZW46IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAwKVxuICAgICAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihvcGVuID8gdGhpcy5tb2RlbC5vcGVuQW5nbGUgOiAwLCA1MDApXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLndhbGwgPT09IDEpXG4gICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKG9wZW4gPyB0aGlzLm1vZGVsLm9wZW5BbmdsZSAtIE1hdGguUEkvMiA6IC1NYXRoLlBJLzIsIDUwMCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLndhbGwgPT09IDIpXG4gICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKG9wZW4gPyB0aGlzLm1vZGVsLm9wZW5BbmdsZSArIE1hdGguUEkgOiBNYXRoLlBJLCA1MDApO1xuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAzKVxuICAgICAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihvcGVuID8gdGhpcy5tb2RlbC5vcGVuQW5nbGUgKyBNYXRoLlBJLzIgOiBNYXRoLlBJLzIsIDUwMCk7XG4gICAgfVxuXG4gICAgc2V0Um90YXRpb24oeSwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdHVybkFuaW1zLmZvckVhY2goYSA9PiBhLnJlcXVlc3RSZW1vdmFsKCkpO1xuICAgICAgICB0aGlzLl90dXJuQW5pbXMgPSBbXTtcbiAgICAgICAgLy90aGlzLmFkZFR1cm5BbmltKHRoaXMubWVzaC5tZXNoLnJvdGF0aW9uLCBcInlcIiwgeSwgdGltZSlcbiAgICAgICAgbGV0IHcgPSB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KHRpbWUpKTtcbiAgICAgICAgdy5vblN0ZXAucHVzaCh0aGlzLnJvdGF0ZUFib3V0UG9pbnQuYmluZCh0aGlzLCBuZXcgVEhSRUUuVmVjdG9yMygwLDAsMCksIG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKSwgKHRoaXMubWVzaC5tZXNoLnJvdGF0aW9uLnkgLSB5KS90aW1lLCBmYWxzZSksIHRoaXMpO1xuICAgICAgICB0aGlzLl90dXJuQW5pbXMucHVzaCh3KTtcbiAgICB9XG5cbiAgICByb3RhdGVBYm91dFBvaW50KHBvaW50LCBheGlzLCB0aGV0YSwgcG9pbnRJc1dvcmxkOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYocG9pbnRJc1dvcmxkKVxuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gucGFyZW50LmxvY2FsVG9Xb3JsZCh0aGlzLm1lc2gubWVzaC5wb3NpdGlvbik7IC8vIGNvbXBlbnNhdGUgZm9yIHdvcmxkIGNvb3JkaW5hdGVcbiAgICAgIFxuICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5zdWIocG9pbnQpOyAvLyByZW1vdmUgdGhlIG9mZnNldFxuICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5hcHBseUF4aXNBbmdsZShheGlzLCB0aGV0YSk7IC8vIHJvdGF0ZSB0aGUgUE9TSVRJT05cbiAgICAgICAgdGhpcy5tZXNoLm1lc2gucG9zaXRpb24uYWRkKHBvaW50KTsgLy8gcmUtYWRkIHRoZSBvZmZzZXRcbiAgICAgIFxuICAgICAgICBpZihwb2ludElzV29ybGQpe1xuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gucGFyZW50LndvcmxkVG9Mb2NhbCh0aGlzLm1lc2gubWVzaC5wb3NpdGlvbik7IC8vIHVuZG8gd29ybGQgY29vcmRpbmF0ZXMgY29tcGVuc2F0aW9uXG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICB0aGlzLm1lc2gubWVzaC5yb3RhdGVPbkF4aXMoYXhpcywgdGhldGEpOyAvLyByb3RhdGUgdGhlIE9CSkVDVFxuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgfVxuXG4gICAgYWRkVHVybkFuaW0ob2JqZWN0OiBhbnksIHZhck5hbWU6IHN0cmluZywgdGFyZ2V0OiBudW1iZXIsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX3R1cm5Bbmltcy5wdXNoKHRoaXMuYWRkQ2hpbGQobmV3IFdyYXBwaW5nVmFsdWVUd2VlbihvYmplY3QsIHZhck5hbWUsIHRhcmdldCwgdGltZSwgTWF0aC5QSSoyKSkpO1xuICAgICAgICBsZXQgYSA9IHRoaXMuX3R1cm5Bbmltc1t0aGlzLl90dXJuQW5pbXMubGVuZ3RoLTFdO1xuICAgICAgICBhLm9uQ29tcGxldGUucHVzaCgoKCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3R1cm5Bbmltcy5zcGxpY2UodGhpcy5fdHVybkFuaW1zLmluZGV4T2YoYSksMSlcbiAgICAgICAgfSkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbn0iLCJpbXBvcnQgQXNzZXQgZnJvbSBcImVuZ2luZS9Bc3NldFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvbUxvYWRlclxue1xuICAgIHN0YXRpYyBnZXRTaGFyZWRQbGFuZUdlb20obG9hZGVyKTogQXNzZXQ8YW55PlxuICAgIHtcbiAgICAgICAgbGV0IGdlb21Bc3NldCA9IGxvYWRlci5nZXRTaGFyZWRBc3NldChcIiNwbGFuZUdlb21cIilcbiAgICAgICAgaWYgKCEoZ2VvbUFzc2V0LmxvYWRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21Bc3NldC5zZXQobmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSkpXG4gICAgICAgICAgICBnZW9tQXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VvbUFzc2V0O1xuICAgIH1cbn0iLCJpbXBvcnQgTG9hZGVyIGZyb20gXCJlbmdpbmUvaW8vTG9hZGVyXCI7XG5pbXBvcnQgQXNzZXQgZnJvbSBcImVuZ2luZS9Bc3NldFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0ZXJpYWxMb2FkZXJcbntcbiAgICBzdGF0aWMgZ2V0U2hhcmVkTWF0ZXJpYWxBc3NldChsb2FkZXI6IExvYWRlciwgZmlsZW5hbWU6IHN0cmluZywgbm9ybWFsTWFwOiBzdHJpbmcsIGFscGhhTWFwOiBzdHJpbmcsIHJlcGVhdDogUG9pbnQsIHRyYW5zcGFyZW50OiBib29sZWFuLCB0d29zaWRlczogYm9vbGVhbik6IEFzc2V0PGFueT5cbiAgICB7XG4gICAgICAgIG5vcm1hbE1hcCA9IG5vcm1hbE1hcCB8fCBudWxsO1xuICAgICAgICBhbHBoYU1hcCA9IGFscGhhTWFwIHx8IG51bGw7XG4gICAgICAgIFxuICAgICAgICBsZXQgbmFtZSA9IGZpbGVuYW1lK1wiI21hdFwiICsgKG5vcm1hbE1hcCAhPT0gbnVsbCA/IFwiI25vcm1hbD1cIitub3JtYWxNYXAgOiBcIlwiKSArIChhbHBoYU1hcCAhPT0gbnVsbCA/IFwiI2FscGhhPVwiICsgYWxwaGFNYXAgOiBcIlwiKTtcbiAgICAgICAgbGV0IG1hdGVyaWFsQXNzZXQgPSBsb2FkZXIuZ2V0U2hhcmVkQXNzZXQobmFtZSk7XG4gICAgICAgIGlmICghKG1hdGVyaWFsQXNzZXQubG9hZGVkKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG1hdGVyaWFsID0gTWF0ZXJpYWxMb2FkZXIubG9hZE1hdGVyaWFsKGxvYWRlciwgZmlsZW5hbWUsIG5vcm1hbE1hcCwgYWxwaGFNYXAsIHJlcGVhdCwgdHJhbnNwYXJlbnQsIHR3b3NpZGVzKTtcbiAgICAgICAgICAgIGlmICghKG1hdGVyaWFsKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIG1hdGVyaWFsQXNzZXQuc2V0KG1hdGVyaWFsKTtcbiAgICAgICAgICAgIG1hdGVyaWFsQXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0ZXJpYWxBc3NldDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VGV4dHVyZUFzc2V0KGxvYWRlcjogTG9hZGVyLCBmaWxlbmFtZTogc3RyaW5nLCByZXBlYXQ6IFBvaW50KVxuICAgIHtcbiAgICAgICAgbGV0IHRleHR1cmVBc3NldCA9IGxvYWRlci5nZXRTaGFyZWRBc3NldChmaWxlbmFtZSk7XG4gICAgICAgIGlmICghKHRleHR1cmVBc3NldC5hc3NldCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKGZpbGVuYW1lLCAoKHRleHR1cmUpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKChyZXBlYXQueCAhPT0gMSkgfHwgKHJlcGVhdC55ICE9PSAxKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUud3JhcFMgPSB0ZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUub2Zmc2V0LnNldCggMCwgMCApO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoIHJlcGVhdC54LCByZXBlYXQueSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXh0dXJlQXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGV4dHVyZUFzc2V0LnNldCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dHVyZUFzc2V0O1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2FkTWF0ZXJpYWwobG9hZGVyOiBMb2FkZXIsIGZpbGVuYW1lOiBzdHJpbmcsIG5vcm1hbE1hcDogc3RyaW5nLCBhbHBoYU1hcDogc3RyaW5nLCByZXBlYXQ6IFBvaW50LCB0cmFuc3BhcmVudDogYm9vbGVhbiwgdHdvc2lkZXM6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBsZXQgbm9ybWFsTWFwQXNzZXQ7XG4gICAgICAgIGxldCBhbHBoYU1hcEFzc2V0O1xuICAgICAgICBsZXQgbWFwQXNzZXQgPSBNYXRlcmlhbExvYWRlci5nZXRUZXh0dXJlQXNzZXQobG9hZGVyLCBmaWxlbmFtZSwgcmVwZWF0KTtcbiAgICAgICAgaWYgKG5vcm1hbE1hcCAhPT0gbnVsbClcbiAgICAgICAgICAgIG5vcm1hbE1hcEFzc2V0ID0gTWF0ZXJpYWxMb2FkZXIuZ2V0VGV4dHVyZUFzc2V0KGxvYWRlciwgbm9ybWFsTWFwLCByZXBlYXQpO1xuICAgICAgICBpZiAoYWxwaGFNYXAgIT09IG51bGwpXG4gICAgICAgICAgICBhbHBoYU1hcEFzc2V0ID0gTWF0ZXJpYWxMb2FkZXIuZ2V0VGV4dHVyZUFzc2V0KGxvYWRlciwgYWxwaGFNYXAsIHJlcGVhdCk7XG5cbiAgICAgICAgaWYgKCEobWFwQXNzZXQubG9hZGVkKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoKG5vcm1hbE1hcCAhPT0gbnVsbCkgJiYgKCFub3JtYWxNYXBBc3NldC5sb2FkZWQpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICgoYWxwaGFNYXAgIT09IG51bGwpICYmICghYWxwaGFNYXBBc3NldC5sb2FkZWQpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgbGV0IG1hdGVyaWFsO1xuICAgICAgICB0cmFuc3BhcmVudCA9IChhbHBoYU1hcCAhPT0gbnVsbCkgfHwgdHJhbnNwYXJlbnQgO1xuICAgICAgICBpZiAobm9ybWFsTWFwKVxuICAgICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe21hcDogbWFwQXNzZXQuYXNzZXQsXG4gICAgICAgICAgICAgICAgbm9ybWFsTWFwOiBub3JtYWxNYXBBc3NldC5hc3NldCxcbiAgICAgICAgICAgICAgICBub3JtYWxTY2FsZTogbmV3IFRIUkVFLlZlY3RvcjIoMSwxKSxcbiAgICAgICAgICAgICAgICByb3VnaG5lc3M6IDEsXG4gICAgICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRyYW5zcGFyZW50fSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe21hcDogbWFwQXNzZXQuYXNzZXQsIHRyYW5zcGFyZW50OiB0cmFuc3BhcmVudH0pO1xuXG4gICAgICAgIGlmIChhbHBoYU1hcClcbiAgICAgICAgICAgIG1hdGVyaWFsLmFscGhhTWFwID0gYWxwaGFNYXBBc3NldC5hc3NldCAgICBcbiAgICAgICAgaWYgKHR3b3NpZGVzKVxuICAgICAgICAgICAgbWF0ZXJpYWwuc2lkZSA9IFRIUkVFLkRvdWJsZVNpZGVcbiAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgIH1cbn0iLCJpbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBUaHJlZU1lc2ggZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaFwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgTG9hZGVyIGZyb20gXCJlbmdpbmUvaW8vTG9hZGVyXCI7XG5pbXBvcnQgVGhyZWVDYW1lcmEgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlQ2FtZXJhXCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnlcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTlBDIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIG1vZGVsOiBOUENNb2RlbDtcbiAgICBtZXNoOiBUaHJlZU1lc2g7XG4gICAgY2VudGVyZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIG9sZEhQOiBudW1iZXI7XG4gICAgY2FtZXJhOiBUaHJlZUNhbWVyYVxuICAgIG9mZnNldFNldCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IobW9kZWw6IE5QQ01vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIobnVsbCk7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB9XG5cbiAgICBsb2FkKHtsb2FkZXI6IGxvYWRlcn0gOiB7bG9hZGVyIDogTG9hZGVyfSlcbiAgICB7XG4gICAgICAgIGxldCB0ZXh0dXJlID0gbG9hZGVyLmdldFNoYXJlZEFzc2V0KHRoaXMubW9kZWwuZmlsZW5hbWUrXCIjdGV4XCIpXG4gICAgICAgIGlmICghKHRleHR1cmUuYXNzZXQpKVxuICAgICAgICAgICAgdGV4dHVyZS5zZXQobmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMubW9kZWwuZmlsZW5hbWUsICgoKSA9PiB7IHRleHR1cmUubG9hZGVkID0gdHJ1ZX0pKSk7XG4gICAgICAgIHRoaXMuYWRkQXNzZXQodGV4dHVyZSk7XG5cbiAgICAgICAgbGV0IGRlYWRUZXh0dXJlID0gbG9hZGVyLmdldFNoYXJlZEFzc2V0KHRoaXMubW9kZWwuZGVhZFRleHR1cmUrXCIjdGV4XCIpXG4gICAgICAgIGlmICghKGRlYWRUZXh0dXJlLmFzc2V0KSlcbiAgICAgICAgICAgIGRlYWRUZXh0dXJlLnNldChuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5tb2RlbC5kZWFkVGV4dHVyZSwgKCgpID0+IHsgZGVhZFRleHR1cmUubG9hZGVkID0gdHJ1ZX0pKSk7XG4gICAgICAgIHRoaXMuYWRkQXNzZXQoZGVhZFRleHR1cmUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBzY2FsZU1lc2godGV4dHVyZSwgc2NhbGUpOiBUaHJlZU1lc2hcbiAgICB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRleHR1cmUuaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICBsZXQgYXNwZWN0ID0gaGVpZ2h0L3dpZHRoO1xuICAgICAgICBsZXQgeDtcbiAgICAgICAgbGV0IHk7XG4gICAgICAgIGlmICh3aWR0aCA+IGhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgeCA9IHNjYWxlO1xuICAgICAgICAgICAgeSA9IHggKiBhc3BlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB5ID0gc2NhbGU7XG4gICAgICAgICAgICB4ID0geSAvIGFzcGVjdDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ2VvbSA9IG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KHgsIHksIDApO1xuICAgICAgICBsZXQgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7bWFwOiB0ZXh0dXJlLCBmb2c6IHRydWUsIHRyYW5zcGFyZW50OiB0cnVlLH0pO1xuICAgICAgICBsZXQgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlb20sIG1hdGVyaWFsKTtcbiAgICAgICAgcmV0dXJuIG1lc2g7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMubWVzaCA9IHRoaXMuYWRkQ2hpbGQobmV3IFRocmVlTWVzaCh0aGlzLnNjYWxlTWVzaCh0aGlzLmdldEFzc2V0PGFueT4odGhpcy5tb2RlbC5maWxlbmFtZStcIiN0ZXhcIiksIHRoaXMubW9kZWwubnBjVHlwZS5zY2FsZSkpKTtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gudXNlckRhdGEgPSB7Z2FtZU9iamVjdDogdGhpc307XG4gICAgICAgIHRoaXMubW9kZWwuYWxpdmUub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZUFsaXZlLmJpbmQodGhpcyksdGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlQWxpdmUodGhpcy5tb2RlbC5hbGl2ZS52YWx1ZSlcbiAgICAgICAgdGhpcy5tb2RlbC5wb3NpdGlvbi5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlUG9zaXRpb24uYmluZCh0aGlzKSx0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbih0aGlzLm1vZGVsLnBvc2l0aW9uLnZhbHVlKVxuXG4gICAgICAgIHRoaXMubW9kZWwucGVyZm9ybWluZ0FjdGlvbi5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlUGVyZm9ybWluZ0FjdGlvbi5iaW5kKHRoaXMpLHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmRlbGF5aW5nLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVEZWxheWluZy5iaW5kKHRoaXMpLHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmhpdHBvaW50cy5vblVwZGF0ZS5wdXNoKHRoaXMuaHBDaGFuZ2VkLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmxvb3RlZC5vblVwZGF0ZS5wdXNoKHRoaXMubG9vdGVkQ2hhbmdlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbGRIUCA9IHRoaXMubW9kZWwuaGl0cG9pbnRzLnZhbHVlO1xuICAgIH1cblxuICAgIGxvb3RlZENoYW5nZWQodmFsOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaHBDaGFuZ2VkKHZhbDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbCA8IHRoaXMub2xkSFApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLm1hdGVyaWFsLmNvbG9yLnNldEhleCggMHhmZjY2NjYgKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQoMTAwKSkub25Db21wbGV0ZS5wdXNoKCgpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLm1hdGVyaWFsLmNvbG9yLnNldEhleCggMHhmZmZmZmYpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2xkSFAgPSB2YWw7XG4gICAgfVxuXG4gICAgdXBkYXRlUGVyZm9ybWluZ0FjdGlvbih2YWwpXG4gICAge1xuICAgICAgICBpZiAodmFsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5tYXRlcmlhbC5jb2xvci5zZXRIZXgoIDB4ZmZmZjAwICk7XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KDMwMCkpLm9uQ29tcGxldGUucHVzaCh0aGlzLm1vZGVsLmFwcGx5QWN0aW9uUmVzdWx0LmJpbmQodGhpcy5tb2RlbCwgdmFsKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KCAweGZmZmZmZiApO1xuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlRGVsYXlpbmcodmFsKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KCAweGZmZmYwMCApO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FpdCgzMDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5tb2RlbC5hcHBseUFjdGlvblJlc3VsdC5iaW5kKHRoaXMubW9kZWwpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5tYXRlcmlhbC5jb2xvci5zZXRIZXgoIDB4ZmZmZmZmICk7XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVBbGl2ZSh2YWw6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoISh2YWwpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaCA9IHRoaXMuc2NhbGVNZXNoKHRoaXMuZ2V0QXNzZXQodGhpcy5tb2RlbC5kZWFkVGV4dHVyZStcIiN0ZXhcIiksIDAuMik7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC51c2VyRGF0YSA9IHtnYW1lT2JqZWN0OiB0aGlzfTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24odGhpcy5tb2RlbC5wb3NpdGlvbi52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBvc2l0aW9uKHZhbDogUG9pbnQzKVxuICAgIHtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gucG9zaXRpb24ueCA9IHZhbC54O1xuICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi55ID0gdmFsLnkgLSAoMS10aGlzLm1vZGVsLm5wY1R5cGUuc2NhbGUpLzI7XG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLnogPSB2YWwuejtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW1lcmEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLmxvb2tBdCh0aGlzLmNhbWVyYS5wb3NpdGlvbi54LCB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi55LCB0aGlzLmNhbWVyYS5wb3NpdGlvbi56KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5kaXN0YW5jZVRvKHRoaXMuY2FtZXJhLnBvc2l0aW9uKSA8IDAuNSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLm9mZnNldFNldCkgJiYgKHRoaXMuY2VudGVyZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbih0aGlzLm1vZGVsLnBvc2l0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IDAuMTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IHRoaXMuY2FtZXJhLm9iamVjdDNELmdldFdvcmxkRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLmFkZChkaXJlY3Rpb24ubXVsdGlwbHlTY2FsYXIoMC4zMykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5hZGQoZGlyZWN0aW9uLmFwcGx5QXhpc0FuZ2xlKG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKSwgTWF0aC5QSS8yKS5tdWx0aXBseVNjYWxhcigzKm9mZnNldCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldFNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5kaXN0YW5jZVRvKHRoaXMuY2FtZXJhLnBvc2l0aW9uKSA+PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9mZnNldFNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24odGhpcy5tb2RlbC5wb3NpdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0U2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW9kZWwuYWxpdmUub25VcGRhdGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbC5wb3NpdGlvbi5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLnBlcmZvcm1pbmdBY3Rpb24ub25VcGRhdGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbC5kZWxheWluZy5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmhpdHBvaW50cy5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmxvb3RlZC5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxufSIsImltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL21vZGVsL0dhbWVNb2RlbFwiO1xuaW1wb3J0IFdyYXBwaW5nVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XcmFwcGluZ1ZhbHVlVHdlZW5cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vVmFsdWVUd2VlblwiO1xuaW1wb3J0IFRocmVlQnVmZmVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZUJ1ZmZlclwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgUGxheWVyTW9kZWwsIHsgRmFjaW5nIH0gZnJvbSBcIi4uL21vZGVsL1BsYXllck1vZGVsXCI7XG5pbXBvcnQgUG9pbnQzVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vUG9pbnQzVHdlZW5cIjtcbmltcG9ydCBXcmFwcGluZ1BvaW50M1R3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dyYXBwaW5nUG9pbnQzVHdlZW5cIjtcbmltcG9ydCBUaHJlZUNhbWVyYSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVDYW1lcmFcIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBwcml2YXRlIHRocmVlQ2FtZXJhOiBUaHJlZUNhbWVyYTsgICBcbiAgICBwcml2YXRlIHBsYXllcjogUGxheWVyTW9kZWw7XG4gICAgcHJpdmF0ZSBfbW92ZUFuaW06IFBvaW50M1R3ZWVuO1xuICAgIHByaXZhdGUgX3R1cm5BbmltOiBQb2ludDNUd2VlbjtcbiAgICBwcml2YXRlIHBsYXllckxpZ2h0O1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuXG4gICAgZ2V0IGFuaW1hdGluZygpOiBib29sZWFuIHsgcmV0dXJuICh0aGlzLl90dXJuQW5pbSAmJiAhdGhpcy5fdHVybkFuaW0uY29tcGxldGUpIHx8ICh0aGlzLl9tb3ZlQW5pbSAmJiAhdGhpcy5fbW92ZUFuaW0uY29tcGxldGUpIDsgfVxuXG4gICAgY29uc3RydWN0b3IodGhyZWVDYW1lcmE6IFRocmVlQ2FtZXJhLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLnRocmVlQ2FtZXJhID0gdGhyZWVDYW1lcmE7XG4gICAgICAgIHRoaXMucGxheWVyID0gZ2FtZU1vZGVsLnBsYXllcjtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uTW92ZS5wdXNoKHRoaXMudXBkYXRlUG9zaXRpb24uYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uVHVybi5wdXNoKHRoaXMudXBkYXRlUm90YXRpb24uYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMucGxheWVyLm9uVXBkYXRlLnB1c2goKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGhyZWVDYW1lcmEucm90YXRpb24ueCA9IHRoaXMucGxheWVyLnJvdGF0aW9uLng7XG4gICAgICAgICAgICB0aGlzLnRocmVlQ2FtZXJhLnJvdGF0aW9uLnkgPSB0aGlzLnBsYXllci5yb3RhdGlvbi55O1xuICAgICAgICAgICAgdGhpcy50aHJlZUNhbWVyYS5yb3RhdGlvbi56ID0gdGhpcy5wbGF5ZXIucm90YXRpb24uejtcblxuICAgICAgICAgICAgdGhpcy50aHJlZUNhbWVyYS5wb3NpdGlvbi54ID0gdGhpcy5wbGF5ZXIuZmluZVBvc2l0aW9uLng7XG4gICAgICAgICAgICB0aGlzLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnkgPSB0aGlzLnBsYXllci5maW5lUG9zaXRpb24ueTtcbiAgICAgICAgICAgIHRoaXMudGhyZWVDYW1lcmEucG9zaXRpb24ueiA9IHRoaXMucGxheWVyLmZpbmVQb3NpdGlvbi56O1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZUxpZ2h0KHRoaXMucGxheWVyLnNob3dUb3JjaExpZ2h0KVxuICAgICAgICAgICAgdGhpcy50aHJlZUNhbWVyYS5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKTsgICAgICAgIFxuICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKGZhbHNlKTtcbiAgICAgICAgdGhpcy51cGRhdGVSb3RhdGlvbihmYWxzZSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlTGlnaHQoc2hvdzogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmIChzaG93KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucGxheWVyTGlnaHQpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5vdXRzaWRlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllckxpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHhmZmZmZmYsIDAuMzMsIDUuNSwgMSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXllckxpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHhmZmZmZmYsIDEsIDUuNSwgMSk7XG4gICAgICAgICAgICB0aGlzLnRocmVlQ2FtZXJhLm9iamVjdDNELmFkZCh0aGlzLnBsYXllckxpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXllckxpZ2h0KVxuICAgICAgICAgICAgICAgIHRoaXMudGhyZWVDYW1lcmEub2JqZWN0M0QucmVtb3ZlKHRoaXMucGxheWVyTGlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUG9zaXRpb24oYW5pbWF0ZT86IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoYW5pbWF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYW5pbWF0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NldFBsYXllclBvc2l0aW9uKHRoaXMucGxheWVyLmdyaWRQb3NpdGlvbldpdGhPZmZzZXQsIGFuaW1hdGUsIDUwMClcbiAgICB9XG5cbiAgICB1cGRhdGVSb3RhdGlvbihhbmltYXRlPzogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmIChhbmltYXRlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBhbmltYXRlID0gdHJ1ZTtcbiAgICAgICAgbGV0IHRpbWUgPSAzMDA7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMuX3NldFBsYXllclJvdGF0aW9uKG5ldyBQb2ludDMoMCwgMCwgMCksIGFuaW1hdGUsIHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCAtTWF0aC5QSS80LCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCAtTWF0aC5QSS8yLCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLl9zZXRQbGF5ZXJSb3RhdGlvbihuZXcgUG9pbnQzKDAsIC0zKihNYXRoLlBJLzQpLCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMuX3NldFBsYXllclJvdGF0aW9uKG5ldyBQb2ludDMoMCwgTWF0aC5QSSwgMCksIGFuaW1hdGUsIHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCAzKihNYXRoLlBJLzQpLCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCBNYXRoLlBJLzIsIDApLCBhbmltYXRlLCB0aW1lKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMuX3NldFBsYXllclJvdGF0aW9uKG5ldyBQb2ludDMoMCwgTWF0aC5QSS80LCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0UGxheWVyUG9zaXRpb24ocG9zaXRpb246IFBvaW50MywgYW5pbWF0ZTogYm9vbGVhbiwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdmVBbmltKVxuICAgICAgICAgICAgdGhpcy5fbW92ZUFuaW0ucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgaWYgKGFuaW1hdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmNhbk1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVBbmltID0gdGhpcy5hZGRDaGlsZChuZXcgUG9pbnQzVHdlZW4odGhpcy5wbGF5ZXIsIFwiZmluZVBvc2l0aW9uXCIsIG5ldyBQb2ludDMocG9zaXRpb24ueCxwb3NpdGlvbi55LHBvc2l0aW9uLnopLCB0aW1lKSk7XG4gICAgICAgICAgICB0aGlzLl9tb3ZlQW5pbS5vbkNvbXBsZXRlLnB1c2godGhpcy5fdXBkYXRlQW5pbWF0aW5nLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FpdCh0aW1lLzIpKS5vbkNvbXBsZXRlLnB1c2goKCkgPT4gdGhpcy5wbGF5ZXIuY2FuTW92ZSA9IHRydWUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmZpbmVQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLl91cGRhdGVBbmltYXRpbmcoKTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBfc2V0UGxheWVyUm90YXRpb24ocm90YXRpb246IFBvaW50MywgYW5pbWF0ZTogYm9vbGVhbiwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3R1cm5BbmltKVxuICAgICAgICAgICAgdGhpcy5fdHVybkFuaW0ucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgdGhpcy5fdHVybkFuaW0gPSBudWxsO1xuICAgICAgICBpZiAoYW5pbWF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2FuVHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdHVybkFuaW0gPSB0aGlzLmFkZENoaWxkKG5ldyBXcmFwcGluZ1BvaW50M1R3ZWVuKHRoaXMucGxheWVyLCBcInJvdGF0aW9uXCIsIG5ldyBQb2ludDMocm90YXRpb24ueCxyb3RhdGlvbi55LHJvdGF0aW9uLnopLCB0aW1lLCBuZXcgUG9pbnQzKE1hdGguUEkqMixNYXRoLlBJKjIsTWF0aC5QSSoyKSkpO1xuICAgICAgICAgICAgdGhpcy5fdHVybkFuaW0ub25Db21wbGV0ZS5wdXNoKHRoaXMuX3VwZGF0ZUFuaW1hdGluZy5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQodGltZS8yKSkub25Db21wbGV0ZS5wdXNoKCgpID0+IHRoaXMucGxheWVyLmNhblR1cm4gPSB0cnVlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnBsYXllci5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLl91cGRhdGVBbmltYXRpbmcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVBbmltYXRpbmcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYW5pbWF0aW5nID0gdGhpcy5hbmltYXRpbmc7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLl9tb3ZlQW5pbSlcbiAgICAgICAgICAgIHRoaXMuX21vdmVBbmltLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgIGlmICh0aGlzLl90dXJuQW5pbSlcbiAgICAgICAgICAgIHRoaXMuX3R1cm5BbmltLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgIHRoaXMucGxheWVyLm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uTW92ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4udW5yZWdpc3Rlcih0aGlzKTtcbiAgICB9XG59IiwiaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL0xldmVsTW9kZWxcIjtcbmltcG9ydCBXb3JsZENlbGwgZnJvbSBcIi4vV29ybGRDZWxsXCI7XG5pbXBvcnQgV29ybGRPYmplY3QgZnJvbSBcIi4vV29ybGRPYmplY3RcIjtcbmltcG9ydCBOUEMgZnJvbSBcIi4vTlBDXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgUGxheWVyIGZyb20gXCIuL1BsYXllclwiO1xuaW1wb3J0IFNreWJveCBmcm9tIFwiLi9Ta3lib3hcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL21vZGVsL0dhbWVNb2RlbFwiO1xuaW1wb3J0IERvb3IgZnJvbSBcIi4vRG9vclwiO1xuaW1wb3J0IFdhbGwgZnJvbSBcIi4vV2FsbFwiO1xuaW1wb3J0IFRocmVlTWVzaCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVNZXNoXCI7XG5pbXBvcnQgVGhyZWVTY2VuZSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVTY2VuZVwiO1xuaW1wb3J0IHsgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgVGhyZWVDYW1lcmEgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlQ2FtZXJhXCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lIGV4dGVuZHMgVGhyZWVTY2VuZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgcHJpdmF0ZSBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBwcml2YXRlIGNlbGxzOiBXb3JsZENlbGxbXTtcbiAgICBwcml2YXRlIGRvb3JzOiBEb29yW107XG4gICAgcHJpdmF0ZSBucGNzOiBOUENbXTtcbiAgICBwcml2YXRlIG9iamVjdHM6IFdvcmxkT2JqZWN0W107XG4gICAgcGxheWVyOiBQbGF5ZXI7XG4gICAgcHJpdmF0ZSBza3lib3g6IFNreWJveDtcbiAgICBwcml2YXRlIF9jYW1lcmE7XG5cbiAgICBwcml2YXRlIGRlZmF1bHRGT1YgPSA1MjtcblxuICAgIGNvbnN0cnVjdG9yKGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIobmV3IFRIUkVFLlNjZW5lKCksIGxpc3RlbmVyLCBjb250cm9sbGVyKVxuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBnZXQgY2FtZXJhKCkgeyByZXR1cm4gdGhpcy5fY2FtZXJhOyB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUubnBjc1RvQWN0Lm9uVXBkYXRlLnB1c2godGhpcy5fcnVuTlBDcy5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5jcmVhdGVMZXZlbCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUxldmVsKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbWVyYSA9IHRoaXMuYWRkQ2hpbGQobmV3IFRocmVlQ2FtZXJhKG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3NSwgMSwgMC4xLCAxMDAwKSkpO1xuICAgICAgICB0aGlzLl9jYW1lcmEuZmllbGRPZlZpZXcgPSB0aGlzLmRlZmF1bHRGT1Y7XG4gICAgICAgIC8vbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmdldERpbWVuc2lvbigpO1xuICAgICAgICAvL2xldCBoRk9WID0gMiAqIE1hdGguYXRhbiggTWF0aC50YW4oIHRoaXMudGhyZWVCdWZmZXIuZmllbGRPZlZpZXcgKiBNYXRoLlBJIC8gMTgwIC8gMiApICogZGltLmFzcGVjdCApICogMTgwIC8gTWF0aC5QSTtcbiAgICAgICAgLy9sZXQgdkZPViA9ICAyKk1hdGguYXRhbihNYXRoLnRhbigzMCowLjUpL2RpbS5hc3BlY3QpO1xuXG4gICAgICAgIHRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IG5ldyBUSFJFRS5Db2xvciggMHgwMDAwZmYgKTtcblxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLm91dHNpZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBmb2dDb2xvciA9IG5ldyBUSFJFRS5Db2xvcigweGZmZmZmZik7XG4gICAgICAgICAgICAvKnRoaXMuc2NlbmUuYmFja2dyb3VuZCA9IGZvZ0NvbG9yO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nKGZvZ0NvbG9yLCAwLjAwMjUsIDcpOyovXG4gICAgICAgICAgICBsZXQgbGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4ZmZmZmZmLCAxKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGxpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjZW5lLmFkZChuZXcgVEhSRUUuQW1iaWVudExpZ2h0KCAweGZmZmZmZiwgMC4wNSApKTtcbiAgICBcbiAgICAgICAgdGhpcy5jZWxscyA9IHRoaXMuX2dldFdvcmxkQ2VsbHMoKTtcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGMgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChjKTtcbiAgICAgICAgICAgICAgICBjLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5kb29ycyA9IHRoaXMuX2dldERvb3JzKCk7XG4gICAgICAgIHRoaXMuZG9vcnMuZm9yRWFjaChkID0+IHRoaXMuYWRkQ2hpbGQoZCkpO1xuXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IHRoaXMuX2dldFdvcmxkT2JqZWN0cygpO1xuICAgICAgICB0aGlzLm9iamVjdHMuZm9yRWFjaChvID0+IHRoaXMuYWRkQ2hpbGQobykpO1xuXG4gICAgICAgIHRoaXMubnBjcyA9IHRoaXMuX2dldE5QQ3MoKTtcbiAgICAgICAgdGhpcy5ucGNzLmZvckVhY2gobiA9PiB0aGlzLmFkZENoaWxkKG4pKTtcbiAgICAgICAgdGhpcy5ucGNzLmZvckVhY2gobiA9PiBuLmNhbWVyYSA9IHRoaXMuX2NhbWVyYSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5za3lib3hJRCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc2t5Ym94RGF0YSA9IHRoaXMuZ2FtZU1vZGVsLmRhdGEuc2t5Ym94ZXNbdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLnNreWJveElEXTtcbiAgICAgICAgICAgIHRoaXMuc2t5Ym94ID0gdGhpcy5hZGRDaGlsZChuZXcgU2t5Ym94KHNreWJveERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5hZGRDaGlsZChuZXcgUGxheWVyKHRoaXMuX2NhbWVyYSwgdGhpcy5nYW1lTW9kZWwpKTtcbiAgICAgICAgaWYgKCEodGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLm91dHNpZGUpKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudG9nZ2xlTGlnaHQodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5fcnVuTlBDcygpO1xuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIC8vdGhpcy5hZGRDaGlsZChuZXcgV2FpdCgxMDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5tZXJnZVdhbGxHZW9tZXRyeS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBtZXJnZVdhbGxHZW9tZXRyeSgpXG4gICAge1xuICAgICAgICB2YXIgbWVyZ2VHZW9tID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG4gICAgICAgIGxldCBtYXRlcmlhbExpc3QgPSBbXTtcblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaCgoYzogV29ybGRDZWxsKSA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBXYWxsKSA9PiBcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjaGlsZC5tZXNoKSAmJiAoY2hpbGQubW9kZWwuY3JlYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUdlb20ubWVyZ2UoY2hpbGQubWVzaC5tZXNoLmdlb21ldHJ5LCBjaGlsZC5tZXNoLm1lc2gubWF0cml4LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5tZXNoLm1lc2gucGFyZW50LnJlbW92ZShjaGlsZC5tZXNoLm1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsTGlzdC5wdXNoKGNoaWxkLm1lc2gubWVzaC5tYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goKGM6IFdvcmxkQ2VsbCkgPT4gYy5yZXF1ZXN0UmVtb3ZhbCgpKTtcbiAgICAgICAgdGhpcy5jZWxscyA9IFtdO1xuICAgICAgICBtZXJnZUdlb20ubWVyZ2VWZXJ0aWNlcygpO1xuICAgICAgICBsZXQgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG1lcmdlR2VvbSwgbWF0ZXJpYWxMaXN0KTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgVGhyZWVNZXNoKG1lc2gpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRXb3JsZENlbGxzKCk6IFdvcmxkQ2VsbFtdXG4gICAge1xuICAgICAgICBsZXQgbGV2ZWxNb2RlbDogTGV2ZWxNb2RlbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZTtcbiAgICAgICAgbGV0IGNlbGxzID0gW107XG4gICAgICAgIGxldmVsTW9kZWwuY2VsbHMuZm9yRWFjaCgocm93LHgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcm93LmZvckVhY2goKGxheWVyLHkpID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmZvckVhY2goKGNvbCx6KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzLnB1c2gobmV3IFdvcmxkQ2VsbCh4LCB5LCB6LCBjb2wpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjZWxscztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRXb3JsZE9iamVjdHMoKTogV29ybGRPYmplY3RbXVxuICAgIHtcbiAgICAgICAgbGV0IGxldmVsTW9kZWw6IExldmVsTW9kZWwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWU7XG4gICAgICAgIGxldCBvYmplY3RzID0gW107XG4gICAgICAgIGxldmVsTW9kZWwub2JqZWN0cy5mb3JFYWNoKChvLHgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgV29ybGRPYmplY3QobykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9iamVjdHM7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIF9nZXREb29ycygpOiBEb29yW11cbiAgICB7XG4gICAgICAgIGxldCBsZXZlbE1vZGVsOiBMZXZlbE1vZGVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlO1xuICAgICAgICBsZXQgZG9vcnMgPSBbXTtcbiAgICAgICAgbGV2ZWxNb2RlbC5kb29ycy5mb3JFYWNoKChkLHgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvb3JzLnB1c2gobmV3IERvb3IoZCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRvb3JzO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldE5QQ3MoKTogTlBDW11cbiAgICB7XG4gICAgICAgIGxldCBsZXZlbE1vZGVsOiBMZXZlbE1vZGVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlO1xuICAgICAgICBsZXQgbnBjcyA9IFtdO1xuICAgICAgICBsZXZlbE1vZGVsLm5wY3MuZm9yRWFjaCgobnBjLHgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5wY3MucHVzaChuZXcgTlBDKG5wYykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5wY3M7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcnVuTlBDcygpXG4gICAge1xuICAgICAgICBsZXQgdG9BY3QgPSBbXTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5ucGNzVG9BY3QudmFsdWUuZm9yRWFjaChucGMgPT4gdG9BY3QucHVzaChucGMpKTtcbiAgICAgICAgdG9BY3QuZm9yRWFjaCgobnBjOiBOUENNb2RlbCkgPT4gbnBjLmFjdCgpKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUubnBjc1RvQWN0Lm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgfVxuXG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgVGhyZWVNZXNoIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZU1lc2hcIjtcbmltcG9ydCB7IFNreWJveERhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuaW1wb3J0IEFzc2V0IGZyb20gXCJlbmdpbmUvQXNzZXRcIjtcbmltcG9ydCBUaHJlZUdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlR2FtZU9iamVjdFwiO1xuXG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNreWJveCBleHRlbmRzIFRocmVlR2FtZU9iamVjdDxhbnk+XG57XG4gICAgc2t5Ym94RGF0YTogU2t5Ym94RGF0YTtcbiAgICBwcm90ZWN0ZWQgX2xvYWRlZFRleHR1cmVzOiBudW1iZXIgPSAwO1xuICAgIGxvYWRlcjogTG9hZGVyO1xuXG4gICAgY29uc3RydWN0b3Ioc2t5Ym94RGF0YTogU2t5Ym94RGF0YSlcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLnNreWJveERhdGEgPSBza3lib3hEYXRhO1xuICAgIH1cblxuICAgIGxvYWQoe2xvYWRlcjogbG9hZGVyfSA6IHsgbG9hZGVyOiBMb2FkZXIgfSApXG4gICAge1xuICAgICAgICBsZXQgYSA9IG5ldyBBc3NldChcIiN0ZXh0dXJlQXJyYXlcIiwgbnVsbCwgZmFsc2UpO1xuICAgICAgICBsZXQgeFBvcyA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLnNreWJveERhdGEueFBvcywgdGhpcy5jaGVja1RleHR1cmVMb2FkZWQuYmluZCh0aGlzLGEpKTtcbiAgICAgICAgbGV0IHhOZWcgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5za3lib3hEYXRhLnhOZWcsIHRoaXMuY2hlY2tUZXh0dXJlTG9hZGVkLmJpbmQodGhpcyxhKSk7XG4gICAgICAgIGxldCB5UG9zID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMuc2t5Ym94RGF0YS55UG9zLCB0aGlzLmNoZWNrVGV4dHVyZUxvYWRlZC5iaW5kKHRoaXMsYSkpO1xuICAgICAgICBsZXQgeU5lZyA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLnNreWJveERhdGEueU5lZywgdGhpcy5jaGVja1RleHR1cmVMb2FkZWQuYmluZCh0aGlzLGEpKTtcbiAgICAgICAgbGV0IHpQb3MgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5za3lib3hEYXRhLnpQb3MsIHRoaXMuY2hlY2tUZXh0dXJlTG9hZGVkLmJpbmQodGhpcyxhKSk7XG4gICAgICAgIGxldCB6TmVnID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMuc2t5Ym94RGF0YS56TmVnLCB0aGlzLmNoZWNrVGV4dHVyZUxvYWRlZC5iaW5kKHRoaXMsYSkpO1xuICAgICAgICBhLnNldChbeFBvcyx4TmVnLHlQb3MseU5lZyx6UG9zLHpOZWddKTtcbiAgICAgICAgdGhpcy5hZGRBc3NldChhKTtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBsb2FkZXI7XG4gICAgICAgIHRoaXMuYWRkR2VvbUFzc2V0KGxvYWRlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGFkZEdlb21Bc3NldChsb2FkZXIpXG4gICAge1xuICAgICAgICBsZXQgZ2VvbUFzc2V0ID0gbG9hZGVyLmdldFNoYXJlZEFzc2V0KFwiI3NreWJveEdlb21cIilcbiAgICAgICAgaWYgKCEoZ2VvbUFzc2V0LmxvYWRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21Bc3NldC5zZXQobmV3IFRIUkVFLkN1YmVHZW9tZXRyeSggMTAwMCwgMTAwMCwgMTAwMCwgMSwgMSwgMSApKTtcbiAgICAgICAgICAgIGdlb21Bc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkQXNzZXQoZ2VvbUFzc2V0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIGNoZWNrVGV4dHVyZUxvYWRlZChhOkFzc2V0PGFueVtdPilcbiAgICB7XG4gICAgICAgIHRoaXMuX2xvYWRlZFRleHR1cmVzKys7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkZWRUZXh0dXJlcyA9PT0gNilcbiAgICAgICAgICAgIGEubG9hZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IHRleHR1cmVzID0gdGhpcy5nZXRBc3NldChcIiN0ZXh0dXJlQXJyYXlcIik7XG5cbiAgICAgICAgdmFyIG1hdGVyaWFsQXJyYXkgPSBbXTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzBdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzFdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzJdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzNdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzRdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzVdLCBmb2c6IGZhbHNlIH0pKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKylcbiAgICAgICAgICAgbWF0ZXJpYWxBcnJheVtpXS5zaWRlID0gVEhSRUUuQmFja1NpZGU7XG4gICAgICAgIHZhciBza3lib3hHZW9tID0gdGhpcy5sb2FkZXIuZ2V0U2hhcmVkQXNzZXQoXCIjc2t5Ym94R2VvbVwiKS5hc3NldDtcbiAgICAgICAgdmFyIHNreWJveCA9IG5ldyBUSFJFRS5NZXNoKCBza3lib3hHZW9tLCBtYXRlcmlhbEFycmF5ICk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFRocmVlTWVzaChza3lib3gpKTtcbiAgICB9XG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgV2FsbE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9XYWxsTW9kZWxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuaW1wb3J0IFRocmVlTWVzaCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVNZXNoXCI7XG5pbXBvcnQgQXNzZXQgZnJvbSBcImVuZ2luZS9Bc3NldFwiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IEdlb21Mb2FkZXIgZnJvbSBcIi4vR2VvbUxvYWRlclwiO1xuaW1wb3J0IE1hdGVyaWFsTG9hZGVyIGZyb20gXCIuL01hdGVyaWFsTG9hZGVyXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhbGwgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgbW9kZWw6IFdhbGxNb2RlbDtcbiAgICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBQb2ludDM7XG4gICAgcHJvdGVjdGVkIF9yb3RhdGlvbjogUG9pbnQzO1xuICAgIG1lc2g6IFRocmVlTWVzaDtcbiAgICBsb2FkZXI6IExvYWRlcjtcbiAgICBnZW9tOiBBc3NldDxhbnk+OyAvL0Fzc2V0PFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnk+XG4gICAgbWF0ZXJpYWw6IEFzc2V0PGFueT47XG4gICAgXG4gICAgY29uc3RydWN0b3Iod2FsbFR5cGU6IFdhbGxNb2RlbCwgcG9zaXRpb246IFBvaW50Mywgcm90YXRpb246IFBvaW50MylcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLm1vZGVsID0gd2FsbFR5cGU7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb247XG4gICAgfVxuXG4gICAgbG9hZCh7bG9hZGVyOiBsb2FkZXJ9IDoge2xvYWRlcjogTG9hZGVyfSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbG9hZGVyO1xuICAgICAgICBpZiAodGhpcy5tb2RlbC5kZXRhaWxzKVxuICAgICAgICAgICAgdGhpcy5nZW9tID0gdGhpcy5hZGRBc3NldCh0aGlzLmNyZWF0ZVNsb3BlZFdhbGxHZW9tKHRoaXMubW9kZWwpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5nZW9tID0gdGhpcy5hZGRBc3NldChHZW9tTG9hZGVyLmdldFNoYXJlZFBsYW5lR2VvbShsb2FkZXIpKTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IHRoaXMuYWRkQXNzZXQoTWF0ZXJpYWxMb2FkZXIuZ2V0U2hhcmVkTWF0ZXJpYWxBc3NldChsb2FkZXIsIHRoaXMubW9kZWwuZmlsZW5hbWUsIHRoaXMubW9kZWwubm9ybWFsTWFwLCB0aGlzLm1vZGVsLmFscGhhTWFwLCBuZXcgUG9pbnQodGhpcy5tb2RlbC53YWxsRGF0YS52YWx1ZS5yZXBlYXRbMF0sdGhpcy5tb2RlbC53YWxsRGF0YS52YWx1ZS5yZXBlYXRbMV0pLCB0aGlzLm1vZGVsLndhbGxEYXRhLnZhbHVlLnRyYW5zcGFyZW50LCBmYWxzZSkpO1xuICAgICAgICByZXR1cm4gKCh0aGlzLm1hdGVyaWFsICE9PSBudWxsKSAmJiAodGhpcy5nZW9tICE9PSBudWxsKSk7XG4gICAgfVxuXG4gICAgLy8gV2FsbHMgYXJlIGRlYWN0aXZhdGVkIGFzIHNvb24gYXMgdGhleSBhcmUgY3JlYXRlZCwgc28gZG9uJ3QgZXhwZWN0IHRoZW0gb3IgYSBjaGlsZCB0byB1cGRhdGUhXG4gICAgLy8gdXBkYXRlKCkgeyB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZU1lc2goKSk7XG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnVzZXJEYXRhID0ge2dhbWVPYmplY3Q6IHRoaXN9O1xuICAgICAgICB0aGlzLm1vZGVsLmhpZGRlbi5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlV2FsbC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbC53YWxsRGF0YS5vblVwZGF0ZS5wdXNoKHRoaXMuY2hhbmdlV2FsbFR5cGUuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlV2FsbCgpO1xuICAgIH1cblxuICAgIHVwZGF0ZVdhbGwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gudmlzaWJsZSA9ICF0aGlzLm1vZGVsLmhpZGRlbi52YWx1ZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIGNoYW5nZVdhbGxUeXBlKClcbiAgICB7XG4gICAgICAgIGxldCBtYXRBc3NldCA9IHRoaXMuYWRkQXNzZXQoTWF0ZXJpYWxMb2FkZXIuZ2V0U2hhcmVkTWF0ZXJpYWxBc3NldCh0aGlzLmxvYWRlciwgdGhpcy5tb2RlbC5maWxlbmFtZSwgdGhpcy5tb2RlbC5ub3JtYWxNYXAsIHRoaXMubW9kZWwuYWxwaGFNYXAsIG5ldyBQb2ludCh0aGlzLm1vZGVsLndhbGxEYXRhLnZhbHVlLnJlcGVhdFswXSx0aGlzLm1vZGVsLndhbGxEYXRhLnZhbHVlLnJlcGVhdFsxXSksIHRoaXMubW9kZWwud2FsbERhdGEudmFsdWUudHJhbnNwYXJlbnQsIGZhbHNlKSk7XG5cbiAgICAgICAgaWYgKChtYXRBc3NldCkgJiYgKG1hdEFzc2V0LmxvYWRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRBc3NldDtcbiAgICAgICAgICAgIGlmICghKHRoaXMubWVzaCkpXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZU1lc2goKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsLmFzc2V0O1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQoMTAwKSkub25Db21wbGV0ZS5wdXNoKCgoKSA9PiB0aGlzLmNoYW5nZVdhbGxUeXBlKCkpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZU1lc2goKTogVGhyZWVNZXNoXG4gICAge1xuICAgICAgICBsZXQgd2FsbCA9IG5ldyBUaHJlZU1lc2godGhpcy5nZW9tLmFzc2V0LCB0aGlzLm1hdGVyaWFsLmFzc2V0KTtcbiAgICAgICAgd2FsbC5tZXNoLnBvc2l0aW9uLnggPSB0aGlzLl9wb3NpdGlvbi54O1xuICAgICAgICB3YWxsLm1lc2gucG9zaXRpb24ueSA9IHRoaXMuX3Bvc2l0aW9uLnk7XG4gICAgICAgIHdhbGwubWVzaC5wb3NpdGlvbi56ID0gdGhpcy5fcG9zaXRpb24uejtcbiAgICAgICAgd2FsbC5tZXNoLnJvdGF0aW9uLnggPSB0aGlzLl9yb3RhdGlvbi54O1xuICAgICAgICB3YWxsLm1lc2gucm90YXRpb24ueSA9IHRoaXMuX3JvdGF0aW9uLnk7XG4gICAgICAgIHdhbGwubWVzaC5yb3RhdGlvbi56ID0gdGhpcy5fcm90YXRpb24uejtcbiAgICAgICAgcmV0dXJuIHdhbGw7XG4gICAgfVxuXG4gICAgY3JlYXRlU2xvcGVkV2FsbEdlb20od2FsbE1vZGVsOiBXYWxsTW9kZWwpOiBBc3NldDxhbnk+XG4gICAge1xuICAgICAgICB2YXIgZ2VvbSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgICAgICAgICAgICAgXG4gICAgICAgIGdlb20udmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMygtMC41LDAuNSx3YWxsTW9kZWwuZGV0YWlscy5udykpO1xuICAgICAgICBnZW9tLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoMC41LDAuNSx3YWxsTW9kZWwuZGV0YWlscy5uZSkpO1xuICAgICAgICBnZW9tLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoMC41LC0wLjUsd2FsbE1vZGVsLmRldGFpbHMuc2UpKTtcbiAgICAgICAgZ2VvbS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKC0wLjUsLTAuNSx3YWxsTW9kZWwuZGV0YWlscy5zdykpO1xuICAgICAgICBnZW9tLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoMCwwLHdhbGxNb2RlbC5kZXRhaWxzLm1pZCkpO1xuXG4gICAgICAgIGdlb20uZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoMCw0LDEpKTtcbiAgICAgICAgZ2VvbS5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMygyLDEsNCkpO1xuICAgICAgICBnZW9tLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKDIsNCwzKSk7XG4gICAgICAgIGdlb20uZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoMyw0LDApKTtcblxuICAgICAgICBsZXQgdXYgPSBnZW9tLmZhY2VWZXJ0ZXhVdnNbMF07XG4gICAgICAgIHV2LnB1c2goW10sW10sW10sW10pO1xuICAgICAgICB1dlswXVswXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAsMCk7XG4gICAgICAgIHV2WzBdWzFdID0gbmV3IFRIUkVFLlZlY3RvcjIoMC41LDAuNSk7XG4gICAgICAgIHV2WzBdWzJdID0gbmV3IFRIUkVFLlZlY3RvcjIoMSwwKTtcbiAgICAgICAgdXZbMV1bMF0gPSBuZXcgVEhSRUUuVmVjdG9yMigxLDEpO1xuICAgICAgICB1dlsxXVsxXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDEsMCk7XG4gICAgICAgIHV2WzFdWzJdID0gbmV3IFRIUkVFLlZlY3RvcjIoMC41LDAuNSk7XG4gICAgICAgIHV2WzJdWzBdID0gbmV3IFRIUkVFLlZlY3RvcjIoMSwxKTtcbiAgICAgICAgdXZbMl1bMV0gPSBuZXcgVEhSRUUuVmVjdG9yMigwLjUsMC41KTtcbiAgICAgICAgdXZbMl1bMl0gPSBuZXcgVEhSRUUuVmVjdG9yMigwLDEpO1xuICAgICAgICB1dlszXVswXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAsMSk7XG4gICAgICAgIHV2WzNdWzFdID0gbmV3IFRIUkVFLlZlY3RvcjIoMC41LDAuNSk7XG4gICAgICAgIHV2WzNdWzJdID0gbmV3IFRIUkVFLlZlY3RvcjIoMCwwKTtcbiAgICAgICAgZ2VvbS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NldChcIiNzbG9wZWRHZW9tXCIsIGdlb20sIHRydWUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5tb2RlbC5oaWRkZW4ub25VcGRhdGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbC53YWxsRGF0YS5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cbn0iLCJpbXBvcnQgVGhyZWVNZXNoIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZU1lc2hcIjtcbmltcG9ydCBDZWxsTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL0NlbGxNb2RlbFwiO1xuaW1wb3J0IFdhbGxNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvV2FsbE1vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBXYWxsIGZyb20gXCIuL1dhbGxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JsZENlbGwgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJvdGVjdGVkIHg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgeTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCB6OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIG1vZGVsOiBDZWxsTW9kZWw7XG4gICAgZ3JvdXA7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIseTogbnVtYmVyLHo6IG51bWJlciwgbW9kZWw6IENlbGxNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICAgICAgdGhpcy5ncm91cC5wb3NpdGlvbi5zZXQobmV3IFRIUkVFLlZlY3RvcjModGhpcy54LHRoaXMueSx0aGlzLnopKTtcbiAgICAgICAgdGhpcy5jcmVhdGVXYWxscygpO1xuICAgIH1cblxuICAgIC8qaW50ZXJmYWNlcyhpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgLy9pbnRlcmZhY2VzW1widGhyZWVQYXJlbnRcIl0gPSB0aGlzLmdyb3VwO1xuICAgICAgICByZXR1cm4gaW50ZXJmYWNlcztcbiAgICB9Ki9cblxuICAgIGNyZWF0ZVdhbGxzKClcbiAgICB7XG4gICAgICAgIC8vaWYgKHRoaXMubW9kZWwud2FsbHNbMF0uY3JlYXRlKVxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FsbCh0aGlzLm1vZGVsLndhbGxzWzBdLCBuZXcgUG9pbnQzKHRoaXMueCArIDAsIHRoaXMueSArIDAsIHRoaXMueiAtIDAuNSksIG5ldyBQb2ludDMoMCwgMCwgMCkpKTtcbiAgICAgICAgLy9pZiAodGhpcy5tb2RlbC53YWxsc1sxXS5jcmVhdGUpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWxsKHRoaXMubW9kZWwud2FsbHNbMV0sIG5ldyBQb2ludDModGhpcy54ICsgMC41LCB0aGlzLnkgKyAwLCB0aGlzLnogKyAwKSwgbmV3IFBvaW50MygwLCAtTWF0aC5QSS8yLCAwKSkpO1xuICAgICAgIC8vIGlmICh0aGlzLm1vZGVsLndhbGxzWzJdLmNyZWF0ZSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhbGwodGhpcy5tb2RlbC53YWxsc1syXSwgbmV3IFBvaW50Myh0aGlzLnggKyAwLCB0aGlzLnkgKyAwLCB0aGlzLnogKyAwLjUpLCBuZXcgUG9pbnQzKDAsIE1hdGguUEksIDApKSk7XG4gICAgICAgLy8gaWYgKHRoaXMubW9kZWwud2FsbHNbM10uY3JlYXRlKVxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FsbCh0aGlzLm1vZGVsLndhbGxzWzNdLCBuZXcgUG9pbnQzKHRoaXMueCAtIDAuNSwgdGhpcy55ICsgMCwgdGhpcy56ICsgMCksIG5ldyBQb2ludDMoMCwgTWF0aC5QSS8yLDAgKSkpO1xuICAgICAgIC8vIGlmICh0aGlzLm1vZGVsLndhbGxzWzRdLmNyZWF0ZSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhbGwodGhpcy5tb2RlbC53YWxsc1s0XSwgbmV3IFBvaW50Myh0aGlzLnggKyAwLCB0aGlzLnkgLSAwLjUsIHRoaXMueiArIDApLCBuZXcgUG9pbnQzKC1NYXRoLlBJLzIsMCwwKSkpO1xuICAgICAgIC8vIGlmICh0aGlzLm1vZGVsLndhbGxzWzVdLmNyZWF0ZSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhbGwodGhpcy5tb2RlbC53YWxsc1s1XSwgbmV3IFBvaW50Myh0aGlzLnggKyAwLCB0aGlzLnkgKyAwLjUsIHRoaXMueiArIDApLCBuZXcgUG9pbnQzKE1hdGguUEkvMiwwLDApKSk7XG4gICAgfVxufSIsImltcG9ydCBXb3JsZE9iamVjdE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9Xb3JsZE9iamVjdE1vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBUaHJlZU1lc2ggZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JsZE9iamVjdCBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBtb2RlbDogV29ybGRPYmplY3RNb2RlbDtcbiAgICBtZXNoOiBUaHJlZU1lc2g7XG5cbiAgICBjb25zdHJ1Y3Rvcihtb2RlbDogV29ybGRPYmplY3RNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCBnZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSwgMCk7XG4gICAgICAgIGxldCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMubW9kZWwuZmlsZW5hbWUsICgoKSA9PiB7dGhpcy5yZXF1ZXN0RHJhdygpOyB9KS5iaW5kKHRoaXMpKTtcbiAgICAgICAgbGV0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHttYXA6IHRleHR1cmV9KTtcbiAgICAgICAgbGV0IG1lc2ggPSBuZXcgVGhyZWVNZXNoKGdlb20sbWF0ZXJpYWwpO1xuICAgICAgICBtZXNoLnBvc2l0aW9uLnggPSB0aGlzLm1vZGVsLnBvc2l0aW9uWzBdO1xuICAgICAgICBtZXNoLnBvc2l0aW9uLnkgPSB0aGlzLm1vZGVsLnBvc2l0aW9uWzFdO1xuICAgICAgICBtZXNoLnBvc2l0aW9uLnogPSB0aGlzLm1vZGVsLnBvc2l0aW9uWzJdO1xuICAgICAgICB0aGlzLm1lc2ggPSB0aGlzLmFkZENoaWxkKG1lc2gpO1xuICAgIH1cblxufSJdLCJzb3VyY2VSb290IjoiIn0=