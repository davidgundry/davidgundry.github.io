/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/examples/classic-rpg-interface/Launcher.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/Launcher.ts":
/*!*************************!*\
  !*** ./src/Launcher.ts ***!
  \*************************/
/*! exports provided: Launcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Launcher", function() { return Launcher; });
/* harmony import */ var engine_Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/Game */ "./src/engine/Game.ts");
/* harmony import */ var engine_gameobject_context2d_Root__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/Root */ "./src/engine/gameobject/context2d/Root.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var engine_io_IO__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/io/IO */ "./src/engine/io/IO.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_io_Keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/io/Keyboard */ "./src/engine/io/Keyboard.ts");
/* harmony import */ var engine_io_Mouse__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/io/Mouse */ "./src/engine/io/Mouse.ts");
/* harmony import */ var engine_io_Timing__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/io/Timing */ "./src/engine/io/Timing.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_io_Loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/io/Loader */ "./src/engine/io/Loader.ts");











class Launcher {
    get rootGameObject() { return this._rootGameObject; }
    get canvas() { return this._canvas; }
    get container() { return this._container; }
    get canvasName() { return this._canvasName; }
    get created() { return this._created; }
    constructor(container, canvasName) {
        this._container = container;
        this._canvasName = canvasName || "gameCanvas";
    }
    create() {
        if (this._created)
            throw new Error("Cannot create Game: already created");
        this._rootGameObject = this._createRootGameObject(this._rootGameObjectType, this._container);
        this._canvas = this._rootGameObject.canvas;
        this._game = this._createGame(this.canvas, this._rootGameObject);
        this._container.appendChild(this.canvas);
        this._resizeFunction = (() => this._rootGameObject.resizeToOnUpdate(new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](this._container.offsetWidth, this._container.offsetHeight))).bind(this);
        this._created = true;
    }
    start() {
        addResizeListener(this._container, this._resizeFunction);
        this._game.start();
    }
    stop() {
        this._game.stop();
        removeResizeListener(this._container, this._resizeFunction);
    }
    _createGame(canvas, rootGameObject) {
        let game = new engine_Game__WEBPACK_IMPORTED_MODULE_0__["default"](rootGameObject, this._createInterfaces(canvas), MainLoop);
        game.create();
        return game;
    }
    _createInterfaces(canvas) {
        let io = new engine_io_IO__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this._addTiming(io);
        this._addLoader(io);
        return io;
    }
    _createRootGameObject(rootType, container) {
        let rootGameObject = new engine_gameobject_context2d_Root__WEBPACK_IMPORTED_MODULE_1__["default"](rootType, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](container.offsetWidth, container.offsetHeight)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__["FrameController"]());
        rootGameObject.createCanvas(this._canvasName);
        rootGameObject.transform.bounds.dimensions[0] = new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](container.offsetWidth, container.offsetHeight);
        rootGameObject.resizeCanvas(rootGameObject.transform.getDimension(), window.devicePixelRatio);
        rootGameObject.transform.recalculate();
        return rootGameObject;
    }
    _addKeyboard(io) {
        let keyboard = new engine_io_Keyboard__WEBPACK_IMPORTED_MODULE_6__["KeyboardListener"]();
        keyboard.create();
        io.addInterface(keyboard, "keyboard");
        return io;
    }
    _addMouse(io, canvas) {
        let mouse = new engine_io_Mouse__WEBPACK_IMPORTED_MODULE_7__["MouseListener"]();
        mouse.addTo(document, canvas);
        io.addInterface(mouse, "mouse");
        return io;
    }
    _addTiming(io) {
        io.addInterface(new engine_io_Timing__WEBPACK_IMPORTED_MODULE_8__["TimingListener"](), "timing");
        return io;
    }
    _addLoader(io) {
        io.addInterface(new engine_io_Loader__WEBPACK_IMPORTED_MODULE_10__["default"](), "loader");
        return io;
    }
}


/***/ }),

/***/ "./src/assets/rpg/levels/large-house.json":
/*!************************************************!*\
  !*** ./src/assets/rpg/levels/large-house.json ***!
  \************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, default */
/***/ (function(module) {

module.exports = [0,0,0,0,0,0,1,0,0,1,2,4,1,0,0,0,2,4,1,1,0,0,2,4,0,0,0,0,0,0,1,0,0,1,2,4,1,1,0,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,0,0,1,0,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,1,1,1,2,4,0,0,0,0,0,0,0,0,0,1,2,4,1,0,1,0,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,2,4,1,0,0,0,2,4,0,1,1,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,1,1,0,0,2,4,0,0,0,0,0,0,0,0,1,1,2,4,0,1,1,0,2,4,0,0,0,0,0,0,1,0,1,1,2,0,0,0,1,0,2,4,0,1,1,0,2,4,1,0,0,1,3,0,1,0,0,0,3,0,1,1,0,0,3,0,1,0,0,1,3,4,1,0,1,0,3,4,1,0,0,0,3,4,1,1,0,0,3,4,0,0,0,1,3,0,0,0,0,0,3,0,0,1,0,0,3,0,0,1,0,1,3,4,1,1,0,1,3,0,0,0,1,1,3,4,0,1,1,0,3,4,0,0,1,1,3,0,0,0,1,0,3,0,0,1,5,0,3,0,0,5,1,1,3,4,0,1,0,1,3,4,1,0,0,5,3,4,1,1,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,3,4,1,0,0,0,3,4,0,1,1,0,3,4,0,0,1,1,3,4,0,1,1,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4,1,3,4,1,1,1,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,4,1,0,0,0,0,4,1,0,0,0,0,4,1,5,0,0,3,4,1,5,0,5,3,4,1,0,0,5,3,4,1,1,0,0,3,4,0,0,0,1,0,4,0,0,0,0,0,4,0,0,0,0,0,4,0,1,0,0,3,4,0,1,1,1,0,4,0,0,0,1,3,4,0,1,0,0,3,4,0,0,1,1,0,4,0,0,1,0,0,4,0,0,1,0,0,4,0,0,0,0,3,4,1,0,1,0,3,4,0,0,1,0,3,4,0,1,1,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

/***/ }),

/***/ "./src/assets/rpg/levels/open-country.json":
/*!*************************************************!*\
  !*** ./src/assets/rpg/levels/open-country.json ***!
  \*************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 701, 702, 703, 704, 705, 706, 707, 708, 709, 710, 711, 712, 713, 714, 715, 716, 717, 718, 719, 720, 721, 722, 723, 724, 725, 726, 727, 728, 729, 730, 731, 732, 733, 734, 735, 736, 737, 738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 753, 754, 755, 756, 757, 758, 759, 760, 761, 762, 763, 764, 765, 766, 767, 768, 769, 770, 771, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 783, 784, 785, 786, 787, 788, 789, 790, 791, 792, 793, 794, 795, 796, 797, 798, 799, 800, 801, 802, 803, 804, 805, 806, 807, 808, 809, 810, 811, 812, 813, 814, 815, 816, 817, 818, 819, 820, 821, 822, 823, 824, 825, 826, 827, 828, 829, 830, 831, 832, 833, 834, 835, 836, 837, 838, 839, 840, 841, 842, 843, 844, 845, 846, 847, 848, 849, 850, 851, 852, 853, 854, 855, 856, 857, 858, 859, 860, 861, 862, 863, 864, 865, 866, 867, 868, 869, 870, 871, 872, 873, 874, 875, 876, 877, 878, 879, 880, 881, 882, 883, 884, 885, 886, 887, 888, 889, 890, 891, 892, 893, 894, 895, 896, 897, 898, 899, 900, 901, 902, 903, 904, 905, 906, 907, 908, 909, 910, 911, 912, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 930, 931, 932, 933, 934, 935, 936, 937, 938, 939, 940, 941, 942, 943, 944, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, default */
/***/ (function(module) {

module.exports = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,0,28,20,0,33,28,0,0,20,0,0,0,0,0,0,0,32,0,0,28,3,0,28,28,0,0,3,0,0,0,0,0,0,0,33,33,0,28,20,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,3,0,0,0,0,0,3,0,28,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,28,0,0,0,3,0,0,33,0,0,20,0,28,0,0,33,20,0,27,0,0,0,20,0,28,0,0,0,20,0,0,0,0,0,20,0,0,0,0,0,20,0,0,0,28,0,20,0,0,0,28,0,20,0,0,0,0,0,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,28,33,20,0,0,0,28,0,20,0,0,0,0,0,20,0,0,0,0,0,20,0,0,28,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,20,0,0,28,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,20,0,0,0,0,0,20,0,28,0,0,0,20,0,27,0,0,0,3,0,0,0,0,0,3,0,0,0,28,0,3,0,0,33,28,0,20,0,0,0,0,0,0,0,28,0,0,32,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,32,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,28,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,28,33,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,30,0,0,0,1,0,29,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

/***/ }),

/***/ "./src/assets/rpg/npcs/buer-test.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/npcs/buer-test.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "ac332024055102f7ea5d875065c412bc.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/fancy-dress-12.png":
/*!************************************************!*\
  !*** ./src/assets/rpg/npcs/fancy-dress-12.png ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "441dadab6498ef2d8fa4093e2856f540.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/skull-crossbones.png":
/*!**************************************************!*\
  !*** ./src/assets/rpg/npcs/skull-crossbones.png ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7c3d0f8d55679f27d8192f0685159fe5.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/ukobach-test.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/npcs/ukobach-test.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0f5a11e7c4d68d88f5958783b92ff18a.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/10p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/10p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "9a6522e44233039fef540a0b000010ea.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/11p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/11p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "ad257d7e43ce8eb9f39e38ab95725eee.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/12p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/12p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "b9b811634ed46c6f866f036210c173f8.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/13p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/13p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "b376ca5219c8c181bf1ec42aa86a82ec.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/14p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/14p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "79f5d19fe84087be033a8f3b4d599cf6.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/1p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/1p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "b65bf51aa8796d13b449d41010c42448.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/2p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/2p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f21ed09f1c78ef4744c65db5d886b85a.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/3p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/3p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "08b03c433b2c8412740544b07657fbc4.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/4p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/4p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7006b7c0e54e04295d980c4a023d4dd4.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/5p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/5p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "bd2c8735115c4e6077be29bd38b96b48.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/6p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/6p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2f131d4e479b2c18ce748dea2a4ab29f.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/7p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/7p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "888853009d4646a9a011ea96340e5294.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/8p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/8p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "015ad6ebef242ba8e3b2197d0a6760ff.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/9p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/9p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "4c98dbaad178a6329456504ccb630b93.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_down.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_down.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "623bace6875ddccec828ff2e6445b0d6.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_east.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_east.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c9603333f1bb20e82bc682ebf93b2c3b.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_north.png":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_north.png ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e3db27219b340e074890ad40b1edf7b5.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_south.png":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_south.png ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2ce4eea6288cbe1a001cdb18d98fb36e.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_up.png":
/*!******************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_up.png ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c0ffd8b850f63fa250a8bd90672f1e76.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_west.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_west.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "19a3166ce9f608e48c90c1776ab76b73.png";

/***/ }),

/***/ "./src/assets/rpg/spells/beautiful-bird.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/spells/beautiful-bird.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d1c0024e7e070f7156beca090fba1cc8.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/4-arch.png":
/*!********************************************!*\
  !*** ./src/assets/rpg/textures/4-arch.png ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "470536b00b3c1e967085f98888f78a92.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Antediluvian Door-alphamap.png":
/*!****************************************************************!*\
  !*** ./src/assets/rpg/textures/Antediluvian Door-alphamap.png ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "3a21bbb1e1a195700f494fae9b2e5120.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Antediluvian Door.png":
/*!*******************************************************!*\
  !*** ./src/assets/rpg/textures/Antediluvian Door.png ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0fbeaba70c8edf5bbd146be3de477355.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Asylum Cell Orange.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Asylum Cell Orange.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1f806ae06e8cc1aeb0fa06a8b4f78554.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Battered Red Clover.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Battered Red Clover.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "62f1bd3109277b693923c1ef2f0b7f30.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Brown Qussair Granite.jpg":
/*!***********************************************************!*\
  !*** ./src/assets/rpg/textures/Brown Qussair Granite.jpg ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "79a66bff42b37ac4a3ac1fdb26d8562e.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Carved Sandstone.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Carved Sandstone.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f89cb2ae34e05bdaece6280602914d47.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg":
/*!*************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "713d69f2fa0041ab7cbdbfc62addc690.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg":
/*!***************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "24f1b75791fab8bd4606fd2d3467f793.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg":
/*!*************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f161941f5c7ee456332724262f0ac588.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg":
/*!**************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "76b32f5c8a1188f493af04bc7de79601.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg":
/*!****************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1afb086031f8ef08eaa7b5c71cf34286.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg":
/*!******************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "8a83fc23c7a534cbb7fccf62b35e054c.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Council Chamber.jpg":
/*!*****************************************************!*\
  !*** ./src/assets/rpg/textures/Council Chamber.jpg ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a12e0c4e4e8f7e720cdacb9b4e32e070.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Dark Gray Marble.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Dark Gray Marble.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "eee894e799663072a648d522d8232b03.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Dead Caves.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Dead Caves.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "57c266c4b294f9350853ae1a67b0a983.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Fen Stone.jpg":
/*!***********************************************!*\
  !*** ./src/assets/rpg/textures/Fen Stone.jpg ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d98469dce78bfc68f773766099bb0687.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Forest Floor.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Forest Floor.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5e53793d5f73e1bd32c11b8ffab2975e.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Glassy Pink Marble.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Glassy Pink Marble.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5d24a8c1cf8ca4c6e6fb42ec5d0f1e86.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Granite Wall.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Granite Wall.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "77fa3a90c873583bf97fd03142a4f877.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Midnight Stone.jpg":
/*!****************************************************!*\
  !*** ./src/assets/rpg/textures/Midnight Stone.jpg ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "00dd4231dbca035c699c74d0a529fe54.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Moss Cushions.jpg":
/*!***************************************************!*\
  !*** ./src/assets/rpg/textures/Moss Cushions.jpg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7ae35a5dbe2c9e49415b84cf2d074ac0.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Mossy Rock.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Mossy Rock.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "359214cc6cf396160983f7251eecada5.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Palace Floor.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Palace Floor.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "53d683ea078a6c9d6ec87d2e24ceaadd.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Rough Orthoclase.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Rough Orthoclase.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d7657ae51e0b0d39e4b6768a9d931821.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Samaris Metal.jpg":
/*!***************************************************!*\
  !*** ./src/assets/rpg/textures/Samaris Metal.jpg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1bbed623433604571aef7e604eaae358.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Samaris.jpg":
/*!*********************************************!*\
  !*** ./src/assets/rpg/textures/Samaris.jpg ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f5d3c39b37e16e83793fb12c4925bb34.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Sandy Lichen Brick.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Sandy Lichen Brick.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "eab8ebd8b355d14427c49cebd3ee4b15.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Segmented Stone Wall.jpg":
/*!**********************************************************!*\
  !*** ./src/assets/rpg/textures/Segmented Stone Wall.jpg ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "8c7b0da7bfee04c0bad57f791b727686.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Slime Wall.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Slime Wall.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "af58f2beaea8ca45e43afce89100c6c8.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Smashed Gray Marble.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Smashed Gray Marble.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "9b5a15221bfac7a151dacb7bd225974d.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Smudged Dirt.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Smudged Dirt.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e60fd3e2f9f4215b77eb94787f11b8fb.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Straw Roof Interior.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Straw Roof Interior.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5483c730df3d9fb5674a1c693474d610.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Straw Roof.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Straw Roof.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "fa4679f6f6f847730b8a50b44a66b5ce.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Weeds and Gravel.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Weeds and Gravel.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "822e09cc0e54dd025833a77c4239547c.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Weedy Lawn.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Weedy Lawn.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "85665f5fcf032ceaa756cfbea5382027.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/empty.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/textures/empty.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "034bda097802307b7ae58c275b7a8453.png";

/***/ }),

/***/ "./src/assets/rpg/ui/air-spell-tab.png":
/*!*********************************************!*\
  !*** ./src/assets/rpg/ui/air-spell-tab.png ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e72ab308f9cd5cd12c53cf5ce05b8aa9.png";

/***/ }),

/***/ "./src/assets/rpg/ui/charsheet-icon.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/charsheet-icon.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0f2ccdc84820b1258a34bd04dd987be5.png";

/***/ }),

/***/ "./src/assets/rpg/ui/earth-spell-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/earth-spell-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "48987dea849abd6a45cda40f6e50fe20.png";

/***/ }),

/***/ "./src/assets/rpg/ui/fire-spell-tab.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/fire-spell-tab.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f7ba28c81d772698cda8d401d91dc354.png";

/***/ }),

/***/ "./src/assets/rpg/ui/hourglass.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/ui/hourglass.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "27968389b7cf258770705c17b20b812e.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-green.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-green.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "cdff23d03e4986334a7c349a82f488e9.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-red.png":
/*!********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-red.png ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a371f9c7077060a5a428c6e5592cecb1.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-yellow.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-yellow.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1fb9ee8226936506466c8fa0c758d7c4.png";

/***/ }),

/***/ "./src/assets/rpg/ui/quick-items-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/quick-items-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c1053227e3c3c31220caaca5240a19d7.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-dead.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/ui/status-dead.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a0b165da8d4c00d15d660462d3b57eb8.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-slow.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/ui/status-slow.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2a76f3cf16e95e4e9d985242beabfafb.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-torch-light.png":
/*!**************************************************!*\
  !*** ./src/assets/rpg/ui/status-torch-light.png ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "83b2cf802066aeb9d97e58d023172f2a.png";

/***/ }),

/***/ "./src/assets/rpg/ui/water-spell-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/water-spell-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5c5e7b2ff2d830f907c7ac718ec77bb1.png";

/***/ }),

/***/ "./src/engine/Asset.ts":
/*!*****************************!*\
  !*** ./src/engine/Asset.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Asset; });
class Asset {
    constructor(filename, asset, loaded) {
        this._filename = filename;
        this._asset = asset;
        this._loaded = loaded;
    }
    get filename() { return this._filename; }
    get asset() { return this._asset; }
    get loaded() { return this._loaded; }
    set loaded(val) { this._loaded = val; }
    set(asset) { this._asset = asset; }
}


/***/ }),

/***/ "./src/engine/Game.ts":
/*!****************************!*\
  !*** ./src/engine/Game.ts ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Game; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/Event */ "./src/engine/util/Event.ts");

class Game {
    constructor(rootGameObject, io, mainLoop) {
        this._rootGameObject = rootGameObject;
        this._io = io;
        this._mainLoop = mainLoop;
    }
    create() {
        if (this._created)
            throw new Error("Cannot create Game: already created");
        this._io.create();
        this._rootGameObject.doCreate(this._io.interfaces);
        this._mainLoop.setBegin(this._begin.bind(this))
            .setUpdate(this._update.bind(this))
            .setDraw(this._draw.bind(this))
            .setEnd(this._end.bind(this));
        this._created = true;
    }
    start() {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onStart);
        this._mainLoop.start();
    }
    stop() {
        this._mainLoop.stop();
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onStop);
    }
    _begin(timestamp, delta) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onBeginStart, timestamp, delta);
        this._rootGameObject.doBegin(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onBeginEnd);
    }
    _update(delta) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onUpdateStart, delta);
        this._rootGameObject.doUpdate(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onUpdateEnd);
    }
    _draw(interpolationPercentage) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onDrawStart);
        this._rootGameObject.doDraw(null);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onDrawEnd);
    }
    _end(fps, panic) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onEndStart, fps);
        this._rootGameObject.doEnd(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onEndEnd);
    }
}


/***/ }),

/***/ "./src/engine/GameObject.ts":
/*!**********************************!*\
  !*** ./src/engine/GameObject.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameObject; });
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _Transform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Transform */ "./src/engine/Transform.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/Event */ "./src/engine/util/Event.ts");



class GameObject {
    constructor(position, bounds) {
        this._children = [];
        this._assets = [];
        this._parent = null;
        this._created = false;
        this._runLoad = false;
        this._active = true;
        this._interactable = true;
        this._ranBegin = false;
        this._name = null;
        this._visible = true;
        this._opacity = 1;
        this._ignoreDrawCull = false;
        this._precreate = false;
        this._onDestroy = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
        if (position instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"])
            this._transform = new _Transform__WEBPACK_IMPORTED_MODULE_1__["default"](position, bounds);
        else
            this._transform = position;
        if (this._transform)
            this._transform.setGameObject(this);
    }
    get parent() { return this._parent; }
    set parent(val) { this._parent = val; }
    get transform() { return this._transform; }
    get name() { return this._name; }
    set name(val) { this._name = val; }
    get loaded() {
        return (this.runLoad && this.assets.every(x => x.loaded === true));
    }
    get subtreeLoaded() {
        return (this.loaded && (this._children.every(x => x.subtreeLoaded)));
    }
    get runLoad() { return this._runLoad; }
    get created() { return this._created; }
    get assets() { return this._assets; }
    get children() { return this._children; }
    set active(val) { this._active = val; }
    get active() { return this._active; }
    set interactable(val) { this._interactable = val; }
    get interactable() {
        if (!this._interactable)
            return false;
        else if (this.parent)
            return this.parent.interactable;
        return true;
    }
    set visible(val) {
        if (this._visible !== val) {
            if (!val)
                this.requestDraw();
            this._visible = val;
            if (val)
                this.requestDraw();
        }
    }
    get visible() { return this._visible; }
    get opacity() { return this._opacity; }
    set opacity(val) { this._opacity = val; }
    get onDestroy() { return this._onDestroy; }
    get precreate() { return this._precreate; }
    set precreate(val) { this._precreate = val; }
    addChild(child) {
        child.parent = this;
        this._children.push(child);
        return child;
    }
    getAsset(filename) {
        let assetsWithFilename = this.assets.filter(x => x.filename === filename);
        if (assetsWithFilename.length > 0)
            return assetsWithFilename[0].asset;
        throw new Error("No asset found with that name on gameobject");
    }
    doLoad(interfaces) {
        if (!(this._runLoad))
            this._runLoad = this.load(interfaces);
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doLoad(interfaces);
    }
    load(interfaces) { return true; }
    addAsset(asset) {
        if (asset === null)
            return null;
        if (this.assets.filter(x => x.filename === asset.filename).length === 0)
            this.assets.push(asset);
        return asset;
    }
    interfaces(interfaces) { return interfaces; }
    doCreate(interfaces) {
        if (!this._runLoad)
            this.doLoad(interfaces);
        if (this.loaded) {
            let createdThisRun = false;
            if (!this.created) {
                createdThisRun = true;
                this.create(interfaces);
            }
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doCreate(this.interfaces(interfaces));
            this._created = true;
            if (createdThisRun)
                this.afterCreate();
            this.requestDraw();
        }
    }
    create(interfaces) { }
    afterCreate() { }
    doBegin(interfaces) {
        if (this._active) {
            if (this._created)
                this._runBegin(interfaces);
            else {
                this.doCreate(interfaces);
                if (this._created)
                    this._runBegin(interfaces);
            }
        }
        else if (this._precreate) {
            this.doCreate(interfaces);
        }
    }
    _runBegin(interfaces) {
        this.begin(interfaces);
        this._ranBegin = true;
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doBegin(this.interfaces(interfaces));
    }
    begin(interfaces) { }
    doUpdate(interfaces) {
        if (this._transform)
            this._transform.update();
        if (this._ranBegin) {
            for (let i = this._children.length - 1; i >= 0; i--)
                if (this._children[i])
                    this._children[i].doUpdate(this.interfaces(interfaces));
            this.update(interfaces);
        }
    }
    update(interfaces) { }
    doDraw(context2D, webGL) {
        if ((this._created) && (this._visible) && (this._transform) && (this._opacity > 0) && (this._transform.hasPosition())) {
            let rotated = false;
            if (this._transform.rotation % 2 * Math.PI !== 0) {
                rotated = true;
                let pos = this._transform.getDrawPosition(0.5, 0.5);
                context2D.save();
                context2D.translate(pos.x, pos.y);
                context2D.rotate(this._transform.rotation);
                context2D.translate(-pos.x, -pos.y);
            }
            let startingOpacity = 0;
            if (context2D)
                startingOpacity = this._setDrawingOpacity(context2D);
            this.draw(context2D, webGL);
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doDraw(context2D, webGL);
            if (context2D)
                if (startingOpacity !== undefined)
                    context2D.globalAlpha = startingOpacity;
            if (rotated)
                context2D.restore();
        }
    }
    _setDrawingOpacity(context2D) {
        if (this._opacity !== 1) {
            let original = context2D.globalAlpha;
            context2D.globalAlpha = context2D.globalAlpha * this._opacity;
            return original;
        }
        return undefined;
    }
    draw(context2D, webGL) { }
    doEnd(interfaces) {
        if (this._ranBegin) {
            this.end(interfaces);
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doEnd(this.interfaces(interfaces));
            this._ranBegin = false;
        }
    }
    end(interfaces) { }
    requestDraw() {
        if (this._visible)
            if (this._parent)
                if (!(this.drawCulled))
                    this._parent.requestDraw();
    }
    get drawCulled() {
        if (this.ignoreDrawCull)
            return false;
        if ((this._transform) && (this._parent) && (this._parent.created) && (this._parent.transform))
            return !(_Transform__WEBPACK_IMPORTED_MODULE_1__["default"].overlaps(this._transform, this._parent.transform));
        return false;
    }
    get ignoreDrawCull() { return this._ignoreDrawCull; }
    set ignoreDrawCull(val) { this._ignoreDrawCull = val; }
    requestRemoval() { this._parent.removeChild(this); }
    removeChild(child) {
        let index = this._children.indexOf(child);
        if (index !== -1)
            this._children.splice(index, 1);
        child.doDestroy();
    }
    doDestroy() {
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doDestroy();
        if (this._transform)
            this._transform.destroy();
        this.destroy();
        this._onDestroy.call();
    }
    destroy() { }
}


/***/ }),

/***/ "./src/engine/Transform.ts":
/*!*********************************!*\
  !*** ./src/engine/Transform.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Transform; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _util_PolyShape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/PolyShape */ "./src/engine/util/PolyShape.ts");


class Transform {
    constructor(position, bounds) {
        this._fixed = true;
        this._rotation = 0;
        this._position = position;
        this._bounds = bounds;
        if (this.position)
            this._position.transform = this;
        if (this.bounds)
            this._bounds.transform = this;
        if ((!this.bounds) && (this.position))
            throw new Error("A game object with a non-null Position must have a non-null Bounds");
    }
    get gameObject() { return this._gameObject; }
    set gameObject(val) { this._gameObject = val; }
    get position() { return this._position; }
    get bounds() { return this._bounds; }
    get fixed() { return this._fixed; }
    set fixed(val) { this._fixed = val; }
    get positioningDirty() { return this._positioningDirty; }
    positioningIsDirty() { this._positioningDirty = true; }
    get parent() {
        if (this.gameObject)
            if (this.gameObject.parent)
                return this.gameObject.parent.transform;
        return null;
    }
    get rotation() { return this._rotation; }
    set rotation(val) { this._rotation = val; }
    getCanonicalPosition(point, y) {
        if (this.position) {
            if (!point)
                return this.position.absolutePositionTopLeft();
            else {
                let tl = this.position.absolutePositionTopLeft();
                let dim = this.bounds.dimension;
                if (point instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point.x, tl.y + dim.height * point.y);
                else
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point, tl.y + dim.height * y);
            }
        }
        return null;
    }
    getDrawPosition(point, y) {
        if (this.position) {
            if (!point)
                return this.position.drawPositionTopLeft();
            else {
                let tl = this.position.drawPositionTopLeft();
                let dim = this.bounds.dimension;
                if (point instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point.x, tl.y + dim.height * point.y);
                else
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point, tl.y + dim.height * y);
            }
        }
        return null;
    }
    getDimension() { return this.bounds.dimension; }
    setGameObject(val) { this.gameObject = val; }
    hasPosition() { return this.position !== null; }
    update() {
        if ((this.positioningDirty) || (!(this.fixed))) {
            if (this.position)
                this.position.checkForUpdatedTranslations();
            if (this.bounds)
                this.bounds.checkForUpdatedDimensions();
            this._positioningDirty = false;
        }
    }
    recalculate(excludeDrawCache) {
        if (this._position) {
            this._position.absoluteCacheDirty = true;
            if (!(excludeDrawCache))
                this._position.drawCacheDirty = true;
        }
        if (this._bounds)
            this._bounds.dirty = true;
        if (this.gameObject.children.length === 0) {
            if (!(excludeDrawCache))
                this.gameObject.requestDraw();
        }
        else
            this.gameObject.children.forEach(child => { if (child.transform)
                child.transform.recalculate(excludeDrawCache); });
    }
    static overlaps(a, b) {
        let aPos;
        let bPos;
        if (a.position)
            aPos = a.getCanonicalPosition();
        else
            aPos = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        if (b.position)
            bPos = b.getCanonicalPosition();
        else
            bPos = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        let aDim = a.getDimension();
        let bDim = b.getDimension();
        let x = false;
        let y = false;
        if ((aPos.x >= bPos.x) && (aPos.x <= bPos.x + bDim.width))
            x = true;
        if ((aPos.x <= bPos.x) && (aPos.x + aDim.width >= bPos.x))
            x = true;
        if ((aPos.y >= bPos.y) && (aPos.y <= bPos.y + bDim.height))
            y = true;
        if ((aPos.y <= bPos.y) && (aPos.y + aDim.height >= bPos.y))
            y = true;
        return x && y;
    }
    static contains(a, b) {
        let aPos = a.getCanonicalPosition();
        let bPos = b.getCanonicalPosition();
        let aDim = a.getDimension();
        let bDim = b.getDimension();
        let x = false;
        let y = false;
        if ((bPos.x >= aPos.x) && (bPos.x + bDim.width <= aPos.x + aDim.width))
            x = true;
        if ((bPos.y >= aPos.y) && (bPos.y + bDim.width <= aPos.y + aDim.height))
            y = true;
        return x && y;
    }
    containsPoint(point) {
        let offset = this.position.absolutePositionTopLeft();
        let dimension = this.bounds.dimension;
        return Transform.inDimension(point, dimension, offset);
    }
    destroy() {
        if (this.bounds)
            this.bounds.destroy();
        if (this.position)
            this.position.destroy();
    }
    static inDimension(point, dimension, offset) {
        if ((point.x >= offset.x) && (point.y >= offset.y))
            if ((point.x <= offset.x + dimension.width) && (point.y <= offset.y + dimension.height))
                return true;
        return false;
    }
    contextualisePolyshape(polyshape) {
        let pos = this.getCanonicalPosition();
        let dim = this.getDimension();
        let points = [];
        let x = true;
        polyshape.points.forEach(p => {
            points.push(new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](p.x * dim.width + pos.x, p.y * dim.height + pos.y));
        });
        let p = polyshape.clone(points);
        return p;
    }
    getCanonicalRect() {
        let pos = this.getCanonicalPosition();
        let dim = this.getDimension();
        return new _util_PolyShape__WEBPACK_IMPORTED_MODULE_1__["PolyRect"]([new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x, pos.y), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x + dim.width, pos.y), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x + dim.width, pos.y + dim.height), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x, pos.y + dim.height)]);
    }
}


/***/ }),

/***/ "./src/engine/TreeUtils.ts":
/*!*********************************!*\
  !*** ./src/engine/TreeUtils.ts ***!
  \*********************************/
/*! exports provided: TreeUtils, SubtreeLoadStats */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeUtils", function() { return TreeUtils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubtreeLoadStats", function() { return SubtreeLoadStats; });
class TreeUtils {
    static findChildrenOfType(parent, type, recursive) {
        recursive = recursive || false;
        let results = [];
        for (let i = 0; i < parent.children.length; i++) {
            if (parent.children[i] instanceof type)
                results.push(parent.children[i]);
            if (recursive) {
                let childResult = TreeUtils.findChildrenOfType(parent.children[i], type, recursive);
                results = results.concat(childResult);
            }
        }
        return results;
    }
    static findChildrenWithName(parent, name, recursive) {
        recursive = recursive || false;
        let results = [];
        for (let i = 0; i < parent.children.length; i++) {
            if ((parent.children[i].name) && (parent.children[i].name === name))
                results.push(parent.children[i]);
            if (recursive) {
                let childResult = TreeUtils.findChildrenWithName(parent.children[i], name, recursive);
                results = results.concat(childResult);
            }
        }
        return results;
    }
    static moveChildToFirst(parent, child) {
        parent.children.splice(parent.children.indexOf(child), 1);
        parent.children.unshift(child);
    }
    static moveChildToLast(parent, child) {
        parent.children.splice(parent.children.indexOf(child), 1);
        parent.children.push(child);
    }
    static subtreeLoadStats(root) {
        let r = TreeUtils._subtreeLoadStatsInner(root);
        return new SubtreeLoadStats(r[0], r[1], r[2], r[3]);
    }
    static _subtreeLoadStatsInner(root) {
        let total = 1;
        let loaded = root.loaded ? 1 : 0;
        let assetsTotal = root.assets.length;
        let assetsLoaded = root.assets.filter(a => a.loaded).length;
        root.children.forEach(c => {
            let r = TreeUtils._subtreeLoadStatsInner(c);
            total += r[0];
            loaded += r[1];
            assetsTotal += r[2];
            assetsLoaded += r[3];
        });
        return [total, loaded, assetsTotal, assetsLoaded];
    }
}
class SubtreeLoadStats {
    constructor(total, loaded, assetsTotal, assetsLoaded) {
        this.total = total;
        this.loaded = loaded;
        this.assetsTotal = assetsTotal;
        this.assetsLoaded = assetsLoaded;
    }
    get proportion() { return this.loaded / this.total; }
    get assetsProportion() { return this.assetsLoaded / this.assetsTotal; }
}


/***/ }),

/***/ "./src/engine/gameobject/Clip.ts":
/*!***************************************!*\
  !*** ./src/engine/gameobject/Clip.ts ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Clip; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");

class Clip extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, setClip) {
        super(position, bounds);
        this._setClip = setClip;
    }
    set setClip(val) { this._setClip = val; }
    doDraw(context2D) {
        context2D.save();
        this._setClip(context2D);
        super.doDraw(context2D);
        context2D.restore();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/Component.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/Component.ts ***!
  \********************************************/
/*! exports provided: Component, ComponentListener, ComponentController, ComponentInterface */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Component", function() { return Component; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentListener", function() { return ComponentListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentController", function() { return ComponentController; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentInterface", function() { return ComponentInterface; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");


class Component extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, listener, controller) {
        super(position, bounds);
        this._listener = listener;
        this._controller = controller;
    }
    get typeName() { return "Component"; }
    afterCreate() { this.link(this.controller); }
    get listener() { return this._listener; }
    get controller() { return this._controller; }
    destroy() {
        super.destroy();
        this.unlink(this.controller);
    }
    onDestroyFromController() {
        this.requestRemoval();
    }
    link(controller) {
        controller.onDestroy.push(this.destroy.bind(this), this);
    }
    unlink(controller) {
        controller.onDestroy.unregister(this);
    }
    static newInterface() { return new ComponentInterface(new ComponentListener(), new ComponentController()); }
}
class ComponentListener {
}
class ComponentController {
    constructor() {
        this._counter = 0;
        this._onDestroy = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onDestroy() { return this._onDestroy; }
    next() {
        return {
            done: false,
            value: this.onDestroy
        };
    }
}
class ComponentInterface {
    constructor(listener, controller) {
        this._listener = listener;
        this._controller = controller;
    }
    get listener() { return this._listener; }
    get controller() { return this._controller; }
}


/***/ }),

/***/ "./src/engine/gameobject/Frame.ts":
/*!****************************************!*\
  !*** ./src/engine/gameobject/Frame.ts ***!
  \****************************************/
/*! exports provided: Frame, FrameListener, FrameController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Frame", function() { return Frame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FrameListener", function() { return FrameListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FrameController", function() { return FrameController; });
/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Component */ "./src/engine/gameobject/Component.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");


class Frame extends _Component__WEBPACK_IMPORTED_MODULE_0__["Component"] {
    constructor(position, bounds, listener, controller) {
        super(position, bounds, listener, controller);
        this._childFrameControllers = [];
        this._isOpen = false;
        this._awaitingOpen = false;
        this.visible = false;
        this.active = false;
    }
    get awaitingOpen() { return this._awaitingOpen; }
    get isOpen() { return this._isOpen; }
    set isOpen(val) { this._isOpen = val; }
    addFrame(frame) {
        this.onAddFrame(frame);
        return frame;
    }
    onAddFrame(frame) {
        this._childFrameControllers.push(frame.controller);
    }
    switchToFrame(frameController) {
        _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(frameController.onOpen);
    }
    afterCreate() {
        super.afterCreate();
        if (this.awaitingOpen) {
            this.open();
            this._awaitingOpen = false;
        }
    }
    onOpen(...args) { }
    open(...args) {
        this.active = true;
        this.visible = true;
        if (this.created) {
            this.onOpen(...args);
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onOpen, ...args);
            this.isOpen = true;
        }
        else
            this._awaitingOpen = true;
    }
    ready(...args) {
        this.active = true;
        this.visible = true;
        if (this.created) {
            this.onReady(...args);
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onReady, ...args);
            this.isOpen = true;
        }
        else
            this._awaitingOpen = true;
    }
    onReady(...args) { }
    onClosing(...args) { this.close(); }
    onClose(...args) { }
    close(...args) {
        if ((this.isOpen) && (this.created)) {
            this.isOpen = false;
            this.onClose(...args);
            this.active = false;
            this.visible = false;
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onClose, ...args);
        }
    }
    link(controller) {
        super.link(controller);
        controller.onOpen.push(this.open.bind(this), this);
        controller.onReady.push(this.onReady.bind(this), this);
        controller.onClosing.push(this.onClosing.bind(this), this);
        controller.onClose.push(this.close.bind(this), this);
        controller.onAddFrame.push(this.onAddFrame.bind(this), this);
    }
    unlink(controller) {
        super.unlink(controller);
        controller.onOpen.unregister(this);
        controller.onReady.unregister(this);
        controller.onClosing.unregister(this);
        controller.onClose.unregister(this);
        controller.onAddFrame.unregister(this);
    }
    get typeName() { return "Frame"; }
    static newInterface() { return new _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentInterface"](new FrameListener(), new FrameController()); }
}
class FrameListener extends _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentListener"] {
    constructor() {
        super(...arguments);
        this._onOpen = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onReady = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClosing = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClose = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onOpen() { return this._onOpen; }
    get onReady() { return this._onReady; }
    get onClosing() { return this._onClosing; }
    get onClose() { return this._onClose; }
}
class FrameController extends _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentController"] {
    constructor() {
        super(...arguments);
        this._onOpen = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onReady = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClosing = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClose = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onAddFrame = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onOpen() { return this._onOpen; }
    get onReady() { return this._onReady; }
    get onClosing() { return this._onClosing; }
    get onClose() { return this._onClose; }
    get onAddFrame() { return this._onAddFrame; }
}


/***/ }),

/***/ "./src/engine/gameobject/PolygonCollision.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/PolygonCollision.ts ***!
  \***************************************************/
/*! exports provided: Intersection, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Intersection", function() { return Intersection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PolygonCollision; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Point */ "./src/engine/util/Point.ts");

class Intersection {
    get depth() { return this._depth; }
    get proportionOfDispacementIntersecting() { return this._proportionOfDisplacementIntersecting; }
    set depth(val) { this._depth = val; }
    set proportionOfDispacementIntersecting(val) { this._proportionOfDisplacementIntersecting = val; }
    constructor(point, edge) {
        this.point = point;
        this.edge = edge;
    }
}
class PolygonCollision {
    constructor(polygon1, polygon2) {
        this._polygon1 = polygon1;
        this._polygon2 = polygon2;
    }
    intersects() {
        return this._polygon1.intersects(this._polygon2);
    }
    getProjection() {
        let axes = new Set();
        this._polygon1.edges.forEach(e => axes.add(e.vector.rotate(Math.PI / 2).normalised));
        this._polygon2.edges.forEach(e => {
            let newAxis = e.vector.rotate(Math.PI / 2).normalised;
            let duplicate = false;
            axes.forEach(a => {
                if (!(_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(a, newAxis)))
                    duplicate = true;
            });
            if (!(duplicate))
                axes.add(newAxis);
        });
        let p1MaxDisplacementPerAxis = [];
        let p1MinDisplacementPerAxis = [];
        let p2MaxDisplacementPerAxis = [];
        let p2MinDisplacementPerAxis = [];
        axes.forEach((a, i) => {
            let p1 = this._polygon1.points.map(x => x.projectionIn(a));
            let p2 = this._polygon2.points.map(x => x.projectionIn(a));
            p1MaxDisplacementPerAxis.push(Math.max(...p1));
            p1MinDisplacementPerAxis.push(Math.min(...p1));
            p2MaxDisplacementPerAxis.push(Math.max(...p2));
            p2MinDisplacementPerAxis.push(Math.min(...p2));
            if (!((p1MaxDisplacementPerAxis[i] > p2MinDisplacementPerAxis[i]) && (p1MinDisplacementPerAxis[i] < p2MaxDisplacementPerAxis[i])))
                return null;
        });
        let axis;
        let value = undefined;
        axes.forEach((ax, i) => {
            let a = p1MaxDisplacementPerAxis[i] - p2MinDisplacementPerAxis[i];
            let b = p2MaxDisplacementPerAxis[i] - p1MinDisplacementPerAxis[i];
            if (Math.abs(a) <= Math.abs(b)) {
                if ((value === undefined) || value > Math.abs(a)) {
                    axis = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(axes[i]);
                    value = Math.abs(a);
                }
            }
            else {
                if ((value === undefined) || value > Math.abs(b)) {
                    axis = axes[i];
                    value = Math.abs(b);
                }
            }
        });
        if (value)
            return _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].multiply(axis, value);
        return null;
    }
    getIntersection(polygon1Displacement) {
        if (polygon1Displacement.isZero)
            return null;
        let leadingPoint = this._polygon1.maximumProjectionOnVector(polygon1Displacement);
        let start = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(leadingPoint, polygon1Displacement);
        let intersections = this._polygon2.intersectionsWithEdge(start, leadingPoint);
        let smallestDistance = undefined;
        let firstIntersection;
        intersections.forEach(i => {
            let d = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(i.point, start).magnitude;
            if ((smallestDistance === undefined) || (d < smallestDistance)) {
                smallestDistance = d;
                firstIntersection = i;
            }
        });
        if (firstIntersection) {
            firstIntersection.depth = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(leadingPoint, firstIntersection.point).magnitude;
            firstIntersection.proportionOfDispacementIntersecting = firstIntersection.depth / polygon1Displacement.magnitude;
            let ev = firstIntersection.edge.vector;
            firstIntersection.angle = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].angleBetween(polygon1Displacement, ev);
            return firstIntersection;
        }
        return null;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeBuffer.ts":
/*!**********************************************!*\
  !*** ./src/engine/gameobject/ThreeBuffer.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeBuffer; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");


class ThreeBuffer extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._fieldOfView = 75;
        this._nearClip = 0.1;
        this._farClip = 1000;
        this._hasAlphaChanel = false;
        this._cameraAspectFunction = (width, height) => width / height;
    }
    get scene() { return this._scene; }
    get camera() { return this._camera; }
    get canvas() { return this._canvas; }
    get renderer() { return this._renderer; }
    get fieldOfView() { return this._fieldOfView; }
    set fieldOfView(val) {
        this._fieldOfView = val;
        this._cameraUpdateRequired = true;
    }
    get nearClip() { return this._nearClip; }
    set nearClip(val) {
        this._nearClip = val;
        this._cameraUpdateRequired = true;
    }
    get farClip() { return this._farClip; }
    set farClip(val) {
        this._farClip = val;
        this._cameraUpdateRequired = true;
    }
    get cameraAspectFunction() { return this._cameraAspectFunction; }
    set cameraAspectFunction(val) {
        this._cameraAspectFunction = val;
        this._cameraUpdateRequired = true;
    }
    create() {
        this._scene = new THREE.Scene();
        this._renderer = new THREE.WebGLRenderer({ alpha: this._hasAlphaChanel });
        this._camera = new THREE.PerspectiveCamera(this._fieldOfView, 1, this._nearClip, this._farClip);
        this._scene.add(this._camera);
        this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
        this._canvas = this._renderer.domElement;
        this.cameraUpdate();
    }
    interfaces(interfaces) {
        interfaces["threeParent"] = this.scene;
        return interfaces;
    }
    cameraUpdate() {
        this._camera.aspect = this.cameraAspectFunction(this.transform.bounds.dimension.width, this.transform.bounds.dimension.height);
        this._camera.fov = this._fieldOfView;
        this._camera.nearClip = this._nearClip;
        this._camera.farClip = this._farClip;
        this._camera.updateProjectionMatrix();
        this._cameraUpdateRequired = false;
    }
    resizeCanvas(dim, devicePixelRatio) {
        this._pixelRatio = devicePixelRatio;
        this._renderer.setSize(dim.width * this._pixelRatio, dim.height * this._pixelRatio);
        this._oldDimension = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](dim.width, dim.height);
    }
    _hasResized() {
        let dim = this.transform.bounds.dimension;
        return ((this._oldDimension.width !== dim.width) ||
            (this._oldDimension.height !== dim.height));
    }
    _hasDevicePixelRatioChanged() {
        return this._pixelRatio !== window.devicePixelRatio;
    }
    begin() {
        if (this._hasResized() || this._hasDevicePixelRatioChanged()) {
            this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
            this.cameraUpdate();
            this.requestDraw();
        }
        else if (this._cameraUpdateRequired) {
            this.cameraUpdate();
            this.requestDraw();
        }
        else if (this.debugDisableCache)
            this.requestDraw();
    }
    draw(context2D) {
        if (context2D) {
            let pos = this.transform.position.drawPositionTopLeft();
            let dim = this.transform.bounds.dimension;
            if (this._drawRequested) {
                this._renderer.render(this._scene, this._camera);
                this._drawRequested = false;
            }
            context2D.drawImage(this._canvas, 0, 0, Math.round(dim.width) * this._pixelRatio, Math.round(dim.height) * this._pixelRatio, Math.round(pos.x), Math.round(pos.y), Math.round(dim.width), Math.round(dim.height));
        }
    }
    requestDraw() {
        this._drawRequested = true;
        super.requestDraw();
    }
    destroy() {
        super.destroy();
        this.scene.dispose();
        this.renderer.dispose();
    }
    disposeNode(node) {
        if (node instanceof THREE.Mesh) {
            if (node.geometry) {
                node.geometry.dispose();
            }
            if (node.material) {
                if (node.material instanceof THREE.MeshFaceMaterial) {
                    node.material.materials.forEach((mtrl, idx) => {
                        if (mtrl.map)
                            mtrl.map.dispose();
                        if (mtrl.lightMap)
                            mtrl.lightMap.dispose();
                        if (mtrl.bumpMap)
                            mtrl.bumpMap.dispose();
                        if (mtrl.normalMap)
                            mtrl.normalMap.dispose();
                        if (mtrl.specularMap)
                            mtrl.specularMap.dispose();
                        if (mtrl.envMap)
                            mtrl.envMap.dispose();
                        mtrl.dispose();
                    });
                }
                else {
                    if (node.material.map)
                        node.material.map.dispose();
                    if (node.material.lightMap)
                        node.material.lightMap.dispose();
                    if (node.material.bumpMap)
                        node.material.bumpMap.dispose();
                    if (node.material.normalMap)
                        node.material.normalMap.dispose();
                    if (node.material.specularMap)
                        node.material.specularMap.dispose();
                    if (node.material.envMap)
                        node.material.envMap.dispose();
                    node.material.dispose();
                }
            }
        }
    }
    disposeHierarchy(node, callback) {
        for (var i = node.children.length - 1; i >= 0; i--) {
            var child = node.children[i];
            this.disposeHierarchy(child, callback);
            callback(child);
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeMesh.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/ThreeMesh.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeMesh; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");

class ThreeMesh extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get mesh() { return this._mesh; }
    set mesh(val) {
        this._newMesh = val;
        this._meshUpdated = true;
    }
    constructor(mesh, material) {
        super(null);
        if (material)
            this._mesh = new THREE.Mesh(mesh, material);
        else
            this._mesh = mesh;
    }
    create({ threeParent: threeParent }) {
        threeParent.add(this._mesh);
    }
    update({ threeParent: threeParent }) {
        if (this._meshUpdated) {
            threeParent.remove(this.mesh);
            this._mesh = this._newMesh;
            this._newMesh = null;
            threeParent.add(this._mesh);
            this._meshUpdated = false;
        }
    }
    interfaces(interfaces) {
        interfaces["threeParent"] = this.mesh;
        return interfaces;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/Timer.ts":
/*!****************************************!*\
  !*** ./src/engine/gameobject/Timer.ts ***!
  \****************************************/
/*! exports provided: Timer, TimeOutCallback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timer", function() { return Timer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeOutCallback", function() { return TimeOutCallback; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");

class Timer extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(null, null);
        this._time = 0;
        this._startTime = 0;
        this._previousTime = 0;
        this._timeOutCallbacks = [];
        this._running = false;
    }
    get typeName() { return "Timer"; }
    get time() { return this._time; }
    set time(val) { this._time = val; }
    get running() { return this._running; }
    addTimeOutCallback(time, callback) {
        this._timeOutCallbacks.push(new TimeOutCallback(time, callback));
    }
    start() {
        this._running = true;
        this._startTime = Date.now();
        this._previousTime = 0;
        this.time = 0;
    }
    pause() {
        this._previousTime = this.time;
        this._running = false;
    }
    resume() {
        this._startTime = Date.now();
        this._running = true;
    }
    begin({ timing: t }) {
        if (this.running) {
            this.time = (Date.now() - this._startTime) + this._previousTime;
            this._timeOutCallbacks.forEach(x => {
                if (this.time > x.time)
                    x.callback();
            });
        }
    }
}
class TimeOutCallback {
    constructor(time, callback) {
        this.time = time;
        this.callback = callback;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Animation.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/anim/Animation.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Animation; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");


class Animation extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor() {
        super(null, null);
        this._done = false;
        this._onComplete = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._onStep = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    get done() { return this._done; }
    get onComplete() { return this._onComplete; }
    set onComplete(val) { this._onComplete = val; }
    get onStep() { return this._onStep; }
    set onStep(val) { this._onStep = val; }
    update(...args) {
        if (!this.done)
            this.onStep.call();
    }
    complete() {
        this._done = true;
        this.onComplete.call();
        this.requestRemoval();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Point3Tween.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/anim/Point3Tween.ts ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point3Tween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");
/* harmony import */ var _util_Point3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point3 */ "./src/engine/util/Point3.ts");


class Point3Tween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    increment(delta) {
        let newX = ((this.targetValue.x - this.currentValue.x) / this.timeRemaining) * delta + this.currentValue.x;
        let newY = ((this.targetValue.y - this.currentValue.y) / this.timeRemaining) * delta + this.currentValue.y;
        let newZ = ((this.targetValue.z - this.currentValue.z) / this.timeRemaining) * delta + this.currentValue.z;
        if (this.currentValue.x < this.targetValue.x)
            newX = Math.min(this.targetValue.x, newX);
        else if (this.currentValue.x > this.targetValue.x)
            newX = Math.max(this.targetValue.x, newX);
        if (this.currentValue.y < this.targetValue.y)
            newY = Math.min(this.targetValue.y, newY);
        else if (this.currentValue.y > this.targetValue.y)
            newY = Math.max(this.targetValue.y, newY);
        if (this.currentValue.z < this.targetValue.z)
            newZ = Math.min(this.targetValue.z, newZ);
        else if (this.currentValue.y > this.targetValue.y)
            newZ = Math.max(this.targetValue.z, newZ);
        this.currentValue = new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](newX, newY, newZ);
    }
    get reachedTarget() { return _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"].equals(this.currentValue, this.targetValue); }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Tween.ts":
/*!*********************************************!*\
  !*** ./src/engine/gameobject/anim/Tween.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Tween; });
/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Animation */ "./src/engine/gameobject/anim/Animation.ts");

class Tween extends _Animation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time) {
        super();
        this._requestDrawOnChange = true;
        if (object) {
            this._object = object;
            this._startValue = object[variableName];
            this._variableName = variableName;
            this._targetValue = targetValue;
            this._time = time;
            this._timeRemaining = time;
        }
    }
    get object() { return this._object; }
    get variableName() { return this._variableName; }
    get startValue() { return this._startValue; }
    get targetValue() { return this._targetValue; }
    get currentValue() { return this.object[this.variableName]; }
    set currentValue(val) { this.object[this.variableName] = val; }
    get time() { return this._time; }
    get timeRemaining() { return this._timeRemaining; }
    get requestDrawOnChange() { return this._requestDrawOnChange; }
    set requestDrawOnChange(val) { this._requestDrawOnChange = val; }
    update({ timing: t }) {
        super.update();
        if (!this.done) {
            if (this.requestDrawOnChange)
                this.requestDraw();
            this._timeRemaining -= t.delta;
            if (this._timeRemaining <= 0) {
                this.currentValue = this.targetValue;
                this.complete();
            }
            else {
                this.increment(t.delta);
                if (this.reachedTarget)
                    this.complete();
            }
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/ValueTween.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/anim/ValueTween.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ValueTween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");

class ValueTween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get rate() {
        if (this.timeRemaining <= 0)
            return 0;
        return ((this.targetValue - this.currentValue) / this.timeRemaining);
    }
    increment(delta) {
        let newVal = this.currentValue + (this.rate * delta);
        if (this.currentValue < this.targetValue)
            this.currentValue = Math.min(newVal, this.targetValue);
        else
            this.currentValue = Math.max(newVal, this.targetValue);
    }
    get reachedTarget() { return this.currentValue === this.targetValue; }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Wait.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/anim/Wait.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Wait; });
/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Animation */ "./src/engine/gameobject/anim/Animation.ts");

class Wait extends _Animation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Wait"; }
    constructor(time) {
        super();
        this._time = time;
        this._timeRemaining = time;
    }
    get time() { return this._time; }
    get timeRemaining() { return this._timeRemaining; }
    update({ timing: t }) {
        super.update();
        this._timeRemaining -= t.delta;
        if (this.timeRemaining <= 0)
            this.complete();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/WrappingPoint3Tween.ts":
/*!***********************************************************!*\
  !*** ./src/engine/gameobject/anim/WrappingPoint3Tween.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WrappingPoint3Tween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");
/* harmony import */ var _util_Point3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point3 */ "./src/engine/util/Point3.ts");


class WrappingPoint3Tween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time, wrapValue) {
        super(object, variableName, targetValue, time);
        this._wrapValue = wrapValue;
    }
    shortestDistanceDim(ax, bx, lx) {
        if (ax === bx)
            return 0;
        let wrapx = (ax < bx) ? ((lx - bx) + ax) : ((lx - ax) + bx);
        let straightx = Math.abs(bx - ax);
        if (straightx < wrapx)
            return bx - ax;
        else {
            if (ax < bx)
                return -wrapx;
            else
                return wrapx;
        }
    }
    get rate() {
        let x = this.shortestDistanceDim(this.currentValue.x, this.targetValue.x, this._wrapValue.x);
        let y = this.shortestDistanceDim(this.currentValue.y, this.targetValue.y, this._wrapValue.y);
        let z = this.shortestDistanceDim(this.currentValue.z, this.targetValue.z, this._wrapValue.z);
        return new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](x / this.timeRemaining, y / this.timeRemaining, z / this.timeRemaining);
    }
    incrementDim(cx, tx, rx, newX) {
        if ((cx < tx) && (rx > 0))
            newX = Math.min(tx, newX);
        if ((cx < tx) && (rx < 0)) {
            if (newX < this.currentValue)
                newX = Math.min(newX, tx);
        }
        else if ((cx > tx) && (rx > 0)) {
            if (newX > this.currentValue)
                newX = Math.max(newX, this.targetValue);
        }
        else if ((cx > tx) && (rx < 0))
            newX = Math.max(tx, newX);
        return newX;
    }
    increment(delta) {
        let rate = this.rate;
        let newX = (rate.x * delta + this.currentValue.x) % this._wrapValue.x;
        let newY = (rate.y * delta + this.currentValue.y) % this._wrapValue.y;
        let newZ = (rate.z * delta + this.currentValue.z) % this._wrapValue.z;
        newX = this.incrementDim(this.currentValue.x, this.targetValue.x, rate.x, newX);
        newY = this.incrementDim(this.currentValue.y, this.targetValue.y, rate.y, newY);
        newZ = this.incrementDim(this.currentValue.z, this.targetValue.z, rate.z, newZ);
        this.currentValue = new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](newX, newY, newZ);
    }
    get reachedTarget() { return _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"].equals(this.currentValue, this.targetValue); }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/WrappingValueTween.ts":
/*!**********************************************************!*\
  !*** ./src/engine/gameobject/anim/WrappingValueTween.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WrappingValueTween; });
/* harmony import */ var _ValueTween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");

class WrappingValueTween extends _ValueTween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time, wrapValue) {
        super(object, variableName, targetValue, time);
        this._wrapValue = wrapValue;
        let wrapping = Math.abs(this.startValue - this.targetValue) > this._wrapValue / 2;
        let upwards = this.startValue < this.targetValue;
        this._directionIsUp = ((upwards && !wrapping) || (!upwards && wrapping));
    }
    shortestDistance() {
        if (this.targetValue === this.currentValue)
            return 0;
        if (this._directionIsUp && (this.targetValue < this.currentValue))
            return this.targetValue + this._wrapValue - this.currentValue;
        if (this._directionIsUp && (this.targetValue > this.currentValue))
            return this.targetValue - this.currentValue;
        if (!this._directionIsUp && (this.targetValue < this.currentValue))
            return this.targetValue - this.currentValue;
        if (!this._directionIsUp && (this.targetValue > this.currentValue))
            return this.targetValue - (this.currentValue + this._wrapValue);
    }
    get rate() {
        if (this.timeRemaining <= 0)
            return 0;
        return (this.shortestDistance() / this.timeRemaining);
    }
    increment(delta) {
        let newVal = this.currentValue + (this.rate * delta);
        if ((this.currentValue < this.targetValue) && (this._directionIsUp))
            this.currentValue = Math.min(newVal, this.targetValue);
        else if ((this.currentValue > this.targetValue) && (this._directionIsUp)) {
            if (newVal % this._wrapValue < this.currentValue)
                this.currentValue = Math.min(newVal, this.targetValue);
            else
                this.currentValue = newVal;
        }
        else if ((this.currentValue < this.targetValue) && !(this._directionIsUp)) {
            if (newVal % this._wrapValue > this.currentValue)
                this.currentValue = Math.max(newVal, this.targetValue);
            else
                this.currentValue = newVal;
        }
        else if ((this.currentValue > this.targetValue) && !(this._directionIsUp))
            this.currentValue = Math.max(newVal, this.targetValue);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/BufferClone.ts":
/*!********************************************************!*\
  !*** ./src/engine/gameobject/context2d/BufferClone.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BufferClone; });
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");



class BufferClone extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(position, bounds, drawBuffer, clipFunction) {
        super(position, bounds);
        this._origin = new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this._area = null;
        this._drawBuffer = drawBuffer;
        this._clipFunction = clipFunction;
    }
    get typeName() { return "BufferClone"; }
    get clipFunction() { return this._clipFunction; }
    set clipFunction(val) { this._clipFunction = val; }
    get origin() { return this._origin; }
    set origin(val) { this._origin = val; }
    get area() { return this._area; }
    set area(val) { this._area = val; }
    get drawBuffer() { return this._drawBuffer; }
    draw(context2D) {
        if (!this._drawBuffer)
            throw new Error("Cannot draw bufferclone because the provided DrawBuffer is null");
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        let dbDim = this._drawBuffer.canvasUsedDimension;
        if (this._clipFunction) {
            context2D.save();
            this._clipFunction(context2D, pos, dim);
            context2D.clip();
        }
        let sourceDim = dbDim;
        if (this.area) {
            sourceDim = this.area.asSimplePixelDimension(this.transform.bounds);
            sourceDim = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_0__["default"](sourceDim.width * this.drawBuffer.pixelRatio, sourceDim.height * this.drawBuffer.pixelRatio);
        }
        let orig = this.origin.absolutePositionTopLeft(this.drawBuffer.transform.bounds);
        context2D.drawImage(this._drawBuffer.canvas, orig.x * this.drawBuffer.pixelRatio, orig.y * this.drawBuffer.pixelRatio, sourceDim.width, sourceDim.height, pos.x, pos.y, dim.width, dim.height);
        if (this._clipFunction)
            context2D.restore();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Buffered.ts":
/*!*****************************************************!*\
  !*** ./src/engine/gameobject/context2d/Buffered.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Buffered; });
/* harmony import */ var _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Component */ "./src/engine/gameobject/Component.ts");
/* harmony import */ var _Frame__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Frame */ "./src/engine/gameobject/Frame.ts");







class Buffered extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(type, ...constructorArgs) {
        let arg1 = constructorArgs.shift();
        if (arg1 instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"])
            super(arg1, constructorArgs.shift());
        else if (arg1 instanceof _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"])
            super(null, arg1);
        else
            throw new Error("Cannot create a Buffered<GameObject> that lacks a bounds. DrawBuffers require a Bounds");
        this._constructorArgs = constructorArgs;
        this._type = type;
        this._buffer = new _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)));
        this._inner = new this._type(new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), ...this._constructorArgs);
    }
    get inner() { return this._inner; }
    get buffer() { return this._buffer; }
    create() {
        this.addChild(this._buffer);
        this._buffer.addChild(this._inner);
        if (this.inner instanceof _Component__WEBPACK_IMPORTED_MODULE_5__["Component"])
            this.inner.controller.onDestroy.push((() => { this.requestRemoval(); }).bind(this), this);
        if (this.inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"]) {
            this.inner.listener.onClose.push((() => { this.visible = false; this.active = false; }).bind(this), this);
            this.inner.listener.onOpen.push((() => { this.visible = true; this.active = true; }).bind(this), this);
            this.visible = this.inner.isOpen;
        }
    }
    destroy() {
        super.destroy();
        if (this.inner instanceof _Component__WEBPACK_IMPORTED_MODULE_5__["Component"])
            this.inner.controller.onDestroy.unregister(this);
        if (this.inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"]) {
            this.inner.listener.onClose.unregister(this);
            this.inner.listener.onOpen.unregister(this);
        }
    }
    draw() {
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Circle.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/context2d/Circle.ts ***!
  \***************************************************/
/*! exports provided: Circle, FillCircle, OutlineCircle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Circle", function() { return Circle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillCircle", function() { return FillCircle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineCircle", function() { return OutlineCircle; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");


class Circle extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Circle"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
    }
    outline(context2D, pos, dim) {
        let radDim = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](Math.max(0, dim.width - this.lineWidth), Math.max(0, dim.height - this.lineWidth));
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        context2D.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(radDim.width, radDim.height) / 2, 0, 2 * Math.PI);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        context2D.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(dim.width, dim.height) / 2, 0, 2 * Math.PI);
        context2D.fill();
    }
}
class FillCircle extends Circle {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineCircle extends Circle {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/DrawBuffer.ts":
/*!*******************************************************!*\
  !*** ./src/engine/gameobject/context2d/DrawBuffer.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DrawBuffer; });
/* harmony import */ var _Transform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Transform */ "./src/engine/Transform.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");




class DrawBuffer extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(position, bounds) {
        super(new DrawTransform(position, bounds));
        this._canvas = null;
        this._context2D = null;
        this._drawRequested = false;
        this._hasAlphaChannel = true;
        this._imageData = null;
        this.debugDisableCache = false;
        this._forgetInternalsOnDraw = false;
        this._canvasDrawFixed = false;
        if (this.transform.position)
            this.transform.position.resetDrawPos = true;
    }
    get typeName() { return "DrawBuffer"; }
    get forgetInternalsOnDraw() { return this._forgetInternalsOnDraw; }
    set forgetInternalsOnDraw(val) { this._forgetInternalsOnDraw = val; }
    get canvasDrawFixed() { return this._canvasDrawFixed; }
    get canvas() { return this._canvas; }
    get context2D() { return this._context2D; }
    get canvasUsedDimension() { return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_3__["default"](Math.ceil(this.transform.bounds.dimension.width * this.pixelRatio), Math.ceil(this.transform.bounds.dimension.height * this.pixelRatio)); }
    get backgroundColor() { return this._backgroundColor; }
    set backgroundColor(val) { this._backgroundColor = val; }
    get pixelRatio() { return this._pixelRatio; }
    get hasAlphaChannel() { return this._hasAlphaChannel; }
    set hasAlphaChannel(val) {
        if ((this._hasAlphaChannel !== val) && (this._canvas))
            this._context2D = this._canvas.getContext('2d', { alpha: val });
        this._hasAlphaChannel = val;
    }
    get drawRequested() { return this._drawRequested; }
    create() {
        this._createDrawBuffer();
    }
    _createDrawBuffer() {
        this._canvas = document.createElement('canvas');
        this._context2D = this._canvas.getContext('2d', { alpha: this.hasAlphaChannel });
        this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
        this.clear();
    }
    resizeCanvas(dim, devicePixelRatio) {
        this._pixelRatio = devicePixelRatio;
        this.canvas.width = Math.max(dim.width * this.pixelRatio, DrawBuffer.minCanvasSize);
        this.canvas.height = Math.max(dim.height * this.pixelRatio, DrawBuffer.minCanvasSize);
        this._oldDimension = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](dim.width, dim.height);
        this._context2D.setTransform(1, 0, 0, 1, 0, 0);
        this._context2D.scale(this.pixelRatio, this.pixelRatio);
    }
    clear() {
        if (this.backgroundColor) {
            this._context2D.fillStyle = this.backgroundColor;
            this._context2D.fillRect(0, 0, this._canvas.width / this.pixelRatio, this._canvas.height / this.pixelRatio);
        }
        else
            this._context2D.clearRect(0, 0, this.canvas.width / this.pixelRatio, this.canvas.height / this.pixelRatio);
    }
    doDraw(context2D) {
        if ((this.created) && (this.visible)) {
            let startingOpacity = undefined;
            if (this.opacity !== 1) {
                startingOpacity = context2D.globalAlpha;
                context2D.globalAlpha = context2D.globalAlpha * this.opacity;
            }
            if ((this._drawRequested) && (!(this._canvasDrawFixed))) {
                this._drawRequested = false;
                this.clear();
                this.children.forEach(x => x.doDraw(this._context2D));
                if (this._forgetInternalsOnDraw) {
                    this.children.forEach(c => this.removeChild(c));
                    this._canvasDrawFixed = true;
                }
            }
            if (this.transform.position)
                this.draw(context2D);
            if (startingOpacity !== undefined)
                context2D.globalAlpha = startingOpacity;
        }
    }
    _hasResized() {
        let dim = this.transform.bounds.dimension;
        return ((this._oldDimension.width !== dim.width) ||
            (this._oldDimension.height !== dim.height));
    }
    _hasDevicePixelRatioChanged() {
        return this._pixelRatio !== window.devicePixelRatio;
    }
    begin() {
        if (this._hasResized() || this._hasDevicePixelRatioChanged()) {
            this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
            this.requestDraw();
        }
        else if (this.debugDisableCache)
            this.requestDraw();
    }
    draw(context2D) {
        if (context2D) {
            this.transform.position.resetDrawPos = false;
            this.__pos = this.transform.position.drawPositionTopLeft();
            this.__dim = this.transform.bounds.dimension;
            this.transform.position.resetDrawPos = true;
            context2D.drawImage(this._canvas, 0, 0, Math.round(this.__dim.width) * this.pixelRatio, Math.round(this.__dim.height) * this.pixelRatio, Math.round(this.__pos.x), Math.round(this.__pos.y), Math.round(this.__dim.width), Math.round(this.__dim.height));
        }
    }
    requestDraw() {
        this._drawRequested = true;
        super.requestDraw();
    }
}
DrawBuffer.minCanvasSize = 256;
class DrawTransform extends _Transform__WEBPACK_IMPORTED_MODULE_0__["default"] {
    recalculate(excludeDrawCache) {
        if (!(excludeDrawCache))
            if (!(this.bounds.hasResizedAutoUpdate())) {
                if (this.position)
                    this.position.drawCacheDirty = true;
                excludeDrawCache = true;
                super.gameObject.requestDraw();
            }
        super.recalculate(excludeDrawCache);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Rect.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/context2d/Rect.ts ***!
  \*************************************************/
/*! exports provided: Rect, FillRect, OutlineRect, DebugRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rect", function() { return Rect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillRect", function() { return FillRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineRect", function() { return OutlineRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DebugRect", function() { return DebugRect; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");




class Rect extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Rect"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
    }
    outline(context2D, pos, dim) {
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        context2D.rect(pos.x + this.lineWidth / 2, pos.y + this.lineWidth / 2, dim.width - this.lineWidth, dim.height - this.lineWidth);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        context2D.fillRect(pos.x, pos.y, dim.width, dim.height);
    }
}
class FillRect extends Rect {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineRect extends Rect {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}
class DebugRect extends OutlineRect {
    constructor(colour, lineWidth) {
        super(new _transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_2__["default"](1, 1)), colour, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Root.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/context2d/Root.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Root; });
/* harmony import */ var _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _ui_DebugPane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/DebugPane */ "./src/engine/gameobject/ui/DebugPane.ts");
/* harmony import */ var _Buffered__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Buffered */ "./src/engine/gameobject/context2d/Buffered.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _Frame__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Frame */ "./src/engine/gameobject/Frame.ts");







class Root extends _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(type, ...constructorArgs) {
        let arg1 = constructorArgs.shift();
        if (arg1 instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"])
            super(arg1, constructorArgs.shift());
        else if (arg1 instanceof _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"])
            super(null, arg1);
        else
            throw new Error("Cannot create a Buffered<GameObject> that lacks a bounds. DrawBuffers require a Bounds");
        this._constructorArgs = constructorArgs;
        this._type = type;
        this._buffered = new _Buffered__WEBPACK_IMPORTED_MODULE_2__["default"](this._type, new _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), ...this._constructorArgs);
        this._inner = this._buffered.inner;
    }
    get debugPane() { return this._debugPane; }
    set debugPane(val) { this._debugPane = val; }
    createCanvas(name) {
        this._createDrawBuffer();
        this._canvas.id = name;
    }
    resizeToOnUpdate(dimension) { this._resizeTarget = dimension; }
    resizeCanvas(dim, devicePixelRatio) {
        super.resizeCanvas(dim, devicePixelRatio);
        this.canvas.style.width = this.transform.bounds.dimension.width + 'px';
        this.canvas.style.height = this.transform.bounds.dimension.height + 'px';
    }
    create() {
        this.hasAlphaChannel = false;
        this.addChild(this._buffered);
    }
    afterCreate() {
        if (this.debugPane) {
            let debugPane = this._buffered.buffer.addChild(new _ui_DebugPane__WEBPACK_IMPORTED_MODULE_1__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1))));
            debugPane.visible = false;
            debugPane.active = true;
        }
        this._buffered.buffer.backgroundColor = this.backgroundColor;
        this._buffered.buffer.hasAlphaChannel = false;
        if (this._inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"])
            this._inner.open();
    }
    begin() {
        if (this._resizeTarget) {
            this.transform.bounds.clearDimensions();
            this.transform.bounds.addDimension(this._resizeTarget);
            this._resizeTarget = null;
            this.transform.recalculate();
        }
        super.begin();
    }
    get typeName() { return "Root"; }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/RoundedRect.ts":
/*!********************************************************!*\
  !*** ./src/engine/gameobject/context2d/RoundedRect.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RoundedRect; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");

class RoundedRect extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "RoundedRect"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth, radius) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
        this._radius = radius;
    }
    draw(context2D) {
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.fillStyle = this.fillStyle;
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        let filled = (this.fillStyle !== undefined);
        let stroke = (this.strokeStyle !== undefined);
        this.roundRect(context2D, pos.x, pos.y, dim.width, dim.height, this._radius, filled, stroke);
    }
    roundRect(ctx, x, y, width, height, radius, fill, stroke) {
        if (typeof stroke == 'undefined') {
            stroke = true;
        }
        if (typeof radius === 'undefined') {
            radius = 5;
        }
        if (typeof radius === 'number') {
            radius = { tl: radius, tr: radius, br: radius, bl: radius };
        }
        else {
            var defaultRadius = { tl: 0, tr: 0, br: 0, bl: 0 };
            for (var side in defaultRadius) {
                radius[side] = radius[side] || defaultRadius[side];
            }
        }
        ctx.beginPath();
        ctx.moveTo(x + radius.tl, y);
        ctx.lineTo(x + width - radius.tr, y);
        ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);
        ctx.lineTo(x + width, y + height - radius.br);
        ctx.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height);
        ctx.lineTo(x + radius.bl, y + height);
        ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);
        ctx.lineTo(x, y + radius.tl);
        ctx.quadraticCurveTo(x, y, x + radius.tl, y);
        ctx.closePath();
        if (fill) {
            ctx.fill();
        }
        if (stroke) {
            ctx.stroke();
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Shape.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/context2d/Shape.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Shape; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class Shape extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._strokeStyle = undefined;
        this._fillStyle = undefined;
        this._lineWidth = undefined;
    }
    get typeName() { return "Shape"; }
    get strokeStyle() { return this._strokeStyle; }
    get fillStyle() { return this._fillStyle; }
    get lineWidth() { return this._lineWidth; }
    set strokeStyle(val) { this._strokeStyle = val; }
    set lineWidth(val) { this._lineWidth = val; }
    set fillStyle(val) { this._fillStyle = val; }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Sprite.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/context2d/Sprite.ts ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Sprite; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class Sprite extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Sprite"; }
    constructor(position, bounds, ...filenames) {
        super(position, bounds);
        this._filenames = filenames;
        this._img = null;
    }
    get filenames() { return this._filenames; }
    load({ loader: l }) {
        this._loadedDPR = Math.min(Math.ceil(window.devicePixelRatio), this.filenames.length);
        this.addAsset(l.loadImage(this.filenames[this._loadedDPR - 1], (asset) => {
            asset.loaded = true;
            this.visible = false;
        }));
        return true;
    }
    create() {
        this._img = this.getAsset(this.filenames[this._loadedDPR - 1]);
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        context2D.drawImage(this._img, 0, 0, this._img.naturalWidth, this._img.naturalHeight, pos.x, pos.y, dim.width, dim.height);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Triangle.ts":
/*!*****************************************************!*\
  !*** ./src/engine/gameobject/context2d/Triangle.ts ***!
  \*****************************************************/
/*! exports provided: Triangle, FillTriangle, OutlineTriangle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Triangle", function() { return Triangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillTriangle", function() { return FillTriangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineTriangle", function() { return OutlineTriangle; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");



class Triangle extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Triangle"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
    }
    outline(context2D, pos, dim) {
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        let newPos = _util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].add(pos, new _util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0.75 * this.lineWidth, 0.75 * this.lineWidth));
        let newDim = _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].add(dim, new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](-this.lineWidth * 1.5, -this.lineWidth * 1.5));
        this._drawPath(context2D, newPos, newDim);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        this._drawPath(context2D, pos, dim);
        context2D.fill();
    }
    _drawPath(context2D, pos, dim) {
        context2D.translate(pos.x, pos.y);
        context2D.beginPath();
        context2D.moveTo(0.5 * dim.width, 0);
        context2D.lineTo(dim.width, dim.height);
        context2D.lineTo(0, dim.height);
        context2D.closePath();
        context2D.translate(-pos.x, -pos.y);
    }
}
class FillTriangle extends Triangle {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineTriangle extends Triangle {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/Button.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/ui/Button.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Button; });
/* harmony import */ var _ClickTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ClickTrigger */ "./src/engine/gameobject/ui/ClickTrigger.ts");

class Button extends _ClickTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, content) {
        super(position, bounds);
        this._buttonReset = false;
        this._content = content;
    }
    get typeName() { return "Button"; }
    get content() { return this._content; }
    get hoverRect() { return this._hoverRect; }
    get pressedRect() { return this._pressedRect; }
    setHoverRect(val) {
        this._hoverRect = val;
        this._hoverRect.visible = false;
    }
    setPressedRect(val) {
        this._pressedRect = val;
        this._pressedRect.visible = false;
    }
    reset() {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
        this.requestDraw();
        this._buttonReset = true;
    }
    decreate() {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
    }
    create() {
        if (this._content)
            this.addChild(this._content);
    }
    update({ mouse: m }) {
        super.update();
        if ((this.interactable) && (!m.handled))
            this.checkMouseActions(m);
    }
    onMouseClick(m, touch, touchID) {
        if (!this._buttonReset)
            super.onMouseClick(m, touch, touchID);
        m.setHandled(touch);
    }
    onMouseMove(m, touch, touchID) {
        m.setHandled(touch);
    }
    onMouseDown(m) {
        this._buttonReset = false;
        if (this.pressedRect)
            this.pressedRect.visible = true;
        if (this.hoverRect)
            this.hoverRect.visible = false;
        m.setHandled();
    }
    onMouseUp(m) {
        if (this.pressedRect)
            this.pressedRect.visible = false;
        if (this.hoverRect)
            this.hoverRect.visible = true;
        m.setHandled();
    }
    onMouseEnter(m) {
        if (this.hoverRect)
            this.hoverRect.visible = true;
        m.setHandled();
    }
    onMouseLeave(m) {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/ClickTrigger.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/ui/ClickTrigger.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ClickTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");


class ClickTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this.onlyIfUnhandled = false;
        this._firedThisUpdate = false;
        this._onClick = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get typeName() { return "ClickTrigger"; }
    get onClick() { return this._onClick; }
    onMouseClick(mouse, touch, touchID) {
        if ((!this._firedThisUpdate) && (!(this.onlyIfUnhandled && touch.handled))) {
            engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.onClick, mouse);
            this._firedThisUpdate = true;
        }
    }
    update(...args) {
        this._firedThisUpdate = false;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/DebugPane.ts":
/*!***********************************************!*\
  !*** ./src/engine/gameobject/ui/DebugPane.ts ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DebugPane; });
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");








class DebugPane extends _GameObject__WEBPACK_IMPORTED_MODULE_5__["default"] {
    get typeName() { return "DebugPane"; }
    create() {
        this.timingText = this.addChild(new _Text__WEBPACK_IMPORTED_MODULE_0__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, new _util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1)), new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, -5)), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](), "FPS:", "black", 12, "serif"));
        this.beginTime = undefined;
        this.drawTime = undefined;
        this.endTime = undefined;
        this.updateTime = undefined;
        this.averageSteps = undefined;
        let kt = this.addChild(new _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__["default"]());
        kt.getKeyEvent("Tab", _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__["KeyTriggerEvents"].onKeyPress).push(() => this.visible = !(this.visible), this);
    }
    update({ timing: t, keyboard: k }) {
        this.beginTime = this.runningAverage(this.beginTime, t.beginTime, t.fps);
        this.updateTime = this.runningAverage(this.updateTime, t.updateTime, t.fps * t.updateSteps);
        this.drawTime = this.runningAverage(this.drawTime, t.drawTime, t.fps);
        this.endTime = this.runningAverage(this.endTime, t.endTime, t.fps);
        this.loopTime = this.runningAverage(this.loopTime, t.loopTime, t.fps);
        this.averageSteps = this.runningAverage(this.averageSteps, t.updateSteps, t.fps);
        this.timingText.text = ("FPS: " + t.fps).substring(0, 7) +
            ("   Begin: " + this.beginTime).substring(0, 14) +
            ("   Draw: " + this.drawTime).substring(0, 13) +
            ("   Update: " + this.updateTime).substring(0, 15) +
            ("   (Steps: " + this.averageSteps).substring(0, 15) + ") " +
            ("   End: " + this.endTime).substring(0, 12) +
            ("   Loop: " + this.loopTime).substring(0, 13) +
            ("   (Calculated FPS: " + Math.round(1000 / this.loopTime)).substring(0, 23) + ")" +
            ("   (Rate: " + 100 / (t.slowDown + 1)).substring(0, 13) + "%)";
        if (this.interactable)
            k.keyPressesThisUpdate.forEach(key => {
                if (key === "-")
                    t.slowDown++;
                else if (key === "+")
                    t.slowDown = Math.max(0, t.slowDown - 1);
            });
    }
    runningAverage(val, newVal, length) {
        if (!val)
            return newVal;
        return (val * (length - 1) + newVal) / length;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/GridLayout.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/GridLayout.ts ***!
  \************************************************/
/*! exports provided: GridOrientation, default, GridBuilder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridOrientation", function() { return GridOrientation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GridLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridBuilder", function() { return GridBuilder; });
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");
/* harmony import */ var _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");







var GridOrientation;
(function (GridOrientation) {
    GridOrientation[GridOrientation["Vertical"] = 0] = "Vertical";
    GridOrientation[GridOrientation["Horizontal"] = 1] = "Horizontal";
})(GridOrientation || (GridOrientation = {}));
class GridLayout extends _GameObject__WEBPACK_IMPORTED_MODULE_2__["default"] {
    constructor(position, bounds, cells, orientation) {
        super(position, bounds);
        this._padding = 0;
        this._relativePadding = 0;
        this._cells = cells;
        this._orientation = orientation;
        if (orientation === GridOrientation.Horizontal)
            this.cells.forEach((c, i) => {
                for (let j = 0; j < i; j++)
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, this.cells[j].transform.bounds));
            });
        if (orientation === GridOrientation.Vertical)
            this.cells.forEach((c, i) => {
                for (let j = 0; j < i; j++)
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, this.cells[j].transform.bounds));
            });
        this.conditionalDimension = this.transform.bounds.addDimension(new _transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](this._dimensionFunction.bind(this)));
        this.cells.forEach(c => c.transform.bounds.onResize.push(this.conditionalDimension.markAsUpdated.bind(this), this));
    }
    get typeName() { return "GridLayout"; }
    get middleY() { return this.orientation === GridOrientation.Vertical ? this._padding : 0; }
    get middleX() { return this.orientation === GridOrientation.Horizontal ? this._padding : 0; }
    get cells() { return this._cells; }
    get orientation() { return this._orientation; }
    destroy() {
        this.cells.forEach(c => c.transform.bounds.onResize.unregister(this));
    }
    create() {
        this.cells.forEach(c => this.addChild(c));
    }
    addCell(newCell, index) {
        if (index === undefined)
            index = this.cells.length;
        this.addChild(newCell);
        let middleX = this.middleX;
        let middleY = this.middleY;
        if (this.orientation === GridOrientation.Vertical)
            this.cells.forEach((c, i) => {
                if (i < index)
                    newCell.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, c.transform.bounds));
                else {
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, newCell.transform.bounds));
                    c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX, middleY));
                }
            });
        if (this.orientation === GridOrientation.Horizontal)
            this.cells.forEach((c, i) => {
                if (i < index)
                    newCell.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, c.transform.bounds));
                else {
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, newCell.transform.bounds));
                    c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX, middleY));
                }
            });
        this.cells.splice(index, 0, newCell);
        newCell.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX * index, middleY * index));
        newCell.transform.bounds.onResize.push(this.conditionalDimension.markAsUpdated.bind(this), this);
        this.transform.positioningIsDirty();
    }
    removeCell(index) {
        if ((index >= 0) && (index < this.cells.length)) {
            let middleX = this.middleX;
            let middleY = this.middleY;
            let cell = this.cells[index];
            if (this.orientation === GridOrientation.Vertical)
                this.cells.forEach((c, i) => {
                    if (i > index) {
                        c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, -1, cell.transform.bounds));
                        c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](-middleX, -middleY));
                    }
                });
            if (this.orientation === GridOrientation.Horizontal)
                this.cells.forEach((c, i) => {
                    if (i > index) {
                        c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](-1, 0, cell.transform.bounds));
                        c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](-middleX, -middleY));
                    }
                });
            this.cells.splice(index, 1);
            cell.transform.bounds.onResize.unregister(this);
            cell.requestRemoval();
            this.transform.positioningIsDirty();
        }
    }
    _dimensionFunction(dim) {
        let dims = [];
        this.cells.forEach(c => {
            dims.push(c.transform.bounds.calculating ? c.transform.bounds.cachedDimension : c.transform.bounds.dimension);
        });
        let width = 0;
        let height = 0;
        let middleX = this.middleX;
        let middleY = this.middleY;
        if (this.orientation === GridOrientation.Horizontal)
            dims.forEach(c => {
                width += c.width + middleX;
                height = Math.max(height, c.height);
            });
        if (this.orientation === GridOrientation.Vertical)
            dims.forEach(c => {
                width = Math.max(width, c.width);
                height += c.height + middleY;
            });
        return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_6__["default"](width - middleX, height - middleY);
    }
    addPixelPadding(padding) {
        this._padding = padding;
        let middleX = this.middleX;
        let middleY = this.middleY;
        this.cells.forEach((c, i) => {
            c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX * i, middleY * i));
        });
        this.transform.positioningIsDirty();
    }
}
class GridBuilder {
    constructor() {
        this._newCells = [];
    }
    get grid() { return this._grid; }
    pushCell(newCell, index) {
        if (index === undefined)
            index = this._newCells.length;
        this._newCells.splice(index, 0, newCell);
        return newCell;
    }
    fixLayer(orientation, position, bounds) {
        this._grid = new GridLayout(position || new _transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), bounds || new _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__["default"](), this._newCells, orientation);
        this._newCells = [this._grid];
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/KeyTrigger.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/KeyTrigger.ts ***!
  \************************************************/
/*! exports provided: KeyTriggerEvents, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyTriggerEvents", function() { return KeyTriggerEvents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return KeyTrigger; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");


var KeyTriggerEvents;
(function (KeyTriggerEvents) {
    KeyTriggerEvents[KeyTriggerEvents["onKeyPress"] = 0] = "onKeyPress";
    KeyTriggerEvents[KeyTriggerEvents["onKeyDown"] = 1] = "onKeyDown";
    KeyTriggerEvents[KeyTriggerEvents["onKeyUp"] = 2] = "onKeyUp";
})(KeyTriggerEvents || (KeyTriggerEvents = {}));
class KeyTrigger extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(null, null);
        this._keys = [];
    }
    get typeName() { return "KeyTrigger"; }
    getKeyEvent(keycode, trigger) {
        if (!trigger)
            trigger = KeyTriggerEvents.onKeyDown;
        this._keys.forEach(x => {
            if ((x.keycode === keycode) && (x.trigger === trigger))
                return x.event;
        });
        let event = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._keys.push({ keycode: keycode, trigger: trigger, event: event });
        return event;
    }
    removeKeyEvent(keycode, trigger) {
        let toRemove = this._keys.filter(x => (x.keycode === keycode) && (x.trigger === trigger));
        if (toRemove.length > 0) {
            toRemove.forEach(x => this._keys.splice(this._keys.indexOf(x), 1));
            return true;
        }
        return false;
    }
    begin({ keyboard: k }) {
        if (this.interactable)
            this._keys.forEach(x => {
                if (x.trigger === KeyTriggerEvents.onKeyUp) {
                    if (k.isKeyUp(x.keycode))
                        x.event.call();
                }
                else if (x.trigger === KeyTriggerEvents.onKeyDown) {
                    if (k.isKeyDown(x.keycode))
                        x.event.call();
                    else if (k.keyPressesThisUpdate.indexOf(x.keycode) !== -1)
                        x.event.call();
                }
                else if (x.trigger === KeyTriggerEvents.onKeyPress)
                    if (k.keyPressesThisUpdate.indexOf(x.keycode) !== -1)
                        x.event.call();
            });
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/LoadingBar.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/LoadingBar.ts ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadingBar; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class LoadingBar extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, bgColour, fgColour) {
        super(position, bounds);
        this._bgColour = bgColour;
        this._fgColour = fgColour;
    }
    create() {
        this.addChild(new _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__["FillRect"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this._bgColour));
        this._proportionDimension = new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1);
        this._proportionDimension.preserve = true;
        this._innerBar = this.addChild(new _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__["FillRect"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](this._proportionDimension), this._fgColour));
    }
    setProportion(proportion) {
        this._proportionDimension.width = proportion;
        this._innerBar.transform.positioningIsDirty();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/MouseDragTrigger.ts":
/*!******************************************************!*\
  !*** ./src/engine/gameobject/ui/MouseDragTrigger.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MouseDragTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");



class TouchDragData {
    constructor() {
        this.dragStart = new engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this.dragging = false;
        this.minDistancePassed = false;
    }
}
class MouseDragTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._touches = new Map();
        this._dragStart = new engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this._dragging = false;
        this._minDistancePassed = false;
        this.minDistance = 0;
        this._onDrag = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onEndDrag = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get typeName() { return "MouseDragTrigger"; }
    get onDrag() { return this._onDrag; }
    get onEndDrag() { return this._onEndDrag; }
    get touchCount() { return this._touches.size; }
    update({ mouse: m }) {
        if (this.interactable)
            this.checkMouseActions(m);
        else {
            this._dragging = false;
            this._minDistancePassed = false;
            this._touches.forEach(t => {
                t.dragging = false;
                t.minDistancePassed = false;
            });
            this.onEndDrag.call(m);
        }
    }
    onMouseDown(mouse, touch, touchID) {
        if (!touch) {
            this._dragStart = mouse.position;
            this._lastPos = this._dragStart;
            this._dragging = true;
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData === undefined) {
                touchDragData = new TouchDragData();
                this._touches.set(touchID, touchDragData);
            }
            touchDragData.dragging = true;
            touchDragData.dragStart = touch.position;
            touchDragData.lastPos = touchDragData.dragStart;
        }
    }
    onMouseUp(mouse, touch, touchID) {
        if (!touch) {
            if (this._dragging) {
                this._dragging = false;
                this._minDistancePassed = false;
                this.onEndDrag.call(mouse);
            }
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData)
                this._touches.delete(touchID);
            if (touchDragData && touchDragData.dragging) {
                touchDragData.dragging = false;
                touchDragData.minDistancePassed = false;
                this.onEndDrag.call(mouse, touch, touchID);
            }
        }
    }
    onMouseLeave(mouse, touch, touchID) {
        if (!touch) {
            this._dragging = false;
            this._minDistancePassed = false;
            this.onEndDrag.call(mouse);
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData) {
                touchDragData.dragging = false;
                touchDragData.minDistancePassed = false;
                this._touches.delete(touchID);
            }
            this.onEndDrag.call(mouse, touch, touchID);
        }
    }
    onMouseMove(mouse, touch, touchID) {
        if (!touch) {
            if (this._dragging) {
                if (!this._minDistancePassed) {
                    let vector = engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(this._lastPos, this._dragStart);
                    if (this.minDistance instanceof engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                        if ((Math.abs(vector.x) > this.minDistance.x) || (Math.abs(vector.y) > this.minDistance.y))
                            this._minDistancePassed = true;
                    }
                    else if (vector.magnitude > this.minDistance)
                        this._minDistancePassed = true;
                }
                if (this._minDistancePassed)
                    this.onDrag.call(engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(this._lastPos, mouse.position), mouse);
                this._lastPos = mouse.position;
            }
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData && touchDragData.dragging) {
                if (!touchDragData.minDistancePassed) {
                    let vector = engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(touchDragData.lastPos, touchDragData.dragStart);
                    if (this.minDistance instanceof engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                        if ((Math.abs(vector.x) > this.minDistance.x) || (Math.abs(vector.y) > this.minDistance.y))
                            touchDragData.minDistancePassed = true;
                    }
                    else if (vector.magnitude > this.minDistance)
                        touchDragData.minDistancePassed = true;
                }
                if (touchDragData.minDistancePassed)
                    this.onDrag.call(engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(touchDragData.lastPos, touch.position), mouse, touch, touchID);
                touchDragData.lastPos = touch.position;
            }
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/MouseTrigger.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/ui/MouseTrigger.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MouseTrigger; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class TouchData {
    constructor() {
        this.inBounds = false;
        this.clickStarted = false;
    }
}
class MouseTrigger extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._mouseInBounds = false;
        this._clickStarted = false;
        this.touches = new Map();
    }
    get typeName() { return "MouseTrigger"; }
    update({ mouse: m }) {
        if (this.interactable)
            this.checkMouseActions(m);
    }
    checkMouseActions(mouse) {
        if (this.transform.containsPoint(mouse.position)) {
            if (!this._mouseInBounds)
                this.onMouseEnter(mouse);
            this._mouseInBounds = true;
            this.onMouseHover(mouse);
            if (mouse.isMouseMoveEvent) {
                this.onMouseMove(mouse);
                if (mouse.isDown)
                    this.onMouseDrag(mouse);
            }
            if (mouse.isMouseDownEvent) {
                this._clickStarted = true;
                this.onMouseDown(mouse);
            }
            if (mouse.isMouseUpEvent) {
                this.onMouseUp(mouse);
                if (this._clickStarted)
                    this.onMouseClick(mouse);
            }
        }
        else {
            if (this._mouseInBounds) {
                this.onMouseLeave(mouse);
                this._mouseInBounds = false;
            }
            if ((this._clickStarted) && (mouse.isMouseUpEvent))
                this._clickStarted = false;
        }
        this.checkTouchActions(mouse);
    }
    checkTouchActions(mouse) {
        this.touches.forEach(touch => touch.toDestroy = true);
        mouse.touches.forEach((t, k) => {
            let touch = this.touches.get(k);
            if (touch === undefined) {
                touch = new TouchData();
                this.touches.set(k, touch);
            }
            touch.toDestroy = false;
            if (this.transform.containsPoint(t.position)) {
                if (!touch.inBounds)
                    this.onMouseEnter(mouse, t, k);
                touch.inBounds = true;
                this.onMouseHover(mouse, t, k);
                if (t.isStartEvent) {
                    touch.clickStarted = true;
                    this.onMouseDown(mouse, t, k);
                }
                if (t.isMoveEvent) {
                    this.onMouseMove(mouse, t, k);
                    if (mouse.isDown)
                        this.onMouseDrag(mouse, t, k);
                }
                if (t.isEndEvent) {
                    this.onMouseUp(mouse, t, k);
                    touch.inBounds = false;
                    if (touch.clickStarted) {
                        this.onMouseClick(mouse, t, k);
                        touch.clickStarted = false;
                    }
                }
            }
            else {
                if (touch.inBounds) {
                    this.onMouseLeave(mouse, t, k);
                    touch.inBounds = false;
                }
                if ((touch.clickStarted) && (t.isEndEvent))
                    touch.clickStarted = false;
            }
        });
        let toRemove = [];
        this.touches.forEach((touch, key) => {
            if (touch.toDestroy) {
                if (touch.inBounds)
                    this.onMouseLeave(mouse, null, key);
                toRemove.push(key);
            }
        });
        toRemove.forEach(r => this.touches.delete(r));
    }
    onMouseHover(mouse, touch, touchID) { }
    onMouseMove(mouse, touch, touchID) { }
    onMouseDown(mouse, touch, touchID) { }
    onMouseUp(mouse, touch, touchID) { }
    onMouseDrag(mouse, touch, touchID) { }
    onMouseLeave(mouse, touch, touchID) { }
    onMouseEnter(mouse, touch, touchID) { }
    onMouseClick(mouse, touch, touchID) { }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/PressHoldTrigger.ts":
/*!******************************************************!*\
  !*** ./src/engine/gameobject/ui/PressHoldTrigger.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PressHoldTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var _Timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Timer */ "./src/engine/gameobject/Timer.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");



class PressHoldTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, holdTime) {
        super(position, bounds);
        this._holdTime = holdTime;
        this._onHold = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
        this._onReleaseHold = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get onHold() { return this._onHold; }
    get onReleaseHold() { return this._onReleaseHold; }
    get holdTime() { return this._holdTime; }
    set holdTime(val) { this._holdTime = val; }
    create() {
        this._timer = this.addChild(new _Timer__WEBPACK_IMPORTED_MODULE_1__["Timer"]());
    }
    update(args) {
        super.update(args);
        if ((!this._holdEventFired) && (this._timer.time >= this._holdTime)) {
            this._onHold.call(args.mouse);
            this._timer.pause();
            this._holdEventFired = true;
        }
    }
    onMouseMove(mouse, touch, touchID) {
        if ((touch && !(touch.handled)) || (!touch && !(mouse.handled))) {
            this._timer.pause();
        }
    }
    onMouseDown(mouse, touch, touchID) {
        if ((touch && !(touch.handled)) || (!touch && !(mouse.handled))) {
            this._timer.start();
            this._holdEventFired = false;
        }
    }
    onMouseUp(mouse, touch, touchID) {
        this._timer.pause();
        if (this._holdEventFired)
            this.onReleaseHold.call(mouse);
    }
    onMouseLeave(mouse, touch, touchID) {
        this._timer.pause();
        if (this._holdEventFired)
            this.onReleaseHold.call(mouse);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/Text.ts":
/*!******************************************!*\
  !*** ./src/engine/gameobject/ui/Text.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Text; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _TextBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");


class Text extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, lines, color, size, font, lineSpacing) {
        super(position, bounds);
        this._widths = [];
        this._lines = [];
        this._countLines = 0;
        this._canvasFunction = null;
        this._color = color;
        this._fontFace = font;
        this._size = size;
        if (typeof (lines) === "string")
            this._lines = [lines];
        else
            this._lines = lines;
        this._lineSpacing = lineSpacing || 1;
    }
    get typeName() { return "Text"; }
    get color() { return this._color; }
    set color(val) { this._color = val; }
    get fontFace() { return this._fontFace; }
    get size() { return this._size; }
    get lineSpacing() { return this._lineSpacing; }
    set lineSpacing(val) { this._lineSpacing = val; }
    get centered() { return this._centered; }
    set centered(val) { this._centered = val; }
    set text(val) {
        this._lines = val.split("\n");
        this.requestDraw();
        this._recalculateTextBounds = true;
    }
    get lines() { return this._lines; }
    set lines(val) {
        this._lines = val;
        this.requestDraw();
        this._recalculateTextBounds = true;
    }
    get canvasFunction() { return this._canvasFunction; }
    set canvasFunction(val) { this._canvasFunction = val; }
    measureTextForBounds(context2D) {
        this.transform.bounds.clearDimensions();
        let tb = new _TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"](this.lines, context2D, this.color, this.size, this.fontFace, this.lineSpacing);
        this.transform.bounds.addDimension(tb.textDimension());
        this._recalculateTextBounds = false;
    }
    draw(context2D) {
        if (this.canvasFunction) {
            context2D.save();
            this.canvasFunction(context2D);
        }
        context2D.fillStyle = this.color;
        context2D.font = this.size + "pt " + this.fontFace;
        if (this._recalculateTextBounds)
            this.measureTextForBounds(context2D);
        let pos = this.transform.position.drawPositionTopLeft();
        let yPos = 0;
        let offset = 0;
        for (let i = 0; i < this._lines.length; i++) {
            if (this.centered)
                offset = (this._widest - this._widths[i]) / 2;
            else
                offset = 0;
            context2D.fillText(this._lines[i], pos.x + offset, pos.y + yPos + this.size);
            yPos += this._size * this._lineSpacing;
        }
        ;
        if (this.canvasFunction)
            context2D.restore();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/TextBuilder.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/ui/TextBuilder.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TextBuilder; });
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");



class TextBuilder {
    constructor(lines, context2D, color, size, font, lineSpacing, targetWidth) {
        this._lines = [];
        this._widths = [];
        this._countLines = 0;
        if (typeof (lines) === "string")
            this._lines = [lines];
        else
            this._lines = lines;
        this._context2D = context2D;
        this._color = color;
        this._fontFace = font;
        this._size = size;
        this._lineSpacing = lineSpacing || 1;
        this._targetWidth = targetWidth || undefined;
    }
    get color() { return this._color; }
    set color(val) { this._color = val; }
    get fontFace() { return this._fontFace; }
    get size() { return this._size; }
    get lineSpacing() { return this._lineSpacing; }
    set lineSpacing(val) { this._lineSpacing = val; }
    get centered() { return this._centered; }
    set centered(val) { this._centered = val; }
    set text(val) {
        this._lines = val.split("\n");
    }
    get lines() { return this._lines; }
    set lines(val) {
        this._lines = val;
    }
    buildText(position) {
        let textDim = this.textDimension();
        return new _Text__WEBPACK_IMPORTED_MODULE_1__["default"](position, new _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__["default"](textDim), this.lines, this.color, this.size, this.fontFace, this.lineSpacing);
    }
    textDimension() {
        let ls = [];
        if (this._targetWidth) {
            this._context2D.font = this.size + 'pt ' + this.fontFace;
            this.lines.forEach(l => ls = ls.concat(this._getWrappedLines(this._context2D, l, this._targetWidth)));
        }
        else
            ls = this.lines;
        this._context2D.font = this.size + "pt " + this.fontFace;
        let widest = 0;
        let height = 0;
        let widths = [];
        for (let i = 0; i < ls.length; i++) {
            widths[i] = this._context2D.measureText(ls[i]).width;
            widest = Math.max(widest, widths[i]);
            if (i === ls.length - 1)
                height += this.size;
            else
                height += this.size * this.lineSpacing;
        }
        this.lines = ls;
        return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](widest, height);
    }
    _getWrappedLines(context, text, maxWidth) {
        var words = text.split(' ');
        var line = '';
        let lines = [];
        for (var n = 0; n < words.length; n++) {
            var testLine = line + words[n];
            var metrics = context.measureText(testLine);
            var testWidth = metrics.width;
            if (testWidth > maxWidth && n > 0) {
                line = words[n] + ' ';
            }
            else
                line = testLine + ' ';
        }
        return lines;
    }
}


/***/ }),

/***/ "./src/engine/io/IO.ts":
/*!*****************************!*\
  !*** ./src/engine/io/IO.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return IO; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class IO {
    constructor() {
        this.onStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onStop = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onBeginStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onBeginEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onUpdateStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onUpdateEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onDrawStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onDrawEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onEndStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onEndEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._interfaces = {};
        this._ifs = [];
    }
    get interfaces() { return this._interfaces; }
    addInterface(inf, name) {
        this._interfaces[name] = inf;
        this._ifs.push(inf);
    }
    create() { this._ifs.forEach(x => x.setEvents(this)); }
}


/***/ }),

/***/ "./src/engine/io/Keyboard.ts":
/*!***********************************!*\
  !*** ./src/engine/io/Keyboard.ts ***!
  \***********************************/
/*! exports provided: Keyboard, KeyboardListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return Keyboard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyboardListener", function() { return KeyboardListener; });
class Keyboard {
    constructor() {
        this._keysDown = [];
        this._keysUp = [];
        this._keyPressesThisUpdate = [];
    }
    get keyPressesThisUpdate() { return this._keyPressesThisUpdate; }
    get keysDown() { return this._keysDown; }
    get keysUp() { return this._keysUp; }
    isKeyUp(keyValue) { return this.keysUp.indexOf(keyValue) >= 0; }
    isKeyDown(keyValue) { return this.keysDown.indexOf(keyValue) >= 0; }
    keyPriority(keya, keyb) {
        return this.keysDown.indexOf(keya) > this.keysDown.indexOf(keyb);
    }
    get key() { return this.keysDown[this.keysDown.length - 1]; }
}
class KeyboardListener extends Keyboard {
    setEvents(io) {
        io.onBeginStart.push(this.onBeginStart.bind(this));
        io.onBeginEnd.push(this.onBeginEnd.bind(this));
    }
    create() {
        document.addEventListener("keydown", this.onKeyDown.bind(this), true);
        document.addEventListener("keyup", this.onKeyUp.bind(this), true);
        document.addEventListener("keypress", this.onKeyPress.bind(this), true);
    }
    onKeyDown(event) {
        if (event.defaultPrevented)
            return;
        if (this.keysDown.indexOf(event.key) === -1)
            this.keysDown.push(event.key);
    }
    onKeyUp(event) {
        if (event.defaultPrevented)
            return;
        if (this.keysUp.indexOf(event.key) === -1)
            this.keysUp.push(event.key);
    }
    onKeyPress(event) {
        if (event.defaultPrevented)
            return;
        if (this._switchBuffer) {
            if (!(this._buffer2.indexOf(event.key) >= 0))
                this._buffer2.push(event.key);
        }
        else if (!(this.keyPressesThisUpdate.indexOf(event.key) >= 0))
            this.keyPressesThisUpdate.push(event.key);
    }
    onBeginStart() {
        this._buffer2 = [];
        this._switchBuffer = true;
    }
    onBeginEnd() {
        if (this._buffer2.length > 0)
            console.log(this._buffer2);
        this._keyPressesThisUpdate = this._buffer2.slice();
        this._switchBuffer = false;
        this._keysDown = this.keysDown.filter(x => this.keysUp.indexOf(x) < 0);
        this._keysUp = [];
    }
}


/***/ }),

/***/ "./src/engine/io/Loader.ts":
/*!*********************************!*\
  !*** ./src/engine/io/Loader.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Loader; });
/* harmony import */ var _Asset__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Asset */ "./src/engine/Asset.ts");

class Loader {
    constructor(assetsFolder) {
        this._assetsFolder = "./assets/";
        this._sharedAssets = [];
        if (assetsFolder !== undefined)
            this._assetsFolder = assetsFolder;
    }
    get assetsFolder() { return this._assetsFolder; }
    getSharedAsset(filename) {
        let existing = this._sharedAssets.filter(a => a.filename === filename);
        if (existing.length > 0)
            return existing[0];
        let a = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](filename, null, false);
        this._sharedAssets.push(a);
        return a;
    }
    loadImage(filename, onerror) {
        let image = new Image();
        let asset = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](filename, image, false);
        image.src = this.assetsFolder + filename;
        image.onload = function () {
            asset.loaded = true;
            image.onload = null;
            image.onerror = null;
        };
        image.onerror = () => {
            image.onload = null;
            image.onerror = null;
            onerror(asset);
        };
        return asset;
    }
    loadFont(...filenames) {
        let t = "";
        let name = undefined;
        filenames.forEach(f => {
            let filepath = f.split("/");
            let stringComponents = filepath[filepath.length - 1].split(".");
            if (stringComponents.length !== 2)
                throw new Error("Font names must be supplied in the format \"<path-to-file>/<name>.<format>\"");
            let fontName = stringComponents[0];
            if (!name)
                name = fontName;
            if (name !== fontName)
                throw new Error("All font format variants must have the same filename excluding extension");
            let format = stringComponents[1];
            t += "\n    src: url('" + this.assetsFolder + f + "') format('" + format + "');";
        });
        t = "@font-face {\n\
                font-family: " + name + ";" + t;
        t += "\n}";
        let newStyle = document.createElement('style');
        newStyle.appendChild(document.createTextNode(t));
        document.head.appendChild(newStyle);
        let namePlusExt = filenames[0].split("/").pop();
        let assetName = namePlusExt.split(".")[0];
        let font = new FontFaceObserver(name);
        let asset = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](assetName, name, false);
        font.load().then(() => {
            asset.loaded = true;
        }).catch((err) => {
            console.log("Error loading font");
            asset.loaded = true;
        });
        return asset;
    }
    setEvents(io) { }
}


/***/ }),

/***/ "./src/engine/io/Mouse.ts":
/*!********************************!*\
  !*** ./src/engine/io/Mouse.ts ***!
  \********************************/
/*! exports provided: Mouse, Touch, MouseListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Mouse", function() { return Mouse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Touch", function() { return Touch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MouseListener", function() { return MouseListener; });
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");

class Mouse {
    constructor() {
        this.touches = new Map();
        this._isDown = false;
        this._position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._canvas = null;
        this._isMouseDownEvent = false;
        this._isMouseUpEvent = false;
        this._isMouseMoveEvent = false;
        this._handled = false;
    }
    get isDown() { return this._isDown; }
    get position() { return this._position; }
    get isMouseDownEvent() { return this._isMouseDownEvent; }
    get isMouseUpEvent() { return this._isMouseUpEvent; }
    get isMouseMoveEvent() { return this._isMouseMoveEvent; }
    get handled() { return this._handled; }
    setHandled(touch) {
        if (touch)
            touch.handled = true;
        else
            this._handled = true;
    }
}
class Touch {
    constructor() {
        this.isStartEvent = false;
        this.isEndEvent = false;
        this.isMoveEvent = false;
        this.handled = false;
    }
}
class MouseListener extends Mouse {
    get isDown() { return this._isDown; }
    set isDown(val) { this._isDown = val; }
    get isMouseDownEvent() { return this._isMouseDownEvent; }
    set isMouseDownEvent(val) { this._isMouseDownEvent = val; }
    get isMouseUpEvent() { return this._isMouseUpEvent; }
    set isMouseUpEvent(val) { this._isMouseUpEvent = val; }
    get isMouseMoveEvent() { return this._isMouseMoveEvent; }
    set isMouseMoveEvent(val) { this._isMouseMoveEvent = val; }
    setEvents(io) { io.onUpdateEnd.push(this.onUpdateEnd.bind(this), this); }
    addTo(doc, canvas) {
        this._canvas = canvas;
        canvas.addEventListener("mousedown", this.mouseDown.bind(this), false);
        canvas.addEventListener("mousemove", this.mouseXY.bind(this), false);
        canvas.addEventListener("touchstart", this.touchStart.bind(this), false);
        canvas.addEventListener("touchmove", this.touchXY.bind(this), true);
        canvas.addEventListener("touchend", this.touchEnd.bind(this), false);
        doc.body.addEventListener("mouseup", this.mouseUp.bind(this), false);
        doc.body.addEventListener("touchcancel", this.touchEnd.bind(this), false);
    }
    onUpdateEnd() {
        this.isMouseDownEvent = false;
        this.isMouseUpEvent = false;
        this.isMouseMoveEvent = false;
        this._handled = false;
        let toRemove = [];
        this.touches.forEach((touch, key) => {
            touch.isStartEvent = false;
            touch.isEndEvent = false;
            touch.isMoveEvent = false;
            touch.handled = false;
            if (touch.isEndEvent)
                toRemove.push(key);
        });
        toRemove.forEach(r => this.touches.delete(r));
    }
    mouseUp(e) {
        this.isDown = false;
        this.isMouseUpEvent = true;
        this.mouseXY(e);
    }
    touchEnd(e) {
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let t = this.touches.get(e.changedTouches[i].identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(e.changedTouches[i].identifier, t);
            }
            t.isEndEvent = true;
        }
    }
    mouseDown(e) {
        this.isDown = true;
        this.isMouseDownEvent = true;
        this._position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.pageX - this._canvas.offsetLeft, e.pageY - this._canvas.offsetTop);
    }
    touchStart(e) {
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let touch = e.changedTouches[i];
            let t = this.touches.get(touch.identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(touch.identifier, t);
            }
            touch.isEndEvent = false;
            touch.isMoveEvent = false;
            touch.handled = false;
            t.isStartEvent = true;
            t.position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.changedTouches[i].pageX - this._canvas.offsetLeft, e.changedTouches[i].pageY - this._canvas.offsetTop);
        }
    }
    mouseXY(e) {
        this.isMouseMoveEvent = true;
        this._position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.pageX - this._canvas.offsetLeft, e.pageY - this._canvas.offsetTop);
    }
    touchXY(e) {
        e.preventDefault();
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let t = this.touches.get(e.changedTouches[i].identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(e.changedTouches[i].identifier, t);
            }
            t.isMoveEvent = true;
            t.position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.changedTouches[i].pageX - this._canvas.offsetLeft, e.changedTouches[i].pageY - this._canvas.offsetTop);
        }
    }
}


/***/ }),

/***/ "./src/engine/io/Timing.ts":
/*!*********************************!*\
  !*** ./src/engine/io/Timing.ts ***!
  \*********************************/
/*! exports provided: Timing, TimingListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timing", function() { return Timing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimingListener", function() { return TimingListener; });
class Timing {
    constructor() {
        this.loopStart = 0;
        this.loopTime = 0;
        this.beginStart = 0;
        this.beginTime = 0;
        this.updateStart = 0;
        this.updateTime = 0;
        this.drawStart = 0;
        this.drawTime = 0;
        this.endStart = 0;
        this.endTime = 0;
        this.slowDown = 0;
        this.fps = 0;
        this.updateSteps = 0;
        this.mainLoopTimestamp = 0;
        this.delta = 0;
        this.deltaS = 0;
    }
}
class TimingListener extends Timing {
    setEvents(io) {
        io.onBeginStart.push(this.onBeginStart.bind(this), this);
        io.onBeginEnd.push(this.onBeginEnd.bind(this), this);
        io.onUpdateStart.push(this.onUpdateStart.bind(this), this);
        io.onUpdateEnd.push(this.onUpdateEnd.bind(this), this);
        io.onDrawStart.push(this.onDrawStart.bind(this), this);
        io.onDrawEnd.push(this.onDrawEnd.bind(this), this);
        io.onEndStart.push(this.onEndStart.bind(this), this);
        io.onEndEnd.push(this.onEndEnd.bind(this), this);
    }
    onBeginStart(timestamp, delta) {
        this.mainLoopTimestamp = timestamp;
        this.loopStart = Date.now();
        this.beginStart = Date.now();
        this.updateSteps = MainLoop.getNumUpdateSteps();
        this.delta = delta;
        this.deltaS = delta / 1000;
    }
    onBeginEnd() {
        this.delay((Date.now() - this.beginStart) * this.slowDown);
        this.beginTime = Date.now() - this.beginStart;
    }
    onUpdateStart(delta) {
        this.updateStart = Date.now();
        this.delta = delta;
        this.deltaS = delta / 1000;
    }
    onUpdateEnd() {
        this.delay((Date.now() - this.updateStart) * this.slowDown);
        this.updateTime = Date.now() - this.updateStart;
    }
    onDrawStart() {
        this.drawStart = Date.now();
    }
    onDrawEnd() {
        this.delay((Date.now() - this.drawStart) * this.slowDown);
        this.drawTime = Date.now() - this.drawStart;
    }
    onEndStart(fps) {
        this.endStart = Date.now();
        this.fps = fps;
    }
    onEndEnd() {
        this.delay((Date.now() - this.endStart) * this.slowDown);
        this.endTime = Date.now() - this.endStart;
        this.loopTime = Date.now() - this.loopStart;
    }
    delay(time) {
        if (time <= 0)
            return;
        let start = Date.now();
        let now = start;
        while (true) {
            now = Date.now();
            if (now - start > time)
                break;
        }
    }
}


/***/ }),

/***/ "./src/engine/transform/Bounds.ts":
/*!****************************************!*\
  !*** ./src/engine/transform/Bounds.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Bounds; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");



class Bounds {
    constructor(...dimensions) {
        this._dimensions = [];
        this._referenceWidth = undefined;
        this._targetAspectRatio = undefined;
        this._minDimension = undefined;
        this._maxDimension = undefined;
        this._transform = null;
        this._cachedDimension = new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0);
        this._onResize = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._dirty = true;
        this.calculating = false;
        this.calculationFailed = false;
        this._dimensions = dimensions;
    }
    ;
    get transform() { return this._transform; }
    set transform(val) { this._transform = val; }
    get dirty() { return this._dirty; }
    set dirty(val) { this._dirty = val; }
    get cachedDimension() { return this._cachedDimension; }
    set cachedDimension(val) { this._cachedDimension = val; }
    get onResize() { return this._onResize; }
    get devicePixelRatio() { return window.devicePixelRatio; }
    get parentBounds() {
        if (this.transform)
            if (this.transform.parent)
                return this.transform.parent.bounds;
        return null;
    }
    get targetAspectRatio() { return this._targetAspectRatio; }
    set targetAspectRatio(aspectRatio) { this._targetAspectRatio = aspectRatio; }
    get maxDimension() { return this._maxDimension; }
    set maxDimension(val) { this._maxDimension = val; }
    get minDimension() { return this._minDimension; }
    set minDimension(val) { this._minDimension = val; }
    addDimension(dim) {
        this._dimensions.push(dim);
        if (this.transform.gameObject.created) {
            if (this.hasResized())
                this._onChange();
        }
        return dim;
    }
    clearDimensions() {
        this._dimensions = [];
        if (this.hasResized())
            this._onChange();
    }
    get dimensions() { return this._dimensions; }
    get dimension() {
        if (!(this.dirty))
            return this._cachedDimension;
        this.calculationFailed = false;
        let tmp = this._calculateDimension();
        this.dirty = this.calculationFailed;
        if (this.calculationFailed)
            this.transform.positioningIsDirty();
        this._cachedDimension = tmp;
        return this._cachedDimension;
    }
    get referenceWidth() {
        if (this._referenceWidth !== undefined)
            return this._referenceWidth;
        if (this.parentBounds)
            return this.parentBounds.referenceWidth;
        return undefined;
    }
    set referenceWidth(referenceWidth) { this._referenceWidth = referenceWidth; }
    get referenceHeight() {
        if (this._referenceWidth !== undefined)
            return this.referenceWidth * this.dimension.aspect;
        if (this.parentBounds)
            return this.parentBounds.referenceHeight;
        return undefined;
    }
    get referenceScale() {
        if (this._referenceWidth !== undefined)
            return this.dimension.pixelWidth(this.parentBounds) / this._referenceWidth;
        if (this.parentBounds)
            return this.parentBounds.referenceScale;
        return 0;
    }
    destroy() {
        this.onResize.removeAll();
        this._dimensions.forEach(d => d.destroy());
    }
    _limitDimension(dimension) {
        let nWidth = dimension.width;
        let nHeight = dimension.height;
        if (this.minDimension) {
            if (this.minDimension.pixelWidth(this.parentBounds))
                nWidth = Math.max(nWidth, this.minDimension.pixelWidth(this.parentBounds));
            if (this.minDimension.pixelHeight(this.parentBounds))
                nHeight = Math.max(nHeight, this.minDimension.pixelHeight(this.parentBounds));
        }
        if (this.maxDimension) {
            if (this.maxDimension.pixelWidth(this.parentBounds))
                nWidth = Math.min(nWidth, this.maxDimension.pixelWidth(this.parentBounds));
            if (this.maxDimension.pixelHeight(this.parentBounds))
                nHeight = Math.min(nHeight, this.maxDimension.pixelHeight(this.parentBounds));
        }
        if (this.targetAspectRatio) {
            if (nHeight < nWidth * this.targetAspectRatio)
                nWidth = nHeight * (1 / this.targetAspectRatio);
            else
                nHeight = nWidth * this.targetAspectRatio;
        }
        return new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](nWidth, nHeight);
    }
    _calculateDimension() {
        this.calculating = true;
        let width = 0;
        let height = 0;
        let dim = null;
        if (this.transform)
            this._dimensions.forEach(d => {
                dim = d.asSimplePixelDimension(this.parentBounds);
                if ((dim.width === undefined) || (dim.height === undefined))
                    this.calculationFailed = true;
                else {
                    width += dim.width;
                    height += dim.height;
                }
            });
        let result = this._limitDimension(new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](width, height));
        this.calculating = false;
        return result;
    }
    hasResized() {
        if (this.dirty)
            return true;
        let dim = this._calculateDimension();
        return (!_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(dim, this._cachedDimension));
    }
    hasResizedAutoUpdate() {
        if (this.dirty)
            return true;
        let dim = this._calculateDimension();
        let r = (!_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(dim, this._cachedDimension));
        if (r)
            this._cachedDimension = dim;
        return r;
    }
    _onChange() {
        if (this.transform) {
            this.transform.recalculate();
            _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this.onResize);
        }
    }
    checkForUpdatedDimensions() {
        let updated = false;
        let d;
        for (let i = 0; i < this._dimensions.length; i++) {
            d = this._dimensions[i];
            if (d.updated) {
                updated = true;
                break;
            }
            if (d instanceof _dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_2__["default"])
                if (!(d.previousDimension) || !(_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(d.dimensionDontUpdatePrevious(this.transform.bounds), d.previousDimension))) {
                    updated = true;
                    break;
                }
        }
        if (updated) {
            this._onChange();
            this.dimensions.forEach(d => d.updated = false);
        }
    }
}


/***/ }),

/***/ "./src/engine/transform/Position.ts":
/*!******************************************!*\
  !*** ./src/engine/transform/Position.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Position; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./translation/ConditionalTranslation */ "./src/engine/transform/translation/ConditionalTranslation.ts");
/* harmony import */ var _translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _translation_AdjacentTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./translation/AdjacentTranslation */ "./src/engine/transform/translation/AdjacentTranslation.ts");




class Position {
    constructor(...Translations) {
        this._transform = null;
        this._resetDrawPos = false;
        this._cachedAbsolutePosition = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._cachedDrawPosition = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._drawCacheDirty = true;
        this._absoluteCacheDirty = true;
        this._translations = Translations;
    }
    get transform() { return this._transform; }
    set transform(val) { this._transform = val; }
    get resetDrawPos() { return this._resetDrawPos; }
    set resetDrawPos(val) { this._resetDrawPos = val; }
    get drawCacheDirty() { return this._drawCacheDirty; }
    set drawCacheDirty(val) { this._drawCacheDirty = val; }
    get absoluteCacheDirty() { return this._absoluteCacheDirty; }
    set absoluteCacheDirty(val) { this._absoluteCacheDirty = val; }
    get translations() { return this._translations; }
    addTranslation(...translations) {
        if (translations.length > 1)
            translations.forEach(t => this.addTranslation(t));
        else {
            let translation = translations[0];
            let found = false;
            if (translation.preserve)
                this._translations.forEach(t => {
                    if (!t.preserve)
                        if ((t.constructor === translation.constructor) && (_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(t.anchor, translation.anchor))) {
                            if (t instanceof _translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                                let rb1 = t.referenceBounds;
                                let rb2 = translation.referenceBounds;
                                if (rb1 === rb2) {
                                    found = true;
                                    t.position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](t.position.x + translation.position.x, t.position.y + translation.position.y);
                                }
                            }
                            else if ((t instanceof _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__["default"]) || (t instanceof _translation_AdjacentTranslation__WEBPACK_IMPORTED_MODULE_3__["default"])) { }
                            else {
                                found = true;
                                t.position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](t.position.x + translation.position.x, t.position.y + translation.position.y);
                            }
                        }
                });
            if (!found)
                this._translations.push(translation);
            if (this.transform.gameObject.created)
                if (this.hasMoved())
                    this._onChange();
        }
    }
    clearTranslations() {
        this._translations = [];
        if (this.hasMoved())
            this._onChange();
    }
    absolutePositionTopLeft() {
        if (!(this.absoluteCacheDirty))
            return this._cachedAbsolutePosition;
        let tmp = this._calcuateAbsolutePosition();
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(tmp, this._cachedAbsolutePosition)) {
            if (this.transform)
                this.transform.positioningIsDirty();
        }
        else
            this.absoluteCacheDirty = false;
        this._cachedAbsolutePosition = tmp;
        return this._cachedAbsolutePosition;
    }
    drawPositionTopLeft() {
        if (this._resetDrawPos)
            return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        if (!(this._drawCacheDirty))
            return this._cachedDrawPosition;
        let tmp = this._calculateDrawPosition();
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(tmp, this._cachedDrawPosition)) {
            if (this.transform)
                this.transform.positioningIsDirty();
        }
        else
            this._drawCacheDirty = false;
        this._cachedDrawPosition = tmp;
        return this._cachedDrawPosition;
    }
    destroy() {
        this._translations.forEach(t => t.destroy());
    }
    checkForUpdatedTranslations() {
        let updated = false;
        let t;
        for (let i = 0; i < this._translations.length; i++) {
            t = this._translations[i];
            if (t.updated) {
                updated = true;
                break;
            }
            if (t instanceof _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__["default"])
                if ((!(t.previousAbsolutePosition)) || (!(_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(t.absolutePositionDontUpdatePrevious(this.transform.bounds), t.previousAbsolutePosition)))) {
                    updated = true;
                    break;
                }
        }
        if (updated) {
            this._onChange();
            this._translations.forEach(d => d.updated = false);
        }
    }
    get position() { return this.absolutePositionTopLeft(); }
    get drawPosition() { return this.drawPositionTopLeft(); }
    hasMoved() {
        if (this.absoluteCacheDirty)
            return true;
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this._calcuateAbsolutePosition(), this._cachedAbsolutePosition));
    }
    hasMovedAutoUpdate() {
        if (this.absoluteCacheDirty)
            return true;
        let oldCache = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](this._cachedAbsolutePosition.x, this._cachedAbsolutePosition.y);
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this.absolutePositionTopLeft(), oldCache));
    }
    hasMovedDrawAutoUpdate() {
        if (this.drawCacheDirty)
            return true;
        let oldCache = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](this._cachedDrawPosition.x, this._cachedDrawPosition.y);
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this.drawPositionTopLeft(), oldCache));
    }
    _onChange() {
        if (this.transform)
            this.transform.recalculate();
    }
    _calcuateAbsolutePosition() {
        let tmpPos;
        let x = 0;
        let y = 0;
        this._translations.forEach(t => {
            if (this.transform) {
                tmpPos = t.absolutePositionTopLeft(this.transform.bounds);
                x += tmpPos.x;
                y += tmpPos.y;
            }
        });
        if (this.transform)
            if (this.transform.parent)
                if (this.transform.parent.hasPosition()) {
                    tmpPos = this.transform.parent.getCanonicalPosition();
                    x += tmpPos.x;
                    y += tmpPos.y;
                }
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x, y);
    }
    _calculateDrawPosition() {
        if (this._resetDrawPos)
            return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        let tmpPos;
        let x = 0;
        let y = 0;
        this._translations.forEach(t => {
            if (this.transform) {
                tmpPos = t.absolutePositionTopLeft(this.transform.bounds);
                x += tmpPos.x;
                y += tmpPos.y;
            }
        });
        if (this.transform)
            if (this.transform.parent)
                if (this.transform.parent.hasPosition()) {
                    tmpPos = this.transform.parent.getDrawPosition();
                    x += tmpPos.x;
                    y += tmpPos.y;
                }
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x, y);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/ConditionalDimension.ts":
/*!****************************************************************!*\
  !*** ./src/engine/transform/dimension/ConditionalDimension.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ConditionalDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class ConditionalDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(conditionalFunction) {
        super(0, 0);
        this._conditionalFunction = conditionalFunction;
    }
    get previousDimension() { return this._previousDimension; }
    pixelWidth(bounds) { return this._conditionalDim(bounds).width; }
    pixelHeight(bounds) { return this._conditionalDim(bounds).height; }
    _conditionalDim(bounds) {
        let dim = null;
        if (bounds)
            dim = bounds.dimension;
        this._previousDimension = this._conditionalFunction(dim);
        return this._previousDimension;
    }
    dimensionDontUpdatePrevious(bounds) {
        return this._conditionalFunction(bounds.dimension);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/Dimension.ts":
/*!*****************************************************!*\
  !*** ./src/engine/transform/dimension/Dimension.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Dimension; });
class Dimension {
    constructor(width, height) {
        this._updated = false;
        this._preserve = false;
        this._width = width;
        this._height = height;
    }
    markAsUpdated() { this.updated = true; }
    destroy() { }
    get updated() { return this._updated; }
    set updated(val) { this._updated = val; }
    get width() { return this._width; }
    set width(val) {
        if (val !== this.width)
            this.updated = true;
        this._width = val;
    }
    get height() { return this._height; }
    set height(val) {
        if (val !== this._height)
            this.updated = true;
        this._height = val;
    }
    pixelWidth(bounds) { return this.width; }
    pixelHeight(bounds) { return this.height; }
    physicalPixelWidth(bounds) { return this.pixelWidth(bounds) * bounds.devicePixelRatio; }
    physicalPixelHeight(bounds) { return this.pixelHeight(bounds) * bounds.devicePixelRatio; }
    asSimplePixelDimension(bounds) { return new Dimension(this.pixelWidth(bounds), this.pixelHeight(bounds)); }
    get aspect() { return this.height / this.width; }
    get preserve() { return this._preserve; }
    set preserve(val) { this._preserve = val; }
    static add(a, b) {
        return new Dimension(a.width + b.width, a.height + b.height);
    }
    static equals(a, b) {
        return (a.width === b.width) && (a.height === b.height);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/PixelDimension.ts":
/*!**********************************************************!*\
  !*** ./src/engine/transform/dimension/PixelDimension.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PixelDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class PixelDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    pixelWidth(bounds) { return this.width; }
    pixelHeight(bounds) { return this.height; }
}


/***/ }),

/***/ "./src/engine/transform/dimension/ProportionalDimension.ts":
/*!*****************************************************************!*\
  !*** ./src/engine/transform/dimension/ProportionalDimension.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ProportionalDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class ProportionalDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(width, height, referenceBounds) {
        super(width, height);
        if (referenceBounds) {
            this._referenceBounds = referenceBounds;
            this._referenceBounds.onResize.push(this.markAsUpdated.bind(this), this);
        }
    }
    destroy() {
        if (this._referenceBounds)
            this._referenceBounds.onResize.unregister(this);
    }
    pixelWidth(bounds) {
        if (this._referenceBounds) {
            if (this._referenceBounds.calculating)
                return this.width * this._referenceBounds.cachedDimension.width;
            else
                return this.width * this._referenceBounds.dimension.width;
        }
        else if (bounds)
            return this.width * bounds.dimension.width;
        return 0;
    }
    pixelHeight(bounds) {
        if (this._referenceBounds) {
            if (this._referenceBounds.calculating)
                return this.height * this._referenceBounds.cachedDimension.height;
            else
                return this.height * this._referenceBounds.dimension.height;
        }
        else if (bounds)
            return this.height * bounds.dimension.height;
        return 0;
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/RelativeDimension.ts":
/*!*************************************************************!*\
  !*** ./src/engine/transform/dimension/RelativeDimension.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RelativeDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class RelativeDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    pixelWidth(bounds) {
        if (bounds)
            return this.width * bounds.referenceScale;
        return undefined;
    }
    pixelHeight(bounds) {
        if (bounds)
            return this.height * bounds.referenceScale;
        return undefined;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/AdjacentTranslation.ts":
/*!*****************************************************************!*\
  !*** ./src/engine/transform/translation/AdjacentTranslation.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AdjacentTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");


class AdjacentTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(target, offset) {
        super(0, 0, new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0));
        this.target = target;
        this.offset = offset;
    }
    absolutePosition(bounds) {
        let container = bounds.transform.parent;
        let newPos = null;
        let tlPos = _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"].minus(this.target.position.absolutePositionTopLeft(), container.position.absolutePositionTopLeft());
        if (bounds.dimension.height + this.offset < tlPos.y)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x, tlPos.y - this.offset - bounds.dimension.height);
        else if (bounds.dimension.width + this.offset < tlPos.x)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x - this.offset - bounds.dimension.width, tlPos.y);
        else if (bounds.dimension.height + this.offset + tlPos.y < container.bounds.dimension.height)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x, tlPos.y + this.target.bounds.dimension.height + this.offset);
        else if (bounds.dimension.width + this.offset + tlPos.x < container.bounds.dimension.width)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x + this.target.bounds.dimension.width + this.offset, tlPos.y);
        return newPos;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/ConditionalTranslation.ts":
/*!********************************************************************!*\
  !*** ./src/engine/transform/translation/ConditionalTranslation.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ConditionalTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");


class ConditionalTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(conditionalFunction, anchor) {
        if (anchor instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            super(0, 0, anchor);
        }
        else if (typeof anchor === "boolean") {
            super(0, 0);
        }
        else
            super(0, 0);
        this._conditionalFunction = conditionalFunction;
    }
    get previousAbsolutePosition() {
        return this._previousAbsolutePosition;
    }
    absolutePosition(bounds) {
        let pDim = null;
        if (bounds.parentBounds)
            pDim = bounds.parentBounds.dimension;
        this._previousAbsolutePosition = this._conditionalFunction(bounds.transform, pDim);
        return this._previousAbsolutePosition;
    }
    absolutePositionDontUpdatePrevious(bounds) {
        return this._conditionalFunction(bounds.transform, bounds.parentBounds.dimension);
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/PixelTranslation.ts":
/*!**************************************************************!*\
  !*** ./src/engine/transform/translation/PixelTranslation.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PixelTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");

class PixelTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    absolutePosition(bounds) {
        return this.position;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/ProportionalTranslation.ts":
/*!*********************************************************************!*\
  !*** ./src/engine/transform/translation/ProportionalTranslation.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ProportionalTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Bounds */ "./src/engine/transform/Bounds.ts");



class ProportionalTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(x, y, anchor, referenceBounds) {
        if (x instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            if (y instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                super(x, y);
                if (anchor instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = anchor;
            }
            else {
                super(x);
                if (y instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = y;
            }
        }
        else if ((typeof (x) === "number") && (typeof (y) === "number")) {
            if (anchor instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                super(x, y, anchor);
                if (referenceBounds)
                    this._referenceBounds = referenceBounds;
            }
            else {
                super(x, y);
                if (anchor instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = anchor;
            }
        }
        if (this._referenceBounds)
            this._referenceBounds.onResize.push(this.markAsUpdated.bind(this), this);
    }
    get referenceBounds() { return this._referenceBounds; }
    absolutePosition(bounds) {
        let dim = null;
        if (this._referenceBounds)
            dim = this._referenceBounds.dimension;
        else if (bounds.parentBounds)
            dim = bounds.parentBounds.dimension;
        else
            return new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0);
        let x = this.position.x * dim.width;
        let y = this.position.y * dim.height;
        return new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](x, y);
    }
    destroy() {
        if (this._referenceBounds)
            this._referenceBounds.onResize.unregister(this);
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/Translation.ts":
/*!*********************************************************!*\
  !*** ./src/engine/transform/translation/Translation.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Translation; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");

class Translation {
    constructor(x, y, anchor) {
        this._anchor = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._updated = false;
        this._preserve = false;
        if (x instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            this._position = x;
            if (y instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                this.anchor = y;
        }
        else {
            if ((typeof (x) === "number") && (typeof (y) === "number"))
                this._position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x || 0, y || 0);
            if (anchor)
                this.anchor = anchor;
        }
    }
    get updated() { return this._updated; }
    set updated(val) { this._updated = val; }
    markAsUpdated() { this.updated = true; }
    get position() { return this._position; }
    set position(val) {
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(val, this.position))
            this.markAsUpdated();
        this._position = val;
    }
    get preserve() { return this._preserve; }
    set preserve(val) { this._preserve = val; }
    get anchor() { return this._anchor; }
    set anchor(val) {
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(val, this.anchor))
            this.markAsUpdated();
        this._anchor = val;
    }
    anchorOffset(bounds) {
        let dim = bounds.dimension;
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](dim.width * this.anchor.x, dim.height * this.anchor.y);
    }
    absolutePositionTopLeft(bounds) { return _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(this.absolutePosition(bounds), this.anchorOffset(bounds)); }
    destroy() { }
}


/***/ }),

/***/ "./src/engine/util/Event.ts":
/*!**********************************!*\
  !*** ./src/engine/util/Event.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Event; });
class Pair {
    constructor(key, value) {
        this.key = key;
        this.value = value;
    }
}
class DuplicateMap {
    constructor() {
        this.entries = [];
    }
    get length() { return this.entries.length; }
    push(key, value) { this.entries.push(new Pair(key, value)); }
    delete(key, value) {
        let newEntries = [];
        this.entries.forEach(x => {
            if (x.key !== key)
                newEntries.push(x);
            else if ((value) && (x.value !== value))
                newEntries.push(x);
        });
        this.entries = newEntries;
    }
    deleteValue(value) {
        let newEntries = [];
        this.entries.forEach(x => {
            if (x.value !== value)
                newEntries.push(x);
        });
        this.entries = newEntries;
    }
    clear() {
        this.entries = [];
    }
    forEach(f) {
        this.entries.forEach(f);
    }
}
class Event {
    constructor() {
        this._callbacks = new DuplicateMap();
    }
    call(...args) {
        for (let i = 0, len = this._callbacks.entries.length; i < len; i++)
            this._callbacks.entries[i].value(...args);
    }
    push(callback, creator) {
        this._callbacks.push(creator, callback);
        return this;
    }
    unregister(creator) {
        this._callbacks.delete(creator);
    }
    removeAll() {
        this._callbacks.clear();
    }
    static link(source, dest, creator) {
        if (source && dest)
            source.push(dest.call.bind(dest), creator);
    }
    static call(event, ...args) {
        if (event)
            event.call.bind(event)(...args);
    }
}


/***/ }),

/***/ "./src/engine/util/ObserverVariable.ts":
/*!*********************************************!*\
  !*** ./src/engine/util/ObserverVariable.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ObserverVariable; });
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Event */ "./src/engine/util/Event.ts");

class ObserverVariable {
    constructor(value) {
        this._value = value;
        this._onUpdate = new _Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    get onUpdate() { return this._onUpdate; }
    get value() { return this._value; }
    set value(val) {
        let update = (val !== this._value);
        this._value = val;
        if (update)
            _Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this.onUpdate, val);
    }
    clear() {
        this._onUpdate.removeAll();
    }
}


/***/ }),

/***/ "./src/engine/util/Point.ts":
/*!**********************************!*\
  !*** ./src/engine/util/Point.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point; });
class Point {
    constructor(x, y) {
        this._x = x || 0;
        this._y = y || 0;
    }
    get x() { return this._x; }
    get y() { return this._y; }
    get magnitude() { return Math.sqrt(this._x * this._x + this._y * this._y); }
    get isZero() { return (this.x === 0) && (this.y === 0); }
    static add(a, b) {
        let x = a.x + b.x;
        let y = a.y + b.y;
        return new Point(x, y);
    }
    static minus(a, b) {
        if (!b) {
            return this.minus(new Point(0, 0), a);
        }
        let x = a.x - b.x;
        let y = a.y - b.y;
        return new Point(x, y);
    }
    static multiply(p, s) {
        if (s instanceof Point)
            return new Point(p.x * s.x, p.y * s.y);
        else
            return new Point(p.x * s, p.y * s);
    }
    static dotProduct(p, s) {
        return (p.x * s.x + p.y * s.y);
    }
    static divide(p, s) {
        let x = p.x / s;
        let y = p.y / s;
        return new Point(x, y);
    }
    static crossProduct(p, s) {
        return p.x * s.y - p.y * s.x;
    }
    static equals(a, b) {
        return ((a.x === b.x) && (a.y === b.y));
    }
    static distance(a, b) {
        let x = a.x - b.x;
        let y = a.y - b.y;
        return Math.sqrt(x * x + y * y);
    }
    rotate(angle) {
        let x = Math.cos(angle) * this._x + -Math.sin(angle) * this._y;
        let y = Math.sin(angle) * this._x + Math.cos(angle) * this._y;
        return new Point(x, y);
    }
    closestPoint(points) {
        let smallestDistance = undefined;
        let winner;
        points.forEach(p => {
            let d = Point.minus(p, this).magnitude;
            if ((smallestDistance === undefined) || (d < smallestDistance)) {
                smallestDistance = d;
                winner = p;
            }
        });
        return winner;
    }
    get normalised() {
        if ((this.x === this.y) || (this.x === 0) || (this.y === 0)) {
            let magnitude = this.magnitude;
            return new Point(this.x / magnitude, this.y / magnitude);
        }
        else
            throw new Error("Not implemented yet");
    }
    static angleBetween(a, b) {
        return Math.atan2(b.y, b.x) - Math.atan2(a.y, a.x);
    }
    projectionIn(vector) {
        return Point.dotProduct(this, vector.normalised);
    }
    static angleToUnitVector(angle) {
        return new Point(Math.cos(angle), Math.sin(angle));
    }
    asAngle() {
        return Math.atan2(this.x, this.y);
    }
}


/***/ }),

/***/ "./src/engine/util/Point3.ts":
/*!***********************************!*\
  !*** ./src/engine/util/Point3.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point3; });
class Point3 {
    constructor(x, y, z) {
        if (Array.isArray(x)) {
            this._x = x[0];
            this._y = x[1];
            this._z = x[2];
        }
        else if (x instanceof Point3) {
            this._x = x.x;
            this._y = x.y;
            this._z = x.z;
        }
        else {
            this._x = x || 0;
            this._y = y || 0;
            this._z = z || 0;
        }
    }
    get x() { return this._x; }
    get y() { return this._y; }
    get z() { return this._z; }
    set x(val) { this._x = val; }
    set y(val) { this._y = val; }
    set z(val) { this._z = val; }
    equals(b) {
        return ((this.x === b.x) && (this.y === b.y) && (this.z === b.z));
    }
    static equals(a, b) {
        return ((a.x === b.x) && (a.y === b.y) && (a.z === b.z));
    }
    static minus(a, b) {
        if (!b) {
            return this.minus(new Point3(0, 0, 0), a);
        }
        let x = a.x - b.x;
        let y = a.y - b.y;
        let z = a.z - b.z;
        return new Point3(x, y, z);
    }
    minus(a) {
        let x = this.x - a.x;
        let y = this.y - a.y;
        let z = this.z - a.z;
        return new Point3(x, y, z);
    }
    plus(a) {
        let x = this.x + a.x;
        let y = this.y + a.y;
        let z = this.z + a.z;
        return new Point3(x, y, z);
    }
    multiply(s) {
        if (s instanceof Point3) {
            let x = this.x * s.x;
            let y = this.y * s.y;
            let z = this.z * s.z;
            return new Point3(x, y, z);
        }
        else {
            let x = this.x * s;
            let y = this.y * s;
            let z = this.z * s;
            return new Point3(x, y, z);
        }
    }
    get normalised() {
        if (((this.x === this.y) || (this.x === 0) || (this.y === 0)) && ((this.y === this.z) || (this.y === 0) || (this.z === 0))) {
            let magnitude = this.magnitude;
            return new Point3(this.x / magnitude, this.y / magnitude, this.z / magnitude);
        }
        else
            throw new Error("Not implemented yet");
    }
    get magnitude() {
        return Math.sqrt((this.x * this.x) + (this.y * this.y) + (this.z * this.z));
    }
}


/***/ }),

/***/ "./src/engine/util/PolyShape.ts":
/*!**************************************!*\
  !*** ./src/engine/util/PolyShape.ts ***!
  \**************************************/
/*! exports provided: PolyShape, ConvexPolygon, PolyLine, PolyEdge, PolyRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyShape", function() { return PolyShape; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConvexPolygon", function() { return ConvexPolygon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyLine", function() { return PolyLine; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyEdge", function() { return PolyEdge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyRect", function() { return PolyRect; });
/* harmony import */ var _Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _gameobject_PolygonCollision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gameobject/PolygonCollision */ "./src/engine/gameobject/PolygonCollision.ts");


class PolyShape {
    get points() { return this._points; }
    get edges() {
        let e = [];
        for (let i = 0; i < this.points.length - 1; i++) {
            e.push(new PolyEdge([this.points[i], this.points[i + 1]]));
        }
        e.push(new PolyEdge([this.points[this.points.length - 1], this.points[0]]));
        return e;
    }
    constructor(points) {
        this._points = points;
    }
    centerPoint() {
        let xTotal = 0;
        let yTotal = 0;
        this.points.forEach(p => {
            xTotal += p.x;
            yTotal += p.y;
        });
        return new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](xTotal / this.points.length, yTotal / this.points.length);
    }
    maximumProjectionOnVector(vector) {
        let currentMax = undefined;
        let leadingPoint = null;
        let unitVector = vector.normalised;
        this.points.forEach(p => {
            let proj = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(p, unitVector);
            if ((currentMax === undefined) || (proj > currentMax)) {
                leadingPoint = p;
                currentMax = proj;
            }
        });
        return leadingPoint;
    }
}
class ConvexPolygon extends PolyShape {
    constructor() {
        super(...arguments);
        this._clockwise = true;
    }
    get clockwise() { return this._clockwise; }
    set clockwise(val) { this._clockwise = val; }
    clone(newPoints) {
        let p = new ConvexPolygon(newPoints);
        p.clockwise = this.clockwise;
        return p;
    }
    intersects(other) {
        this.points.forEach(p => { if (other.containsPoint(p))
            return true; });
        other.points.forEach(p => { if (this.containsPoint(p))
            return true; });
        return false;
    }
    contains(other) {
        other.points.forEach(p => { if (!(this.containsPoint(p)))
            return false; });
        return true;
    }
    intersectionsWithEdge(start, end) {
        let intersections = [];
        this.edges.forEach(e => {
            let point = e.pointOfIntersectionWithEdge(start, end);
            if (point)
                intersections.push(new _gameobject_PolygonCollision__WEBPACK_IMPORTED_MODULE_1__["Intersection"](point, e));
        });
        return intersections;
    }
    containsPoint(point, y) {
        let x = 0;
        if (point instanceof _Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            y = point.y;
            x = point.x;
        }
        else
            x = point;
        this.edges.forEach(e => {
            if (!(this.rightOfEdge(x, y, e))
                || (!(this.clockwise) && !(this.leftOfEdge(x, y, e)))) {
                return false;
            }
        });
        return true;
    }
    rightOfEdge(px, py, e) {
        let grad = (e[1].y - e[0].y) / (e[1].x - e[0].x);
        if (grad === Infinity)
            return px <= e[0].x;
        if (grad === -Infinity)
            return px >= e[0].x;
        let intersection = e[0].y - (grad * e[0].x);
        let expectedY = (px * grad + intersection);
        if (e[1].x > e[0].x)
            return (py >= expectedY);
        if (e[1].x < e[0].x)
            return (py <= expectedY);
    }
    leftOfEdge(px, py, e) {
        let grad = (e[1].y - e[0].y) / (e[1].x - e[0].x);
        if (grad === Infinity) {
            if (e[0].y > e[1].y)
                return px <= e[0].x;
            if (e[0].y < e[1].y)
                return px >= e[0].x;
        }
        let intersection = e[0].y - (grad * e[0].x);
        let expectedY = (px * grad + intersection);
        if (e[1].x > e[0].x)
            return (py <= expectedY);
        if (e[1].x < e[0].x)
            return (py >= expectedY);
    }
}
class PolyLine extends PolyShape {
    clone() {
        let p = new PolyLine(this.points);
        return p;
    }
}
class PolyEdge extends PolyLine {
    constructor(points) {
        if (points.length !== 2)
            throw new Error("PolyEdge expects a points array of exactly 2");
        super(points);
    }
    get vector() { return _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(this.points[1], this.points[0]); }
    pointOfIntersectionWithEdge(edge, end) {
        let p;
        let r;
        if (edge instanceof PolyEdge) {
            p = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](edge.points[0].x, edge.points[0].y);
            r = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](edge.points[1].x, edge.points[1].y);
        }
        else if (edge instanceof _Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            p = edge;
            r = end;
        }
        r = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(r, p);
        let q = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](this.points[0].x, this.points[0].y);
        let s = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](this.points[1].x, this.points[1].y), q);
        let qmp = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(q, p);
        let pmq = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(p, q);
        let rxs = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(r, s);
        let t = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(qmp, s) / rxs;
        let u = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(pmq, r) / _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(s, r);
        let pmqxr = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(pmq, r);
        if ((rxs === 0) && (pmqxr === 0)) {
            let rrs = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].divide(r, _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(r, r));
            let t0 = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(pmq, rrs);
            let t1 = t0 + _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(s, rrs);
            if (((t0 >= 0 && t0 <= 1)) || ((t1 >= 0) && (t1 <= 1)) || ((t0 <= 0) && (t1 >= 0)) || ((t0 >= 1) && (t1 <= 0))) {
                console.log("Colinear and overlapping");
                return null;
            }
            else {
                return null;
            }
        }
        else if ((rxs === 0) && (pmqxr !== 0)) {
            return null;
        }
        else if ((rxs !== 0) && (t >= 0) && (t <= 1) && (u >= 0) && (u <= 1)) {
            return _Point__WEBPACK_IMPORTED_MODULE_0__["default"].add(p, _Point__WEBPACK_IMPORTED_MODULE_0__["default"].multiply(r, t));
        }
        else {
            return null;
        }
    }
}
class PolyRect extends ConvexPolygon {
    constructor(points) {
        if (!points)
            super([new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 1)]);
        else {
            if (points.length !== 4)
                throw new Error("PolyRect expects a points array of exactly 4");
            super(points);
        }
    }
    containsPoint(x, y) {
        return ((x > this.points[0]) && (x < this.points[1].x) && (y > this.points[0].y) && (y < this.points[3].y));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/GameOverMenu.ts":
/*!************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/GameOverMenu.ts ***!
  \************************************************************/
/*! exports provided: GameOverMenu, GameOverMenuListener, GameOverMenuController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenu", function() { return GameOverMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenuListener", function() { return GameOverMenuListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenuController", function() { return GameOverMenuController; });
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/RelativeDimension */ "./src/engine/transform/dimension/RelativeDimension.ts");









class GameOverMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["Frame"] {
    constructor(position, bounds, listener, controller, gameModel) {
        super(position, bounds, listener, controller);
        this.gameModel = gameModel;
    }
    create() {
        this.transform.bounds.referenceWidth = 320;
        let bg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), "black"));
        bg.opacity = 0.5;
        let tbg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_8__["default"](100, 50)), "black"));
        tbg.opacity = 0.9;
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_0__["default"]("You have died", context2D, "white", 20, "serif");
        let text = tbg.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5)))));
    }
}
class GameOverMenuListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameListener"] {
}
class GameOverMenuController extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameController"] {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/IntroFrame.ts":
/*!**********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/IntroFrame.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return IntroFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _MainFrame__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MainFrame */ "./src/examples/classic-rpg-interface/MainFrame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_TreeUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/TreeUtils */ "./src/engine/TreeUtils.ts");
/* harmony import */ var engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/ui/LoadingBar */ "./src/engine/gameobject/ui/LoadingBar.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var _MainMenuButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./MainMenuButton */ "./src/examples/classic-rpg-interface/MainMenuButton.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");














class IntroFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor() {
        super(...arguments);
        this.started = false;
    }
    create() {
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("RPG Alpha", context2D, "white", 48, "serif", 1.4);
        let titleText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.3, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5)))));
        titleText.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 10;
        };
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("Start Game", context2D, "white", 32, "serif");
        let startText = tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))));
        startText.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 10;
        };
        this.button = this.addChild(new _MainMenuButton__WEBPACK_IMPORTED_MODULE_12__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.7, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__["default"](300, 50)), startText));
        this.loadingBar = this.addChild(new engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__["default"](100, 10)), "white", "grey"));
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("Loading textures", context2D, "white", 8, "serif", 1.5);
        this.loadingText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0, 10), new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0)))));
        this.mainFrame = this.addChild(new _MainFrame__WEBPACK_IMPORTED_MODULE_5__["MainFrame"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__["default"](1, 1)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameController"]()));
        this.mainFrame.precreate = true;
        this.button.onClick.push(() => {
            this.mainFrame.open();
            this.button.interactable = false;
            this.started = true;
        }, this);
        this.button.setInteractable(false);
    }
    update() {
        if (!(this.started)) {
            let stats = engine_TreeUtils__WEBPACK_IMPORTED_MODULE_9__["TreeUtils"].subtreeLoadStats(this.mainFrame);
            this.loadingBar.setProportion(stats.assetsProportion);
            if (this.mainFrame.subtreeLoaded) {
                this.button.setInteractable(true);
                this.loadingBar.visible = false;
                this.loadingText.visible = false;
            }
        }
    }
    onOpen() {
        this.opacity = 0.01;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__["default"](this, "opacity", 1, 1000)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/Launcher.ts":
/*!********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/Launcher.ts ***!
  \********************************************************/
/*! exports provided: Run */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Run", function() { return Run; });
/* harmony import */ var Launcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! Launcher */ "./src/Launcher.ts");
/* harmony import */ var engine_io_IO__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/io/IO */ "./src/engine/io/IO.ts");
/* harmony import */ var engine_io_Loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/io/Loader */ "./src/engine/io/Loader.ts");
/* harmony import */ var engine_io_Timing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/io/Timing */ "./src/engine/io/Timing.ts");
/* harmony import */ var _IntroFrame__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./IntroFrame */ "./src/examples/classic-rpg-interface/IntroFrame.ts");





class Run extends Launcher__WEBPACK_IMPORTED_MODULE_0__["Launcher"] {
    constructor() {
        super(...arguments);
        this._rootGameObjectType = _IntroFrame__WEBPACK_IMPORTED_MODULE_4__["default"];
    }
    _createInterfaces(canvas) {
        let io = new engine_io_IO__WEBPACK_IMPORTED_MODULE_1__["default"]();
        io.addInterface(new engine_io_Loader__WEBPACK_IMPORTED_MODULE_2__["default"](""), "loader");
        io.addInterface(new engine_io_Timing__WEBPACK_IMPORTED_MODULE_3__["TimingListener"](), "timing");
        return this._addMouse(this._addKeyboard(io), canvas);
    }
}
let l = new Run(document.querySelector("#gameTarget"));
l.create();
l.start();


/***/ }),

/***/ "./src/examples/classic-rpg-interface/LoadingStatusFrame.ts":
/*!******************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/LoadingStatusFrame.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadingStatusFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class LoadingStatusFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.backgroundColour));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/MainFrame.ts":
/*!*********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/MainFrame.ts ***!
  \*********************************************************/
/*! exports provided: randomColour, MainFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomColour", function() { return randomColour; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainFrame", function() { return MainFrame; });
/* harmony import */ var _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core-ui-components/CharacterMenu */ "./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts");
/* harmony import */ var _core_ui_components_Map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core-ui-components/Map */ "./src/examples/classic-rpg-interface/core-ui-components/Map.ts");
/* harmony import */ var _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameOverMenu */ "./src/examples/classic-rpg-interface/GameOverMenu.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./core-ui-components/MiniMapFrame */ "./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts");
/* harmony import */ var _UIModel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./UIModel */ "./src/examples/classic-rpg-interface/UIModel.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! engine/transform/dimension/RelativeDimension */ "./src/engine/transform/dimension/RelativeDimension.ts");
/* harmony import */ var engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! engine/transform/dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _core_ui_components_TabListMenu__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./core-ui-components/TabListMenu */ "./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts");
/* harmony import */ var _WorldFrame__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./WorldFrame */ "./src/examples/classic-rpg-interface/WorldFrame.ts");
/* harmony import */ var _core_ui_components_PartyStatusMenu__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./core-ui-components/PartyStatusMenu */ "./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts");
/* harmony import */ var engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! engine/gameobject/context2d/DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _core_ui_components_ActionBarMenu__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./core-ui-components/ActionBarMenu */ "./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts");
/* harmony import */ var _core_ui_components_DetailMenuFrame__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./core-ui-components/DetailMenuFrame */ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts");
/* harmony import */ var _LoadingStatusFrame__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./LoadingStatusFrame */ "./src/examples/classic-rpg-interface/LoadingStatusFrame.ts");
/* harmony import */ var _model_GameModel__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./model/GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _model_PartyModel__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./model/PartyModel */ "./src/examples/classic-rpg-interface/model/PartyModel.ts");
/* harmony import */ var _model_world_WorldModel__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./model/world/WorldModel */ "./src/examples/classic-rpg-interface/model/world/WorldModel.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./data */ "./src/examples/classic-rpg-interface/data.ts");
/* harmony import */ var _ToolTip__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./ToolTip */ "./src/examples/classic-rpg-interface/ToolTip.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_gameobject_ui_MouseDragTrigger__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! engine/gameobject/ui/MouseDragTrigger */ "./src/engine/gameobject/ui/MouseDragTrigger.ts");




































let randomColour = function () {
    return "#" + Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "";
};

class TestFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["Frame"] {
    constructor(position, bounds, listener, controller, ...args) {
        super(position, bounds, listener, controller);
    }
    create() {
        let color = randomColour();
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_15__["DebugRect"](color, 10));
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_16__["default"](this.listener.constructor.name, context2D, color, 12, "sans-serif");
        this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5)))));
    }
}
class MainFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["Frame"] {
    gameOver() {
        this.showGameOverMenu();
    }
    create() {
        this.gameModel = new _model_GameModel__WEBPACK_IMPORTED_MODULE_28__["default"](new _model_GameModel__WEBPACK_IMPORTED_MODULE_28__["GameModelListener"](), new _model_PartyModel__WEBPACK_IMPORTED_MODULE_29__["default"](), new _model_world_WorldModel__WEBPACK_IMPORTED_MODULE_30__["default"](), new _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["default"](), _data__WEBPACK_IMPORTED_MODULE_32__["gameData"]);
        this.gameModel.create();
        this.gameModel.player.onUpdate.push((() => {
            if (this.gameModel.player.gameOver)
                this.gameOver();
            this.toggleMiniMap(this.gameModel.player.showMiniMap);
        }).bind(this), this);
        let map = new _core_ui_components_Map__WEBPACK_IMPORTED_MODULE_1__["default"](this.gameModel);
        this.addChild(map);
        this.uiModel = new _UIModel__WEBPACK_IMPORTED_MODULE_12__["default"](this.gameModel, map);
        this.transform.bounds.referenceWidth = 320;
        let actionBarHeight = 42;
        let partyStatusMenuWidth = 42;
        let charMenuMaxWidth = 500;
        let characterMenu = new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_18__["default"](320, 120)), new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["CharacterMenuListener"](), new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["CharacterMenuController"](), this.uiModel, this.gameModel);
        characterMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](charMenuMaxWidth, 170);
        this.characterMenu = characterMenu;
        let tabListMenu = new _core_ui_components_TabListMenu__WEBPACK_IMPORTED_MODULE_21__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_18__["default"](320, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._tabListHeightConditional.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        this.tabMenu = tabListMenu;
        tabListMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](charMenuMaxWidth, undefined);
        let detailMenu = new _core_ui_components_DetailMenuFrame__WEBPACK_IMPORTED_MODULE_26__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, tabListMenu.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_18__["default"](320, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._detailMenuHeightConditional.bind(this)), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, tabListMenu.transform.bounds)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        detailMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](charMenuMaxWidth, undefined);
        let minimap = new _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._miniMapDimConditional.bind(this))), new _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__["MiniMapFrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel, this.gameModel);
        this.miniMap = minimap;
        let partyStatusMenu = new _core_ui_components_PartyStatusMenu__WEBPACK_IMPORTED_MODULE_23__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0)), new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, minimap.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._partyStatsWidthConditional.bind(this)), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, this.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, characterMenu.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, tabListMenu.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, minimap.transform.bounds)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        let actionBarMenu = new _core_ui_components_ActionBarMenu__WEBPACK_IMPORTED_MODULE_25__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._actionBarHeightConditional.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        let worldFrame = new _WorldFrame__WEBPACK_IMPORTED_MODULE_22__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, actionBarMenu.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, actionBarMenu.transform.bounds), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._worldFrameConditionalHeight.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.gameModel, this.uiModel);
        let loadingStatusFrame = new _LoadingStatusFrame__WEBPACK_IMPORTED_MODULE_27__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 2)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel, this.gameModel);
        let wbb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__["GridBuilder"]();
        wbb.pushCell(detailMenu);
        wbb.pushCell(tabListMenu);
        wbb.pushCell(characterMenu);
        wbb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__["GridOrientation"].Vertical, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 1)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_17__["default"](0, -2)));
        this.addChild(worldFrame);
        let uiBuffer = this.addChild(new engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_24__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1))));
        uiBuffer.addChild(wbb.grid);
        uiBuffer.addChild(partyStatusMenu);
        uiBuffer.addChild(actionBarMenu);
        this.addChild(minimap);
        this.addChild(loadingStatusFrame);
        loadingStatusFrame.open();
        this.createTriggers(worldFrame);
        characterMenu.open();
        tabListMenu.open();
        detailMenu.open();
        worldFrame.open();
        partyStatusMenu.open();
        actionBarMenu.open();
        this.uiModel.tooltip.onUpdate.push(this.updateTooltip.bind(this), this);
    }
    showGameOverMenu() {
        let gameOverMenu = this.addChild(new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenu"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1)), new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenuListener"](), new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenuController"](), this.gameModel));
        gameOverMenu.open();
    }
    toggleMiniMap(visible) {
        if (!visible && this.miniMap.isOpen)
            this.miniMap.onClosing();
        else if (visible && !this.miniMap.isOpen)
            this.miniMap.open();
    }
    createTriggers(worldViewArea) {
        let worldDrag = worldViewArea.addChild(new engine_gameobject_ui_MouseDragTrigger__WEBPACK_IMPORTED_MODULE_35__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1))));
        worldDrag.minDistance = new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](15, 15);
        worldDrag.onDrag.push((vector, mouse, touch, touchID) => {
            let doubleTouch = worldDrag.touchCount > 1;
            if (this.uiModel.dragging !== null || (Math.abs(vector.y) > Math.abs(vector.x))) {
                if ((vector.y > 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].North || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].South))
                    this.uiModel.dragDown(-vector.y / this.transform.bounds.dimension.height, doubleTouch);
                else if ((vector.y < 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].South || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].North))
                    this.uiModel.dragUp(vector.y / this.transform.bounds.dimension.height, doubleTouch);
            }
            if (this.uiModel.dragging !== null || (Math.abs(vector.y) < Math.abs(vector.x))) {
                if ((vector.x > 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].East || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].West))
                    this.uiModel.dragRight(vector.x / this.transform.bounds.dimension.width, doubleTouch);
                else if ((vector.x < 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].West || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].East))
                    this.uiModel.dragLeft(-vector.x / this.transform.bounds.dimension.width, doubleTouch);
            }
            this._lastDragVector = vector;
        }, this);
        worldDrag.onEndDrag.push(((mouse) => {
            if (this.uiModel.dragging !== null) {
                if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].South && this._lastDragVector.y > 0)
                    this.uiModel.endDragUp(worldDrag.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].North && this._lastDragVector.y < 0)
                    this.uiModel.endDragDown(worldDrag.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].West && this._lastDragVector.x < 0)
                    this.uiModel.endDragLeft(worldDrag.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].East && this._lastDragVector.x > 0)
                    this.uiModel.endDragRight(worldDrag.touchCount);
                else
                    this.uiModel.endDragReset();
            }
        }).bind(this), this);
        let kt = this.addChild(new engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["default"]());
        kt.getKeyEvent("w", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyW.bind(this.uiModel), this);
        kt.getKeyEvent("d", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyD.bind(this.uiModel), this);
        kt.getKeyEvent("a", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyA.bind(this.uiModel), this);
        kt.getKeyEvent("d", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyDUp.bind(this.uiModel), this);
        kt.getKeyEvent("a", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyAUp.bind(this.uiModel), this);
        kt.getKeyEvent("s", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyS.bind(this.uiModel), this);
        kt.getKeyEvent("q", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyQ.bind(this.uiModel), this);
        kt.getKeyEvent("e", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyE.bind(this.uiModel), this);
        kt.getKeyEvent("PageUp", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyPgUp.bind(this.uiModel), this);
        kt.getKeyEvent("PageDown", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyPgDown.bind(this.uiModel), this);
        kt.getKeyEvent("e", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyE.bind(this.uiModel), this);
        kt.getKeyEvent("t", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyT.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowUp", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyUp.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowRight", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyRight.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowDown", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyDown.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowLeft", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyLeft.bind(this.uiModel), this);
        kt.getKeyEvent("0", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.key0.bind(this.uiModel), this);
        kt.getKeyEvent("1", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.key1.bind(this.uiModel), this);
        kt.getKeyEvent("o", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyO.bind(this.uiModel), this);
        kt.getKeyEvent(".", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyRightChevron.bind(this.uiModel), this);
        kt.getKeyEvent(",", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyLeftChevron.bind(this.uiModel), this);
        kt.getKeyEvent("-", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyMinus.bind(this.uiModel), this);
        kt.getKeyEvent("_", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyUnderscore.bind(this.uiModel), this);
        kt.getKeyEvent("=", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyEquals.bind(this.uiModel), this);
        kt.getKeyEvent("+", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyPlus.bind(this.uiModel), this);
        kt.getKeyEvent("n", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyN.bind(this.uiModel), this);
    }
    updateTooltip(text) {
        if (text) {
            if (this.tooltip)
                this.tooltip.requestRemoval();
            this.tooltip = this.addChild(new _ToolTip__WEBPACK_IMPORTED_MODULE_33__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](200, 40)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), text));
            this.tooltip.open();
        }
        else {
            if (this.tooltip) {
                let tooltip = this.tooltip;
                tooltip.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_34__["default"](600)).onComplete.push(() => tooltip.onClosing(), this);
            }
        }
    }
    onOpen() {
        this.opacity = 0.01;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__["default"](this, "opacity", 1, 1000)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
    _actionBarHeightConditional(dim) {
        if (dim.width < 500)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 42);
        else {
            let prop = (dim.width - 500) * 0.1;
            prop = Math.min(prop, 22);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 42 + prop);
        }
    }
    _partyStatsWidthConditional(dim) {
        if (dim.width < 500)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](28, 0);
        else {
            let prop = (dim.width - 500) * 0.2;
            prop = Math.min(prop, 48);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](28 + prop, 0);
        }
    }
    _miniMapDimConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](130, 130);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 80);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](120 + prop, 120 + prop);
        }
    }
    _worldFrameConditionalHeight(dim) {
        if (dim.width < 800)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, -this.characterMenu.transform.bounds.dimension.height);
        else
            return new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_20__["default"](0, 0);
    }
    _tabListHeightConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 48);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 26);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 48 + prop);
        }
    }
    _detailMenuHeightConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 110);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 160);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 110 + prop);
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/MainMenuButton.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/MainMenuButton.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MainMenuButton; });
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/RoundedRect */ "./src/engine/gameobject/context2d/RoundedRect.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class MainMenuButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_0__["default"] {
    create() {
        this._createButtonContents();
        super.create();
    }
    setInteractable(val) {
        this.interactable = val;
        this.content.opacity = val ? 1 : 0.5;
    }
    _createButtonContents() {
        let roundedness = 2;
        this.backgroundRect = this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "grey", undefined, 2, roundedness));
        this.setHoverRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "grey", "grey", 0, roundedness)));
        this.setPressedRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "red", "red", 0, roundedness)));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/ToolTip.ts":
/*!*******************************************************!*\
  !*** ./src/examples/classic-rpg-interface/ToolTip.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ToolTip; });
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");










class ToolTip extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_7__["Frame"] {
    constructor(position, bounds, listener, controller, text) {
        super(position, bounds, listener, controller);
        this.text = text;
    }
    create() {
        this.transform.bounds.referenceWidth = 320;
        let bg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_0__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), "black"));
        bg.opacity = 0.9;
        let button = this.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1))));
        button.onClick.push(this.close.bind(this), this);
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__["default"](this.text, context2D, "white", 20, "serif");
        let text = bg.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5)))));
    }
    onOpen() {
        this.opacity = 0;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__["default"](this, "opacity", 1, 500)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
    onClosing() {
        this.opacity = 1;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__["default"](this, "opacity", 0, 500)).onComplete.push(this.close.bind(this), this);
    }
    onClose() {
        this.opacity = 0;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/UIModel.ts":
/*!*******************************************************!*\
  !*** ./src/examples/classic-rpg-interface/UIModel.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UIModel; });
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var _MainFrame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MainFrame */ "./src/examples/classic-rpg-interface/MainFrame.ts");
/* harmony import */ var _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/context2d/Sprite */ "./src/engine/gameobject/context2d/Sprite.ts");
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./model/action/InitiativeModel */ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _model_Status__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./model/Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _core_ui_components_DetailMenuModel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./core-ui-components/DetailMenuModel */ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts");
/* harmony import */ var assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! assets/rpg/ui/nexticon-green.png */ "./src/assets/rpg/ui/nexticon-green.png");
/* harmony import */ var assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! assets/rpg/ui/nexticon-yellow.png */ "./src/assets/rpg/ui/nexticon-yellow.png");
/* harmony import */ var assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! assets/rpg/ui/nexticon-red.png */ "./src/assets/rpg/ui/nexticon-red.png");
/* harmony import */ var assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! assets/rpg/ui/status-slow.png */ "./src/assets/rpg/ui/status-slow.png");
/* harmony import */ var assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! assets/rpg/ui/status-dead.png */ "./src/assets/rpg/ui/status-dead.png");
/* harmony import */ var assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! assets/rpg/ui/status-torch-light.png */ "./src/assets/rpg/ui/status-torch-light.png");
/* harmony import */ var assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _model_action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./model/action/spells/TorchLight */ "./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts");
/* harmony import */ var _model_world_NPCModel__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./model/world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _model_world_WorldObjectModel__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./model/world/WorldObjectModel */ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts");
/* harmony import */ var _model_world_WallModel__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./model/world/WallModel */ "./src/examples/classic-rpg-interface/model/world/WallModel.ts");
/* harmony import */ var _model_world_DoorModel__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./model/world/DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");




























class UIModel {
    constructor(gameModel, map) {
        this.onCharacterSelected = new engine_util_Event__WEBPACK_IMPORTED_MODULE_9__["default"]();
        this.currentDetailMenu = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__["default"](null);
        this.backgroundColour = "#f3e7d7";
        this.holdDuration = 200;
        this.zoomHoldDuration = 100;
        this.dragging = null;
        this._vDragDistance = 0;
        this._vDragRequired = 0.1;
        this.gameModel = gameModel;
        this.map = map;
        this.gameModel.initiative.waitingCharacter.onUpdate.push(() => {
            this.currentDetailMenu.value = null;
            this.onCharacterSelected.call();
        }, this);
        this.tooltip = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__["default"](null);
    }
    get selectedCharacter() { return this.gameModel.initiative.waitingCharacter.value; }
    get mapRotation() { return this.gameModel.player.rotation; }
    dragDown(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._positionAtDragStart = this.gameModel.player.position;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._dragStartedAsDoubleTouch = true;
                }
                if (this.gameModel.player.canFly)
                    this.gameModel.slideUpward(distance * 1.5);
                else {
                    this._vDragDistance += distance;
                    if (this._vDragDistance >= this._vDragRequired) {
                        this.gameModel.jump();
                        this._vDragDistance = 0;
                    }
                }
            }
            else
                this.gameModel.slideForward(distance * 3);
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__["Facing"].South;
        }
    }
    dragUp(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._positionAtDragStart = this.gameModel.player.position;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._dragStartedAsDoubleTouch = true;
                }
                let cell = this.gameModel.world.currentLevel.value.cells[this.gameModel.player.position.x][this.gameModel.player.position.y][this.gameModel.player.position.z];
                if (this.gameModel.player.canFly && cell.floorWall.passable)
                    this.gameModel.slideDownward(distance * 1.5);
                else if (!cell.floorWall.passable) {
                    this._vDragDistance -= distance;
                    if (this._vDragDistance <= -this._vDragRequired) {
                        this.gameModel.crouch();
                        this._vDragDistance = 0;
                    }
                }
            }
            else
                this.gameModel.slideBackward(distance * 3);
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__["Facing"].North;
        }
    }
    dragLeft(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._facingAtDragStart = this.gameModel.player.facing;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._positionAtDragStart = this.gameModel.player.position;
                    this._dragStartedAsDoubleTouch = true;
                }
                this.gameModel.slideRight(-distance * 1.5);
            }
            else
                this.gameModel.rotateRight(-distance * (Math.PI / 2));
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__["Facing"].West;
        }
    }
    dragRight(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._facingAtDragStart = this.gameModel.player.facing;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._positionAtDragStart = this.gameModel.player.position;
                    this._dragStartedAsDoubleTouch = true;
                }
                this.gameModel.slideLeft(-distance * 1.5);
            }
            else
                this.gameModel.rotateLeft(-distance * (Math.PI / 2));
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__["Facing"].East;
        }
    }
    endDragDown(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position))
                this.gameModel.moveForward();
            else if (this._dragStartedAsDoubleTouch) {
                if (this.gameModel.player.canFly && this._positionAtDragStart.equals(this.gameModel.player.position))
                    this.gameModel.hoverUp();
                else
                    this.gameModel.jump();
            }
            this.endDragReset();
        }
    }
    endDragUp(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position))
                this.gameModel.moveBackward();
            else if (this._dragStartedAsDoubleTouch) {
                let cell = this.gameModel.world.currentLevel.value.cells[this.gameModel.player.position.x][this.gameModel.player.position.y][this.gameModel.player.position.z];
                if (this.gameModel.player.canFly && cell.floorWall.passable && this._positionAtDragStart.equals(this.gameModel.player.position))
                    this.gameModel.hoverDown();
                else
                    this.gameModel.crouch();
            }
            this.endDragReset();
        }
    }
    endDragLeft(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._facingAtDragStart === this.gameModel.player.facing)
                this.gameModel.player.facing = (this.gameModel.player.facing + 8 - 1) % 8;
            else if (this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position)) {
                this.gameModel.strafeLeft();
            }
            this.endDragReset();
        }
    }
    endDragRight(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._facingAtDragStart === this.gameModel.player.facing)
                this.gameModel.player.facing = (this.gameModel.player.facing + 1) % 8;
            else if (this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position)) {
                this.gameModel.strafeRight();
            }
            this.endDragReset();
        }
    }
    endDragReset() {
        if (!this.zoomedView) {
            this.gameModel.resetRotation();
            this.gameModel.resetPosition();
        }
        this.dragging = null;
        this._vDragDistance = 0;
        this._dragStartedAsDoubleTouch = false;
    }
    keyW() { if (!this.zoomedView)
        this.gameModel.moveForward(); }
    keyA(delta) { if (!this.zoomedView)
        this.gameModel.turnLeft(); }
    keyD(delta) { if (!this.zoomedView)
        this.gameModel.turnRight(); }
    keyAUp() { if (!this.zoomedView)
        this.gameModel.resetRotation(); }
    keyDUp() { if (!this.zoomedView)
        this.gameModel.resetRotation(); }
    keyS() { if (!this.zoomedView)
        this.gameModel.moveBackward(); }
    keyQ() { if (!this.zoomedView)
        this.gameModel.strafeLeft(); }
    keyE() { if (!this.zoomedView)
        this.gameModel.strafeRight(); }
    keyR() {
        let target = this.gameModel.world.currentLevel.value.npcs[0];
        let action = this.gameModel.initiative.waitingCharacter.value.availableActions(target)[0];
        this.gameModel.performAction(target, action);
    }
    keyT() {
        this.gameModel.castSpell(new _model_action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_22__["default"]("Torch Light", null, this.gameModel), null);
    }
    keyUp() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallFront(); }
    keyRight() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallRight(); }
    keyDown() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallBehind(); }
    keyLeft() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallLeft(); }
    key1() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallAbove(); }
    key0() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallBelow(); }
    keyPgUp() { if (this.gameModel.player.canFly)
        if (!this.zoomedView)
            this.gameModel.hoverUp(); }
    keyPgDown() { if (this.gameModel.player.canFly)
        if (!this.zoomedView)
            this.gameModel.hoverDown(); }
    keyO() { this.gameModel.save(); }
    keyRightChevron() {
        if (this.gameModel.world.currentLevelID < this.gameModel.world.levels.length - 1)
            this.gameModel.switchLevel(this.gameModel.world.levels[this.gameModel.world.currentLevelID + 1]);
    }
    keyLeftChevron() {
        if (this.gameModel.world.currentLevelID > 0)
            this.gameModel.switchLevel(this.gameModel.world.levels[this.gameModel.world.currentLevelID - 1]);
    }
    keyMinus() {
        this.gameModel.currentPaintID--;
    }
    keyEquals() {
        this.gameModel.currentPaintID++;
    }
    keyUnderscore() {
        this.gameModel.currentPaintID -= 10;
    }
    keyPlus() {
        this.gameModel.currentPaintID += 10;
    }
    keyN() {
        console.log(this.gameModel.player.position);
    }
    worldClick(target) {
        if (this.tooltip.value !== null)
            this.tooltip.value = null;
        else if (this.currentDetailMenu.value !== null)
            this.currentDetailMenu.value = null;
        else {
            let actionResult;
            if (this.gameModel.initiative.playerCanAct) {
                if ((this.gameModel.player.canLevelEdit) && (target instanceof _model_world_WallModel__WEBPACK_IMPORTED_MODULE_25__["default"])) {
                    this.gameModel.paintWall(target);
                }
                else if (target instanceof _model_world_NPCModel__WEBPACK_IMPORTED_MODULE_23__["default"] || target instanceof _model_world_WorldObjectModel__WEBPACK_IMPORTED_MODULE_24__["default"] || target instanceof _model_world_DoorModel__WEBPACK_IMPORTED_MODULE_26__["default"]) {
                    let actions = this.gameModel.initiative.waitingCharacter.value.availableActions(target);
                    if (actions.length > 0)
                        actionResult = this.gameModel.performAction(target, actions[0]);
                }
            }
            if (actionResult)
                this.gameModel.applyActionResult(actionResult);
        }
    }
    worldHold(zoomView, mouse) {
        this.zoomedView = true;
        zoomView(mouse);
    }
    worldReleaseHold(unzoomView) {
        this.zoomedView = false;
        unzoomView();
    }
    clickCharacterPortrait(c) {
        if (this.gameModel.initiative.waitingCharacter.value !== c)
            this.gameModel.switchCharacter(c);
        else {
            this.currentDetailMenu.value = null;
        }
    }
    holdCharacterPortrait(c) {
        this.tooltip.value = c.fullName;
    }
    releaseHold() {
        this.tooltip.value = null;
    }
    clickQuickItemsTabButton() {
        if (this.currentDetailMenu.value === null)
            this.setDetailMenu();
        else if (this.currentDetailMenu.value.spellList)
            this.setDetailMenu();
        else
            this.hideDetailMenu();
    }
    holdQuickItemsTabButton() {
        this.tooltip.value = "Quick items";
    }
    clickSpellListTabButton(l) {
        if (this.currentDetailMenu.value === null)
            this.setDetailMenu(l);
        else if (this.currentDetailMenu.value.spellList !== l)
            this.setDetailMenu(l);
        else
            this.hideDetailMenu();
    }
    holdSpellListTabButton(l) {
        this.tooltip.value = l.name + " spells";
    }
    clickSpellButton(s) {
        if (s.test(this.selectedCharacter, null)) {
            if (s.requireTarget)
                this.acquireTarget(s);
            else
                this.gameModel.castSpell(s, null);
            this.currentDetailMenu.value = null;
        }
    }
    holdSpellButton(s) {
        this.tooltip.value = s.name;
    }
    holdStatusIcon(status) {
        this.tooltip.value = status.name;
    }
    holdMiniMap() {
        this.tooltip.value = "Date/Time";
    }
    holdLevelNameText() {
        this.tooltip.value = this.gameModel.world.currentLevel.value.name;
    }
    holdCharacterSheetMenuIcon() {
        this.tooltip.value = "Show character sheets";
    }
    acquireTarget(spell) {
    }
    getCharacterPortraitImage(position, bounds, characterModel) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.portraits[characterModel.characterData.portrait].filename);
    }
    getCharacterSelectedHighlight(position, bounds, characterModel) {
        let sh = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["OutlineRect"](position, bounds, "yellow", 2);
        sh.visible = this.selectedCharacter === characterModel;
        this.onCharacterSelected.push((() => sh.visible = this.selectedCharacter === characterModel).bind(this), this);
        return sh;
    }
    getCharacterNextHighlight(position, bounds, characterModel) {
        let group = new engine_GameObject__WEBPACK_IMPORTED_MODULE_6__["default"](position, bounds);
        let g = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16___default.a);
        let y = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17___default.a);
        let r = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18___default.a);
        group.addChild(g);
        group.addChild(y);
        group.addChild(r);
        this.gameModel.initiative.combatState.onUpdate.push((val) => {
            g.visible = false;
            y.visible = false;
            r.visible = false;
            if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
                g.visible = true;
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
                y.visible = true;
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
                r.visible = true;
            group.requestDraw();
        }, this);
        g.visible = false;
        y.visible = false;
        r.visible = false;
        if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
            g.visible = true;
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
            y.visible = true;
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
            r.visible = true;
        this.gameModel.initiative.waitingCharacter.onUpdate.push(((val) => group.visible = val === characterModel).bind(this), this);
        group.visible = this.gameModel.initiative.waitingCharacter.value === characterModel;
        return group;
    }
    getCharacterWaitingHighlight(position, bounds, characterModel) {
        let group = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](position, bounds, "green");
        this.gameModel.initiative.combatState.onUpdate.push((val) => {
            if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
                group.fillStyle = "green";
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
                group.fillStyle = "yellow";
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
                group.fillStyle = "red";
            group.requestDraw();
        }, this);
        if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
            group.fillStyle = "green";
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
            group.fillStyle = "yellow";
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
            group.fillStyle = "red";
        this.gameModel.initiative.waitingCharacters.onUpdate.push(((val) => group.visible = val.indexOf(characterModel) !== -1).bind(this), this);
        group.visible = this.gameModel.initiative.waitingCharacters.value.indexOf(characterModel) !== -1;
        return group;
    }
    getCharacterHitFilter(position, bounds, characterModel) {
        let hitFilter = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](position, bounds, "red");
        hitFilter.opacity = 0.5;
        hitFilter.visible = false;
        characterModel.onTakeDamage.push(() => {
            hitFilter.visible = true;
            hitFilter.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__["default"](300)).onComplete.push(() => hitFilter.visible = false, this);
        }, this);
        return hitFilter;
    }
    getCharacterHPBar(position, bounds, characterModel) {
        let parent = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["Rect"](position, bounds, "black", "#f3e7d7", 1);
        let hpProportion = new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1);
        hpProportion.preserve = true;
        let child = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_12__["default"](0.5, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0), hpProportion), "green");
        child.transform.fixed = false;
        characterModel.hitpoints.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        characterModel.maxHitpoints.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        characterModel.healthState.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        parent.addChild(child);
        return parent;
    }
    getCharacterManaBar(position, bounds, characterModel) {
        let parent = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["Rect"](position, bounds, "black", "#f3e7d7", 1);
        let manaProportion = new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1);
        manaProportion.preserve = true;
        let child = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_12__["default"](0.5, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0), manaProportion), "blue");
        child.transform.fixed = false;
        parent.addChild(child);
        return parent;
    }
    getStatusIcon(position, bounds, status) {
        let filename;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].Dead)
            filename = assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20___default.a;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].Slow)
            filename = assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19___default.a;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].TorchLight)
            filename = assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21___default.a;
        if (filename)
            return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, filename);
        return new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["OutlineRect"](position, bounds, Object(_MainFrame__WEBPACK_IMPORTED_MODULE_3__["randomColour"])(), 1);
    }
    updateHPState(characterModel, hpBar, hpProportion) {
        if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Normal) {
            hpProportion.height = Math.max(0, characterModel.hitpoints.value / characterModel.maxHitpoints.value);
            if (hpProportion.height < 0.33)
                hpBar.fillStyle = "red";
            else if (hpProportion.height < 0.5)
                hpBar.fillStyle = "yellow";
            else
                hpBar.fillStyle = "green";
        }
        else if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Unconsious) {
            hpProportion.height = Math.min(1, -characterModel.hitpoints.value / characterModel.maxHitpoints.value);
            hpBar.fillStyle = "grey";
        }
        else {
            hpProportion.height = 1;
            hpBar.fillStyle = undefined;
        }
        hpBar.requestDraw();
    }
    updateManaState(characterModel, manaBar, manaProportion) {
        manaProportion.height = Math.max(0, characterModel.mana / characterModel.maxMana);
        manaBar.fillStyle = "blue";
        if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Dead) {
            manaProportion.height = 1;
            manaBar.fillStyle = "black";
        }
        manaBar.requestDraw();
    }
    getCharacterTabs(characterModel) {
        return [];
    }
    getCharacterSheetMenuIcon(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.charSheetIcon);
    }
    getQuickItemTabIcon(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.quickItemTabIcon);
    }
    getSpellListTabIcon(position, bounds, spellList) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, spellList.icon);
    }
    setDetailMenu(spellList) {
        this.currentDetailMenu.value = new _core_ui_components_DetailMenuModel__WEBPACK_IMPORTED_MODULE_15__["default"](spellList);
    }
    hideDetailMenu() {
        this.currentDetailMenu.value = null;
    }
    getSpellIcon(position, bounds, spell) {
        if (!spell)
            throw new Error("Cannot create icon for spell because spell not found, does the spell exist and is it properly named?");
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, spell.icon);
    }
    getAnimWaitHourglass(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.hourglassIcon);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/WorldFrame.ts":
/*!**********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/WorldFrame.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_Text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var engine_TreeUtils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/TreeUtils */ "./src/engine/TreeUtils.ts");
/* harmony import */ var _sceneview_Scene__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sceneview/Scene */ "./src/examples/classic-rpg-interface/sceneview/Scene.ts");
/* harmony import */ var engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/gameobject/ui/LoadingBar */ "./src/engine/gameobject/ui/LoadingBar.ts");
/* harmony import */ var engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! engine/gameobject/ui/KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
















class WorldFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, gameModel, uiModel) {
        super(position, bounds, listener, controller);
        this.defaultFOV = 52;
        this.changingScene = true;
        this.gameModel = gameModel;
        this.uiModel = uiModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), "black"));
        this._createMouseTriggers();
        this._createHUD();
        this._createThreeBuffer();
        this.gameModel.listener.onSwitchLevel.push(this._switchLevel.bind(this), this);
        this.gameModel.infoText.onUpdate.push(this._updateInfoText.bind(this), this);
        let kt = this.addChild(new engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__["default"]());
        kt.getKeyEvent("m", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__["KeyTriggerEvents"].onKeyUp).push(() => console.log(this.threeBuffer.renderer.info), this);
    }
    update() {
        if (this.changingScene) {
            let stats = engine_TreeUtils__WEBPACK_IMPORTED_MODULE_12__["TreeUtils"].subtreeLoadStats(this.threeBuffer);
            this.loadingBar.setProportion(stats.assetsProportion);
            if (this.threeBuffer.subtreeLoaded) {
                this._levelLoaded();
                this.changingScene = false;
            }
        }
    }
    _switchLevel() {
        this.changingScene = true;
        this._createThreeBuffer();
        this.threeBuffer.visible = false;
        this.loadingBar.visible = true;
    }
    _levelLoaded() {
        this.loadingBar.visible = false;
        this.threeBuffer.visible = true;
    }
    _createThreeBuffer() {
        if (this.threeBuffer)
            this.threeBuffer.requestRemoval();
        this.threeBuffer = this.addChild(new _sceneview_Scene__WEBPACK_IMPORTED_MODULE_13__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), this.gameModel));
        this.threeBuffer.fieldOfView = this.defaultFOV;
        this.threeBuffer.requestDraw();
        engine_TreeUtils__WEBPACK_IMPORTED_MODULE_12__["TreeUtils"].moveChildToLast(this, this.threeBuffer);
    }
    _createMouseTriggers() {
        let worldClick = this.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1))));
        worldClick.onClick.push(this._worldClick.bind(this), this);
    }
    _createHUD() {
        this.infoText = this.addChild(new engine_gameobject_ui_Text__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](), "", "white", 12, "serif", 1.5));
        this.crosshair = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__["default"](3, 3)), "white"));
        this.crosshair.visible = false;
        this.loadingBar = this.addChild(new engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_14__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__["default"](100, 10)), "white", "grey"));
    }
    _updateInfoText(val) {
        this.infoText.text = val;
        this.infoText.opacity = 1;
        this.infoText.visible = true;
        if (this.infoTextWait)
            this.infoTextWait.requestRemoval();
        this.infoTextWait = this.infoText.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__["default"](3000));
        this.infoTextWait.onComplete.push(() => {
            this.infoTextWait = this.infoText.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_11__["default"](this.infoText, "opacity", 0, 1000));
            this.infoTextWait.onComplete.push(() => this.infoText.visible = false, this);
        }, this);
    }
    _worldClick(mouse) {
        let offset = this._getMouseOffset(mouse);
        let raycaster = new THREE.Raycaster();
        raycaster.setFromCamera(new THREE.Vector2(offset.x, offset.y), this.threeBuffer.camera);
        let intersects = raycaster.intersectObjects(this.threeBuffer.scene.children);
        if (intersects.length > 0) {
            let go = intersects[0].object.userData.gameObject;
            if (go)
                this.uiModel.worldClick(go.model);
        }
    }
    _getMouseOffset(mouse) {
        let mousePos = engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"].minus(mouse.position, this.transform.getCanonicalPosition());
        let x = (mousePos.x / this.transform.bounds.dimension.width) * 2 - 1;
        let y = -((mousePos.y / this.transform.bounds.dimension.height) * 2 - 1);
        return new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](x, y);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionBarMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");










class ActionBarMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "#f3e7d7"));
        let shadow = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0, 1)), "black"));
        shadow.opacity = 0.3;
        this.addChild(this.createCharacterSheetMenuIcon());
        this.levelNameText = this.addChild(this.createLevelNameText());
        this.uiModel.gameModel.world.currentLevel.onUpdate.push(((val) => {
            this.levelNameText.text = val.name;
        }).bind(this), this);
    }
    createCharacterSheetMenuIcon() {
        let csmi = this.uiModel.getCharacterSheetMenuIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_5__["default"](64, 0)));
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdCharacterSheetMenuIcon.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        csmi.addChild(holdTrigger);
        return csmi;
    }
    createLevelNameText() {
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__["default"](this.uiModel.gameModel.world.currentLevel.value.name, context2D, "black", 10, "sans-serif", 1.2);
        let levelNameText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5)))));
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdLevelNameText.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        levelNameText.addChild(holdTrigger);
        return levelNameText;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts ***!
  \********************************************************************************/
/*! exports provided: default, CharacterMenuListener, CharacterMenuController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CharacterMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterMenuListener", function() { return CharacterMenuListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterMenuController", function() { return CharacterMenuController; });
/* harmony import */ var _PortraitButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PortraitButton */ "./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");







class CharacterMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_6__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), this.uiModel.backgroundColour));
        this.createMenu();
    }
    static recursePrint(self, padding) {
        console.log(" ".repeat(padding) + self.typeName);
        self.children.forEach(x => CharacterMenu.recursePrint(x, padding + 4));
    }
    createMenu() {
        this.portraits = this.createPortraits();
        for (let i = 0; i < this.portraits.length; i++) {
            let p = this.addChild(this.portraits[i]);
            p.transform.position.addTranslation(new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](i * 0.25, 0));
            p.transform.bounds.addDimension(new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0.25, 1));
        }
    }
    createPortraits() {
        let portraits = [];
        this.gameModel.party.characters.forEach((c) => {
            let p = new _PortraitButton__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](), c, this.uiModel);
            p.onClick.push(this.uiModel.clickCharacterPortrait.bind(this.uiModel, c), this);
            portraits.push(p);
        });
        return portraits;
    }
}
class CharacterMenuListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameListener"] {
}
class CharacterMenuController extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameController"] {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DetailMenuFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");













class DetailMenuFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        this.uiModel.currentDetailMenu.onUpdate.push(this.createDetailMenu.bind(this), this);
        this.createDetailMenu();
    }
    createDetailMenu() {
        let w = this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_12__["default"](0));
        if (this.menu)
            w.onComplete.push(this.requestRemoval.bind(this.menu), this);
        w.onComplete.push((() => { if (this.menu)
            this.menu.visible = true; }).bind(this), this);
        let detailMenuModel = this.uiModel.currentDetailMenu.value;
        if (detailMenuModel) {
            let container = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.backgroundColour));
            container.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1))));
            container.opacity = 0.8;
            let canvas = document.createElement('canvas');
            let context2D = canvas.getContext("2d");
            let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_5__["default"](detailMenuModel.title, context2D, "black", 12, "sans-serif");
            container.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](10, 4, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0, 0)))));
            if (detailMenuModel.spellList) {
                let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_8__["GridBuilder"]();
                detailMenuModel.spellList.spells.forEach(s => {
                    let icon = this.uiModel.getSpellIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), s);
                    let b = new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0.2, 1, this.transform.bounds), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__["default"](0, -20)), icon);
                    b.onClick.push(this.uiModel.clickSpellButton.bind(this.uiModel, s), this);
                    gb.pushCell(b);
                    let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration));
                    holdTrigger.onHold.push(this.uiModel.holdSpellButton.bind(this.uiModel, s), this);
                    holdTrigger.onHold.push(b.reset.bind(b), this);
                    holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
                    b.addChild(holdTrigger);
                });
                gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_8__["GridOrientation"].Horizontal, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 20)));
                container.addChild(gb.grid);
            }
            this.menu = container;
            this.menu.visible = false;
        }
        this.requestDraw();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DetailMenuModel; });
class DetailMenuModel {
    constructor(spellList) {
        this.spellList = spellList;
        if (!spellList)
            this.title = "Quick Items";
        else {
            this.title = spellList.name;
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/Map.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/Map.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Map; });
/* harmony import */ var engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/context2d/DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/context2d/Circle */ "./src/engine/gameobject/context2d/Circle.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_context2d_Triangle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/context2d/Triangle */ "./src/engine/gameobject/context2d/Triangle.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");













class Map extends engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameModel) {
        let w = gameModel.world.currentLevel.value.width;
        let h = gameModel.world.currentLevel.value.depth;
        super(null, new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](w * 100, h * 100)));
        this.cellSize = 100;
        this.edgeWidth = this.cellSize / 10;
        this.gameModel = gameModel;
        this.npcIcons = [];
        this.currentMapY = undefined;
    }
    create() {
        super.create();
        this.gameModel.listener.onMove.push(this.updatePlayer.bind(this), this);
        this.gameModel.listener.onTurn.push(this.updatePlayer.bind(this), this);
        this.gameModel.listener.onWorldChange.push(this.updateMapVisibility.bind(this), this);
        this.gameModel.listener.onSwitchLevel.push(this.recreateMap.bind(this), this);
        this.recreateMap();
    }
    recreateMap() {
        this.levelModel = this.gameModel.world.currentLevel.value;
        this.createMap(this.levelModel);
        this.createNPCs(this.levelModel);
        this.updatePlayer();
    }
    createNPC(npc) {
        let npcIcon = this.addChild(new engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_4__["FillCircle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize / 4, this.cellSize / 4)), undefined));
        this.npcIcons.forEach(n => n.requestRemoval());
        this.npcIcons.push(npcIcon);
        npc.alive.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        npc.position.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        npc.looted.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        this.updateNPC(npc, npcIcon);
    }
    updateNPC(npc, npcIcon) {
        if (npc.looted.value)
            npcIcon.visible = false;
        else {
            npcIcon.transform.position.clearTranslations();
            npcIcon.transform.position.addTranslation(new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"]((npc.position.value.x + 0.5) * this.cellSize, (npc.position.value.z + 0.5) * this.cellSize, new engine_util_Point__WEBPACK_IMPORTED_MODULE_9__["default"](0.5, 0.5)));
            let colour = npc.hostile ? "red" : "green";
            if (!(npc.alive.value))
                colour = "blue";
            npcIcon.fillStyle = colour;
            npcIcon.requestDraw();
        }
    }
    createNPCs(level) {
        level.npcs.forEach(n => this.createNPC(n));
    }
    updatePlayer() {
        this.playerIcon.transform.position.clearTranslations();
        this.playerIcon.transform.position.addTranslation(new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"]((this.gameModel.player.position.x + 0.5) * this.cellSize, (this.gameModel.player.position.z + 0.5) * this.cellSize, new engine_util_Point__WEBPACK_IMPORTED_MODULE_9__["default"](0.5, 0.5)));
        if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].North)
            this.playerIcon.transform.rotation = 0;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].NorthEast)
            this.playerIcon.transform.rotation = Math.PI / 4;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].East)
            this.playerIcon.transform.rotation = Math.PI / 2;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].SouthEast)
            this.playerIcon.transform.rotation = 3 * (Math.PI / 4);
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].South)
            this.playerIcon.transform.rotation = Math.PI;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].SouthWest)
            this.playerIcon.transform.rotation = -3 * (Math.PI / 4);
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].West)
            this.playerIcon.transform.rotation = -Math.PI / 2;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].NorthWest)
            this.playerIcon.transform.rotation = -Math.PI / 4;
        if (this.gameModel.player.position.y !== this.currentMapY) {
            this.switchToLayer(this.gameModel.player.position.y);
        }
    }
    switchToLayer(y) {
        this.mapLayers.forEach((l, i) => {
            if (i === y) {
                if (l.opacity !== 1)
                    this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 1, 300));
            }
            else if ((i === y - 1) || (i === y + 1)) {
                if (l.opacity !== 0.5)
                    this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 0.5, 300));
            }
            else if (l.opacity !== 0)
                this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 0, 300));
        });
        this.currentMapY = y;
    }
    updateMapVisibility() {
        for (let y = 0; y < this.levelModel.height; y++)
            for (let x = 0; x < this.levelModel.width; x++)
                for (let z = 0; z < this.levelModel.depth; z++)
                    this.mapCells[x][y][z].visible = !(this.levelModel.cells[x][y][z].walls[4].hidden.value);
    }
    createMap(level) {
        this.mapCells = new Array(level.width);
        for (let i = 0; i < level.width; i++) {
            this.mapCells[i] = new Array(level.height);
            for (let j = 0; j < level.height; j++) {
                this.mapCells[i][j] = new Array(level.depth);
            }
        }
        let layers = [];
        for (let y = 0; y < level.height; y++) {
            let l = new engine_GameObject__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__["default"](1, 1)));
            for (let x = 0; x < level.width; x++) {
                for (let z = 0; z < level.depth; z++) {
                    let r = l.addChild(this.createRect(x, z, level.cells[x][y][z]));
                    if (level.cells[x][y][z].walls[4].hidden.value)
                        r.visible = false;
                    this.mapCells[x][y][z] = r;
                }
            }
            l.opacity = 0;
            layers.push(this.addChild(l));
        }
        if (this.mapLayers)
            this.mapLayers.forEach(l => l.requestRemoval());
        this.mapLayers = layers;
        if (this.playerIcon)
            this.playerIcon.requestRemoval();
        this.playerIcon = this.addChild(new engine_gameobject_context2d_Triangle__WEBPACK_IMPORTED_MODULE_10__["FillTriangle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize / 2, this.cellSize / 2)), "black"));
    }
    createRect(x, z, cell) {
        return new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](x * this.cellSize + this.edgeWidth / 2, z * this.cellSize + this.edgeWidth / 2)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize - this.edgeWidth, this.cellSize - this.edgeWidth)), "white");
    }
    destroy() {
        super.destroy();
        this.gameModel.listener.onMove.unregister(this);
        this.gameModel.listener.onTurn.unregister(this);
        this.gameModel.listener.onWorldChange.unregister(this);
        this.gameModel.listener.onSwitchLevel.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts":
/*!*******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts ***!
  \*******************************************************************************/
/*! exports provided: default, MiniMapFrameListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MiniMapFrame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MiniMapFrameListener", function() { return MiniMapFrameListener; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/context2d/Circle */ "./src/engine/gameobject/context2d/Circle.ts");
/* harmony import */ var engine_gameobject_context2d_BufferClone__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/context2d/BufferClone */ "./src/engine/gameobject/context2d/BufferClone.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");












class MiniMapFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        let miniMap = this.addChild(this.createMiniMap());
        let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), this.uiModel.holdDuration));
        holdTrigger.onHold.push(this.uiModel.holdMiniMap.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
    }
    mapClip(ctx, pos, dim) {
        ctx.translate(pos.x + dim.width / 2, pos.y + dim.height / 2);
        ctx.rotate(this.uiModel.mapRotation.y);
        ctx.translate(-(pos.x + dim.width / 2), -(pos.y + dim.height / 2));
        ctx.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(dim.width, dim.height) / 2, 0, 2 * Math.PI);
    }
    setMapOriginAndArea(bufferClone) {
        let levelDim = new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](this.gameModel.world.currentLevel.value.width, this.gameModel.world.currentLevel.value.depth);
        let cellSize = 100;
        let radius = 5;
        bufferClone.origin = new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_9__["default"]((this.gameModel.player.position.x + 0.5 - radius) * cellSize, (this.gameModel.player.position.z + 0.5 - radius) * cellSize);
        bufferClone.area = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__["default"](cellSize * radius * 2, cellSize * radius * 2);
    }
    createMiniMap() {
        let mapArea = new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)));
        mapArea.onClick.push(() => this.listener.onMapClick.call(), this);
        let mapBackground = mapArea.addChild(new engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_5__["FillCircle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), "grey"));
        mapBackground.opacity = 0.5;
        let mapCircle = mapArea.addChild(new engine_gameobject_context2d_BufferClone__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), this.uiModel.map));
        this.setMapOriginAndArea(mapCircle);
        mapCircle.clipFunction = this.mapClip.bind(this);
        this.gameModel.listener.onMove.push(this.setMapOriginAndArea.bind(this, mapCircle), this);
        this.gameModel.listener.onSwitchLevel.push(this.setMapOriginAndArea.bind(this, mapCircle), this);
        return mapArea;
    }
}
class MiniMapFrameListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameListener"] {
    constructor() {
        super(...arguments);
        this.onMapClick = new engine_util_Event__WEBPACK_IMPORTED_MODULE_10__["default"]();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PartyStatusMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _StatusList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StatusList */ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts");





class PartyStatusMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this._uiModel = uiModel;
    }
    create() {
        this.list = this.addChild(this.createList());
        this._uiModel.gameModel.party.statuses.onUpdate.push(() => {
            this.list.requestRemoval();
            this.list = this.addChild(this.createList());
        }, this);
    }
    createList() {
        return new _StatusList__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), this._uiModel.gameModel.party.statuses.value, this._uiModel);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts":
/*!*********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PortraitButton; });
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var _StatusList__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StatusList */ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_gameobject_Clip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/Clip */ "./src/engine/gameobject/Clip.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");












class PortraitButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"] {
    constructor(position, bounds, characterModel, uiModel) {
        super(position, bounds);
        this._isSelected = false;
        this._isWaiting = false;
        this.characterModel = characterModel;
        this.uiModel = uiModel;
    }
    get filename() { return this.characterModel.portraitType.filename; }
    get isSelected() { return this._isSelected; }
    get isWaiting() { return this._isWaiting; }
    set isSelected(val) {
        this._isSelected = val;
        this.selectedHighlight.visible = val;
    }
    set isWaiting(val) {
        this._isWaiting = val;
        this.waitingHighlight.visible = val;
    }
    create() {
        super.create();
        this.waitingHighlight = this.addChild(this.uiModel.getCharacterWaitingHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.selectedHighlight = this.addChild(this.uiModel.getCharacterSelectedHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.portrait = this.uiModel.getCharacterPortraitImage(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel);
        let clip = new engine_gameobject_Clip__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)));
        clip.setClip = (ctx) => {
            let pos = clip.transform.getDrawPosition();
            let dim = clip.transform.getDimension();
            this._drawEllipse(ctx, pos.x - dim.width * 0.05, pos.y - dim.height * 0.05, dim.width * 1.1, dim.height * 1.1);
            ctx.clip();
        };
        this.addChild(clip);
        clip.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_9__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), "black"));
        clip.addChild(this.portrait);
        this.portrait.opacity = 0.7;
        this.uiModel.gameModel.initiative.waitingCharacters.onUpdate.push((val) => {
            if (val.indexOf(this.characterModel) !== -1)
                this.portrait.opacity = 1;
            else
                this.portrait.opacity = 0.6;
        }, this);
        this.nextHighlight = this.addChild(this.uiModel.getCharacterNextHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0.5, 0.15)), this.characterModel));
        this.hitFilter = this.portrait.addChild(this.uiModel.getCharacterHitFilter(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.hpBar = this.addChild(this.uiModel.getCharacterHPBar(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0, 0.5)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](2, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](8, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0.75)), this.characterModel));
        this.manaBar = this.addChild(this.uiModel.getCharacterManaBar(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](1, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0.5)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](-2, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](8, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0.75)), this.characterModel));
        let statusList = this.addChild(new _StatusList__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](-16, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](32, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 1)), this.characterModel.statuses, this.uiModel));
        let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.uiModel.holdDuration));
        holdTrigger.onHold.push(this.uiModel.holdCharacterPortrait.bind(this.uiModel, this.characterModel), this);
        holdTrigger.onHold.push(this.reset.bind(this), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
    }
    _drawEllipse(ctx, x, y, w, h) {
        var kappa = .5522848, ox = (w / 2) * kappa, oy = (h / 2) * kappa, xe = x + w, ye = y + h, xm = x + w / 2, ym = y + h / 2;
        ctx.beginPath();
        ctx.moveTo(x, ym);
        ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
        ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
        ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
        ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts":
/*!*****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StatusList; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");









class StatusList extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, statuses, uiModel) {
        super(position, bounds);
        this.statuses = statuses;
        this.uiModel = uiModel;
    }
    create() {
        let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__["GridBuilder"]();
        for (let i = 0; i < this.statuses.length; i++) {
            let icon = this.uiModel.getStatusIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1, this.transform.bounds)), this.statuses[i]);
            icon.transform.bounds.targetAspectRatio = 1;
            gb.pushCell(icon);
            icon.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1))));
            let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
            holdTrigger.onHold.push(this.uiModel.holdStatusIcon.bind(this.uiModel, this.statuses[i]), this);
            holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
            icon.addChild(holdTrigger);
        }
        gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__["GridOrientation"].Vertical, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0, 1))));
        this.addChild(gb.grid);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TabButton; });
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/RoundedRect */ "./src/engine/gameobject/context2d/RoundedRect.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");





class TabButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"] {
    constructor(position, bounds, tabIcon) {
        super(position, bounds);
        this.tabIcon = tabIcon;
    }
    create() {
        let bg = this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "#f3e7d7", 0, 10));
        this.setHoverRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "white", 0, 10)));
        this.setPressedRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "white", 0, 10)));
        super.create();
        this.addChild(this.tabIcon);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TabListMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _TabButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TabButton */ "./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");











class TabListMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_9__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 0), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 10)), this.uiModel.backgroundColour));
        this.uiModel.onCharacterSelected.push(this.createMenu.bind(this), this);
        if (this.uiModel.selectedCharacter)
            this.createMenu();
    }
    createMenu() {
        if (this.grid)
            this.grid.requestRemoval();
        if (this.uiModel.selectedCharacter) {
            let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__["GridBuilder"]();
            let tabs = this.createTabs();
            for (let i = 0; i < tabs.length; i++) {
                gb.pushCell(tabs[i]);
            }
            gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__["GridOrientation"].Horizontal);
            this.grid = this.addChild(gb.grid);
        }
        else {
            this.grid = this.addChild(this.uiModel.getAnimWaitHourglass(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](1, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1))));
            this.grid.transform.bounds.targetAspectRatio = 1;
        }
    }
    createTabs() {
        let tabs = [];
        let tab = this.createTabButton(this.uiModel.getQuickItemTabIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0.7, 0.7))));
        tabs.push(tab);
        tab.onClick.push(this.uiModel.clickQuickItemsTabButton.bind(this.uiModel), this);
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdQuickItemsTabButton.bind(this.uiModel), this);
        holdTrigger.onHold.push(tab.reset.bind(tab), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        tab.addChild(holdTrigger);
        this.uiModel.selectedCharacter.spellLists.forEach(l => {
            let tab = this.createTabButton(this.uiModel.getSpellListTabIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0.7, 0.7)), l));
            tabs.push(tab);
            tab.onClick.push(this.uiModel.clickSpellListTabButton.bind(this.uiModel, l), this);
            let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), this.uiModel.holdDuration);
            holdTrigger.onHold.push(this.uiModel.holdSpellListTabButton.bind(this.uiModel, l), this);
            holdTrigger.onHold.push(tab.reset.bind(tab), this);
            holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
            tab.addChild(holdTrigger);
        });
        return tabs;
    }
    createTabButton(child) {
        let tab = new _TabButton__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1, this.transform.bounds)), child);
        tab.transform.bounds.targetAspectRatio = 1;
        tab.addChild(child);
        return tab;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/data.ts":
/*!****************************************************!*\
  !*** ./src/examples/classic-rpg-interface/data.ts ***!
  \****************************************************/
/*! exports provided: TextureEmpty, gameData, GameData, SkyboxData, PortraitData, WallData, WallDetailsData, WorldObjectData, NPCData, ActionData, LevelData, PartyData, CharacterData, PlayerData, UIData, ItemData, WeaponItemData, SpellListData, DoorData, LevelDoorData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gameData", function() { return gameData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameData", function() { return GameData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkyboxData", function() { return SkyboxData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PortraitData", function() { return PortraitData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WallData", function() { return WallData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WallDetailsData", function() { return WallDetailsData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorldObjectData", function() { return WorldObjectData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NPCData", function() { return NPCData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionData", function() { return ActionData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelData", function() { return LevelData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartyData", function() { return PartyData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterData", function() { return CharacterData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlayerData", function() { return PlayerData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIData", function() { return UIData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemData", function() { return ItemData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeaponItemData", function() { return WeaponItemData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpellListData", function() { return SpellListData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DoorData", function() { return DoorData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelDoorData", function() { return LevelDoorData; });
/* harmony import */ var assets_rpg_portrait_1p_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! assets/rpg/portrait/1p.png */ "./src/assets/rpg/portrait/1p.png");
/* harmony import */ var assets_rpg_portrait_1p_png__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_1p_png__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var assets_rpg_portrait_2p_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/rpg/portrait/2p.png */ "./src/assets/rpg/portrait/2p.png");
/* harmony import */ var assets_rpg_portrait_2p_png__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_2p_png__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var assets_rpg_portrait_3p_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! assets/rpg/portrait/3p.png */ "./src/assets/rpg/portrait/3p.png");
/* harmony import */ var assets_rpg_portrait_3p_png__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_3p_png__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var assets_rpg_portrait_4p_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! assets/rpg/portrait/4p.png */ "./src/assets/rpg/portrait/4p.png");
/* harmony import */ var assets_rpg_portrait_4p_png__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_4p_png__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! assets/rpg/portrait/5p.png */ "./src/assets/rpg/portrait/5p.png");
/* harmony import */ var assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! assets/rpg/portrait/6p.png */ "./src/assets/rpg/portrait/6p.png");
/* harmony import */ var assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! assets/rpg/portrait/7p.png */ "./src/assets/rpg/portrait/7p.png");
/* harmony import */ var assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! assets/rpg/portrait/8p.png */ "./src/assets/rpg/portrait/8p.png");
/* harmony import */ var assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! assets/rpg/portrait/9p.png */ "./src/assets/rpg/portrait/9p.png");
/* harmony import */ var assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! assets/rpg/portrait/10p.png */ "./src/assets/rpg/portrait/10p.png");
/* harmony import */ var assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! assets/rpg/portrait/11p.png */ "./src/assets/rpg/portrait/11p.png");
/* harmony import */ var assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! assets/rpg/portrait/12p.png */ "./src/assets/rpg/portrait/12p.png");
/* harmony import */ var assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! assets/rpg/portrait/13p.png */ "./src/assets/rpg/portrait/13p.png");
/* harmony import */ var assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! assets/rpg/portrait/14p.png */ "./src/assets/rpg/portrait/14p.png");
/* harmony import */ var assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! assets/rpg/textures/empty.png */ "./src/assets/rpg/textures/empty.png");
/* harmony import */ var assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14__);
/* harmony reexport (default from non-harmony) */ __webpack_require__.d(__webpack_exports__, "TextureEmpty", function() { return assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a; });
/* harmony import */ var assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! assets/rpg/textures/4-arch.png */ "./src/assets/rpg/textures/4-arch.png");
/* harmony import */ var assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! assets/rpg/textures/Battered Red Clover.jpg */ "./src/assets/rpg/textures/Battered Red Clover.jpg");
/* harmony import */ var assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! assets/rpg/textures/Granite Wall.jpg */ "./src/assets/rpg/textures/Granite Wall.jpg");
/* harmony import */ var assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! assets/rpg/textures/Segmented Stone Wall.jpg */ "./src/assets/rpg/textures/Segmented Stone Wall.jpg");
/* harmony import */ var assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! assets/rpg/textures/Samaris Metal.jpg */ "./src/assets/rpg/textures/Samaris Metal.jpg");
/* harmony import */ var assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! assets/rpg/textures/Palace Floor.jpg */ "./src/assets/rpg/textures/Palace Floor.jpg");
/* harmony import */ var assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! assets/rpg/textures/Smudged Dirt.jpg */ "./src/assets/rpg/textures/Smudged Dirt.jpg");
/* harmony import */ var assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! assets/rpg/textures/Carved Sandstone.jpg */ "./src/assets/rpg/textures/Carved Sandstone.jpg");
/* harmony import */ var assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! assets/rpg/textures/Asylum Cell Orange.jpg */ "./src/assets/rpg/textures/Asylum Cell Orange.jpg");
/* harmony import */ var assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! assets/rpg/textures/Council Chamber.jpg */ "./src/assets/rpg/textures/Council Chamber.jpg");
/* harmony import */ var assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! assets/rpg/textures/Samaris.jpg */ "./src/assets/rpg/textures/Samaris.jpg");
/* harmony import */ var assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! assets/rpg/textures/Slime Wall.jpg */ "./src/assets/rpg/textures/Slime Wall.jpg");
/* harmony import */ var assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! assets/rpg/textures/Dark Gray Marble.jpg */ "./src/assets/rpg/textures/Dark Gray Marble.jpg");
/* harmony import */ var assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! assets/rpg/textures/Glassy Pink Marble.jpg */ "./src/assets/rpg/textures/Glassy Pink Marble.jpg");
/* harmony import */ var assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! assets/rpg/textures/Smashed Gray Marble.jpg */ "./src/assets/rpg/textures/Smashed Gray Marble.jpg");
/* harmony import */ var assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! assets/rpg/textures/Dead Caves.jpg */ "./src/assets/rpg/textures/Dead Caves.jpg");
/* harmony import */ var assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! assets/rpg/textures/Fen Stone.jpg */ "./src/assets/rpg/textures/Fen Stone.jpg");
/* harmony import */ var assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! assets/rpg/textures/Brown Qussair Granite.jpg */ "./src/assets/rpg/textures/Brown Qussair Granite.jpg");
/* harmony import */ var assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! assets/rpg/textures/Rough Orthoclase.jpg */ "./src/assets/rpg/textures/Rough Orthoclase.jpg");
/* harmony import */ var assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! assets/rpg/textures/Midnight Stone.jpg */ "./src/assets/rpg/textures/Midnight Stone.jpg");
/* harmony import */ var assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! assets/rpg/textures/Weedy Lawn.jpg */ "./src/assets/rpg/textures/Weedy Lawn.jpg");
/* harmony import */ var assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! assets/rpg/textures/Moss Cushions.jpg */ "./src/assets/rpg/textures/Moss Cushions.jpg");
/* harmony import */ var assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36__);
/* harmony import */ var assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! assets/rpg/textures/Forest Floor.jpg */ "./src/assets/rpg/textures/Forest Floor.jpg");
/* harmony import */ var assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37__);
/* harmony import */ var assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! assets/rpg/textures/Weeds and Gravel.jpg */ "./src/assets/rpg/textures/Weeds and Gravel.jpg");
/* harmony import */ var assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38__);
/* harmony import */ var assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! assets/rpg/textures/Mossy Rock.jpg */ "./src/assets/rpg/textures/Mossy Rock.jpg");
/* harmony import */ var assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Door (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45__);
/* harmony import */ var assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! assets/rpg/textures/Sandy Lichen Brick.jpg */ "./src/assets/rpg/textures/Sandy Lichen Brick.jpg");
/* harmony import */ var assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46__);
/* harmony import */ var assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! assets/rpg/textures/Straw Roof.jpg */ "./src/assets/rpg/textures/Straw Roof.jpg");
/* harmony import */ var assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47__);
/* harmony import */ var assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! assets/rpg/textures/Straw Roof Interior.jpg */ "./src/assets/rpg/textures/Straw Roof Interior.jpg");
/* harmony import */ var assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_east.png */ "./src/assets/rpg/skybox/clouds1/clouds1_east.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_west.png */ "./src/assets/rpg/skybox/clouds1/clouds1_west.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_up.png */ "./src/assets/rpg/skybox/clouds1/clouds1_up.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_down.png */ "./src/assets/rpg/skybox/clouds1/clouds1_down.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_north.png */ "./src/assets/rpg/skybox/clouds1/clouds1_north.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_south.png */ "./src/assets/rpg/skybox/clouds1/clouds1_south.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54__);
/* harmony import */ var assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! assets/rpg/npcs/ukobach-test.png */ "./src/assets/rpg/npcs/ukobach-test.png");
/* harmony import */ var assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55__);
/* harmony import */ var assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! assets/rpg/npcs/buer-test.png */ "./src/assets/rpg/npcs/buer-test.png");
/* harmony import */ var assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56__);
/* harmony import */ var assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! assets/rpg/npcs/skull-crossbones.png */ "./src/assets/rpg/npcs/skull-crossbones.png");
/* harmony import */ var assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57__);
/* harmony import */ var assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! assets/rpg/npcs/fancy-dress-12.png */ "./src/assets/rpg/npcs/fancy-dress-12.png");
/* harmony import */ var assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58__);
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! assets/rpg/textures/Antediluvian Door.png */ "./src/assets/rpg/textures/Antediluvian Door.png");
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59__);
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! assets/rpg/textures/Antediluvian Door-alphamap.png */ "./src/assets/rpg/textures/Antediluvian Door-alphamap.png");
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60__);
/* harmony import */ var assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! assets/rpg/levels/large-house.json */ "./src/assets/rpg/levels/large-house.json");
var assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61___namespace = /*#__PURE__*/__webpack_require__.t(/*! assets/rpg/levels/large-house.json */ "./src/assets/rpg/levels/large-house.json", 1);
/* harmony import */ var assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! assets/rpg/levels/open-country.json */ "./src/assets/rpg/levels/open-country.json");
var assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62___namespace = /*#__PURE__*/__webpack_require__.t(/*! assets/rpg/levels/open-country.json */ "./src/assets/rpg/levels/open-country.json", 1);
/* harmony import */ var assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! assets/rpg/spells/beautiful-bird.jpg */ "./src/assets/rpg/spells/beautiful-bird.jpg");
/* harmony import */ var assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63__);
/* harmony import */ var assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! assets/rpg/ui/hourglass.png */ "./src/assets/rpg/ui/hourglass.png");
/* harmony import */ var assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64__);
/* harmony import */ var assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! assets/rpg/ui/charsheet-icon.png */ "./src/assets/rpg/ui/charsheet-icon.png");
/* harmony import */ var assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65__);
/* harmony import */ var assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! assets/rpg/ui/earth-spell-tab.png */ "./src/assets/rpg/ui/earth-spell-tab.png");
/* harmony import */ var assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66__);
/* harmony import */ var assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! assets/rpg/ui/air-spell-tab.png */ "./src/assets/rpg/ui/air-spell-tab.png");
/* harmony import */ var assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67__);
/* harmony import */ var assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! assets/rpg/ui/fire-spell-tab.png */ "./src/assets/rpg/ui/fire-spell-tab.png");
/* harmony import */ var assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68__);
/* harmony import */ var assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! assets/rpg/ui/water-spell-tab.png */ "./src/assets/rpg/ui/water-spell-tab.png");
/* harmony import */ var assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69__);
/* harmony import */ var assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! assets/rpg/ui/quick-items-tab.png */ "./src/assets/rpg/ui/quick-items-tab.png");
/* harmony import */ var assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70__);








































































let gameData = {
    skyboxes: [{ xPos: assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49___default.a, xNeg: assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50___default.a, yPos: assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51___default.a, yNeg: assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52___default.a, zPos: assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53___default.a, zNeg: assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54___default.a }],
    portraits: [{ filename: assets_rpg_portrait_1p_png__WEBPACK_IMPORTED_MODULE_0___default.a },
        { filename: assets_rpg_portrait_2p_png__WEBPACK_IMPORTED_MODULE_1___default.a },
        { filename: assets_rpg_portrait_3p_png__WEBPACK_IMPORTED_MODULE_2___default.a },
        { filename: assets_rpg_portrait_4p_png__WEBPACK_IMPORTED_MODULE_3___default.a },
        { filename: assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4___default.a },
        { filename: assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5___default.a },
        { filename: assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6___default.a },
        { filename: assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7___default.a },
        { filename: assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8___default.a },
        { filename: assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9___default.a },
        { filename: assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10___default.a },
        { filename: assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11___default.a },
        { filename: assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12___default.a },
        { filename: assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13___default.a }],
    walls: [{ filename: assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a, passable: true, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15___default.a, passable: true, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] }],
    doors: [{ filename: assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59___default.a, alphaMap: assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60___default.a, normalMap: "" }],
    objects: [{ name: "Chest", filename: "assets/rpg/Basic RPG Item Free/Metal Case_01.png" },
        { name: "Lever", filename: "rpg/object/3.png" },
        { name: "Button", filename: "rpg/object/4.png" }],
    npcs: [{
            name: "Ukobach",
            filename: assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.5,
            hp: "3d8+3",
            loot: "3d4",
            hostile: true,
            actions: [{ name: "Sword", type: "attack", range: 1, damage: "2d6", toHit: "3", recovery: "2" },
                { name: "Bow", type: "attack", range: 6, damage: "1d4", toHit: "3", recovery: "10" }]
        },
        {
            name: "Buer",
            filename: assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.8,
            hp: "6d8+6",
            loot: "6d8",
            hostile: true,
            actions: [{ name: "Bite", type: "attack", range: 1, damage: "2d8", toHit: "4", recovery: "3" }]
        },
        {
            name: "Fancy Dress 12",
            filename: assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.6,
            hp: "2d6",
            loot: "3d4",
            hostile: false,
            actions: []
        }],
    equipment: [{ type: "weapon", name: "Sword", damage: "2d6", toHit: 4, range: 1 },
        { type: "weapon", name: "Bow", damage: "1d8", toHit: 4, range: 6 }],
    ui: { hourglassIcon: assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64___default.a, charSheetIcon: assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65___default.a, quickItemTabIcon: assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70___default.a },
    levels: [{
            name: "Dungeon", width: 2, height: 1, depth: 2,
            walls: [0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0],
            doors: [],
            objects: [],
            npcs: [],
            startingPosition: [0, 0, 0],
            startingFacing: 1,
            outside: false,
            skybox: 0
        },
        {
            name: "Open Country", width: 10, height: 2, depth: 8,
            walls: assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62__,
            doors: [{ type: 0, position: [6, 0, 5, 0], target: [2, 3, 1, 4, 0], openAngle: undefined }],
            objects: [],
            npcs: [],
            startingPosition: [6, 0, 7],
            startingFacing: 0,
            outside: true,
            skybox: 0
        },
        {
            name: "House of Vahs", width: 7, depth: 5, height: 3,
            walls: assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61__,
            doors: [{ type: 0, position: [2, 1, 3, 0], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [3, 1, 4, 1], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [3, 1, 4, 2], target: [1, 6, 0, 5, 4], openAngle: undefined },
                { type: 0, position: [4, 1, 2, 1], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [4, 1, 2, 3], target: undefined, openAngle: Math.PI / 2 }],
            objects: [],
            npcs: [],
            startingPosition: [3, 1, 4],
            startingFacing: 0,
            outside: false,
            skybox: undefined
        }],
    party: {
        characters: [{
                name: "Torwyn", title: "Squire", portrait: 10, equipment: [0, 1], level: 1, xp: 0, hp: 24, maxHP: 24, mana: 0, maxMana: 0,
                spellLists: []
            },
            {
                name: "Amelar", title: "Acolyte", portrait: 1, equipment: [], level: 1, xp: 0, hp: 14, maxHP: 14, mana: 8, maxMana: 8,
                spellLists: [{ list: 2, spells: [0] }]
            },
            {
                name: "Garn", title: "Pickpocket", portrait: 5, equipment: [], level: 1, xp: 0, hp: 12, maxHP: 12, mana: 0, maxMana: 0,
                spellLists: []
            },
            {
                name: "Melystra", title: "Apprentice", portrait: 3, equipment: [], level: 1, xp: 0, hp: 8, maxHP: 8, mana: 12, maxMana: 12,
                spellLists: [{ list: 0, spells: [0] },
                    { list: 1, spells: [0, 1] },
                    { list: 2, spells: [0, 1] },
                    { list: 3, spells: [] }]
            }
        ],
        gold: 0
    },
    player: { position: undefined, facing: 0, level: 1 },
    spellLists: [{ name: "Earth", spells: [{ name: "Level Editing", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }], icon: assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66___default.a },
        { name: "Air", spells: [{ name: "Minimap", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }, { name: "Fly", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }], icon: assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67___default.a },
        { name: "Fire", icon: assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68___default.a, spells: [{ name: "Fire Bolt", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }, { name: "Torch Light", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }] },
        { name: "Water", spells: [], icon: assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69___default.a }]
};

class GameData {
}
class SkyboxData {
}
class PortraitData {
}
class WallData {
}
class WallDetailsData {
}
class WorldObjectData {
}
class NPCData {
}
class ActionData {
}
class LevelData {
}
class PartyData {
}
class CharacterData {
}
class PlayerData {
}
class UIData {
}
;
class ItemData {
}
class WeaponItemData extends ItemData {
}
class SpellListData {
}
class DoorData {
}
class LevelDoorData {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/ActorModel.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/ActorModel.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActorModel; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class ActorModel {
    constructor() {
        this.onTakeDamage = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    rollInitiative() {
        return Math.round(Math.random() * 5);
    }
    takeDamage(damage) {
        this.hitpoints.value -= damage;
        this.checkHealthState();
        this.onTakeDamage.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/CharacterModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/CharacterModel.ts ***!
  \********************************************************************/
/*! exports provided: HealthState, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HealthState", function() { return HealthState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CharacterModel; });
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var _EquipmentModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EquipmentModel */ "./src/examples/classic-rpg-interface/model/EquipmentModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _action_LootActionModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action/LootActionModel */ "./src/examples/classic-rpg-interface/model/action/LootActionModel.ts");
/* harmony import */ var _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./action/AttackActionModel */ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var _SpellList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SpellList */ "./src/examples/classic-rpg-interface/model/SpellList.ts");
/* harmony import */ var _action_OpenDoorActionModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./action/OpenDoorActionModel */ "./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts");








var HealthState;
(function (HealthState) {
    HealthState[HealthState["Normal"] = 0] = "Normal";
    HealthState[HealthState["Unconsious"] = 1] = "Unconsious";
    HealthState[HealthState["Dead"] = 2] = "Dead";
})(HealthState || (HealthState = {}));
class CharacterModel extends _ActorModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameData, data) {
        super();
        this.unlockedActions = [];
        this.statuses = [];
        this.spellLists = [];
        this.characterData = data;
        this.portraitType = gameData.portraits[data.portrait];
    }
    get fullName() { return this.characterData.name + " the " + this.characterData.title; }
    save(gameData, characterData) {
        characterData.hp = this.hitpoints.value;
        characterData.mana = this.mana;
        characterData.maxHP = this.maxHitpoints.value;
        characterData.maxMana = this.maxMana;
        characterData.level = this.level;
        characterData.xp = this.xp;
        characterData.portrait = gameData.portraits.indexOf(this.portraitType);
    }
    get statusText() {
        if (this.healthState.value === HealthState.Normal)
            return "Good";
        if (this.healthState.value === HealthState.Unconsious)
            return "Unconsious";
        if (this.healthState.value === HealthState.Dead)
            return "Dead";
    }
    getPosition() { return this.gameModel.player.position; }
    create(gameModel) {
        this.equipmentModel = new _EquipmentModel__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this.maxHitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.characterData.maxHP);
        this.hitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.characterData.hp);
        this.gameModel = gameModel;
        this.healthState = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](HealthState.Normal);
        this.checkHealthState(false);
        this.mana = this.characterData.mana;
        this.maxMana = this.characterData.maxMana;
        this.level = this.characterData.level;
        this.xp = this.characterData.xp;
        this.characterData.spellLists.forEach(l => {
            let spells = [];
            l.spells.forEach(s => {
                let spellData = this.gameModel.data.spellLists[l.list].spells[s];
                spells.push(_SpellList__WEBPACK_IMPORTED_MODULE_6__["default"].getSpell(spellData.name, spellData.icon, this.gameModel));
            });
            let sl = new _SpellList__WEBPACK_IMPORTED_MODULE_6__["default"](this.gameModel.data.spellLists[l.list].name, spells, this.gameModel.data.spellLists[l.list].icon);
            this.spellLists.push(sl);
        });
        this.equipmentModel.create(this.characterData.equipment, gameModel);
        if (this.equipmentModel.equipedWeapon) {
            let weapon = this.equipmentModel.equipedWeapon.itemData;
            this.unlockedActions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__["default"](this.gameModel, this.equipmentModel.equipedWeapon.name, weapon.damage, weapon.range));
        }
        else
            this.unlockedActions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__["default"](this.gameModel, "Unarmed", "1d4", 1));
        this.unlockedActions.push(new _action_LootActionModel__WEBPACK_IMPORTED_MODULE_3__["default"](this.gameModel));
        this.unlockedActions.push(new _action_OpenDoorActionModel__WEBPACK_IMPORTED_MODULE_7__["default"](this.gameModel));
        this.hitpoints.onUpdate.push(this.checkHealthState.bind(this), this);
    }
    checkHealthState(updateParty) {
        if (this.hitpoints.value <= 0)
            this.healthState.value = HealthState.Unconsious;
        if (this.hitpoints.value <= -this.maxHitpoints.value) {
            this.healthState.value = HealthState.Dead;
            this.statuses.push(new _Status__WEBPACK_IMPORTED_MODULE_5__["default"](_Status__WEBPACK_IMPORTED_MODULE_5__["StatusType"].Dead));
        }
        if (updateParty || updateParty === undefined)
            this.gameModel.party.checkHealthState();
    }
    availableActions(target) {
        return this.unlockedActions.filter(a => a.test(this, target));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/EquipmentModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/EquipmentModel.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EquipmentModel; });
/* harmony import */ var _ItemModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ItemModel */ "./src/examples/classic-rpg-interface/model/ItemModel.ts");

class EquipmentModel {
    constructor() {
        this.equipment = [];
    }
    create(equipmentIDs, gameModel) {
        this.gameModel = gameModel;
        equipmentIDs.forEach(id => {
            this.equipment.push(new _ItemModel__WEBPACK_IMPORTED_MODULE_0__["default"](gameModel.data.equipment[id]));
        });
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/GameModel.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/GameModel.ts ***!
  \***************************************************************/
/*! exports provided: default, GameModelListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameModelListener", function() { return GameModelListener; });
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _PlayerModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var _action_InitiativeModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action/InitiativeModel */ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");





class GameModel {
    constructor(listener, party, world, player, data) {
        this.spellLists = [];
        this.infoText = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"]("");
        this._currentPaintID = 0;
        this.listener = listener;
        this.data = data;
        this.party = party;
        this.world = world;
        this.player = player;
        this.initiative = new _action_InitiativeModel__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get currentPaintID() { return this._currentPaintID; }
    set currentPaintID(val) {
        this._currentPaintID = val % this.data.walls.length;
        if (this._currentPaintID < 0)
            this._currentPaintID = this.data.walls.length + this.currentPaintID;
    }
    create() {
        this.party.create(this.data, this);
        this.world.create(this);
        this.player.create(this, this.data);
        this.initiative.create(this, this.party, this.world.currentLevel.value, this.data);
    }
    save() {
        this.world.save(this.data);
        this.party.save(this.data);
        this.player.save(this.data);
        console.log(JSON.stringify(this.data.levels[this.world.currentLevelID].walls));
    }
    turnLeft() {
        if (this.initiative.playerCanTurn)
            this.player.turnLeft();
    }
    rotateLeft(angle) {
        if (this.initiative.playerCanTurn)
            this.player.rotateLeft(angle);
    }
    rotateRight(angle) {
        if (this.initiative.playerCanTurn)
            this.player.rotateRight(angle);
    }
    jump() {
        console.log("jump");
    }
    crouch() {
        console.log("crouch");
    }
    slideRight(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideRight(distance);
    }
    slideLeft(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideRight(-distance);
    }
    slideUpward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideUpward(distance);
    }
    slideDownward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideUpward(-distance);
    }
    slideForward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideForward(distance);
    }
    slideBackward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideForward(-distance);
    }
    turnRight() {
        if (this.initiative.playerCanTurn)
            this.player.turnRight();
    }
    resetRotation() {
        this.listener.onTurn.call();
    }
    resetPosition() {
        this.listener.onMove.call();
    }
    strafeLeft() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.strafeLeft();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    strafeRight() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.strafeRight();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    moveForward() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.moveForward();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    moveBackward() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.moveBackward();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    hoverUp() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.hoverUp();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    hoverDown() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.hoverDown();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    castSpell(spell, target) {
        let source = this.initiative.waitingCharacter.value;
        if (spell.test(source, target)) {
            let result = this.performAction(target, spell);
            if (result) {
                result.apply();
            }
        }
    }
    switchLevel(level, position, facing) {
        this.listener.onExitLevel.call();
        this.world.currentLevel.value = level;
        if (position)
            this.player.position = position;
        else
            this.player.position = level.startingPosition;
        if (facing)
            this.player.facing = facing;
        else
            this.player.facing = level.startingFacing;
        this.player.updateRotationToMatchFacing();
        this.listener.onSwitchLevel.call();
    }
    openDoor(door) {
        if (door.targetLevel !== undefined)
            this.switchLevel(this.world.levels[door.targetLevel], door.targetPosition, door.targetFacing);
        else
            door.changeOpenState();
    }
    toggleWallAbove() {
        this.toggleWall(5);
    }
    toggleWallBelow() {
        this.toggleWall(4);
    }
    toggleWallFront() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(3);
    }
    toggleWallBehind() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(1);
    }
    toggleWallLeft() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(2);
    }
    toggleWallRight() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(0);
    }
    toggleWall(id) {
        if (id === 0)
            this._toggleWall2(0, 2, 0, 0, -1);
        else if (id === 1)
            this._toggleWall2(1, 3, 1, 0, 0);
        else if (id === 2)
            this._toggleWall2(2, 0, 0, 0, 1);
        else if (id === 3)
            this._toggleWall2(3, 1, -1, 0, 0);
        else if (id === 4)
            this._toggleWall2(4, 5, 0, -1, 0);
        else if (id === 5)
            this._toggleWall2(5, 4, 0, 1, 0);
    }
    _toggleWall2(id, idCell2, x, y, z) {
        let currentCell = this.world.currentLevel.value.cells[this.player.position.x][this.player.position.y][this.player.position.z];
        currentCell.walls[id].hidden.value = !currentCell.walls[id].hidden.value;
        if ((this.player.position.x + x >= 0) && (this.player.position.x + x < this.world.currentLevel.value.width))
            if ((this.player.position.y + y >= 0) && (this.player.position.y + y < this.world.currentLevel.value.height))
                if ((this.player.position.z + z >= 0) && (this.player.position.z + z < this.world.currentLevel.value.depth)) {
                    let cell2 = this.world.currentLevel.value.cells[this.player.position.x + x][this.player.position.y + y][this.player.position.z + z];
                    cell2.walls[idCell2].hidden.value = currentCell.walls[id].hidden.value;
                }
        this.listener.onWorldChange.call();
    }
    paintWall(wallModel) {
        wallModel.wallData.value = this.data.walls[this.currentPaintID];
    }
    switchCharacter(character) {
        if (this.initiative.playerCanAct)
            this.initiative.switchCharacter(character);
    }
    performAction(target, action) {
        if (this.initiative.playerCanAct) {
            let source = this.initiative.waitingCharacter.value;
            let result = action.perform(source, target);
            this.initiative.performedAction(source, result);
            return result;
        }
        return null;
    }
    npcPerformAction(source, target, action) {
        if (this.initiative.npcsToAct.value.indexOf(source) !== -1) {
            let result = action.perform(source, target);
            this.initiative.performedAction(source, result);
            return result;
        }
        return null;
    }
    npcDelay(npc, time) {
        if (!npc)
            throw new Error("Cannot delay null NPC");
        this.initiative.npcDelay(npc, time);
    }
    applyActionResult(actionResult) {
        actionResult.apply();
    }
    travelTo(level) {
        this.world.switchToLevel(level);
        this.player.position = level.startingPosition;
        this.player.facing = level.startingFacing;
        this.initiative.create(this, this.party, this.world.currentLevel.value, this.data);
    }
    static rollDice(diceSpec) {
        let parts = diceSpec.split("+");
        let sum = 0;
        parts.forEach(p => {
            sum += GameModel.rollSimpleDice(p);
        });
        return sum;
    }
    static rollSimpleDice(simpleDiceSpec) {
        let parts = simpleDiceSpec.split("d");
        if (parts.length === 1)
            return parseInt(parts[0]);
        let total = 0;
        for (let i = 0; i < parseInt(parts[0]); i++)
            total += Math.round(Math.random() * (parseInt(parts[1]) - 1)) + 1;
        return total;
    }
    isWithinMelee(source, target) {
        let distance = engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__["default"].minus(target, source).magnitude;
        if (distance <= 1)
            return true;
        return false;
    }
}
class GameModelListener {
    constructor() {
        this.onMove = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onTurn = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onWorldChange = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onShowMiniMapChange = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onExitLevel = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onSwitchLevel = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/ItemModel.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/ItemModel.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ItemModel; });
class ItemModel {
    get name() { return this.itemData.name; }
    get type() { return this.itemData.type; }
    constructor(itemData) {
        this.itemData = itemData;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/PartyModel.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/PartyModel.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PartyModel; });
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class PartyModel {
    create(data, gameModel) {
        this.gameModel = gameModel;
        this.characters = [];
        data.party.characters.forEach(c => this.characters.push(new _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"](data, c)));
        this.characters.forEach(c => c.create(gameModel));
        this.gold = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](data.party.gold);
        this.statuses = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"]([]);
    }
    save(data) {
        data.party.gold = this.gold.value;
        let characters = [];
        this.characters.forEach(c => {
            c.save(data, c.characterData);
            characters.push(c.characterData);
        });
        data.party.characters = characters;
    }
    addStatus(status) {
        let newStatuses = this.gameModel.party.statuses.value.filter(s => s.statusType !== status.statusType);
        newStatuses.push(status);
        this.gameModel.party.statuses.value = newStatuses;
    }
    gainGold(increment) {
        this.gold.value += increment;
        this.gameModel.infoText.value = "You gained " + increment + " gp";
    }
    checkHealthState() {
        let livingChars = this.characters.filter(c => c.healthState.value === _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["HealthState"].Normal);
        if (livingChars.length === 0) {
            this.partyDead = true;
            this.gameModel.player.gameOver = true;
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/PlayerModel.ts":
/*!*****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/PlayerModel.ts ***!
  \*****************************************************************/
/*! exports provided: Facing, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Facing", function() { return Facing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PlayerModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");



var Facing;
(function (Facing) {
    Facing[Facing["North"] = 0] = "North";
    Facing[Facing["NorthEast"] = 1] = "NorthEast";
    Facing[Facing["East"] = 2] = "East";
    Facing[Facing["SouthEast"] = 3] = "SouthEast";
    Facing[Facing["South"] = 4] = "South";
    Facing[Facing["SouthWest"] = 5] = "SouthWest";
    Facing[Facing["West"] = 6] = "West";
    Facing[Facing["NorthWest"] = 7] = "NorthWest";
})(Facing || (Facing = {}));
class PlayerModel {
    constructor() {
        this.yOffset = 0;
        this.animating = false;
        this._gameOver = false;
        this.canMove = true;
        this.canTurn = true;
        this._showTorchLight = false;
        this._showMiniMap = false;
        this.onUpdate = new engine_util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get rotation() { return this._rotation; }
    set rotation(val) { this._rotation = val; this.onUpdate.call(); }
    get finePosition() { return this._finePosition; }
    set finePosition(val) { this._finePosition = val; this.onUpdate.call(); }
    get showTorchLight() { return this._showTorchLight; }
    set showTorchLight(val) { this._showTorchLight = val; this.onUpdate.call(); }
    get showMiniMap() { return this._showMiniMap; }
    set showMiniMap(val) { this._showMiniMap = val; this.onUpdate.call(); }
    get gridPositionWithOffset() {
        let ppos = this.position;
        let pos = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](ppos.x, ppos.y + this.yOffset, ppos.z);
        return pos;
    }
    get gameOver() { return this._gameOver; }
    set gameOver(val) { this._gameOver = val; this.onUpdate.call(); }
    get canFly() {
        if (this.gameModel.party.statuses.value.filter(s => s.statusType === _Status__WEBPACK_IMPORTED_MODULE_1__["StatusType"].Flying).length >= 1)
            return true;
        return false;
    }
    get canLevelEdit() {
        if (this.gameModel.party.statuses.value.filter(s => s.statusType === _Status__WEBPACK_IMPORTED_MODULE_1__["StatusType"].LevelEdit).length >= 1)
            return true;
        return false;
    }
    get canAct() { return !(this.animating); }
    create(gameModel, data) {
        this.gameModel = gameModel;
        this.facing = data.player.facing;
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, 0);
        if (data.player.position)
            this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](data.player.position[0], data.player.position[1], data.player.position[2]);
        else
            this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](gameModel.world.currentLevel.value.startingPosition);
    }
    save(data) {
        data.player.position = [this.position.x, this.position.y, this.position.z];
        data.player.facing = this.facing;
        data.player.level = this.gameModel.world.levels.indexOf(this.gameModel.world.currentLevel.value);
    }
    updateRotationToMatchFacing() {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, this.facing * Math.PI / 4, 0);
        this.onUpdate.call();
    }
    turnRight() {
        if (this.facing === Facing.North)
            this.facing = Facing.NorthEast;
        else if (this.facing === Facing.NorthEast)
            this.facing = Facing.East;
        else if (this.facing === Facing.East)
            this.facing = Facing.SouthEast;
        else if (this.facing === Facing.SouthEast)
            this.facing = Facing.South;
        else if (this.facing === Facing.South)
            this.facing = Facing.SouthWest;
        else if (this.facing === Facing.SouthWest)
            this.facing = Facing.West;
        else if (this.facing === Facing.West)
            this.facing = Facing.NorthWest;
        else if (this.facing === Facing.NorthWest)
            this.facing = Facing.North;
        this.gameModel.listener.onTurn.call();
    }
    turnLeft() {
        if (this.facing === Facing.North)
            this.facing = Facing.NorthWest;
        else if (this.facing === Facing.NorthEast)
            this.facing = Facing.North;
        else if (this.facing === Facing.East)
            this.facing = Facing.NorthEast;
        else if (this.facing === Facing.SouthEast)
            this.facing = Facing.East;
        else if (this.facing === Facing.South)
            this.facing = Facing.SouthEast;
        else if (this.facing === Facing.SouthWest)
            this.facing = Facing.South;
        else if (this.facing === Facing.West)
            this.facing = Facing.SouthWest;
        else if (this.facing === Facing.NorthWest)
            this.facing = Facing.West;
        this.gameModel.listener.onTurn.call();
    }
    rotateLeft(angle) {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.rotation.x, (this.rotation.y + angle) % (Math.PI * 2), this.rotation.z);
        let y = Math.round(7 - (this.rotation.y / (Math.PI / 4)));
        this.facing = (y + 1) % 8;
        this.onUpdate.call();
    }
    canMoveInFacing(facing) {
        if (facing === Facing.North)
            return this.canMoveNorth();
        if (facing === Facing.NorthEast)
            return this.canMoveNorthEast();
        if (facing === Facing.East)
            return this.canMoveEast();
        if (facing === Facing.SouthEast)
            return this.canMoveSouthEast();
        if (facing === Facing.South)
            return this.canMoveSouth();
        if (facing === Facing.SouthWest)
            return this.canMoveSouthWest();
        if (facing === Facing.West)
            return this.canMoveWest();
        if (facing === Facing.NorthWest)
            return this.canMoveNorthWest();
    }
    oppositeFacing(facing) {
        if (facing === Facing.North)
            return Facing.South;
        if (facing === Facing.NorthEast)
            return Facing.SouthWest;
        if (facing === Facing.East)
            return Facing.West;
        if (facing === Facing.SouthEast)
            return Facing.NorthWest;
        if (facing === Facing.South)
            return Facing.North;
        if (facing === Facing.SouthWest)
            return Facing.NorthEast;
        if (facing === Facing.West)
            return Facing.East;
        if (facing === Facing.NorthWest)
            return Facing.SouthEast;
    }
    facingToUnitVector(facing) {
        if (facing === Facing.North)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, -1);
        if (facing === Facing.NorthEast)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, -1);
        if (facing === Facing.East)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, 0);
        if (facing === Facing.SouthEast)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, 1);
        if (facing === Facing.South)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, 1);
        if (facing === Facing.SouthWest)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, 1);
        if (facing === Facing.West)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, 0);
        if (facing === Facing.NorthWest)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, -1);
    }
    slideUpward(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        if ((distance > 0 && this.canMoveUpward()) || (distance < 0 && this.canMoveDownward()))
            this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y + distance, this.finePosition.z);
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    slideRight(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        let facing = (this.facing + 2) % 8;
        if ((distance > 0 && this.canMoveInFacing(facing)) || (distance < 0 && this.canMoveInFacing(this.oppositeFacing(facing))))
            this.finePosition = this.facingToUnitVector(facing).normalised.multiply(distance).plus(this.finePosition);
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    slideForward(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        let diagonalComponent = Math.sqrt((distance * distance) / 2) * polarity;
        if ((distance > 0 && this.canMoveInFacing(this.facing)) || (distance < 0 && this.canMoveInFacing(this.oppositeFacing(this.facing))))
            this.finePosition = this.facingToUnitVector(this.facing).normalised.multiply(distance).plus(this.finePosition);
        else {
            if (this.facing === Facing.NorthEast) {
                if ((distance > 0 && this.canMoveNorth() && !this.canMoveEast()) || (distance < 0 && this.canMoveSouth() && !this.canMoveWest()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z - distance);
                else if ((distance > 0 && this.canMoveEast() && !this.canMoveNorth()) || (distance < 0 && this.canMoveWest() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x + distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.SouthEast) {
                if ((distance > 0 && this.canMoveSouth() && !this.canMoveEast()) || (distance < 0 && this.canMoveNorth() && !this.canMoveWest()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z + distance);
                else if ((distance > 0 && this.canMoveEast() && !this.canMoveSouth()) || (distance < 0 && this.canMoveWest() && !this.canMoveNorth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x + distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.SouthWest) {
                if ((distance > 0 && this.canMoveSouth() && !this.canMoveWest()) || (distance < 0 && this.canMoveNorth() && !this.canMoveEast()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z + distance);
                else if ((distance > 0 && this.canMoveWest() && !this.canMoveSouth()) || (distance < 0 && this.canMoveEast() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x - distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.NorthWest) {
                if ((distance > 0 && this.canMoveNorth() && !this.canMoveWest()) || (distance < 0 && this.canMoveSouth() && !this.canMoveEast()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z - distance);
                else if ((distance > 0 && this.canMoveWest() && !this.canMoveNorth()) || (distance < 0 && this.canMoveEast() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x - distance, this.finePosition.y, this.finePosition.z);
            }
        }
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    _checkForGridPositionChange() {
        let rx = Math.round(this.finePosition.x);
        let ry = Math.round(this.finePosition.y);
        let rz = Math.round(this.finePosition.z);
        if (rx === this.position.x - 1)
            this.moveWest();
        if (rx == this.position.x + 1)
            this.moveEast();
        if (rz === this.position.z + 1)
            this.moveSouth();
        if (rz === this.position.z - 1)
            this.moveNorth();
    }
    rotateRight(angle) {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.rotation.x, (this.rotation.y - angle) % (Math.PI * 2), this.rotation.z);
        let y = Math.round(7 - (this.rotation.y / (Math.PI / 4)));
        this.facing = (y + 1) % 8;
        this.onUpdate.call();
    }
    moveForward() {
        if (this.facing === Facing.North)
            this.moveNorth();
        if (this.facing === Facing.NorthEast)
            this.moveNorthEast();
        if (this.facing === Facing.East)
            this.moveEast();
        if (this.facing === Facing.SouthEast)
            this.moveSouthEast();
        if (this.facing === Facing.South)
            this.moveSouth();
        if (this.facing === Facing.SouthWest)
            this.moveSouthWest();
        if (this.facing === Facing.West)
            this.moveWest();
        if (this.facing === Facing.NorthWest)
            this.moveNorthWest();
    }
    moveBackward() {
        if (this.facing === Facing.North)
            this.moveSouth();
        if (this.facing === Facing.NorthEast)
            this.moveSouthWest();
        if (this.facing === Facing.East)
            this.moveWest();
        if (this.facing === Facing.SouthEast)
            this.moveNorthWest();
        if (this.facing === Facing.South)
            this.moveNorth();
        if (this.facing === Facing.SouthWest)
            this.moveNorthEast();
        if (this.facing === Facing.West)
            this.moveEast();
        if (this.facing === Facing.NorthWest)
            this.moveSouthEast();
    }
    strafeLeft() {
        if (this.facing === Facing.North)
            this.moveWest();
        if (this.facing === Facing.NorthEast)
            this.moveNorthWest();
        if (this.facing === Facing.East)
            this.moveNorth();
        if (this.facing === Facing.SouthEast)
            this.moveNorthEast();
        if (this.facing === Facing.South)
            this.moveEast();
        if (this.facing === Facing.SouthWest)
            this.moveSouthEast();
        if (this.facing === Facing.West)
            this.moveSouth();
        if (this.facing === Facing.NorthWest)
            this.moveSouthWest();
    }
    strafeRight() {
        if (this.facing === Facing.North)
            this.moveEast();
        if (this.facing === Facing.NorthEast)
            this.moveSouthEast();
        if (this.facing === Facing.East)
            this.moveSouth();
        if (this.facing === Facing.SouthEast)
            this.moveSouthWest();
        if (this.facing === Facing.South)
            this.moveWest();
        if (this.facing === Facing.SouthWest)
            this.moveNorthWest();
        if (this.facing === Facing.West)
            this.moveNorth();
        if (this.facing === Facing.NorthWest)
            this.moveNorthEast();
    }
    hoverUp() {
        if (this.position.y < this.gameModel.world.currentLevel.value.levelType.height - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y + 1][this.position.z];
            if (cell.walls[5].passable)
                this.move(0, 1, 0);
        }
    }
    hoverDown() {
        if (this.position.y > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y - 1][this.position.z];
            if (cell.walls[4].passable)
                this.move(0, -1, 0);
        }
    }
    moveNorth() {
        if (this.canMoveNorth()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(0, cell.exitOffsetN, -1);
        }
    }
    canMoveUpward() {
        let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
        if (cell.ceilingWall.passable)
            return true;
        return false;
    }
    canMoveDownward() {
        if (this.position.y > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if (cell.floorWall.passable)
                return true;
        }
        return false;
    }
    canMoveNorth() {
        if (this.position.z > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.walls[0].passable) || (cell.exitOffsetN !== 0))
                return true;
        }
        return false;
    }
    moveNorthEast() {
        if (this.canMoveNorthEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, -1);
        }
        else {
            let n = this.canMoveNorth();
            let e = this.canMoveEast();
            if (n && !e)
                this.moveNorth();
            if (e && !n)
                this.moveEast();
        }
    }
    canMoveNorthEast() {
        if (this.canMoveNorth() && this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetN === cell.exitOffsetE) && (this.eastCell().northWall.passable) && (this.northCell().eastWall.passable))
                return true;
        }
        return false;
    }
    moveEast() {
        if (this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, 0);
        }
    }
    canMoveEast() {
        if (this.position.x < this.gameModel.world.currentLevel.value.levelType.width - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if (cell.walls[1].passable || cell.exitOffsetE !== 0)
                return true;
        }
        return false;
    }
    northCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z - 1];
    }
    northEastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z - 1];
    }
    eastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z];
    }
    southEastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z + 1];
    }
    southCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z + 1];
    }
    southWestCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z + 1];
    }
    westCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z];
    }
    northWestCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z - 1];
    }
    moveSouthEast() {
        if (this.canMoveSouthEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, 1);
        }
        else {
            let s = this.canMoveSouth();
            let e = this.canMoveEast();
            if (s && !e)
                this.moveSouth();
            if (e && !s)
                this.moveEast();
        }
    }
    canMoveSouthEast() {
        if (this.canMoveSouth() && this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetS === cell.exitOffsetE) && (this.southCell().eastWall.passable) && (this.eastCell().southWall.passable))
                return true;
        }
        return false;
    }
    moveSouth() {
        if (this.canMoveSouth()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(0, cell.exitOffsetS, 1);
        }
    }
    canMoveSouth() {
        if (this.position.z < this.gameModel.world.currentLevel.value.levelType.depth - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z + 1];
            if (cell.walls[2].passable || cell.exitOffsetS !== 0)
                return true;
        }
        return false;
    }
    moveSouthWest() {
        if (this.canMoveSouthWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, 1);
        }
        else {
            let s = this.canMoveSouth();
            let w = this.canMoveWest();
            if (s && !w)
                this.moveSouth();
            if (w && !s)
                this.moveWest();
        }
    }
    canMoveSouthWest() {
        if (this.canMoveSouth() && this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetS === cell.exitOffsetW) && (this.southCell().westWall.passable) && (this.westCell().southWall.passable))
                return true;
        }
        return false;
    }
    moveWest() {
        if (this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, 0);
        }
    }
    canMoveWest() {
        if (this.position.x > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z];
            if (cell.walls[3].passable || cell.exitOffsetW !== 0)
                return true;
        }
        return false;
    }
    moveNorthWest() {
        if (this.canMoveNorthWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, -1);
        }
        else {
            let n = this.canMoveNorth();
            let w = this.canMoveWest();
            if (n && !w)
                this.moveNorth();
            if (w && !n)
                this.moveWest();
        }
    }
    canMoveNorthWest() {
        if (this.canMoveNorth() && this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetN === cell.exitOffsetW) && (this.northCell().westWall.passable) && (this.westCell().northWall.passable))
                return true;
        }
        return false;
    }
    move(x, y, z) {
        this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.position.x + x, this.position.y + y, this.position.z + z);
        let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
        this.yOffset = cell.midHeight;
        this.gameModel.listener.onMove.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/Spell.ts":
/*!***********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/Spell.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Spell; });
/* harmony import */ var _action_ActionModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action/ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");

class Spell extends _action_ActionModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, requireTarget) {
        super();
        this.name = name;
        this.requireTarget = requireTarget;
        this.icon = icon;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/SpellList.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/SpellList.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SpellList; });
/* harmony import */ var _action_spells_FireBolt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action/spells/FireBolt */ "./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts");
/* harmony import */ var _action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./action/spells/TorchLight */ "./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts");
/* harmony import */ var _action_spells_LevelEditing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action/spells/LevelEditing */ "./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts");
/* harmony import */ var _action_spells_Fly__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action/spells/Fly */ "./src/examples/classic-rpg-interface/model/action/spells/Fly.ts");
/* harmony import */ var _action_spells_MiniMap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./action/spells/MiniMap */ "./src/examples/classic-rpg-interface/model/action/spells/MiniMap.ts");





class SpellList {
    constructor(name, spells, icon) {
        this.spells = [];
        this.name = name;
        this.spells = spells;
        this.icon = icon;
    }
    static getSpell(name, icon, gameModel) {
        if (name === "Fire Bolt")
            return new _action_spells_FireBolt__WEBPACK_IMPORTED_MODULE_0__["default"](name, icon);
        if (name === "Torch Light")
            return new _action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_1__["default"](name, icon, gameModel);
        if (name === "Level Editing")
            return new _action_spells_LevelEditing__WEBPACK_IMPORTED_MODULE_2__["default"](name, icon, gameModel);
        if (name === "Fly")
            return new _action_spells_Fly__WEBPACK_IMPORTED_MODULE_3__["default"](name, icon, gameModel);
        if (name === "Minimap")
            return new _action_spells_MiniMap__WEBPACK_IMPORTED_MODULE_4__["default"](name, icon, gameModel);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/Status.ts":
/*!************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/Status.ts ***!
  \************************************************************/
/*! exports provided: StatusType, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatusType", function() { return StatusType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Status; });
var StatusType;
(function (StatusType) {
    StatusType[StatusType["Dead"] = 0] = "Dead";
    StatusType[StatusType["TorchLight"] = 1] = "TorchLight";
    StatusType[StatusType["Slow"] = 2] = "Slow";
    StatusType[StatusType["Flying"] = 3] = "Flying";
    StatusType[StatusType["LevelEdit"] = 4] = "LevelEdit";
    StatusType[StatusType["MiniMap"] = 5] = "MiniMap";
})(StatusType || (StatusType = {}));
class Status {
    get name() {
        if (this.statusType === StatusType.Dead)
            return "Dead";
        if (this.statusType === StatusType.TorchLight)
            return "Torch Light";
        if (this.statusType === StatusType.Slow)
            return "Slow";
        if (this.statusType === StatusType.Flying)
            return "Flying";
        if (this.statusType === StatusType.LevelEdit)
            return "Level Editing";
        if (this.statusType === StatusType.MiniMap)
            return "Mini Map";
    }
    constructor(statusType) {
        this.statusType = statusType;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts":
/*!************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/ActionModel.ts ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionModel; });
class ActionModel {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionResultModel; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class ActionResultModel {
    constructor(recoveryTime) {
        this.recoveryTime = 0;
        this.onApply = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.recoveryTime = recoveryTime;
    }
    apply() {
        this.onApply.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AttackActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");







class AttackActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_3__["default"] {
    constructor(gameModel, name, damageSpec, range) {
        super();
        this.gameModel = gameModel;
        this.name = name;
        this.damageSpec = damageSpec;
        this.range = range;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _ActorModel__WEBPACK_IMPORTED_MODULE_5__["default"])
            r.onApply.push(() => {
                let damage = _GameModel__WEBPACK_IMPORTED_MODULE_4__["default"].rollDice(this.damageSpec);
                if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this.gameModel.infoText.value = "You did " + damage + " damage";
                target.takeDamage(damage);
            }, this);
        return r;
    }
    test(source, target) {
        if (target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            if (!(target.alive.value))
                return false;
            if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_6__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.range)
                return true;
        }
        return false;
    }
    recoveryTime(source) {
        return Math.round(Math.random() * 10);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts ***!
  \****************************************************************************/
/*! exports provided: CombatState, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CombatState", function() { return CombatState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return InitiativeModel; });
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");



var CombatState;
(function (CombatState) {
    CombatState[CombatState["Green"] = 0] = "Green";
    CombatState[CombatState["Yellow"] = 1] = "Yellow";
    CombatState[CombatState["Red"] = 2] = "Red";
})(CombatState || (CombatState = {}));
class InitiativeModel {
    constructor() {
        this.initiativeOrder = [];
        this.npcsToAct = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"]([]);
    }
    get playerCanAct() {
        return (!this.partyModel.partyDead && this.gameModel.player.canAct && this.npcsToAct.value.length === 0 && this.waitingCharacter.value !== null);
    }
    get playerCanMove() {
        return (!this.partyModel.partyDead && this.gameModel.player.canMove && this.npcsToAct.value.length === 0 && this.waitingCharacter.value !== null);
    }
    get playerCanTurn() {
        return (!this.partyModel.partyDead && this.gameModel.player.canTurn);
    }
    create(gameModel, partyModel, levelModel, data) {
        this.gameModel = gameModel;
        this.partyModel = partyModel;
        partyModel.characters.forEach(c => {
            this.initiativeOrder.push({ number: c.rollInitiative(), actor: c });
        });
        levelModel.npcs.forEach(n => {
            this.initiativeOrder.push({ number: n.rollInitiative(), actor: n });
        });
        this.sortInitiativeOrder();
        this.waitingCharacters = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.getWaitingCharacters());
        this.waitingCharacter = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.getWaitingCharacter());
        this.combatState = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.getCombatState());
        this.afterChangeUpdate();
    }
    switchCharacter(character) {
        let characters = [];
        let delayUntil;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === character) {
                delayUntil = this.initiativeOrder[i].number;
                break;
            }
            else if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                characters.push(this.initiativeOrder[i].actor);
            }
        }
        characters.forEach(c => this.delayActorUntil(c, delayUntil));
        this.afterChangeUpdate();
    }
    moveParty(start, end) {
        if (this.combatState.value === CombatState.Red)
            this.delayPartyUntilLastMember(this.gameModel.party.moveRecoveryTime);
        this.afterChangeUpdate();
    }
    performedAction(actor, result) {
        this.delayActor(actor, result.recoveryTime);
        this.afterChangeUpdate();
    }
    npcDelay(npc, time) {
        this.delayActor(npc, time);
        this.afterChangeUpdate();
    }
    npcDied(npc) {
        this.initiativeOrder = this.initiativeOrder.filter(r => r.actor !== npc);
        this.afterChangeUpdate();
    }
    afterChangeUpdate() {
        if (this.partyModel.partyDead) {
            this.waitingCharacters.value = [];
            this.waitingCharacter.value = null;
        }
        else {
            this.sortInitiativeOrder();
            this.fillNPCsToActArray();
            this.combatState.value = this.getCombatState();
            this.updateWaitingCharacters();
        }
    }
    updateWaitingCharacters() {
        this.waitingCharacters.value = this.getWaitingCharacters();
        if (this.waitingCharacters.value.length > 0)
            this.waitingCharacter.value = this.waitingCharacters.value[0];
        else
            this.waitingCharacter.value = null;
    }
    getWaitingCharacters() {
        let characters = [];
        let charsToDelay = [];
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                if (this.initiativeOrder[i].actor.healthState.value === _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["HealthState"].Normal)
                    characters.push(this.initiativeOrder[i].actor);
                else
                    charsToDelay.push(this.initiativeOrder[i].actor);
            }
            else
                break;
        }
        charsToDelay.forEach(c => this.delayActor(c, 1));
        this.sortInitiativeOrder();
        this.fillNPCsToActArray();
        return characters;
    }
    getWaitingCharacter() {
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"])
                return this.initiativeOrder[i].actor;
            else
                return null;
        }
    }
    waitingActor() {
        if (this.initiativeOrder.length > 0)
            return this.initiativeOrder[0].actor;
        return null;
    }
    delayPartyUntilLastMember(additionalDelay) {
        let foundCharacters = 0;
        let delayUntil;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            let actor = this.initiativeOrder[i].actor;
            if (actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                foundCharacters++;
                if (foundCharacters === this.partyModel.characters.length) {
                    delayUntil = this.initiativeOrder[i].number;
                    break;
                }
            }
        }
        this.partyModel.characters.forEach(c => this.delayActorUntil(c, delayUntil + additionalDelay));
    }
    getCombatState() {
        let inMelee = false;
        let aliveNPC = false;
        this.gameModel.world.currentLevel.value.npcs.forEach(npc => {
            if ((npc.alive.value) && (npc.hostile)) {
                if (this.gameModel.isWithinMelee(npc.getPosition(), this.gameModel.player.position))
                    inMelee = true;
                aliveNPC = true;
            }
        });
        if (inMelee)
            return CombatState.Red;
        if (aliveNPC)
            return CombatState.Yellow;
        return CombatState.Green;
    }
    fillNPCsToActArray() {
        this.npcsToAct.value = [];
        for (let i = 0; i < this.initiativeOrder.length; i++)
            if (this.initiativeOrder[i].actor instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                let npc = this.initiativeOrder[i].actor;
                this.npcsToAct.value.push(npc);
            }
            else
                break;
        this.npcsToAct.onUpdate.call();
    }
    delayActorUntil(actor, time) {
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === actor) {
                this.initiativeOrder.splice(i, 1);
                break;
            }
        }
        if (!actor)
            throw new Error("Delay until actor is null");
        this.initiativeOrder.push({ number: time, actor: actor });
    }
    delayActor(actor, time) {
        let currentPosition = 0;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === actor) {
                currentPosition = this.initiativeOrder[i].number;
                this.initiativeOrder.splice(i, 1);
                break;
            }
        }
        if (!actor)
            throw new Error("Delay  actor is null");
        this.initiativeOrder.push({ number: currentPosition + time, actor: actor });
    }
    sortInitiativeOrder() {
        this.initiativeOrder.sort((a, b) => a.number - b.number);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/LootActionModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/LootActionModel.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LootActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");





class LootActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_2__["default"] {
    constructor(gameModel) {
        super();
        this.lootDistance = 3;
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"])
            r.onApply.push(() => {
                this.gameModel.party.gainGold(_GameModel__WEBPACK_IMPORTED_MODULE_3__["default"].rollDice(target.lootSpec));
                target.looted.value = true;
            }, this);
        return r;
    }
    test(source, target) {
        if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.lootDistance)
            if ((target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) && (!target.alive.value))
                return true;
        return false;
    }
    recoveryTime(source) {
        return 0;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return OpenDoorActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../world/DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");




class OpenDoorActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(gameModel) {
        super();
        this.reach = 1;
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__["default"])
            r.onApply.push(() => {
                this.gameModel.openDoor(target);
            }, this);
        return r;
    }
    test(source, target) {
        if (target instanceof _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__["default"])
            if (!(target.locked))
                if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.reach)
                    return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FireBolt; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");



class FireBolt extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon) {
        super(name, icon, true);
    }
    perform(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) {
            source.mana--;
        }
        return new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
    }
    test(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) {
            if (source.mana >= 1) {
                if (!(target))
                    return true;
                else {
                    return true;
                }
            }
        }
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/Fly.ts":
/*!***********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/Fly.ts ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Fly; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class Fly extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, gameModel) {
        super(name, icon, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                source.mana -= 8;
            this.gameModel.party.addStatus(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].Flying));
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if ((source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) && (source.mana >= 8))
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LevelEditing; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class LevelEditing extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, gameModel) {
        super(name, icon, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            this.gameModel.party.addStatus(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].LevelEdit));
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/MiniMap.ts":
/*!***************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/MiniMap.ts ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MiniMap; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class MiniMap extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, gameModel) {
        super(name, icon, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                source.mana--;
            this.gameModel.party.addStatus(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].MiniMap));
            this.gameModel.player.showMiniMap = true;
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if ((source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) && (source.mana >= 1))
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TorchLight; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class TorchLight extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, gameModel) {
        super(name, icon, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                source.mana--;
            this.gameModel.party.addStatus(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].TorchLight));
            this.gameModel.player.showTorchLight = true;
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if ((source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) && (source.mana >= 1))
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/CellModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/CellModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CellModel; });
/* harmony import */ var _WallModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WallModel */ "./src/examples/classic-rpg-interface/model/world/WallModel.ts");

class CellModel {
    constructor(data, wallTypes) {
        this.walls = [];
        this.midHeight = 0;
        this.exitOffsetN = 0;
        this.exitOffsetE = 0;
        this.exitOffsetS = 0;
        this.exitOffsetW = 0;
        while (wallTypes.length < 6)
            wallTypes.push(0);
        wallTypes.forEach(type => {
            if (typeof type === "number")
                this.walls.push(new _WallModel__WEBPACK_IMPORTED_MODULE_0__["default"](data.walls[type]));
            else
                this.walls.push(new _WallModel__WEBPACK_IMPORTED_MODULE_0__["default"](data.walls[type.t], type));
        });
        if (this.walls[4].details) {
            this.midHeight = this.walls[4].details.mid || 0;
            this.exitOffsetN = this.walls[4].details.n || 0;
            this.exitOffsetE = this.walls[4].details.e || 0;
            this.exitOffsetS = this.walls[4].details.s || 0;
            this.exitOffsetW = this.walls[4].details.w || 0;
        }
    }
    get northWall() { return this.walls[0]; }
    get eastWall() { return this.walls[1]; }
    get southWall() { return this.walls[2]; }
    get westWall() { return this.walls[3]; }
    get floorWall() { return this.walls[4]; }
    get ceilingWall() { return this.walls[5]; }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/DoorModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DoorModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class DoorModel {
    constructor(gameData, levelDoorData) {
        this.targetLevel = undefined;
        this.isOpen = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](false);
        this.doorData = gameData.doors[levelDoorData.type];
        this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](levelDoorData.position.slice(0, 3));
        this.wall = levelDoorData.position[3];
        if (levelDoorData.target) {
            this.targetLevel = levelDoorData.target[0];
            this.targetPosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](levelDoorData.target.slice(1, 4));
            let f = levelDoorData.target[4];
            this.targetFacing = f;
        }
        else {
            this.openAngle = levelDoorData.openAngle;
        }
    }
    get filename() { return this.doorData.filename; }
    get normalMap() { return this.doorData.normalMap || null; }
    get locked() { return false; }
    get opens() { return this.targetLevel === undefined; }
    create(levelModel) {
        this.levelModel = levelModel;
        let cell = levelModel.cells[this.position.x][this.position.y][this.position.z];
        let wall = cell.walls[this.wall];
        if (this.opens)
            wall.alphaMap = this.doorData.alphaMap;
        wall.passable = this.isOpen.value;
    }
    getPosition() { return this.position; }
    changeOpenState() {
        this.isOpen.value = !this.isOpen.value;
        let cell = this.levelModel.cells[this.position.x][this.position.y][this.position.z];
        let wall = cell.walls[this.wall];
        wall.passable = this.isOpen.value;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/LevelModel.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/LevelModel.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LevelModel; });
/* harmony import */ var _CellModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellModel */ "./src/examples/classic-rpg-interface/model/world/CellModel.ts");
/* harmony import */ var _WorldObjectModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WorldObjectModel */ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts");
/* harmony import */ var _NPCModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _DoorModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");





class LevelModel {
    get name() { return this.levelType.name; }
    get width() { return this.levelType.width; }
    get height() { return this.levelType.height; }
    get depth() { return this.levelType.depth; }
    get startingPosition() { return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_3__["default"](this.levelType.startingPosition[0], this.levelType.startingPosition[1], this.levelType.startingPosition[2]); }
    get startingFacing() { return this.levelType.startingFacing; }
    get outside() { return this.levelType.outside; }
    get skyboxID() { return this.levelType.skybox; }
    create(gameModel, level) {
        this.levelType = level;
        this.cells = this.createCells(gameModel.data, level);
        this.doors = this.createDoors(gameModel.data, level);
        this.objects = this.createObjects(gameModel.data, level);
        this.npcs = this.createNPCs(gameModel, level);
    }
    save(gameData, level) {
        let newWalls = [];
        for (let y = 0; y < this.height; y++)
            for (let z = 0; z < this.depth; z++)
                for (let x = 0; x < this.width; x++) {
                    this.cells[x][y][z].walls.forEach(w => {
                        if (w.details) {
                            if (w.hidden.value)
                                newWalls.push(0);
                            else {
                                w.details.t = gameData.walls.indexOf(w.wallData.value);
                                newWalls.push(w.details);
                            }
                        }
                        else {
                            if (w.hidden.value)
                                newWalls.push(0);
                            else
                                newWalls.push(gameData.walls.indexOf(w.wallData.value));
                        }
                    });
                }
        level.walls = newWalls;
        let npcs = [];
        this.npcs.forEach(n => {
            let id = gameData.npcs.indexOf(n.npcType);
            npcs.push({ type: id, position: [n.position.value.x, n.position.value.y, n.position.value.z] });
        });
        level.npcs = npcs;
        let objects = [];
        this.objects.forEach(o => {
            let id = gameData.objects.indexOf(o.objectType);
            objects.push({ type: id, position: [o.position.value.x, o.position.value.y, o.position.value.z] });
        });
        level.objects = objects;
    }
    createDoors(data, level) {
        let doors = [];
        for (let i = 0; i < level.doors.length; i++) {
            let door = new _DoorModel__WEBPACK_IMPORTED_MODULE_4__["default"](data, level.doors[i]);
            door.create(this);
            doors.push(door);
        }
        return doors;
    }
    createObjects(data, level) {
        let objects = [];
        for (let i = 0; i < level.objects.length; i++) {
            let obj = new _WorldObjectModel__WEBPACK_IMPORTED_MODULE_1__["default"](data, level.objects[i].type, level.objects[i].position);
            obj.create();
            objects.push(obj);
        }
        return objects;
    }
    createNPCs(gameModel, level) {
        let npcs = [];
        for (let i = 0; i < level.npcs.length; i++) {
            let npc = new _NPCModel__WEBPACK_IMPORTED_MODULE_2__["default"](gameModel, level.npcs[i].type, level.npcs[i].position);
            npc.create();
            npcs.push(npc);
        }
        return npcs;
    }
    createCells(data, level) {
        let rows = [];
        for (let i = 0; i < level.width; i++) {
            let layers = [];
            for (let h = 0; h < level.height; h++) {
                let col = [];
                for (let j = 0; j < level.depth; j++) {
                    let start = (h * level.width * level.depth * 6) + (j * level.width * 6) + i * 6;
                    let wallSubset = level.walls.slice(start, start + 6);
                    col.push(new _CellModel__WEBPACK_IMPORTED_MODULE_0__["default"](data, wallSubset));
                }
                layers.push(col);
            }
            rows.push(layers);
        }
        return rows;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/NPCModel.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NPCModel; });
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../action/AttackActionModel */ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");






class NPCModel extends _ActorModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameModel, type, position) {
        super();
        this.alive = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](true);
        this.performingAction = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](null);
        this.delaying = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](false);
        this.looted = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](false);
        this.gameModel = gameModel;
        this.npcType = gameModel.data.npcs[type];
        this.position = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_util_Point3__WEBPACK_IMPORTED_MODULE_5__["default"](position));
    }
    get name() { return this.npcType.name; }
    get filename() { return this.npcType.filename; }
    get hpSpec() { return this.npcType.hp; }
    get lootSpec() { return this.npcType.loot; }
    get hostile() { return this.npcType.hostile; }
    get deadTexture() { return this.npcType.deadTexture; }
    getPosition() { return this.position.value; }
    create() {
        this.maxHitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](_GameModel__WEBPACK_IMPORTED_MODULE_1__["default"].rollDice(this.hpSpec));
        this.hitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](this.maxHitpoints.value);
        this.actions = [];
        this.npcType.actions.forEach(a => {
            if (a.type === "attack")
                this.actions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_2__["default"](this.gameModel, a.name, a.damage, a.range));
        });
    }
    checkHealthState() {
        if (this.hitpoints.value <= 0) {
            this.alive.value = false;
            this.gameModel.initiative.npcDied(this);
        }
    }
    act() {
        let found = false;
        let target;
        while (!found) {
            let r = Math.round(Math.random() * (this.gameModel.party.characters.length - 1));
            target = this.gameModel.party.characters[r];
            if (target.healthState.value !== _CharacterModel__WEBPACK_IMPORTED_MODULE_3__["HealthState"].Dead)
                found = true;
        }
        let availableActions = this.actions.filter(a => a.test(this, target));
        if (availableActions.length > 0) {
            let result = this.gameModel.npcPerformAction(this, target, availableActions[0]);
            this.performingAction.value = result;
        }
        else
            this.delaying.value = true;
    }
    applyActionResult(actionResult) {
        if (this.performingAction.value) {
            this.gameModel.applyActionResult(actionResult);
            this.performingAction.value = null;
        }
        else {
            this.delaying.value = false;
            this.gameModel.npcDelay(this, 1);
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WallModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WallModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WallModel; });
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var examples_classic_rpg_interface_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! examples/classic-rpg-interface/data */ "./src/examples/classic-rpg-interface/data.ts");


class WallModel {
    get filename() { return this.wallData.value.filename; }
    get passable() { return this._passable || this.hidden.value; }
    set passable(val) { this._passable = val; }
    get create() { return this.wallData.value.filename !== examples_classic_rpg_interface_data__WEBPACK_IMPORTED_MODULE_1__["TextureEmpty"]; }
    get normalMap() { return (this.wallData.value.normalMap || undefined); }
    getPosition() { return null; }
    constructor(wallData, details) {
        this.wallData = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"](wallData);
        this.hidden = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"](!(this.create));
        this.details = details;
        this._passable = wallData.passable;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WorldModel.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WorldModel.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldModel; });
/* harmony import */ var _LevelModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LevelModel */ "./src/examples/classic-rpg-interface/model/world/LevelModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class WorldModel {
    get currentLevelID() { return this.levels.indexOf(this.currentLevel.value); }
    create(gameModel) {
        this.levels = [];
        gameModel.data.levels.forEach(l => {
            let level = new _LevelModel__WEBPACK_IMPORTED_MODULE_0__["default"]();
            this.levels.push(level);
            level.create(gameModel, l);
        });
        this.currentLevel = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](this.levels[gameModel.data.player.level]);
    }
    save(data) {
        this.levels.forEach(l => {
            l.save(data, l.levelType);
        });
    }
    switchToLevel(level) {
        this.currentLevel.value = level;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldObjectModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class WorldObjectModel {
    get name() { return this.objectType.name; }
    get filename() { return this.objectType.filename; }
    constructor(data, type, position) {
        this.objectType = data.objects[type];
        this.position = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](position));
    }
    create() {
    }
    getPosition() { return this.position.value; }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Door.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Door.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Door; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_gameobject_anim_WrappingValueTween__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/anim/WrappingValueTween */ "./src/engine/gameobject/anim/WrappingValueTween.ts");
/* harmony import */ var _GeomLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GeomLoader */ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts");
/* harmony import */ var _MaterialLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MaterialLoader */ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");







class Door extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this._turnAnims = [];
        this.model = model;
    }
    load({ loader: loader }) {
        this.geom = this.addAsset(_GeomLoader__WEBPACK_IMPORTED_MODULE_3__["default"].getSharedPlaneGeom(loader));
        this.material = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_4__["default"].getSharedMaterialAsset(loader, this.model.filename, this.model.normalMap, null, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1), true, true));
        return ((this.material !== null) && (this.geom !== null));
    }
    create() {
        let mesh = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.geom.asset, this.material.asset);
        mesh.mesh.position.x = this.model.position.x;
        mesh.mesh.position.y = this.model.position.y;
        mesh.mesh.position.z = this.model.position.z;
        if (this.model.wall === 0) {
            mesh.mesh.position.z -= 0.49;
        }
        if (this.model.wall === 1) {
            mesh.mesh.position.x += 0.49;
            mesh.mesh.rotation.y -= Math.PI / 2;
        }
        if (this.model.wall === 2) {
            mesh.mesh.position.z += 0.49;
            mesh.mesh.rotation.y += Math.PI;
        }
        if (this.model.wall === 3) {
            mesh.mesh.position.x -= 0.49;
            mesh.mesh.rotation.y += Math.PI / 2;
        }
        this.mesh = this.addChild(mesh);
        this.model.isOpen.onUpdate.push(this.changeOpenState.bind(this), this);
        this.mesh.mesh.userData = { gameObject: this };
    }
    changeOpenState(open) {
        if (this.model.wall === 0)
            this.setRotation(open ? this.model.openAngle : 0, 500);
        if (this.model.wall === 1)
            this.setRotation(open ? this.model.openAngle - Math.PI / 2 : -Math.PI / 2, 500);
        if (this.model.wall === 2)
            this.setRotation(open ? this.model.openAngle + Math.PI : Math.PI, 500);
        if (this.model.wall === 3)
            this.setRotation(open ? this.model.openAngle + Math.PI / 2 : Math.PI / 2, 500);
    }
    setRotation(y, time) {
        this._turnAnims.forEach(a => a.requestRemoval());
        this._turnAnims = [];
        let w = this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_6__["default"](time));
        w.onStep.push(this.rotateAboutPoint.bind(this, new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 1, 0), (this.mesh.mesh.rotation.y - y) / time, false), this);
        this._turnAnims.push(w);
    }
    rotateAboutPoint(point, axis, theta, pointIsWorld) {
        if (pointIsWorld)
            this.mesh.mesh.parent.localToWorld(this.mesh.mesh.position);
        this.mesh.mesh.position.sub(point);
        this.mesh.mesh.position.applyAxisAngle(axis, theta);
        this.mesh.mesh.position.add(point);
        if (pointIsWorld) {
            this.mesh.mesh.parent.worldToLocal(this.mesh.mesh.position);
        }
        this.mesh.mesh.rotateOnAxis(axis, theta);
        this.requestDraw();
    }
    addTurnAnim(object, varName, target, time) {
        this._turnAnims.push(this.addChild(new engine_gameobject_anim_WrappingValueTween__WEBPACK_IMPORTED_MODULE_2__["default"](object, varName, target, time, Math.PI * 2)));
        let a = this._turnAnims[this._turnAnims.length - 1];
        a.onComplete.push((() => {
            this._turnAnims.splice(this._turnAnims.indexOf(a), 1);
        }).bind(this), this);
        return a;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GeomLoader; });
class GeomLoader {
    static getSharedPlaneGeom(loader) {
        let geomAsset = loader.getSharedAsset("#planeGeom");
        if (!(geomAsset.loaded)) {
            geomAsset.set(new THREE.PlaneGeometry(1, 1));
            geomAsset.loaded = true;
        }
        return geomAsset;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts":
/*!************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MaterialLoader; });
class MaterialLoader {
    static getSharedMaterialAsset(loader, filename, normalMap, alphaMap, repeat, transparent, twosides) {
        normalMap = normalMap || null;
        alphaMap = alphaMap || null;
        let name = filename + "#mat" + (normalMap !== null ? "#normal=" + normalMap : "") + (alphaMap !== null ? "#alpha=" + alphaMap : "");
        let materialAsset = loader.getSharedAsset(name);
        if (!(materialAsset.loaded)) {
            let material = MaterialLoader.loadMaterial(loader, filename, normalMap, alphaMap, repeat, transparent, twosides);
            if (!(material))
                return null;
            materialAsset.set(material);
            materialAsset.loaded = true;
        }
        return materialAsset;
    }
    static getTextureAsset(loader, filename, repeat) {
        let textureAsset = loader.getSharedAsset(filename);
        if (!(textureAsset.asset)) {
            let texture = new THREE.TextureLoader().load(filename, ((texture) => {
                if ((repeat.x !== 1) || (repeat.y !== 1)) {
                    texture.wrapS = texture.wrapT = THREE.RepeatWrapping;
                    texture.offset.set(0, 0);
                    texture.repeat.set(repeat.x, repeat.y);
                }
                textureAsset.loaded = true;
            }).bind(this));
            textureAsset.set(texture);
        }
        return textureAsset;
    }
    static loadMaterial(loader, filename, normalMap, alphaMap, repeat, transparent, twosides) {
        let normalMapAsset;
        let alphaMapAsset;
        let mapAsset = MaterialLoader.getTextureAsset(loader, filename, repeat);
        if (normalMap !== null)
            normalMapAsset = MaterialLoader.getTextureAsset(loader, normalMap, repeat);
        if (alphaMap !== null)
            alphaMapAsset = MaterialLoader.getTextureAsset(loader, alphaMap, repeat);
        if (!(mapAsset.loaded))
            return null;
        if ((normalMap !== null) && (!normalMapAsset.loaded))
            return null;
        if ((alphaMap !== null) && (!alphaMapAsset.loaded))
            return null;
        let material;
        transparent = (alphaMap !== null) || transparent;
        if (normalMap)
            material = new THREE.MeshStandardMaterial({ map: mapAsset.asset,
                normalMap: normalMapAsset.asset,
                normalScale: new THREE.Vector2(1, 1),
                roughness: 1,
                transparent: transparent });
        else
            material = new THREE.MeshLambertMaterial({ map: mapAsset.asset, transparent: transparent });
        if (alphaMap)
            material.alphaMap = alphaMapAsset.asset;
        if (twosides)
            material.side = THREE.DoubleSide;
        return material;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/NPC.ts":
/*!*************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/NPC.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NPC; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");



class NPC extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this.centered = true;
        this.offsetSet = false;
        this.model = model;
    }
    load({ loader: loader }) {
        let texture = loader.getSharedAsset(this.model.filename + "#tex");
        if (!(texture.asset))
            texture.set(new THREE.TextureLoader().load(this.model.filename, (() => { texture.loaded = true; })));
        this.addAsset(texture);
        let deadTexture = loader.getSharedAsset(this.model.deadTexture + "#tex");
        if (!(deadTexture.asset))
            deadTexture.set(new THREE.TextureLoader().load(this.model.deadTexture, (() => { deadTexture.loaded = true; })));
        this.addAsset(deadTexture);
        return true;
    }
    scaleMesh(texture, scale) {
        let width = texture.image.naturalWidth;
        let height = texture.image.naturalHeight;
        let aspect = height / width;
        let x;
        let y;
        if (width > height) {
            x = scale;
            y = x * aspect;
        }
        else {
            y = scale;
            x = y / aspect;
        }
        let geom = new THREE.PlaneBufferGeometry(x, y, 0);
        let material = new THREE.MeshLambertMaterial({ map: texture, fog: true, transparent: true, });
        let mesh = new THREE.Mesh(geom, material);
        return mesh;
    }
    create() {
        this.mesh = this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.scaleMesh(this.getAsset(this.model.filename + "#tex"), this.model.npcType.scale)));
        this.mesh.mesh.userData = { gameObject: this };
        this.model.alive.onUpdate.push(this.updateAlive.bind(this), this);
        this.updateAlive(this.model.alive.value);
        this.model.position.onUpdate.push(this.updatePosition.bind(this), this);
        this.updatePosition(this.model.position.value);
        this.model.performingAction.onUpdate.push(this.updatePerformingAction.bind(this), this);
        this.model.delaying.onUpdate.push(this.updateDelaying.bind(this), this);
        this.model.hitpoints.onUpdate.push(this.hpChanged.bind(this), this);
        this.model.looted.onUpdate.push(this.lootedChanged.bind(this), this);
        this.oldHP = this.model.hitpoints.value;
    }
    lootedChanged(val) {
        if (val) {
            this.mesh.mesh.visible = false;
            this.requestDraw();
        }
    }
    hpChanged(val) {
        if (val < this.oldHP) {
            this.mesh.mesh.material.color.setHex(0xff6666);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](100)).onComplete.push(() => {
                this.mesh.mesh.material.color.setHex(0xffffff);
                this.requestDraw();
            }, this);
            this.requestDraw();
        }
        this.oldHP = val;
    }
    updatePerformingAction(val) {
        if (val) {
            this.mesh.mesh.material.color.setHex(0xffff00);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](300)).onComplete.push(this.model.applyActionResult.bind(this.model, val), this);
        }
        else
            this.mesh.mesh.material.color.setHex(0xffffff);
        this.requestDraw();
    }
    updateDelaying(val) {
        if (val) {
            this.mesh.mesh.material.color.setHex(0xffff00);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](300)).onComplete.push(this.model.applyActionResult.bind(this.model), this);
        }
        else
            this.mesh.mesh.material.color.setHex(0xffffff);
        this.requestDraw();
    }
    updateAlive(val) {
        if (!(val)) {
            this.mesh.mesh = this.scaleMesh(this.getAsset(this.model.deadTexture + "#tex"), 0.2);
            this.mesh.mesh.userData = { gameObject: this };
            this.updatePosition(this.model.position.value);
        }
        this.requestDraw();
    }
    updatePosition(val) {
        this.mesh.mesh.position.x = val.x;
        this.mesh.mesh.position.y = val.y - (1 - this.model.npcType.scale) / 2;
        this.mesh.mesh.position.z = val.z;
        this.requestDraw();
    }
    update() {
        if (this.camera) {
            this.mesh.mesh.lookAt(this.camera.position.x, this.mesh.mesh.position.y, this.camera.position.z);
            if (this.mesh.mesh.position.distanceTo(this.camera.position) < 0.5) {
                if (!(this.offsetSet) && (this.centered)) {
                    this.updatePosition(this.model.position.value);
                    let offset = 0.1;
                    let direction = this.camera.getWorldDirection();
                    this.mesh.mesh.position.add(direction.multiplyScalar(0.33));
                    this.mesh.mesh.position.add(direction.applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2).multiplyScalar(3 * offset));
                }
                this.offsetSet = true;
            }
            else if (this.mesh.mesh.position.distanceTo(this.camera.position) >= 1) {
                if (this.offsetSet) {
                    this.updatePosition(this.model.position.value);
                    this.offsetSet = false;
                }
            }
        }
    }
    destroy() {
        super.destroy();
        this.model.alive.onUpdate.unregister(this);
        this.model.position.onUpdate.unregister(this);
        this.model.performingAction.onUpdate.unregister(this);
        this.model.delaying.onUpdate.unregister(this);
        this.model.hitpoints.onUpdate.unregister(this);
        this.model.looted.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Player.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Player.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Player; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var engine_gameobject_anim_Point3Tween__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/anim/Point3Tween */ "./src/engine/gameobject/anim/Point3Tween.ts");
/* harmony import */ var engine_gameobject_anim_WrappingPoint3Tween__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/anim/WrappingPoint3Tween */ "./src/engine/gameobject/anim/WrappingPoint3Tween.ts");






class Player extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get animating() { return (this._turnAnim && !this._turnAnim.complete) || (this._moveAnim && !this._moveAnim.complete); }
    constructor(threeBuffer, gameModel) {
        super(null);
        this.threeBuffer = threeBuffer;
        this.player = gameModel.player;
        this.gameModel = gameModel;
    }
    create() {
        this.gameModel.listener.onMove.push(this.updatePosition.bind(this), this);
        this.gameModel.listener.onTurn.push(this.updateRotation.bind(this), this);
        this.player.onUpdate.push((() => {
            this.threeBuffer.camera.rotation.x = this.player.rotation.x;
            this.threeBuffer.camera.rotation.y = this.player.rotation.y;
            this.threeBuffer.camera.rotation.z = this.player.rotation.z;
            this.threeBuffer.camera.position.x = this.player.finePosition.x;
            this.threeBuffer.camera.position.y = this.player.finePosition.y;
            this.threeBuffer.camera.position.z = this.player.finePosition.z;
            this.toggleLight(this.player.showTorchLight);
            this.threeBuffer.requestDraw();
        }).bind(this), this);
        this.updatePosition(false);
        this.updateRotation(false);
    }
    toggleLight(show) {
        if (show) {
            if (!this.playerLight)
                if (this.gameModel.world.currentLevel.value.outside)
                    this.playerLight = new THREE.PointLight(0xffffff, 0.33, 5.5, 1);
                else
                    this.playerLight = new THREE.PointLight(0xffffff, 1, 5.5, 1);
            this.threeBuffer.camera.add(this.playerLight);
        }
        else {
            if (this.playerLight)
                this.threeBuffer.camera.remove(this.playerLight);
        }
    }
    updatePosition(animate) {
        if (animate === undefined)
            animate = true;
        this._setPlayerPosition(this.player.gridPositionWithOffset, animate, 500);
    }
    updateRotation(animate) {
        if (animate === undefined)
            animate = true;
        let time = 300;
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].North)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].NorthEast)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 4, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].East)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 2, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].SouthEast)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -3 * (Math.PI / 4), 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].South)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].SouthWest)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 3 * (Math.PI / 4), 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].West)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 2, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].NorthWest)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 4, 0), animate, time);
    }
    _setPlayerPosition(position, animate, time) {
        if (this._moveAnim)
            this._moveAnim.requestRemoval();
        if (animate) {
            this.player.canMove = false;
            this._moveAnim = this.addChild(new engine_gameobject_anim_Point3Tween__WEBPACK_IMPORTED_MODULE_4__["default"](this.player, "finePosition", new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](position.x, position.y, position.z), time));
            this._moveAnim.onComplete.push(this._updateAnimating.bind(this), this);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__["default"](time / 2)).onComplete.push(() => this.player.canMove = true, this);
        }
        else
            this.player.finePosition = position;
        this._updateAnimating();
    }
    _setPlayerRotation(rotation, animate, time) {
        if (this._turnAnim)
            this._turnAnim.requestRemoval();
        this._turnAnim = null;
        if (animate) {
            this.player.canTurn = false;
            this._turnAnim = this.addChild(new engine_gameobject_anim_WrappingPoint3Tween__WEBPACK_IMPORTED_MODULE_5__["default"](this.player, "rotation", new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](rotation.x, rotation.y, rotation.z), time, new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](Math.PI * 2, Math.PI * 2, Math.PI * 2)));
            this._turnAnim.onComplete.push(this._updateAnimating.bind(this), this);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__["default"](time / 2)).onComplete.push(() => this.player.canTurn = true, this);
        }
        else
            this.player.rotation = rotation;
        this._updateAnimating();
    }
    _updateAnimating() {
        this.player.animating = this.animating;
    }
    destroy() {
        super.destroy();
        if (this._moveAnim)
            this._moveAnim.requestRemoval();
        if (this._turnAnim)
            this._turnAnim.requestRemoval();
        this.player.onUpdate.unregister(this);
        this.gameModel.listener.onMove.unregister(this);
        this.gameModel.listener.onTurn.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Scene.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Scene.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Scene; });
/* harmony import */ var engine_gameobject_ThreeBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ThreeBuffer */ "./src/engine/gameobject/ThreeBuffer.ts");
/* harmony import */ var _WorldCell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WorldCell */ "./src/examples/classic-rpg-interface/sceneview/WorldCell.ts");
/* harmony import */ var _WorldObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WorldObject */ "./src/examples/classic-rpg-interface/sceneview/WorldObject.ts");
/* harmony import */ var _NPC__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NPC */ "./src/examples/classic-rpg-interface/sceneview/NPC.ts");
/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Player */ "./src/examples/classic-rpg-interface/sceneview/Player.ts");
/* harmony import */ var _Skybox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Skybox */ "./src/examples/classic-rpg-interface/sceneview/Skybox.ts");
/* harmony import */ var _Door__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Door */ "./src/examples/classic-rpg-interface/sceneview/Door.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");








class Scene extends engine_gameobject_ThreeBuffer__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, gameModel) {
        super(position, bounds);
        this.gameModel = gameModel;
    }
    create() {
        super.create();
        this.gameModel.initiative.npcsToAct.onUpdate.push(this._runNPCs.bind(this), this);
        this.createLevel();
    }
    createLevel() {
        this.scene.background = new THREE.Color(0x0000ff);
        if (this.gameModel.world.currentLevel.value.outside) {
            let fogColor = new THREE.Color(0xffffff);
            let light = new THREE.AmbientLight(0xffffff, 1);
            this.scene.add(light);
        }
        this.scene.add(new THREE.AmbientLight(0xffffff, 0.05));
        this.cells = this._getWorldCells();
        this.cells.forEach(c => {
            this.addChild(c);
            c.active = false;
        });
        this.doors = this._getDoors();
        this.doors.forEach(d => this.addChild(d));
        this.objects = this._getWorldObjects();
        this.objects.forEach(o => this.addChild(o));
        this.npcs = this._getNPCs();
        this.npcs.forEach(n => this.addChild(n));
        this.npcs.forEach(n => n.camera = this.camera);
        if (this.gameModel.world.currentLevel.value.skyboxID !== undefined) {
            let skyboxData = this.gameModel.data.skyboxes[this.gameModel.world.currentLevel.value.skyboxID];
            this.skybox = this.addChild(new _Skybox__WEBPACK_IMPORTED_MODULE_5__["default"](skyboxData));
        }
        this.player = this.addChild(new _Player__WEBPACK_IMPORTED_MODULE_4__["default"](this, this.gameModel));
        if (!(this.gameModel.world.currentLevel.value.outside))
            this.player.toggleLight(true);
        this._runNPCs();
        this.requestDraw();
    }
    mergeWallGeometry() {
        var mergeGeom = new THREE.Geometry();
        let materialList = [];
        let i = 0;
        this.cells.forEach((c) => {
            c.children.forEach((child) => {
                if ((child.mesh) && (child.model.create)) {
                    mergeGeom.merge(child.mesh.mesh.geometry, child.mesh.mesh.matrix, i);
                    child.mesh.mesh.parent.remove(child.mesh.mesh);
                    materialList.push(child.mesh.mesh.material);
                    i++;
                }
            });
        });
        this.cells.forEach((c) => c.requestRemoval());
        this.cells = [];
        mergeGeom.mergeVertices();
        let mesh = new THREE.Mesh(mergeGeom, materialList);
        this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_7__["default"](mesh));
    }
    _getWorldCells() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let cells = [];
        levelModel.cells.forEach((row, x) => {
            row.forEach((layer, y) => {
                layer.forEach((col, z) => cells.push(new _WorldCell__WEBPACK_IMPORTED_MODULE_1__["default"](x, y, z, col)));
            });
        });
        return cells;
    }
    _getWorldObjects() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let objects = [];
        levelModel.objects.forEach((o, x) => {
            objects.push(new _WorldObject__WEBPACK_IMPORTED_MODULE_2__["default"](o));
        });
        return objects;
    }
    _getDoors() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let doors = [];
        levelModel.doors.forEach((d, x) => {
            doors.push(new _Door__WEBPACK_IMPORTED_MODULE_6__["default"](d));
        });
        return doors;
    }
    _getNPCs() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let npcs = [];
        levelModel.npcs.forEach((npc, x) => {
            npcs.push(new _NPC__WEBPACK_IMPORTED_MODULE_3__["default"](npc));
        });
        return npcs;
    }
    _runNPCs() {
        let toAct = [];
        this.gameModel.initiative.npcsToAct.value.forEach(npc => toAct.push(npc));
        toAct.forEach((npc) => npc.act());
    }
    destroy() {
        this.gameModel.initiative.npcsToAct.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Skybox.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Skybox.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Skybox; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_Asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/Asset */ "./src/engine/Asset.ts");



class Skybox extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(skyboxData) {
        super(null);
        this._loadedTextures = 0;
        this.skyboxData = skyboxData;
    }
    load({ loader: loader }) {
        let a = new engine_Asset__WEBPACK_IMPORTED_MODULE_2__["default"]("#textureArray", null, false);
        let xPos = new THREE.TextureLoader().load(this.skyboxData.xPos, this.checkTextureLoaded.bind(this, a));
        let xNeg = new THREE.TextureLoader().load(this.skyboxData.xNeg, this.checkTextureLoaded.bind(this, a));
        let yPos = new THREE.TextureLoader().load(this.skyboxData.yPos, this.checkTextureLoaded.bind(this, a));
        let yNeg = new THREE.TextureLoader().load(this.skyboxData.yNeg, this.checkTextureLoaded.bind(this, a));
        let zPos = new THREE.TextureLoader().load(this.skyboxData.zPos, this.checkTextureLoaded.bind(this, a));
        let zNeg = new THREE.TextureLoader().load(this.skyboxData.zNeg, this.checkTextureLoaded.bind(this, a));
        a.set([xPos, xNeg, yPos, yNeg, zPos, zNeg]);
        this.addAsset(a);
        this.loader = loader;
        this.addGeomAsset(loader);
        return true;
    }
    addGeomAsset(loader) {
        let geomAsset = loader.getSharedAsset("#skyboxGeom");
        if (!(geomAsset.loaded)) {
            geomAsset.set(new THREE.CubeGeometry(1000, 1000, 1000, 1, 1, 1));
            geomAsset.loaded = true;
        }
        this.addAsset(geomAsset);
        return true;
    }
    checkTextureLoaded(a) {
        this._loadedTextures++;
        if (this._loadedTextures === 6)
            a.loaded = true;
    }
    create() {
        let textures = this.getAsset("#textureArray");
        var materialArray = [];
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[0], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[1], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[2], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[3], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[4], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[5], fog: false }));
        for (var i = 0; i < 6; i++)
            materialArray[i].side = THREE.BackSide;
        var skyboxGeom = this.loader.getSharedAsset("#skyboxGeom").asset;
        var skybox = new THREE.Mesh(skyboxGeom, materialArray);
        this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](skybox));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Wall.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Wall.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Wall; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_Asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/Asset */ "./src/engine/Asset.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var _GeomLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GeomLoader */ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts");
/* harmony import */ var _MaterialLoader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MaterialLoader */ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");







class Wall extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(wallType, position, rotation) {
        super(null);
        this.model = wallType;
        this._position = position;
        this._rotation = rotation;
    }
    load({ loader: loader }) {
        this.loader = loader;
        if (this.model.details)
            this.geom = this.addAsset(this.createSlopedWallGeom(this.model));
        else
            this.geom = this.addAsset(_GeomLoader__WEBPACK_IMPORTED_MODULE_4__["default"].getSharedPlaneGeom(loader));
        this.material = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_5__["default"].getSharedMaterialAsset(loader, this.model.filename, this.model.normalMap, this.model.alphaMap, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](this.model.wallData.value.repeat[0], this.model.wallData.value.repeat[1]), this.model.wallData.value.transparent, false));
        return ((this.material !== null) && (this.geom !== null));
    }
    create() {
        this.mesh = this.addChild(this.createMesh());
        this.mesh.mesh.userData = { gameObject: this };
        this.model.hidden.onUpdate.push(this.updateWall.bind(this), this);
        this.model.wallData.onUpdate.push(this.changeWallType.bind(this), this);
        this.updateWall();
    }
    updateWall() {
        this.mesh.mesh.visible = !this.model.hidden.value;
        this.requestDraw();
    }
    changeWallType() {
        let matAsset = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_5__["default"].getSharedMaterialAsset(this.loader, this.model.filename, this.model.normalMap, this.model.alphaMap, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](this.model.wallData.value.repeat[0], this.model.wallData.value.repeat[1]), this.model.wallData.value.transparent, false));
        if ((matAsset) && (matAsset.loaded)) {
            this.material = matAsset;
            if (!(this.mesh))
                this.mesh = this.addChild(this.createMesh());
            else
                this.mesh.mesh.material = this.material.asset;
            this.requestDraw();
        }
        else
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_3__["default"](100)).onComplete.push((() => this.changeWallType()).bind(this), this);
    }
    createMesh() {
        let wall = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.geom.asset, this.material.asset);
        wall.mesh.position.x = this._position.x;
        wall.mesh.position.y = this._position.y;
        wall.mesh.position.z = this._position.z;
        wall.mesh.rotation.x = this._rotation.x;
        wall.mesh.rotation.y = this._rotation.y;
        wall.mesh.rotation.z = this._rotation.z;
        return wall;
    }
    createSlopedWallGeom(wallModel) {
        var geom = new THREE.Geometry();
        geom.vertices.push(new THREE.Vector3(-0.5, 0.5, wallModel.details.nw));
        geom.vertices.push(new THREE.Vector3(0.5, 0.5, wallModel.details.ne));
        geom.vertices.push(new THREE.Vector3(0.5, -0.5, wallModel.details.se));
        geom.vertices.push(new THREE.Vector3(-0.5, -0.5, wallModel.details.sw));
        geom.vertices.push(new THREE.Vector3(0, 0, wallModel.details.mid));
        geom.faces.push(new THREE.Face3(0, 4, 1));
        geom.faces.push(new THREE.Face3(2, 1, 4));
        geom.faces.push(new THREE.Face3(2, 4, 3));
        geom.faces.push(new THREE.Face3(3, 4, 0));
        let uv = geom.faceVertexUvs[0];
        uv.push([], [], [], []);
        uv[0][0] = new THREE.Vector2(0, 0);
        uv[0][1] = new THREE.Vector2(0.5, 0.5);
        uv[0][2] = new THREE.Vector2(1, 0);
        uv[1][0] = new THREE.Vector2(1, 1);
        uv[1][1] = new THREE.Vector2(1, 0);
        uv[1][2] = new THREE.Vector2(0.5, 0.5);
        uv[2][0] = new THREE.Vector2(1, 1);
        uv[2][1] = new THREE.Vector2(0.5, 0.5);
        uv[2][2] = new THREE.Vector2(0, 1);
        uv[3][0] = new THREE.Vector2(0, 1);
        uv[3][1] = new THREE.Vector2(0.5, 0.5);
        uv[3][2] = new THREE.Vector2(0, 0);
        geom.computeFaceNormals();
        return new engine_Asset__WEBPACK_IMPORTED_MODULE_2__["default"]("#slopedGeom", geom, true);
    }
    destroy() {
        this.model.hidden.onUpdate.unregister(this);
        this.model.wallData.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/WorldCell.ts":
/*!*******************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/WorldCell.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldCell; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _Wall__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Wall */ "./src/examples/classic-rpg-interface/sceneview/Wall.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");



class WorldCell extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(x, y, z, model) {
        super(null);
        this.x = x;
        this.y = y;
        this.z = z;
        this.model = model;
    }
    create() {
        this.group = new THREE.Group();
        this.group.position.set(new THREE.Vector3(this.x, this.y, this.z));
        this.createWalls();
    }
    createWalls() {
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[0], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0, this.z - 0.5), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[1], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0.5, this.y + 0, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 2, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[2], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0, this.z + 0.5), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[3], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x - 0.5, this.y + 0, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 2, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[4], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y - 0.5, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](-Math.PI / 2, 0, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[5], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0.5, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](Math.PI / 2, 0, 0)));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/WorldObject.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/WorldObject.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldObject; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");


class WorldObject extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this.model = model;
    }
    create() {
        let geom = new THREE.PlaneGeometry(1, 1, 0);
        let texture = new THREE.TextureLoader().load(this.model.filename, (() => { this.requestDraw(); }).bind(this));
        let material = new THREE.MeshBasicMaterial({ map: texture });
        let mesh = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](geom, material);
        mesh.mesh.position.x = this.model.position[0];
        mesh.mesh.position.y = this.model.position[1];
        mesh.mesh.position.z = this.model.position[2];
        this.mesh = this.addChild(mesh);
    }
}


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0xhdW5jaGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL25wY3MvYnVlci10ZXN0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9ucGNzL2ZhbmN5LWRyZXNzLTEyLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9ucGNzL3NrdWxsLWNyb3NzYm9uZXMucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL25wY3MvdWtvYmFjaC10ZXN0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC8xMHAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzExcC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvMTJwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC8xM3AucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzE0cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvMXAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzJwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC8zcC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvNHAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzVwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC82cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvN3AucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzhwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC85cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV9kb3duLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX2Vhc3QucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfbm9ydGgucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfc291dGgucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfdXAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfd2VzdC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvc3BlbGxzL2JlYXV0aWZ1bC1iaXJkLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy80LWFyY2gucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0FudGVkaWx1dmlhbiBEb29yLWFscGhhbWFwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9BbnRlZGlsdXZpYW4gRG9vci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQXN5bHVtIENlbGwgT3JhbmdlLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9CYXR0ZXJlZCBSZWQgQ2xvdmVyLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Ccm93biBRdXNzYWlyIEdyYW5pdGUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0NhcnZlZCBTYW5kc3RvbmUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0NvdHRhZ2UgMSAtIERvb3IgKEZMIDEpLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBEb29yIDIgKEZMIDEpLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXYWxsIChGTCAxKS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gV2FsbCAoRkwgMispLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXaW5kb3cgKEZMIDIrKS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gV2luZG93IDIgKEZMIDIrKS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQ291bmNpbCBDaGFtYmVyLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9EYXJrIEdyYXkgTWFyYmxlLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9EZWFkIENhdmVzLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9GZW4gU3RvbmUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0ZvcmVzdCBGbG9vci5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvR2xhc3N5IFBpbmsgTWFyYmxlLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9HcmFuaXRlIFdhbGwuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL01pZG5pZ2h0IFN0b25lLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Nb3NzIEN1c2hpb25zLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Nb3NzeSBSb2NrLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9QYWxhY2UgRmxvb3IuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1JvdWdoIE9ydGhvY2xhc2UuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NhbWFyaXMgTWV0YWwuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NhbWFyaXMuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NhbmR5IExpY2hlbiBCcmljay5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU2VnbWVudGVkIFN0b25lIFdhbGwuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NsaW1lIFdhbGwuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NtYXNoZWQgR3JheSBNYXJibGUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NtdWRnZWQgRGlydC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU3RyYXcgUm9vZiBJbnRlcmlvci5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU3RyYXcgUm9vZi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvV2VlZHMgYW5kIEdyYXZlbC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvV2VlZHkgTGF3bi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvZW1wdHkucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL2Fpci1zcGVsbC10YWIucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL2NoYXJzaGVldC1pY29uLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9lYXJ0aC1zcGVsbC10YWIucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL2ZpcmUtc3BlbGwtdGFiLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9ob3VyZ2xhc3MucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL25leHRpY29uLWdyZWVuLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9uZXh0aWNvbi1yZWQucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL25leHRpY29uLXllbGxvdy5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvcXVpY2staXRlbXMtdGFiLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9zdGF0dXMtZGVhZC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvc3RhdHVzLXNsb3cucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL3N0YXR1cy10b3JjaC1saWdodC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvd2F0ZXItc3BlbGwtdGFiLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0Fzc2V0LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0dhbWVPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9UcmFuc2Zvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9UcmVlVXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L0NsaXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L0NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L1BvbHlnb25Db2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L1RocmVlQnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9UaHJlZU1lc2gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L1RpbWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9hbmltL0FuaW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9Qb2ludDNUd2Vlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9Ud2Vlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV3JhcHBpbmdQb2ludDNUd2Vlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XcmFwcGluZ1ZhbHVlVHdlZW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9CdWZmZXJDbG9uZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0J1ZmZlcmVkLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvQ2lyY2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvRHJhd0J1ZmZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9Sb290LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUm91bmRlZFJlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9TaGFwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1Nwcml0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1RyaWFuZ2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL0NsaWNrVHJpZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvdWkvRGVidWdQYW5lLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9HcmlkTGF5b3V0LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9LZXlUcmlnZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9Mb2FkaW5nQmFyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9Nb3VzZURyYWdUcmlnZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9Nb3VzZVRyaWdnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL1ByZXNzSG9sZFRyaWdnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvaW8vSU8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9pby9LZXlib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2lvL0xvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2lvL01vdXNlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvaW8vVGltaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL0JvdW5kcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vQ29uZGl0aW9uYWxEaW1lbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUmVsYXRpdmVEaW1lbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vQWRqYWNlbnRUcmFuc2xhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Db25kaXRpb25hbFRyYW5zbGF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vVHJhbnNsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS91dGlsL0V2ZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdXRpbC9Qb2ludC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3V0aWwvUG9pbnQzLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdXRpbC9Qb2x5U2hhcGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9HYW1lT3Zlck1lbnUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9JbnRyb0ZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvTGF1bmNoZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9Mb2FkaW5nU3RhdHVzRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9NYWluRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9NYWluTWVudUJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL1Rvb2xUaXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9VSU1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvV29ybGRGcmFtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9BY3Rpb25CYXJNZW51LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL0NoYXJhY3Rlck1lbnUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9jb3JlLXVpLWNvbXBvbmVudHMvRGV0YWlsTWVudUZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL0RldGFpbE1lbnVNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9NYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9jb3JlLXVpLWNvbXBvbmVudHMvTWluaU1hcEZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL1BhcnR5U3RhdHVzTWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9Qb3J0cmFpdEJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9TdGF0dXNMaXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL1RhYkJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9UYWJMaXN0TWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2RhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9BY3Rvck1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvQ2hhcmFjdGVyTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9FcXVpcG1lbnRNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL0dhbWVNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL0l0ZW1Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL1BhcnR5TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9QbGF5ZXJNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL1NwZWxsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvU3BlbGxMaXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvU3RhdHVzLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0FjdGlvbk1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0FjdGlvblJlc3VsdE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0F0dGFja0FjdGlvbk1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0luaXRpYXRpdmVNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL2FjdGlvbi9Mb290QWN0aW9uTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vT3BlbkRvb3JBY3Rpb25Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL2FjdGlvbi9zcGVsbHMvRmlyZUJvbHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vc3BlbGxzL0ZseS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL2FjdGlvbi9zcGVsbHMvTGV2ZWxFZGl0aW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL3NwZWxscy9NaW5pTWFwLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL3NwZWxscy9Ub3JjaExpZ2h0LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvQ2VsbE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvRG9vck1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvTGV2ZWxNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL3dvcmxkL05QQ01vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvV2FsbE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvV29ybGRNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL3dvcmxkL1dvcmxkT2JqZWN0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvRG9vci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL3NjZW5ldmlldy9HZW9tTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L01hdGVyaWFsTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L05QQy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL3NjZW5ldmlldy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvU2NlbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvU2t5Ym94LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L1dhbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvV29ybGRDZWxsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L1dvcmxkT2JqZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBK0I7QUFFcUI7QUFDUztBQUMvQjtBQUNtQjtBQUNKO0FBQ1M7QUFDTjtBQUNFO0FBQ3VCO0FBQ25DO0FBVS9CLE1BQWUsUUFBUTtJQVMxQixJQUFJLGNBQWMsS0FBSyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBQztJQUNwRCxJQUFJLE1BQU0sS0FBSyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLElBQUksU0FBUyxLQUFLLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7SUFDM0MsSUFBSSxVQUFVLEtBQUssT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUM3QyxJQUFJLE9BQU8sS0FBSyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBZXZDLFlBQVksU0FBc0IsRUFBRSxVQUFtQjtRQUVuRCxJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLENBQUMsV0FBVyxHQUFHLFVBQVUsSUFBSSxZQUFZLENBQUM7SUFDbEQsQ0FBQztJQUVELE1BQU07UUFFRixJQUFJLElBQUksQ0FBQyxRQUFRO1lBQ2IsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQ0FBcUMsQ0FBQyxDQUFDO1FBQzNELElBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDN0YsSUFBSSxDQUFDLE9BQU8sR0FBSSxJQUFJLENBQUMsZUFBb0MsQ0FBQyxNQUFNLENBQUM7UUFDakUsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ2pFLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN6QyxJQUFJLENBQUMsZUFBZSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUUsSUFBSSxDQUFDLGVBQW9DLENBQUMsZ0JBQWdCLENBQUMsSUFBSSw0RUFBUyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoTCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUN6QixDQUFDO0lBRUQsS0FBSztRQUVELGlCQUFpQixDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQ3pELElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQUVELElBQUk7UUFFQSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2xCLG9CQUFvQixDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFUyxXQUFXLENBQUMsTUFBTSxFQUFFLGNBQWM7UUFFeEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxtREFBSSxDQUFDLGNBQWMsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDOUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVTLGlCQUFpQixDQUFDLE1BQTJCO1FBRW5ELElBQUksRUFBRSxHQUFHLElBQUksb0RBQUUsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNwQixPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFUyxxQkFBcUIsQ0FBQyxRQUFRLEVBQUUsU0FBUztRQUUvQyxJQUFJLGNBQWMsR0FBRyxJQUFJLHdFQUFJLENBQUMsUUFBUSxFQUFFLElBQUksaUVBQVEsRUFBRSxFQUFFLElBQUksK0RBQU0sQ0FBQyxJQUFJLDRFQUFTLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLHFFQUFhLEVBQUUsRUFBRSxJQUFJLHVFQUFlLEVBQUUsQ0FBQyxDQUFDO1FBQzlLLGNBQWMsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzlDLGNBQWMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLDRFQUFTLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDN0csY0FBYyxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxFQUFFLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzlGLGNBQWMsQ0FBQyxTQUFTLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdkMsT0FBTyxjQUFjLENBQUM7SUFDMUIsQ0FBQztJQUVTLFlBQVksQ0FBQyxFQUFNO1FBRXpCLElBQUksUUFBUSxHQUFHLElBQUksbUVBQWdCLEVBQUUsQ0FBQztRQUN0QyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDbEIsRUFBRSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDdEMsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRVMsU0FBUyxDQUFDLEVBQU0sRUFBRSxNQUF5QjtRQUVqRCxJQUFJLEtBQUssR0FBRyxJQUFJLDZEQUFhLEVBQUUsQ0FBQztRQUNoQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUM5QixFQUFFLENBQUMsWUFBWSxDQUFDLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNoQyxPQUFPLEVBQUUsQ0FBQztJQUNkLENBQUM7SUFFUyxVQUFVLENBQUMsRUFBTTtRQUV2QixFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksK0RBQWMsRUFBRSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ2hELE9BQU8sRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVTLFVBQVUsQ0FBQyxFQUFNO1FBRXZCLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSx5REFBTSxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDeEMsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuSUQsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7O0FDQXhDO0FBQUE7QUFBZSxNQUFNLEtBQUs7SUFNdEIsWUFBWSxRQUFnQixF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QUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFFMUIsSUFBSSxDQUFDLENBQUMsUUFBUTtZQUNWLElBQUksR0FBRyxDQUFDLENBQUMsb0JBQW9CLEVBQUU7O1lBRS9CLElBQUksR0FBRyxJQUFJLG1EQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTFCLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUM1QixJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ2QsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDckQsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3JELENBQUMsR0FBRyxJQUFJLENBQUM7UUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUN0RCxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDdEQsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNiLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFZLEVBQUUsQ0FBWTtRQUV0QyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUNwQyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUNwQyxJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDNUIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQzVCLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNkLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNkLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDbEUsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7WUFDbkUsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNiLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBTUQsYUFBYSxDQUFDLEtBQVk7UUFFdEIsSUFBSSxNQUFNLEdBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsRUFBRSxDQUFDO1FBQ3RELElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQ3RDLE9BQU8sU0FBUyxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0s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LEdBQUcsQ0FBQyxPQUFPLENBQUM7UUFDekIsQ0FBQyxDQUFDLENBQUM7UUFFUCxJQUFJLHdCQUF3QixHQUFHLEVBQUUsQ0FBQztRQUNsQyxJQUFJLHdCQUF3QixHQUFHLEVBQUUsQ0FBQztRQUNsQyxJQUFJLHdCQUF3QixHQUFHLEVBQUUsQ0FBQztRQUNsQyxJQUFJLHdCQUF3QixHQUFHLEVBQUUsQ0FBQztRQUNsQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO1lBRWxCLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzRCxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0Qsd0JBQXdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQy9DLHdCQUF3QixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMvQyx3QkFBd0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDL0Msd0JBQXdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQy9DLElBQUksQ0FBQyxDQUFDLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLEdBQUcsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQyxHQUFHLHdCQUF3QixDQUFDLENBQUMsQ0FB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QUMsQ0FBQztRQUVWLFdBQU0sR0FBRyxDQUFDLENBQUM7SUFDZixDQUFDO0NBQUE7QUFFTSxNQUFNLGNBQWUsU0FBUSxNQUFNO0lBRXRDLFNBQVMsQ0FBQyxFQUFNO1FBRVosRUFBRSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekQsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckQsRUFBRSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0QsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkQsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdkQsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkQsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckQsRUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckQsQ0FBQztJQUVELFlBQVksQ0FBQyxTQUFpQixFQUFFLEtB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Q2xDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDN0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUM7SUFDNUIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLEVBQUM7SUFFNUIsTUFBTSxDQUFDLENBQVM7UUFFWixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0RSxDQUFDO0lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFTLEVBQUUsQ0FBUztRQUU5QixPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM3RCxDQUFDO0lBRUQsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFTLEVBQUUsQ0FBVTtRQUU5QixJQUFJLENBQUMsQ0FBQyxFQUNOO1lBQ0ksT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDM0M7UUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENB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QUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxLQUFLLENBQUM7b0JBQzNJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQzthQUMzRjtZQUNELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDL0U7Z0JBQ0ksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLENBQUM7b0JBQ3BJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztxQkFDckYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLENBQUM7b0JBQ3pJ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Q0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBR2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRS9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RHLEVBQUUsQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVHLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRS9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXpHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25HLEVBQUUsQ0FB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SUFBSSx5REFBSyxDQUFDLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdk0sSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssMERBQU0sQ0FBQyxLQUFLO1lBQzdDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7YUFDdEMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssMERBQU0sQ0FBQyxTQUFTO1lBQ3RELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQzthQUM5QyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSywwREFBTSxDQUFDLElBQUk7WUFDakQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDO2FBQzlDLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLDBEQUFNLENBQUMsU0FBUztZQUN0RCxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxHQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsQ0FBQzthQUNsRCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSywwREFBTSxDQUFDLEtBQUs7WUFDbEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7YUFDNUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssMERBQU0sQ0FBQyxTQUFTO1lBQ3RELElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLElBQUksQ0FBQyxF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RSxTQUFTLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFFO1FBQzFGLEVBQUUsUUFBUSxFQUFFLDZFQUFjLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFFO1FBQzdGLEVBQUUsUUFBUSxFQUFFLDRFQUFhLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFFO1FBQzVGLEVBQUUsUUFBUSxFQUFFLGdGQUFnQixFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBRTtRQUMvRixFQUFFLFFBQVEsRUFBRSwwRUFBVyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBRTtRQUUxRixFQUFFLFFBQVEsRUFBRSxtRkFBYyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBRTtRQUM3RixFQUFFLFFBQVEsRUFBRSxtRkFBYyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBQyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBRTtRQUM3RixFQUFFLFFBQVEsRUFBRSxtRkFB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Q2pCLE9BQU8sRUFBRSxLQUFLO1lBQ2QsTUFBTSxFQUFFLFNBQVM7U0FDcEIsQ0FBQztJQUNGLEtBQUssRUFBRTtRQUNILFVBQVUsRUFBRSxDQUFDO2dCQUNULElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUM7Z0JBQ3pILFVBQVUsRUFBRSxFQUFFO2FBQ2pCO1lBQ0Q7Z0JBQ0ksSUFBSSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUM7Z0JBQ3JILFVBQVUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO2FBQ3pDO1lBQ0Q7Z0JBQ0ksSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUM7Z0JBQ3RILFVBQVUsRUFBRSxFQUFFO2FBQ2pCO1lBQ0Q7Z0JBQ0ksSUFBSSxFQUFFLFVBQVUsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUU7Z0JBQzFILFVBQVUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFDckMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtvQkFDM0IsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtvQkFDM0IsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLEVBQUUsQ0FBQzthQUMzQjtTQUNBO1FBQ0QsSUFBSSxFQUFFLENBQUM7S0FDVjtJQUNELE1BQU0sRUFBRSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFO0lBRXBELFVBQVUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsSUFBSSxFQUFFLDRFQUFjLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSx5RUFBYSxFQUFFO1FBQzlHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLDRFQUFjLEVBQUUsRUFBQyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLDRFQUFjLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSx1RUFBVyxFQUFFO1FBQzdILEVBQUUsSUFBSSxFQUFFLE1BQU0s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WUFDbkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsSUFBSTtZQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxLQUFLO1lBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLElBQUk7WUFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsY0FBYztRQUVWLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxLQUFLO1lBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLElBQUk7WUFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsS0FBSztZQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxJQUFJO1lBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELGVBQWU7UUFFWCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsS0FBSztZQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxJQUFJO1lBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLEtBQUs7WUFDbkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsSUFBSTtZQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCxVQUFVLENBQUMsRUFBRTtRQUVULElBQUksRUFBRSxLQUFLLENBQUM7WUFDUixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2pDLElBQUksRUFBRSxLQUFLLENBQUM7WUFDYixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNoQyxJQUFJLEVBQUUsS0FBSyxDQUFDO1lBQ2IsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDaEMsSUFBSSxFQUFFLEtBQUssQ0FBQztZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDakMsSUFBSSxFQUFFLEtBQUssQ0FBQztZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDakMsSUFBSSxFQUFFLEtBQUssQ0FBQztZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFTyxZQUFZLENBQUMsRUFBVSxFQUFFLE9BQWUsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7UUFFN0UsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5SCxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDekUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDcEcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7Z0JBQ3JHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQ3hHO29CQUNJLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzlILEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7aUJBQzFFO1FBQ1QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVELFNBQVMsQ0FBQyxTQUFvQjtRQUsxQixTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELGVBQWUsQ0FBQyxTQUF5QjtRQUVyQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWTtZQUM1QixJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQXlCLEVBQUUsTUFBbUI7UUFFeEQsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksRUFDaEM7WUFDSSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQztZQUNwRCxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDaEQsT0FBTyxNQUFNLENBQUM7U0FDakI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsZ0JBQWdCLENBQUMsTUFBZ0IsRUFBRSxNQUF5QixFQUFFLE1BQW1CO1FBRTdFLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFDMUQ7WUFDSSxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDaEQsT0FBTyxNQUFNLENBQUM7U0FDakI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsUUFBUSxDQUFDLEdBQWEsRUFBRSxJQUFZO1FBRWhDLElBQUksQ0FBQyxHQUFHO1lBQ0osTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsaUJBQWlCLENBQUMsWUFBK0I7UUFFN0MsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxRQUFRLENBQUMsS0FBaUI7UUFFdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDO1FBQzlDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUM7UUFDMUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2RixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFnQjtRQUk1QixJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNaLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFFVixHQUFHLElBQUksU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztRQUNQLE9BQU8sR0FBRztJQUNkLENBQUM7SUFFTyxNQUFNLENBQUMsY0FBYyxDQUFDLGNBQXNCO1FBRWhELElBQUksS0FBSyxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUM7WUFDbEIsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUU7WUFDakMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xFLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxhQUFhLENBQUMsTUFBYyxFQUFFLE1BQWM7UUFFeEMsSUFBSSxRQUFRLEdBQUcsMERBQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUN0RCxJQUFJLFFBQVEsSUFBSSxDQUFDO1lBQ2IsT0FBTyxJQUFJLENBQUM7UUFDaEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztDQUNKO0FBR00sTUFBTSxpQkFBaUI7SUFBOUI7UUFFSSxXQUFNLEdBQVUsSUFBSSx5REFBSyxFQUFFLENBQUM7UUFDNUIsV0FBTSxHQUFVLElBQUkseURBQUssRUFBRSxDQUFDO1FBQzVCLGtCQUFhLEdBQVUsSUFBSSx5REFBSyxFQUFFLENBQUM7UUFDbkMsd0JBQW1CLEdBQVUsSUFBSSx5REFBSyxFQUFFLENBQUM7UUFDekMsZ0JBQVcsR0FBVSxJQUFJLHlEQUFLLEVBQUUsQ0FBQztRQUNqQyxrQkFBYSxHQUFVLElBQUkseURBQUssRUFBRSxDQUFDO0lBQ3ZDLENBQUM7Q0FBQTs7Ozs7Ozs7Ozs7OztBQ2hjRDtBQUFBO0FBQWUsTUFBTSxTQUFTO0lBSTFCLElBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLElBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRXpDLFlBQVksUUFBa0I7UUFFMUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDN0IsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDYkQ7QUFBQTtBQUFBO0FBQUE7QUFBK0Q7QUFHSDtBQUk3QyxNQUFNLFVBQVU7SUFTM0IsTUFBTSxDQUFDLElBQWMsRUFBRSxTQUFvQjtRQUV2QyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLHVEQUFjLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksb0VBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksb0VBQWdCLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELElBQUksQ0FBQyxJQUFjO1FBRWYsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbEMsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBRXBCLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUM7WUFDN0IsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDckMsQ0FBQyxDQUFDLENBQUM7UUFDUCxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDdkMsQ0FBQztJQUdELFNBQVMsQ0FBQyxNQUFjO1FBRXBCLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLFVBQVUsS0FBSyxNQUFNLENBQUMsVUFBVSxDQUFDO1FBQ3JHLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDekIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUM7SUFDdEQsQ0FBQztJQUdELFFBQVEsQ0FBQyxTQUFpQjtRQUV0QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUM7UUFDN0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxHQUFHLGFBQWEsR0FBRSxTQUFTLEdBQUMsS0FBSyxDQUFDO0lBQ25FLENBQUM7SUFFRCxnQkFBZ0I7UUFFWixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxLQUFLLDJEQUFXLENBQUMsTUFBTSxDQUFDO1FBQ3pGLElBQUksV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQzVCO1lBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7WUFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztTQUN6QztJQUNMLENBQUM7Q0FFSjs7Ozs7Ozs7Ozs7OztBQzVERDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBd0M7QUFDTTtBQUNSO0FBR3RDLElBQVksTUFBOEU7QUFBMUYsV0FBWSxNQUFNO0lBQUcscUNBQUs7SUFBRSw2Q0FBUztJQUFFLG1DQUFJO0lBQUUsNkNBQVM7SUFBRSxxQ0FBSztJQUFFLDZDQUFTO0lBQUUsbUNBQUk7SUFBRSw2Q0FBUztBQUFBLENBQUMsRUFBOUUsTUFBTSxLQUFOLE1BQU0sUUFBd0U7QUFFM0UsTUFBTSxXQUFXO0lBQWhDO1FBSUksWUFBTyxHQUFXLENBQUMsQ0FBQztRQUVwQixjQUFTLEdBQVksS0FBSyxDQUFDO1FBQ25CLGNBQVMsR0FBYSxLQUFLLENBQUM7UUFDcEMsWUFBTyxHQUFZLElBQUksQ0FBQztRQUN4QixZQUFPLEdBQVksSUFBSSxDQUFDO1FBR2hCLG9CQUFlLEdBQVksS0FBSyxDQUFDO1FBQ2pDLGlCQUFZLEdBQVksS0FBSyxDQUFDO1FBQ3RDLGFBQVEsR0FBVSxJQUFJLHlEQUFLLEVBQUUsQ0FBQztJQXFvQmxDLENBQUM7SUFub0JHLElBQUksUUFBUSxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDekMsSUFBSSxRQUFRLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFDO0lBRWhFLElBQUksWUFBWSxLQUFLLE9BQU8sSUFBSSxDQUFDLGFBQWEsR0FBQztJQUMvQyxJQUFJLFlBQVksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUM7SUFFeEUsSUFBSSxjQUFjLEtBQUssT0FBTyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztJQUNyRCxJQUFJLGNBQWMsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLGVBQWUsR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUM7SUFFNUUsSUFBSSxXQUFXLEtBQUssT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztJQUMvQyxJQUFJLFdBQVcsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLFlBQVksR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUM7SUFFdEUsSUFBSSxzQkFBc0I7UUFFdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixJQUFJLEdBQUcsR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELElBQUksUUFBUSxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDekMsSUFBSSxRQUFRLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFDO0lBRWhFLElBQUksTUFBTTtRQUNOLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxLQUFLLGtEQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUM7WUFDL0YsT0FBTyxJQUFJLENBQUM7UUFDaEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUNELElBQUksWUFBWTtRQUNaLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxLQUFLLGtEQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUM7WUFDbEcsT0FBTyxJQUFJLENBQUM7UUFDaEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUNELElBQUksTUFBTSxLQUFLLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFMUMsTUFBTSxDQUFDLFNBQW9CLEVBQUMsSUFBYztRQUV0QyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVE7WUFDcEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7WUFFcEcsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLDBEQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0lBQ3ZGLENBQUM7SUFFRCxJQUFJLENBQUMsSUFBYztRQUVmLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JHLENBQUM7SUFFRCwyQkFBMkI7UUFFdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsU0FBUztRQUVMLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7YUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQzthQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7YUFDMUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQ2pDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQzthQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO2FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUNoQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7YUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUMvQixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDMUMsQ0FBQztJQUVELFFBQVE7UUFFSixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7YUFDMUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ2hDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQzthQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO2FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUNqQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7YUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQzthQUMxQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFFOUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzFDLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBYTtRQUVwQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUdwRCxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztRQUczQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFJRCxlQUFlLENBQUMsTUFBYztRQUUxQixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUN2QixPQUFPLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUMvQixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ25DLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzlCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQzNCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDbkMsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDdkIsT0FBTyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDL0IsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUNuQyxJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUN0QixPQUFPLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM5QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxjQUFjLENBQUMsTUFBYztRQUV6QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUN2QixPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDeEIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQzVCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ3RCLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDNUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDdkIsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQzNCLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUM1QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUN0QixPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxNQUFjO1FBRTdCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQ3ZCLE9BQU8sSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDdEIsT0FBTyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQ3ZCLE9BQU8sSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ3RCLE9BQU8sSUFBSSwwREFBTSxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVuQyxDQUFDO0lBRUQsV0FBVyxDQUFDLFFBQWdCO1FBRXhCLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLFFBQVEsR0FBRyxDQUFDO1lBQ1osUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWxCLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDbEYsSUFBSSxDQUFDLFlBQVksR0FBSSxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxFQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFNUcsSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsVUFBVSxDQUFDLFFBQWdCO1FBRXZCLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLFFBQVEsR0FBRyxDQUFDO1lBQ1osUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWxCLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNySCxJQUFJLENBQUMsWUFBWSxHQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFL0csSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsWUFBWSxDQUFDLFFBQWdCO1FBRXpCLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLFFBQVEsR0FBRyxDQUFDO1lBQ1osUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsR0FBQyxRQUFRLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUM7UUFFcEUsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQy9ILElBQUksQ0FBQyxZQUFZLEdBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7YUFFcEg7WUFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVMsRUFDcEM7Z0JBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDNUgsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7cUJBQ3hHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ2pJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2hIO2lCQUNJLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUyxFQUN6QztnQkFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUMzSCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztxQkFDeEcsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBRyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztvQkFDaEksSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDaEg7aUJBQ0ksSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTLEVBQ3pDO2dCQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQzVILElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO3FCQUN4RyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO29CQUNqSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNoSDtpQkFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVMsRUFDekM7Z0JBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDM0gsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7cUJBQ3hHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ2hJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2hIO1NBQ0o7UUFDRCxJQUFJLENBQUMsMkJBQTJCLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFTywyQkFBMkI7UUFFL0IsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFdBQVcsQ0FBQyxLQUFhO1FBRXJCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBR3BELElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1FBRzNCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFeEIsQ0FBQztJQUVELFdBQVc7UUFFUCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDM0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFlBQVk7UUFFUixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDM0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFVBQVU7UUFFTixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDM0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFdBQVc7UUFFUCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDM0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELE9BQU87UUFFSCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQ2hGO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDaEgsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVE7Z0JBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFFRCxTQUFTO1FBRUwsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQ3ZCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDaEgsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVE7Z0JBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0wsQ0FBQztJQUVELFNBQVM7UUFFTCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFDdkI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUss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QUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7Z0JBQ3ZILE9BQU8sSUFBSSxDQUFDO1NBQ25CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFNBQVM7UUFFTCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFDdkI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDM0csSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUNuQztJQUNMLENBQUM7SUFFRCxZQUFZO1FBRVIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUM3RTtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FB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SSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQzdDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUN6QjtZQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7U0FDaEM7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsRUFDekI7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO1lBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUM7U0FDcEM7UUFDRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsRUFDekI7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO1lBQzdCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRTtTQUNsQztRQUNELElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUN6QjtZQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUM7WUFDN0IsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQztTQUNwQztRQUNELElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUMsQ0FBQztJQUNqRCxDQUFDO0lBRUQsZUFBZSxDQUFDLElBQWE7UUFFekIsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQztRQUMxRCxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUM7WUFDckIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2hGLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQztZQUNyQixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUMzRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUM7WUFDckIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztJQUNuRixDQUFDO0lBRUQsV0FBVyxDQUFDLENBQUMsRUFBRSxJQUFZO1FBRXZCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDLENBQUM7UUFDakQsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFFckIsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLG1FQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUN0QyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3ZKLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxZQUFxQjtRQUV0RCxJQUFHLFlBQVk7WUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRWhFLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDbkMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVuQyxJQUFHLFlBQVksRUFBQztZQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDL0Q7UUFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3pDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsV0FBVyxDQUFDLE1BQVcsRUFBRSxPQUFlLEVBQUUsTUFBYyxFQUFFLElBQVk7UUFFbEUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLGlGQUFrQixDQUFDLE1BQU0sRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xELENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFO1lBRXBCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztRQUN4RCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckIsT0FBTyxDQUFDLENBQUM7SUFDYixDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7QUNqSEQ7QUFBQTtBQUFlLE1BQU0sVUFBVTtJQUUzQixNQUFNLENBQUMsa0JBQWtCLENBQUMsTUFBTTtRQUU1QixJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQztRQUNuRCxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEVBQ3ZCO1lBQ0ksU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzVDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1NBQzNCO1FBQ0QsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDVkQ7QUFBQTtBQUFlLE1BQU0sY0FBYztJQUUvQixNQUFNLENBQUMsc0JBQXNCLENBQUMsTUFBYyxFQUFFLFFBQWdCLEVBQUUsU0FBaUIsRUFBRSxRQUFnQixFQUFFLE1BQWEsRUFBRSxXQUFvQixFQUFFLFFBQWlCO1FBRXZKLFNBQVMsR0FBRyxTQUFTLElBQUksSUFBSSxDQUFDO1FBQzlCLFFBQVEsR0FBRyxRQUFRLElBQUksSUFBSSxDQUFDO1FBRTVCLElBQUksSUFBSSxHQUFHLFFBQVEsR0FBQyxNQUFNLEdBQUcsQ0FBQyxTQUFTLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLEdBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2hJLElBQUksYUFBYSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxFQUMzQjtZQUNJLElBQUksUUFBUSxHQUFHLGNBQWMsQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDakgsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDO2dCQUNYLE9BQU8sSUFBSSxDQUFDO1lBQ2hCLGFBQWEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDNUIsYUFBYSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDL0I7UUFDRCxPQUFPLGFBQWEsQ0FBQztJQUN6QixDQUFDO0lBRUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxNQUFjLEVBQUUsUUFBZ0IsRUFBRSxNQUFhO1FBRWxFLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxFQUN6QjtZQUNJLElBQUksT0FBTyxHQUFHLElBQUksS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUVoRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQ3hDO29CQUNJLE9BQU8sQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsY0FBYyxDQUFDO29CQUNyRCxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxDQUFFLENBQUM7b0JBQzNCLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFFLE1BQU0sQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBRSxDQUFDO2lCQUM1QztnQkFDRCxZQUFZLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQztZQUMvQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUNmLFlBQVksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7U0FDN0I7UUFDRCxPQUFPLFlBQVksQ0FBQztJQUN4QixDQUFDO0lBRUQsTUFBTSxDQUFDLFlBQVksQ0FBQyxNQUFjLEVBQUUsUUFBZ0IsRUFBRSxTQUFpQixFQUFFLFFBQWdCLEVBQUUsTUFBYSxFQUFFLFdBQW9CLEVBQUUsUUFBaUI7UUFFN0ksSUFBSSxjQUFjLENBQUM7UUFDbkIsSUFBSSxhQUFhLENBQUM7UUFDbEIsSUFBSSxRQUFRLEdBQUcsY0FBYyxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQ3hFLElBQUksU0FBUyxLQUFLLElBQUk7WUFDbEIsY0FBYyxHQUFHLGNBQWMsQ0FBQyxlQUFlLENBQUMsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUMvRSxJQUFJLFFBQVEsS0FBSyxJQUFJO1lBQ2pCLGFBQWEsR0FBRyxjQUFjLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFFN0UsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQztZQUNsQixPQUFPLElBQUksQ0FBQztRQUNoQixJQUFJLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDO1lBQ2hELE9BQU8sSUFBSSxDQUFDO1FBQ2hCLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUM7WUFDOUMsT0FBTyxJQUFJLENBQUM7UUFFaEIsSUFBSSxRQUFRLENBQUM7UUFDYixXQUFXLEdBQUcsQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLElBQUksV0FBVyxDQUFFO1FBQ2xELElBQUksU0FBUztZQUNULFFBQVEsR0FBRyxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxFQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsS0FBSztnQkFDMUQsU0FBUyxFQUFFLGNBQWMsQ0FBQyxLQUFLO2dCQUMvQixXQUFXLEVBQUUsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ25DLFNBQVMsRUFBRSxDQUFDO2dCQUNaLFdBQVcsRUFBRSxXQUFXLEVBQUMsQ0FBQyxDQUFDOztZQUUvQixRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsRUFBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEtBQUssRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFDLENBQUMsQ0FBQztRQUU5RixJQUFJLFFBQVE7WUFDUixRQUFRLENBQUMsUUFBUSxHQUFHLGFBQWEsQ0FBQyxLQUFLO1FBQzNDLElBQUksUUFBUTtZQUNSLFFBQVEsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLFVBQVU7UUFDcEMsT0FBTyxRQUFRLENBQUM7SUFDcEIsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDOUVEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMkM7QUFDUztBQUNMO0FBS2hDLE1BQU0sR0FBSSxTQUFRLHlEQUFVO0lBU3ZDLFlBQVksS0FBZTtRQUV2QixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFQaEIsYUFBUSxHQUFZLElBQUksQ0FBQztRQUd6QixjQUFTLEdBQUcsS0FBSyxDQUFDO1FBS2QsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUVELElBQUksQ0FBQyxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQXFCO1FBRXJDLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEdBQUMsTUFBTSxDQUFDO1FBQy9ELElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7WUFDaEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUMsTUFBTSxHQUFHLElBQUksR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZHLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFdkIsSUFBSSxXQUFXLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBQyxNQUFNLENBQUM7UUFDdEUsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQztZQUNwQixXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFHLFdBQVcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUMzQixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsU0FBUyxDQUFDLE9BQU8sRUFBRSxLQUFLO1FBRXBCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDO1FBQ3ZDLElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO1FBQ3pDLElBQUksTUFBTSxHQUFHLE1BQU0sR0FBQyxLQUFLLENBQUM7UUFDMUIsSUFBSSxDQUFDLENBQUM7UUFDTixJQUFJLENBQUMsQ0FBQztRQUNOLElBQUksS0FBSyxHQUFHLE1BQU0sRUFDbEI7WUFDSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1lBQ1YsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUM7U0FDbEI7YUFFRDtZQUNJLENBQUMsR0FBRyxLQUFLLENBQUM7WUFDVixDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQztTQUNsQjtRQUNELElBQUksSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDbEQsSUFBSSxRQUFRLEdBQUcsSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsRUFBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksR0FBRSxDQUFDLENBQUM7UUFDNUYsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztRQUMxQyxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsTUFBTTtRQUVGLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLG1FQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFDLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuSSxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLENBQUM7UUFDN0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztRQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZFLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDO1FBRTlDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZGLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNwRSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0lBQzVDLENBQUM7SUFFRCxhQUFhLENBQUMsR0FBWTtRQUV0QixJQUFJLEdBQUcsRUFDUDtZQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDL0IsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1NBQ3RCO0lBQ0wsQ0FBQztJQUVELFNBQVMsQ0FBQyxHQUFXO1FBRWpCLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQ3BCO1lBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUUsUUFBUSxDQUFFLENBQUM7WUFDakQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLG1FQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRTtnQkFFOUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ2hELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztZQUN2QixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDVCxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7U0FDdEI7UUFDRCxJQUFJLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztJQUNyQixDQUFDO0lBRUQsc0JBQXNCLENBQUMsR0FBRztRQUV0QixJQUFJLEdBQUcsRUFDUDtZQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFFLFFBQVEsQ0FBRSxDQUFDO1lBQ2pELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxtRUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzFHOztZQUVHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFFLFFBQVEsQ0FBRSxDQUFDO1FBQ3JELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQUc7UUFFZCxJQUFJLEdBQUcsRUFDUDtZQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFFLFFBQVEsQ0FBRSxDQUFDO1lBQ2pELElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxtRUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDckc7O1lBRUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUUsUUFBUSxDQUFFLENBQUM7UUFDckQsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxXQUFXLENBQUMsR0FBWTtRQUVwQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFDVjtZQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBQyxNQUFNLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUNuRixJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsRUFBQyxVQUFVLEVBQUUsSUFBSSxFQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNsRDtRQUNELElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQVc7UUFFdEIsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBQyxDQUFDLENBQUM7UUFDbkUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTTtRQUVGLElBQUksSUFBSSxDQUFDLE1BQU0sRUFDZjtZQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqRyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxHQUFHLEVBQ2xFO2dCQUNJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFDeEM7b0JBQ0ksSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDL0MsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDO29CQUNqQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLENBQUM7b0JBQ2hELElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO29CQUM1RCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxHQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7aUJBQ3ZIO2dCQUNELElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO2FBQ3pCO2lCQUNJLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFDdEU7Z0JBQ0ksSUFBSSxJQUFJLENBQUMsU0FBUyxFQUNsQjtvQkFDSSxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO29CQUMvQyxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztpQkFDMUI7YUFDSjtTQUNKO0lBQ0wsQ0FBQztJQUVELE9BQU87UUFFSCxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUMzQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDL0MsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNoRCxDQUFDO0NBRUo7Ozs7Ozs7Ozs7Ozs7QUNwTEQ7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUEyQztBQUdJO0FBQ1A7QUFDbUI7QUFDRTtBQUNnQjtBQUc5RCxNQUFNLE1BQU8sU0FBUSx5REFBVTtJQVMxQyxJQUFJLFNBQVMsS0FBYyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsQ0FBRSxDQUFDLENBQUM7SUFFbEksWUFBWSxXQUF3QixFQUFFLFNBQW9CO1FBRXRELEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFDO1FBQy9CLElBQUksQ0FBQyxNQUFNLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBRUQsTUFBTTtRQUVGLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMxRSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUU7WUFFNUIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFFNUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFDaEUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFDaEUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFFaEUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQztZQUM1QyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ25DLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVELFdBQVcsQ0FBQyxJQUFhO1FBRXJCLElBQUksSUFBSSxFQUNSO1lBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXO2dCQUNqQixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsT0FBTztvQkFDL0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7O29CQUVoRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksS0FBSyxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUNyRSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ2pEO2FBRUQ7WUFDSSxJQUFJLElBQUksQ0FBQyxXQUFXO2dCQUNoQixJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0wsQ0FBQztJQUVELGNBQWMsQ0FBQyxPQUFpQjtRQUU1QixJQUFJLE9BQU8sS0FBSyxTQUFTO1lBQ3JCLE9BQU8sR0FBRyxJQUFJLENBQUM7UUFDbkIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsc0JBQXNCLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQztJQUM3RSxDQUFDO0lBRUQsY0FBYyxDQUFDLE9BQWlCO1FBRTVCLElBQUksT0FBTyxLQUFLLFNBQVM7WUFDckIsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNuQixJQUFJLElBQUksR0FBRyxHQUFHLENBQUM7UUFDZixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLHlEQUFNLENBQUMsS0FBSztZQUNuQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2hFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUsseURBQU0sQ0FBQyxTQUFTO1lBQ3ZDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUsseURBQU0sQ0FBQyxJQUFJO1lBQ2xDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUsseURBQU0sQ0FBQyxTQUFTO1lBQ3ZDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDN0UsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyx5REFBTSxDQUFDLEtBQUs7WUFDbkMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDdEUsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyx5REFBTSxDQUFDLFNBQVM7WUFDdkMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUUsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyx5REFBTSxDQUFDLElBQUk7WUFDbEMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3hFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUsseURBQU0sQ0FBQyxTQUFTO1lBQ3ZDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1RSxDQUFDO0lBRU8sa0JBQWtCLENBQUMsUUFBZ0IsRUFBRSxPQUFnQixFQUFFLElBQVk7UUFFdkUsSUFBSSxJQUFJLENBQUMsU0FBUztZQUNkLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDcEMsSUFBSSxPQUFPLEVBQ1g7WUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDNUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksMEVBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLGNBQWMsRUFBRSxJQUFJLDBEQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBQyxRQUFRLENBQUMsQ0FBQyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ2pJLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1lBQ3ZFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxtRUFBSSxDQUFDLElBQUksR0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzNGOztZQUVHLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxHQUFHLFFBQVEsQ0FBQztRQUN4QyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBRU8sa0JBQWtCLENBQUMsUUFBZ0IsRUFBRSxPQUFnQixFQUFFLElBQVk7UUFFdkUsSUFBSSxJQUFJLENBQUMsU0FBUztZQUNkLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDcEMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDdEIsSUFBSSxPQUFPLEVBQ1g7WUFDSSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7WUFDNUIsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksa0ZBQW1CLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxVQUFVLEVBQUUsSUFBSSwwREFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsUUFBUSxDQUFDLENBQUMsRUFBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoTCxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUN2RSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksbUVBQUksQ0FBQyxJQUFJLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxHQUFHLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMzRjs7WUFFRyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDcEMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVPLGdCQUFnQjtRQUVwQixJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDO0lBQzNDLENBQUM7SUFFRCxPQUFPO1FBRUgsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2hCLElBQUksSUFBSSxDQUFDLFNBQVM7WUFDZCxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3BDLElBQUksSUFBSSxDQUFDLFNBQVM7WUFDZCxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hELElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEQsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDckpEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXdEO0FBR3BCO0FBQ0k7QUFDaEI7QUFFTTtBQUNBO0FBSUo7QUFFMEI7QUFJckMsTUFBTSxLQUFNLFNBQVEscUVBQVc7SUFVMUMsWUFBWSxRQUFrQixFQUFFLE1BQWMsRUFBRSxTQUFvQjtRQUVoRSxLQUFLLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztRQUN2QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBRUQsTUFBTTtRQUVGLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2xGLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN2QixDQUFDO0lBRUQsV0FBVztRQUVQLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxHQUFHLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBRSxRQUFRLENBQUUsQ0FBQztRQUVwRCxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUNuRDtZQUNJLElBQUksUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUd6QyxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQ2hELElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3pCO1FBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFFLFFBQVEsRUFBRSxJQUFJLENBQUUsQ0FBQyxDQUFDO1FBRXpELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBRWYsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQixDQUFDLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNyQixDQUFDLENBQUMsQ0FBQztRQUVQLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQzlCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTFDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDdkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFNUMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUUvQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsUUFBUSxLQUFLLFNBQVMsRUFDbEU7WUFDSSxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNoRyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSwrQ0FBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7U0FDdkQ7UUFFRCxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSwrQ0FBTSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQztZQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVsQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBR3ZCLENBQUM7SUFFRCxpQkFBaUI7UUFFYixJQUFJLFNBQVMsR0FBRyxJQUFJLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNyQyxJQUFJLFlBQVksR0FBRyxFQUFFLENBQUM7UUFFdEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFZLEVBQUUsRUFBRTtZQUU1QixDQUFDLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQVcsRUFBRSxFQUFFO2dCQUUzQixJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFDeEM7b0JBQ0ksU0FBUyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNyRSxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQy9DLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQzVDLENBQUMsRUFBRSxDQUFDO2lCQUNQO1lBQ0wsQ0FBQyxDQUFDLENBQUM7UUFDWCxDQUFDLENBQUMsQ0FBQztRQUNQLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBWSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQztRQUN6RCxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNoQixTQUFTLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDMUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksbUVBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLENBQUM7SUFFTyxjQUFjO1FBRWxCLElBQUksVUFBVSxHQUFlLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7UUFDckUsSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2YsVUFBVSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFFLEVBQUU7WUFFM0IsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBQyxDQUFDLEVBQUUsRUFBRTtnQkFFaEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsRUFBRSxDQUNwQixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksa0RBQVMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakQsQ0FBQyxDQUFDLENBQUM7UUFDWCxDQUFDLENBQUMsQ0FBQztRQUNQLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFTyxnQkFBZ0I7UUFFcEIsSUFBSSxVQUFVLEdBQWUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztRQUNyRSxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDakIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUU7WUFFL0IsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLG9EQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQztRQUNILE9BQU8sT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFHTyxTQUFTO1FBRWIsSUFBSSxVQUFVLEdBQWUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztRQUNyRSxJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7UUFDZixVQUFVLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUUsRUFBRTtZQUU3QixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksNkNBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLENBQUMsQ0FBQyxDQUFDO1FBQ0gsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVPLFFBQVE7UUFFWixJQUFJLFVBQVUsR0FBZSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO1FBQ3JFLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNkLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxFQUFFO1lBRTlCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSw0Q0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDNUIsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRU8sUUFBUTtRQUVaLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQzFFLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFhLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ2hELENBQUM7SUFFRCxPQUFPO1FBRUgsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEUsQ0FBQztDQUVKOzs7Ozs7Ozs7Ozs7O0FDL0tEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMkM7QUFDUztBQUduQjtBQUlsQixNQUFNLE1BQU8sU0FBUSx5REFBVTtJQU0xQyxZQUFZLFVBQXNCO1FBRTlCLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUxOLG9CQUFlLEdBQVcsQ0FBQyxDQUFDO1FBTWxDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFJLENBQUMsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFzQjtRQUV0QyxJQUFJLENBQUMsR0FBRyxJQUFJLG9EQUFLLENBQUMsZUFBZSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNoRCxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUs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ckMsSUFBSSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7UUFFaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsQ0FBQyxHQUFHLEVBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBQyxDQUFDLEdBQUcsRUFBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWpFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFeEMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLEVBQUUsQ0FBQyxDQUFD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QUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU3SCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksNkNBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTFILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSw2Q0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTVILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSw2Q0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFM0gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLDZDQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEksQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDcEREO0FBQUE7QUFBQTtBQUFBO0FBQTJDO0FBQ1M7QUFHckMsTUFBTSxXQUFZLFNBQVEseURBQVU7SUFLL0MsWUFBWSxLQUF1QjtRQUUvQixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDWixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTTtRQUVGLElBQUksSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzVDLElBQUksT0FBTyxHQUFHLElBQUksS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzdHLElBQUksUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDLEVBQUMsR0FBRyxFQUFFLE9BQU8sRUFBQyxDQUFDLENBQUM7UUFDM0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxtRUFBUyxDQUFDLElBQUksRUFBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEMsQ0FBQztDQUVKIiwiZmlsZSI6ImdhbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvTGF1bmNoZXIudHNcIik7XG4iLCJpbXBvcnQgR2FtZSBmcm9tIFwiZW5naW5lL0dhbWVcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFJvb3QgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9Sb290XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBJTyBmcm9tIFwiZW5naW5lL2lvL0lPXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgeyBLZXlib2FyZExpc3RlbmVyIH0gZnJvbSBcImVuZ2luZS9pby9LZXlib2FyZFwiO1xuaW1wb3J0IHsgTW91c2VMaXN0ZW5lciB9IGZyb20gXCJlbmdpbmUvaW8vTW91c2VcIjtcbmltcG9ydCB7IFRpbWluZ0xpc3RlbmVyIH0gZnJvbSBcImVuZ2luZS9pby9UaW1pbmdcIjtcbmltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuXG5kZWNsYXJlIHZhciBNYWluTG9vcDogYW55O1xuZGVjbGFyZSB2YXIgYWRkUmVzaXplTGlzdGVuZXI6IGFueTtcbmRlY2xhcmUgdmFyIHJlbW92ZVJlc2l6ZUxpc3RlbmVyOiBhbnk7XG5cbi8qKlxuICogVGhlIGV4dGVybmFsIGZhY2luZyBjbGFzcyB0aGF0IGNyZWF0ZXMgYSBHYW1lIG9iamVjdC4gR2FtZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgY2xhc3NcbiAqIGFuZCBzZXQgdGhlIF9yb290R2FtZU9iamVjdFR5cGUgdmFyaWFibGUuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMYXVuY2hlclxue1xuICAgIHByb3RlY3RlZCBfZ2FtZTogR2FtZTtcbiAgICBwcm90ZWN0ZWQgX3Jvb3RHYW1lT2JqZWN0OiBHYW1lT2JqZWN0XG4gICAgcHJvdGVjdGVkIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50XG4gICAgcHJvdGVjdGVkIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByb3RlY3RlZCBfY2FudmFzTmFtZTogc3RyaW5nXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVkOiBib29sZWFuO1xuXG4gICAgZ2V0IHJvb3RHYW1lT2JqZWN0KCkgeyByZXR1cm4gdGhpcy5fcm9vdEdhbWVPYmplY3Q7fVxuICAgIGdldCBjYW52YXMoKSB7IHJldHVybiB0aGlzLl9jYW52YXM7IH1cbiAgICBnZXQgY29udGFpbmVyKCkgeyByZXR1cm4gdGhpcy5fY29udGFpbmVyOyB9XG4gICAgZ2V0IGNhbnZhc05hbWUoKSB7IHJldHVybiB0aGlzLl9jYW52YXNOYW1lOyB9XG4gICAgZ2V0IGNyZWF0ZWQoKSB7IHJldHVybiB0aGlzLl9jcmVhdGVkOyB9XG5cbiAgICBwcm90ZWN0ZWQgX3Jlc2l6ZUZ1bmN0aW9uOiAoKSA9PiB2b2lkXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgUm9vdEdhbWVPYmplY3QgdG8gbG9hZC4gRWFjaCBnYW1lIHNob3VsZCBvdmVybG9hZCB0aGlzIGluIGl0c1xuICAgICAqIG93biBsYXVuY2hlci5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3Jvb3RHYW1lT2JqZWN0VHlwZTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgZ2FtZSBsYXVuY2hlclxuICAgICAqIEBwYXJhbSBjb250YWluZXIgVGhlIERPTSBvYmplY3QgdG8gcGFyZW50IHRoZSBjYW52YXMgdG9cbiAgICAgKiBAcGFyYW0gY2FudmFzTmFtZSBUaGUgbmFtZSBvZiB0aGUgY2FudmFzLCBkZWZhdWx0cyB0byBcImdhbWVDYW52YXNcIlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbnZhc05hbWU/OiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuX2NhbnZhc05hbWUgPSBjYW52YXNOYW1lIHx8IFwiZ2FtZUNhbnZhc1wiO1xuICAgIH0gXG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NyZWF0ZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIEdhbWU6IGFscmVhZHkgY3JlYXRlZFwiKTtcbiAgICAgICAgdGhpcy5fcm9vdEdhbWVPYmplY3QgPSB0aGlzLl9jcmVhdGVSb290R2FtZU9iamVjdCh0aGlzLl9yb290R2FtZU9iamVjdFR5cGUsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9ICh0aGlzLl9yb290R2FtZU9iamVjdCBhcyBSb290PEdhbWVPYmplY3Q+KS5jYW52YXM7XG4gICAgICAgIHRoaXMuX2dhbWUgPSB0aGlzLl9jcmVhdGVHYW1lKHRoaXMuY2FudmFzLCB0aGlzLl9yb290R2FtZU9iamVjdCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZUZ1bmN0aW9uID0gKCgpID0+ICh0aGlzLl9yb290R2FtZU9iamVjdCBhcyBSb290PEdhbWVPYmplY3Q+KS5yZXNpemVUb09uVXBkYXRlKG5ldyBEaW1lbnNpb24odGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0KSkpLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHN0YXJ0KCkgXG4gICAge1xuICAgICAgICBhZGRSZXNpemVMaXN0ZW5lcih0aGlzLl9jb250YWluZXIsIHRoaXMuX3Jlc2l6ZUZ1bmN0aW9uKTtcbiAgICAgICAgdGhpcy5fZ2FtZS5zdGFydCgpO1xuICAgIH1cblxuICAgIHN0b3AoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZ2FtZS5zdG9wKCk7XG4gICAgICAgIHJlbW92ZVJlc2l6ZUxpc3RlbmVyKHRoaXMuX2NvbnRhaW5lciwgdGhpcy5fcmVzaXplRnVuY3Rpb24pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfY3JlYXRlR2FtZShjYW52YXMsIHJvb3RHYW1lT2JqZWN0LCk6IEdhbWVcbiAgICB7XG4gICAgICAgIGxldCBnYW1lID0gbmV3IEdhbWUocm9vdEdhbWVPYmplY3QsIHRoaXMuX2NyZWF0ZUludGVyZmFjZXMoY2FudmFzKSwgTWFpbkxvb3ApO1xuICAgICAgICBnYW1lLmNyZWF0ZSgpO1xuICAgICAgICByZXR1cm4gZ2FtZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2NyZWF0ZUludGVyZmFjZXMoY2FudmFzPyA6IEhUTUxDYW52YXNFbGVtZW50KTogSU9cbiAgICB7XG4gICAgICAgIGxldCBpbyA9IG5ldyBJTygpO1xuICAgICAgICB0aGlzLl9hZGRUaW1pbmcoaW8pO1xuICAgICAgICB0aGlzLl9hZGRMb2FkZXIoaW8pO1xuICAgICAgICByZXR1cm4gaW87XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVSb290R2FtZU9iamVjdChyb290VHlwZSwgY29udGFpbmVyKTogUm9vdDxhbnk+XG4gICAge1xuICAgICAgICBsZXQgcm9vdEdhbWVPYmplY3QgPSBuZXcgUm9vdChyb290VHlwZSwgbmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IERpbWVuc2lvbihjb250YWluZXIub2Zmc2V0V2lkdGgsIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQpKSwgbmV3IEZyYW1lTGlzdGVuZXIoKSwgbmV3IEZyYW1lQ29udHJvbGxlcigpKTtcbiAgICAgICAgcm9vdEdhbWVPYmplY3QuY3JlYXRlQ2FudmFzKHRoaXMuX2NhbnZhc05hbWUpO1xuICAgICAgICByb290R2FtZU9iamVjdC50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbnNbMF0gPSBuZXcgRGltZW5zaW9uKGNvbnRhaW5lci5vZmZzZXRXaWR0aCwgY29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gICAgICAgIHJvb3RHYW1lT2JqZWN0LnJlc2l6ZUNhbnZhcyhyb290R2FtZU9iamVjdC50cmFuc2Zvcm0uZ2V0RGltZW5zaW9uKCksIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgcm9vdEdhbWVPYmplY3QudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgIHJldHVybiByb290R2FtZU9iamVjdDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2FkZEtleWJvYXJkKGlvOiBJTyk6IElPXG4gICAge1xuICAgICAgICBsZXQga2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmRMaXN0ZW5lcigpO1xuICAgICAgICBrZXlib2FyZC5jcmVhdGUoKTtcbiAgICAgICAgaW8uYWRkSW50ZXJmYWNlKGtleWJvYXJkLCBcImtleWJvYXJkXCIpO1xuICAgICAgICByZXR1cm4gaW87XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9hZGRNb3VzZShpbzogSU8sIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpOiBJT1xuICAgIHtcbiAgICAgICAgbGV0IG1vdXNlID0gbmV3IE1vdXNlTGlzdGVuZXIoKTtcbiAgICAgICAgbW91c2UuYWRkVG8oZG9jdW1lbnQsIGNhbnZhcyk7XG4gICAgICAgIGlvLmFkZEludGVyZmFjZShtb3VzZSwgXCJtb3VzZVwiKTtcbiAgICAgICAgcmV0dXJuIGlvO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfYWRkVGltaW5nKGlvOiBJTyk6IElPXG4gICAge1xuICAgICAgICBpby5hZGRJbnRlcmZhY2UobmV3IFRpbWluZ0xpc3RlbmVyKCksIFwidGltaW5nXCIpO1xuICAgICAgICByZXR1cm4gaW87XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9hZGRMb2FkZXIoaW86IElPKTogSU9cbiAgICB7XG4gICAgICAgIGlvLmFkZEludGVyZmFjZShuZXcgTG9hZGVyKCksIFwibG9hZGVyXCIpO1xuICAgICAgICByZXR1cm4gaW87XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFjMzMyMDI0MDU1MTAyZjdlYTVkODc1MDY1YzQxMmJjLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ0MWRhZGFiNjQ5OGVmMmQ4ZmE0MDkzZTI4NTZmNTQwLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjdjM2QwZjhkNTU2NzlmMjdkODE5MmYwNjg1MTU5ZmU1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjBmNWExMWU3YzRkNjhkODhmNTk1ODc4M2I5MmZmMThhLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjlhNjUyMmU0NDIzMzAzOWZlZjU0MGEwYjAwMDAxMGVhLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFkMjU3ZDdlNDNjZThlYjlmMzllMzhhYjk1NzI1ZWVlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI5YjgxMTYzNGVkNDZjNmY4NjZmMDM2MjEwYzE3M2Y4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImIzNzZjYTUyMTljOGMxODFiZjFlYzQyYWE4NmE4MmVjLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc5ZjVkMTlmZTg0MDg3YmUwMzNhOGYzYjRkNTk5Y2Y2LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI2NWJmNTFhYTg3OTZkMTNiNDQ5ZDQxMDEwYzQyNDQ4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImYyMWVkMDlmMWM3OGVmNDc0NGM2NWRiNWQ4ODZiODVhLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjA4YjAzYzQzM2IyYzg0MTI3NDA1NDRiMDc2NTdmYmM0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjcwMDZiN2MwZTU0ZTA0Mjk1ZDk4MGM0YTAyM2Q0ZGQ0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImJkMmM4NzM1MTE1YzRlNjA3N2JlMjliZDM4Yjk2YjQ4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjJmMTMxZDRlNDc5YjJjMThjZTc0OGRlYTJhNGFiMjlmLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjg4ODg1MzAwOWQ0NjQ2YTlhMDExZWE5NjM0MGU1Mjk0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjAxNWFkNmViZWYyNDJiYThlM2IyMTk3ZDBhNjc2MGZmLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjRjOThkYmFhZDE3OGE2MzI5NDU2NTA0Y2NiNjMwYjkzLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjYyM2JhY2U2ODc1ZGRjY2VjODI4ZmYyZTY0NDViMGQ2LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImM5NjAzMzMzZjFiYjIwZTgyYmM2ODJlYmY5M2IyYzNiLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImUzZGIyNzIxOWIzNDBlMDc0ODkwYWQ0MGIxZWRmN2I1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjJjZTRlZWE2Mjg4Y2JlMWEwMDFjZGIxOGQ5OGZiMzZlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImMwZmZkOGI4NTBmNjNmYTI1MGE4YmQ5MDY3MmYxZTc2LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjE5YTMxNjZjZTlmNjA4ZTQ4YzkwYzE3NzZhYjc2YjczLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQxYzAwMjRlN2UwNzBmNzE1NmJlY2EwOTBmYmExY2M4LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ3MDUzNmIwMGIzYzFlOTY3MDg1Zjk4ODg4Zjc4YTkyLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjNhMjFiYmIxZTFhMTk1NzAwZjQ5NGZhZTliMmU1MTIwLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjBmYmVhYmE3MGM4ZWRmNWJiZDE0NmJlM2RlNDc3MzU1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFmODA2YWUwNmU4Y2MxYWViMGZhMDZhOGI0Zjc4NTU0LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjYyZjFiZDMxMDkyNzdiNjkzOTIzYzFlZjJmMGI3ZjMwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc5YTY2YmZmNDJiMzdhYzRhM2FjMWZkYjI2ZDg1NjJlLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY4OWNiMmFlMzRlMDViZGFlY2U2MjgwNjAyOTE0ZDQ3LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjcxM2Q2OWYyZmEwMDQxYWI3Y2JkYmZjNjJhZGRjNjkwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjI0ZjFiNzU3OTFmYWI4YmQ0NjA2ZmQyZDM0NjdmNzkzLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImYxNjE5NDFmNWM3ZWU0NTYzMzI3MjQyNjJmMGFjNTg4LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc2YjMyZjVjOGExMTg4ZjQ5M2FmMDRiYzdkZTc5NjAxLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFhZmIwODYwMzFmOGVmMDhlYWE3YjVjNzFjZjM0Mjg2LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjhhODNmYzIzYzdhNTM0Y2JiN2ZjY2Y2MmIzNWUwNTRjLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImExMmUwYzRlNGU4ZjdlNzIwY2RhY2I5YjRlMzJlMDcwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImVlZTg5NGU3OTk2NjMwNzJhNjQ4ZDUyMmQ4MjMyYjAzLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjU3YzI2NmM0YjI5NGY5MzUwODUzYWUxYTY3YjBhOTgzLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQ5ODQ2OWRjZTc4YmZjNjhmNzczNzY2MDk5YmIwNjg3LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjVlNTM3OTNkNWY3M2UxYmQzMmMxMWI4ZmZhYjI5NzVlLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjVkMjRhOGMxY2Y4Y2E0YzZlNmZiNDJlYzVkMGYxZTg2LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc3ZmEzYTkwYzg3MzU4M2JmOTdmZDAzMTQyYTRmODc3LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjAwZGQ0MjMxZGJjYTAzNWM2OTljNzRkMGE1MjlmZTU0LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjdhZTM1YTVkYmUyYzllNDk0MTViODRjZjJkMDc0YWMwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjM1OTIxNGNjNmNmMzk2MTYwOTgzZjcyNTFlZWNhZGE1LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjUzZDY4M2VhMDc4YTZjOWQ2ZWM4N2QyZTI0Y2VhYWRkLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQ3NjU3YWU1MWUwYjBkMzllNGI2NzY4YTlkOTMxODIxLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFiYmVkNjIzNDMzNjA0NTcxYWVmN2U2MDRlYWFlMzU4LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY1ZDNjMzliMzdlMTZlODM3OTNmYjEyYzQ5MjViYjM0LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImVhYjhlYmQ4YjM1NWQxNDQyN2M0OWNlYmQzZWU0YjE1LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjhjN2IwZGE3YmZlZTA0YzBiYWQ1N2Y3OTFiNzI3Njg2LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFmNThmMmJlYWVhOGNhNDVlNDNhZmNlODkxMDBjNmM4LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjliNWExNTIyMWJmYWM3YTE1MWRhY2I3YmQyMjU5NzRkLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImU2MGZkM2UyZjlmNDIxNWI3N2ViOTQ3ODdmMTFiOGZiLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjU0ODNjNzMwZGYzZDlmYjU2NzRhMWM2OTM0NzRkNjEwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZhNDY3OWY2ZjZmODQ3NzMwYjhhNTBiNDRhNjZiNWNlLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjgyMmUwOWNjMGU1NGRkMDI1ODMzYTc3YzQyMzk1NDdjLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjg1NjY1ZjVmY2YwMzJjZWFhNzU2Y2ZiZWE1MzgyMDI3LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjAzNGJkYTA5NzgwMjMwN2I3YWU1OGMyNzViN2E4NDUzLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImU3MmFiMzA4ZjljZDVjZDEyYzUzY2Y1Y2UwNWI4YWE5LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjBmMmNjZGM4NDgyMGIxMjU4YTM0YmQwNGRkOTg3YmU1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ4OTg3ZGVhODQ5YWJkNmE0NWNkYTQwZjZlNTBmZTIwLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY3YmEyOGM4MWQ3NzI2OThjZGE4ZDQwMWQ5MWRjMzU0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjI3OTY4Mzg5YjdjZjI1ODc3MDcwNWMxN2IyMGI4MTJlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNkZmYyM2QwM2U0OTg2MzM0YTdjMzQ5YTgyZjQ4OGU5LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImEzNzFmOWM3MDc3MDYwYTVhNDI4YzZlNTU5MmNlY2IxLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFmYjllZTgyMjY5MzY1MDY0NjZjOGZhMGM3NThkN2M0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImMxMDUzMjI3ZTNjM2MzMTIyMGNhYWNhNTI0MGExOWQ3LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImEwYjE2NWRhOGQ0YzAwZDE1ZDY2MDQ2MmQzYjU3ZWI4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjJhNzZmM2NmMTZlOTVlNGU5ZDk4NTI0MmJlYWJmYWZiLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjgzYjJjZjgwMjA2NmFlYjlkOTdlNThkMDIzMTcyZjJhLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjVjNWU3YjJmZjJkODMwZjkwN2M3YWM3MThlYzc3YmIxLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzc2V0PFQ+XG57XG4gICAgcHJpdmF0ZSBfZmlsZW5hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIF9hc3NldDogVDtcbiAgICBwcml2YXRlIF9sb2FkZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihmaWxlbmFtZTogc3RyaW5nLCBhc3NldDogVCwgbG9hZGVkOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICAgICAgdGhpcy5fYXNzZXQgPSBhc3NldDtcbiAgICAgICAgdGhpcy5fbG9hZGVkID0gbG9hZGVkO1xuICAgIH1cblxuICAgIGdldCBmaWxlbmFtZSgpIHsgcmV0dXJuIHRoaXMuX2ZpbGVuYW1lOyB9XG5cbiAgICBnZXQgYXNzZXQoKTogVCB7IHJldHVybiB0aGlzLl9hc3NldDsgfVxuXG4gICAgZ2V0IGxvYWRlZCgpIHsgcmV0dXJuIHRoaXMuX2xvYWRlZDsgfVxuXG4gICAgc2V0IGxvYWRlZCh2YWwpIHsgdGhpcy5fbG9hZGVkID0gdmFsOyB9XG5cbiAgICBzZXQoYXNzZXQ6IFQpIHsgdGhpcy5fYXNzZXQgPSBhc3NldDsgfVxufVxuIiwiaW1wb3J0IEV2ZW50IGZyb20gXCIuL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBJTyBmcm9tIFwiLi9pby9JT1wiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4vR2FtZU9iamVjdFwiO1xuXG4vKipcbiogR2FtZSBpcyB0aGUgdG9wLWxldmVsIG9iamVjdCB3aGljaCByZXByZXNlbnRzIGFuZCBydW5zIGEgZ2FtZSBpbiB0aGUgZW5naW5lLlxuKiBJdCBwcm92aWRlcyB0aGUgaW50ZXJmYWNlIGJldHdlZW4gdGhlIEdhbWVPYmplY3QgdHJlZSwgdGhlIG1haW4gbG9vcCwgYW5kIHRoZVxuKiBpbnRlcmZhY2VzLiBJdCB0YWtlcyBlYWNoIG9mIHRoZXNlIGFzIGFuIGFyZ3VtZW50LiBJdCByZWdpc3RlcnMgaXRzZWxmIHdpdGhcbiogdGhlIHN1cHBsaWVkIG1haW4gbG9vcCBvYmplY3QsIGFuZCBpbiB0dXJuIGNhbGxzIHRoZSBtYWluIGxvb3AgZnVuY3Rpb25zIG9uXG4qIHRoZSBnYW1lIG9iamVjdCB0cmVlLCBwYXNzaW5nIGFsb25nIHRoZSBpbnRlcmZhY2VzLlxuKiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lXG57XG4gICAgcHJpdmF0ZSBfcm9vdEdhbWVPYmplY3Q6IEdhbWVPYmplY3Q7XG4gICAgcHJpdmF0ZSBfaW86IElPO1xuICAgIHByaXZhdGUgX21haW5Mb29wO1xuICAgIHByaXZhdGUgX2NyZWF0ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAqIENyZWF0ZSBhIGdhbWUgZGVmaW5lZCBieSBhIGdpdmVuIHJvb3RHYW1lT2JqZWN0LlxuICAgICogQHBhcmFtIHJvb3RHYW1lT2JqZWN0IHRoZSByb290IG9mIHRoZSBHYW1lT2JqZWN0IHRyZWUgd2hpY2ggc2hvdWxkIGJlIGFcbiAgICAqIFJvb3RHYW1lT2JqZWN0LiBUaGUgbWFpbiBsb29wIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIG9uIHRoaXMgb2JqZWN0LlxuICAgICogQHBhcmFtIGlvIHRoZSBpbnRlcmZhY2VzIGNvbnRhaW5lZCB3aXRoaW4gYW4gSU8gb2JqZWN0XG4gICAgKiBAcGFyYW0gbWFpbkxvb3AgYSBNYWluTG9vcCBvYmplY3QgdGhhdCBwcm92aWRlcyBhbiBpbnRlcmZhY2UgdG8gcmVnaXN0ZXJcbiAgICAqIGNhbGxiYWNrcyBmb3IgdGhlIGZvdXIgcGFydHMgb2YgdGhlIG1haW4gbG9vcDogYmVnaW4sIHVwZGF0ZSwgZHJhdywgYW5kIGVuZC5cbiAgICAqKi9cbiAgICBjb25zdHJ1Y3Rvcihyb290R2FtZU9iamVjdDogR2FtZU9iamVjdCwgaW86IElPLCBtYWluTG9vcClcbiAgICB7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0ID0gcm9vdEdhbWVPYmplY3Q7XG4gICAgICAgIHRoaXMuX2lvID0gaW87XG4gICAgICAgIHRoaXMuX21haW5Mb29wID0gbWFpbkxvb3A7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZWdpc3RlcnMgdGhlIEdhbWUgb2JqZWN0IHdpdGggdGhlIE1haW5Mb29wIHN1cHBsaWVkIGluIHRoZSBjb25zdHJ1Y3RvcixcbiAgICAqIHNvIHRoYXQgdGhlIGdhbWUgaXMgcmVhZHkgdG8gc3RhcnQuIEFsc28gY2FsbHMgdGhlIGBjcmVhdGVgIG1ldGhvZCBvbmNlIG9uXG4gICAgKiB0aGUgR2FtZU9iZWN0IHRyZWUgYW5kIHN1cHBsaWVkIElPIG9iamVjdC4gVGhlIGBjcmVhdGVgIG1ldGhvZCB3aWxsIHRyaWdnZXJcbiAgICAqIHRoZSBsb2FkaW5nIG9mIGZpbGVzIG5lZWRlZCBieSB0aGUgY3VycmVudCBHYW1lT2JqZWN0IHRyZWUgKHRob3NlIHRoYXRcbiAgICAqIGFyZSBjcmVhdGVkIGluIHRoZSBmaXJzdCBjYWxsIHRvIGBjcmVhdGVgKSwgYW5kIHNvIGl0IG1ha2VzIHNlbnNlIHRvIGNhbGxcbiAgICAqIHRoaXMgYXMgZWFybHkgYXMgcG9zc2libGUsIHBvc3NpYmx5IGluIGFkdmFuY2Ugb2YgbmVlZGluZyB0byBzdGFydCB0aGUgZ2FtZS5cbiAgICAqL1xuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fY3JlYXRlZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgR2FtZTogYWxyZWFkeSBjcmVhdGVkXCIpO1xuICAgICAgICB0aGlzLl9pby5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fcm9vdEdhbWVPYmplY3QuZG9DcmVhdGUodGhpcy5faW8uaW50ZXJmYWNlcyk7XG4gICAgICAgIHRoaXMuX21haW5Mb29wLnNldEJlZ2luKHRoaXMuX2JlZ2luLmJpbmQodGhpcykpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRVcGRhdGUodGhpcy5fdXBkYXRlLmJpbmQodGhpcykpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREcmF3KHRoaXMuX2RyYXcuYmluZCh0aGlzKSlcbiAgICAgICAgICAgICAgICAgICAgLnNldEVuZCh0aGlzLl9lbmQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogU3RhcnQgdGhlIG1haW4gbG9vcCBydW5uaW5nIGFuZCB0aHVzIHRoZSBnYW1lIGVuZ2luZSBhbmQgdGhlIGdhbWUuIGFsc29cbiAgICAqIHRlbGxzIHRoZSBpbnRlcmZhY2VzIHRoYXQgdGhlIGdhbWUgaGFzIHN0YXJ0ZWQuXG4gICAgKi9cbiAgICBzdGFydCgpXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uU3RhcnQpO1xuICAgICAgICB0aGlzLl9tYWluTG9vcC5zdGFydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogU3RvcCB0aGUgbWFpbiBsb29wIHJ1bm5pbmcgYW5kIHRodXMgdGhlIGdhbWUgZW5naW5lIGFuZCB0aGUgZ2FtZS4gYWxzb1xuICAgICogdGVsbHMgdGhlIGludGVyZmFjZXMgdGhhdCB0aGUgZ2FtZSBoYXMgc3RvcHBlZC5cbiAgICAqL1xuICAgIHN0b3AoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbWFpbkxvb3Auc3RvcCgpO1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uU3RvcCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9iZWdpbih0aW1lc3RhbXA6IG51bWJlciwgZGVsdGE6IG51bWJlcilcbiAgICB7XG4gICAgICAgIEV2ZW50LmNhbGwodGhpcy5faW8ub25CZWdpblN0YXJ0LCB0aW1lc3RhbXAsIGRlbHRhKTtcbiAgICAgICAgdGhpcy5fcm9vdEdhbWVPYmplY3QuZG9CZWdpbih0aGlzLl9pby5pbnRlcmZhY2VzKTtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vbkJlZ2luRW5kKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX3VwZGF0ZShkZWx0YTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vblVwZGF0ZVN0YXJ0LCBkZWx0YSk7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0LmRvVXBkYXRlKHRoaXMuX2lvLmludGVyZmFjZXMpO1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uVXBkYXRlRW5kKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2RyYXcoaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIEV2ZW50LmNhbGwodGhpcy5faW8ub25EcmF3U3RhcnQpO1xuICAgICAgICB0aGlzLl9yb290R2FtZU9iamVjdC5kb0RyYXcobnVsbCk7Ly9pbnRlcnBvbGF0aW9uUGVyY2VudGFnZSk7XG4gICAgICAgIEV2ZW50LmNhbGwodGhpcy5faW8ub25EcmF3RW5kKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2VuZChmcHM6IG51bWJlciwgcGFuaWM6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uRW5kU3RhcnQsIGZwcyk7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0LmRvRW5kKHRoaXMuX2lvLmludGVyZmFjZXMpO1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uRW5kRW5kKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBBc3NldCBmcm9tIFwiLi9Bc3NldFwiO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi9UcmFuc2Zvcm1cIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgeyBUcmVlVXRpbHMgfSBmcm9tIFwiLi9UcmVlVXRpbHNcIjtcblxuLyoqXG4qIFRoZSBHYW1lT2JqZWN0IGlzIHRoZSBjb3JlIG9mIHRoZSBnYW1lIGVuZ2luZSBhbmQgcmVwcmVzZW50cyBhbnl0aGluZyBpbiB0aGVcbiogZ2FtZSB0aGF0IHNob3VsZCBiZSB1cGRhdGVkIG9yIGRyYXduIG9yIHVzZWQgYXMgYSBub2RlIGZvciB0aGUgbGF5b3V0IHN5c3RlbS5cbiogR2FtZU9iamVjdHMgZm9ybSBhIHRyZWUuIEVhY2ggR2FtZU9iamVjdCBjYW4gaGF2ZSBjaGlsZHJlbi4gVGhlIG1haW4gbG9vcFxuKiBtZXRob2RzIGFyZSBjYWxsZWQgcmVjdXNpdmVseSBkb3duIHRocm91Z2ggdGhpcyB0cmVlLiBUaGUgbGF5b3V0IG9mIEdhbWVPYmplY3RzXG4qIHdvcmtzIHJlY3Vyc2l2ZWx5IHVwIHRocm91Z2ggdGhpcyB0cmVlLlxuKiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBfdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgcHJpdmF0ZSBfY2hpbGRyZW46IEdhbWVPYmplY3RbXSA9IFtdO1xuICAgIHByaXZhdGUgX2Fzc2V0czogQXNzZXQ8T2JqZWN0PltdID0gW107XG4gICAgcHJpdmF0ZSBfcGFyZW50OiBHYW1lT2JqZWN0ID0gbnVsbDtcblxuICAgIHByaXZhdGUgX2NyZWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9ydW5Mb2FkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfYWN0aXZlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9pbnRlcmFjdGFibGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX3JhbkJlZ2luOiBib29sZWFuID0gZmFsc2U7IC8vVE9ETzogbG9vayBpbnRvIHdoZXRoZXIgdGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBqdXN0IGNoZWNraW5nIGBfY3JlYXRlZGAuXG4gICAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF92aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9vcGFjaXR5OiBudW1iZXIgPSAxO1xuICAgIHByaXZhdGUgX2lnbm9yZURyYXdDdWxsOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfb25EZXN0cm95OiBFdmVudDtcbiAgICBwcml2YXRlIF9wcmVjcmVhdGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICogQ29uc3RydWN0IGEgR2FtZU9iamVjdCB3aXRoIHRoZSBzdXBwbGllZCBwb3NpdGlvbiBhbmQgYm91bmRzLiBUaGlzXG4gICAgKiBpcyBhbiBlbXB0eSBHYW1lT2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBub2RlIGZvciB0aGUgbGF5b3V0IHN5c3RlbSBvclxuICAgICogY2FuIGJlIGV4dGVuZGVkIGJ5IG90aGVyIGNsYXNzZXMgdG8gcHJvdmlkZSBmdW5jdGlvbmFsaXR5IG9yIGRyYXdpbmcuIElmXG4gICAgKiB0aGUgc3VwcGxpZWQgcG9zaXRpb24gaXMgbnVsbCwgdGhlIEdhbWVPYmplY3Qgc2l0cyBvdXRzaWRlIHRoZSBtYWluXG4gICAgKiBkcmF3aW5nIGhlaXJhcmNoeS5cbiAgICAqIEBwYXJhbSBwb3NpdGlvbiBhIFBvc2l0aW9uIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIHRoaXMgR2FtZU9iamVjdHNcbiAgICAqIGluIHRoZSBnYW1lIHdvcmxkLlxuICAgICogQHBhcmFtIGJvdW5kcyBhIEJvdW5kcyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBib3VuZGluZyBzaXplIG9mIHRoaXMgR2FtZU9iamVjdFxuICAgICogaW4gdGhlIGdhbWUgd29ybGQuXG4gICAgKiovXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0pXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcylcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24gfCBUcmFuc2Zvcm0sIGJvdW5kcz86IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHRoaXMuX29uRGVzdHJveSA9IG5ldyBFdmVudCgpO1xuICAgICAgICBpZiAocG9zaXRpb24gaW5zdGFuY2VvZiBQb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0ocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm0pXG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm0uc2V0R2FtZU9iamVjdCh0aGlzKTsgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgcGFyZW50IEdhbWVPYmplY3QgaW4gdGhlIEdhbWVPYmplY3QgdHJlZS4gQSBHYW1lT2JqZWN0IG9ubHkgaGFzIGFcbiAgICAqIHBhcmVudCBpZiBpdCBoYXMgYmVlbiBhZGRlZCBhcyBhIGNoaWxkIHRvIGFub3RoZXIgR2FtZU9iamVjdC4gR2FtZU9iamVjdHNcbiAgICAqIHRoYXQgc3RhbmQgb3V0c2lkZSB0aGUgR2FtZU9iamVjdCB0cmVlIGRvIG5vdCBoYXZlIHBhcmVudHMuIEEgR2FtZU9iamVjdFxuICAgICogY2FuIG9ubHkgaGF2ZSBhIHNpbmdsZSBwYXJlbnQsIGFuZCBzaG91bGQgbm90IGRvbWluYXRlIGl0cyBwYXJlbnQgYXMgYVxuICAgICogY2hpbGQuXG4gICAgKi9cbiAgICBnZXQgcGFyZW50KCk6IEdhbWVPYmplY3QgeyByZXR1cm4gdGhpcy5fcGFyZW50OyB9XG4gICAgc2V0IHBhcmVudCh2YWw6IEdhbWVPYmplY3QpIHsgdGhpcy5fcGFyZW50ID0gdmFsOyB9XG5cbiAgICBnZXQgdHJhbnNmb3JtKCkgeyByZXR1cm4gdGhpcy5fdHJhbnNmb3JtOyB9XG5cbiAgICAvKipcbiAgICAqIEFuIGlkZW50aWZpY2F0aW9uIHN0cmluZyBmb3IgcmVmZXJlbmNpbmcgcGFydGljdWxhciBnYW1lIG9iamVjdHMgaW4gdGhlXG4gICAgKiB0cmVlLiBPcHRpb25hbCwgYnV0IGNhbiBwcm92ZSB1c2VmdWwgd2hlbiBhbm90aGVyIG9iamVjdCBuZWVkcyB0byBnYWluIGFcbiAgICAqIHJlZmVyZW5jZSB0byBhIHBhcnRpY3VsYXIgR2FtZU9iamVjdC5cbiAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9uYW1lOyB9XG4gICAgc2V0IG5hbWUodmFsOiBzdHJpbmcpIHsgdGhpcy5fbmFtZSA9IHZhbDt9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIEdhbWVPYmplY3RzIGhhcyBubyBtb3JlIGFzc2V0cyB0byBsb2FkLlxuICAgICovXG4gICAgZ2V0IGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnJ1bkxvYWQgJiYgdGhpcy5hc3NldHMuZXZlcnkoeCA9PiB4LmxvYWRlZCA9PT0gdHJ1ZSkpOyB9XG5cbiAgICBnZXQgc3VidHJlZUxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmxvYWRlZCAmJiAodGhpcy5fY2hpbGRyZW4uZXZlcnkoeCA9PiB4LnN1YnRyZWVMb2FkZWQpKSk7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBgbG9hZGAgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCBvbmNlLiBUaGlzIHNob3VsZCBtZWFuXG4gICAgKiB0aGF0IGFueSByZXNvdXJjZXMgaGF2ZSBiZWd1biBsb2FkaW5nLCBldmVuIGlmIGxvYWRpbmcgaXMgbm90IGNvbXBsZXRlLlxuICAgICovXG4gICAgZ2V0IHJ1bkxvYWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9ydW5Mb2FkOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYGNyZWF0ZWAgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCBvbmNlLiBUaGlzIHNob3VsZCBtZWFuc1xuICAgICogdGhhdCB0aGUgR2FtZU9iamVjdCBpcyByZWFkeSB0byB1c2UgYW5kIGhhdmUgbWFpbiBsb29wIG1ldGhvZHMsIGVnLiB1cGRhdGUsXG4gICAgKiBkcmF3IGNhbGxlZC5cbiAgICAqL1xuICAgIGdldCBjcmVhdGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fY3JlYXRlZDsgfVxuXG4gICAgZ2V0IGFzc2V0cygpOiBBc3NldDxPYmplY3Q+W10geyByZXR1cm4gdGhpcy5fYXNzZXRzOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIEdhbWVPYmplY3RzIGltbWVkaWF0ZWx5IGRvbWluYXRlZCBieSB0aGlzIG9uZSBpbiB0aGUgR2FtZU9iamVjdFxuICAgICogdHJlZS4gQ2hpbGRyZW4gY2FuIGJlIGFkZGVkIHVzaW5nIHRoZSBgYWRkQ2hpbGRgIG1ldGhvZCwgb3IgcmVtb3ZlZCB3aXRoXG4gICAgKiB0aGUgYHJlbW92ZUNoaWxkYCBtZXRob2QuIE90aGVyd2lzZSwgdGhpcyBhcnJheSBzaG91bGQgbm90IGJlIGRpcmVjdGx5XG4gICAgKiBtb2RpZmllZC5cbiAgICAqL1xuICAgIGdldCBjaGlsZHJlbigpOiBHYW1lT2JqZWN0W10geyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cblxuICAgIC8qKiBEZXRlcm1pbmVzIHdoZXRoZXIgYmVnaW4oKSwgdXBkYXRlKCksIG9yIGVuZCgpIGlzIGNhbGxlZCBvbiB0aGlzIGdhbWUgb2JqZWN0IG9yIGl0cyBjaGlsZHJlbiAgKi9cbiAgICBzZXQgYWN0aXZlKHZhbDogYm9vbGVhbikgeyB0aGlzLl9hY3RpdmUgPSB2YWw7fVxuICAgIGdldCBhY3RpdmUoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9hY3RpdmU7IH1cblxuICAgIC8qKlxuICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBHYW1lT2JqZWN0IHN1YnRyZWUgc2hvdWxkIGFjY2VwdCBhbnkgaW50ZXJhY3Rpb25cbiAgICAqIHdpdGggdGhlIHBsYXllci4gR2FtZU9iamVjdHMgdGhhdCBwcm92aWRlIHVzZXIgaW50ZXJmYWNlcyBzaG91bGQgcmVzZXBjdFxuICAgICogdGhpcyB2YWx1ZS5cbiAgICAqL1xuICAgIHNldCBpbnRlcmFjdGFibGUodmFsOiBib29sZWFuKSB7IHRoaXMuX2ludGVyYWN0YWJsZSA9IHZhbDt9XG4gICAgZ2V0IGludGVyYWN0YWJsZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2ludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaW50ZXJhY3RhYmxlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZXMgd2hldGhlciB0aGlzIEdhbWVPYmplY3Qgc3VidHJlZSBzaG91bGQgYmUgdmlzaWJsZSwgaWUuIGRyYXduLiBUaGlzXG4gICAgKiBkZXRlcm1pbmVzIHdoZXRoZXIgZHJhdygpIGlzIGNhbGxlZCBvbiB0aGlzIGdhbWUgb2JqZWN0IG9yIGl0cyBjaGlsZHJlbi4gQXNcbiAgICAqIHJlcXVlc3REcmF3KCkgb25seSB3b3JrcyBpZiB0aGUgb2JqZWN0IGlzIHZpc2libGUsIGhlcmUgd2UgZW5zdXJlIHRvIGNhbGwgaXRcbiAgICAqIHdoaWxlIHZpc2libGUgaXMgdHJ1ZS5cbiAgICAqL1xuICAgIHNldCB2aXNpYmxlKHZhbDogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlICE9PSB2YWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdmFsKSAgXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHZhbDtcbiAgICAgICAgICAgIGlmICh2YWwpXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB2aXNpYmxlKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fdmlzaWJsZTsgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgb3BhY2l0eSwgb3IgYWxwaGEgdmFsdWUsIG9mIHRoaXMgR2FtZU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuLiBBIHZhbHVlXG4gICAgKiBiZXR3ZWVuIDAtMS4gVGhlIG9wYWNpdHkgd2l0aCB3aGljaCBhbiBvYmplY3QgaXMgZHJhd24gaXMgY2FsY3VsYXRlZCBieVxuICAgICogbXVsdGlwbHlpbmcgdGhpcyB2YWx1ZSByZWN1cnNpdmV5IHVwIHRoZSB0cmVlLiBUaHVzIGEgb2JqZWN0IHdpdGggb3BhY2l0eVxuICAgICogMC41IGluIGEgcGFyZW50IG9mIG9wYWNpdHkgMC41IGlzIGRyYXduIHdpdGggYW4gb3BhY2l0eSBvZiAwLjI1LlxuICAgICovXG4gICAgZ2V0IG9wYWNpdHkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX29wYWNpdHk7IH1cbiAgICBzZXQgb3BhY2l0eSh2YWw6IG51bWJlcikgeyB0aGlzLl9vcGFjaXR5ID0gdmFsOyB9XG5cblxuICAgIGdldCBvbkRlc3Ryb3koKSB7IHJldHVybiB0aGlzLl9vbkRlc3Ryb3k7IH1cblxuICAgIC8qKiBJZiB0aGlzIGlzIHNldCB0byB0cnVlLCBkb0NyZWF0ZSB3aWxsIGJlIHJ1biByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpc1xuICAgICAqIEdhbWVPYmplY3QgaXMgYWN0aXZlLiBTZXQgdG8gdHJ1ZSB0byBnZXQgaW5hY3RpdmUgb2JqZWN0cyAoZWcuIGNsb3NlZCBmcmFtZXMpXG4gICAgICogdG8gY3JlYXRlIHRoZW1zZWx2ZXMgcmVhZHkgZm9yIHVzZS5cbiAgICAgKi9cbiAgICBnZXQgcHJlY3JlYXRlKCkgeyByZXR1cm4gdGhpcy5fcHJlY3JlYXRlOyB9XG4gICAgc2V0IHByZWNyZWF0ZSh2YWwpIHsgdGhpcy5fcHJlY3JlYXRlID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAqIEFkZCBhIEdhbWVPYmplY3QgaW50byB0aGUgR2FtZU9iamVjdCB0cmVlIGFzIGEgY2hpbGQgb2YgdGhpcyBHYW1lT2JqZWN0LlxuICAgICogVGhpcyBzZXRzIHRoZSBgcGFyZW50YCB2YWx1ZSBmb3IgdGhlIG5ldyBjaGlsZC4gQSBHYW1lT2JqZWN0IHNob3VsZCBvbmx5XG4gICAgKiBldmVyIGJlIHRoZSBjaGlsZCBvZiBhIHNpbmdsZSBHYW1lT2JqZWN0IGF0IGEgdGltZS5cbiAgICAqIEBwYXJhbSBjaGlsZCB0aGUgR2FtZU9iamVjdCB0byBjaGlsZCB0byB0aGlzIG9uZVxuICAgICovXG4gICAgYWRkQ2hpbGQ8VCBleHRlbmRzIEdhbWVPYmplY3Q+KGNoaWxkOiBUKTogVFxuICAgIHtcbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIC8vaWYgKGNoaWxkLnRyYW5zZm9ybSlcbiAgICAgICAgLy8gICAgY2hpbGQudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhc3NldCB3aXRoIHRoZSBwcm92aWRlZCBmaWxlbmFtZSwgd2hpY2ggaXMgb2YgdGhlIGdpdmVuIHR5cGUsXG4gICAgICogaWYgaXQgaGFzIGJlZW4gYWRkZWQgdG8gdGhpcyBHYW1lT2JqZWN0LiBUaGlzIHNob3VsZCBob2xkIHRoZSBsb2FkZWQgYXNzZXRcbiAgICAgKiAoc28gbG9uZyBhcyBpdCBpcyBub3QgY2FsbGVkIGJlZm9yZSBvciBpbnNpZGUgbG9hZCgpKS4gVGhlIFxuICAgICAqIEBwYXJhbSBmaWxlbmFtZSB0aGUgZmlsZW5hbWUgb2YgdGhlIGFzc2V0IHRoYXQgaGFzIGJlZW4gYWRkZWRcbiAgICAgKi9cbiAgICBnZXRBc3NldDxUPihmaWxlbmFtZTogc3RyaW5nKTogVFxuICAgIHtcbiAgICAgICAgbGV0IGFzc2V0c1dpdGhGaWxlbmFtZSA9IHRoaXMuYXNzZXRzLmZpbHRlcih4ID0+IHguZmlsZW5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICAgICAgaWYgKGFzc2V0c1dpdGhGaWxlbmFtZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmV0dXJuIGFzc2V0c1dpdGhGaWxlbmFtZVswXS5hc3NldCBhcyBUO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3NldCBmb3VuZCB3aXRoIHRoYXQgbmFtZSBvbiBnYW1lb2JqZWN0XCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogUmVjdXJzaXZlbHkgY2FsbCBgbG9hZGAgb24gdGhpcyBHYW1lT2JqZWN0IGFuZCBpdHMgc3VidHJlZS5cbiAgICAqIEBwYXJhbSBhcmdzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIGxvYWQoKVxuICAgICoqL1xuICAgIGRvTG9hZChpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgaWYgKCEodGhpcy5fcnVuTG9hZCkpXG4gICAgICAgICAgICB0aGlzLl9ydW5Mb2FkID0gdGhpcy5sb2FkKGludGVyZmFjZXMpO1xuICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0xvYWQoaW50ZXJmYWNlcyk7XG4gICAgfVxuXG4gICAgbG9hZChpbnRlcmZhY2VzKTogYm9vbGVhbiB7IHJldHVybiB0cnVlOyB9XG5cbiAgICAvKipcbiAgICAqIEFkZHMgdGhlIHByb3ZpZGVkIGFzc2V0IHRvIHRoaXMgR2FtZU9iamVjdCBpZiBub3QgYSBkdXBsaWNhdGUgZmlsZW5hbWVcbiAgICAqIEBwYXJhbSBhc3NldCB0aGUgYXNzZXQgcHJvdmlkZWQgYnkgdGhlIExvYWRlclxuICAgICoqL1xuICAgIGFkZEFzc2V0PFQ+KGFzc2V0OiBBc3NldDxUPik6IEFzc2V0PFQ+XG4gICAge1xuICAgICAgICBpZiAoYXNzZXQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuYXNzZXRzLmZpbHRlcih4ID0+IHguZmlsZW5hbWUgPT09IGFzc2V0LmZpbGVuYW1lKS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB0aGlzLmFzc2V0cy5wdXNoKGFzc2V0KTtcbiAgICAgICAgcmV0dXJuIGFzc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGludGVyZmFjZXMgdG8gcGFzcyB0byBjaGlsZHJlbi4gT3ZlcnJpZGUgdGhpcyBpbiBvcmRlciB0byBhZGRcbiAgICAgKiB0aGluZ3MgdG8gdGhlIGludGVyZmFjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIGludGVyZmFjZXMgXG4gICAgICovXG4gICAgaW50ZXJmYWNlcyhpbnRlcmZhY2VzKSB7IHJldHVybiBpbnRlcmZhY2VzOyB9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGBjcmVhdGVgIHRocm91Z2ggdGhlIHRyZWUgb2YgR2FtZU9iamVjdHMuIElmIGEgR2FtZU9iamVjdHNcbiAgICAqIGhhcyBub3QgYmVlbiBsb2FkZWQgKGllLiBsb2FkKCkgaGFzIG5vdCBiZWVuIHJ1biksIHRoZW4gY2FsbCBsb2FkIGluc3RlYWQuXG4gICAgKiBAcGFyYW0gYXJncyB0aGUgaW50ZXJmYWNlcyB0byBtYWtlIGF2YWlsYWJsZSB0byBsb2FkKClcbiAgICAqL1xuICAgIGRvQ3JlYXRlKGludGVyZmFjZXMpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3J1bkxvYWQpXG4gICAgICAgICAgICB0aGlzLmRvTG9hZChpbnRlcmZhY2VzKTtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY3JlYXRlZFRoaXNSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jcmVhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRUaGlzUnVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZShpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0NyZWF0ZSh0aGlzLmludGVyZmFjZXMoaW50ZXJmYWNlcykpO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY3JlYXRlZFRoaXNSdW4pXG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckNyZWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlKGludGVyZmFjZXMpOiB2b2lkIHsgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGRvQ3JlYXRlKCkgaGFzIGJlZW4gY2FsbGVkIG9uIHRoaXMgb2JqZWN0IGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuLlxuICAgICAqIE5vdGUgdGhhdCBjaGlsZHJlbiBtYXkgbm90IGJlIGNyZWF0ZWQgaWYgdGhleSBhcmUgd2FpdGluZyBmb3IgYW4gYXNzZXRzXG4gICAgICogdG8gbG9hZC5cbiAgICAgKi9cbiAgICBhZnRlckNyZWF0ZSgpOiB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGJlZ2luKCkgdGhyb3VnaCB0aGUgdHJlZSBvZiBHYW1lT2JqZWN0cy4gR2FtZU9iamVjdHMgbXVzdFxuICAgICogZmlyc3QgaGF2ZSBiZWVuIGNyZWF0ZWQuIElmIGEgR2FtZU9iamVjdCBoYXMgbm90IGJlZW4gY3JlYXRlZCwgdGhpcyBjYWxsc1xuICAgICogZG9DcmVhdGUoKSB3aGljaCBjYW4gaW4gdHVybiBjYWxsIGRvTG9hZCgpLiBJZiBhIEdhbWVPYmplY3QgaXMgY3JlYXRlZFxuICAgICogaW1tZWRpYXRlbHkgKGllLiB0aGVyZSBpcyBubyBsb2FkIHdhaXQpLCBiZWdpbigpIHdpbGwgYmUgY2FsbGVkIGltbWVkaWF0ZWx5LlxuICAgICpcbiAgICAqIEBwYXJhbSBpbnRlcmZhY2VzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIGJlZ2luKClcbiAgICAqL1xuICAgIGRvQmVnaW4oaW50ZXJmYWNlcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jcmVhdGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuX3J1bkJlZ2luKGludGVyZmFjZXMpO1xuICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvQ3JlYXRlKGludGVyZmFjZXMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jcmVhdGVkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ydW5CZWdpbihpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9wcmVjcmVhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZG9DcmVhdGUoaW50ZXJmYWNlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9ydW5CZWdpbihpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgdGhpcy5iZWdpbihpbnRlcmZhY2VzKTtcbiAgICAgICAgdGhpcy5fcmFuQmVnaW4gPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0JlZ2luKHRoaXMuaW50ZXJmYWNlcyhpbnRlcmZhY2VzKSk7XG4gICAgfVxuXG4gICAgYmVnaW4oaW50ZXJmYWNlcyk6IHZvaWQgeyB9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIHVwZGF0ZSB0aHJvdWdoIHRoZSB0cmVlIG9mIEdhbWVPYmplY3RzLiBJbiBvcmRlciBmb3JcbiAgICAqIEdhbWVPYmplY3RzIHRvIGJlIHVwZGF0ZWQsIHRoZXkgbXVzdCBoYXZlIGJlZW4gY3JlYXRlZC4gSWYgYSBHYW1lT2JqZWN0c1xuICAgICogaGFzIG5vdCBiZWVuIGNyZWF0ZWQsIHRoaXMgY2FsbHMgZG9DcmVhdGUoKS5cbiAgICAqIEBwYXJhbSBpbnRlcmZhY2VzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIHVwZGF0ZSgpXG4gICAgKi9cbiAgICBkb1VwZGF0ZShpbnRlcmZhY2VzKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybSlcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybS51cGRhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMuX3JhbkJlZ2luKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpPXRoaXMuX2NoaWxkcmVuLmxlbmd0aC0xO2k+PTA7aS0tKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbltpXSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZG9VcGRhdGUodGhpcy5pbnRlcmZhY2VzKGludGVyZmFjZXMpKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGludGVyZmFjZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlKGludGVyZmFjZXMpOiB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGRyYXcgdGhyb3VnaCB0aGUgdHJlZSBvZiBHYW1lT2JqZWN0cy4gSW4gb3JkZXIgZm9yXG4gICAgKiBHYW1lT2JqZWN0cyB0byBiZSBkcmF3biwgdGhleSBtdXN0IGhhdmUgYmVlbiBjcmVhdGVkIGFuZCBiZSB2aXNpYmxlLlxuICAgICogQHBhcmFtIGNvbnRleHQyRCB0aGUgaW50ZXJmYWNlIHRvIGNhbGwgZHJhd2luZyBjb21tYW5kcyB0aHJvdWdoXG4gICAgKi9cbiAgICBkb0RyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdlYkdMPzogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLl9jcmVhdGVkKSAmJiAodGhpcy5fdmlzaWJsZSkgJiYgKHRoaXMuX3RyYW5zZm9ybSkgJiYgKHRoaXMuX29wYWNpdHkgPiAwKSAmJiAodGhpcy5fdHJhbnNmb3JtLmhhc1Bvc2l0aW9uKCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcm90YXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybS5yb3RhdGlvbiAlIDIqTWF0aC5QSSAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByb3RhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gdGhpcy5fdHJhbnNmb3JtLmdldERyYXdQb3NpdGlvbigwLjUsMC41KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQyRC50cmFuc2xhdGUocG9zLngsIHBvcy55KVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5yb3RhdGUodGhpcy5fdHJhbnNmb3JtLnJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0MkQudHJhbnNsYXRlKC1wb3MueCwgLXBvcy55KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHN0YXJ0aW5nT3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBpZiAoY29udGV4dDJEKVxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nT3BhY2l0eSA9IHRoaXMuX3NldERyYXdpbmdPcGFjaXR5KGNvbnRleHQyRCk7XG4gICAgICAgICAgICB0aGlzLmRyYXcoY29udGV4dDJELCB3ZWJHTCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZG9EcmF3KGNvbnRleHQyRCwgd2ViR0wpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQyRClcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRpbmdPcGFjaXR5ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQyRC5nbG9iYWxBbHBoYSA9IHN0YXJ0aW5nT3BhY2l0eTtcbiAgICAgICAgICAgIGlmIChyb3RhdGVkKVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9zZXREcmF3aW5nT3BhY2l0eShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX29wYWNpdHkgIT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbCA9IGNvbnRleHQyRC5nbG9iYWxBbHBoYTtcbiAgICAgICAgICAgIGNvbnRleHQyRC5nbG9iYWxBbHBoYSA9IGNvbnRleHQyRC5nbG9iYWxBbHBoYSAqIHRoaXMuX29wYWNpdHk7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEdhbWVPYmplY3RzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBkcmF3IHRoZW1zZWx2ZXMgdG8gdGhlXG4gICAgKiBwcm92aWRlZCBkcmF3aW5nIGNvbnRleHQuIFRoaXMgaXMgY2FsbGVkIG9uY2UgcGVyIGZyYW1lIG9uIGFsbCBjcmVhdGVkXG4gICAgKiBHYW1lT2JqZWN0cyB0aGF0IGFyZSBub3QgdmlzaWJsZSAob3IgdGhlIGRlc2VuZGFudCBvZiBhIHZpc2libGUgR2FtZU9iamVjdCkuXG4gICAgKiovXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2ViR0w/OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpOiB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGVuZCB0aHJvdWdoIHRoZSB0cmVlIG9mIEdhbWVPYmplY3RzLiBPbmx5IEdhbWVPYmplY3RzXG4gICAgKiB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIGhhdmUgZW5kIGNhbGxlZC5cbiAgICAqIEBwYXJhbSBhcmdzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIGVuZCgpXG4gICAgKi9cbiAgICBkb0VuZChpbnRlcmZhY2VzKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JhbkJlZ2luKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVuZChpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0VuZCh0aGlzLmludGVyZmFjZXMoaW50ZXJmYWNlcykpO1xuICAgICAgICAgICAgdGhpcy5fcmFuQmVnaW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZChpbnRlcmZhY2VzKTogdm9pZCB7fVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGUgdGhhdCBhbnkgYnVmZmVyZWQgcmVuZGVycyB0aGF0IGluY2x1ZGUgdGhpcyBHYW1lT2JqZWN0IGFyZSBvdXRkYXRlZCBhbmRcbiAgICAgKiBkcmF3KCkgc2hvdWxkIGJlIGNhbGxlZC4gVGhpcyBpcyBwYXNzZWQgdXAgdGhlIGhlaXJhcmNoeSBhbmQgb25seSBhY3RlZCB1cG9uIGJ5XG4gICAgICogR2FtZU9iamVjdHMgdGhhdCBtYW5hZ2UgcmVuZGVyaW5nIGNvbnRleHRzLlxuICAgICAqL1xuICAgIHJlcXVlc3REcmF3KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlKVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudClcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmRyYXdDdWxsZWQpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnQucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBvYmplY3Qgc2hvdWxkIGJlIGRyYXdDdWxsZWQsIGllLiBub3QgZHJhd24vbm90IGZpcmUgcmVxdWVzdERyYXdzXG4gICAgICogYmVjYXVzZSBpdCBkb2VzIG5vdCBvdmVybGFwIGl0J3MgcGFyZW50LiBUbyBjaGFuZ2UgdGhpcyBiZWhhdmlvdXIgQHNlZSBpZ25vcmVEcmF3Q3VsbFxuICAgICAqL1xuICAgIGdldCBkcmF3Q3VsbGVkKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZURyYXdDdWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoKHRoaXMuX3RyYW5zZm9ybSkgJiYgKHRoaXMuX3BhcmVudCkgJiYgKHRoaXMuX3BhcmVudC5jcmVhdGVkKSAmJiAodGhpcy5fcGFyZW50LnRyYW5zZm9ybSkpXG4gICAgICAgICAgICByZXR1cm4gIShUcmFuc2Zvcm0ub3ZlcmxhcHModGhpcy5fdHJhbnNmb3JtLCB0aGlzLl9wYXJlbnQudHJhbnNmb3JtKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0IG9iamVjdHMgYXJlIERyYXdDdWxsZWQ6IHRoZXkgYXJlIG9ubHkgZHJhd24gd2hlbiB0aGV5IG92ZXJsYXBcbiAgICAgKiB0aGVpciBwYXJlbnQgR2FtZU9iamVjdCdzIFRyYW5zZm9ybS4gQHNlZSBkcmF3Q3VsbGVkLiBTZXQgaWdub3JlRHJhd0N1bGwgdG8gdHJ1ZSB0byBvdmVycmlkZSB0aGlzXG4gICAgICogYmVoYXZpb3VyLlxuICAgICAqL1xuICAgIGdldCBpZ25vcmVEcmF3Q3VsbCgpIHsgcmV0dXJuIHRoaXMuX2lnbm9yZURyYXdDdWxsOyB9XG4gICAgc2V0IGlnbm9yZURyYXdDdWxsKHZhbCkgeyB0aGlzLl9pZ25vcmVEcmF3Q3VsbCA9IHZhbDsgfVxuXG4gICAgLyoqXG4gICAgKiBSZW1vdmVzIHRoaXMgR2FtZU9iamVjdCBmcm9tIGl0cyBwYXJlbnQgaW4gdGhlIEdhbWVPYmplY3QgdHJlZS5cbiAgICAqL1xuICAgIHJlcXVlc3RSZW1vdmFsKCk6IHZvaWQgeyB0aGlzLl9wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7IH1cblxuICAgIC8qKlxuICAgICogUmVtb3ZlcyBhIGNoaWxkIEdhbWVPYmplY3QgZnJvbSB0aGlzIEdhbWVPYmplY3Qgc28gdGhhdCB0aGUgY2hpbGQgaXMgbm9cbiAgICAqIGxvbmdlciBpbiB0aGUgR2FtZU9iamVjdCB0cmVlIGFuZCBjYWxscyBgZGVzdHJveWAgb24gaXQuXG4gICAgKiBAcGFyYW0gY2hpbGQgdGhlIEdhbWVPYmplY3QgdG8gcmVtb3ZlLCB3aGljaCBtdXN0IGJlIGEgY2hpbGQgb2YgVGhpc1xuICAgICogR2FtZU9iamVjdC5cbiAgICAqL1xuICAgIHJlbW92ZUNoaWxkKGNoaWxkOiBHYW1lT2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBjaGlsZC5kb0Rlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBkb0Rlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaT0wLCBsZW4gPSB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKVxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZG9EZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm0pXG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm0uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fb25EZXN0cm95LmNhbGwoKTtcbiAgICB9XG4gICAgXG4gICAgZGVzdHJveSgpIHsgfVxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gIGZyb20gXCIuL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCB7IFBvbHlTaGFwZSwgUG9seVJlY3QgfSBmcm9tIFwiLi91dGlsL1BvbHlTaGFwZVwiO1xuXG4vKipcbiAqIEEgVHJhbnNmb3JtIHJlcHJlc2VudHMgdGhlIGdhbWUtd29ybGQgZXh0ZW5zaW9uIG9mIGEgR2FtZU9iamVjdCwgaW5jbHVkaW5nIGV2ZXJ5dGhpbmdcbiAqIHJlcXVpcmVkIHRvIGtub3cgd2hlcmUgaXQgaXMgYW5kIHdoYXQgYXJlYSBpdCBvY2N1cGllcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNmb3JtXG57XG4gICAgcHJvdGVjdGVkIF9nYW1lT2JqZWN0OiBHYW1lT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfcG9zaXRpb246IFBvc2l0aW9uO1xuICAgIHByb3RlY3RlZCBfYm91bmRzOiBCb3VuZHM7XG5cbiAgICBwcml2YXRlIF9maXhlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgcHJpdmF0ZSBfcG9zaXRpb25pbmdEaXJ0eTogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9yb3RhdGlvbjogbnVtYmVyID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiBhIFBvc2l0aW9uIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIHRoaXMgVHJhbnNmb3JtXG4gICAgICogaW4gdGhlIGdhbWUgd29ybGQuXG4gICAgICogQHBhcmFtIGJvdW5kcyBhIEJvdW5kcyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBib3VuZGluZyBzaXplIG9mIHRoaXMgVHJhbnNmb3JtXG4gICAgICogaW4gdGhlIGdhbWUgd29ybGQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IGJvdW5kcztcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24pXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi50cmFuc2Zvcm0gPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5ib3VuZHMpXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMudHJhbnNmb3JtID0gdGhpcztcblxuICAgICAgICBpZiAoKCF0aGlzLmJvdW5kcykgJiYgKHRoaXMucG9zaXRpb24pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBnYW1lIG9iamVjdCB3aXRoIGEgbm9uLW51bGwgUG9zaXRpb24gbXVzdCBoYXZlIGEgbm9uLW51bGwgQm91bmRzXCIpO1xuICAgIH1cblxuICAgIGdldCBnYW1lT2JqZWN0KCkgeyByZXR1cm4gdGhpcy5fZ2FtZU9iamVjdDsgfVxuICAgIHNldCBnYW1lT2JqZWN0KHZhbCkgeyB0aGlzLl9nYW1lT2JqZWN0ID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAqIFRoZSBQb3NpdGlvbiByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIHRoZSBHYW1lT2JqZWN0IGluIHRoZSBnYW1lIHNwYWNlLlxuICAgICovXG4gICAgZ2V0IHBvc2l0aW9uKCk6IFBvc2l0aW9uIHsgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uOyB9XG4gICAgXG4gICAgLyoqXG4gICAgKiBUaGUgQm91bmRzIHJlcHJlc2VudGluZyB0aGUgYm91bmRpbmcgc2l6ZSBvZiB0aGUgR2FtZU9iamVjdC5cbiAgICAqL1xuICAgIGdldCBib3VuZHMoKTogQm91bmRzIHsgcmV0dXJuIHRoaXMuX2JvdW5kczsgfVxuXG4gICAgZ2V0IGZpeGVkKCkgeyByZXR1cm4gdGhpcy5fZml4ZWQ7IH1cbiAgICBzZXQgZml4ZWQodmFsKSB7IHRoaXMuX2ZpeGVkID0gdmFsOyB9XG5cbiAgICBnZXQgcG9zaXRpb25pbmdEaXJ0eSgpIHsgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uaW5nRGlydHk7IH1cbiAgICBwb3NpdGlvbmluZ0lzRGlydHkoKSB7IHRoaXMuX3Bvc2l0aW9uaW5nRGlydHkgPSB0cnVlOyB9XG5cbiAgICBnZXQgcGFyZW50KCk6IFRyYW5zZm9ybVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU9iamVjdClcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVPYmplY3QucGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3QucGFyZW50LnRyYW5zZm9ybTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0IHJvdGF0aW9uKCkgeyByZXR1cm4gdGhpcy5fcm90YXRpb247IH1cbiAgICBzZXQgcm90YXRpb24odmFsKSB7IHRoaXMuX3JvdGF0aW9uID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNhbm9uaWNhbCAoaWUuIG5vdCB0aGUgZHJhdykgcG9zaXRpb24gb2YgdGhlIHRvcCBsZWZ0IG9mIHRoZSB0cmFuc2Zvcm0uXG4gICAgICogT3B0aW9uYWxseSBhY2NlcHRzIGFuIGFuY2hvciBpbiB0aGUgZm9ybSBvZiB0aGUgcG9pbnQuIElmIHNldCwgd2lsbCByZXR1cm4gdGhlIHBvc2l0aW9uXG4gICAgICogb2YgdGhlIGFuY2hvci4gKDAsMCkgaXMgdG9wIGxlZnQuICgxLDEpIGlzIGJvdHRvbSByaWdodC5cbiAgICAgKiBAcGFyYW0gcG9pbnRcbiAgICAgKi9cbiAgICBnZXRDYW5vbmljYWxQb3NpdGlvbihwb2ludD86IFBvaW50IHwgbnVtYmVyLCB5PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghcG9pbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24uYWJzb2x1dGVQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgdGwgPSB0aGlzLnBvc2l0aW9uLmFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgICAgICAgICAgbGV0IGRpbSA9IHRoaXMuYm91bmRzLmRpbWVuc2lvbjtcblxuICAgICAgICAgICAgICAgIGlmIChwb2ludCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRsLnggKyBkaW0ud2lkdGgqcG9pbnQueCwgdGwueSArIGRpbS5oZWlnaHQqcG9pbnQueSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRsLnggKyBkaW0ud2lkdGgqcG9pbnQsIHRsLnkgKyBkaW0uaGVpZ2h0KnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGdldERyYXdQb3NpdGlvbihwb2ludD86IFBvaW50IHwgbnVtYmVyLCB5PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghcG9pbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB0bCA9IHRoaXMucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICAgICAgICAgIGxldCBkaW0gPSB0aGlzLmJvdW5kcy5kaW1lbnNpb247XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0bC54ICsgZGltLndpZHRoKnBvaW50LngsIHRsLnkgKyBkaW0uaGVpZ2h0KnBvaW50LnkpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0bC54ICsgZGltLndpZHRoKnBvaW50LCB0bC55ICsgZGltLmhlaWdodCp5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBnZXREaW1lbnNpb24oKSB7IHJldHVybiB0aGlzLmJvdW5kcy5kaW1lbnNpb247IH1cblxuICAgIHNldEdhbWVPYmplY3QodmFsKSB7IHRoaXMuZ2FtZU9iamVjdCA9IHZhbDsgfVxuXG4gICAgaGFzUG9zaXRpb24oKSB7IHJldHVybiB0aGlzLnBvc2l0aW9uICE9PSBudWxsOyB9XG5cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLnBvc2l0aW9uaW5nRGlydHkpIHx8ICghKHRoaXMuZml4ZWQpKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zaXRpb24pXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5jaGVja0ZvclVwZGF0ZWRUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kcylcbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kcy5jaGVja0ZvclVwZGF0ZWREaW1lbnNpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbmluZ0RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBjYWxsZWQgdGhyb3VnaCBkZXNjZW5kYW50cyB0byBzYXkgdGhhdCB0aGUgdHJhbnNmb3JtIG9mIHRoaXNcbiAgICAgKiBvciBhIHBhcmVudCBHYW1lT2JqZWN0IGhhcyBjaGFuZ2VkLiBXaGVuIHRoZSBkaW1lbnNpb24gb2YgYSBwYXJlbnQncyBib3VuZHNcbiAgICAgKiBoYXMgY2hhbmdlZCBpdCBtZWFucyB0aGF0IHRoZSBkaW1lbnNpb24gb2YgdGhlIGNoaWxkIG1heSBoYXZlIGNoYW5nZWQgYW5kIHRodXNcbiAgICAgKiBuZWVkcyB0byBiZSByZWNhbGN1bGF0ZWQuXG4gICAgICovXG4gICAgcmVjYWxjdWxhdGUoZXhjbHVkZURyYXdDYWNoZT86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLmFic29sdXRlQ2FjaGVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIShleGNsdWRlRHJhd0NhY2hlKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi5kcmF3Q2FjaGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmdhbWVPYmplY3QuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIShleGNsdWRlRHJhd0NhY2hlKSlcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QucmVxdWVzdERyYXcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7IGlmIChjaGlsZC50cmFuc2Zvcm0pIGNoaWxkLnRyYW5zZm9ybS5yZWNhbGN1bGF0ZShleGNsdWRlRHJhd0NhY2hlKSB9ICk7XG4gICAgfVxuXG4gICAgc3RhdGljIG92ZXJsYXBzKGE6IFRyYW5zZm9ybSwgYjogVHJhbnNmb3JtKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IGFQb3M7XG4gICAgICAgIGxldCBiUG9zO1xuICAgICAgICBpZihhLnBvc2l0aW9uKVxuICAgICAgICAgICAgYVBvcyA9IGEuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYVBvcyA9IG5ldyBQb2ludCgwLDApO1xuXG4gICAgICAgIGlmIChiLnBvc2l0aW9uKVxuICAgICAgICAgICAgYlBvcyA9IGIuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBiUG9zID0gbmV3IFBvaW50KDAsMCk7XG5cbiAgICAgICAgbGV0IGFEaW0gPSBhLmdldERpbWVuc2lvbigpO1xuICAgICAgICBsZXQgYkRpbSA9IGIuZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIGxldCB4ID0gZmFsc2U7XG4gICAgICAgIGxldCB5ID0gZmFsc2U7XG4gICAgICAgIGlmICgoYVBvcy54ID49IGJQb3MueCkgJiYgKGFQb3MueCA8PSBiUG9zLnggKyBiRGltLndpZHRoKSlcbiAgICAgICAgICAgIHggPSB0cnVlO1xuICAgICAgICBpZiAoKGFQb3MueCA8PSBiUG9zLngpICYmIChhUG9zLnggKyBhRGltLndpZHRoID49IGJQb3MueCkpXG4gICAgICAgICAgICB4ID0gdHJ1ZTtcbiAgICAgICAgaWYgKChhUG9zLnkgPj0gYlBvcy55KSAmJiAoYVBvcy55IDw9IGJQb3MueSArIGJEaW0uaGVpZ2h0KSlcbiAgICAgICAgICAgIHkgPSB0cnVlO1xuICAgICAgICBpZiAoKGFQb3MueSA8PSBiUG9zLnkpICYmIChhUG9zLnkgKyBhRGltLmhlaWdodCA+PSBiUG9zLnkpKVxuICAgICAgICAgICAgeSA9IHRydWU7XG4gICAgICAgIHJldHVybiB4ICYmIHk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNvbnRhaW5zKGE6IFRyYW5zZm9ybSwgYjogVHJhbnNmb3JtKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IGFQb3MgPSBhLmdldENhbm9uaWNhbFBvc2l0aW9uKCk7XG4gICAgICAgIGxldCBiUG9zID0gYi5nZXRDYW5vbmljYWxQb3NpdGlvbigpO1xuICAgICAgICBsZXQgYURpbSA9IGEuZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIGxldCBiRGltID0gYi5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgbGV0IHggPSBmYWxzZTtcbiAgICAgICAgbGV0IHkgPSBmYWxzZTtcbiAgICAgICAgaWYgKChiUG9zLnggPj0gYVBvcy54KSAmJiAoYlBvcy54ICsgYkRpbS53aWR0aCA8PSBhUG9zLnggKyBhRGltLndpZHRoKSlcbiAgICAgICAgICAgIHggPSB0cnVlO1xuICAgICAgICBpZiAoKGJQb3MueSA+PSBhUG9zLnkpICYmIChiUG9zLnkgKyBiRGltLndpZHRoIDw9IGFQb3MueSArIGFEaW0uaGVpZ2h0KSlcbiAgICAgICAgICAgIHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4geCAmJiB5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdXBwbGllZCBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhpc1xuICAgICogZ2FtZSBvYmplY3QgaW4gdGhlIGdhbWUgc3BhY2UuXG4gICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50OiBQb2ludCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGxldCBvZmZzZXQgID0gdGhpcy5wb3NpdGlvbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICBsZXQgZGltZW5zaW9uID0gdGhpcy5ib3VuZHMuZGltZW5zaW9uO1xuICAgICAgICByZXR1cm4gVHJhbnNmb3JtLmluRGltZW5zaW9uKHBvaW50LCBkaW1lbnNpb24sIG9mZnNldCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHMpXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGluRGltZW5zaW9uKHBvaW50OiBQb2ludCwgZGltZW5zaW9uOiBEaW1lbnNpb24sIG9mZnNldDogUG9pbnQpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoKHBvaW50LnggPj0gb2Zmc2V0LngpICYmIChwb2ludC55ID49IG9mZnNldC55KSlcbiAgICAgICAgICAgIGlmICgocG9pbnQueCA8PSBvZmZzZXQueCArIGRpbWVuc2lvbi53aWR0aCkgJiYgKHBvaW50LnkgPD0gb2Zmc2V0LnkgKyBkaW1lbnNpb24uaGVpZ2h0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgcG9seXNoYXBlIGFuZCByZXR1cm5zIGEgcG9seXNoYXBlIHRoYXQgaGFzIGJlZW4gdHJhbnNsYXRlZCBieSB0aGUgcG9zaXRpb24gb2YgdGhpcyB0cmFuc2Zvcm0gYW5kXG4gICAgICogc2NhbGVkIGJ5IHRoZSBkaW1lbnNpb25zIG9mIHRoaXMgdHJhbnNmb3JtLiBTbyBhIGNvb3JkIG9mICgwLDApIGluIHRoZSBwb2x5c2hhcGUgYmVjb21lcyB0aGUgY2Fub25pY2FsXG4gICAgICogcG9zaXRpb24gb2YgdGhlIHRvcCBsZWZ0IG9mIHRoZSB0cmFuc2Zvcm0sIGFuZCBhIGNvb3JkIG9mICgxLDEpIGJlY29tZXMgdGhlIGNhbm9uaWNhbCBwb3NpdGlvbiBvZiB0aGVcbiAgICAgKiBib3R0b20gcmlnaHQgb2YgdGhlIHRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0gcG9seXNoYXBlXG4gICAgICogQHJldHVybnMgYSBwb2x5c2hhcGUgb2YgdGhlIHNhbWUgdHlwZVxuICAgICAqL1xuICAgIGNvbnRleHR1YWxpc2VQb2x5c2hhcGU8VCBleHRlbmRzIFBvbHlTaGFwZT4ocG9seXNoYXBlOiBUKTogVFxuICAgIHtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMuZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIGxldCBwb2ludHMgPSBbXTtcbiAgICAgICAgbGV0IHggPSB0cnVlO1xuICAgICAgICBwb2x5c2hhcGUucG9pbnRzLmZvckVhY2gocCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBQb2ludChwLnggKiBkaW0ud2lkdGggKyBwb3MueCwgcC55KmRpbS5oZWlnaHQgKyBwb3MueSkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgbGV0IHAgPSBwb2x5c2hhcGUuY2xvbmUocG9pbnRzKVxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBnZXRDYW5vbmljYWxSZWN0KCk6IFBvbHlSZWN0XG4gICAge1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5nZXRDYW5vbmljYWxQb3NpdGlvbigpO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5UmVjdChbbmV3IFBvaW50KHBvcy54LCBwb3MueSksIG5ldyBQb2ludChwb3MueCtkaW0ud2lkdGgsIHBvcy55KSwgbmV3IFBvaW50KHBvcy54K2RpbS53aWR0aCwgcG9zLnkrZGltLmhlaWdodCksIG5ldyBQb2ludChwb3MueCwgcG9zLnkrZGltLmhlaWdodCldKVxuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgeyB0b3RhbG1lbSwgbG9hZGF2ZyB9IGZyb20gXCJvc1wiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVHJlZVV0aWxzXG57XG4gICAgLyoqXG4gICAgKiBSZWN1cnNpdmVseSBzZWFjaCB0aHJvdWdoIHRoaXMgR2FtZU9iamVjdCBzdWJ0cmVlIGFuZCByZXR1cm4gYSBsaXN0IG9mXG4gICAgKiBHYW1lT2JqZWN0cyB0aGF0IGFyZSBhbiBpbnN0YW5jZSBvZiB0aGUgcHJvdmlkZSB0eXBlXG4gICAgKiBAcGFyYW0gdHlwZSBhIGxpc3Qgb2YgR2FtZU9iamVjdHMgb2YgdGhpcyB0eXBlIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAqL1xuICAgIHN0YXRpYyBmaW5kQ2hpbGRyZW5PZlR5cGUocGFyZW50OiBHYW1lT2JqZWN0LCB0eXBlLCByZWN1cnNpdmU6IGJvb2xlYW4pOiBHYW1lT2JqZWN0W11cbiAgICB7XG4gICAgICAgIHJlY3Vyc2l2ZSA9IHJlY3Vyc2l2ZSB8fCBmYWxzZTtcbiAgICAgICAgbGV0IHJlc3VsdHM6IEdhbWVPYmplY3RbXSA9IFtdO1xuICAgICAgICBmb3IobGV0IGk9MDtpPHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocGFyZW50LmNoaWxkcmVuW2ldIGluc3RhbmNlb2YgdHlwZSlcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocGFyZW50LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIGlmIChyZWN1cnNpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkUmVzdWx0ID0gVHJlZVV0aWxzLmZpbmRDaGlsZHJlbk9mVHlwZShwYXJlbnQuY2hpbGRyZW5baV0sdHlwZSwgcmVjdXJzaXZlKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoY2hpbGRSZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHNlYWNoIHRocm91Z2ggdGhpcyBHYW1lT2JqZWN0IHN1YnRyZWUgYW5kIHJldHVybiBhIGxpc3Qgb2ZcbiAgICAgKiBHYW1lT2JqZWN0cyB0aGF0IGhhdmUgYSBwcm92aWRlZCBuYW1lLlxuICAgICAqIEBwYXJhbSBuYW1lIGEgbGlzdCBvZiBHYW1lT2JqZWN0cyB3aXRoIHRoaXMgbmFtZSB3aWxsIGJlIHJldHVybmVkXG4gICAgICovXG4gICAgc3RhdGljIGZpbmRDaGlsZHJlbldpdGhOYW1lKHBhcmVudDogR2FtZU9iamVjdCwgbmFtZTogc3RyaW5nLCByZWN1cnNpdmU6IGJvb2xlYW4pOiBHYW1lT2JqZWN0W11cbiAgICB7XG4gICAgICAgIHJlY3Vyc2l2ZSA9IHJlY3Vyc2l2ZSB8fCBmYWxzZTtcbiAgICAgICAgbGV0IHJlc3VsdHM6IEdhbWVPYmplY3RbXSA9IFtdO1xuICAgICAgICBmb3IobGV0IGk9MDtpPHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoKHBhcmVudC5jaGlsZHJlbltpXS5uYW1lKSAmJiAocGFyZW50LmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpKVxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChwYXJlbnQuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgaWYgKHJlY3Vyc2l2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRSZXN1bHQgPSBUcmVlVXRpbHMuZmluZENoaWxkcmVuV2l0aE5hbWUocGFyZW50LmNoaWxkcmVuW2ldLG5hbWUsIHJlY3Vyc2l2ZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KGNoaWxkUmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgbW92ZUNoaWxkVG9GaXJzdChwYXJlbnQ6IEdhbWVPYmplY3QsIGNoaWxkOiBHYW1lT2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCksIDEpO1xuICAgICAgICBwYXJlbnQuY2hpbGRyZW4udW5zaGlmdChjaGlsZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1vdmVDaGlsZFRvTGFzdChwYXJlbnQ6IEdhbWVPYmplY3QsIGNoaWxkOiBHYW1lT2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCksIDEpO1xuICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHN1YnRyZWVMb2FkU3RhdHMocm9vdDogR2FtZU9iamVjdCk6IFN1YnRyZWVMb2FkU3RhdHNcbiAgICB7XG4gICAgICAgIGxldCByID0gVHJlZVV0aWxzLl9zdWJ0cmVlTG9hZFN0YXRzSW5uZXIocm9vdCk7XG4gICAgICAgIHJldHVybiBuZXcgU3VidHJlZUxvYWRTdGF0cyhyWzBdLCByWzFdLCByWzJdLCByWzNdKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfc3VidHJlZUxvYWRTdGF0c0lubmVyKHJvb3Q6IEdhbWVPYmplY3QpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgbGV0IHRvdGFsID0gMTtcbiAgICAgICAgbGV0IGxvYWRlZCA9IHJvb3QubG9hZGVkID8gMSA6IDA7XG4gICAgICAgIGxldCBhc3NldHNUb3RhbCA9IHJvb3QuYXNzZXRzLmxlbmd0aDtcbiAgICAgICAgbGV0IGFzc2V0c0xvYWRlZCA9IHJvb3QuYXNzZXRzLmZpbHRlcihhID0+IGEubG9hZGVkKS5sZW5ndGg7XG4gICAgICAgIHJvb3QuY2hpbGRyZW4uZm9yRWFjaChjID0+IFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBsZXQgciA9IFRyZWVVdGlscy5fc3VidHJlZUxvYWRTdGF0c0lubmVyKGMpO1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IHJbMF07XG4gICAgICAgICAgICAgICAgbG9hZGVkICs9IHJbMV07XG4gICAgICAgICAgICAgICAgYXNzZXRzVG90YWwgKz0gclsyXTtcbiAgICAgICAgICAgICAgICBhc3NldHNMb2FkZWQgKz0gclszXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW3RvdGFsLCBsb2FkZWQsIGFzc2V0c1RvdGFsLCBhc3NldHNMb2FkZWRdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1YnRyZWVMb2FkU3RhdHNcbntcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIGxvYWRlZDogbnVtYmVyO1xuICAgIGFzc2V0c1RvdGFsOiBudW1iZXI7XG4gICAgYXNzZXRzTG9hZGVkOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0b3RhbDogbnVtYmVyLCBsb2FkZWQ6IG51bWJlciwgYXNzZXRzVG90YWw6IG51bWJlciwgYXNzZXRzTG9hZGVkOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnRvdGFsID0gdG90YWw7XG4gICAgICAgIHRoaXMubG9hZGVkID0gbG9hZGVkO1xuICAgICAgICB0aGlzLmFzc2V0c1RvdGFsID0gYXNzZXRzVG90YWw7XG4gICAgICAgIHRoaXMuYXNzZXRzTG9hZGVkID0gYXNzZXRzTG9hZGVkO1xuICAgIH1cblxuICAgIGdldCBwcm9wb3J0aW9uKCkgeyByZXR1cm4gdGhpcy5sb2FkZWQvdGhpcy50b3RhbDsgfVxuICAgIGdldCBhc3NldHNQcm9wb3J0aW9uKCkgeyByZXR1cm4gdGhpcy5hc3NldHNMb2FkZWQvdGhpcy5hc3NldHNUb3RhbDsgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGlwIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByaXZhdGUgX3NldENsaXA6IChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHNldENsaXA/OiAoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHZvaWQpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fc2V0Q2xpcCA9IHNldENsaXA7XG4gICAgfVxuXG4gICAgc2V0IHNldENsaXAodmFsKSB7IHRoaXMuX3NldENsaXAgPSB2YWw7IH1cbiAgICBcbiAgICBkb0RyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICB0aGlzLl9zZXRDbGlwKGNvbnRleHQyRCk7XG4gICAgICAgIHN1cGVyLmRvRHJhdyhjb250ZXh0MkQpO1xuICAgICAgICBjb250ZXh0MkQucmVzdG9yZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuXG4vKipcbiAqIFRoZSBDb21wb25lbnQgYSBraW5kIG9mIEdhbWVPYmplY3QgdGhhdCBjYW4gYmUgY29udHJvbGxlZCBpbmRpcmVjdGx5XG4gKiB0aHJvdWdoIGEgQHNlZSBDb21wb25lbnRMaXN0ZW5lciBhbmQgYSBAc2VlIENvbXBvbmVudENvbnRyb2xsZXIuIENvbXBvbmVudHMgYXJlXG4gKiB0byBsZXQgb25lIHRpZ2h0bHktY291cGxlZCBzdWJ0cmVlIG9mIEdhbWVPYmplY3RzIHRvIGludGVyYWN0IHdpdGhcbiAqIGFub3RoZXIgd2l0aCBtaW5pbWFsIGNvdXBsaW5nLiBCZWNhdXNlIG9ubHkgdGhlIGxpc3RlbmVyIGFuZCBjb250cm9sbGVyXG4gKiAod2hpY2ggY2FuIGJlIGdyb3VwZWQgYXMgYSBAc2VlIENvbXBvbmVudEludGVyZmFjZSkgbmVlZCB0byBiZSBwYXNzZWQgYXJvdW5kLFxuICogdGhlIENvbXBvbmVudCBpdHNlbGYgY2FuIGJlIGRlc3Ryb3llZCwgYW5kIGV2ZW4gcmVwbGFjZWQgd2l0aCBhbm90aGVyIGNvbXBhdGFibGVcbiAqIENvbXBvbmVudC5cbiAqIFxuICogRm9yIGV4YW1wbGUsIGEgdXNlciBpbnRlcmZhY2UgcGFuZWwgbWF5IGJlIGltcGxlbWVudGVkIGFzIGEgQ29tcG9uZW50IHdoaWNoXG4gKiBjb250YWlucyBhIHN1YnRyZWUgb2YgbWFueSBHYW1lT2JqZWN0cyBjb250cm9sbGluZyBob3cgaXQgaXMgZHJhd24sIHVwZGF0ZWQsXG4gKiBldGMuIFRoZSBDb21wb25lbnQsIHRocm91Z2ggaXRzIGxpc3RuZXIgYW5kIGNvbnRyb2xsZXIgb2ZmZXJzIGEgc2V0IG9mIGV2ZW50c1xuICogdGhhdCBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBjb21wb25lbnQgYW5kIHJlY2lldmUgc2lnbmFscyBiYWNrIGZyb20gaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQ8TCBleHRlbmRzIENvbXBvbmVudExpc3RlbmVyLCBDIGV4dGVuZHMgQ29tcG9uZW50Q29udHJvbGxlcj4gZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkNvbXBvbmVudFwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX2xpc3RlbmVyOiBMO1xuICAgIHByb3RlY3RlZCBfY29udHJvbGxlcjogQztcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBsaXN0ZW5lcjogTCwgY29udHJvbGxlcjogQylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG5cbiAgICBhZnRlckNyZWF0ZSgpIHsgdGhpcy5saW5rKHRoaXMuY29udHJvbGxlcik7IH1cblxuICAgIGdldCBsaXN0ZW5lcigpOiBMIHsgcmV0dXJuIHRoaXMuX2xpc3RlbmVyOyB9XG4gICAgZ2V0IGNvbnRyb2xsZXIoKTogQyB7IHJldHVybiB0aGlzLl9jb250cm9sbGVyOyB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy51bmxpbmsodGhpcy5jb250cm9sbGVyKTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3lGcm9tQ29udHJvbGxlcigpXG4gICAge1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgfVxuXG4gICAgbGluayhjb250cm9sbGVyOiBDKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29udHJvbGxlci5vbkRlc3Ryb3kucHVzaCh0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdW5saW5rKGNvbnRyb2xsZXI6IEMpOiB2b2lkXG4gICAge1xuICAgICAgICBjb250cm9sbGVyLm9uRGVzdHJveS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXdJbnRlcmZhY2UoKTogQ29tcG9uZW50SW50ZXJmYWNlPENvbXBvbmVudExpc3RlbmVyLCBDb21wb25lbnRDb250cm9sbGVyPiB7IHJldHVybiBuZXcgQ29tcG9uZW50SW50ZXJmYWNlKG5ldyBDb21wb25lbnRMaXN0ZW5lcigpLCBuZXcgQ29tcG9uZW50Q29udHJvbGxlcigpKTsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50TGlzdGVuZXIge31cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudENvbnRyb2xsZXIgaW1wbGVtZW50cyBJdGVyYXRvcjxFdmVudD5cbntcbiAgICBwcml2YXRlIF9jb3VudGVyID0gMDtcbiAgICBwcm90ZWN0ZWQgX29uRGVzdHJveSA9IG5ldyBFdmVudCgpO1xuXG4gICAgZ2V0IG9uRGVzdHJveSgpIHsgcmV0dXJuIHRoaXMuX29uRGVzdHJveTsgfVxuXG4gICAgbmV4dCgpOiBJdGVyYXRvclJlc3VsdDxFdmVudD4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5vbkRlc3Ryb3lcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudEludGVyZmFjZTxMIGV4dGVuZHMgQ29tcG9uZW50TGlzdGVuZXIsIEMgZXh0ZW5kcyBDb21wb25lbnRDb250cm9sbGVyPlxue1xuICAgIHByb3RlY3RlZCBfbGlzdGVuZXI6IEw7XG4gICAgcHJvdGVjdGVkIF9jb250cm9sbGVyOiBDO1xuXG4gICAgY29uc3RydWN0b3IobGlzdGVuZXI6IEwsIGNvbnRyb2xsZXI6IEMpXG4gICAge1xuICAgICAgICB0aGlzLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG5cbiAgICBnZXQgbGlzdGVuZXIoKTogTCB7IHJldHVybiB0aGlzLl9saXN0ZW5lcjsgfVxuICAgIGdldCBjb250cm9sbGVyKCk6IEMgeyByZXR1cm4gdGhpcy5fY29udHJvbGxlcjsgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb250cm9sbGVyLCBDb21wb25lbnRJbnRlcmZhY2UsIENvbXBvbmVudExpc3RlbmVyIH0gZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4uL3V0aWwvRXZlbnRcIjsgXG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgRnJhbWU8RkwgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyLCBGQyBleHRlbmRzIEZyYW1lQ29udHJvbGxlcj4gZXh0ZW5kcyBDb21wb25lbnQ8RkwsIEZDPlxue1xuICAgIHByb3RlY3RlZCBfY2hpbGRGcmFtZUNvbnRyb2xsZXJzOiBGcmFtZUNvbnRyb2xsZXJbXSA9IFtdO1xuICAgIHByb3RlY3RlZCBfaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9hd2FpdGluZ09wZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGxpc3RlbmVyOiBGTCwgY29udHJvbGxlcjogRkMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBldmVudExvZ2dlci5hZGRWYXJpYWJsZVBhdGhzKFwibGlzdGVuZXIub25PcGVuXCIsIFwibGlzdGVuZXIub25PcGVuXCIsIFwibGlzdGVuZXIub25SZWFkeVwiLCBcImxpc3RlbmVyLm9uQ2xvc2luZ1wiLCBcImxpc3RlbmVyLm9uQ2xvc2VcIiwgXCJjb250cm9sbGVyLm9uT3BlblwiLCBcImNvbnRyb2xsZXIub25SZWFkeVwiLCBcImNvbnRyb2xsZXIub25DbG9zaW5nXCIsIFwiY29udHJvbGxlci5vbkNsb3NlXCIpO1xuICAgIH0qL1xuXG4gICAgZ2V0IGF3YWl0aW5nT3BlbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2F3YWl0aW5nT3BlbjsgfVxuXG4gICAgZ2V0IGlzT3BlbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2lzT3BlbjsgfVxuICAgIHNldCBpc09wZW4odmFsKSB7IHRoaXMuX2lzT3BlbiA9IHZhbDsgfVxuXG4gICAgYWRkRnJhbWUoZnJhbWUpXG4gICAge1xuICAgICAgICB0aGlzLm9uQWRkRnJhbWUoZnJhbWUpO1xuICAgICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuXG4gICAgb25BZGRGcmFtZShmcmFtZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX2NoaWxkRnJhbWVDb250cm9sbGVycy5wdXNoKGZyYW1lLmNvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIHN3aXRjaFRvRnJhbWUoZnJhbWVDb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKGZyYW1lQ29udHJvbGxlci5vbk9wZW4pO1xuICAgIH1cblxuICAgIGFmdGVyQ3JlYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmFmdGVyQ3JlYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLmF3YWl0aW5nT3BlbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgICB0aGlzLl9hd2FpdGluZ09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uT3BlbiguLi5hcmdzKTogdm9pZCB7IH1cblxuICAgIG9wZW4oLi4uYXJncyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vbk9wZW4oLi4uYXJncyk7XG4gICAgICAgICAgICAvL3RoaXMuZG9SZWNyZWF0ZSguLi5hcmdzKTtcbiAgICAgICAgICAgIEV2ZW50LmNhbGwodGhpcy5saXN0ZW5lci5vbk9wZW4sIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2F3YWl0aW5nT3BlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVhZHkoLi4uYXJncylcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vblJlYWR5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgRXZlbnQuY2FsbCh0aGlzLmxpc3RlbmVyLm9uUmVhZHksIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2F3YWl0aW5nT3BlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgb25SZWFkeSguLi5hcmdzKSB7IH1cbiAgICBvbkNsb3NpbmcoLi4uYXJncykgeyB0aGlzLmNsb3NlKCk7IH1cblxuICAgIG9uQ2xvc2UoLi4uYXJncykgeyB9XG5cbiAgICBjbG9zZSguLi5hcmdzKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLmlzT3BlbikgJiYgKHRoaXMuY3JlYXRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvL3RoaXMuZG9EZWNyZWF0ZSguLi5hcmdzKTtcbiAgICAgICAgICAgIEV2ZW50LmNhbGwodGhpcy5saXN0ZW5lci5vbkNsb3NlLCAgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKmRlY3JlYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIH0qL1xuXG4gICAgbGluayhjb250cm9sbGVyOiBGQyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmxpbmsoY29udHJvbGxlcik7XG4gICAgICAgIGNvbnRyb2xsZXIub25PcGVuLnB1c2godGhpcy5vcGVuLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uUmVhZHkucHVzaCh0aGlzLm9uUmVhZHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25DbG9zaW5nLnB1c2godGhpcy5vbkNsb3NpbmcuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25DbG9zZS5wdXNoKHRoaXMuY2xvc2UuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25BZGRGcmFtZS5wdXNoKHRoaXMub25BZGRGcmFtZS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICB1bmxpbmsoY29udHJvbGxlcjogRkMpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci51bmxpbmsoY29udHJvbGxlcik7XG4gICAgICAgIGNvbnRyb2xsZXIub25PcGVuLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25SZWFkeS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uQ2xvc2luZy51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uQ2xvc2UudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgY29udHJvbGxlci5vbkFkZEZyYW1lLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkZyYW1lXCI7IH1cblxuICAgIHN0YXRpYyBuZXdJbnRlcmZhY2UoKTogQ29tcG9uZW50SW50ZXJmYWNlPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj4geyByZXR1cm4gbmV3IENvbXBvbmVudEludGVyZmFjZShuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCkpOyB9XG59XG5cbmV4cG9ydCBjbGFzcyBGcmFtZUxpc3RlbmVyIGV4dGVuZHMgQ29tcG9uZW50TGlzdGVuZXJcbntcbiAgICBwcml2YXRlIF9vbk9wZW46IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25SZWFkeTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICBwcml2YXRlIF9vbkNsb3Npbmc6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25DbG9zZTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcblxuICAgIGdldCBvbk9wZW4oKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25PcGVuOyB9XG4gICAgZ2V0IG9uUmVhZHkoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25SZWFkeTsgfVxuICAgIGdldCBvbkNsb3NpbmcoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zaW5nOyB9XG4gICAgZ2V0IG9uQ2xvc2UoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zZTsgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBGcmFtZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb21wb25lbnRDb250cm9sbGVyXG57XG4gICAgcHJpdmF0ZSBfb25PcGVuOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByaXZhdGUgX29uUmVhZHk6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25DbG9zaW5nOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByaXZhdGUgX29uQ2xvc2U6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25BZGRGcmFtZTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcblxuICAgIGdldCBvbk9wZW4oKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25PcGVuOyB9XG4gICAgZ2V0IG9uUmVhZHkoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25SZWFkeTsgfVxuICAgIGdldCBvbkNsb3NpbmcoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zaW5nOyB9XG4gICAgZ2V0IG9uQ2xvc2UoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zZTsgfVxuICAgIGdldCBvbkFkZEZyYW1lKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uQWRkRnJhbWU7IH1cbn1cbiIsImltcG9ydCB7IENvbnZleFBvbHlnb24sIFBvbHlFZGdlIH0gZnJvbSBcIi4uL3V0aWwvUG9seVNoYXBlXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uL3V0aWwvUG9pbnRcIjtcblxuZXhwb3J0IGNsYXNzIEludGVyc2VjdGlvblxue1xuICAgIHBvaW50OiBQb2ludDtcbiAgICBlZGdlOiBQb2x5RWRnZTtcbiAgICBwcml2YXRlIF9kZXB0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3Byb3BvcnRpb25PZkRpc3BsYWNlbWVudEludGVyc2VjdGluZzogbnVtYmVyO1xuXG4gICAgZ2V0IGRlcHRoKCkgeyByZXR1cm4gdGhpcy5fZGVwdGg7IH1cbiAgICBnZXQgcHJvcG9ydGlvbk9mRGlzcGFjZW1lbnRJbnRlcnNlY3RpbmcoKSB7IHJldHVybiB0aGlzLl9wcm9wb3J0aW9uT2ZEaXNwbGFjZW1lbnRJbnRlcnNlY3Rpbmc7IH1cbiAgICBzZXQgZGVwdGgodmFsKSB7IHRoaXMuX2RlcHRoID0gdmFsOyB9XG4gICAgc2V0IHByb3BvcnRpb25PZkRpc3BhY2VtZW50SW50ZXJzZWN0aW5nKHZhbCkgeyB0aGlzLl9wcm9wb3J0aW9uT2ZEaXNwbGFjZW1lbnRJbnRlcnNlY3RpbmcgPSB2YWw7IH1cblxuICAgIGFuZ2xlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb2ludDogUG9pbnQsIGVkZ2U6IFBvbHlFZGdlKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLmVkZ2UgPSBlZGdlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWdvbkNvbGxpc2lvblxue1xuICAgIHByaXZhdGUgX3BvbHlnb24xOiBDb252ZXhQb2x5Z29uO1xuICAgIHByaXZhdGUgX3BvbHlnb24yOiBDb252ZXhQb2x5Z29uO1xuXG4gICAgY29uc3RydWN0b3IocG9seWdvbjE6IENvbnZleFBvbHlnb24sIHBvbHlnb24yOiBDb252ZXhQb2x5Z29uKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcG9seWdvbjEgPSBwb2x5Z29uMTtcbiAgICAgICAgdGhpcy5fcG9seWdvbjIgPSBwb2x5Z29uMjtcbiAgICB9XG4gICAgXG4gICAgaW50ZXJzZWN0cygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9seWdvbjEuaW50ZXJzZWN0cyh0aGlzLl9wb2x5Z29uMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBtaW5pbXVtIHByb2plY3Rpb24sIHRoZSB2ZWN0b3IgdGhhdCBjYW4gc2VwYXJhdGUgdGhlIHR3byBvYmplY3RzXG4gICAgICogd2l0aCB0aGUgc2hvcnRlc3QgcG9zc2libGUgbW92ZW1lbnQuXG4gICAgICovXG4gICAgZ2V0UHJvamVjdGlvbigpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IGF4ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX3BvbHlnb24xLmVkZ2VzLmZvckVhY2goZSA9PiBheGVzLmFkZChlLnZlY3Rvci5yb3RhdGUoTWF0aC5QSS8yKS5ub3JtYWxpc2VkKSlcbiAgICAgICAgdGhpcy5fcG9seWdvbjIuZWRnZXMuZm9yRWFjaChlID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBuZXdBeGlzID0gZS52ZWN0b3Iucm90YXRlKE1hdGguUEkvMikubm9ybWFsaXNlZDtcbiAgICAgICAgICAgICAgICBsZXQgZHVwbGljYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXhlcy5mb3JFYWNoKGEgPT4gXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKFBvaW50LmVxdWFscyhhLCBuZXdBeGlzKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCEoZHVwbGljYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgYXhlcy5hZGQobmV3QXhpcylcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBwMU1heERpc3BsYWNlbWVudFBlckF4aXMgPSBbXTtcbiAgICAgICAgbGV0IHAxTWluRGlzcGxhY2VtZW50UGVyQXhpcyA9IFtdO1xuICAgICAgICBsZXQgcDJNYXhEaXNwbGFjZW1lbnRQZXJBeGlzID0gW107XG4gICAgICAgIGxldCBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXMgPSBbXTtcbiAgICAgICAgYXhlcy5mb3JFYWNoKChhLCBpKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgbGV0IHAxID0gdGhpcy5fcG9seWdvbjEucG9pbnRzLm1hcCh4ID0+IHgucHJvamVjdGlvbkluKGEpKTtcbiAgICAgICAgICAgIGxldCBwMiA9IHRoaXMuX3BvbHlnb24yLnBvaW50cy5tYXAoeCA9PiB4LnByb2plY3Rpb25JbihhKSk7XG4gICAgICAgICAgICBwMU1heERpc3BsYWNlbWVudFBlckF4aXMucHVzaChNYXRoLm1heCguLi5wMSkpO1xuICAgICAgICAgICAgcDFNaW5EaXNwbGFjZW1lbnRQZXJBeGlzLnB1c2goTWF0aC5taW4oLi4ucDEpKTtcbiAgICAgICAgICAgIHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpcy5wdXNoKE1hdGgubWF4KC4uLnAyKSk7XG4gICAgICAgICAgICBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXMucHVzaChNYXRoLm1pbiguLi5wMikpO1xuICAgICAgICAgICAgaWYgKCEoKHAxTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSA+IHAyTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXSkgJiYgKHAxTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXSA8IHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGF4aXM6IFBvaW50O1xuICAgICAgICBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGF4ZXMuZm9yRWFjaCgoYXgsaSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGEgPSBwMU1heERpc3BsYWNlbWVudFBlckF4aXNbaV0gLSBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXNbaV07XG4gICAgICAgICAgICBsZXQgYiA9IHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSAtIHAxTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhhKSA8PSBNYXRoLmFicyhiKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQpIHx8IHZhbHVlID4gTWF0aC5hYnMoYSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBheGlzID0gUG9pbnQubWludXMoYXhlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5hYnMoYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCkgfHwgdmFsdWUgPiBNYXRoLmFicyhiKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMgPSBheGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguYWJzKGIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuIFBvaW50Lm11bHRpcGx5KGF4aXMsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vR2V0IGF4aXMgcGVycGVuZGljdWxhciB0byBlYWNoIGVkZ2VcbiAgICAgICAgLy9DaGVjayBlYWNoIGF4aXMgdG8gc2VlIHRvIHdoYXQgZGVncmVlIHRoZSBzaGFwZXMgb3ZlcmxhcCBvbiB0aGF0IGF4aXNcbiAgICAgICAgLy9UaGVuIHlvdSBrbm93IGhvdyBmYXIgYmFjayB0byBwdXNoIHRoZSBvYmplY3QsIGFuZCBpbiB3aGF0IGRpcmVjdGlvbi5cblxuICAgICAgICAvL21vcmU6IGh0dHA6Ly93d3cubWV0YW5ldHNvZnR3YXJlLmNvbS90ZWNobmlxdWUvdHV0b3JpYWxBLmh0bWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgcG9pbnQgYXQgd2hpY2ggdGhlIHR3byBwb2x5Y29ucyBjb2xsaWRlZCBiYXNlZCBvbiB0aGUgdmVsb2NpdGllcyBvZiB0aGUgb2JqZWN0c1xuICAgICAqIChhbmQgcG9zc2libHkgdGhlaXIgYWNjZWxlcmF0aW9ucyE/KVxuICAgICAqL1xuICAgIGdldEludGVyc2VjdGlvbihwb2x5Z29uMURpc3BsYWNlbWVudDogUG9pbnQpOiBJbnRlcnNlY3Rpb25cbiAgICB7XG4gICAgICAgIGlmIChwb2x5Z29uMURpc3BsYWNlbWVudC5pc1plcm8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBsZXQgbGVhZGluZ1BvaW50ID0gdGhpcy5fcG9seWdvbjEubWF4aW11bVByb2plY3Rpb25PblZlY3Rvcihwb2x5Z29uMURpc3BsYWNlbWVudCk7XG4gICAgICAgIGxldCBzdGFydCA9IFBvaW50Lm1pbnVzKGxlYWRpbmdQb2ludCwgcG9seWdvbjFEaXNwbGFjZW1lbnQpO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IHRoaXMuX3BvbHlnb24yLmludGVyc2VjdGlvbnNXaXRoRWRnZShzdGFydCxsZWFkaW5nUG9pbnQpO1xuXG4gICAgICAgIGxldCBzbWFsbGVzdERpc3RhbmNlOiBudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBmaXJzdEludGVyc2VjdGlvbjogSW50ZXJzZWN0aW9uO1xuICAgICAgICBpbnRlcnNlY3Rpb25zLmZvckVhY2goaSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBkID0gUG9pbnQubWludXMoaS5wb2ludCxzdGFydCkubWFnbml0dWRlO1xuICAgICAgICAgICAgICAgIGlmICgoc21hbGxlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkKSB8fCAoZCA8IHNtYWxsZXN0RGlzdGFuY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaXN0YW5jZSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0SW50ZXJzZWN0aW9uID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGlmIChmaXJzdEludGVyc2VjdGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgZmlyc3RJbnRlcnNlY3Rpb24uZGVwdGggPSBQb2ludC5taW51cyhsZWFkaW5nUG9pbnQsIGZpcnN0SW50ZXJzZWN0aW9uLnBvaW50KS5tYWduaXR1ZGU7XG4gICAgICAgICAgICBmaXJzdEludGVyc2VjdGlvbi5wcm9wb3J0aW9uT2ZEaXNwYWNlbWVudEludGVyc2VjdGluZyA9IGZpcnN0SW50ZXJzZWN0aW9uLmRlcHRoL3BvbHlnb24xRGlzcGxhY2VtZW50Lm1hZ25pdHVkZTtcbiAgICAgICAgICAgIGxldCBldiA9IGZpcnN0SW50ZXJzZWN0aW9uLmVkZ2UudmVjdG9yO1xuICAgICAgICAgICAgZmlyc3RJbnRlcnNlY3Rpb24uYW5nbGUgPSBQb2ludC5hbmdsZUJldHdlZW4ocG9seWdvbjFEaXNwbGFjZW1lbnQsIGV2KTtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdEludGVyc2VjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuXG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhyZWVCdWZmZXIgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJvdGVjdGVkIF9zY2VuZTtcbiAgICBwcm90ZWN0ZWQgX2NhbWVyYTtcbiAgICBwcm90ZWN0ZWQgX3JlbmRlcmVyO1xuICAgIHByb3RlY3RlZCBfY2FudmFzO1xuXG4gICAgcHJvdGVjdGVkIF9kcmF3UmVxdWVzdGVkOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfY2FtZXJhVXBkYXRlUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF9vbGREaW1lbnNpb246IFBpeGVsRGltZW5zaW9uO1xuICAgIGRlYnVnRGlzYWJsZUNhY2hlOiBib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIF9waXhlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9maWVsZE9mVmlldzogbnVtYmVyID0gNzU7XG4gICAgcHJvdGVjdGVkIF9uZWFyQ2xpcDogbnVtYmVyID0gMC4xO1xuICAgIHByb3RlY3RlZCBfZmFyQ2xpcDogbnVtYmVyID0gMTAwMDtcblxuICAgIHByb3RlY3RlZCBfaGFzQWxwaGFDaGFuZWw6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCBzY2VuZSgpIHsgcmV0dXJuIHRoaXMuX3NjZW5lOyB9XG4gICAgZ2V0IGNhbWVyYSgpIHsgcmV0dXJuIHRoaXMuX2NhbWVyYTsgfVxuICAgIGdldCBjYW52YXMoKSB7IHJldHVybiB0aGlzLl9jYW52YXM7IH1cbiAgICBnZXQgcmVuZGVyZXIoKSB7IHJldHVybiB0aGlzLl9yZW5kZXJlcjsgfVxuXG4gICAgZ2V0IGZpZWxkT2ZWaWV3KCkgeyByZXR1cm4gdGhpcy5fZmllbGRPZlZpZXc7IH1cbiAgICBzZXQgZmllbGRPZlZpZXcodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmllbGRPZlZpZXcgPSB2YWw7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgbmVhckNsaXAoKSB7IHJldHVybiB0aGlzLl9uZWFyQ2xpcDsgfVxuICAgIHNldCBuZWFyQ2xpcCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9uZWFyQ2xpcCA9IHZhbDtcbiAgICAgICAgdGhpcy5fY2FtZXJhVXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldCBmYXJDbGlwKCkgeyByZXR1cm4gdGhpcy5fZmFyQ2xpcDsgfVxuICAgIHNldCBmYXJDbGlwKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZhckNsaXAgPSB2YWw7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2NhbWVyYUFzcGVjdEZ1bmN0aW9uOiAod2lkdGg6bnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4gbnVtYmVyID0gKHdpZHRoLCBoZWlnaHQpID0+IHdpZHRoL2hlaWdodDtcbiAgICBnZXQgY2FtZXJhQXNwZWN0RnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9jYW1lcmFBc3BlY3RGdW5jdGlvbjsgfVxuICAgIHNldCBjYW1lcmFBc3BlY3RGdW5jdGlvbih2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9jYW1lcmFBc3BlY3RGdW5jdGlvbiA9IHZhbDtcbiAgICAgICAgdGhpcy5fY2FtZXJhVXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYWxwaGE6IHRoaXMuX2hhc0FscGhhQ2hhbmVsIH0pO1xuICAgICAgICB0aGlzLl9jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEodGhpcy5fZmllbGRPZlZpZXcsIDEsIHRoaXMuX25lYXJDbGlwLCB0aGlzLl9mYXJDbGlwKTtcbiAgICAgICAgdGhpcy5fc2NlbmUuYWRkKHRoaXMuX2NhbWVyYSk7XG4gICAgICAgIHRoaXMucmVzaXplQ2FudmFzKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24sIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5fY2FudmFzID0gdGhpcy5fcmVuZGVyZXIuZG9tRWxlbWVudDtcbiAgICAgICAgdGhpcy5jYW1lcmFVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBpbnRlcmZhY2VzKGludGVyZmFjZXMpXG4gICAge1xuICAgICAgICBpbnRlcmZhY2VzW1widGhyZWVQYXJlbnRcIl0gPSB0aGlzLnNjZW5lO1xuICAgICAgICByZXR1cm4gaW50ZXJmYWNlcztcbiAgICB9XG5cbiAgICBjYW1lcmFVcGRhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FtZXJhLmFzcGVjdCA9IHRoaXMuY2FtZXJhQXNwZWN0RnVuY3Rpb24odGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi53aWR0aCwgdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9jYW1lcmEuZm92ID0gdGhpcy5fZmllbGRPZlZpZXc7XG4gICAgICAgIHRoaXMuX2NhbWVyYS5uZWFyQ2xpcCA9IHRoaXMuX25lYXJDbGlwO1xuICAgICAgICB0aGlzLl9jYW1lcmEuZmFyQ2xpcCA9IHRoaXMuX2ZhckNsaXA7XG4gICAgICAgIHRoaXMuX2NhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzaXplQ2FudmFzKGRpbTogRGltZW5zaW9uLCBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9waXhlbFJhdGlvID0gZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U2l6ZShkaW0ud2lkdGggKiB0aGlzLl9waXhlbFJhdGlvLCBkaW0uaGVpZ2h0ICogdGhpcy5fcGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMuX29sZERpbWVuc2lvbiA9IG5ldyBEaW1lbnNpb24oZGltLndpZHRoLCBkaW0uaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2hhc1Jlc2l6ZWQoKVxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIHJldHVybiAoKHRoaXMuX29sZERpbWVuc2lvbi53aWR0aCAhPT0gZGltLndpZHRoKSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLl9vbGREaW1lbnNpb24uaGVpZ2h0ICE9PSBkaW0uaGVpZ2h0KSlcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2hhc0RldmljZVBpeGVsUmF0aW9DaGFuZ2VkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waXhlbFJhdGlvICE9PSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICB9XG5cbiAgICBiZWdpbigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5faGFzUmVzaXplZCgpIHx8IHRoaXMuX2hhc0RldmljZVBpeGVsUmF0aW9DaGFuZ2VkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplQ2FudmFzKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24sIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhVXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY2FtZXJhVXBkYXRlUmVxdWlyZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhVXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZWJ1Z0Rpc2FibGVDYWNoZSlcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgaWYgKGNvbnRleHQyRClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RyYXdSZXF1ZXN0ZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyKHRoaXMuX3NjZW5lLCB0aGlzLl9jYW1lcmEpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQyRC5kcmF3SW1hZ2UodGhpcy5fY2FudmFzLCAwLDAsIE1hdGgucm91bmQoZGltLndpZHRoKSAqIHRoaXMuX3BpeGVsUmF0aW8sIE1hdGgucm91bmQoZGltLmhlaWdodCkgKiB0aGlzLl9waXhlbFJhdGlvLCBNYXRoLnJvdW5kKHBvcy54KSwgTWF0aC5yb3VuZChwb3MueSksIE1hdGgucm91bmQoZGltLndpZHRoKSwgTWF0aC5yb3VuZChkaW0uaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0RHJhdygpXG4gICAge1xuICAgICAgICB0aGlzLl9kcmF3UmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zY2VuZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGlzcG9zZSgpO1xuICAgICAgICAvL3RoaXMuZGlzcG9zZUhpZXJhcmNoeSh0aGlzLnNjZW5lLCB0aGlzLmRpc3Bvc2VOb2RlKTtcbiAgICB9XG5cbiAgICBkaXNwb3NlTm9kZShub2RlKVxuICAgIHtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobm9kZS5nZW9tZXRyeSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBub2RlLmdlb21ldHJ5LmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsIGluc3RhbmNlb2YgVEhSRUUuTWVzaEZhY2VNYXRlcmlhbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubWF0ZXJpYWwubWF0ZXJpYWxzLmZvckVhY2goKG10cmwsIGlkeCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10cmwubWFwKSAgICAgICAgICAgbXRybC5tYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdHJsLmxpZ2h0TWFwKSAgICAgIG10cmwubGlnaHRNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdHJsLmJ1bXBNYXApICAgICAgIG10cmwuYnVtcE1hcC5kaXNwb3NlICgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10cmwubm9ybWFsTWFwKSAgICAgbXRybC5ub3JtYWxNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdHJsLnNwZWN1bGFyTWFwKSAgIG10cmwuc3BlY3VsYXJNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdHJsLmVudk1hcCkgICAgICAgIG10cmwuZW52TWFwLmRpc3Bvc2UgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG10cmwuZGlzcG9zZSAoKTsgICAgLy8gZGlzcG9zZXMgYW55IHByb2dyYW1zIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWF0ZXJpYWxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsLm1hcCkgICAgICAgICAgbm9kZS5tYXRlcmlhbC5tYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwubGlnaHRNYXApICAgICBub2RlLm1hdGVyaWFsLmxpZ2h0TWFwLmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsLmJ1bXBNYXApICAgICAgbm9kZS5tYXRlcmlhbC5idW1wTWFwLmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsLm5vcm1hbE1hcCkgICAgbm9kZS5tYXRlcmlhbC5ub3JtYWxNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwuc3BlY3VsYXJNYXApICBub2RlLm1hdGVyaWFsLnNwZWN1bGFyTWFwLmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsLmVudk1hcCkgICAgICAgbm9kZS5tYXRlcmlhbC5lbnZNYXAuZGlzcG9zZSAoKTtcblxuICAgICAgICAgICAgICAgICAgICBub2RlLm1hdGVyaWFsLmRpc3Bvc2UgKCk7ICAgLy8gZGlzcG9zZXMgYW55IHByb2dyYW1zIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWF0ZXJpYWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNwb3NlSGllcmFyY2h5KG5vZGUsIGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VIaWVyYXJjaHkoY2hpbGQsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaHJlZU1lc2ggZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBfbWVzaDtcbiAgICBwcml2YXRlIF9tZXNoVXBkYXRlZDtcbiAgICBfbmV3TWVzaDtcblxuICAgIGdldCBtZXNoKCkgeyByZXR1cm4gdGhpcy5fbWVzaDsgfVxuICAgIHNldCBtZXNoKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX25ld01lc2ggPSB2YWw7XG4gICAgICAgIHRoaXMuX21lc2hVcGRhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNoLCBtYXRlcmlhbD8pXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgaWYgKG1hdGVyaWFsKVxuICAgICAgICAgICAgdGhpcy5fbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG1lc2gsIG1hdGVyaWFsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fbWVzaCA9IG1lc2g7XG4gICAgfVxuXG4gICAgY3JlYXRlKHt0aHJlZVBhcmVudDogdGhyZWVQYXJlbnR9KVxuICAgIHtcbiAgICAgICAgdGhyZWVQYXJlbnQuYWRkKHRoaXMuX21lc2gpO1xuICAgIH1cblxuICAgIHVwZGF0ZSh7dGhyZWVQYXJlbnQ6IHRocmVlUGFyZW50fSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tZXNoVXBkYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyZWVQYXJlbnQucmVtb3ZlKHRoaXMubWVzaCk7XG4gICAgICAgICAgICB0aGlzLl9tZXNoID0gdGhpcy5fbmV3TWVzaDtcbiAgICAgICAgICAgIHRoaXMuX25ld01lc2ggPSBudWxsO1xuICAgICAgICAgICAgdGhyZWVQYXJlbnQuYWRkKHRoaXMuX21lc2gpO1xuICAgICAgICAgICAgdGhpcy5fbWVzaFVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludGVyZmFjZXMoaW50ZXJmYWNlcylcbiAgICB7XG4gICAgICAgIGludGVyZmFjZXNbXCJ0aHJlZVBhcmVudFwiXSA9IHRoaXMubWVzaDtcbiAgICAgICAgcmV0dXJuIGludGVyZmFjZXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuZXhwb3J0IGNsYXNzIFRpbWVyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJUaW1lclwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX3RpbWUgPSAwO1xuICAgIHByb3RlY3RlZCBfc3RhcnRUaW1lID0gMDtcbiAgICBwcm90ZWN0ZWQgX3ByZXZpb3VzVGltZSA9IDA7XG4gICAgcHJvdGVjdGVkIF90aW1lT3V0Q2FsbGJhY2tzID0gW107XG4gICAgcHJvdGVjdGVkIF9ydW5uaW5nID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF90aW1lT3V0Q2FsbGJhY2s7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsLCBudWxsKTtcbiAgICB9XG5cbiAgICBnZXQgdGltZSgpIHsgcmV0dXJuIHRoaXMuX3RpbWU7IH1cbiAgICBzZXQgdGltZSh2YWwpIHsgdGhpcy5fdGltZSA9IHZhbDsgfVxuICAgIFxuICAgIGdldCBydW5uaW5nKCkgeyByZXR1cm4gdGhpcy5fcnVubmluZzsgfVxuXG4gICAgYWRkVGltZU91dENhbGxiYWNrKHRpbWUsIGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGltZU91dENhbGxiYWNrcy5wdXNoKG5ldyBUaW1lT3V0Q2FsbGJhY2sodGltZSwgY2FsbGJhY2spKTtcbiAgICB9XG5cbiAgICBzdGFydCgpXG4gICAge1xuICAgICAgICB0aGlzLl9ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gMDtcbiAgICAgICAgdGhpcy50aW1lID0gMDtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gdGhpcy50aW1lO1xuICAgICAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzdW1lKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGJlZ2luKHt0aW1pbmc6IHR9KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aW1lID0gKERhdGUubm93KCkgLSB0aGlzLl9zdGFydFRpbWUpICsgdGhpcy5fcHJldmlvdXNUaW1lO1xuICAgICAgICAgICAgdGhpcy5fdGltZU91dENhbGxiYWNrcy5mb3JFYWNoKHggPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aW1lID4geC50aW1lKVxuICAgICAgICAgICAgICAgICAgICB4LmNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBWYXJpYWJsZUxvZ2dlci5hZGRWYXJpYWJsZVBhdGhzKFwidGltZVwiLFwicnVubmluZ1wiKTtcbiAgICB9Ki9cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVPdXRDYWxsYmFja1xue1xuICAgIHRpbWU7XG4gICAgY2FsbGJhY2s7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aW1lLCBjYWxsYmFjaylcbiAgICB7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG59IiwiaW1wb3J0IEV2ZW50IGZyb20gXCIuLi8uLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRpb24gZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBfZG9uZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX29uQ29tcGxldGU6IEV2ZW50O1xuICAgIHByaXZhdGUgX29uU3RlcDogRXZlbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsLCBudWxsKTtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG5ldyBFdmVudCgpO1xuICAgICAgICB0aGlzLl9vblN0ZXAgPSBuZXcgRXZlbnQoKTtcbiAgICB9XG5cbiAgICBnZXQgZG9uZSgpIHsgcmV0dXJuIHRoaXMuX2RvbmU7IH1cblxuICAgIGdldCBvbkNvbXBsZXRlKCkgeyByZXR1cm4gdGhpcy5fb25Db21wbGV0ZTsgfVxuICAgIHNldCBvbkNvbXBsZXRlKHZhbCkgeyB0aGlzLl9vbkNvbXBsZXRlID0gdmFsOyB9XG5cbiAgICBnZXQgb25TdGVwKCkgeyByZXR1cm4gdGhpcy5fb25TdGVwOyB9XG4gICAgc2V0IG9uU3RlcCh2YWwpIHsgdGhpcy5fb25TdGVwID0gdmFsOyB9XG5cbiAgICB1cGRhdGUoLi4uYXJncylcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5kb25lKVxuICAgICAgICAgICAgdGhpcy5vblN0ZXAuY2FsbCgpO1xuICAgIH1cblxuICAgIGNvbXBsZXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2RvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuY2FsbCgpO1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFR3ZWVuIGZyb20gXCIuL1R3ZWVuXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCIuLi8uLi91dGlsL1BvaW50M1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludDNUd2VlbiBleHRlbmRzIFR3ZWVuXG57XG4gICAgaW5jcmVtZW50KGRlbHRhKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ggPSAoKHRoaXMudGFyZ2V0VmFsdWUueCAtIHRoaXMuY3VycmVudFZhbHVlLngpL3RoaXMudGltZVJlbWFpbmluZykqZGVsdGEgKyB0aGlzLmN1cnJlbnRWYWx1ZS54O1xuICAgICAgICBsZXQgbmV3WSA9ICgodGhpcy50YXJnZXRWYWx1ZS55IC0gdGhpcy5jdXJyZW50VmFsdWUueSkvdGhpcy50aW1lUmVtYWluaW5nKSpkZWx0YSArIHRoaXMuY3VycmVudFZhbHVlLnk7XG4gICAgICAgIGxldCBuZXdaID0gKCh0aGlzLnRhcmdldFZhbHVlLnogLSB0aGlzLmN1cnJlbnRWYWx1ZS56KS90aGlzLnRpbWVSZW1haW5pbmcpKmRlbHRhICsgdGhpcy5jdXJyZW50VmFsdWUuejtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VmFsdWUueCA8IHRoaXMudGFyZ2V0VmFsdWUueClcbiAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1pbih0aGlzLnRhcmdldFZhbHVlLngsIG5ld1gpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRWYWx1ZS54ID4gdGhpcy50YXJnZXRWYWx1ZS54KVxuICAgICAgICAgICAgbmV3WCA9IE1hdGgubWF4KHRoaXMudGFyZ2V0VmFsdWUueCwgbmV3WCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlLnkgPCB0aGlzLnRhcmdldFZhbHVlLnkpXG4gICAgICAgICAgICBuZXdZID0gTWF0aC5taW4odGhpcy50YXJnZXRWYWx1ZS55LCBuZXdZKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50VmFsdWUueSA+IHRoaXMudGFyZ2V0VmFsdWUueSlcbiAgICAgICAgICAgIG5ld1kgPSBNYXRoLm1heCh0aGlzLnRhcmdldFZhbHVlLnksIG5ld1kpO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZS56IDwgdGhpcy50YXJnZXRWYWx1ZS56KVxuICAgICAgICAgICAgbmV3WiA9IE1hdGgubWluKHRoaXMudGFyZ2V0VmFsdWUueiwgbmV3Wik7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudFZhbHVlLnkgPiB0aGlzLnRhcmdldFZhbHVlLnkpXG4gICAgICAgICAgICBuZXdaID0gTWF0aC5tYXgodGhpcy50YXJnZXRWYWx1ZS56LCBuZXdaKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ldyBQb2ludDMobmV3WCwgbmV3WSwgbmV3Wik7XG4gICAgfVxuXG4gICAgZ2V0IHJlYWNoZWRUYXJnZXQoKTogYm9vbGVhbiB7IHJldHVybiBQb2ludDMuZXF1YWxzKHRoaXMuY3VycmVudFZhbHVlLCB0aGlzLnRhcmdldFZhbHVlKTsgfVxufVxuIiwiaW1wb3J0IEFuaW1hdGlvbiBmcm9tIFwiLi9BbmltYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgVHdlZW4gZXh0ZW5kcyBBbmltYXRpb25cbntcbiAgICBwcm90ZWN0ZWQgX29iamVjdDogT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfc3RhcnRWYWx1ZTogYW55O1xuICAgIHByb3RlY3RlZCBfdmFyaWFibGVOYW1lOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF90YXJnZXRWYWx1ZTogYW55O1xuICAgIHByb3RlY3RlZCBfdGltZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfdGltZVJlbWFpbmluZzogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfcmVxdWVzdERyYXdPbkNoYW5nZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBhbnksIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmIChvYmplY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29iamVjdCA9IG9iamVjdFxuICAgICAgICAgICAgdGhpcy5fc3RhcnRWYWx1ZSA9IG9iamVjdFt2YXJpYWJsZU5hbWVdO1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVOYW1lID0gdmFyaWFibGVOYW1lO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0VmFsdWUgPSB0YXJnZXRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy5fdGltZVJlbWFpbmluZyA9IHRpbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb2JqZWN0KCkgeyByZXR1cm4gdGhpcy5fb2JqZWN0OyB9XG4gICAgZ2V0IHZhcmlhYmxlTmFtZSgpIHsgcmV0dXJuIHRoaXMuX3ZhcmlhYmxlTmFtZTsgfVxuICAgIGdldCBzdGFydFZhbHVlKCkgeyByZXR1cm4gdGhpcy5fc3RhcnRWYWx1ZTsgfVxuICAgIGdldCB0YXJnZXRWYWx1ZSgpIHsgcmV0dXJuIHRoaXMuX3RhcmdldFZhbHVlOyB9XG4gICAgZ2V0IGN1cnJlbnRWYWx1ZSgpIHsgcmV0dXJuIHRoaXMub2JqZWN0W3RoaXMudmFyaWFibGVOYW1lXTsgfVxuICAgIHNldCBjdXJyZW50VmFsdWUodmFsKSB7IHRoaXMub2JqZWN0W3RoaXMudmFyaWFibGVOYW1lXSA9IHZhbDsgfVxuICAgIGdldCB0aW1lKCkgeyByZXR1cm4gdGhpcy5fdGltZTsgfVxuICAgIGdldCB0aW1lUmVtYWluaW5nKCkgeyByZXR1cm4gdGhpcy5fdGltZVJlbWFpbmluZzsgfVxuICAgIGdldCByZXF1ZXN0RHJhd09uQ2hhbmdlKCkgeyByZXR1cm4gdGhpcy5fcmVxdWVzdERyYXdPbkNoYW5nZTsgfVxuICAgIHNldCByZXF1ZXN0RHJhd09uQ2hhbmdlKHZhbCkgeyB0aGlzLl9yZXF1ZXN0RHJhd09uQ2hhbmdlID0gdmFsOyB9XG5cbiAgICB1cGRhdGUoe3RpbWluZzp0fSlcbiAgICB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgICAgICBpZiAoIXRoaXMuZG9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVxdWVzdERyYXdPbkNoYW5nZSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lUmVtYWluaW5nIC09IHQuZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZVJlbWFpbmluZyA8PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy50YXJnZXRWYWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnQodC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhY2hlZFRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgaW5jcmVtZW50KGRlbHRhKTogdm9pZFxuICAgIGFic3RyYWN0IGdldCByZWFjaGVkVGFyZ2V0KCk6IGJvb2xlYW5cbn1cbiIsImltcG9ydCBUd2VlbiBmcm9tIFwiLi9Ud2VlblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWYWx1ZVR3ZWVuIGV4dGVuZHMgVHdlZW5cbntcblxuICAgIGdldCByYXRlKCk6IGFueVxuICAgIHsgXG4gICAgICAgIGlmICh0aGlzLnRpbWVSZW1haW5pbmcgPD0gMClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gKCh0aGlzLnRhcmdldFZhbHVlLXRoaXMuY3VycmVudFZhbHVlKSAvIHRoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG4gICAgaW5jcmVtZW50KGRlbHRhKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ZhbCA9IHRoaXMuY3VycmVudFZhbHVlICsgKHRoaXMucmF0ZSAqIGRlbHRhKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSlcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gTWF0aC5taW4obmV3VmFsLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1heChuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgIH1cblxuICAgIGdldCByZWFjaGVkVGFyZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWUgPT09IHRoaXMudGFyZ2V0VmFsdWU7IH1cblxufSIsImltcG9ydCBBbmltYXRpb24gZnJvbSBcIi4vQW5pbWF0aW9uXCI7XG5pbXBvcnQgeyBUaW1pbmcgfSBmcm9tIFwiLi4vLi4vaW8vVGltaW5nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhaXQgZXh0ZW5kcyBBbmltYXRpb25cbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiV2FpdFwiOyB9XG5cbiAgICBwcml2YXRlIF90aW1lOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfdGltZVJlbWFpbmluZzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMuX3RpbWVSZW1haW5pbmcgPSB0aW1lO1xuICAgIH1cblxuICAgIGdldCB0aW1lKCkgeyByZXR1cm4gdGhpcy5fdGltZTsgfVxuICAgIGdldCB0aW1lUmVtYWluaW5nKCkgeyByZXR1cm4gdGhpcy5fdGltZVJlbWFpbmluZzsgfVxuXG4gICAgdXBkYXRlKHt0aW1pbmc6dH0gOiB7IHRpbWluZzogVGltaW5nIH0pXG4gICAge1xuICAgICAgICBzdXBlci51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5fdGltZVJlbWFpbmluZyAtPSB0LmRlbHRhO1xuICAgICAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nIDw9IDApXG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfVxufSIsImltcG9ydCBUd2VlbiBmcm9tIFwiLi9Ud2VlblwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludDNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV3JhcHBpbmdQb2ludDNUd2VlbiBleHRlbmRzIFR3ZWVuXG57XG4gICAgcHJvdGVjdGVkIF93cmFwVmFsdWU6IFBvaW50MztcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBQb2ludDMsIHRpbWU6IG51bWJlciwgd3JhcFZhbHVlOiBQb2ludDMpXG4gICAge1xuICAgICAgICBzdXBlcihvYmplY3QsIHZhcmlhYmxlTmFtZSwgdGFyZ2V0VmFsdWUsIHRpbWUpO1xuICAgICAgICB0aGlzLl93cmFwVmFsdWUgPSB3cmFwVmFsdWU7XG4gICAgfVxuXG4gICAgc2hvcnRlc3REaXN0YW5jZURpbShheDogbnVtYmVyLCBieDogbnVtYmVyLCBseDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKGF4ID09PSBieClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgd3JhcHggPSAoYXggPCBieCkgPyAoKGx4IC0gYngpICsgYXgpIDogKChseCAtIGF4KSArIGJ4KTtcbiAgICAgICAgbGV0IHN0cmFpZ2h0eCA9IE1hdGguYWJzKGJ4IC0gYXgpO1xuXG4gICAgICAgIGlmIChzdHJhaWdodHggPCB3cmFweClcbiAgICAgICAgICAgIHJldHVybiBieCAtIGF4O1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChheCA8IGJ4KVxuICAgICAgICAgICAgICAgIHJldHVybiAtd3JhcHg7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXB4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnZXQgcmF0ZSgpOiBhbnlcbiAgICB7IFxuICAgICAgICBsZXQgeCA9IHRoaXMuc2hvcnRlc3REaXN0YW5jZURpbSh0aGlzLmN1cnJlbnRWYWx1ZS54LCB0aGlzLnRhcmdldFZhbHVlLngsIHRoaXMuX3dyYXBWYWx1ZS54KTtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnNob3J0ZXN0RGlzdGFuY2VEaW0odGhpcy5jdXJyZW50VmFsdWUueSwgdGhpcy50YXJnZXRWYWx1ZS55LCB0aGlzLl93cmFwVmFsdWUueSk7XG4gICAgICAgIGxldCB6ID0gdGhpcy5zaG9ydGVzdERpc3RhbmNlRGltKHRoaXMuY3VycmVudFZhbHVlLnosIHRoaXMudGFyZ2V0VmFsdWUueiwgdGhpcy5fd3JhcFZhbHVlLnopO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4L3RoaXMudGltZVJlbWFpbmluZyx5L3RoaXMudGltZVJlbWFpbmluZyx6L3RoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG5cbiAgICBpbmNyZW1lbnREaW0oY3gsIHR4LCByeCwgbmV3WClcbiAgICB7XG4gICAgICAgIGlmICgoY3ggPCB0eCkgJiYgKHJ4ID4gMCkpXG4gICAgICAgICAgICBuZXdYID0gTWF0aC5taW4odHgsIG5ld1gpO1xuICAgICAgICBpZiAoKGN4IDwgdHgpICYmIChyeCA8IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3WCA8IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1pbihuZXdYLCB0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGN4ID4gdHgpICYmIChyeCA+IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3WCA+IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1heChuZXdYLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoY3ggPiB0eCkgJiYgKHJ4IDwgMCkpXG4gICAgICAgICAgICBuZXdYID0gTWF0aC5tYXgodHgsIG5ld1gpO1xuICAgICAgICByZXR1cm4gbmV3WDtcbiAgICB9XG5cbiAgICBpbmNyZW1lbnQoZGVsdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgcmF0ZSA9IHRoaXMucmF0ZTtcbiAgICAgICAgbGV0IG5ld1ggPSAocmF0ZS54KmRlbHRhICsgdGhpcy5jdXJyZW50VmFsdWUueCkldGhpcy5fd3JhcFZhbHVlLng7XG4gICAgICAgIGxldCBuZXdZID0gKHJhdGUueSpkZWx0YSArIHRoaXMuY3VycmVudFZhbHVlLnkpJXRoaXMuX3dyYXBWYWx1ZS55O1xuICAgICAgICBsZXQgbmV3WiA9IChyYXRlLnoqZGVsdGEgKyB0aGlzLmN1cnJlbnRWYWx1ZS56KSV0aGlzLl93cmFwVmFsdWUuejtcblxuICAgICAgICBuZXdYID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueCwgdGhpcy50YXJnZXRWYWx1ZS54LCByYXRlLngsIG5ld1gpO1xuICAgICAgICBuZXdZID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueSwgdGhpcy50YXJnZXRWYWx1ZS55LCByYXRlLnksIG5ld1kpO1xuICAgICAgICBuZXdaID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueiwgdGhpcy50YXJnZXRWYWx1ZS56LCByYXRlLnosIG5ld1opO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbmV3IFBvaW50MyhuZXdYLCBuZXdZLCBuZXdaKTtcbiAgICB9XG5cbiAgICBnZXQgcmVhY2hlZFRhcmdldCgpOiBib29sZWFuIHsgcmV0dXJuIFBvaW50My5lcXVhbHModGhpcy5jdXJyZW50VmFsdWUsIHRoaXMudGFyZ2V0VmFsdWUpOyB9XG59XG4iLCJpbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiLi9WYWx1ZVR3ZWVuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdyYXBwaW5nVmFsdWVUd2VlbiBleHRlbmRzIFZhbHVlVHdlZW5cbntcbiAgICBwcm90ZWN0ZWQgX3dyYXBWYWx1ZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfZGlyZWN0aW9uSXNVcDogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBudW1iZXIsIHRpbWU6IG51bWJlciwgd3JhcFZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihvYmplY3QsIHZhcmlhYmxlTmFtZSwgdGFyZ2V0VmFsdWUsIHRpbWUpO1xuICAgICAgICB0aGlzLl93cmFwVmFsdWUgPSB3cmFwVmFsdWU7XG4gICAgICAgIGxldCB3cmFwcGluZyA9IE1hdGguYWJzKHRoaXMuc3RhcnRWYWx1ZSAtIHRoaXMudGFyZ2V0VmFsdWUpID4gdGhpcy5fd3JhcFZhbHVlLzI7XG4gICAgICAgIGxldCB1cHdhcmRzID0gdGhpcy5zdGFydFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZVxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25Jc1VwID0gKCh1cHdhcmRzICYmICF3cmFwcGluZykgfHwgKCF1cHdhcmRzICYmIHdyYXBwaW5nKSk7XG4gICAgfVxuXG4gICAgc2hvcnRlc3REaXN0YW5jZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy50YXJnZXRWYWx1ZSA9PT0gdGhpcy5jdXJyZW50VmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbklzVXAgJiYgKHRoaXMudGFyZ2V0VmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRWYWx1ZSArIHRoaXMuX3dyYXBWYWx1ZSAtIHRoaXMuY3VycmVudFZhbHVlXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb25Jc1VwICYmICh0aGlzLnRhcmdldFZhbHVlID4gdGhpcy5jdXJyZW50VmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0VmFsdWUgLSB0aGlzLmN1cnJlbnRWYWx1ZVxuICAgICAgICBpZiAoIXRoaXMuX2RpcmVjdGlvbklzVXAgJiYgKHRoaXMudGFyZ2V0VmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRWYWx1ZSAtIHRoaXMuY3VycmVudFZhbHVlXG4gICAgICAgIGlmICghdGhpcy5fZGlyZWN0aW9uSXNVcCAmJiAodGhpcy50YXJnZXRWYWx1ZSA+IHRoaXMuY3VycmVudFZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldFZhbHVlIC0gKHRoaXMuY3VycmVudFZhbHVlK3RoaXMuX3dyYXBWYWx1ZSlcbiAgICB9XG5cbiAgICBnZXQgcmF0ZSgpOiBhbnlcbiAgICB7IFxuICAgICAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nIDw9IDApXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuICh0aGlzLnNob3J0ZXN0RGlzdGFuY2UoKSAvIHRoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG4gICAgaW5jcmVtZW50KGRlbHRhKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ZhbCA9IHRoaXMuY3VycmVudFZhbHVlICsgKHRoaXMucmF0ZSAqIGRlbHRhKTtcblxuICAgICAgICBpZiAoKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSkgJiYgKHRoaXMuX2RpcmVjdGlvbklzVXApKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1pbihuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgICAgICBlbHNlIGlmICgodGhpcy5jdXJyZW50VmFsdWUgPiB0aGlzLnRhcmdldFZhbHVlKSAmJiAodGhpcy5fZGlyZWN0aW9uSXNVcCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuZXdWYWwgJSB0aGlzLl93cmFwVmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSlcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IE1hdGgubWluKG5ld1ZhbCwgdGhpcy50YXJnZXRWYWx1ZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBuZXdWYWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSkgJiYgISh0aGlzLl9kaXJlY3Rpb25Jc1VwKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld1ZhbCAlIHRoaXMuX3dyYXBWYWx1ZSA+IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gTWF0aC5tYXgobmV3VmFsLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodGhpcy5jdXJyZW50VmFsdWUgPiB0aGlzLnRhcmdldFZhbHVlKSAmJiAhKHRoaXMuX2RpcmVjdGlvbklzVXApKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1heChuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgIH1cblxuXG59IiwiaW1wb3J0IERyYXdCdWZmZXIgZnJvbSBcIi4vRHJhd0J1ZmZlclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyQ2xvbmUgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkJ1ZmZlckNsb25lXCI7IH1cblxuICAgIHByaXZhdGUgX2RyYXdCdWZmZXI6IERyYXdCdWZmZXI7XG4gICAgcHJpdmF0ZSBfY2xpcEZ1bmN0aW9uOiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKSA9PiB2b2lkO1xuXG4gICAgZ2V0IGNsaXBGdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2NsaXBGdW5jdGlvbjsgfVxuICAgIHNldCBjbGlwRnVuY3Rpb24odmFsKSB7IHRoaXMuX2NsaXBGdW5jdGlvbiA9IHZhbDsgfVxuXG4gICAgcHJpdmF0ZSBfb3JpZ2luOiBUcmFuc2xhdGlvbiA9IG5ldyBQaXhlbFRyYW5zbGF0aW9uKDAsMCk7XG4gICAgcHJpdmF0ZSBfYXJlYTogRGltZW5zaW9uID0gbnVsbDtcblxuICAgIGdldCBvcmlnaW4oKSB7IHJldHVybiB0aGlzLl9vcmlnaW47fVxuICAgIHNldCBvcmlnaW4odmFsKSB7IHRoaXMuX29yaWdpbiA9IHZhbDt9XG5cbiAgICBnZXQgYXJlYSgpIHsgcmV0dXJuIHRoaXMuX2FyZWE7fVxuICAgIHNldCBhcmVhKHZhbCkgeyB0aGlzLl9hcmVhID0gdmFsO31cblxuICAgIGdldCBkcmF3QnVmZmVyKCkgeyByZXR1cm4gdGhpcy5fZHJhd0J1ZmZlcjsgfVxuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgZHJhd0J1ZmZlcjogRHJhd0J1ZmZlciwgY2xpcEZ1bmN0aW9uPzogKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3M6IFBvaW50LCBkaW06IERpbWVuc2lvbikgPT4gdm9pZClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpXG4gICAgICAgIHRoaXMuX2RyYXdCdWZmZXIgPSBkcmF3QnVmZmVyO1xuICAgICAgICB0aGlzLl9jbGlwRnVuY3Rpb24gPSBjbGlwRnVuY3Rpb247XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fZHJhd0J1ZmZlcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkcmF3IGJ1ZmZlcmNsb25lIGJlY2F1c2UgdGhlIHByb3ZpZGVkIERyYXdCdWZmZXIgaXMgbnVsbFwiKTtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIGxldCBkYkRpbSA9IHRoaXMuX2RyYXdCdWZmZXIuY2FudmFzVXNlZERpbWVuc2lvbjtcblxuICAgICAgICBpZiAodGhpcy5fY2xpcEZ1bmN0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5fY2xpcEZ1bmN0aW9uKGNvbnRleHQyRCwgcG9zLCBkaW0pXG4gICAgICAgICAgICBjb250ZXh0MkQuY2xpcCgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgc291cmNlRGltID0gZGJEaW07XG4gICAgICAgIGlmICh0aGlzLmFyZWEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZURpbSA9IHRoaXMuYXJlYS5hc1NpbXBsZVBpeGVsRGltZW5zaW9uKHRoaXMudHJhbnNmb3JtLmJvdW5kcyk7XG4gICAgICAgICAgICBzb3VyY2VEaW0gPSBuZXcgRGltZW5zaW9uKHNvdXJjZURpbS53aWR0aCp0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbywgc291cmNlRGltLmhlaWdodCp0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9yaWcgPSB0aGlzLm9yaWdpbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCh0aGlzLmRyYXdCdWZmZXIudHJhbnNmb3JtLmJvdW5kcyk7XG5cbiAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLl9kcmF3QnVmZmVyLmNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnLnggKiB0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnLnkgKiB0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VEaW0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlRGltLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MueCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltLmhlaWdodCk7XG4gICAgICAgIGlmICh0aGlzLl9jbGlwRnVuY3Rpb24pXG4gICAgICAgICAgICBjb250ZXh0MkQucmVzdG9yZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEcmF3QnVmZmVyIGZyb20gXCIuL0RyYXdCdWZmZXJcIjtcbmltcG9ydCB7IE91dGxpbmVSZWN0IH0gZnJvbSBcIi4vUmVjdFwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL0NvbXBvbmVudFwiO1xuaW1wb3J0IHsgRnJhbWUgfSBmcm9tIFwiLi4vRnJhbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyZWQ8VCBleHRlbmRzIEdhbWVPYmplY3Q+IGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfY29uc3RydWN0b3JBcmdzOiBhbnlbXTtcbiAgICBwcm90ZWN0ZWQgX3R5cGU6IChuZXcgKC4uLmFyZ3MpID0+IFQpO1xuICAgIHByb3RlY3RlZCBfaW5uZXI6IFQ7XG4gICAgcHJvdGVjdGVkIF9idWZmZXI6IERyYXdCdWZmZXI7XG5cbiAgICBwcm90ZWN0ZWQgX2RlYnVnT3V0bGluZTogT3V0bGluZVJlY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiAobmV3ICguLi5hcmdzKSA9PiBUKSwgLi4uY29uc3RydWN0b3JBcmdzKVxuICAgIHtcbiAgICAgICAgbGV0IGFyZzEgPSBjb25zdHJ1Y3RvckFyZ3Muc2hpZnQoKTtcbiAgICAgICAgaWYgKGFyZzEgaW5zdGFuY2VvZiBQb3NpdGlvbilcbiAgICAgICAgICAgIHN1cGVyKGFyZzEsIGNvbnN0cnVjdG9yQXJncy5zaGlmdCgpIGFzIEJvdW5kcylcbiAgICAgICAgZWxzZSBpZiAoYXJnMSBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgIHN1cGVyKG51bGwsIGFyZzEpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgYSBCdWZmZXJlZDxHYW1lT2JqZWN0PiB0aGF0IGxhY2tzIGEgYm91bmRzLiBEcmF3QnVmZmVycyByZXF1aXJlIGEgQm91bmRzXCIpO1xuICAgICAgICB0aGlzLl9jb25zdHJ1Y3RvckFyZ3MgPSBjb25zdHJ1Y3RvckFyZ3M7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuXG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBEcmF3QnVmZmVyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpO1xuICAgICAgICB0aGlzLl9pbm5lciA9IG5ldyB0aGlzLl90eXBlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIC4uLnRoaXMuX2NvbnN0cnVjdG9yQXJncyk7XG4gICAgfVxuXG4gICAgZ2V0IGlubmVyKCkgeyByZXR1cm4gdGhpcy5faW5uZXI7IH1cbiAgICBnZXQgYnVmZmVyKCkgeyByZXR1cm4gdGhpcy5fYnVmZmVyOyB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9idWZmZXIpO1xuICAgICAgICB0aGlzLl9idWZmZXIuYWRkQ2hpbGQodGhpcy5faW5uZXIpO1xuICAgICAgICAvL3RoaXMuX2RlYnVnT3V0bGluZSA9IHRoaXMuYWRkQ2hpbGQ8T3V0bGluZVJlY3Q+KG5ldyBPdXRsaW5lUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcInJlZFwiLDUpKTtcblxuICAgICAgICBpZiAodGhpcy5pbm5lciBpbnN0YW5jZW9mIENvbXBvbmVudClcbiAgICAgICAgICAgIHRoaXMuaW5uZXIuY29udHJvbGxlci5vbkRlc3Ryb3kucHVzaCgoKCkgPT4geyB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7fSkuYmluZCh0aGlzKSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5uZXIgaW5zdGFuY2VvZiBGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbkNsb3NlLnB1c2goKCgpID0+IHsgdGhpcy52aXNpYmxlID0gZmFsc2U7IHRoaXMuYWN0aXZlID0gZmFsc2U7IH0pLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbk9wZW4ucHVzaCgoKCkgPT4geyB0aGlzLnZpc2libGUgPSB0cnVlOyB0aGlzLmFjdGl2ZSA9IHRydWU7IH0pLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5pbm5lci5pc09wZW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuaW5uZXIgaW5zdGFuY2VvZiBDb21wb25lbnQpXG4gICAgICAgICAgICB0aGlzLmlubmVyLmNvbnRyb2xsZXIub25EZXN0cm95LnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmlubmVyIGluc3RhbmNlb2YgRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIubGlzdGVuZXIub25DbG9zZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbk9wZW4udW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXcoKVxuICAgIHtcbiAgICAgICAgLy90aGlzLl9kZWJ1Z091dGxpbmUub3BhY2l0eSA9IDA7XG4gICAgICAgIC8qaWYgKHRoaXMuYnVmZmVyLmRyYXdSZXF1ZXN0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnT3V0bGluZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnT3V0bGluZS5zdHJva2VTdHlsZSA9IFwiI1wiICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjkpICsgXCJcIiArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KTtcbiAgICAgICAgfSovXG4gICAgfVxufSIsImltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgU2hhcGUgZnJvbSBcIi4vU2hhcGVcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcblxuZXhwb3J0IGNsYXNzIENpcmNsZSBleHRlbmRzIFNoYXBlXG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkNpcmNsZVwiOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBmaWxsU3R5bGU6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmZpbGxTdHlsZSlcbiAgICAgICAgICAgIHRoaXMuZmlsbGVkKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuICAgICAgICBpZiAoKHRoaXMubGluZVdpZHRoID4gMCkgJiYgKHRoaXMuc3Ryb2tlU3R5bGUpKVxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuXG4gICAgfVxuXG4gICAgb3V0bGluZShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBsZXQgcmFkRGltID0gbmV3IERpbWVuc2lvbihNYXRoLm1heCgwLCBkaW0ud2lkdGgtdGhpcy5saW5lV2lkdGgpLCBNYXRoLm1heCgwLCBkaW0uaGVpZ2h0LXRoaXMubGluZVdpZHRoKSlcbiAgICAgICAgY29udGV4dDJELnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0MkQuYmVnaW5QYXRoKClcbiAgICAgICAgY29udGV4dDJELmFyYyhwb3MueCArIGRpbS53aWR0aC8yLCBwb3MueSArIGRpbS5oZWlnaHQvMiwgTWF0aC5taW4ocmFkRGltLndpZHRoLCByYWREaW0uaGVpZ2h0KS8yLCAwLCAyKk1hdGguUEkpO1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZmlsbGVkKGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3M6IFBvaW50LCBkaW06IERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGNvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmJlZ2luUGF0aCgpXG4gICAgICAgIGNvbnRleHQyRC5hcmMocG9zLnggKyBkaW0ud2lkdGgvMiwgcG9zLnkgKyBkaW0uaGVpZ2h0LzIsIE1hdGgubWluKGRpbS53aWR0aCwgZGltLmhlaWdodCkvMiwgMCwgMipNYXRoLlBJKTtcbiAgICAgICAgY29udGV4dDJELmZpbGwoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxsQ2lyY2xlIGV4dGVuZHMgQ2lyY2xlXG57XG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgZmlsbFN0eWxlOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCB1bmRlZmluZWQsIGZpbGxTdHlsZSwgMCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3V0bGluZUNpcmNsZSBleHRlbmRzIENpcmNsZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0cm9rZVN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgc3Ryb2tlU3R5bGUsIHVuZGVmaW5lZCwgbGluZVdpZHRoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi8uLi9UcmFuc2Zvcm1cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYXdCdWZmZXIgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJvdGVjdGVkIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gbnVsbDtcbiAgICBwcm90ZWN0ZWQgX2NvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gbnVsbDtcbiAgICBwcm90ZWN0ZWQgX2RyYXdSZXF1ZXN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgX2JhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfb2xkRGltZW5zaW9uOiBEaW1lbnNpb247XG4gICAgcHJvdGVjdGVkIF9waXhlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9oYXNBbHBoYUNoYW5uZWw6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLy8gRGVjbGFyZWQgaGVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlZGVjbGFyZSBpbiBkcmF3IGxvb3BcbiAgICBwcml2YXRlIF9fcG9zOiBQb2ludDtcbiAgICBwcml2YXRlIF9fZGltOiBEaW1lbnNpb247XG5cbiAgICBwcm90ZWN0ZWQgX2ltYWdlRGF0YSA9IG51bGw7XG4gICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBtaW5DYW52YXNTaXplID0gMjU2OyAvLyBiaWcgZW5vdWdoIHRvIHRyaWdnZXIgaGFyZHdhcmUgYWNjZWxsZXJhdGlvbiBvbiBzb21lIGJyb3dzZXJzIChDaHJvbWUpXG4gICAgZGVidWdEaXNhYmxlQ2FjaGUgPSBmYWxzZTtcblxuICAgIHByb3RlY3RlZCBfZm9yZ2V0SW50ZXJuYWxzT25EcmF3OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9jYW52YXNEcmF3Rml4ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJEcmF3QnVmZmVyXCI7IH1cblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uPzogUG9zaXRpb24sIGJvdW5kcz86IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHN1cGVyKG5ldyBEcmF3VHJhbnNmb3JtKHBvc2l0aW9uLCBib3VuZHMpKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ucmVzZXREcmF3UG9zID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgZm9yZ2V0SW50ZXJuYWxzT25EcmF3KCkgeyByZXR1cm4gdGhpcy5fZm9yZ2V0SW50ZXJuYWxzT25EcmF3OyB9XG4gICAgc2V0IGZvcmdldEludGVybmFsc09uRHJhdyh2YWwpIHsgdGhpcy5fZm9yZ2V0SW50ZXJuYWxzT25EcmF3ID0gdmFsOyB9XG5cbiAgICBnZXQgY2FudmFzRHJhd0ZpeGVkKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzRHJhd0ZpeGVkOyB9XG5cbiAgICBnZXQgY2FudmFzKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzOyB9XG4gICAgZ2V0IGNvbnRleHQyRCgpIHsgcmV0dXJuIHRoaXMuX2NvbnRleHQyRDsgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBkaW1lbnNpb24gb2YgdGhlIHVzZWQgYXJlYSBvZiB0aGUgY2FudmFzIChtYXkgZGlmZmVyIGZyb20gYWN0dWFsIGNhbnZhcyBzaXplIGR1ZSB0byBoYXJkd2FyZSBvcHRpbWlzYXRpb24pICAqL1xuICAgIGdldCBjYW52YXNVc2VkRGltZW5zaW9uKCkgeyByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKE1hdGguY2VpbCh0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoICogdGhpcy5waXhlbFJhdGlvKSwgTWF0aC5jZWlsKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICogdGhpcy5waXhlbFJhdGlvKSk7IH1cbiAgICBnZXQgYmFja2dyb3VuZENvbG9yKCkgeyByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yOyB9XG4gICAgc2V0IGJhY2tncm91bmRDb2xvcih2YWwpIHsgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gdmFsOyB9XG4gICAgZ2V0IHBpeGVsUmF0aW8oKSB7IHJldHVybiB0aGlzLl9waXhlbFJhdGlvOyB9XG4gICAgZ2V0IGhhc0FscGhhQ2hhbm5lbCgpIHsgcmV0dXJuIHRoaXMuX2hhc0FscGhhQ2hhbm5lbDsgfVxuICAgIHNldCBoYXNBbHBoYUNoYW5uZWwodmFsKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLl9oYXNBbHBoYUNoYW5uZWwgIT09IHZhbCkgJiYgKHRoaXMuX2NhbnZhcykpXG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0MkQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IHZhbH0pO1xuICAgICAgICB0aGlzLl9oYXNBbHBoYUNoYW5uZWwgPSB2YWw7IFxuICAgIH1cbiAgICBnZXQgZHJhd1JlcXVlc3RlZCgpIHsgcmV0dXJuIHRoaXMuX2RyYXdSZXF1ZXN0ZWQ7IH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9jcmVhdGVEcmF3QnVmZmVyKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVEcmF3QnVmZmVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLl9jb250ZXh0MkQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IHRoaXMuaGFzQWxwaGFDaGFubmVsfSk7XG4gICAgICAgIHRoaXMucmVzaXplQ2FudmFzKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24sIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHJlc2l6ZUNhbnZhcyhkaW06IERpbWVuc2lvbiwgZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcGl4ZWxSYXRpbyA9IGRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5tYXgoZGltLndpZHRoICogdGhpcy5waXhlbFJhdGlvLCBEcmF3QnVmZmVyLm1pbkNhbnZhc1NpemUpO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSAgTWF0aC5tYXgoZGltLmhlaWdodCAqIHRoaXMucGl4ZWxSYXRpbywgRHJhd0J1ZmZlci5taW5DYW52YXNTaXplKTtcbiAgICAgICAgdGhpcy5fb2xkRGltZW5zaW9uID0gbmV3IERpbWVuc2lvbihkaW0ud2lkdGgsIGRpbS5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9jb250ZXh0MkQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKTtcbiAgICAgICAgdGhpcy5fY29udGV4dDJELnNjYWxlKHRoaXMucGl4ZWxSYXRpbywgdGhpcy5waXhlbFJhdGlvKTtcbiAgICB9XG5cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kQ29sb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5maWxsUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsUmF0aW8sIHRoaXMuX2NhbnZhcy5oZWlnaHQgLyB0aGlzLnBpeGVsUmF0aW8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsUmF0aW8sIHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgfVxuXG4gICAgZG9EcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLmNyZWF0ZWQpICYmICh0aGlzLnZpc2libGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnRpbmdPcGFjaXR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHRoaXMub3BhY2l0eSAhPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGFydGluZ09wYWNpdHkgPSBjb250ZXh0MkQuZ2xvYmFsQWxwaGE7XG4gICAgICAgICAgICAgICAgY29udGV4dDJELmdsb2JhbEFscGhhID0gY29udGV4dDJELmdsb2JhbEFscGhhICogdGhpcy5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHRoaXMuX2RyYXdSZXF1ZXN0ZWQpICYmICghKHRoaXMuX2NhbnZhc0RyYXdGaXhlZCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKHggPT4geC5kb0RyYXcodGhpcy5fY29udGV4dDJEKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZvcmdldEludGVybmFsc09uRHJhdylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjID0+IHRoaXMucmVtb3ZlQ2hpbGQoYykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYW52YXNEcmF3Rml4ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbilcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY29udGV4dDJEKTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0aW5nT3BhY2l0eSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5nbG9iYWxBbHBoYSA9IHN0YXJ0aW5nT3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgcHJvdGVjdGVkIF9oYXNSZXNpemVkKClcbiAgICB7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuICAgICAgICByZXR1cm4gKCh0aGlzLl9vbGREaW1lbnNpb24ud2lkdGggIT09IGRpbS53aWR0aCkgfHxcbiAgICAgICAgICAgICAgICAodGhpcy5fb2xkRGltZW5zaW9uLmhlaWdodCAhPT0gZGltLmhlaWdodCkpXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9oYXNEZXZpY2VQaXhlbFJhdGlvQ2hhbmdlZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGl4ZWxSYXRpbyAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgfVxuXG4gICAgYmVnaW4oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1Jlc2l6ZWQoKSB8fCB0aGlzLl9oYXNEZXZpY2VQaXhlbFJhdGlvQ2hhbmdlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUNhbnZhcyh0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZWJ1Z0Rpc2FibGVDYWNoZSlcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgaWYgKGNvbnRleHQyRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ucmVzZXREcmF3UG9zID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9fcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICAgICAgdGhpcy5fX2RpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5yZXNldERyYXdQb3MgPSB0cnVlO1xuICAgICAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLl9jYW52YXMsIDAsMCwgTWF0aC5yb3VuZCh0aGlzLl9fZGltLndpZHRoKSAqIHRoaXMucGl4ZWxSYXRpbywgTWF0aC5yb3VuZCh0aGlzLl9fZGltLmhlaWdodCkgKiB0aGlzLnBpeGVsUmF0aW8sIE1hdGgucm91bmQodGhpcy5fX3Bvcy54KSwgTWF0aC5yb3VuZCh0aGlzLl9fcG9zLnkpLCBNYXRoLnJvdW5kKHRoaXMuX19kaW0ud2lkdGgpLCBNYXRoLnJvdW5kKHRoaXMuX19kaW0uaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0RHJhdygpXG4gICAge1xuICAgICAgICB0aGlzLl9kcmF3UmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cblxuXG4gICAgLyppbnN0cnVtZW50KGxldmVsOiBudW1iZXIsIFZhcmlhYmxlTG9nZ2VyOiBWYXJpYWJsZUxvZ2dlciwgZXZlbnRMb2dnZXI6IFRlbGVtZXRyeUV2ZW50TG9nZ2VyKVxuICAgIHtcbiAgICAgICAgc3VwZXIuaW5zdHJ1bWVudChsZXZlbCwgVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyKTtcbiAgICAgICAgaWYgKGxldmVsID09PSBJbnN0cnVtZW50TGV2ZWwuRlVMTClcbiAgICAgICAgICAgIFZhcmlhYmxlTG9nZ2VyLmFkZFZhcmlhYmxlUGF0aHMoXCJfZHJhd1JlcXVlc3RlZFwiLFwiX2JhY2tpbmdTdG9yZVJhdGlvXCIsXCJfYmFja2dyb3VuZENvbG9yXCIsXCJfb2xkRGltZW5zaW9uXCIsXCJkZWJ1Z0Rpc2FibGVDYWNoZVwiKTtcbiAgICB9Ki9cbn1cblxuY2xhc3MgRHJhd1RyYW5zZm9ybSBleHRlbmRzIFRyYW5zZm9ybVxue1xuICAgIHJlY2FsY3VsYXRlKGV4Y2x1ZGVEcmF3Q2FjaGU/OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCEoZXhjbHVkZURyYXdDYWNoZSkpXG4gICAgICAgICAgICBpZiAoISh0aGlzLmJvdW5kcy5oYXNSZXNpemVkQXV0b1VwZGF0ZSgpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3NpdGlvbilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5kcmF3Q2FjaGVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXhjbHVkZURyYXdDYWNoZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3VwZXIuZ2FtZU9iamVjdC5yZXF1ZXN0RHJhdygpOyAvLyBUaGUgY2hpbGRyZW4gb2YgdGhpcyBEcmF3QnVmZmVyIHdpbGwgbm90IGNhbGwgcmVxdWVzdERyYXcsIGJ1dCB3ZSBrbm93IHRoaXMgZHJhd0J1ZmZlciBuZWVkcyB0byBiZSByZWRyYXduXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVjYWxjdWxhdGUoZXhjbHVkZURyYXdDYWNoZSk7XG4gICAgfVxufSIsImltcG9ydCBTaGFwZSBmcm9tIFwiLi9TaGFwZVwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0IGV4dGVuZHMgU2hhcGVcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiUmVjdFwiOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBmaWxsU3R5bGU6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmZpbGxTdHlsZSlcbiAgICAgICAgICAgIHRoaXMuZmlsbGVkKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuICAgICAgICBpZiAoKHRoaXMubGluZVdpZHRoID4gMCkgJiYgKHRoaXMuc3Ryb2tlU3R5bGUpKVxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuXG4gICAgfVxuXG4gICAgb3V0bGluZShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgICBjb250ZXh0MkQubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKVxuICAgICAgICBjb250ZXh0MkQucmVjdChwb3MueCArIHRoaXMubGluZVdpZHRoLzIsIHBvcy55ICsgdGhpcy5saW5lV2lkdGgvMiwgZGltLndpZHRoLXRoaXMubGluZVdpZHRoLCBkaW0uaGVpZ2h0LXRoaXMubGluZVdpZHRoKTtcbiAgICAgICAgY29udGV4dDJELnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGZpbGxlZChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKVxuICAgICAgICBjb250ZXh0MkQuZmlsbFJlY3QocG9zLngsIHBvcy55LCBkaW0ud2lkdGgsIGRpbS5oZWlnaHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGxSZWN0IGV4dGVuZHMgUmVjdFxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGZpbGxTdHlsZTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgdW5kZWZpbmVkLCBmaWxsU3R5bGUsIDApO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE91dGxpbmVSZWN0IGV4dGVuZHMgUmVjdFxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0cm9rZVN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgc3Ryb2tlU3R5bGUsIHVuZGVmaW5lZCwgbGluZVdpZHRoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWJ1Z1JlY3QgZXh0ZW5kcyBPdXRsaW5lUmVjdFxue1xuICAgIGNvbnN0cnVjdG9yKGNvbG91cjogc3RyaW5nLCBsaW5lV2lkdGg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIGNvbG91ciwgbGluZVdpZHRoKVxuICAgIH1cbn0iLCJpbXBvcnQgRHJhd0J1ZmZlciBmcm9tIFwiLi9EcmF3QnVmZmVyXCI7XG5pbXBvcnQgRGVidWdQYW5lIGZyb20gXCIuLi91aS9EZWJ1Z1BhbmVcIjtcbmltcG9ydCBCdWZmZXJlZCBmcm9tIFwiLi9CdWZmZXJlZFwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCB7IEZyYW1lIH0gZnJvbSBcIi4uL0ZyYW1lXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvb3Q8VCBleHRlbmRzIEdhbWVPYmplY3Q+IGV4dGVuZHMgRHJhd0J1ZmZlclxue1xuICAgIHByb3RlY3RlZCBfcmVzaXplVGFyZ2V0OiBEaW1lbnNpb247XG4gICAgcHJvdGVjdGVkIF9jb25zdHJ1Y3RvckFyZ3M6IGFueVtdO1xuICAgIHByb3RlY3RlZCBfdHlwZTtcblxuICAgIHByb3RlY3RlZCBfaW5uZXI6IFQ7XG4gICAgcHJvdGVjdGVkIF9idWZmZXJlZDogQnVmZmVyZWQ8VD47XG5cbiAgICBwcml2YXRlIF9kZWJ1Z1BhbmU6IGJvb2xlYW47XG4gICAgZ2V0IGRlYnVnUGFuZSgpIHsgcmV0dXJuIHRoaXMuX2RlYnVnUGFuZTsgfVxuICAgIHNldCBkZWJ1Z1BhbmUodmFsKSB7IHRoaXMuX2RlYnVnUGFuZSA9IHZhbDsgfVxuXG4gICAgY29uc3RydWN0b3IodHlwZTogKG5ldyAoLi4uYXJncykgPT4gVCksIC4uLmNvbnN0cnVjdG9yQXJncylcbiAgICB7XG4gICAgICAgIGxldCBhcmcxID0gY29uc3RydWN0b3JBcmdzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChhcmcxIGluc3RhbmNlb2YgUG9zaXRpb24pXG4gICAgICAgICAgICBzdXBlcihhcmcxLCBjb25zdHJ1Y3RvckFyZ3Muc2hpZnQoKSBhcyBCb3VuZHMpXG4gICAgICAgIGVsc2UgaWYgKGFyZzEgaW5zdGFuY2VvZiBCb3VuZHMpXG4gICAgICAgICAgICBzdXBlcihudWxsLCBhcmcxKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgQnVmZmVyZWQ8R2FtZU9iamVjdD4gdGhhdCBsYWNrcyBhIGJvdW5kcy4gRHJhd0J1ZmZlcnMgcmVxdWlyZSBhIEJvdW5kc1wiKTtcbiAgICAgICAgdGhpcy5fY29uc3RydWN0b3JBcmdzID0gY29uc3RydWN0b3JBcmdzO1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcblxuICAgICAgICB0aGlzLl9idWZmZXJlZCA9IG5ldyBCdWZmZXJlZDxUPih0aGlzLl90eXBlLCBuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCAuLi50aGlzLl9jb25zdHJ1Y3RvckFyZ3MpO1xuICAgICAgICB0aGlzLl9pbm5lciA9IHRoaXMuX2J1ZmZlcmVkLmlubmVyO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhbnZhcyhuYW1lOiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9jcmVhdGVEcmF3QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5pZCA9IG5hbWU7XG4gICAgICAgIC8vIElmIG5lZWRlZCB0byBmb2N1cyB0aGUgY2FudmFzOlxuICAgICAgICAvLyB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIxXCIpO1xuICAgICAgICAvLyB0aGlzLl9jYW52YXMuZm9jdXMoKTtcbiAgICB9XG5cbiAgICByZXNpemVUb09uVXBkYXRlKGRpbWVuc2lvbjogRGltZW5zaW9uKSB7IHRoaXMuX3Jlc2l6ZVRhcmdldCA9IGRpbWVuc2lvbjsgfVxuXG4gICAgcmVzaXplQ2FudmFzKGRpbTogRGltZW5zaW9uLCBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlci5yZXNpemVDYW52YXMoZGltLCBkZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQgKyAncHgnO1xuICAgIH1cblxuICAgIC8vT3ZlcnJpZGUgdGhpcyBzbyB3ZSBkbyBubyByZS1jcmVhdGUgdGhlIGNhbnZhc1xuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgIC8vIGlmICghdGhpcy5iYWNrZ3JvdW5kQ29sb3IpIFxuICAgICAgICAvLyAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgdGhpcy5oYXNBbHBoYUNoYW5uZWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9idWZmZXJlZCk7XG4gICAgfVxuXG4gICAgYWZ0ZXJDcmVhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdQYW5lKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZGVidWdQYW5lID0gdGhpcy5fYnVmZmVyZWQuYnVmZmVyLmFkZENoaWxkKG5ldyBEZWJ1Z1BhbmUobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpO1xuICAgICAgICAgICAgZGVidWdQYW5lLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGRlYnVnUGFuZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9idWZmZXJlZC5idWZmZXIuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkLmJ1ZmZlci5oYXNBbHBoYUNoYW5uZWwgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5faW5uZXIgaW5zdGFuY2VvZiBGcmFtZSlcbiAgICAgICAgICAgIHRoaXMuX2lubmVyLm9wZW4oKTtcbiAgICB9XG5cbiAgICBiZWdpbigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVzaXplVGFyZ2V0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuY2xlYXJEaW1lbnNpb25zKClcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5hZGREaW1lbnNpb24odGhpcy5fcmVzaXplVGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yZWNhbGN1bGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmJlZ2luKCk7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIlJvb3RcIjsgfVxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBTaGFwZSBmcm9tIFwiLi9TaGFwZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3VuZGVkUmVjdCBleHRlbmRzIFNoYXBlXG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIlJvdW5kZWRSZWN0XCI7IH1cbiAgICBcbiAgICBwcm90ZWN0ZWQgX3JhZGl1czogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgc3Ryb2tlU3R5bGU6IHN0cmluZywgZmlsbFN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyLCByYWRpdXM6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xuICAgIH1cblxuICAgIGRyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgICBjb250ZXh0MkQubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGNvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcblxuICAgICAgICBsZXQgcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICBsZXQgZGltID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgbGV0IGZpbGxlZCA9ICh0aGlzLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgbGV0IHN0cm9rZSA9ICh0aGlzLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLnJvdW5kUmVjdChjb250ZXh0MkQsIHBvcy54LCBwb3MueSwgZGltLndpZHRoLCBkaW0uaGVpZ2h0LCB0aGlzLl9yYWRpdXMsIGZpbGxlZCwgc3Ryb2tlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbY29kZSBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMzY4MTE4XVxuICAgICAqIERyYXdzIGEgcm91bmRlZCByZWN0YW5nbGUgdXNpbmcgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBJZiB5b3Ugb21pdCB0aGUgbGFzdCB0aHJlZSBwYXJhbXMsIGl0IHdpbGwgZHJhdyBhIHJlY3RhbmdsZVxuICAgICAqIG91dGxpbmUgd2l0aCBhIDUgcGl4ZWwgYm9yZGVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdG9wIGxlZnQgeCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHRvcCBsZWZ0IHkgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtyYWRpdXMgPSA1XSBUaGUgY29ybmVyIHJhZGl1czsgSXQgY2FuIGFsc28gYmUgYW4gb2JqZWN0IFxuICAgICAqICAgICAgICAgICAgICAgICB0byBzcGVjaWZ5IGRpZmZlcmVudCByYWRpaSBmb3IgY29ybmVyc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXVzLnRsID0gMF0gVG9wIGxlZnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3JhZGl1cy50ciA9IDBdIFRvcCByaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXVzLmJyID0gMF0gQm90dG9tIHJpZ2h0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtyYWRpdXMuYmwgPSAwXSBCb3R0b20gbGVmdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZpbGwgPSBmYWxzZV0gV2hldGhlciB0byBmaWxsIHRoZSByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbc3Ryb2tlID0gdHJ1ZV0gV2hldGhlciB0byBzdHJva2UgdGhlIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICByb3VuZFJlY3QoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgcmFkaXVzLCBmaWxsOiBib29sZWFuLCBzdHJva2U6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHN0cm9rZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc3Ryb2tlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJhZGl1cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IDU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByYWRpdXMgPSB7dGw6IHJhZGl1cywgdHI6IHJhZGl1cywgYnI6IHJhZGl1cywgYmw6IHJhZGl1c307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFJhZGl1cyA9IHt0bDogMCwgdHI6IDAsIGJyOiAwLCBibDogMH07XG4gICAgICAgICAgICBmb3IgKHZhciBzaWRlIGluIGRlZmF1bHRSYWRpdXMpIHtcbiAgICAgICAgICAgIHJhZGl1c1tzaWRlXSA9IHJhZGl1c1tzaWRlXSB8fCBkZWZhdWx0UmFkaXVzW3NpZGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgcmFkaXVzLnRsLCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgd2lkdGggLSByYWRpdXMudHIsIHkpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIHJhZGl1cy50cik7XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLmJyKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGggLSByYWRpdXMuYnIsIHkgKyBoZWlnaHQpO1xuICAgICAgICBjdHgubGluZVRvKHggKyByYWRpdXMuYmwsIHkgKyBoZWlnaHQpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzLmJsKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4LCB5ICsgcmFkaXVzLnRsKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSwgeCArIHJhZGl1cy50bCwgeSk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXBlIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJTaGFwZVwiOyB9XG5cbiAgICBwcml2YXRlIF9zdHJva2VTdHlsZTogc3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgX2ZpbGxTdHlsZTogc3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgX2xpbmVXaWR0aDogbnVtYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb24sIGJvdW5kcylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpXG4gICAgfVxuXG4gICAgZ2V0IHN0cm9rZVN0eWxlKCkgeyByZXR1cm4gdGhpcy5fc3Ryb2tlU3R5bGU7IH1cbiAgICBnZXQgZmlsbFN0eWxlKCkgeyByZXR1cm4gdGhpcy5fZmlsbFN0eWxlOyB9XG4gICAgZ2V0IGxpbmVXaWR0aCgpIHsgcmV0dXJuIHRoaXMuX2xpbmVXaWR0aDsgfVxuXG4gICAgc2V0IHN0cm9rZVN0eWxlKHZhbCkgeyB0aGlzLl9zdHJva2VTdHlsZSA9IHZhbDsgfVxuICAgIHNldCBsaW5lV2lkdGgodmFsKSB7IHRoaXMuX2xpbmVXaWR0aCA9IHZhbDsgfVxuICAgIHNldCBmaWxsU3R5bGUodmFsKSB7IHRoaXMuX2ZpbGxTdHlsZSA9IHZhbDsgfVxuXG4gICAgLyppbnN0cnVtZW50KGxldmVsOiBudW1iZXIsIFZhcmlhYmxlTG9nZ2VyOiBWYXJpYWJsZUxvZ2dlciwgZXZlbnRMb2dnZXI6IFRlbGVtZXRyeUV2ZW50TG9nZ2VyKVxuICAgIHtcbiAgICAgICAgc3VwZXIuaW5zdHJ1bWVudChsZXZlbCwgVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyKTtcbiAgICAgICAgaWYgKGxldmVsID09PSBJbnN0cnVtZW50TGV2ZWwuRlVMTClcbiAgICAgICAgICAgIFZhcmlhYmxlTG9nZ2VyLmFkZFZhcmlhYmxlUGF0aHMoXCJfc3Ryb2tlU3R5bGVcIixcIl9maWxsU3R5bGVcIixcIl9saW5lV2lkdGhcIik7XG4gICAgfSovXG59XG4iLCJpbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBMb2FkZXIgZnJvbSBcImVuZ2luZS9pby9Mb2FkZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJTcHJpdGVcIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9maWxlbmFtZXM6IHN0cmluZ1tdO1xuICAgIHByb3RlY3RlZCBfaW1nOiBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIHByb3RlY3RlZCBfbG9hZGVkRFBSOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCAuLi5maWxlbmFtZXM6IHN0cmluZ1tdKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIHRoaXMuX2ZpbGVuYW1lcyA9IGZpbGVuYW1lcztcbiAgICAgICAgdGhpcy5faW1nID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQgZmlsZW5hbWVzKCkgeyByZXR1cm4gdGhpcy5fZmlsZW5hbWVzOyB9XG5cbiAgICBsb2FkKHtsb2FkZXI6bH0gOiB7bG9hZGVyOiBMb2FkZXJ9KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbG9hZGVkRFBSID0gTWF0aC5taW4oTWF0aC5jZWlsKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSwgdGhpcy5maWxlbmFtZXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5hZGRBc3NldChsLmxvYWRJbWFnZSh0aGlzLmZpbGVuYW1lc1t0aGlzLl9sb2FkZWREUFItMV0sIChhc3NldCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW1nID0gdGhpcy5nZXRBc3NldDxIVE1MSW1hZ2VFbGVtZW50Pih0aGlzLmZpbGVuYW1lc1t0aGlzLl9sb2FkZWREUFItMV0pO1xuICAgIH1cblxuICAgIGRyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICBsZXQgcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICBsZXQgZGltID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLl9pbWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltZy5uYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1nLm5hdHVyYWxIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zLngsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zLnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbS5oZWlnaHQpO1xuICAgICAgICAvLyBQb3RlbnRpYWwgdG8gdXNlIHBhdHRlcm5zIHRvIG1ha2UgdGlsaW5nIGltYWdlIHRvIFRyYW5zbGF0aW9uIGRpbWVuc2lvbiBlYXN5XG4gICAgICAgIC8vbGV0IHBhdHRlcm4gPSBjb250ZXh0MkQuY3JlYXRlUGF0dGVybih0aGlzLmdldEFzc2V0KHRoaXMuZmlsZW5hbWUpLCBcInJlcGVhdFwiKTtcbiAgICAgICAgLy9jb250ZXh0MkQuZmlsbFN0eWxlID0gcGF0dGVybjtcbiAgICAgICAgLy9jb250ZXh0MkQuZmlsbFJlY3QocG9zLngsIHBvcy55LCB0aGlzLlRyYW5zbGF0aW9uLmRpbWVuc2lvbi53aWR0aCwgdGhpcy5UcmFuc2xhdGlvbi5kaW1lbnNpb24uaGVpZ2h0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBTaGFwZSBmcm9tIFwiLi9TaGFwZVwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuXG5leHBvcnQgY2xhc3MgVHJpYW5nbGUgZXh0ZW5kcyBTaGFwZVxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJUcmlhbmdsZVwiOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBmaWxsU3R5bGU6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmZpbGxTdHlsZSlcbiAgICAgICAgICAgIHRoaXMuZmlsbGVkKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuICAgICAgICBpZiAoKHRoaXMubGluZVdpZHRoID4gMCkgJiYgKHRoaXMuc3Ryb2tlU3R5bGUpKVxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuXG4gICAgfVxuXG4gICAgb3V0bGluZShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgICBjb250ZXh0MkQubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKVxuICAgICAgICBsZXQgbmV3UG9zID0gUG9pbnQuYWRkKHBvcywgbmV3IFBvaW50KDAuNzUqdGhpcy5saW5lV2lkdGgsMC43NSp0aGlzLmxpbmVXaWR0aCkpO1xuICAgICAgICBsZXQgbmV3RGltID0gRGltZW5zaW9uLmFkZChkaW0sIG5ldyBEaW1lbnNpb24oLXRoaXMubGluZVdpZHRoKjEuNSwgLXRoaXMubGluZVdpZHRoKjEuNSkpO1xuICAgICAgICB0aGlzLl9kcmF3UGF0aChjb250ZXh0MkQsIG5ld1BvcywgbmV3RGltKTtcbiAgICAgICAgY29udGV4dDJELnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGZpbGxlZChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKVxuICAgICAgICB0aGlzLl9kcmF3UGF0aChjb250ZXh0MkQsIHBvcywgZGltKTtcbiAgICAgICAgY29udGV4dDJELmZpbGwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9kcmF3UGF0aChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQudHJhbnNsYXRlKHBvcy54LCBwb3MueSk7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dDJELm1vdmVUbygwLjUqZGltLndpZHRoLCAwKTtcbiAgICAgICAgY29udGV4dDJELmxpbmVUbyhkaW0ud2lkdGgsIGRpbS5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0MkQubGluZVRvKDAsZGltLmhlaWdodCk7XG4gICAgICAgIGNvbnRleHQyRC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dDJELnRyYW5zbGF0ZSgtcG9zLngsIC1wb3MueSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsbFRyaWFuZ2xlIGV4dGVuZHMgVHJpYW5nbGVcbntcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBmaWxsU3R5bGU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIHVuZGVmaW5lZCwgZmlsbFN0eWxlLCAwKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPdXRsaW5lVHJpYW5nbGUgZXh0ZW5kcyBUcmlhbmdsZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0cm9rZVN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgc3Ryb2tlU3R5bGUsIHVuZGVmaW5lZCwgbGluZVdpZHRoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2xpY2tUcmlnZ2VyIGZyb20gXCIuL0NsaWNrVHJpZ2dlclwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgeyBNb3VzZSwgVG91Y2ggfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENsaWNrVHJpZ2dlclxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJCdXR0b25cIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9jb250ZW50OiBHYW1lT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfaG92ZXJSZWN0OiBHYW1lT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfcHJlc3NlZFJlY3Q6IEdhbWVPYmplY3Q7XG5cbiAgICBwcm90ZWN0ZWQgX2J1dHRvblJlc2V0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjb250ZW50PzogR2FtZU9iamVjdClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gY29udGVudDtcbiAgICB9XG5cbiAgICBnZXQgY29udGVudCgpIHsgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7IH1cblxuICAgIGdldCBob3ZlclJlY3QoKSB7IHJldHVybiB0aGlzLl9ob3ZlclJlY3Q7IH1cbiAgICBnZXQgcHJlc3NlZFJlY3QoKSB7IHJldHVybiB0aGlzLl9wcmVzc2VkUmVjdDsgfVxuXG4gICAgc2V0SG92ZXJSZWN0KHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2hvdmVyUmVjdCA9IHZhbDtcbiAgICAgICAgdGhpcy5faG92ZXJSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRQcmVzc2VkUmVjdCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9wcmVzc2VkUmVjdCA9IHZhbDtcbiAgICAgICAgdGhpcy5fcHJlc3NlZFJlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyUmVjdClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucHJlc3NlZFJlY3QpXG4gICAgICAgICAgICB0aGlzLnByZXNzZWRSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB0aGlzLl9idXR0b25SZXNldCA9IHRydWU7XG4gICAgfVxuXG4gICAgZGVjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJSZWN0KVxuICAgICAgICAgICAgdGhpcy5ob3ZlclJlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5wcmVzc2VkUmVjdClcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZFJlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudClcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHttb3VzZTptfSlcbiAgICB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpXG4gICAgICAgIGlmICgodGhpcy5pbnRlcmFjdGFibGUpICYmICghbS5oYW5kbGVkKSlcbiAgICAgICAgICAgIHRoaXMuY2hlY2tNb3VzZUFjdGlvbnMobSk7XG4gICAgfVxuXG4gICAgb25Nb3VzZUNsaWNrKG06IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fYnV0dG9uUmVzZXQpXG4gICAgICAgICAgICBzdXBlci5vbk1vdXNlQ2xpY2sobSwgdG91Y2gsIHRvdWNoSUQpO1xuICAgICAgICBtLnNldEhhbmRsZWQodG91Y2gpO1xuICAgIH1cblxuICAgIG9uTW91c2VNb3ZlKG06IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIG0uc2V0SGFuZGxlZCh0b3VjaCk7XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24obTogTW91c2UpXG4gICAge1xuICAgICAgICB0aGlzLl9idXR0b25SZXNldCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5wcmVzc2VkUmVjdClcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZFJlY3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyUmVjdClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgbS5zZXRIYW5kbGVkKCk7XG4gICAgfVxuXG4gICAgb25Nb3VzZVVwKG06IE1vdXNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucHJlc3NlZFJlY3QpXG4gICAgICAgICAgICB0aGlzLnByZXNzZWRSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJSZWN0KVxuICAgICAgICAgICAgdGhpcy5ob3ZlclJlY3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIG0uc2V0SGFuZGxlZCgpO1xuICAgIH1cblxuICAgIG9uTW91c2VFbnRlcihtOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyUmVjdClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJSZWN0LnZpc2libGUgPSB0cnVlO1xuICAgICAgICBtLnNldEhhbmRsZWQoKTtcbiAgICB9XG5cbiAgICBvbk1vdXNlTGVhdmUobTogTW91c2UpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ob3ZlclJlY3QpXG4gICAgICAgICAgICB0aGlzLmhvdmVyUmVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnByZXNzZWRSZWN0KVxuICAgICAgICAgICAgdGhpcy5wcmVzc2VkUmVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBWYXJpYWJsZUxvZ2dlci5hZGRWYXJpYWJsZVBhdGgoXCJkaXNhYmxlZFwiKTtcbiAgICB9Ki9cbn1cbiIsImltcG9ydCBNb3VzZVRyaWdnZXIgZnJvbSBcIi4vTW91c2VUcmlnZ2VyXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgeyBNb3VzZSwgVG91Y2ggfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWNrVHJpZ2dlciBleHRlbmRzIE1vdXNlVHJpZ2dlclxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJDbGlja1RyaWdnZXJcIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9vbkNsaWNrOiBFdmVudDtcbiAgICBvbmx5SWZVbmhhbmRsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgX2ZpcmVkVGhpc1VwZGF0ZSA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9vbkNsaWNrID0gbmV3IEV2ZW50KCk7XG4gICAgfVxuXG4gICAgZ2V0IG9uQ2xpY2soKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbGljazsgfVxuXG4gICAgb25Nb3VzZUNsaWNrKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoKCF0aGlzLl9maXJlZFRoaXNVcGRhdGUpICYmICghKHRoaXMub25seUlmVW5oYW5kbGVkICYmIHRvdWNoLmhhbmRsZWQpKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRXZlbnQuY2FsbCh0aGlzLm9uQ2xpY2ssIG1vdXNlKTtcbiAgICAgICAgICAgIHRoaXMuX2ZpcmVkVGhpc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoLi4uYXJncylcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpcmVkVGhpc1VwZGF0ZSA9IGZhbHNlO1xuICAgIH1cbn0iLCJpbXBvcnQgVGV4dCBmcm9tIFwiLi9UZXh0XCI7XG5pbXBvcnQgS2V5VHJpZ2dlciwgeyBLZXlUcmlnZ2VyRXZlbnRzIH0gZnJvbSBcIi4vS2V5VHJpZ2dlclwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVidWdQYW5lIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJEZWJ1Z1BhbmVcIjsgfVxuXG4gICAgdGltaW5nVGV4dDogVGV4dDtcbiAgICBiZWdpblRpbWU6IG51bWJlcjtcbiAgICBkcmF3VGltZTogbnVtYmVyO1xuICAgIGVuZFRpbWU6IG51bWJlcjtcbiAgICB1cGRhdGVUaW1lOiBudW1iZXI7XG4gICAgYXZlcmFnZVN0ZXBzOiBudW1iZXI7XG4gICAgbG9vcFRpbWU6IG51bWJlcjtcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnRpbWluZ1RleHQgPSB0aGlzLmFkZENoaWxkKG5ldyBUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgbmV3IFBvaW50KDAsMSkpLCBuZXcgUGl4ZWxUcmFuc2xhdGlvbigwLC01KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcygpLCBcIkZQUzpcIiwgXCJibGFja1wiLCAxMiwgXCJzZXJpZlwiKSkgYXMgVGV4dDtcblxuICAgICAgICB0aGlzLmJlZ2luVGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kcmF3VGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYXZlcmFnZVN0ZXBzICA9IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQga3QgPSB0aGlzLmFkZENoaWxkKG5ldyBLZXlUcmlnZ2VyKCkpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIlRhYlwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5UHJlc3MpLnB1c2goKCkgPT4gdGhpcy52aXNpYmxlID0gISh0aGlzLnZpc2libGUpICwgdGhpcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHt0aW1pbmc6dCwga2V5Ym9hcmQ6a30pXG4gICAge1xuICAgICAgICB0aGlzLmJlZ2luVGltZSA9IHRoaXMucnVubmluZ0F2ZXJhZ2UodGhpcy5iZWdpblRpbWUsIHQuYmVnaW5UaW1lLCB0LmZwcyk7Ly8gQXZlcmFnZXMgb3ZlciAxIHNlY29uZCBvZiBlbGFwc2VkIHRpbWVcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLnVwZGF0ZVRpbWUsIHQudXBkYXRlVGltZSwgdC5mcHMqdC51cGRhdGVTdGVwcyk7XG4gICAgICAgIHRoaXMuZHJhd1RpbWUgPSB0aGlzLnJ1bm5pbmdBdmVyYWdlKHRoaXMuZHJhd1RpbWUsIHQuZHJhd1RpbWUsIHQuZnBzKTtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLmVuZFRpbWUsIHQuZW5kVGltZSwgdC5mcHMpO1xuICAgICAgICB0aGlzLmxvb3BUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLmxvb3BUaW1lLCB0Lmxvb3BUaW1lLCB0LmZwcyk7XG4gICAgICAgIHRoaXMuYXZlcmFnZVN0ZXBzID0gIHRoaXMucnVubmluZ0F2ZXJhZ2UodGhpcy5hdmVyYWdlU3RlcHMsIHQudXBkYXRlU3RlcHMsIHQuZnBzKTtcblxuICAgICAgICB0aGlzLnRpbWluZ1RleHQudGV4dCA9ICAgICAoXCJGUFM6IFwiICsgdC5mcHMpLnN1YnN0cmluZygwLDcpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgQmVnaW46IFwiICsgdGhpcy5iZWdpblRpbWUpLnN1YnN0cmluZygwLDE0KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIiAgIERyYXc6IFwiICsgdGhpcy5kcmF3VGltZSkuc3Vic3RyaW5nKDAsMTMpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgVXBkYXRlOiBcIiArIHRoaXMudXBkYXRlVGltZSkuc3Vic3RyaW5nKDAsMTUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgKFN0ZXBzOiBcIiArIHRoaXMuYXZlcmFnZVN0ZXBzKS5zdWJzdHJpbmcoMCwxNSkgKyBcIikgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCIgICBFbmQ6IFwiICsgdGhpcy5lbmRUaW1lKS5zdWJzdHJpbmcoMCwxMikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCIgICBMb29wOiBcIiArIHRoaXMubG9vcFRpbWUpLnN1YnN0cmluZygwLDEzKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIiAgIChDYWxjdWxhdGVkIEZQUzogXCIgKyBNYXRoLnJvdW5kKDEwMDAvdGhpcy5sb29wVGltZSkpLnN1YnN0cmluZygwLDIzKSArIFwiKVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgKFJhdGU6IFwiICsgMTAwLyh0LnNsb3dEb3duKzEpKS5zdWJzdHJpbmcoMCwxMykgKyBcIiUpXCI7XG5cbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3RhYmxlKVxuICAgICAgICAgICAgay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5mb3JFYWNoKGtleSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiLVwiKVxuICAgICAgICAgICAgICAgICAgICB0LnNsb3dEb3duKys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIitcIilcbiAgICAgICAgICAgICAgICAgICAgdC5zbG93RG93biA9IE1hdGgubWF4KDAsIHQuc2xvd0Rvd24tMSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBydW5uaW5nQXZlcmFnZSh2YWw6IG51bWJlciwgbmV3VmFsOiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCF2YWwpXG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsO1xuICAgICAgICByZXR1cm4gKHZhbCAqIChsZW5ndGgtMSkgKyBuZXdWYWwpL2xlbmd0aFxuICAgIH1cbn1cbiIsImltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IENvbmRpdGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0NvbmRpdGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5cbmV4cG9ydCBlbnVtIEdyaWRPcmllbnRhdGlvbiB7IFZlcnRpY2FsLCBIb3Jpem9udGFsIH1cblxuLyoqXG4gKiBHcmlkTGF5b3V0cyBzaG91bGQgYmUgdXNlZCBpbiBtb3N0IHNpdHVhdGlvbnMgd2hlcmUgYSBHYW1lT2JqZWN0IGNoYW5nZXMgc2l6ZSBcbiAqIGJhc2VkIG9uIGl0cyBjaGlsZHJlbiwgaS5lLiBpdCBoYXMgUHJvcG9ydGlvbmFsRGltZW5zaW9ucyB0aGF0IHBvaW50IGRvd24gdGhlXG4gKiB0cmVlIGluc3RlYWQgb2YgdXAgaXQuIEEgR2FtZU9iamVjdCB0aGF0IHByb3ZpZGVzIGFkZGl0aW9uYWwgZnVuY3Rpb25hbGl5IGFzXG4gKiBhIHdyYXBwZXIgYXJvdW5kIGEgR3JpZExheW91dCBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3Mgc28gdGhhdCBpdCB0b28gd2lsbFxuICogaGF2ZSBpdHMgYm91bmRzIGNvcnJlY3RseSBzZXQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRMYXlvdXQgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkdyaWRMYXlvdXRcIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9jZWxsczogR2FtZU9iamVjdFtdO1xuICAgIHByb3RlY3RlZCBfb3JpZW50YXRpb246IEdyaWRPcmllbnRhdGlvbjtcbiAgICBwcm90ZWN0ZWQgX3BhZGRpbmc6IG51bWJlciA9IDA7XG4gICAgcHJvdGVjdGVkIF9yZWxhdGl2ZVBhZGRpbmc6IG51bWJlciA9IDA7XG5cbiAgICBnZXQgbWlkZGxlWSgpIHsgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbCA/IHRoaXMuX3BhZGRpbmcgOiAwOyB9XG4gICAgZ2V0IG1pZGRsZVgoKSB7IHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSBHcmlkT3JpZW50YXRpb24uSG9yaXpvbnRhbCA/IHRoaXMuX3BhZGRpbmcgOiAwOyB9XG5cbiAgICBnZXQgY2VsbHMoKSB7IHJldHVybiB0aGlzLl9jZWxsczsgfVxuICAgIGdldCBvcmllbnRhdGlvbigpIHsgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uOyB9XG5cbiAgICBjb25kaXRpb25hbERpbWVuc2lvbjogQ29uZGl0aW9uYWxEaW1lbnNpb247XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjZWxsczogR2FtZU9iamVjdFtdLCBvcmllbnRhdGlvbjogR3JpZE9yaWVudGF0aW9uKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcylcbiAgICAgICAgdGhpcy5fY2VsbHMgPSBjZWxscztcbiAgICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBHcmlkT3JpZW50YXRpb24uSG9yaXpvbnRhbClcbiAgICAgICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaCgoYyxpKSA9PlxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7ajxpO2orKylcbiAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDEsIDAsIHRoaXMuY2VsbHNbal0udHJhbnNmb3JtLmJvdW5kcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLlZlcnRpY2FsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+XG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGo9MDtqPGk7aisrKVxuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgdGhpcy5jZWxsc1tqXS50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb25kaXRpb25hbERpbWVuc2lvbiA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5hZGREaW1lbnNpb24obmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX2RpbWVuc2lvbkZ1bmN0aW9uLmJpbmQodGhpcykpKTtcblxuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goYyA9PiBjLnRyYW5zZm9ybS5ib3VuZHMub25SZXNpemUucHVzaCh0aGlzLmNvbmRpdGlvbmFsRGltZW5zaW9uLm1hcmtBc1VwZGF0ZWQuYmluZCh0aGlzKSwgdGhpcykpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGMgPT4gYy50cmFuc2Zvcm0uYm91bmRzLm9uUmVzaXplLnVucmVnaXN0ZXIodGhpcykpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goYyA9PiB0aGlzLmFkZENoaWxkKGMpKTtcbiAgICB9XG5cbiAgICBhZGRDZWxsKG5ld0NlbGw6IEdhbWVPYmplY3QsIGluZGV4PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuY2VsbHMubGVuZ3RoO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ld0NlbGwpO1xuXG4gICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICBsZXQgbWlkZGxlWSA9IHRoaXMubWlkZGxlWTtcblxuICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLlZlcnRpY2FsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLCAxLCBjLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgbmV3Q2VsbC50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYLCBtaWRkbGVZKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpIDwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigxLCAwLCBjLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwgMCwgbmV3Q2VsbC50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICAgICAgICAgIGMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKG1pZGRsZVgsIG1pZGRsZVkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jZWxscy5zcGxpY2UoaW5kZXgsIDAsIG5ld0NlbGwpO1xuICAgICAgICBuZXdDZWxsLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYKmluZGV4LCBtaWRkbGVZKmluZGV4KSk7XG4gICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLmJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMuY29uZGl0aW9uYWxEaW1lbnNpb24ubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb25pbmdJc0RpcnR5KCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2VsbChpbmRleDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKChpbmRleCA+PSAwKSAmJiAoaW5kZXggPCB0aGlzLmNlbGxzLmxlbmd0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICAgICAgbGV0IG1pZGRsZVkgPSB0aGlzLm1pZGRsZVk7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuY2VsbHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbClcbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goKGMsaSkgPT4gXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsIC0xLCBjZWxsLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbigtbWlkZGxlWCwgLW1pZGRsZVkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLkhvcml6b250YWwpXG4gICAgICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiBpbmRleClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKC0xLCAwLCBjZWxsLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKC1taWRkbGVYLCAtbWlkZGxlWSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNlbGxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBjZWxsLnRyYW5zZm9ybS5ib3VuZHMub25SZXNpemUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgIGNlbGwucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9kaW1lbnNpb25GdW5jdGlvbihkaW06IERpbWVuc2lvbik6IFBpeGVsRGltZW5zaW9uXG4gICAge1xuICAgICAgICBsZXQgZGltczogRGltZW5zaW9uW10gPSBbXTtcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGMgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGltcy5wdXNoKGMudHJhbnNmb3JtLmJvdW5kcy5jYWxjdWxhdGluZyA/IGMudHJhbnNmb3JtLmJvdW5kcy5jYWNoZWREaW1lbnNpb246IGMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICBsZXQgbWlkZGxlWSA9IHRoaXMubWlkZGxlWTtcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgZGltcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgIHdpZHRoICs9IGMud2lkdGggKyBtaWRkbGVYO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgYy5oZWlnaHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbClcbiAgICAgICAgICAgIGRpbXMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjLndpZHRoKTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gYy5oZWlnaHQgKyBtaWRkbGVZO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbih3aWR0aCAtIG1pZGRsZVgsIGhlaWdodCAtIG1pZGRsZVkpO1xuICAgIH1cblxuICAgIGFkZFBpeGVsUGFkZGluZyhwYWRkaW5nOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgbGV0IG1pZGRsZVggPSB0aGlzLm1pZGRsZVg7XG4gICAgICAgIGxldCBtaWRkbGVZID0gdGhpcy5taWRkbGVZO1xuXG4gICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaCgoYyxpKSA9PlxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYKmksIG1pZGRsZVkqaSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdyaWRCdWlsZGVyXG57XG4gICAgcHJvdGVjdGVkIF9ncmlkOiBHcmlkTGF5b3V0O1xuICAgIHByb3RlY3RlZCBfbmV3Q2VsbHM6IEdhbWVPYmplY3RbXSA9IFtdO1xuXG4gICAgZ2V0IGdyaWQoKTogR3JpZExheW91dCB7IHJldHVybiB0aGlzLl9ncmlkOyB9XG5cbiAgICBwdXNoQ2VsbDxUIGV4dGVuZHMgR2FtZU9iamVjdD4obmV3Q2VsbDogVCwgaW5kZXg/OiBudW1iZXIpOiBUXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fbmV3Q2VsbHMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9uZXdDZWxscy5zcGxpY2UoaW5kZXgsIDAsIG5ld0NlbGwpO1xuICAgICAgICByZXR1cm4gbmV3Q2VsbDtcbiAgICB9XG5cbiAgICBmaXhMYXllcihvcmllbnRhdGlvbjogR3JpZE9yaWVudGF0aW9uLCBwb3NpdGlvbj86IFBvc2l0aW9uLCBib3VuZHM/OiBCb3VuZHMpXG4gICAge1xuICAgICAgICB0aGlzLl9ncmlkID0gbmV3IEdyaWRMYXlvdXQocG9zaXRpb24gfHwgbmV3IFBvc2l0aW9uKCksIGJvdW5kcyB8fCBuZXcgQm91bmRzKCksIHRoaXMuX25ld0NlbGxzLCBvcmllbnRhdGlvbik7XG4gICAgICAgIHRoaXMuX25ld0NlbGxzID0gW3RoaXMuX2dyaWRdXG4gICAgfVxufVxuXG4iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi8uLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gXCIuLi8uLi9pby9LZXlib2FyZFwiO1xuXG5leHBvcnQgZW51bSBLZXlUcmlnZ2VyRXZlbnRzIHsgb25LZXlQcmVzcywgb25LZXlEb3duLCBvbktleVVwIH1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2V5VHJpZ2dlciBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiS2V5VHJpZ2dlclwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX2tleXMgPSBbXVxuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIobnVsbCwgbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGtleWNvZGUgXG4gICAgICogQHBhcmFtIHRyaWdnZXIgb3B0aW9uYWwsIGRlZmF1bHRzIHRvIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duXG4gICAgICogQHJldHVybiBhbiBldmVudCB3aGljaCBpcyBjYWxsZWQgd2hlbiB0aGUga2V5IHRyaWdnZXIgZXZlbnQgaGFwcGVuc1xuICAgICAqL1xuICAgIGdldEtleUV2ZW50KGtleWNvZGU6IHN0cmluZywgdHJpZ2dlcj86IEtleVRyaWdnZXJFdmVudHMpOiBFdmVudFxuICAgIHtcbiAgICAgICAgaWYgKCF0cmlnZ2VyKVxuICAgICAgICAgICAgdHJpZ2dlciA9IEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duO1xuICAgICAgICB0aGlzLl9rZXlzLmZvckVhY2goeCA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZigoeC5rZXljb2RlID09PSBrZXljb2RlKSAmJiAoeC50cmlnZ2VyID09PSB0cmlnZ2VyKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHguZXZlbnQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICAgICAgdGhpcy5fa2V5cy5wdXNoKHtrZXljb2RlOiBrZXljb2RlLCB0cmlnZ2VyOiB0cmlnZ2VyLCBldmVudDogZXZlbnR9KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXljb2RlIFxuICAgICAqIEBwYXJhbSB0cmlnZ2VyXG4gICAgICogQHJldHVybiB0cnVlIGlmIGFuIGV2ZW50IHdhcyByZW1vdmVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICByZW1vdmVLZXlFdmVudChrZXljb2RlOiBzdHJpbmcsIHRyaWdnZXI6IEtleVRyaWdnZXJFdmVudHMpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgdG9SZW1vdmUgPSB0aGlzLl9rZXlzLmZpbHRlcih4ID0+ICh4LmtleWNvZGUgPT09IGtleWNvZGUpICYmICh4LnRyaWdnZXIgPT09IHRyaWdnZXIpKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvUmVtb3ZlLmZvckVhY2goeCA9PiB0aGlzLl9rZXlzLnNwbGljZSh0aGlzLl9rZXlzLmluZGV4T2YoeCksIDEpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBiZWdpbih7a2V5Ym9hcmQ6a30gOiB7a2V5Ym9hcmQ6IEtleWJvYXJkfSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHRoaXMuX2tleXMuZm9yRWFjaCh4PT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoeC50cmlnZ2VyID09PSBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoay5pc0tleVVwKHgua2V5Y29kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB4LmV2ZW50LmNhbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeC50cmlnZ2VyID09PSBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrLmlzS2V5RG93bih4LmtleWNvZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICB4LmV2ZW50LmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5pbmRleE9mKHgua2V5Y29kZSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgeC5ldmVudC5jYWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHgudHJpZ2dlciA9PT0gS2V5VHJpZ2dlckV2ZW50cy5vbktleVByZXNzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5pbmRleE9mKHgua2V5Y29kZSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgeC5ldmVudC5jYWxsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiLi4vY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nQmFyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfYmdDb2xvdXI6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX2ZnQ29sb3VyOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9wcm9wb3J0aW9uRGltZW5zaW9uOiBQcm9wb3J0aW9uYWxEaW1lbnNpb247XG4gICAgcHJvdGVjdGVkIF9pbm5lckJhcjogRmlsbFJlY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBiZ0NvbG91cjogc3RyaW5nLCBmZ0NvbG91cjogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcylcbiAgICAgICAgdGhpcy5fYmdDb2xvdXIgPSBiZ0NvbG91cjtcbiAgICAgICAgdGhpcy5fZmdDb2xvdXIgPSBmZ0NvbG91cjtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5fYmdDb2xvdXIpKTtcbiAgICAgICAgdGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbiA9IG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwxKTtcbiAgICAgICAgdGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbi5wcmVzZXJ2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2lubmVyQmFyID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHModGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbiksIHRoaXMuX2ZnQ29sb3VyKSk7XG4gICAgfVxuXG4gICAgc2V0UHJvcG9ydGlvbihwcm9wb3J0aW9uOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9wb3J0aW9uRGltZW5zaW9uLndpZHRoID0gcHJvcG9ydGlvbjtcbiAgICAgICAgdGhpcy5faW5uZXJCYXIudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgIH1cblxufSIsImltcG9ydCBNb3VzZVRyaWdnZXIgZnJvbSBcIi4vTW91c2VUcmlnZ2VyXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgeyBNb3VzZSwgVG91Y2ggfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5cbmNsYXNzIFRvdWNoRHJhZ0RhdGFcbntcbiAgICBkcmFnU3RhcnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBsYXN0UG9zOiBQb2ludDtcbiAgICBkcmFnZ2luZyA9IGZhbHNlO1xuICAgIG1pbkRpc3RhbmNlUGFzc2VkOiBib29sZWFuID0gZmFsc2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdXNlRHJhZ1RyaWdnZXIgZXh0ZW5kcyBNb3VzZVRyaWdnZXJcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiTW91c2VEcmFnVHJpZ2dlclwiOyB9XG5cbiAgICBwcml2YXRlIF90b3VjaGVzOiBNYXA8bnVtYmVyLCBUb3VjaERyYWdEYXRhPiA9IG5ldyBNYXAoKTtcbiAgICBcbiAgICBwcm90ZWN0ZWQgX2RyYWdTdGFydCA9IG5ldyBQb2ludCgwLDApO1xuICAgIHByb3RlY3RlZCBfbGFzdFBvczogUG9pbnQ7XG4gICAgcHJvdGVjdGVkIF9kcmFnZ2luZyA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfb25EcmFnOiBFdmVudDtcbiAgICBwcm90ZWN0ZWQgX29uRW5kRHJhZzogRXZlbnQ7XG5cbiAgICBnZXQgb25EcmFnKCkgeyByZXR1cm4gdGhpcy5fb25EcmFnOyB9XG4gICAgZ2V0IG9uRW5kRHJhZygpIHsgcmV0dXJuIHRoaXMuX29uRW5kRHJhZzsgfVxuICAgIGdldCB0b3VjaENvdW50KCkgeyByZXR1cm4gdGhpcy5fdG91Y2hlcy5zaXplOyB9XG5cbiAgICBwcm90ZWN0ZWQgX21pbkRpc3RhbmNlUGFzc2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgbWluRGlzdGFuY2U6IG51bWJlciB8IFBvaW50ID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fb25EcmFnID0gbmV3IEV2ZW50KCk7XG4gICAgICAgIHRoaXMuX29uRW5kRHJhZyA9IG5ldyBFdmVudCgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSh7bW91c2U6bX0pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGFibGUpXG4gICAgICAgICAgICB0aGlzLmNoZWNrTW91c2VBY3Rpb25zKG0pO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdG91Y2hlcy5mb3JFYWNoKHQgPT4gXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0LmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHQubWluRGlzdGFuY2VQYXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vbkVuZERyYWcuY2FsbChtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VEb3duKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRvdWNoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcmFnU3RhcnQgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MgPSB0aGlzLl9kcmFnU3RhcnQ7XG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2luZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdG91Y2hEcmFnRGF0YSA9IHRoaXMuX3RvdWNoZXMuZ2V0KHRvdWNoSUQpO1xuICAgICAgICAgICAgaWYgKHRvdWNoRHJhZ0RhdGEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhID0gbmV3IFRvdWNoRHJhZ0RhdGEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3VjaGVzLnNldCh0b3VjaElELCB0b3VjaERyYWdEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEuZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5kcmFnU3RhcnQgPSB0b3VjaC5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEubGFzdFBvcyA9IHRvdWNoRHJhZ0RhdGEuZHJhZ1N0YXJ0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZVVwKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRvdWNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJhZ2dpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmREcmFnLmNhbGwobW91c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRvdWNoRHJhZ0RhdGEgPSB0aGlzLl90b3VjaGVzLmdldCh0b3VjaElEKTtcbiAgICAgICAgICAgIGlmICh0b3VjaERyYWdEYXRhKVxuICAgICAgICAgICAgICAgIHRoaXMuX3RvdWNoZXMuZGVsZXRlKHRvdWNoSUQpO1xuICAgICAgICAgICAgaWYgKHRvdWNoRHJhZ0RhdGEgJiYgdG91Y2hEcmFnRGF0YS5kcmFnZ2luZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmREcmFnLmNhbGwobW91c2UsIHRvdWNoLCB0b3VjaElEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VMZWF2ZShtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCF0b3VjaClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9uRW5kRHJhZy5jYWxsKG1vdXNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3VjaERyYWdEYXRhID0gdGhpcy5fdG91Y2hlcy5nZXQodG91Y2hJRCk7XG4gICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvdWNoZXMuZGVsZXRlKHRvdWNoSUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkVuZERyYWcuY2FsbChtb3VzZSwgdG91Y2gsIHRvdWNoSUQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZU1vdmUobW91c2U6IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghdG91Y2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnZ2luZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX21pbkRpc3RhbmNlUGFzc2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZlY3RvciA9IFBvaW50Lm1pbnVzKHRoaXMuX2xhc3RQb3MsIHRoaXMuX2RyYWdTdGFydCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWluRGlzdGFuY2UgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChNYXRoLmFicyh2ZWN0b3IueCkgPiB0aGlzLm1pbkRpc3RhbmNlLngpIHx8IChNYXRoLmFicyh2ZWN0b3IueSkgPiB0aGlzLm1pbkRpc3RhbmNlLnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2ZWN0b3IubWFnbml0dWRlID4gdGhpcy5taW5EaXN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZy5jYWxsKFBvaW50Lm1pbnVzKHRoaXMuX2xhc3RQb3MsIG1vdXNlLnBvc2l0aW9uKSwgbW91c2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3VjaERyYWdEYXRhID0gdGhpcy5fdG91Y2hlcy5nZXQodG91Y2hJRCk7XG4gICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YSAmJiB0b3VjaERyYWdEYXRhLmRyYWdnaW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2ZWN0b3IgPSBQb2ludC5taW51cyh0b3VjaERyYWdEYXRhLmxhc3RQb3MsIHRvdWNoRHJhZ0RhdGEuZHJhZ1N0YXJ0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5taW5EaXN0YW5jZSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKE1hdGguYWJzKHZlY3Rvci54KSA+IHRoaXMubWluRGlzdGFuY2UueCkgfHwgKE1hdGguYWJzKHZlY3Rvci55KSA+IHRoaXMubWluRGlzdGFuY2UueSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmVjdG9yLm1hZ25pdHVkZSA+IHRoaXMubWluRGlzdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEubWluRGlzdGFuY2VQYXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyYWcuY2FsbChQb2ludC5taW51cyh0b3VjaERyYWdEYXRhLmxhc3RQb3MsIHRvdWNoLnBvc2l0aW9uKSwgbW91c2UsIHRvdWNoLCB0b3VjaElEKTtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmxhc3RQb3MgPSB0b3VjaC5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCB7IE1vdXNlLCBUb3VjaCB9IGZyb20gXCIuLi8uLi9pby9Nb3VzZVwiO1xuXG5jbGFzcyBUb3VjaERhdGFcbntcbiAgICBpbkJvdW5kczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGNsaWNrU3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHRvRGVzdHJveTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW91c2VUcmlnZ2VyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJNb3VzZVRyaWdnZXJcIjsgfVxuXG4gICAgcHJpdmF0ZSBfbW91c2VJbkJvdW5kczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2NsaWNrU3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHRvdWNoZXM6IE1hcDxudW1iZXIsIFRvdWNoRGF0YT4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHttb3VzZTptfSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHRoaXMuY2hlY2tNb3VzZUFjdGlvbnMobSk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICogQ2hlY2sgZm9yIGEgc2V0IG9mIG1vdXNlIGV2ZW50cyBnaXZlbiB0aGUgcHJvdmlkZWQgbW91c2UgaW50ZXJmYWNlIGFuZFxuICAgICogY2FsbCB0aGUgYG9uTW91c2UuLi5gIG1vdXNlIGV2ZW50IG1ldGhvZHMgb24gdGhpcyBHYW1lT2JqZWN0LlxuICAgICogQHBhcmFtIG1vdXNlIHRoZSBNb3VzZSBvYmplY3QgdG8gY2hlY2tcbiAgICAqL1xuICAgIGNoZWNrTW91c2VBY3Rpb25zKG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5jb250YWluc1BvaW50KG1vdXNlLnBvc2l0aW9uKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9tb3VzZUluQm91bmRzKVxuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZUVudGVyKG1vdXNlKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlSW5Cb3VuZHMgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlSG92ZXIobW91c2UpO1xuICAgICAgICAgICAgaWYgKG1vdXNlLmlzTW91c2VNb3ZlRXZlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZShtb3VzZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlLmlzRG93bilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlRHJhZyhtb3VzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2UuaXNNb3VzZURvd25FdmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGlja1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd24obW91c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdXNlLmlzTW91c2VVcEV2ZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKG1vdXNlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xpY2tTdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VDbGljayhtb3VzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbW91c2VJbkJvdW5kcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZShtb3VzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW91c2VJbkJvdW5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0aGlzLl9jbGlja1N0YXJ0ZWQpICYmIChtb3VzZS5pc01vdXNlVXBFdmVudCkpXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xpY2tTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja1RvdWNoQWN0aW9ucyhtb3VzZSk7XG4gICAgfVxuXG4gICAgY2hlY2tUb3VjaEFjdGlvbnMobW91c2U6IE1vdXNlKVxuICAgIHtcbiAgICAgICAgdGhpcy50b3VjaGVzLmZvckVhY2godG91Y2ggPT4gdG91Y2gudG9EZXN0cm95ID0gdHJ1ZSk7XG4gICAgICAgIG1vdXNlLnRvdWNoZXMuZm9yRWFjaCgodCwgaykgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3VjaCA9IHRoaXMudG91Y2hlcy5nZXQoayk7XG4gICAgICAgICAgICBpZiAodG91Y2ggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaCA9IG5ldyBUb3VjaERhdGEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoZXMuc2V0KGssIHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdWNoLnRvRGVzdHJveSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0uY29udGFpbnNQb2ludCh0LnBvc2l0aW9uKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRvdWNoLmluQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VFbnRlcihtb3VzZSwgdCwgayk7XG4gICAgICAgICAgICAgICAgdG91Y2guaW5Cb3VuZHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZUhvdmVyKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICBpZiAodC5pc1N0YXJ0RXZlbnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5jbGlja1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHQuaXNNb3ZlRXZlbnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VNb3ZlKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlLmlzRG93bilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZURyYWcobW91c2UsIHQsIGspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodC5pc0VuZEV2ZW50KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAobW91c2UsIHQsIGspO1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pbkJvdW5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guY2xpY2tTdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VDbGljayhtb3VzZSwgdCwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3VjaC5jbGlja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodG91Y2guaW5Cb3VuZHMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZShtb3VzZSwgdCwgayk7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmluQm91bmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgodG91Y2guY2xpY2tTdGFydGVkKSAmJiAodC5pc0VuZEV2ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guY2xpY2tTdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdG9SZW1vdmUgPSBbXTtcbiAgICAgICAgdGhpcy50b3VjaGVzLmZvckVhY2goKHRvdWNoLCBrZXkpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0b3VjaC50b0Rlc3Ryb3kpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guaW5Cb3VuZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZShtb3VzZSwgbnVsbCwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdG9SZW1vdmUucHVzaChrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRvUmVtb3ZlLmZvckVhY2gociA9PiB0aGlzLnRvdWNoZXMuZGVsZXRlKHIpKTtcbiAgICB9XG5cbiAgICBvbk1vdXNlSG92ZXIobW91c2U6IE1vdXNlLCB0b3VjaD86IFRvdWNoLCB0b3VjaElEPzogbnVtYmVyKSB7fVxuICAgIG9uTW91c2VNb3ZlKG1vdXNlOiBNb3VzZSwgdG91Y2g/OiBUb3VjaCwgdG91Y2hJRD86IG51bWJlcikge31cbiAgICBvbk1vdXNlRG93bihtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG4gICAgb25Nb3VzZVVwKG1vdXNlOiBNb3VzZSwgdG91Y2g/OiBUb3VjaCwgdG91Y2hJRD86IG51bWJlcikge31cbiAgICBvbk1vdXNlRHJhZyhtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG4gICAgb25Nb3VzZUxlYXZlKG1vdXNlOiBNb3VzZSwgdG91Y2g/OiBUb3VjaCwgdG91Y2hJRD86IG51bWJlcikge31cbiAgICBvbk1vdXNlRW50ZXIobW91c2U6IE1vdXNlLCB0b3VjaD86IFRvdWNoLCB0b3VjaElEPzogbnVtYmVyKSB7fVxuICAgIG9uTW91c2VDbGljayhtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG59IiwiaW1wb3J0IE1vdXNlVHJpZ2dlciBmcm9tIFwiLi9Nb3VzZVRyaWdnZXJcIjtcbmltcG9ydCB7IE1vdXNlLCBUb3VjaCB9IGZyb20gXCIuLi8uLi9pby9Nb3VzZVwiO1xuaW1wb3J0IHsgVGltZXIgfSBmcm9tIFwiLi4vVGltZXJcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi4vLi4vdXRpbC9FdmVudFwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJlc3NIb2xkVHJpZ2dlciBleHRlbmRzIE1vdXNlVHJpZ2dlclxue1xuICAgIHByaXZhdGUgX2hvbGRUaW1lOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfdGltZXI6IFRpbWVyO1xuICAgIHByaXZhdGUgX29uSG9sZDogRXZlbnQ7XG4gICAgcHJpdmF0ZSBfb25SZWxlYXNlSG9sZDogRXZlbnQ7XG4gICAgcHJpdmF0ZSBfaG9sZEV2ZW50RmlyZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBob2xkVGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIHRoaXMuX2hvbGRUaW1lID0gaG9sZFRpbWU7XG4gICAgICAgIHRoaXMuX29uSG9sZCA9IG5ldyBFdmVudCgpO1xuICAgICAgICB0aGlzLl9vblJlbGVhc2VIb2xkID0gbmV3IEV2ZW50KCk7XG4gICAgfVxuXG4gICAgZ2V0IG9uSG9sZCgpIHsgcmV0dXJuIHRoaXMuX29uSG9sZDsgfVxuICAgIGdldCBvblJlbGVhc2VIb2xkKCkgeyByZXR1cm4gdGhpcy5fb25SZWxlYXNlSG9sZDsgfVxuICAgIGdldCBob2xkVGltZSgpIHsgcmV0dXJuIHRoaXMuX2hvbGRUaW1lOyB9XG4gICAgc2V0IGhvbGRUaW1lKHZhbCkgeyB0aGlzLl9ob2xkVGltZSA9IHZhbDsgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbWVyID0gdGhpcy5hZGRDaGlsZChuZXcgVGltZXIoKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKGFyZ3MpXG4gICAge1xuICAgICAgICBzdXBlci51cGRhdGUoYXJncyk7XG4gICAgICAgIGlmICgoIXRoaXMuX2hvbGRFdmVudEZpcmVkKSAmJiAodGhpcy5fdGltZXIudGltZSA+PSB0aGlzLl9ob2xkVGltZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uSG9sZC5jYWxsKGFyZ3MubW91c2UpO1xuICAgICAgICAgICAgdGhpcy5fdGltZXIucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2hvbGRFdmVudEZpcmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VNb3ZlKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoKHRvdWNoICYmICEodG91Y2guaGFuZGxlZCkpIHx8ICghdG91Y2ggJiYgIShtb3VzZS5oYW5kbGVkKSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlRG93bihtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCh0b3VjaCAmJiAhKHRvdWNoLmhhbmRsZWQpKSB8fCAoIXRvdWNoICYmICEobW91c2UuaGFuZGxlZCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90aW1lci5zdGFydCgpXG4gICAgICAgICAgICB0aGlzLl9ob2xkRXZlbnRGaXJlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZVVwKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl90aW1lci5wYXVzZSgpO1xuICAgICAgICBpZiAodGhpcy5faG9sZEV2ZW50RmlyZWQpXG4gICAgICAgICAgICB0aGlzLm9uUmVsZWFzZUhvbGQuY2FsbChtb3VzZSk7XG4gICAgfVxuXG4gICAgb25Nb3VzZUxlYXZlKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl90aW1lci5wYXVzZSgpO1xuICAgICAgICBpZiAodGhpcy5faG9sZEV2ZW50RmlyZWQpXG4gICAgICAgICAgICB0aGlzLm9uUmVsZWFzZUhvbGQuY2FsbChtb3VzZSk7XG4gICAgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gXCIuL1RleHRCdWlsZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHQgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJvdGVjdGVkIF9jb2xvcjogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfZm9udEZhY2U6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX3NpemU6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3JlY2FsY3VsYXRlVGV4dEJvdW5kczogYm9vbGVhbjtcblxuICAgIHByb3RlY3RlZCBfbGluZVNwYWNpbmc6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2NlbnRlcmVkOiBib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIF93aWR0aHMgPSBbXTtcbiAgICBwcm90ZWN0ZWQgX3dpZGVzdDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfbGluZXMgPSBbXTtcblxuICAgIHByb3RlY3RlZCBfY291bnRMaW5lcyA9IDA7XG5cbiAgICBwcm90ZWN0ZWQgX2NhbnZhc0Z1bmN0aW9uOiAoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHZvaWQgPSBudWxsO1xuXG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIlRleHRcIjsgfVxuICAgIFxuICAgIGdldCBjb2xvcigpIHsgcmV0dXJuIHRoaXMuX2NvbG9yOyB9XG4gICAgc2V0IGNvbG9yKHZhbCkgeyB0aGlzLl9jb2xvciA9IHZhbDsgfVxuXG4gICAgZ2V0IGZvbnRGYWNlKCkgeyByZXR1cm4gdGhpcy5fZm9udEZhY2U7IH1cbiAgICBnZXQgc2l6ZSgpIHsgcmV0dXJuIHRoaXMuX3NpemU7IH1cblxuICAgIGdldCBsaW5lU3BhY2luZygpICB7cmV0dXJuIHRoaXMuX2xpbmVTcGFjaW5nOyB9XG4gICAgc2V0IGxpbmVTcGFjaW5nKHZhbCkgeyB0aGlzLl9saW5lU3BhY2luZyA9IHZhbDsgfVxuXG4gICAgZ2V0IGNlbnRlcmVkKCkgeyByZXR1cm4gdGhpcy5fY2VudGVyZWQ7IH1cbiAgICBzZXQgY2VudGVyZWQodmFsKSB7IHRoaXMuX2NlbnRlcmVkID0gdmFsOyB9XG5cbiAgICBzZXQgdGV4dCh2YWw6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHRoaXMuX2xpbmVzID0gdmFsLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIHRoaXMuX3JlY2FsY3VsYXRlVGV4dEJvdW5kcyA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0IGxpbmVzKCkgeyByZXR1cm4gdGhpcy5fbGluZXM7IH1cbiAgICBzZXQgbGluZXModmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGluZXMgPSB2YWw7XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICAgICAgdGhpcy5fcmVjYWxjdWxhdGVUZXh0Qm91bmRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgY2FudmFzRnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9jYW52YXNGdW5jdGlvbjsgfVxuICAgIHNldCBjYW52YXNGdW5jdGlvbih2YWwpIHsgdGhpcy5fY2FudmFzRnVuY3Rpb24gPSB2YWw7IH1cblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGxpbmVzOiBzdHJpbmdbXSB8IHN0cmluZywgY29sb3I6IHN0cmluZywgc2l6ZTogbnVtYmVyLCBmb250OiBzdHJpbmcsIGxpbmVTcGFjaW5nPzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuX2ZvbnRGYWNlID0gZm9udDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIGlmICh0eXBlb2YobGluZXMpID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgdGhpcy5fbGluZXMgPSBbbGluZXNdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl9saW5lcyA9IGxpbmVzO1xuICAgICAgICB0aGlzLl9saW5lU3BhY2luZyA9IGxpbmVTcGFjaW5nIHx8IDE7XG4gICAgfVxuXG4gICAgbWVhc3VyZVRleHRGb3JCb3VuZHMoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuY2xlYXJEaW1lbnNpb25zKCk7XG4gICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcih0aGlzLmxpbmVzLCBjb250ZXh0MkQsIHRoaXMuY29sb3IsIHRoaXMuc2l6ZSwgdGhpcy5mb250RmFjZSwgdGhpcy5saW5lU3BhY2luZylcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uYm91bmRzLmFkZERpbWVuc2lvbih0Yi50ZXh0RGltZW5zaW9uKCkpO1xuICAgICAgICB0aGlzLl9yZWNhbGN1bGF0ZVRleHRCb3VuZHMgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FudmFzRnVuY3Rpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnRleHQyRC5zYXZlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbnZhc0Z1bmN0aW9uKGNvbnRleHQyRCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0MkQuZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICAgICAgY29udGV4dDJELmZvbnQgPSB0aGlzLnNpemUgKyBcInB0IFwiICsgdGhpcy5mb250RmFjZTtcblxuICAgICAgICBpZiAodGhpcy5fcmVjYWxjdWxhdGVUZXh0Qm91bmRzKVxuICAgICAgICAgICAgdGhpcy5tZWFzdXJlVGV4dEZvckJvdW5kcyhjb250ZXh0MkQpO1xuICAgICAgICAgXG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgIGxldCB5UG9zID0gMDtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuX2xpbmVzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNlbnRlcmVkKVxuICAgICAgICAgICAgICAgIG9mZnNldCA9ICh0aGlzLl93aWRlc3QtdGhpcy5fd2lkdGhzW2ldKS8yO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XG5cbiAgICAgICAgICAgIGNvbnRleHQyRC5maWxsVGV4dCh0aGlzLl9saW5lc1tpXSwgcG9zLnggKyBvZmZzZXQsIHBvcy55ICsgeVBvcyArIHRoaXMuc2l6ZSk7XG4gICAgICAgICAgICB5UG9zICs9IHRoaXMuX3NpemUgKiB0aGlzLl9saW5lU3BhY2luZztcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5jYW52YXNGdW5jdGlvbilcbiAgICAgICAgICAgIGNvbnRleHQyRC5yZXN0b3JlKCk7XG4gICAgfVxuXG4gICBcbn1cbiIsImltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBUZXh0IGZyb20gXCIuL1RleHRcIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0QnVpbGRlclxue1xuICAgIHByb3RlY3RlZCBfbGluZXMgPSBbXTtcbiAgICBwcm90ZWN0ZWQgX2NvbG9yOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9mb250RmFjZTogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfc2l6ZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfbGluZVNwYWNpbmc6IG51bWJlcjtcblxuICAgIHByb3RlY3RlZCBfY2VudGVyZWQ6IGJvb2xlYW47XG5cbiAgICBwcm90ZWN0ZWQgX3dpZHRocyA9IFtdO1xuICAgIHByb3RlY3RlZCBfd2lkZXN0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9jb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcblxuICAgIHByb3RlY3RlZCBfdGFyZ2V0V2lkdGg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2NvdW50TGluZXMgPSAwO1xuXG4gICAgY29uc3RydWN0b3IobGluZXM6IHN0cmluZ1tdIHwgc3RyaW5nLCBjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY29sb3I6IHN0cmluZywgc2l6ZTogbnVtYmVyLCBmb250OiBzdHJpbmcsIGxpbmVTcGFjaW5nPzogbnVtYmVyLCB0YXJnZXRXaWR0aD86IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YobGluZXMpID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgdGhpcy5fbGluZXMgPSBbbGluZXNdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLl9saW5lcyA9IGxpbmVzO1xuICAgICAgICB0aGlzLl9jb250ZXh0MkQgPSBjb250ZXh0MkQ7XG4gICAgICAgIHRoaXMuX2NvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuX2ZvbnRGYWNlID0gZm9udDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuX2xpbmVTcGFjaW5nID0gbGluZVNwYWNpbmcgfHwgMTtcbiAgICAgICAgdGhpcy5fdGFyZ2V0V2lkdGggPSB0YXJnZXRXaWR0aCB8fCB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGNvbG9yKCkgeyByZXR1cm4gdGhpcy5fY29sb3I7IH1cbiAgICBzZXQgY29sb3IodmFsKSB7IHRoaXMuX2NvbG9yID0gdmFsOyB9XG5cbiAgICBnZXQgZm9udEZhY2UoKSB7IHJldHVybiB0aGlzLl9mb250RmFjZTsgfVxuICAgIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy5fc2l6ZTsgfVxuXG4gICAgZ2V0IGxpbmVTcGFjaW5nKCkgIHtyZXR1cm4gdGhpcy5fbGluZVNwYWNpbmc7IH1cbiAgICBzZXQgbGluZVNwYWNpbmcodmFsKSB7IHRoaXMuX2xpbmVTcGFjaW5nID0gdmFsOyB9XG5cbiAgICBnZXQgY2VudGVyZWQoKSB7IHJldHVybiB0aGlzLl9jZW50ZXJlZDsgfVxuICAgIHNldCBjZW50ZXJlZCh2YWwpIHsgdGhpcy5fY2VudGVyZWQgPSB2YWw7IH1cblxuICAgIHNldCB0ZXh0KHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2xpbmVzID0gdmFsLnNwbGl0KFwiXFxuXCIpO1xuICAgIH1cblxuICAgIGdldCBsaW5lcygpIHsgcmV0dXJuIHRoaXMuX2xpbmVzOyB9XG4gICAgc2V0IGxpbmVzKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2xpbmVzID0gdmFsO1xuICAgIH1cblxuICAgIGJ1aWxkVGV4dChwb3NpdGlvbik6IFRleHRcbiAgICB7XG4gICAgICAgIGxldCB0ZXh0RGltID0gdGhpcy50ZXh0RGltZW5zaW9uKCk7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dChwb3NpdGlvbiwgbmV3IEJvdW5kcyh0ZXh0RGltKSwgdGhpcy5saW5lcywgdGhpcy5jb2xvciwgdGhpcy5zaXplLCB0aGlzLmZvbnRGYWNlLCB0aGlzLmxpbmVTcGFjaW5nKTtcbiAgICB9XG5cbiAgICB0ZXh0RGltZW5zaW9uKCk6IFBpeGVsRGltZW5zaW9uXG4gICAge1xuICAgICAgICBsZXQgbHMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuX3RhcmdldFdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0MkQuZm9udCA9IHRoaXMuc2l6ZSArICdwdCAnICsgdGhpcy5mb250RmFjZTtcbiAgICAgICAgICAgIHRoaXMubGluZXMuZm9yRWFjaChsID0+IGxzID0gbHMuY29uY2F0KHRoaXMuX2dldFdyYXBwZWRMaW5lcyh0aGlzLl9jb250ZXh0MkQsIGwsIHRoaXMuX3RhcmdldFdpZHRoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGxzID0gdGhpcy5saW5lcztcblxuICAgICAgICB0aGlzLl9jb250ZXh0MkQuZm9udCA9IHRoaXMuc2l6ZSArIFwicHQgXCIgKyB0aGlzLmZvbnRGYWNlO1xuICAgICAgICBsZXQgd2lkZXN0ID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGxldCB3aWR0aHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8bHMubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgd2lkdGhzW2ldID0gdGhpcy5fY29udGV4dDJELm1lYXN1cmVUZXh0KGxzW2ldKS53aWR0aDtcbiAgICAgICAgICAgIHdpZGVzdCA9IE1hdGgubWF4KHdpZGVzdCx3aWR0aHNbaV0pO1xuICAgICAgICAgICAgaWYgKGkgPT09IGxzLmxlbmd0aC0xKVxuICAgICAgICAgICAgICAgIGhlaWdodCArPSB0aGlzLnNpemU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMuc2l6ZSAqIHRoaXMubGluZVNwYWNpbmc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxpbmVzID0gbHM7XG4gICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24od2lkZXN0LCBoZWlnaHQpO1xuICAgIH1cblxuICAgIC8vIGJhc2VkIG9uIGh0dHBzOi8vd3d3Lmh0bWw1Y2FudmFzdHV0b3JpYWxzLmNvbS90dXRvcmlhbHMvaHRtbDUtY2FudmFzLXdyYXAtdGV4dC10dXRvcmlhbC9cbiAgICBwcm90ZWN0ZWQgX2dldFdyYXBwZWRMaW5lcyhjb250ZXh0LCB0ZXh0OiBzdHJpbmcsIG1heFdpZHRoOiBudW1iZXIpOiBzdHJpbmdbXVxuICAgIHtcbiAgICAgICAgdmFyIHdvcmRzID0gdGV4dC5zcGxpdCgnICcpO1xuICAgICAgICB2YXIgbGluZSA9ICcnO1xuICAgICAgICBsZXQgbGluZXMgPSBbXTtcblxuICAgICAgICBmb3IodmFyIG4gPSAwOyBuIDwgd29yZHMubGVuZ3RoOyBuKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXN0TGluZSA9IGxpbmUgKyB3b3Jkc1tuXTtcbiAgICAgICAgICAgIHZhciBtZXRyaWNzID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXN0TGluZSk7XG4gICAgICAgICAgICB2YXIgdGVzdFdpZHRoID0gbWV0cmljcy53aWR0aDtcbiAgICAgICAgICAgIGlmICh0ZXN0V2lkdGggPiBtYXhXaWR0aCAmJiBuID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvL2xpbmVzLnB1c2gobGluZS50cmltUmlnaHQoKSk7XG4gICAgICAgICAgICAgICAgbGluZSA9IHdvcmRzW25dICsgJyAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGxpbmUgPSB0ZXN0TGluZSArICcgJztcbiAgICAgICAgfVxuICAgICAgICAvL2xpbmVzLnB1c2gobGluZS50cmltUmlnaHQoKSk7XG5cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cbn0iLCJpbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIElPXG57XG4gICAgb25TdGFydCA9IG5ldyBFdmVudCgpO1xuICAgIG9uU3RvcCA9IG5ldyBFdmVudCgpO1xuICAgIG9uQmVnaW5TdGFydCA9IG5ldyBFdmVudCgpOyAvLyB0aW1lc3RhbXAsIGRlbHRhXG4gICAgb25CZWdpbkVuZCA9IG5ldyBFdmVudCgpO1xuICAgIG9uVXBkYXRlU3RhcnQgPSBuZXcgRXZlbnQoKTtcbiAgICBvblVwZGF0ZUVuZCA9IG5ldyBFdmVudCgpO1xuICAgIG9uRHJhd1N0YXJ0ID0gbmV3IEV2ZW50KCk7XG4gICAgb25EcmF3RW5kID0gbmV3IEV2ZW50KCk7XG4gICAgb25FbmRTdGFydCA9IG5ldyBFdmVudCgpOyAvLyBmcHNcbiAgICBvbkVuZEVuZCA9IG5ldyBFdmVudCgpO1xuICAgIF9pbnRlcmZhY2VzID0ge31cbiAgICBfaWZzOiBJT0ludGVyZmFjZVtdID0gW107XG5cbiAgICBnZXQgaW50ZXJmYWNlcygpIHsgcmV0dXJuIHRoaXMuX2ludGVyZmFjZXM7IH1cblxuICAgIGFkZEludGVyZmFjZShpbmY6IElPSW50ZXJmYWNlLCBuYW1lOiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9pbnRlcmZhY2VzW25hbWVdID0gaW5mO1xuICAgICAgICB0aGlzLl9pZnMucHVzaChpbmYpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHsgdGhpcy5faWZzLmZvckVhY2goeCA9PiB4LnNldEV2ZW50cyh0aGlzKSk7IH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJT0ludGVyZmFjZVxue1xuICAgIHNldEV2ZW50cyhJTzogSU8pOiB2b2lkO1xufSIsImltcG9ydCB7IElPSW50ZXJmYWNlIH0gZnJvbSBcIi4vSU9cIjtcblxuZXhwb3J0IGNsYXNzIEtleWJvYXJkIFxue1xuICAgIHByb3RlY3RlZCBfa2V5c0Rvd246IHN0cmluZ1tdID0gW107XG4gICAgcHJvdGVjdGVkIF9rZXlzVXA6IHN0cmluZ1tdID0gW107XG4gICAgcHJvdGVjdGVkIF9rZXlQcmVzc2VzVGhpc1VwZGF0ZTogc3RyaW5nW10gPSBbXTtcblxuICAgIGdldCBrZXlQcmVzc2VzVGhpc1VwZGF0ZSgpIHsgcmV0dXJuIHRoaXMuX2tleVByZXNzZXNUaGlzVXBkYXRlOyB9XG4gICAgZ2V0IGtleXNEb3duKCkgeyByZXR1cm4gdGhpcy5fa2V5c0Rvd247IH1cbiAgICBnZXQga2V5c1VwKCkgeyByZXR1cm4gdGhpcy5fa2V5c1VwOyB9XG5cbiAgICBpc0tleVVwKGtleVZhbHVlOiBzdHJpbmcpIHsgcmV0dXJuIHRoaXMua2V5c1VwLmluZGV4T2Yoa2V5VmFsdWUpID49IDA7IH1cblxuICAgIGlzS2V5RG93bihrZXlWYWx1ZTogc3RyaW5nKSB7IHJldHVybiB0aGlzLmtleXNEb3duLmluZGV4T2Yoa2V5VmFsdWUpID49IDA7IH1cblxuICAgIGtleVByaW9yaXR5KGtleWE6IHN0cmluZywga2V5Yjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleXNEb3duLmluZGV4T2Yoa2V5YSkgPiB0aGlzLmtleXNEb3duLmluZGV4T2Yoa2V5Yik7IH1cblxuICAgIGdldCBrZXkoKSB7IHJldHVybiB0aGlzLmtleXNEb3duW3RoaXMua2V5c0Rvd24ubGVuZ3RoLTFdOyB9XG59XG5cbmV4cG9ydCBjbGFzcyBLZXlib2FyZExpc3RlbmVyIGV4dGVuZHMgS2V5Ym9hcmQgaW1wbGVtZW50cyBJT0ludGVyZmFjZSBcbntcbiAgICBwcml2YXRlIF9zd2l0Y2hCdWZmZXI6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfYnVmZmVyMjogc3RyaW5nW107XG5cbiAgICBzZXRFdmVudHMoaW8pXG4gICAge1xuICAgICAgICBpby5vbkJlZ2luU3RhcnQucHVzaCh0aGlzLm9uQmVnaW5TdGFydC5iaW5kKHRoaXMpKTtcbiAgICAgICAgaW8ub25CZWdpbkVuZC5wdXNoKHRoaXMub25CZWdpbkVuZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCB0aGlzLm9uS2V5UHJlc3MuYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgb25LZXlEb3duKGV2ZW50KVxuICAgIHtcbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmtleXNEb3duLmluZGV4T2YoZXZlbnQua2V5KSA9PT0gLTEpXG4gICAgICAgICAgICB0aGlzLmtleXNEb3duLnB1c2goZXZlbnQua2V5KTtcbiAgICB9XG5cbiAgICBvbktleVVwKGV2ZW50KVxuICAgIHtcbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmtleXNVcC5pbmRleE9mKGV2ZW50LmtleSkgPT09IC0xKVxuICAgICAgICAgICAgdGhpcy5rZXlzVXAucHVzaChldmVudC5rZXkpO1xuICAgIH1cblxuICAgIG9uS2V5UHJlc3MoZXZlbnQpXG4gICAge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuX3N3aXRjaEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fYnVmZmVyMi5pbmRleE9mKGV2ZW50LmtleSkgPj0gMCkpXG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyMi5wdXNoKGV2ZW50LmtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaWYgKCEodGhpcy5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5pbmRleE9mKGV2ZW50LmtleSkgPj0gMCkpXG4gICAgICAgICAgICAgICAgdGhpcy5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5wdXNoKGV2ZW50LmtleSk7XG4gICAgfVxuXG4gICAgb25CZWdpblN0YXJ0KClcbiAgICB7XG4gICAgICAgIHRoaXMuX2J1ZmZlcjIgPSBbXTsgXG4gICAgICAgIHRoaXMuX3N3aXRjaEJ1ZmZlciA9IHRydWU7XG4gICAgfVxuXG4gICAgb25CZWdpbkVuZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyMi5sZW5ndGggPiAwKVxuICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5fYnVmZmVyMik7XG4gICAgICAgIHRoaXMuX2tleVByZXNzZXNUaGlzVXBkYXRlID0gdGhpcy5fYnVmZmVyMi5zbGljZSgpO1xuICAgICAgICB0aGlzLl9zd2l0Y2hCdWZmZXIgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX2tleXNEb3duID0gdGhpcy5rZXlzRG93bi5maWx0ZXIoeCA9PiB0aGlzLmtleXNVcC5pbmRleE9mKHgpIDwgMCApO1xuICAgICAgICB0aGlzLl9rZXlzVXAgPSBbXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQXNzZXQgZnJvbSBcIi4uL0Fzc2V0XCI7XG5pbXBvcnQgSU8sIHsgSU9JbnRlcmZhY2UgfSBmcm9tIFwiLi9JT1wiO1xuXG5kZWNsYXJlIHZhciBGb250RmFjZU9ic2VydmVyOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRlciBpbXBsZW1lbnRzIElPSW50ZXJmYWNlXG57XG4gICAgcHJvdGVjdGVkIF9hc3NldHNGb2xkZXI6IHN0cmluZyA9IFwiLi9hc3NldHMvXCI7XG5cbiAgICBwcm90ZWN0ZWQgX3NoYXJlZEFzc2V0czogQXNzZXQ8T2JqZWN0PltdID0gW11cblxuICAgIGNvbnN0cnVjdG9yKGFzc2V0c0ZvbGRlcj86IHN0cmluZylcbiAgICB7XG4gICAgICAgIGlmIChhc3NldHNGb2xkZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuX2Fzc2V0c0ZvbGRlciA9IGFzc2V0c0ZvbGRlcjtcbiAgICB9XG5cbiAgICBnZXQgYXNzZXRzRm9sZGVyKCkgeyByZXR1cm4gdGhpcy5fYXNzZXRzRm9sZGVyfVxuXG4gICAgZ2V0U2hhcmVkQXNzZXQoZmlsZW5hbWU6IHN0cmluZyk6IEFzc2V0PGFueT5cbiAgICB7XG4gICAgICAgIGxldCBleGlzdGluZyA9IHRoaXMuX3NoYXJlZEFzc2V0cy5maWx0ZXIoYSA9PiBhLmZpbGVuYW1lID09PSBmaWxlbmFtZSk7XG4gICAgICAgIGlmIChleGlzdGluZy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nWzBdO1xuICAgICAgICBsZXQgYSA9IG5ldyBBc3NldChmaWxlbmFtZSwgbnVsbCwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9zaGFyZWRBc3NldHMucHVzaChhKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgbG9hZEltYWdlKGZpbGVuYW1lOiBzdHJpbmcsIG9uZXJyb3I6IChhc3NldDogQXNzZXQ8SFRNTEltYWdlRWxlbWVudD4pID0+IHZvaWQpOiBBc3NldDxIVE1MSW1hZ2VFbGVtZW50PlxuICAgIHtcbiAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGxldCBhc3NldCA9IG5ldyBBc3NldDxIVE1MSW1hZ2VFbGVtZW50PihmaWxlbmFtZSwgaW1hZ2UsIGZhbHNlKTtcbiAgICAgICAgaW1hZ2Uuc3JjID0gdGhpcy5hc3NldHNGb2xkZXIgKyBmaWxlbmFtZTtcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZS5vbmVycm9yID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgb25lcnJvcihhc3NldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICogTG9hZHMgYSBmb250IGZyb20gZmlsZS5cbiAgICAqIE11bHRpcGxlIGZpbGVuYW1lIGFyZ3VtZW50cyBjYW4gYmUgcHJvdmlkZWQgc28gbG9uZyBhcyB0aGUgbmFtZXMgYXJlIGlkZW50aWNhbFxuICAgICogZXhjZXB0IGZvciBkaWZmZXJpbmcgZmlsZSBleHRlbnNpb25zLiBUaGUgZmlsZSBleHRlbnNpb24gcHJvdmlkZXMgdGhlIGZvcm1hdFxuICAgICogZm9yIGxvYWRpbmcgdGhlIGZvbnQuIFRoZSBmaXJzdCBmaWxldHlwZSBpcyBwcmVmZXJyZWQgZm9yIGxvYWRpbmcsIGJ1dCBpZlxuICAgICogdW5zdXBwb3J0ZWQgb3RoZXIgdmVyc2lvbnMgd2lsbCBiZSBhdHRlbXB0ZWQuXG4gICAgKiBAcGFyYW0geyp9IGxvYWRlciBcbiAgICAqIEBwYXJhbSB7Kn0gZmlsZW5hbWVzIFxuICAgICovXG4gICAgbG9hZEZvbnQoLi4uZmlsZW5hbWVzOiBzdHJpbmdbXSk6IEFzc2V0PHN0cmluZz5cbiAgICB7XG4gICAgICAgIGxldCB0ID0gXCJcIjtcbiAgICAgICAgbGV0IG5hbWU6IHN0cmluZyA9IHVuZGVmaW5lZDtcblxuICAgICAgICBmaWxlbmFtZXMuZm9yRWFjaChmID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZmlsZXBhdGggPSBmLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGxldCBzdHJpbmdDb21wb25lbnRzID0gZmlsZXBhdGhbZmlsZXBhdGgubGVuZ3RoLTFdLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgIGlmIChzdHJpbmdDb21wb25lbnRzLmxlbmd0aCAhPT0gMilcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGb250IG5hbWVzIG11c3QgYmUgc3VwcGxpZWQgaW4gdGhlIGZvcm1hdCBcXFwiPHBhdGgtdG8tZmlsZT4vPG5hbWU+Ljxmb3JtYXQ+XFxcIlwiKTtcbiAgICAgICAgICAgIGxldCBmb250TmFtZSA9IHN0cmluZ0NvbXBvbmVudHNbMF07XG4gICAgICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgICAgICAgICAgbmFtZSA9IGZvbnROYW1lO1xuICAgICAgICAgICAgaWYgKG5hbWUgIT09IGZvbnROYW1lKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkFsbCBmb250IGZvcm1hdCB2YXJpYW50cyBtdXN0IGhhdmUgdGhlIHNhbWUgZmlsZW5hbWUgZXhjbHVkaW5nIGV4dGVuc2lvblwiKTtcbiAgICAgICAgICAgIGxldCBmb3JtYXQgPSBzdHJpbmdDb21wb25lbnRzWzFdO1xuICAgICAgICAgICAgdCArPSBcIlxcbiAgICBzcmM6IHVybCgnXCIgKyB0aGlzLmFzc2V0c0ZvbGRlciArIGYgKyBcIicpIGZvcm1hdCgnXCIrZm9ybWF0K1wiJyk7XCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHQgPSAgXCJAZm9udC1mYWNlIHtcXG5cXFxuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIiArIG5hbWUgKyBcIjtcIiArIHQ7XG4gICAgICAgIHQgKz0gXCJcXG59XCI7XG5cbiAgICAgICAgbGV0IG5ld1N0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgbmV3U3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG5ld1N0eWxlKTtcblxuICAgICAgICBsZXQgbmFtZVBsdXNFeHQgPSBmaWxlbmFtZXNbMF0uc3BsaXQoXCIvXCIpLnBvcCgpO1xuICAgICAgICBsZXQgYXNzZXROYW1lID0gbmFtZVBsdXNFeHQuc3BsaXQoXCIuXCIpWzBdO1xuXG4gICAgICAgIGxldCBmb250ID0gbmV3IEZvbnRGYWNlT2JzZXJ2ZXIobmFtZSk7XG4gICAgICAgIGxldCBhc3NldCA9IG5ldyBBc3NldDxzdHJpbmc+KGFzc2V0TmFtZSwgbmFtZSwgZmFsc2UpO1xuICAgICAgICBmb250LmxvYWQoKS50aGVuKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGFzc2V0LmxvYWRlZCA9IHRydWU7XG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgbG9hZGluZyBmb250XCIpO1xuICAgICAgICAgICAgYXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhc3NldDtcbiAgICB9XG5cbiAgc2V0RXZlbnRzKGlvOiBJTykgeyB9XG5cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBJTywgeyBJT0ludGVyZmFjZSB9IGZyb20gXCIuL0lPXCI7XG5cbmV4cG9ydCBjbGFzcyBNb3VzZVxue1xuXG4gICAgcmVhZG9ubHkgdG91Y2hlczogTWFwPG51bWJlciwgVG91Y2g+ID0gbmV3IE1hcDxudW1iZXIsIFRvdWNoPigpO1xuXG4gICAgcHJvdGVjdGVkIF9pc0Rvd246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBQb2ludCA9IG5ldyBQb2ludCgwLDApO1xuICAgIHByb3RlY3RlZCBfY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCA9IG51bGw7XG4gICAgcHJvdGVjdGVkIF9pc01vdXNlRG93bkV2ZW50OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9pc01vdXNlVXBFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfaXNNb3VzZU1vdmVFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfaGFuZGxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgZ2V0IGlzRG93bigpIHsgcmV0dXJuIHRoaXMuX2lzRG93bjsgfVxuICAgIGdldCBwb3NpdGlvbigpIHsgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uOyB9XG4gICAgZ2V0IGlzTW91c2VEb3duRXZlbnQoKSB7IHJldHVybiB0aGlzLl9pc01vdXNlRG93bkV2ZW50OyB9XG4gICAgZ2V0IGlzTW91c2VVcEV2ZW50KCkgeyByZXR1cm4gdGhpcy5faXNNb3VzZVVwRXZlbnQ7IH1cbiAgICBnZXQgaXNNb3VzZU1vdmVFdmVudCgpIHsgcmV0dXJuIHRoaXMuX2lzTW91c2VNb3ZlRXZlbnQ7IH1cbiAgICBnZXQgaGFuZGxlZCgpIHsgcmV0dXJuIHRoaXMuX2hhbmRsZWQ7IH1cbiAgICBzZXRIYW5kbGVkKHRvdWNoPzogVG91Y2gpXG4gICAgeyBcbiAgICAgIGlmICh0b3VjaClcbiAgICAgICAgdG91Y2guaGFuZGxlZCA9IHRydWU7XG4gICAgICBlbHNlXG4gICAgICAgIHRoaXMuX2hhbmRsZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRvdWNoXG57XG4gICAgcG9zaXRpb246IFBvaW50O1xuICAgIGlzU3RhcnRFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzRW5kRXZlbnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBpc01vdmVFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGhhbmRsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbn1cblxuZXhwb3J0IGNsYXNzIE1vdXNlTGlzdGVuZXIgZXh0ZW5kcyBNb3VzZSBpbXBsZW1lbnRzIElPSW50ZXJmYWNlXG57XG4gIC8vIE5lZWQgdG8gcmUtZGVjbGFyZSBnZXR0ZXJzIGFzIHN1cGVyLWNsYXNzIHZlcnNpb25zIGFyZSBub3QgY2FsbGVkIChmb3Igc29tZSByZWFzb24pXG4gIGdldCBpc0Rvd24oKSB7IHJldHVybiB0aGlzLl9pc0Rvd247IH1cbiAgc2V0IGlzRG93bih2YWwpIHsgdGhpcy5faXNEb3duID0gdmFsOyB9XG4gIGdldCBpc01vdXNlRG93bkV2ZW50KCkgeyByZXR1cm4gdGhpcy5faXNNb3VzZURvd25FdmVudDsgfVxuICBzZXQgaXNNb3VzZURvd25FdmVudCh2YWwpIHsgdGhpcy5faXNNb3VzZURvd25FdmVudCA9IHZhbDsgfVxuICBnZXQgaXNNb3VzZVVwRXZlbnQoKSB7IHJldHVybiB0aGlzLl9pc01vdXNlVXBFdmVudDsgfVxuICBzZXQgaXNNb3VzZVVwRXZlbnQodmFsKSB7IHRoaXMuX2lzTW91c2VVcEV2ZW50ID0gdmFsOyB9XG4gIGdldCBpc01vdXNlTW92ZUV2ZW50KCkgeyByZXR1cm4gdGhpcy5faXNNb3VzZU1vdmVFdmVudDsgfVxuICBzZXQgaXNNb3VzZU1vdmVFdmVudCh2YWwpIHsgdGhpcy5faXNNb3VzZU1vdmVFdmVudCA9IHZhbDsgfVxuXG4gIHNldEV2ZW50cyhpbzogSU8pIHsgaW8ub25VcGRhdGVFbmQucHVzaCh0aGlzLm9uVXBkYXRlRW5kLmJpbmQodGhpcyksIHRoaXMpOyB9XG5cbiAgYWRkVG8oZG9jOiBIVE1MRG9jdW1lbnQsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpXG4gIHtcbiAgICB0aGlzLl9jYW52YXMgPSBjYW52YXM7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd24uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VYWS5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMudG91Y2hTdGFydC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy50b3VjaFhZLmJpbmQodGhpcyksIHRydWUpO1xuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy50b3VjaEVuZC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgZG9jLmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICBkb2MuYm9keS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIiwgdGhpcy50b3VjaEVuZC5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICBvblVwZGF0ZUVuZCgpXG4gIHtcbiAgICB0aGlzLmlzTW91c2VEb3duRXZlbnQgPSBmYWxzZTtcbiAgICB0aGlzLmlzTW91c2VVcEV2ZW50ID0gZmFsc2U7XG4gICAgdGhpcy5pc01vdXNlTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgdGhpcy5faGFuZGxlZCA9IGZhbHNlO1xuICAgIGxldCB0b1JlbW92ZSA9IFtdXG4gICAgdGhpcy50b3VjaGVzLmZvckVhY2goKHRvdWNoLCBrZXkpID0+XG4gICAgICB7XG4gICAgICAgIHRvdWNoLmlzU3RhcnRFdmVudCA9IGZhbHNlO1xuICAgICAgICB0b3VjaC5pc0VuZEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIHRvdWNoLmlzTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgICAgIHRvdWNoLmhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRvdWNoLmlzRW5kRXZlbnQpXG4gICAgICAgICAgdG9SZW1vdmUucHVzaChrZXkpXG4gICAgICB9KTtcbiAgICAgIHRvUmVtb3ZlLmZvckVhY2gociA9PiB0aGlzLnRvdWNoZXMuZGVsZXRlKHIpKTtcbiAgfVxuXG4gIG1vdXNlVXAoZSlcbiAge1xuICAgIHRoaXMuaXNEb3duID0gZmFsc2U7XG4gICAgdGhpcy5pc01vdXNlVXBFdmVudCA9IHRydWU7XG4gICAgdGhpcy5tb3VzZVhZKGUpO1xuICB9XG5cbiAgdG91Y2hFbmQoZSlcbiAge1xuICAgIGZvciAobGV0IGk9MCxsZW49ZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7aTxsZW47aSsrKVxuICAgIHtcbiAgICAgIGxldCB0ID0gdGhpcy50b3VjaGVzLmdldChlLmNoYW5nZWRUb3VjaGVzW2ldLmlkZW50aWZpZXIpO1xuICAgICAgaWYgKHQgPT09IHVuZGVmaW5lZClcbiAgICAgIHtcbiAgICAgICAgdCA9IG5ldyBUb3VjaCgpO1xuICAgICAgICB0aGlzLnRvdWNoZXMuc2V0KGUuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllciwgdCk7XG4gICAgICB9XG4gICAgICB0LmlzRW5kRXZlbnQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIG1vdXNlRG93bihlKVxuICB7XG4gICAgdGhpcy5pc0Rvd24gPSB0cnVlO1xuICAgIHRoaXMuaXNNb3VzZURvd25FdmVudCA9IHRydWU7XG4gICAgdGhpcy5fcG9zaXRpb24gPSBuZXcgUG9pbnQoZS5wYWdlWCAtIHRoaXMuX2NhbnZhcy5vZmZzZXRMZWZ0LFxuICAgICAgZS5wYWdlWSAtIHRoaXMuX2NhbnZhcy5vZmZzZXRUb3ApO1xuICB9XG5cbiAgdG91Y2hTdGFydChlKVxuICB7XG4gICAgZm9yIChsZXQgaT0wLGxlbj1lLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpPGxlbjtpKyspXG4gICAge1xuICAgICAgbGV0IHRvdWNoID0gZS5jaGFuZ2VkVG91Y2hlc1tpXTtcbiAgICAgIGxldCB0ID0gdGhpcy50b3VjaGVzLmdldCh0b3VjaC5pZGVudGlmaWVyKTtcbiAgICAgIGlmICh0ID09PSB1bmRlZmluZWQpXG4gICAgICB7XG4gICAgICAgIHQgPSBuZXcgVG91Y2goKTtcbiAgICAgICAgdGhpcy50b3VjaGVzLnNldCh0b3VjaC5pZGVudGlmaWVyLCB0KTtcbiAgICAgIH1cbiAgICAgIHRvdWNoLmlzRW5kRXZlbnQgPSBmYWxzZTtcbiAgICAgIHRvdWNoLmlzTW92ZUV2ZW50ID0gZmFsc2U7XG4gICAgICB0b3VjaC5oYW5kbGVkID0gZmFsc2U7XG4gICAgICB0LmlzU3RhcnRFdmVudCA9IHRydWU7XG4gICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KGUuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVggLSB0aGlzLl9jYW52YXMub2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVkgLSB0aGlzLl9jYW52YXMub2Zmc2V0VG9wKTtcbiAgICB9XG4gIH1cblxuICBtb3VzZVhZKGUpXG4gIHtcbiAgICB0aGlzLmlzTW91c2VNb3ZlRXZlbnQgPSB0cnVlO1xuICAgIHRoaXMuX3Bvc2l0aW9uID0gbmV3IFBvaW50KGUucGFnZVggLSB0aGlzLl9jYW52YXMub2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnBhZ2VZIC0gdGhpcy5fY2FudmFzLm9mZnNldFRvcCk7XG4gIH1cblxuICB0b3VjaFhZKGUpXG4gIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZm9yIChsZXQgaT0wLGxlbj1lLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpPGxlbjtpKyspXG4gICAge1xuICAgICAgbGV0IHQgPSB0aGlzLnRvdWNoZXMuZ2V0KGUuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcik7XG4gICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKVxuICAgICAge1xuICAgICAgICB0ID0gbmV3IFRvdWNoKCk7XG4gICAgICAgIHRoaXMudG91Y2hlcy5zZXQoZS5jaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyLCB0KTtcbiAgICAgIH1cbiAgICAgIHQuaXNNb3ZlRXZlbnQgPSB0cnVlO1xuICAgICAgdC5wb3NpdGlvbiA9IG5ldyBQb2ludChlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VYIC0gdGhpcy5fY2FudmFzLm9mZnNldExlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VZIC0gdGhpcy5fY2FudmFzLm9mZnNldFRvcCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgSU8sIHsgSU9JbnRlcmZhY2UgfSBmcm9tIFwiLi9JT1wiO1xuZGVjbGFyZSB2YXIgTWFpbkxvb3A6IGFueTtcblxuZXhwb3J0IGNsYXNzIFRpbWluZ1xue1xuICAgIGxvb3BTdGFydCA9IDA7XG4gICAgbG9vcFRpbWUgPSAwO1xuICAgIGJlZ2luU3RhcnQgPSAwO1xuICAgIGJlZ2luVGltZSA9IDA7XG4gICAgdXBkYXRlU3RhcnQgPSAwO1xuICAgIHVwZGF0ZVRpbWUgPSAwO1xuICAgIGRyYXdTdGFydCA9IDA7XG4gICAgZHJhd1RpbWUgPSAwO1xuICAgIGVuZFN0YXJ0ID0gMDtcbiAgICBlbmRUaW1lID0gMDtcbiAgICBzbG93RG93biA9IDA7XG4gICAgZnBzID0gMDtcbiAgICB1cGRhdGVTdGVwcyA9IDA7XG4gICAgbWFpbkxvb3BUaW1lc3RhbXAgPSAwO1xuICAgIGRlbHRhID0gMDtcbiAgICAvKiBEZWx0YSB0aW1lIGluIHNlY29uZHMgKi9cbiAgICBkZWx0YVMgPSAwO1xufVxuXG5leHBvcnQgY2xhc3MgVGltaW5nTGlzdGVuZXIgZXh0ZW5kcyBUaW1pbmcgaW1wbGVtZW50cyBJT0ludGVyZmFjZVxue1xuICAgIHNldEV2ZW50cyhpbzogSU8pXG4gICAge1xuICAgICAgICBpby5vbkJlZ2luU3RhcnQucHVzaCh0aGlzLm9uQmVnaW5TdGFydC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25CZWdpbkVuZC5wdXNoKHRoaXMub25CZWdpbkVuZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25VcGRhdGVTdGFydC5wdXNoKHRoaXMub25VcGRhdGVTdGFydC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25VcGRhdGVFbmQucHVzaCh0aGlzLm9uVXBkYXRlRW5kLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkRyYXdTdGFydC5wdXNoKHRoaXMub25EcmF3U3RhcnQuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGlvLm9uRHJhd0VuZC5wdXNoKHRoaXMub25EcmF3RW5kLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkVuZFN0YXJ0LnB1c2godGhpcy5vbkVuZFN0YXJ0LmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkVuZEVuZC5wdXNoKHRoaXMub25FbmRFbmQuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25CZWdpblN0YXJ0KHRpbWVzdGFtcDogbnVtYmVyLCBkZWx0YTogbnVtYmVyKVxuICAgIHtcbiAgICAgIHRoaXMubWFpbkxvb3BUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICB0aGlzLmxvb3BTdGFydCA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLmJlZ2luU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy51cGRhdGVTdGVwcyA9IE1haW5Mb29wLmdldE51bVVwZGF0ZVN0ZXBzKCk7XG4gICAgICB0aGlzLmRlbHRhID0gZGVsdGE7XG4gICAgICB0aGlzLmRlbHRhUyA9IGRlbHRhLzEwMDA7XG4gICAgfVxuXG4gICAgb25CZWdpbkVuZCgpXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5KChEYXRlLm5vdygpLXRoaXMuYmVnaW5TdGFydCkqdGhpcy5zbG93RG93bik7XG4gICAgICAgIHRoaXMuYmVnaW5UaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMuYmVnaW5TdGFydDtcbiAgICB9XG5cbiAgICBvblVwZGF0ZVN0YXJ0KGRlbHRhOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5kZWx0YSA9IGRlbHRhO1xuICAgICAgICB0aGlzLmRlbHRhUyA9IGRlbHRhLzEwMDA7XG4gICAgfVxuXG4gICAgb25VcGRhdGVFbmQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWxheSgoRGF0ZS5ub3coKS10aGlzLnVwZGF0ZVN0YXJ0KSp0aGlzLnNsb3dEb3duKTtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMudXBkYXRlU3RhcnQ7XG4gICAgfVxuXG4gICAgb25EcmF3U3RhcnQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kcmF3U3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIG9uRHJhd0VuZCgpXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5KChEYXRlLm5vdygpLXRoaXMuZHJhd1N0YXJ0KSp0aGlzLnNsb3dEb3duKTtcbiAgICAgICAgdGhpcy5kcmF3VGltZSA9IERhdGUubm93KCkgLSB0aGlzLmRyYXdTdGFydDtcbiAgICB9XG5cbiAgICBvbkVuZFN0YXJ0KGZwczogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbmRTdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xuICAgIH1cblxuICAgIG9uRW5kRW5kKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGVsYXkoKERhdGUubm93KCktdGhpcy5lbmRTdGFydCkqdGhpcy5zbG93RG93bik7XG4gICAgICAgIHRoaXMuZW5kVGltZSA9IERhdGUubm93KCkgLSB0aGlzLmVuZFN0YXJ0O1xuICAgICAgICB0aGlzLmxvb3BUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMubG9vcFN0YXJ0O1xuICAgIH1cblxuICAgIGRlbGF5KHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aW1lIDw9IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBub3cgPSBzdGFydDtcbiAgICAgICAgd2hpbGUodHJ1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmIChub3cgLSBzdGFydCA+IHRpbWUpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgRXZlbnQgZnJvbSBcIi4uL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IENvbmRpdGlvbmFsRGltZW5zaW9uIGZyb20gXCIuL2RpbWVuc2lvbi9Db25kaXRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi4vVHJhbnNmb3JtXCI7XG5cbi8qKlxuICogQSBCb3VuZHMgaXMgYSBzaXplIG9yIGV4dGVuc2lvbiBpbiBnYW1lIHNwYWNlLCB1c3VhbGx5IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnRpY3VsYXIgXG4gKiBHYW1lT2JqZWN0LiBJdCBpcyBtYWRlIG9mIHRoZSBjb21iaW5hdGlvbiAgb2YgemVybyBvciBtb3JlIERpbWVuc2lvbnMsIHdoaWNoIGFyZSBhZGRlZCBcbiAqIHRvZ2V0aGVyIHRvIHJlc3VsdCBpbiB0aGUgZmluYWwgc2l6ZS4gSWYgYSBCb3VuZHMgaGFzIG5vIGRpbWVuc2lvbnMsIGl0IGhhcyBhIHNpemUgb2YgKDAsMCkuXG4gKiBGb3IgYSBHYW1lT2JqZWN0IHRvIGhhdmUgbm8gc2l6ZSAocmF0aGVyIHRoYW4gYSBzaXplIG9mIDApIGl0IHNob3VsZCBub3QgaGF2ZSBhIGJvdW5kcyAoaWUuXG4gKiBpdHMgYm91bmRzIHNob3VsZCBiZSBudWxsKS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm91bmRzXG57XG4gICAgcHJvdGVjdGVkIF9kaW1lbnNpb25zOiBEaW1lbnNpb25bXSA9IFtdO1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlV2lkdGg6IG51bWJlciA9IHVuZGVmaW5lZDtcbiAgICBwcm90ZWN0ZWQgX3RhcmdldEFzcGVjdFJhdGlvOiBudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgcHJvdGVjdGVkIF9taW5EaW1lbnNpb246IERpbWVuc2lvbiA9IHVuZGVmaW5lZDtcbiAgICBwcm90ZWN0ZWQgX21heERpbWVuc2lvbjogRGltZW5zaW9uID0gdW5kZWZpbmVkO1xuICAgIHByb3RlY3RlZCBfdHJhbnNmb3JtOiBUcmFuc2Zvcm0gPSBudWxsO1xuICAgIHByb3RlY3RlZCBfY2FjaGVkRGltZW5zaW9uOiBEaW1lbnNpb24gPSAgbmV3IERpbWVuc2lvbigwLDApOztcbiAgICBwcm90ZWN0ZWQgX29uUmVzaXplOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByb3RlY3RlZCBfZGlydHk6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY2FsY3VsYXRpbmcgPSBmYWxzZTtcbiAgICBjYWxjdWxhdGlvbkZhaWxlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoLi4uZGltZW5zaW9uczogRGltZW5zaW9uW10pXG4gICAge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0gZGltZW5zaW9ucztcbiAgICB9XG5cbiAgICBnZXQgdHJhbnNmb3JtKCk6IFRyYW5zZm9ybSB7IHJldHVybiB0aGlzLl90cmFuc2Zvcm07IH1cbiAgICBzZXQgdHJhbnNmb3JtKHZhbDogVHJhbnNmb3JtKSB7IHRoaXMuX3RyYW5zZm9ybSA9IHZhbDsgfVxuXG4gICAgZ2V0IGRpcnR5KCkgeyByZXR1cm4gdGhpcy5fZGlydHk7IH1cbiAgICBzZXQgZGlydHkodmFsKSB7IHRoaXMuX2RpcnR5ID0gdmFsOyB9XG5cbiAgICBnZXQgY2FjaGVkRGltZW5zaW9uKCkgeyByZXR1cm4gdGhpcy5fY2FjaGVkRGltZW5zaW9uOyB9XG4gICAgc2V0IGNhY2hlZERpbWVuc2lvbih2YWwpIHsgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gdmFsO31cblxuICAgIC8qKlxuICAgICAqIEFuIGV2ZW50IHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGJvdW5kcyBjaGFuZ2VzIHNpemUuXG4gICAgICovXG4gICAgZ2V0IG9uUmVzaXplKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uUmVzaXplOyB9XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBwaHlzaWNhbCBwaXhlbHMgb24gdGhlIGRldmljZSBmb3IgZXZlcnkgc3RhbmRhcmQgcGl4ZWwuIFVzZWQgZm9yXG4gICAgICogY29udmVydGluZyBiZXR3ZWVuIHVuaXRzIGluIFBoeXNpY2FsUGl4ZWxzIGFuZCBQaXhlbHMuIEN1cnJlbnRseSBkaXJlY3RseSBtYWtlc1xuICAgICAqIGVuZ2luZS1leHRlcm5hbCBjYWxsIGluIG9yZGVyIHRvIHJlc3BvbmQgZHluYW1pY2FsbHkgdG8gY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgZGV2aWNlUGl4ZWxSYXRpbygpOiBudW1iZXIgeyByZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW87IH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJvdW5kcyBvbiB0aGUgcGFyZW50IHRvIHRoZSBhc3NvY2lhdGVkIEdhbWVPYmplY3QuIChpZS4gdGhlIEJvdW5kc1xuICAgICAqIHNjb3Bpbmcgb25lIGxldmUgaGlnaGllciBpbiB0aGUgR2FtZU9iamVjdCB0cmVlKVxuICAgICAqL1xuICAgIGdldCBwYXJlbnRCb3VuZHMoKTogQm91bmRzXG4gICAge1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wYXJlbnQuYm91bmRzO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXNwZWN0IHJhdGlvIHRoYXQgdGhlIHNpemUgb2YgdGhlIGJvdW5kcyB3aWxsIGZpdCB0by4gRGlzYWJsZWQgaWYgdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIGdldCB0YXJnZXRBc3BlY3RSYXRpbygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fdGFyZ2V0QXNwZWN0UmF0aW87IH1cblxuICAgIC8qKlxuICAgICogU2V0cyB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBCb3VuZHMgdG8gdGhlIGdpdmVuIHZhbHVlLiBUaGUgc2l6ZSBvZiB0aGUgQm91bmRzXG4gICAgKiBpcyBmb3JjZWQgdG8gb2JleSB0aGUgYXNwZWN0IHJhdGlvLCBpZiBzZXQuIFNldCB0byB1bmRlZmluZWQgdG8gZGlzYWJsZS5cbiAgICAqIEBwYXJhbSBhc3BlY3RSYXRpbyBhbiBhc3BlY3QgcmF0aW8gZXhwcmVzc2VkIGFzIGEgZGVjaW1hbCBudW1iZXIgKGhlaWdodC93aWR0aClcbiAgICAqL1xuICAgIHNldCB0YXJnZXRBc3BlY3RSYXRpbyhhc3BlY3RSYXRpbzogbnVtYmVyKSB7IHRoaXMuX3RhcmdldEFzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW87IH1cblxuICAgIGdldCBtYXhEaW1lbnNpb24oKTogRGltZW5zaW9uIHsgcmV0dXJuIHRoaXMuX21heERpbWVuc2lvbjsgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkaW1lbnNpb24gKHdpZHRoIGFuZCBoZWlnaHQpIHRoYXQgdGhlIGJvdW5kcyBpcyBmb3JjZWQgbm90IHRvIGV4Y2VlZCxcbiAgICAgKiByZWdhcmRsZXNzIG9mIHRoZSBkaW1lbnNpb25zIGl0IGNvbnRhaW5zLlxuICAgICAqL1xuICAgIHNldCBtYXhEaW1lbnNpb24odmFsOiBEaW1lbnNpb24pIHsgdGhpcy5fbWF4RGltZW5zaW9uID0gdmFsOyB9XG4gICAgZ2V0IG1pbkRpbWVuc2lvbigpOiBEaW1lbnNpb24geyByZXR1cm4gdGhpcy5fbWluRGltZW5zaW9uOyB9XG4gICAgLyoqXG4gICAgICogVGhlIGRpbWVuc2lvbiAod2lkdGggYW5kIGhlaWdodCkgdGhhdCB0aGUgYm91bmRzIGlzIG11c3QgYWx3YXlzIGJlIGF0IGxlYXN0XG4gICAgICogYXMgYmlnIGFzLCByZWdhcmRsZXNzIG9mIHRoZSBkaW1lbnNpb25zIGl0IGNvbnRhaW5zLlxuICAgICAqL1xuICAgIHNldCBtaW5EaW1lbnNpb24odmFsOiBEaW1lbnNpb24pIHsgdGhpcy5fbWluRGltZW5zaW9uID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBkaW1lbnNpb24gdG8gdGhlIEJvdW5kcy4gQXV0b21hdGljYWxseSBjaGVja3Mgd2hldGhlciB0aGUgc2l6ZSBoYXMgY2hhbmdlZCxcbiAgICAgKiBhbmQgaWYgc28gY2xlYXJzIGNhY2hlZCBzaXplIHZhbHVlIGFuZCBjYWxscyBvblJlc2l6ZSBldmVudC5cbiAgICAgKiBAcGFyYW0gZGltIHRoZSBkaW1lbnNpb24gdG8gYWRkIFxuICAgICAqL1xuICAgIGFkZERpbWVuc2lvbjxUIGV4dGVuZHMgRGltZW5zaW9uPihkaW06IFQpOiBUXG4gICAge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zLnB1c2goZGltKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmdhbWVPYmplY3QuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmVzaXplZCgpKVxuICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGRpbWVuc2lvbnMgZnJvbSB0aGUgYm91bmRzLCByZXNldHRpbmcgdGhlIHNpemUgdG8gKDAsMCkuIENsZWFycyBjYWNoZWRcbiAgICAgKiBzaXplIHZhbHVlIGlmIHRoZSBzaXplIGhhcyBjaGFuZ2VkIGFuZCBjYWxscyBvblJlc2l6ZSBldmVudC5cbiAgICAgKi9cbiAgICBjbGVhckRpbWVuc2lvbnMoKTogdm9pZFxuICAgIHsgXG4gICAgICAgIHRoaXMuX2RpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVzaXplZCgpKVxuICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGFsbCBkaW1lbnNpb25zIHRoYXQgYXJlIGNvbWJpbmVkIGluIHRoaXMgQm91bmRzLlxuICAgICAqL1xuICAgIGdldCBkaW1lbnNpb25zKCk6IERpbWVuc2lvbltdIHsgcmV0dXJuIHRoaXMuX2RpbWVuc2lvbnM7IH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEJvdW5kcyBzaXplIGFzIGEgc2luZ2xlIGRpbWVuc2lvbi4gSWYgdGhlIHNpemUgaGFzIG5vdCBjaGFuZ2VkLCBhIGNhY2hlZCB2ZXJzaW9uXG4gICAgICogaXMgcmV0dXJuZWQuIE90aGVyd2lzZSwgdGhlIHNpemUgaXMgY2FsY3VhbHRlZCBmcm9tIHRoZSBjb21iaW5hdGlvbiBvZiB0aGUgZGltZW5zaW9ucyBpbiB0aGVcbiAgICAgKiBCb3VuZHMuXG4gICAgICovXG4gICAgZ2V0IGRpbWVuc2lvbigpOiBEaW1lbnNpb25cbiAgICB7XG4gICAgICAgIGlmICghKHRoaXMuZGlydHkpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZERpbWVuc2lvbjtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0aW9uRmFpbGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB0bXAgPSB0aGlzLl9jYWxjdWxhdGVEaW1lbnNpb24oKTtcbiAgICAgICAvKiBpZiAoIURpbWVuc2lvbi5lcXVhbHModG1wLCB0aGlzLl9jYWNoZWREaW1lbnNpb24pKSAgLy8gSWYgaXQgaGFzIGNoYW5nZWQsIGl0IG1pZ2h0IGNoYW5nZSBhZ2Fpbi5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UqL1xuICAgICAgICB0aGlzLmRpcnR5ID0gdGhpcy5jYWxjdWxhdGlvbkZhaWxlZDtcbiAgICAgICAgaWYgKHRoaXMuY2FsY3VsYXRpb25GYWlsZWQpXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbmluZ0lzRGlydHkoKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gdG1wO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkRGltZW5zaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogVGhlIHJlZmVyZW5jZSB3aWR0aCBzcGVjaWZpZWQgZWl0aGVyIG9uIHRoaXMgQm91bmRzIG9yIG9uIHRoZSBuZWFyZXN0XG4gICAgKiBwYXJlbnQgQm91bmRzIHdpdGggYSBzcGVjaWZpZWQgcmVmZXJlbmNlIHdpZHRoLlxuICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZVdpZHRoKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZVdpZHRoICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVmZXJlbmNlV2lkdGg7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudEJvdW5kcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudEJvdW5kcy5yZWZlcmVuY2VXaWR0aDtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gYSByZWZlcmVuY2Ugd2lkdGggdG8gdGhpcyBCb3VuZHMgdG8gc2NvcGUgb3ZlciBjaGlsZCBUcmFuc2xhdGlvbnMgb3IgRGltZW5zaW9uc1xuICAgICAqIHNwZWNpZmllZCBpbiByZWZlcmVuY2UgdW5pdHMuIFRvIHVuc2V0IGEgcmVmZXJlbmNlIHdpZHRoLCB0aGlzIHZhbHVlIHNob3VsZCBiZSBcbiAgICAgKiB1bmRlZmluZWQuXG4gICAgICovXG4gICAgc2V0IHJlZmVyZW5jZVdpZHRoKHJlZmVyZW5jZVdpZHRoOiBudW1iZXIpIHsgdGhpcy5fcmVmZXJlbmNlV2lkdGggPSByZWZlcmVuY2VXaWR0aDt9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoaXMgYm91bmRzIHNwZWNpZmllZCBpbiByZWZlcmVuY2UgdW5pdHMgcmVsYXRpdmUgZWl0aGVyIHRvXG4gICAgICogdGhlIHJlZmVyZW5jZSB3aWR0aCBvbiB0aGlzIEJvdW5kcyBvciBvbiB0aGUgc2NvcGluZyBCb3VuZHMuXG4gICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZUhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VXaWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlV2lkdGgqdGhpcy5kaW1lbnNpb24uYXNwZWN0O1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRCb3VuZHMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRCb3VuZHMucmVmZXJlbmNlSGVpZ2h0O1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBwaXhlbHMgcGVyIHVuaXQgb2YgdGhlIHNjb3BpbmcgcmVmZXJlbmNlIHdpZHRoLlxuICAgICAqL1xuICAgIGdldCByZWZlcmVuY2VTY2FsZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VXaWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpL3RoaXMuX3JlZmVyZW5jZVdpZHRoO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRCb3VuZHMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRCb3VuZHMucmVmZXJlbmNlU2NhbGU7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBDYWxscyBkZXN0cm95IG9uIGFsbCBjb250YWluZWQgZGltZW5zaW9ucywgYW5kIHVubGlua3MgZXZlbnRzLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucy5mb3JFYWNoKGQgPT4gZC5kZXN0cm95KCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2xpbWl0RGltZW5zaW9uKGRpbWVuc2lvbjogRGltZW5zaW9uKTogRGltZW5zaW9uXG4gICAge1xuICAgICAgICBsZXQgbldpZHRoID0gZGltZW5zaW9uLndpZHRoO1xuICAgICAgICBsZXQgbkhlaWdodCA9IGRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIGlmICh0aGlzLm1pbkRpbWVuc2lvbilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMubWluRGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpKVxuICAgICAgICAgICAgICAgIG5XaWR0aCA9IE1hdGgubWF4KG5XaWR0aCwgdGhpcy5taW5EaW1lbnNpb24ucGl4ZWxXaWR0aCh0aGlzLnBhcmVudEJvdW5kcykpO1xuICAgICAgICAgICAgaWYgKHRoaXMubWluRGltZW5zaW9uLnBpeGVsSGVpZ2h0KHRoaXMucGFyZW50Qm91bmRzKSlcbiAgICAgICAgICAgICAgICBuSGVpZ2h0ID0gTWF0aC5tYXgobkhlaWdodCwgdGhpcy5taW5EaW1lbnNpb24ucGl4ZWxIZWlnaHQodGhpcy5wYXJlbnRCb3VuZHMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhEaW1lbnNpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heERpbWVuc2lvbi5waXhlbFdpZHRoKHRoaXMucGFyZW50Qm91bmRzKSlcbiAgICAgICAgICAgICAgICBuV2lkdGggPSBNYXRoLm1pbihuV2lkdGgsIHRoaXMubWF4RGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heERpbWVuc2lvbi5waXhlbEhlaWdodCh0aGlzLnBhcmVudEJvdW5kcykpXG4gICAgICAgICAgICAgICAgbkhlaWdodCA9IE1hdGgubWluKG5IZWlnaHQsIHRoaXMubWF4RGltZW5zaW9uLnBpeGVsSGVpZ2h0KHRoaXMucGFyZW50Qm91bmRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0QXNwZWN0UmF0aW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuSGVpZ2h0IDwgbldpZHRoKnRoaXMudGFyZ2V0QXNwZWN0UmF0aW8pXG4gICAgICAgICAgICAgICAgbldpZHRoID0gbkhlaWdodCooMS90aGlzLnRhcmdldEFzcGVjdFJhdGlvKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBuSGVpZ2h0ID0gbldpZHRoKnRoaXMudGFyZ2V0QXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEaW1lbnNpb24obldpZHRoLCBuSGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxjdWxhdGVEaW1lbnNpb24oKTogRGltZW5zaW9uXG4gICAge1xuICAgICAgICB0aGlzLmNhbGN1bGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGxldCBkaW0gPSBudWxsO1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zLmZvckVhY2goZCA9PiBcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpbSA9IGQuYXNTaW1wbGVQaXhlbERpbWVuc2lvbih0aGlzLnBhcmVudEJvdW5kcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoZGltLndpZHRoID09PSB1bmRlZmluZWQpIHx8IChkaW0uaGVpZ2h0ID09PSB1bmRlZmluZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGlvbkZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZGltLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGRpbS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2xpbWl0RGltZW5zaW9uKG5ldyBEaW1lbnNpb24od2lkdGgsIGhlaWdodCkpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaGFzUmVzaXplZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5fY2FsY3VsYXRlRGltZW5zaW9uKCk7XG4gICAgICAgIHJldHVybiAoIURpbWVuc2lvbi5lcXVhbHMoZGltLCB0aGlzLl9jYWNoZWREaW1lbnNpb24pKTtcbiAgICB9XG5cbiAgICBoYXNSZXNpemVkQXV0b1VwZGF0ZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5fY2FsY3VsYXRlRGltZW5zaW9uKCk7XG4gICAgICAgIGxldCByID0gKCFEaW1lbnNpb24uZXF1YWxzKGRpbSwgdGhpcy5fY2FjaGVkRGltZW5zaW9uKSk7XG4gICAgICAgIGlmIChyKVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gZGltO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vbkNoYW5nZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgICAgICBFdmVudC5jYWxsKHRoaXMub25SZXNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tGb3JVcGRhdGVkRGltZW5zaW9ucygpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgdXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZDogRGltZW5zaW9uO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLl9kaW1lbnNpb25zLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGQgPSB0aGlzLl9kaW1lbnNpb25zW2ldO1xuICAgICAgICAgICAgaWYgKGQudXBkYXRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkIGluc3RhbmNlb2YgQ29uZGl0aW9uYWxEaW1lbnNpb24pXG4gICAgICAgICAgICAgICAgaWYgKCEoZC5wcmV2aW91c0RpbWVuc2lvbikgfHwgIShEaW1lbnNpb24uZXF1YWxzKGQuZGltZW5zaW9uRG9udFVwZGF0ZVByZXZpb3VzKHRoaXMudHJhbnNmb3JtLmJvdW5kcyksIGQucHJldmlvdXNEaW1lbnNpb24pKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMuZm9yRWFjaChkID0+IGQudXBkYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tIFwiLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL3RyYW5zbGF0aW9uL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi90cmFuc2xhdGlvbi9Db25kaXRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi9UcmFuc2Zvcm1cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IEFkamFjZW50VHJhbnNsYXRpb24gZnJvbSBcIi4vdHJhbnNsYXRpb24vQWRqYWNlbnRUcmFuc2xhdGlvblwiO1xuXG4vKlxuKiBBIFBvc2l0aW9uIGlzIGEgbG9jYXRpb24gaW4gZ2FtZSBzcGFjZSB0aGF0IGlzIHVzdWFsbHkgYXNzb2NpYXRlZCB3aXRoIGEgcGFydGljdWxhciBHYW1lT2JqZWN0LlxuKiBJdCBpcyBkZWZpbmVkIGJ5IHRoZSBjb21iaW5hdGlvbiBvZiBhIHNldCBvZiBUcmFuc2xhdGlvbnMgd2hpY2ggYXJlIGFkZGVkIHRvZ2V0aGVyLiBJdCBzdXBwbGllc1xuKiB0d28gbWV0aG9kcyBmb3IgZ2V0dGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdCBhYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpIGFuZCBkcmF3UG9zaXRpb25Ub3BMZWZ0KCksXG4qIHRoZSBmaXJzdCBmb3IgdGhlIFwicmVhbFwiIHBvc2l0aW9uLCBhbmQgdGhlIHNlY29uZCByZWxhdGl2ZSB0byB0aGUgY2xvc2VzdCBzY29waW5nIERyYXdCdWZmZXIgKGllLlxuKiB3aGVyZSB0aGUgYXNzb2NpYXRlZCBnYW1lIG9iamVjdCBzaG91bGQgYmUgZHJhd24pLiBGb3IgYSBHYW1lT2JqZWN0IHRvIGhhdmUgbm8gcG9zaXRpb24gKGluc3RlYWRcbiogb2YgYSBwb3NpdGlvbiAoMCwwKSwgaXRzIFBvc2l0aW9uIHNob3VsZCBiZSBudWxsKS5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3NpdGlvblxue1xuICAgIHByaXZhdGUgX3RyYW5zbGF0aW9uczogVHJhbnNsYXRpb25bXTtcbiAgICBwcml2YXRlIF90cmFuc2Zvcm06IFRyYW5zZm9ybSA9IG51bGw7XG4gICAgcHJpdmF0ZSBfcmVzZXREcmF3UG9zOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfY2FjaGVkQWJzb2x1dGVQb3NpdGlvbjogUG9pbnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBwcml2YXRlIF9jYWNoZWREcmF3UG9zaXRpb246IFBvaW50ID0gbmV3IFBvaW50KDAsMCk7XG4gICAgcHJpdmF0ZSBfZHJhd0NhY2hlRGlydHk6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2Fic29sdXRlQ2FjaGVEaXJ0eTogYm9vbGVhbiA9IHRydWU7XG4gICAvLyBwcml2YXRlIF9vbk1vdmU6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgICBjb25zdHJ1Y3RvciguLi5UcmFuc2xhdGlvbnM6IFRyYW5zbGF0aW9uW10pXG4gICAge1xuICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMgPSBUcmFuc2xhdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0IHRyYW5zZm9ybSgpOiBUcmFuc2Zvcm0geyByZXR1cm4gdGhpcy5fdHJhbnNmb3JtOyB9XG4gICAgc2V0IHRyYW5zZm9ybSh2YWwpIHsgdGhpcy5fdHJhbnNmb3JtID0gdmFsOyB9XG5cbiAgICBnZXQgcmVzZXREcmF3UG9zKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fcmVzZXREcmF3UG9zOyB9XG4gICAgc2V0IHJlc2V0RHJhd1Bvcyh2YWwpIHsgdGhpcy5fcmVzZXREcmF3UG9zID0gdmFsOyB9XG5cbiAgICBnZXQgZHJhd0NhY2hlRGlydHkoKSB7IHJldHVybiB0aGlzLl9kcmF3Q2FjaGVEaXJ0eTsgfVxuICAgIHNldCBkcmF3Q2FjaGVEaXJ0eSh2YWwpIHsgdGhpcy5fZHJhd0NhY2hlRGlydHkgPSB2YWw7IH1cbiAgICBcbiAgICBnZXQgYWJzb2x1dGVDYWNoZURpcnR5KCkgeyByZXR1cm4gdGhpcy5fYWJzb2x1dGVDYWNoZURpcnR5OyB9XG4gICAgc2V0IGFic29sdXRlQ2FjaGVEaXJ0eSh2YWwpIHsgdGhpcy5fYWJzb2x1dGVDYWNoZURpcnR5ID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBUcmFuc2xhdGlvbnMgdGhhdCB0aGlzIFBvc2l0aW9uIGlzIHRoZSBjb21iaW5hdGlvbiBvZi5cbiAgICAgKi9cbiAgICBnZXQgdHJhbnNsYXRpb25zKCk6IFRyYW5zbGF0aW9uW10gIHsgcmV0dXJuIHRoaXMuX3RyYW5zbGF0aW9uczsgfVxuXG4gICAgLyoqXG4gICAgICogQW4gZXZlbnQgdGhhdCBpcyBjYWxsZWQgd2hlbmV2ZXIgdGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoaXMgUG9zaXRpb24gY2hhbmdlcy4gXG4gICAgICovXG4gICAvLyBnZXQgb25Nb3ZlKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uTW92ZTsgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgVHJhbnNsYXRpb24gdG8gdGhpcyBwb3NpdGlvbiAoaWUuIG1vdmUgdGhpcyBwb3NpdGlvbiBieSB0aGUgc3VwcGxpZWQgdHJhbmZvcm0pXG4gICAgICogQHBhcmFtIFRyYW5zbGF0aW9uIHRoZSBUcmFuc2xhdGlvbiB0byBhZGQgdG8gdGhlIHBvc2l0aW9uXG4gICAgICovXG4gICAgYWRkVHJhbnNsYXRpb24oLi4udHJhbnNsYXRpb25zOiBUcmFuc2xhdGlvbltdKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9ucy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgdHJhbnNsYXRpb25zLmZvckVhY2godCA9PiB0aGlzLmFkZFRyYW5zbGF0aW9uKHQpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbnNbMF07XG4gICAgICAgICAgICBsZXQgZm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5wcmVzZXJ2ZSlcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaCh0ID0+IFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXQucHJlc2VydmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0LmNvbnN0cnVjdG9yID09PSB0cmFuc2xhdGlvbi5jb25zdHJ1Y3RvcikgJiYgKFBvaW50LmVxdWFscyh0LmFuY2hvciwgdHJhbnNsYXRpb24uYW5jaG9yKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmIxID0gKHQgYXMgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24pLnJlZmVyZW5jZUJvdW5kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYjIgPSAodHJhbnNsYXRpb24gYXMgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24pLnJlZmVyZW5jZUJvdW5kc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJiMSA9PT0gcmIyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KHQucG9zaXRpb24ueCArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLngsIHQucG9zaXRpb24ueSArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCh0IGluc3RhbmNlb2YgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbikgfHwgKHQgaW5zdGFuY2VvZiBBZGphY2VudFRyYW5zbGF0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KHQucG9zaXRpb24ueCArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLngsIHQucG9zaXRpb24ueSArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKCFmb3VuZClcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMucHVzaCh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0uZ2FtZU9iamVjdC5jcmVhdGVkKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc01vdmVkKCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIFRyYW5zbGF0aW9ucyBmcm9tIHRoaXMgcG9zaXRpb24uIFRoZSBwb3NpdGlvbiByZXZlcnRzIGJhY2sgdG8gdGhlIG9yaWdpbiAoMCwwKVxuICAgICAqIGJlY2F1c2UgaXQgaGFzIG5vIFRyYW5zbGF0aW9ucy4gQXV0b21hdGljYWxseSBjbGVhcnMgY2FjaGVkIHBvc2l0aW9uIGlmIHRoZSBvYmplY3QgbW92ZXNcbiAgICAgKiBhcyBhIHJlc3VsdCwgYW5kIHVwZGF0ZXMgdGhlIGFzc29pYXRlZCBHYW1lT2JqZWN0LlxuICAgICAqL1xuICAgIGNsZWFyVHJhbnNsYXRpb25zKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX3RyYW5zbGF0aW9ucyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5oYXNNb3ZlZCgpKVxuICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBvaW50IGluIGdhbWUgc3BhY2Ugb2YgdGhlIHRvcC1sZWZ0IHBvaW50IG9mIHRoZSBhc3NvY2lhdGVkIGdhbWUgb2JqZWN0LlxuICAgICAqL1xuICAgIGFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAoISh0aGlzLmFic29sdXRlQ2FjaGVEaXJ0eSkpXG4gICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb247XG4gICAgICAgIFxuICAgICAgICBsZXQgdG1wID0gdGhpcy5fY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgIGlmICghUG9pbnQuZXF1YWxzKHRtcCwgdGhpcy5fY2FjaGVkQWJzb2x1dGVQb3NpdGlvbikpICAgLy8gSWYgaXQgaGFzIGNoYW5nZWQsIGl0IG1pZ2h0IGNoYW5nZSBhZ2Fpbi5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24gPSB0bXA7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRBYnNvbHV0ZVBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcG9pbnQgb2YgdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgYXNzb2NpYXRlZCBnYW1lIG9iamVjdCByZWxhdGl2ZSB0byB0aGVcbiAgICAgKiBjbG9zZXN0IHNjb3BpbmcgRHJhd0J1ZmZlci4gVGhpcyBpcyB0aGUgcG9pbnQgYXQgd2hpY2ggdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgXG4gICAgICogb2JqZWN0IHNob3VsZCBiZSBkcmF3biB0byB0aGUgRHJhd0J1ZmZlci5cbiAgICAgKi9cbiAgICBkcmF3UG9zaXRpb25Ub3BMZWZ0KCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVzZXREcmF3UG9zKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCgwLDApO1xuXG4gICAgICAgIGlmICghKHRoaXMuX2RyYXdDYWNoZURpcnR5KSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWREcmF3UG9zaXRpb247XG4gICAgICAgIFxuICAgICAgICBsZXQgdG1wID0gdGhpcy5fY2FsY3VsYXRlRHJhd1Bvc2l0aW9uKCk7XG4gICAgICAgIGlmICghUG9pbnQuZXF1YWxzKHRtcCwgdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uKSkgICAvLyBJZiBpdCBoYXMgY2hhbmdlZCwgaXQgbWlnaHQgY2hhbmdlIGFnYWluLlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb25pbmdJc0RpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fZHJhd0NhY2hlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uID0gdG1wO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYWxsIFRyYW5zbGF0aW9ucyBhbmQgcmVtb3ZlIGFsbCBldmVudCBjYWxsYmFja3MuIFxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAvLyB0aGlzLm9uTW92ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRpb25zLmZvckVhY2godCA9PiB0LmRlc3Ryb3koKSk7XG4gICAgfVxuXG4gICAgY2hlY2tGb3JVcGRhdGVkVHJhbnNsYXRpb25zKClcbiAgICB7XG4gICAgICAgIGxldCB1cGRhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB0OiBUcmFuc2xhdGlvbjtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5fdHJhbnNsYXRpb25zLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHQgPSB0aGlzLl90cmFuc2xhdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAodC51cGRhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBDb25kaXRpb25hbFRyYW5zbGF0aW9uKVxuICAgICAgICAgICAgICAgIGlmICgoISh0LnByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbikpIHx8ICghKFBvaW50LmVxdWFscyh0LmFic29sdXRlUG9zaXRpb25Eb250VXBkYXRlUHJldmlvdXModGhpcy50cmFuc2Zvcm0uYm91bmRzKSx0LnByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbikpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaChkID0+IGQudXBkYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBwb3NpdGlvbigpIHsgcmV0dXJuIHRoaXMuYWJzb2x1dGVQb3NpdGlvblRvcExlZnQoKTsgfVxuICAgIGdldCBkcmF3UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLmRyYXdQb3NpdGlvblRvcExlZnQoKTsgfVxuXG4gICAgaGFzTW92ZWQoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiAoIVBvaW50LmVxdWFscyggdGhpcy5fY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCksIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24pKTtcbiAgICB9XG5cbiAgICBoYXNNb3ZlZEF1dG9VcGRhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGxldCBvbGRDYWNoZSA9IG5ldyBQb2ludCh0aGlzLl9jYWNoZWRBYnNvbHV0ZVBvc2l0aW9uLngsIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24ueSk7XG4gICAgICAgIHJldHVybiAoIVBvaW50LmVxdWFscyggdGhpcy5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpLCBvbGRDYWNoZSkpO1xuICAgIH1cblxuICAgIGhhc01vdmVkRHJhd0F1dG9VcGRhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhd0NhY2hlRGlydHkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IG9sZENhY2hlID0gbmV3IFBvaW50KHRoaXMuX2NhY2hlZERyYXdQb3NpdGlvbi54LHRoaXMuX2NhY2hlZERyYXdQb3NpdGlvbi55KTtcbiAgICAgICAgcmV0dXJuICghUG9pbnQuZXF1YWxzKHRoaXMuZHJhd1Bvc2l0aW9uVG9wTGVmdCgpLCBvbGRDYWNoZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX29uQ2hhbmdlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgIC8vICAgRXZlbnQuY2FsbCh0aGlzLm9uTW92ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgdG1wUG9zOiBQb2ludDtcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IDA7XG4gICAgICAgIGxldCB5OiBudW1iZXIgPSAwO1xuICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaCh0ID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9zID0gdC5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCh0aGlzLnRyYW5zZm9ybS5ib3VuZHMpXG4gICAgICAgICAgICAgICAgICAgIHggKz0gdG1wUG9zLng7XG4gICAgICAgICAgICAgICAgICAgIHkgKz0gdG1wUG9zLnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudClcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50Lmhhc1Bvc2l0aW9uKCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb3MgPSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgeCs9IHRtcFBvcy54O1xuICAgICAgICAgICAgICAgICAgICB5Kz0gdG1wUG9zLnk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxjdWxhdGVEcmF3UG9zaXRpb24oKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZXNldERyYXdQb3MpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KDAsMCk7XG5cbiAgICAgICAgbGV0IHRtcFBvczogUG9pbnQ7XG4gICAgICAgIGxldCB4OiBudW1iZXIgPSAwO1xuICAgICAgICBsZXQgeTogbnVtYmVyID0gMDtcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRpb25zLmZvckVhY2godCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRtcFBvcyA9IHQuYWJzb2x1dGVQb3NpdGlvblRvcExlZnQodGhpcy50cmFuc2Zvcm0uYm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB4ICs9IHRtcFBvcy54O1xuICAgICAgICAgICAgICAgICAgICB5ICs9IHRtcFBvcy55O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5oYXNQb3NpdGlvbigpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9zID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50LmdldERyYXdQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB4Kz0gdG1wUG9zLng7XG4gICAgICAgICAgICAgICAgICAgIHkrPSB0bXBQb3MueTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LHkpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLy4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSBkaW1lbnNpb24gdGhhdCBpcyBjYWxjdWxhdGVkIGFzIGEgZnVuY3Rpb24gb2YgaXRzIHBhcmVudCBkaW1lbnNpb24gdGhhdCBpcyBzdXBwbGllZFxuKiB3aGVuIGl0IGlzIGNvbnN0cnVjdGVkLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmRpdGlvbmFsRGltZW5zaW9uIGV4dGVuZHMgRGltZW5zaW9uXG57XG4gICAgcHJvdGVjdGVkIF9jb25kaXRpb25hbEZ1bmN0aW9uOiAoZGltZW5zaW9uOiBEaW1lbnNpb24pID0+IERpbWVuc2lvbjtcbiAgICBwcm90ZWN0ZWQgX3ByZXZpb3VzRGltZW5zaW9uOiBEaW1lbnNpb247XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uYWxGdW5jdGlvbiBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHBhcmVudCBkaW1lbnNpb24gYW5kIHJldHVybnMgYSBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb25hbEZ1bmN0aW9uOiAoZGltZW5zaW9uOiBEaW1lbnNpb24pID0+IERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIHN1cGVyKDAsMCk7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24gPSBjb25kaXRpb25hbEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGdldCBwcmV2aW91c0RpbWVuc2lvbigpIHsgcmV0dXJuIHRoaXMuX3ByZXZpb3VzRGltZW5zaW9uOyB9XG5cbiAgICBwaXhlbFdpZHRoKGJvdW5kczogQm91bmRzKSB7IHJldHVybiB0aGlzLl9jb25kaXRpb25hbERpbShib3VuZHMpLndpZHRoIH1cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcykgeyByZXR1cm4gdGhpcy5fY29uZGl0aW9uYWxEaW0oYm91bmRzKS5oZWlnaHQgfVxuXG4gICAgcHJvdGVjdGVkIF9jb25kaXRpb25hbERpbShib3VuZHM6IEJvdW5kcyk6IERpbWVuc2lvblxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IG51bGw7XG4gICAgICAgIGlmIChib3VuZHMpXG4gICAgICAgICAgICBkaW0gPSBib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIHRoaXMuX3ByZXZpb3VzRGltZW5zaW9uID0gdGhpcy5fY29uZGl0aW9uYWxGdW5jdGlvbihkaW0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNEaW1lbnNpb247XG4gICAgfVxuXG4gICAgZGltZW5zaW9uRG9udFVwZGF0ZVByZXZpb3VzKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24oYm91bmRzLmRpbWVuc2lvbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi8uLi9Cb3VuZHNcIjtcblxuLyoqXG4qIEEgcGFpciBvZiB2YWx1ZXMgdGhhdCBkZXNjaWJlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgR2FtZU9iamVjdC5cbiogQnkgZGVmYXVsdCwgdGhlc2UgdmFsdWVzIGFyZSBleHByZXNzZWQgaW4gYWJzb2x1dGUgKHBpeGVsKSB1bml0cy5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaW1lbnNpb25cbntcbiAgICBwcm90ZWN0ZWQgX3dpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9oZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3VwZGF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByb3RlY3RlZCBfcHJlc2VydmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICogQ29uc3RydWN0IGEgRGltZW5zaW9uIHRvIHN0b3JlIGEgcGFpciBvZiB2YWx1ZXNcbiAgICAqIEBwYXJhbSB3aWR0aCB0aGUgd2lkdGggdmFsdWUgdG8gc3RvcmVcbiAgICAqIEBwYXJhbSBoZWlnaHQgdGhlIGhlaWdodCB2YWx1ZSB0byBzdG9yZVxuICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuXG4gICAgbWFya0FzVXBkYXRlZCgpIHsgdGhpcy51cGRhdGVkID0gdHJ1ZTsgfVxuICAgIGRlc3Ryb3koKSB7fVxuXG4gICAgLyogSGFzIHRoZSBkaW1lbnNpb24gdXBkYXRlZCBpdHNlbGYgYW5kIHRodXMgYW55IGNhY2hlZCB2YWx1ZSBpbmNsdWRpbmcgdGhpcyBkaW1lbnNpb24gbmVlZHMgdG8gYmUgcmVjYWxjdWxhdGVkPyAqL1xuICAgIGdldCB1cGRhdGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fdXBkYXRlZDsgfVxuICAgIHNldCB1cGRhdGVkKHZhbCkgeyB0aGlzLl91cGRhdGVkID0gdmFsOyB9XG5cbiAgICAvKiogQmFzZSB3aWR0aCBzdG9yZWQgaW4gdGhpcyBEaW1lbnNpb24gKi9cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3dpZHRoOyB9XG4gICAgc2V0IHdpZHRoKHZhbClcbiAgICB7IFxuICAgICAgICBpZiAodmFsICE9PSB0aGlzLndpZHRoKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqIEJhc2UgaGVpZ2h0IHN0b3JlZCBpbiB0aGlzIERpbWVuc2lvbiAqL1xuICAgIGdldCBoZWlnaHQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX2hlaWdodDsgfVxuICAgIHNldCBoZWlnaHQodmFsKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5faGVpZ2h0KVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQWJzb2x1dGUgKHBpeGVsKSB3aWR0aCBvZiB0aGlzIGRpbWVuc2lvbiBpbiBkZXZpY2UtaW5kZXBlbmRhbnQgcGl4ZWxzXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgb2YgdGhlIHBhcmVudCB0byB0aGlzIGRpbWVuc2lvblxuICAgICovXG4gICAgcGl4ZWxXaWR0aChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLndpZHRoOyB9XG5cbiAgICAvKipcbiAgICAqIEFic29sdXRlIChwaXhlbCkgaGVpZ2h0IG9mIHRoaXMgZGltZW5zaW9uIGluIGRldmljZS1pbmRlcGVuZGFudCBwaXhlbHNcbiAgICAqIEBwYXJhbSBib3VuZHMgdGhlIGJvdW5kcyBvZiB0aGUgcGFyZW50IHRvIHRoaXMgZGltZW5zaW9uXG4gICAgKi9cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLmhlaWdodDsgfVxuXG4gICAgLyoqXG4gICAgKiBXaWR0aCBvZiB0aGlzIGRpbWVuc2lvbiBpbiBwaHlzaWNhbCBwaXhlbHNcbiAgICAqIEBwYXJhbSBib3VuZHMgdGhlIGJvdW5kcyBvZiB0aGUgcGFyZW50IHRvIHRoaXMgZGltZW5zaW9uXG4gICAgKi9cbiAgICBwaHlzaWNhbFBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5waXhlbFdpZHRoKGJvdW5kcykgKiBib3VuZHMuZGV2aWNlUGl4ZWxSYXRpbzsgfVxuXG4gICAgLyoqXG4gICAgKiBIZWlnaHQgb2YgdGhpcyBkaW1lbnNpb24gaW4gcGh5c2ljYWwgcGl4ZWxzXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgb2YgdGhlIHBhcmVudCB0byB0aGlzIGRpbWVuc2lvblxuICAgICovXG4gICAgcGh5c2ljYWxQaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLnBpeGVsSGVpZ2h0KGJvdW5kcykgKiBib3VuZHMuZGV2aWNlUGl4ZWxSYXRpbzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXRyaWV2ZSBhIERpbWVuc2lvbiB3aXRoIHRoZSBwaXhlbCB3aWR0aCBhbmQgaGVpZ2h0IGFzIHRoZSBiYXNlIHZhbHVlc1xuICAgICogQHBhcmFtIGJvdW5kcyB0aGUgYm91bmRzIG9mIHRoZSBwYXJlbnQgdG8gdGhpcyBkaW1lbnNpb25cbiAgICAqL1xuICAgIGFzU2ltcGxlUGl4ZWxEaW1lbnNpb24oYm91bmRzOiBCb3VuZHMpOiBEaW1lbnNpb24geyByZXR1cm4gbmV3IERpbWVuc2lvbih0aGlzLnBpeGVsV2lkdGgoYm91bmRzKSwgdGhpcy5waXhlbEhlaWdodChib3VuZHMpKSB9XG5cbiAgICAvKipcbiAgICAqIEFzcGVjdCByYXRpbyBiZXR3ZWVuIHdpZHRoIGFuZCBoZWlnaHQgZXhwcmVzc2VkIGFzIGEgZGVjaW1hbC4gQ2FsY3VsYXRlZFxuICAgICogYnk6IChoZWlnaHQgLyB3aWR0aClcbiAgICAqL1xuICAgIGdldCBhc3BlY3QoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaGVpZ2h0L3RoaXMud2lkdGg7IH1cblxuICAgIC8qIFdoZXRoZXIgdGhpcyBvYmplY3Qgc2hvdWxkIGJlIGtlcHQgKGZvciB0d2VlbmluZywgZXRjKSBvciB3aGV0aGVyXG4gICAgaXQgY2FuIGJlIGNvbWJpbmVkIHdpdGggb3RoZXJzIGZvciBlZmZpY2llbmN5ICovXG4gICAgZ2V0IHByZXNlcnZlKCkgeyByZXR1cm4gdGhpcy5fcHJlc2VydmU7IH1cbiAgICBzZXQgcHJlc2VydmUodmFsKSB7IHRoaXMuX3ByZXNlcnZlID0gdmFsO31cblxuICAgIHN0YXRpYyBhZGQoYTogRGltZW5zaW9uLCBiOiBEaW1lbnNpb24pOiBEaW1lbnNpb25cbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRGltZW5zaW9uKGEud2lkdGggKyBiLndpZHRoLCBhLmhlaWdodCArIGIuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXF1YWxzKGE6IERpbWVuc2lvbiwgYjogRGltZW5zaW9uKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIChhLndpZHRoID09PSBiLndpZHRoKSAmJiAoYS5oZWlnaHQgPT09IGIuaGVpZ2h0KTsgXG4gICAgfVxufVxuIiwiaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi9EaW1lbnNpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4vLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIHdpZHRoL2hlaWdodCBwYWlyIGV4cHJlc3NlZCBpbiBkZXZpY2UtaW5kZXBlbmRhbnQgcGl4ZWxzLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpeGVsRGltZW5zaW9uIGV4dGVuZHMgRGltZW5zaW9uXG57XG4gICAgcGl4ZWxXaWR0aChib3VuZHM6IEJvdW5kcykgeyByZXR1cm4gdGhpcy53aWR0aDsgfVxuICAgIHBpeGVsSGVpZ2h0KGJvdW5kczogQm91bmRzKSB7IHJldHVybiB0aGlzLmhlaWdodDsgfVxufVxuIiwiaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi9EaW1lbnNpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4vLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIHdpZHRoL2hlaWdodCBwYWlyIGRldGVybWluZWQgYXMgYSBwcm9wb3J0aW9uIG9mIHRoZSBwYXJlbnQgVHJhbnNsYXRpb24ncyBkaW1lbnNpb24uXG4qIENhbiBvcHRpb25hbGx5IGJlIGNvbnN0cnVjdGVkIHdpdGggYSBzcGVjaWZpZWQgcmVmZXJlbmNlIGJvdW5kcyB0byB1c2UgaW4gcGxhY2Ugb2ZcbiogcGFyZW50LlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BvcnRpb25hbERpbWVuc2lvbiBleHRlbmRzIERpbWVuc2lvblxue1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlQm91bmRzOiBCb3VuZHM7XG5cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgcmVmZXJlbmNlQm91bmRzPzogQm91bmRzKVxuICAgIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmIChyZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcyA9IHJlZmVyZW5jZUJvdW5kcztcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxuICAgIHBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVmZXJlbmNlQm91bmRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhbGN1bGF0aW5nKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndpZHRoICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhY2hlZERpbWVuc2lvbi53aWR0aDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aWR0aCAqIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5kaW1lbnNpb24ud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiBib3VuZHMuZGltZW5zaW9uLndpZHRoO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMuY2FsY3VsYXRpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhY2hlZERpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbiIsImltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLy4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSB3aWR0aC9oZWlnaHQgcGFpciBkZXRlcm1pbmVkIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgcGFyZW50IFRyYW5zbGF0aW9uJ3Mgc2NhbGVcbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGl2ZURpbWVuc2lvbiBleHRlbmRzIERpbWVuc2lvblxue1xuICAgIHBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiBib3VuZHMucmVmZXJlbmNlU2NhbGU7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIFxuICAgIHBpeGVsSGVpZ2h0KGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgaWYgKGJvdW5kcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlaWdodCAqIGJvdW5kcy5yZWZlcmVuY2VTY2FsZTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgVHJhbnNsYXRpb24gZnJvbSBcIi4vVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi8uLi9UcmFuc2Zvcm1cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWRqYWNlbnRUcmFuc2xhdGlvbiBleHRlbmRzIFRyYW5zbGF0aW9uXG57XG4gICAgdGFyZ2V0OiBUcmFuc2Zvcm07XG4gICAgb2Zmc2V0OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICogQHBhcmFtIG9mZnNldCBwaXhlbHMgdG8gb2Zmc2V0IGZyb20gZWRnZSBvZiB0YXJnZXQsIGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldDogVHJhbnNmb3JtLCBvZmZzZXQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKDAsIDAsIG5ldyBQb2ludCgwLDApKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAvL3RoaXMuYWx3YXlzVXBkYXRlID0gdHJ1ZTsgVE9ETyBSZXBsYWNlIHRoaXMgZnVuY3Rpb25hbGl0eVxuICAgIH1cblxuICAgIGFic29sdXRlUG9zaXRpb24oYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gYm91bmRzLnRyYW5zZm9ybS5wYXJlbnQ7XG5cbiAgICAgICAgbGV0IG5ld1BvcyA9IG51bGw7XG4gICAgICAgIGxldCB0bFBvcyA9IFBvaW50Lm1pbnVzKHRoaXMudGFyZ2V0LnBvc2l0aW9uLmFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCksIGNvbnRhaW5lci5wb3NpdGlvbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpKTtcbiAgICAgICAgaWYgKGJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICsgdGhpcy5vZmZzZXQgPCB0bFBvcy55KSAvL3dlIGhhdmUgc3BhY2UgYWJvdmVcbiAgICAgICAgICAgIG5ld1BvcyA9IG5ldyBQb2ludCh0bFBvcy54LCB0bFBvcy55IC0gdGhpcy5vZmZzZXQgLSBib3VuZHMuZGltZW5zaW9uLmhlaWdodCk7XG4gICAgICAgIGVsc2UgaWYgKGJvdW5kcy5kaW1lbnNpb24ud2lkdGggKyB0aGlzLm9mZnNldCA8IHRsUG9zLngpIC8vd2UgaGF2ZSBzcGFjZSBsZWZ0XG4gICAgICAgICAgICBuZXdQb3MgPSBuZXcgUG9pbnQodGxQb3MueCAtIHRoaXMub2Zmc2V0ICAtIGJvdW5kcy5kaW1lbnNpb24ud2lkdGgsIHRsUG9zLnkpO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMuZGltZW5zaW9uLmhlaWdodCArIHRoaXMub2Zmc2V0ICsgdGxQb3MueSA8IGNvbnRhaW5lci5ib3VuZHMuZGltZW5zaW9uLmhlaWdodCkgLy93ZSBoYXZlIHNwYWNlIGJlbG93XG4gICAgICAgICAgICBuZXdQb3MgPSBuZXcgUG9pbnQodGxQb3MueCwgdGxQb3MueSArIHRoaXMudGFyZ2V0LmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICsgdGhpcy5vZmZzZXQpO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMuZGltZW5zaW9uLndpZHRoICsgdGhpcy5vZmZzZXQgKyB0bFBvcy54IDwgY29udGFpbmVyLmJvdW5kcy5kaW1lbnNpb24ud2lkdGgpIC8vd2UgaGF2ZSBzcGFjZSByaWdodFxuICAgICAgICAgICAgbmV3UG9zID0gbmV3IFBvaW50KHRsUG9zLnggKyB0aGlzLnRhcmdldC5ib3VuZHMuZGltZW5zaW9uLndpZHRoICsgdGhpcy5vZmZzZXQsIHRsUG9zLnkpO1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uLy4uL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uL0JvdW5kc1wiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi4vLi4vVHJhbnNmb3JtXCI7XG5cbi8qKlxuKiBBIFRyYW5zbGF0aW9uIHdob3NlIHBvc2l0aW9uIGlzIGV4cHJlc3NlZCBhcyBhIHByb3ZpZGVkIGZ1bmN0aW9uIG9mIHRoZSBkaW1lbnNpb25zIG9mXG4qIGl0cyBwYXJlbnQuXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbiBleHRlbmRzIFRyYW5zbGF0aW9uXG57XG4gICAgcHJpdmF0ZSBfY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50O1xuICAgIHByaXZhdGUgX3ByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbjogUG9pbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uYWxGdW5jdGlvbiBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHBhcmVudCBkaW1lbnNpb24gYW5kIHJldHVybnMgYSBwb2ludFxuICAgICAqIEBwYXJhbSBhbmNob3IgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50LCBhbmNob3I/OiBQb2ludClcbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb25hbEZ1bmN0aW9uOiAoZ2FtZU9iamVjdDogVHJhbnNmb3JtLCBwYXJlbnREaW1lbnNpb246IERpbWVuc2lvbikgPT4gUG9pbnQpXG4gICAgY29uc3RydWN0b3IoY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50LCBhbmNob3I/OiBQb2ludCB8IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoYW5jaG9yIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN1cGVyKDAsIDAsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFuY2hvciA9PT0gXCJib29sZWFuXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN1cGVyKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN1cGVyKDAsMCk7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24gPSBjb25kaXRpb25hbEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGdldCBwcmV2aW91c0Fic29sdXRlUG9zaXRpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCBwRGltID0gbnVsbFxuICAgICAgICBpZiAoYm91bmRzLnBhcmVudEJvdW5kcylcbiAgICAgICAgICAgIHBEaW0gPSBib3VuZHMucGFyZW50Qm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNBYnNvbHV0ZVBvc2l0aW9uID0gIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24oYm91bmRzLnRyYW5zZm9ybSwgcERpbSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmV2aW91c0Fic29sdXRlUG9zaXRpb247XG4gICAgfVxuXG4gICAgYWJzb2x1dGVQb3NpdGlvbkRvbnRVcGRhdGVQcmV2aW91cyhib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25kaXRpb25hbEZ1bmN0aW9uKGJvdW5kcy50cmFuc2Zvcm0sIGJvdW5kcy5wYXJlbnRCb3VuZHMuZGltZW5zaW9uKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCBUcmFuc2xhdGlvbiBmcm9tIFwiLi9UcmFuc2xhdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIFRyYW5zbGF0aW9uIHdob3NlIHBvc2l0aW9uIGlzIGV4cHJlc3NlZCBhcyBhIGRldmljZS1pbmRlcGVuZGFudCBwaXhlbCB2YWx1ZS5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaXhlbFRyYW5zbGF0aW9uIGV4dGVuZHMgVHJhbnNsYXRpb25cbntcbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uLy4uL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSBUcmFuc2xhdGlvbiB3aG9zZSBwb3NpdGlvbiBpcyBleHByZXNzZWQgYXMgYSBwcm9wb3J0aW9uIG9mIHRoZSBkaW1lbnNpb25zIG9mXG4qIGl0cyBwYXJlbnQuXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZXh0ZW5kcyBUcmFuc2xhdGlvblxue1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlQm91bmRzOiBCb3VuZHM7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9pbnQpXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvaW50LCBhbmNob3I6IFBvaW50KVxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb2ludCwgcmVmZXJlbmNlQm91bmRzOiBCb3VuZHMpXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvaW50LCBhbmNob3I6IFBvaW50LCByZWZlcmVuY2VCb3VuZHM6IEJvdW5kcylcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcilcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgYW5jaG9yOiBQb2ludClcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgcmVmZXJlbmNlQm91bmRzOiBCb3VuZHMpXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuY2hvcjogUG9pbnQsIHJlZmVyZW5jZUJvdW5kczogQm91bmRzKVxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciB8IFBvaW50LCB5PzogbnVtYmVyIHwgUG9pbnQgfCBCb3VuZHMsIGFuY2hvcj86IFBvaW50IHwgQm91bmRzLCByZWZlcmVuY2VCb3VuZHM/OiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1cGVyKHgsIHkpXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlQm91bmRzID0gYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1cGVyKHgpO1xuICAgICAgICAgICAgICAgIGlmICh5IGluc3RhbmNlb2YgQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VCb3VuZHMgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh0eXBlb2YoeCkgPT09IFwibnVtYmVyXCIpICYmICh0eXBlb2YoeSkgPT09IFwibnVtYmVyXCIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYW5jaG9yIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIoeCwgeSwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocmVmZXJlbmNlQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VCb3VuZHMgPSByZWZlcmVuY2VCb3VuZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIoeCwgeSk7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlQm91bmRzID0gYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBnZXQgcmVmZXJlbmNlQm91bmRzKCkgeyByZXR1cm4gdGhpcy5fcmVmZXJlbmNlQm91bmRzOyB9XG5cbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgICAgICBkaW0gPSB0aGlzLl9yZWZlcmVuY2VCb3VuZHMuZGltZW5zaW9uO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMucGFyZW50Qm91bmRzKVxuICAgICAgICAgICAgZGltID0gYm91bmRzLnBhcmVudEJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoMCwwKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLnBvc2l0aW9uLnggKiBkaW0ud2lkdGg7XG4gICAgICAgIGxldCB5ID0gdGhpcy5wb3NpdGlvbi55ICogZGltLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LHkpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBSZXByZXNlbnRzIGEgVHJhbnNsYXRpb24uIFRoZSB1bml0cyBpbiB3aGljaCB0aGUgcG9zaXRpb24gaXMgZXhwcmVzc2VkIGluIGlzXG4qIGRldGVybWluZWQgYnkgc3ViY2xhc3Nlcy5cbiogQGFic3RyYWN0XG4qL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgVHJhbnNsYXRpb25cbntcbiAgICBwcm90ZWN0ZWQgX2FuY2hvcjogUG9pbnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBQb2ludCA9IG5ldyBQb2ludCgwLDApO1xuICAgIHByb3RlY3RlZCBfdXBkYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJvdGVjdGVkIF9wcmVzZXJ2ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuY2hvcj86IFBvaW50KVxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb2ludCwgYW5jaG9yPzogUG9pbnQpXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyIHwgUG9pbnQsIHk/OiBudW1iZXIgfCBQb2ludCwgYW5jaG9yPzogUG9pbnQpXG4gICAge1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB4O1xuICAgICAgICAgIGlmICh5IGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICAgIHRoaXMuYW5jaG9yID0geTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgodHlwZW9mKHgpID09PSBcIm51bWJlclwiKSAmJiAodHlwZW9mKHkpID09PSBcIm51bWJlclwiKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG5ldyBQb2ludCh4IHx8IDAsIHkgfHwgMCk7XG4gICAgICAgICAgICBpZiAoYW5jaG9yKVxuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgdXBkYXRlZCgpIHsgcmV0dXJuIHRoaXMuX3VwZGF0ZWQ7IH1cbiAgICBzZXQgdXBkYXRlZCh2YWwpIHsgdGhpcy5fdXBkYXRlZCA9IHZhbDt9XG4gICAgbWFya0FzVXBkYXRlZCgpIHsgdGhpcy51cGRhdGVkID0gdHJ1ZTsgfVxuXG4gICAgLyoqIFRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGluIHRoZSB1bml0cyBvZiB0aGUgVHJhbnNsYXRpb24gKi9cbiAgICBnZXQgcG9zaXRpb24oKSB7IHJldHVybiB0aGlzLl9wb3NpdGlvbjsgfVxuICAgIHNldCBwb3NpdGlvbih2YWw6IFBvaW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFQb2ludC5lcXVhbHModmFsLCB0aGlzLnBvc2l0aW9uKSlcbiAgICAgICAgICAgIHRoaXMubWFya0FzVXBkYXRlZCgpO1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHZhbDtcbiAgICB9XG5cbiAgICAvKiBXaGV0aGVyIHRoaXMgb2JqZWN0IHNob3VsZCBiZSBrZXB0IChmb3IgdHdlZW5pbmcsIGV0Yykgb3Igd2hldGhlclxuICAgIGl0IGNhbiBiZSBjb21iaW5lZCB3aXRoIG90aGVycyBmb3IgZWZmaWNpZW5jeSAqL1xuICAgIGdldCBwcmVzZXJ2ZSgpIHsgcmV0dXJuIHRoaXMuX3ByZXNlcnZlOyB9XG4gICAgc2V0IHByZXNlcnZlKHZhbCkgeyB0aGlzLl9wcmVzZXJ2ZSA9IHZhbDt9XG5cbiAgICAvKipcbiAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgZGltZW5zaW9uIG9mIHRoZVxuICAgICogVHJhbnNsYXRpb24uIDAsMCBpcyB0aGUgdG9wIGxlZnQuIDEsMSBpcyBib3R0b20gcmlnaHQuXG4gICAgKi9cbiAgICBnZXQgYW5jaG9yKCkgeyByZXR1cm4gdGhpcy5fYW5jaG9yOyB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgZGltZW5zaW9uIG9mIHRoZVxuICAgICogVHJhbnNsYXRpb24uIDAsMCBpbmRpY2F0ZXMgdG9wIGxlZnQuIDEsMSBpbmRpY2F0ZXMgYm90dG9tIHJpZ2h0LlxuICAgICogQHBhcmFtIHZhbCBhIFBvaW50XG4gICAgKi9cbiAgICBzZXQgYW5jaG9yKHZhbDogUG9pbnQpXG4gICAge1xuICAgICAgICBpZiAoIVBvaW50LmVxdWFscyh2YWwsIHRoaXMuYW5jaG9yKSlcbiAgICAgICAgICAgIHRoaXMubWFya0FzVXBkYXRlZCgpO1xuICAgICAgICB0aGlzLl9hbmNob3IgPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGFuY2hvciBpbiBhYnNvbHV0ZSAocGl4ZWwpIHVuaXRzIGZyb20gdGhlIHRvcCBsZWZ0IG9mXG4gICAgKiB0aGUgVHJhbnNsYXRpb24uXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhbmNob3JPZmZzZXQoYm91bmRzOiBCb3VuZHMpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IGJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoZGltLndpZHRoKnRoaXMuYW5jaG9yLngsIGRpbS5oZWlnaHQqdGhpcy5hbmNob3IueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBBIFBvaW50IGNvbnRhaW5pbmcgdGhlIGFic29sdXRlIHBpeGVsIHBvc2l0aW9uIG9mIHRoZSBUcmFuc2xhdGlvbidzIGFuY2hvclxuICAgICogQGFic3RyYWN0XG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhYnN0cmFjdCBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKTogUG9pbnRcblxuICAgIC8qKlxuICAgICogQSBQb2ludCBjb250YWluaW5nIHRoZSBhYnNvbHV0ZSBwaXhlbCBwb3NpdGlvbiBvZiB0aGUgdG9wIGxlZnQgY29ybmVyIG9mXG4gICAgKiB0aGUgVHJhbnNsYXRpb24uXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdChib3VuZHM6IEJvdW5kcyk6IFBvaW50IHsgcmV0dXJuIFBvaW50Lm1pbnVzKHRoaXMuYWJzb2x1dGVQb3NpdGlvbihib3VuZHMpLCB0aGlzLmFuY2hvck9mZnNldChib3VuZHMpKTsgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHsgfVxufVxuIiwiY2xhc3MgUGFpcjxULFU+IHtcbiAgICByZWFkb25seSBrZXkgOiBUO1xuICAgIHJlYWRvbmx5IHZhbHVlOiBVO1xuXG4gICAgY29uc3RydWN0b3Ioa2V5OiBULCB2YWx1ZTogVSlcbiAgICB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuIH0gXG5cbmNsYXNzIER1cGxpY2F0ZU1hcDxULFU+XG57XG4gICAgZW50cmllczogUGFpcjxULFU+W10gPSBbXTtcblxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLmVudHJpZXMubGVuZ3RoOyB9XG5cbiAgICBwdXNoKGtleSwgdmFsdWUpIHsgdGhpcy5lbnRyaWVzLnB1c2gobmV3IFBhaXIoa2V5LCB2YWx1ZSkpIH1cblxuICAgIGRlbGV0ZShrZXk6IFQsIHZhbHVlPzogVSlcbiAgICB7XG4gICAgICAgIGxldCBuZXdFbnRyaWVzOiBQYWlyPFQsVT5bXSA9IFtdO1xuICAgICAgICB0aGlzLmVudHJpZXMuZm9yRWFjaCh4ID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeC5rZXkgIT09IGtleSlcbiAgICAgICAgICAgICAgICBuZXdFbnRyaWVzLnB1c2goeCk7XG4gICAgICAgICAgICBlbHNlIGlmICgodmFsdWUpICYmICh4LnZhbHVlICE9PSB2YWx1ZSkpXG4gICAgICAgICAgICAgICAgbmV3RW50cmllcy5wdXNoKHgpO1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLmVudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgIH1cblxuICAgIGRlbGV0ZVZhbHVlKHZhbHVlOiBVKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld0VudHJpZXM6IFBhaXI8VCxVPltdID0gW107XG4gICAgICAgIHRoaXMuZW50cmllcy5mb3JFYWNoKHggPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh4LnZhbHVlICE9PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICBuZXdFbnRyaWVzLnB1c2goeCk7XG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgfVxuXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gW107XG4gICAgfVxuXG4gICAgZm9yRWFjaChmKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzLmZvckVhY2goZik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudFxue1xuICAgIHByaXZhdGUgX2NhbGxiYWNrczogRHVwbGljYXRlTWFwPG9iamVjdCwgKC4uLmFyZ3MpID0+IHZvaWQ+ID0gbmV3IER1cGxpY2F0ZU1hcDxvYmplY3QsICguLi5hcmdzKSA9PiB2b2lkPigpO1xuXG4gICAgY2FsbCguLi5hcmdzKTogdm9pZFxuICAgIHsgXG4gICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2FsbGJhY2tzLmVudHJpZXMubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcy5lbnRyaWVzW2ldLnZhbHVlKC4uLmFyZ3MpOyBcbiAgICB9XG5cbiAgICBwdXNoKGNhbGxiYWNrOiAoLi4uYXJncykgPT4gdm9pZCwgY3JlYXRvcjogb2JqZWN0KTogRXZlbnRcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5wdXNoKGNyZWF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlcihjcmVhdG9yKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmRlbGV0ZShjcmVhdG9yKTtcbiAgICB9XG4gICAgXG4gICAgLypyZW1vdmUoY2FsbGJhY2s6ICguLi5hcmdzKSA9PiB2b2lkKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmRlbGV0ZVZhbHVlKGNhbGxiYWNrKTtcbiAgICB9Ki9cblxuICAgIHJlbW92ZUFsbCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbGluayhzb3VyY2U6IEV2ZW50LCBkZXN0OiBFdmVudCwgY3JlYXRvcjogb2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiBkZXN0KVxuICAgICAgICAgICAgc291cmNlLnB1c2goZGVzdC5jYWxsLmJpbmQoZGVzdCksIGNyZWF0b3IpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjYWxsKGV2ZW50OiBFdmVudCwgLi4uYXJncyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChldmVudClcbiAgICAgICAgICAgIGV2ZW50LmNhbGwuYmluZChldmVudCkoLi4uYXJncyk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgRXZlbnQgZnJvbSBcIi4vRXZlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzZXJ2ZXJWYXJpYWJsZTxUPlxue1xuICAgIHByaXZhdGUgX3ZhbHVlOiBUO1xuICAgIHByaXZhdGUgX29uVXBkYXRlOiBFdmVudDtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBUKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUgPSBuZXcgRXZlbnQoKTtcbiAgICB9XG5cbiAgICBnZXQgb25VcGRhdGUoKSB7IHJldHVybiB0aGlzLl9vblVwZGF0ZTsgfVxuXG4gICAgZ2V0IHZhbHVlKCk6IFQgeyByZXR1cm4gdGhpcy5fdmFsdWU7IH1cbiAgICBzZXQgdmFsdWUodmFsKVxuICAgIHtcbiAgICAgICAgbGV0IHVwZGF0ZSA9ICh2YWwgIT09IHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWw7XG4gICAgICAgIGlmICh1cGRhdGUpXG4gICAgICAgICAgICBFdmVudC5jYWxsKHRoaXMub25VcGRhdGUsIHZhbCk7XG4gICAgfVxuXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUucmVtb3ZlQWxsKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdGhyZWFkSWQgfSBmcm9tIFwid29ya2VyX3RocmVhZHNcIjtcblxuLyoqXG4qIEFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSBzaW1wbGUgMkQgY29vcmRpbmF0ZSwgMkQgdmVjdG9yLCBvciB4LXkgdmFsdWUgcGFpci5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludFxue1xuICAgIHByb3RlY3RlZCBfeDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfeTogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5feCA9IHggfHwgMDtcbiAgICAgICAgdGhpcy5feSA9IHkgfHwgMDtcbiAgICB9XG5cbiAgICBnZXQgeCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5feDsgfVxuICAgIGdldCB5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl95O31cblxuICAgIGdldCBtYWduaXR1ZGUoKTogbnVtYmVyIHsgcmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3ggKyB0aGlzLl95KnRoaXMuX3kpOyB9XG5cbiAgICBnZXQgaXNaZXJvKCk6IGJvb2xlYW4geyByZXR1cm4gKHRoaXMueCA9PT0gMCkgJiYgKHRoaXMueSA9PT0gMCl9XG5cbiAgICBzdGF0aWMgYWRkKGE6IFBvaW50LCBiOiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgeCA9IGEueCArIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgKyBiLnk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWludXMoYTogUG9pbnQsIGI/OiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAoIWIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnVzKG5ldyBQb2ludCgwLDApLCBhKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeCA9IGEueCAtIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgLSBiLnk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbXVsdGlwbHkocDogUG9pbnQsIHM6IG51bWJlciB8IFBvaW50KTogUG9pbnRcbiAgICB7XG4gICAgICAgIGlmIChzIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHAueCAqIHMueCwgcC55ICogcy55KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludChwLnggKiBzLCBwLnkgKiBzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZG90UHJvZHVjdChwOiBQb2ludCwgczogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gKHAueCAqIHMueCArIHAueSAqIHMueSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRpdmlkZShwOiBQb2ludCwgczogbnVtYmVyKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCB4ID0gcC54IC8gcztcbiAgICAgICAgbGV0IHkgPSBwLnkgLyBzO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgseSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyb3NzUHJvZHVjdChwOiBQb2ludCwgczogUG9pbnQpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBwLnggKiBzLnkgLSBwLnkgKiBzLng7XG4gICAgfVxuXG4gICAgc3RhdGljIGVxdWFscyhhOiBQb2ludCwgYjogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gKChhLnggPT09IGIueCkgJiYgKGEueSA9PT0gYi55KSk7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgdGhlIHN0cmFpZ2h0IGxpbmUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzICoqL1xuICAgIHN0YXRpYyBkaXN0YW5jZShhOiBQb2ludCwgYjogUG9pbnQpXG4gICAge1xuICAgICAgICBsZXQgeCA9IGEueCAtIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgLSBiLnk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeCp4ICsgeSp5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHBvaW50IHdoaWNoIGlzIHJvdGF0ZWQgY2xvY2t3aXNlIGFib3V0IHRoZSBvcmlnaW4uXG4gICAgICogUmVtZW1iZXIgdGhlIHkgYXhpcyBpcyBpbnZlcnRlZC5cbiAgICAgKiBAcGFyYW0gYW5nbGUgY2xvY2t3aXNlIGFuZ2xlIHRvIHJvdGF0ZSBieVxuICAgICAqL1xuICAgIHJvdGF0ZShhbmdsZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHggPSBNYXRoLmNvcyhhbmdsZSkgKiB0aGlzLl94ICsgLU1hdGguc2luKGFuZ2xlKSAqIHRoaXMuX3k7XG4gICAgICAgIGxldCB5ID0gTWF0aC5zaW4oYW5nbGUpICogdGhpcy5feCArIE1hdGguY29zKGFuZ2xlKSAqIHRoaXMuX3k7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBjbG9zZXN0UG9pbnQocG9pbnRzOiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgbGV0IHNtYWxsZXN0RGlzdGFuY2U6IG51bWJlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHdpbm5lcjogUG9pbnQ7XG4gICAgICAgIHBvaW50cy5mb3JFYWNoKHAgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IFBvaW50Lm1pbnVzKHAsdGhpcykubWFnbml0dWRlO1xuICAgICAgICAgICAgICAgIGlmICgoc21hbGxlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkKSB8fCAoZCA8IHNtYWxsZXN0RGlzdGFuY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaXN0YW5jZSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIHdpbm5lciA9IHA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHdpbm5lcjtcbiAgICB9XG5cbiAgICBnZXQgbm9ybWFsaXNlZCgpOiBQb2ludFxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLnggPT09IHRoaXMueSkgfHwgKCB0aGlzLnggPT09IDApIHx8ICh0aGlzLnkgPT09IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbWFnbml0dWRlID0gdGhpcy5tYWduaXR1ZGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueC9tYWduaXR1ZGUsIHRoaXMueS9tYWduaXR1ZGUpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIHlldFwiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYW5nbGVCZXR3ZWVuKGE6IFBvaW50LCBiOiBQb2ludCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIoYi55LGIueCkgLSBNYXRoLmF0YW4yKGEueSxhLngpXG4gICAgICAgLy8gcmV0dXJuIFBvaW50LmRvdFByb2R1Y3QoYSxiKS8oYS5tYWduaXR1ZGUqYi5tYWduaXR1ZGUpXG4gICAgfVxuXG4gICAgcHJvamVjdGlvbkluKHZlY3RvcjogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gUG9pbnQuZG90UHJvZHVjdCh0aGlzLCB2ZWN0b3Iubm9ybWFsaXNlZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFuZ2xlVG9Vbml0VmVjdG9yKGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KE1hdGguY29zKGFuZ2xlKSwgTWF0aC5zaW4oYW5nbGUpKTtcbiAgICB9XG5cbiAgICBhc0FuZ2xlKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludDNcbntcbiAgICBwcm90ZWN0ZWQgX3g6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3k6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3o6IG51bWJlcjtcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIgfCBudW1iZXJbXSB8IFBvaW50MywgeT86IG51bWJlciwgej86IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl94ID0geFswXTtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB4WzFdO1xuICAgICAgICAgICAgdGhpcy5feiA9IHhbMl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeCBpbnN0YW5jZW9mIFBvaW50MylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHgueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB4Lnk7XG4gICAgICAgICAgICB0aGlzLl96ID0geC56O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHggfHwgMDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5IHx8IDA7XG4gICAgICAgICAgICB0aGlzLl96ID0geiB8fCAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3g7IH1cbiAgICBnZXQgeSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5feTt9XG4gICAgZ2V0IHooKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3o7fVxuICAgIHNldCB4KHZhbCkgeyB0aGlzLl94ID0gdmFsOyB9XG4gICAgc2V0IHkodmFsKSB7IHRoaXMuX3kgPSB2YWw7fVxuICAgIHNldCB6KHZhbCkgeyB0aGlzLl96ID0gdmFsO31cblxuICAgIGVxdWFscyhiOiBQb2ludDMpXG4gICAge1xuICAgICAgICByZXR1cm4gKCh0aGlzLnggPT09IGIueCkgJiYgKHRoaXMueSA9PT0gYi55KSAmJiAodGhpcy56ID09PSBiLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXF1YWxzKGE6IFBvaW50MywgYjogUG9pbnQzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgoYS54ID09PSBiLngpICYmIChhLnkgPT09IGIueSkgJiYgKGEueiA9PT0gYi56KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1pbnVzKGE6IFBvaW50MywgYj86IFBvaW50Myk6IFBvaW50M1xuICAgIHtcbiAgICAgICAgaWYgKCFiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51cyhuZXcgUG9pbnQzKDAsMCwwKSwgYSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHggPSBhLnggLSBiLng7XG4gICAgICAgIGxldCB5ID0gYS55IC0gYi55O1xuICAgICAgICBsZXQgeiA9IGEueiAtIGIuelxuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4LHkseik7XG4gICAgfVxuXG4gICAgbWludXMoYTogUG9pbnQzKTogUG9pbnQzXG4gICAge1xuICAgICAgICBsZXQgeCA9IHRoaXMueCAtIGEueDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnkgLSBhLnk7XG4gICAgICAgIGxldCB6ID0gdGhpcy56IC0gYS56XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQzKHgseSx6KTtcbiAgICB9XG5cbiAgICBwbHVzKGE6IFBvaW50Myk6IFBvaW50M1xuICAgIHtcbiAgICAgICAgbGV0IHggPSB0aGlzLnggKyBhLng7XG4gICAgICAgIGxldCB5ID0gdGhpcy55ICsgYS55O1xuICAgICAgICBsZXQgeiA9IHRoaXMueiArIGEuelxuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4LHkseik7XG4gICAgfVxuXG4gICAgbXVsdGlwbHkoczogUG9pbnQzIHwgbnVtYmVyKTogUG9pbnQzXG4gICAge1xuICAgICAgICBpZiAocyBpbnN0YW5jZW9mIFBvaW50MylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggKiBzLng7XG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMueSAqIHMueTtcbiAgICAgICAgICAgIGxldCB6ID0gdGhpcy56ICogcy56O1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoeCx5LHopO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggKiBzO1xuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLnkgKiBzO1xuICAgICAgICAgICAgbGV0IHogPSB0aGlzLnogKiBzO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoeCx5LHopO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICB9XG5cbiAgICBnZXQgbm9ybWFsaXNlZCgpOiBQb2ludDNcbiAgICB7XG4gICAgICAgIGlmICgoKHRoaXMueCA9PT0gdGhpcy55KSB8fCAodGhpcy54ID09PSAwKSB8fCAodGhpcy55ID09PSAwKSkgJiYgKCh0aGlzLnkgPT09IHRoaXMueikgfHwgKHRoaXMueSA9PT0gMCkgfHwgKHRoaXMueiA9PT0gMCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbWFnbml0dWRlID0gdGhpcy5tYWduaXR1ZGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh0aGlzLngvbWFnbml0dWRlLCB0aGlzLnkvbWFnbml0dWRlLCB0aGlzLnovbWFnbml0dWRlKVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCB5ZXRcIik7XG4gICAgfVxuXG4gICAgZ2V0IG1hZ25pdHVkZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KCh0aGlzLngqdGhpcy54KSArICh0aGlzLnkqdGhpcy55KSArICh0aGlzLnoqdGhpcy56KSk7XG4gICAgfVxuXG59IiwiaW1wb3J0IFBvaW50IGZyb20gXCIuL1BvaW50XCI7XG5pbXBvcnQgeyBJbnRlcnNlY3Rpb24gfSBmcm9tIFwiLi4vZ2FtZW9iamVjdC9Qb2x5Z29uQ29sbGlzaW9uXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQb2x5U2hhcGVcbntcbiAgICBwcml2YXRlIF9wb2ludHM6IFBvaW50W107XG5cbiAgICBnZXQgcG9pbnRzKCkgeyByZXR1cm4gdGhpcy5fcG9pbnRzOyB9XG5cbiAgICBnZXQgZWRnZXMoKTogUG9seUVkZ2VbXVxuICAgIHtcbiAgICAgICAgbGV0IGUgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnBvaW50cy5sZW5ndGgtMTtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUucHVzaChuZXcgUG9seUVkZ2UoW3RoaXMucG9pbnRzW2ldLCB0aGlzLnBvaW50c1tpKzFdXSkpXG4gICAgICAgIH1cbiAgICAgICAgZS5wdXNoKG5ldyBQb2x5RWRnZShbdGhpcy5wb2ludHNbdGhpcy5wb2ludHMubGVuZ3RoLTFdLCB0aGlzLnBvaW50c1swXV0pKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocG9pbnRzOiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcG9pbnRzID0gcG9pbnRzO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGNsb25lKG5ld1BvaW50czogUG9pbnRbXSk7XG5cbiAgICBjZW50ZXJQb2ludCgpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IHhUb3RhbCA9IDA7XG4gICAgICAgIGxldCB5VG90YWwgPSAwO1xuICAgICAgICB0aGlzLnBvaW50cy5mb3JFYWNoKHAgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgeFRvdGFsICs9IHAueDtcbiAgICAgICAgICAgIHlUb3RhbCArPSBwLnk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHhUb3RhbC90aGlzLnBvaW50cy5sZW5ndGgsIHlUb3RhbC90aGlzLnBvaW50cy5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwb2ludCB0aGF0IGlzIHRoZSBtYXhpbXVtIHBvaW50IG9mIHByb2plY3Rpb24gb24gdGhlIHByb3ZpZGVkXG4gICAgICogdmVjdG9yLiBUaGUgcG9pbnQgcmV0dXJuZWQgd2lsbCBiZSBvbmUgb2YgdGhlIHZlcnRleGVzIG9mIHRoZSBwb2x5Z29uLlxuICAgICAqIFdoZXJlIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcG9pbnQgd2loIHRoZSBzYW1lIHByb2plY3Rpb24sIHRoZSBmaXJzdCB3aWxsXG4gICAgICogYmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHZlY3RvclxuICAgICAqL1xuICAgIG1heGltdW1Qcm9qZWN0aW9uT25WZWN0b3IodmVjdG9yOiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgY3VycmVudE1heCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGxlYWRpbmdQb2ludCA9IG51bGxcbiAgICAgICAgbGV0IHVuaXRWZWN0b3IgPSB2ZWN0b3Iubm9ybWFsaXNlZDtcbiAgICAgICAgdGhpcy5wb2ludHMuZm9yRWFjaChwID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2ogPSBQb2ludC5kb3RQcm9kdWN0KHAsIHVuaXRWZWN0b3IpO1xuICAgICAgICAgICAgICAgIGlmICgoY3VycmVudE1heCA9PT0gdW5kZWZpbmVkKSB8fCAocHJvaiA+IGN1cnJlbnRNYXgpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhZGluZ1BvaW50ID0gcDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1heCA9IHByb2o7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsZWFkaW5nUG9pbnQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBDb252ZXhQb2x5Z29uIGV4dGVuZHMgUG9seVNoYXBlXG57XG4gICAgcHJpdmF0ZSBfY2xvY2t3aXNlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb24gYXJlIGxpc3RlZCBpbiBjbG9ja3dpc2Ugb3JkZXIsIGZhbHNlIGlmXG4gICAgICogdGhleSBhcmUgbGlzdGVkIGluIGFudGljbG9ja3dpc2Ugb3JkZXIuXG4gICAgICovXG4gICAgZ2V0IGNsb2Nrd2lzZSgpIHsgcmV0dXJuIHRoaXMuX2Nsb2Nrd2lzZTsgfVxuICAgIHNldCBjbG9ja3dpc2UodmFsKSB7IHRoaXMuX2Nsb2Nrd2lzZSA9IHZhbDsgfVxuXG4gICAgY2xvbmUobmV3UG9pbnRzOiBQb2ludFtdKTogQ29udmV4UG9seWdvblxuICAgIHtcbiAgICAgICAgbGV0IHAgPSBuZXcgQ29udmV4UG9seWdvbihuZXdQb2ludHMpO1xuICAgICAgICBwLmNsb2Nrd2lzZSA9IHRoaXMuY2xvY2t3aXNlO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRydWUgaWYgdGhlIHBvbHlnb24gaW50ZXJzZWN0cyB3aXRoIHRoZSBwcm92aWRlZCByZWN0XG4gICAgICogQHBhcmFtIHJlY3QgXG4gICAgICovXG4gICAgaW50ZXJzZWN0cyhvdGhlcjogQ29udmV4UG9seWdvbik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHRoaXMucG9pbnRzLmZvckVhY2gocCA9PiB7IGlmIChvdGhlci5jb250YWluc1BvaW50KHApKSByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgIG90aGVyLnBvaW50cy5mb3JFYWNoKHAgPT4geyBpZiAodGhpcy5jb250YWluc1BvaW50KHApKSByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb250YWlucyhvdGhlcjogQ29udmV4UG9seWdvbik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIG90aGVyLnBvaW50cy5mb3JFYWNoKHAgPT4geyBpZiAoISh0aGlzLmNvbnRhaW5zUG9pbnQocCkpKSByZXR1cm4gZmFsc2U7IH0pXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGludGVyc2VjdGlvbnNXaXRoRWRnZShzdGFydDogUG9pbnQsIGVuZDogUG9pbnQpOiBJbnRlcnNlY3Rpb25bXVxuICAgIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5lZGdlcy5mb3JFYWNoKGUgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gZS5wb2ludE9mSW50ZXJzZWN0aW9uV2l0aEVkZ2Uoc3RhcnQsZW5kKTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaChuZXcgSW50ZXJzZWN0aW9uKHBvaW50LGUpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zO1xuICAgIH1cblxuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQ6IG51bWJlciB8IFBvaW50LCB5PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICBpZiAocG9pbnQgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAge1xuICAgICAgICAgICAgeSA9IHBvaW50Lnk7XG4gICAgICAgICAgICB4ID0gcG9pbnQueDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB4ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaChlID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghKHRoaXMucmlnaHRPZkVkZ2UoeCwgeSwgZSkpXG4gICAgICAgICAgICAgICAgfHwgKCEodGhpcy5jbG9ja3dpc2UpICYmICEodGhpcy5sZWZ0T2ZFZGdlKHgsIHksIGUpKSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmlnaHRPZkVkZ2UocHg6IG51bWJlciwgcHk6IG51bWJlciwgZTogUG9seUVkZ2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgZ3JhZCA9IChlWzFdLnktZVswXS55KS8oZVsxXS54LWVbMF0ueClcbiAgICAgICAgaWYgKGdyYWQgPT09IEluZmluaXR5KVxuICAgICAgICAgICAgcmV0dXJuIHB4IDw9IGVbMF0ueFxuICAgICAgICBpZiAoZ3JhZCA9PT0gLUluZmluaXR5KVxuICAgICAgICAgICAgcmV0dXJuIHB4ID49IGVbMF0ueFxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gZVswXS55IC0gKGdyYWQqZVswXS54KVxuICAgICAgICBsZXQgZXhwZWN0ZWRZID0gKHB4KmdyYWQgKyBpbnRlcnNlY3Rpb24pXG4gICAgICAgIGlmIChlWzFdLnggPiBlWzBdLngpXG4gICAgICAgICAgICByZXR1cm4gKHB5ID49IGV4cGVjdGVkWSlcbiAgICAgICAgaWYgKGVbMV0ueCA8IGVbMF0ueClcbiAgICAgICAgICAgIHJldHVybiAocHkgPD0gZXhwZWN0ZWRZKVxuICAgIH1cblxuICAgIGxlZnRPZkVkZ2UocHg6IG51bWJlciwgcHk6IG51bWJlciwgZTogUG9seUVkZ2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgZ3JhZCA9IChlWzFdLnktZVswXS55KS8oZVsxXS54LWVbMF0ueClcbiAgICAgICAgaWYgKGdyYWQgPT09IEluZmluaXR5KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZVswXS55ID4gZVsxXS55KVxuICAgICAgICAgICAgICAgIHJldHVybiBweCA8PSBlWzBdLnggXG4gICAgICAgICAgICBpZiAoZVswXS55IDwgZVsxXS55KVxuICAgICAgICAgICAgICAgIHJldHVybiBweCA+PSBlWzBdLnhcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gZVswXS55IC0gKGdyYWQqZVswXS54KVxuICAgICAgICBsZXQgZXhwZWN0ZWRZID0gKHB4KmdyYWQgKyBpbnRlcnNlY3Rpb24pXG4gICAgICAgIGlmIChlWzFdLnggPiBlWzBdLngpXG4gICAgICAgICAgICByZXR1cm4gKHB5IDw9IGV4cGVjdGVkWSlcbiAgICAgICAgaWYgKGVbMV0ueCA8IGVbMF0ueClcbiAgICAgICAgICAgIHJldHVybiAocHkgPj0gZXhwZWN0ZWRZKVxuICAgIH1cbn1cblxuLyoqXG4gKiBBbnkgbnVtYmVyIG9mIG5vZGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2x5TGluZSBleHRlbmRzIFBvbHlTaGFwZVxue1xuICAgIGNsb25lKCk6IFBvbHlMaW5lXG4gICAge1xuICAgICAgICBsZXQgcCA9IG5ldyBQb2x5TGluZSh0aGlzLnBvaW50cyk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBPbmx5IHR3byBub2Rlc1xuICovXG5leHBvcnQgY2xhc3MgUG9seUVkZ2UgZXh0ZW5kcyBQb2x5TGluZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvaW50czogUG9pbnRbXSlcbiAgICB7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoICE9PSAyKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUG9seUVkZ2UgZXhwZWN0cyBhIHBvaW50cyBhcnJheSBvZiBleGFjdGx5IDJcIilcbiAgICAgICAgc3VwZXIocG9pbnRzKTtcbiAgICB9XG5cbiAgICBnZXQgdmVjdG9yKCkgeyByZXR1cm4gUG9pbnQubWludXModGhpcy5wb2ludHNbMV0sIHRoaXMucG9pbnRzWzBdKTsgfVxuXG4gICAgcG9pbnRPZkludGVyc2VjdGlvbldpdGhFZGdlKGVkZ2U6IFBvbHlFZGdlIHwgUG9pbnQsIGVuZD86IFBvaW50KTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCBwOiBQb2ludDtcbiAgICAgICAgbGV0IHI6IFBvaW50O1xuICAgICAgICBpZiAoZWRnZSBpbnN0YW5jZW9mIFBvbHlFZGdlKVxuICAgICAgICB7XG4gICAgICAgICAgICBwID0gbmV3IFBvaW50KGVkZ2UucG9pbnRzWzBdLngsZWRnZS5wb2ludHNbMF0ueSk7XG4gICAgICAgICAgICByID0gbmV3IFBvaW50KGVkZ2UucG9pbnRzWzFdLngsZWRnZS5wb2ludHNbMV0ueSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZWRnZSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBwID0gZWRnZTtcbiAgICAgICAgICAgIHIgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgciA9IFBvaW50Lm1pbnVzKHIscCk7XG5cbiAgICAgICAgbGV0IHEgPSBuZXcgUG9pbnQodGhpcy5wb2ludHNbMF0ueCx0aGlzLnBvaW50c1swXS55KTtcbiAgICAgICAgbGV0IHMgPSBQb2ludC5taW51cyhuZXcgUG9pbnQodGhpcy5wb2ludHNbMV0ueCx0aGlzLnBvaW50c1sxXS55KSwgcSk7XG5cbiAgICAgICAgbGV0IHFtcDogUG9pbnQgPSBQb2ludC5taW51cyhxLCBwKTtcbiAgICAgICAgbGV0IHBtcTogUG9pbnQgPSBQb2ludC5taW51cyhwLCBxKTtcbiAgICAgICAgbGV0IHJ4czogbnVtYmVyID0gUG9pbnQuY3Jvc3NQcm9kdWN0KHIscylcblxuICAgICAgICBsZXQgdCA9IFBvaW50LmNyb3NzUHJvZHVjdChxbXAsIHMpIC8gcnhzO1xuICAgICAgICBsZXQgdSA9IFBvaW50LmNyb3NzUHJvZHVjdChwbXEsIHIpIC8gUG9pbnQuY3Jvc3NQcm9kdWN0KHMscik7XG4gICAgICAgIGxldCBwbXF4ciA9IFBvaW50LmNyb3NzUHJvZHVjdChwbXEscik7XG5cbiAgICAgICAgaWYgKChyeHMgPT09IDApICYmIChwbXF4ciA9PT0gMCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBycnM6IFBvaW50ID0gUG9pbnQuZGl2aWRlKHIsIFBvaW50LmRvdFByb2R1Y3QocixyKSk7XG4gICAgICAgICAgICBsZXQgdDA6IG51bWJlciA9IFBvaW50LmRvdFByb2R1Y3QocG1xLCBycnMpO1xuICAgICAgICAgICAgbGV0IHQxOiBudW1iZXIgPSB0MCArIFBvaW50LmRvdFByb2R1Y3QocywgcnJzKTtcbiAgICAgICAgICAgIGlmICgoKHQwID49IDAgJiYgdDAgPD0gMSkpIHx8ICgodDEgPj0gMCApICYmICh0MSA8PSAxKSkgfHwgKCh0MCA8PSAwKSAmJiAodDEgPj0gMCkpIHx8ICgodDAgPj0gMSkgJiYgKHQxIDw9IDApKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbGluZWFyIGFuZCBvdmVybGFwcGluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAvL2NvbGluZWFyIGFuZCBvdmVybGFwaW5nXG4gICAgICAgICAgICAgICAgLy9UT0RPOiB3b3JrIG91dCB3aGF0IHRvIGRvIGlmIHRoaXMgaXMgdGhlIGNhc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNvbGluZWFyIGJ1dCBub3Qgb3ZlcmxhcHBpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocnhzID09PSAwKSAmJiAocG1xeHIgIT09IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicGFyYWxsZWwgYW5kIG5vbi1pbnRlcnNlY3RpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBwYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChyeHMgIT09IDApICYmICh0ID49IDApICYmICh0IDw9IDEpICYmICh1ID49IDApICYmICh1IDw9IDEpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiaW50ZXJzZWN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gUG9pbnQuYWRkKHAsIFBvaW50Lm11bHRpcGx5KHIsdCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm5vbi1wYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIG5vbi1wYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9seVJlY3QgZXh0ZW5kcyBDb252ZXhQb2x5Z29uXG57XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBvbHlSZWN0LCBpZiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCwgcmV0dXJucyBhIDF4MSByZWN0IHdpdGggb3JpZ2luIDAsMFxuICAgICAqIEBwYXJhbSBjb29yZHMgYW4gYXJyYXkgb2YgbGVuZ3RoIDggd2l0aCBhbHRlcm5hdGluZyB4IHkgdmFsdWVzLCBtdXN0IGRlc2NyaWJlIHJlY3RhbmdsZVxuICAgICAqIHdpdGggbm8gcm90YXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwb2ludHM/OiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgaWYgKCFwb2ludHMpXG4gICAgICAgICAgICBzdXBlcihbbmV3IFBvaW50KDAsMCksIG5ldyBQb2ludCgxLDApLCBuZXcgUG9pbnQoMSwxKSwgbmV3IFBvaW50KDAsMSldKVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwb2ludHMubGVuZ3RoICE9PSA0KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBvbHlSZWN0IGV4cGVjdHMgYSBwb2ludHMgYXJyYXkgb2YgZXhhY3RseSA0XCIpXG4gICAgICAgICAgICBzdXBlcihwb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGFpbnNQb2ludCh4OiBudW1iZXIgfCBQb2ludCwgeT86IG51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiAoKHggPiB0aGlzLnBvaW50c1swXSkgJiYgKCB4IDwgdGhpcy5wb2ludHNbMV0ueCkgJiYgKHkgPiB0aGlzLnBvaW50c1swXS55KSAmJiAoeSA8IHRoaXMucG9pbnRzWzNdLnkpKTtcbiAgICB9XG59IiwiaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0QnVpbGRlclwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCB7IEZyYW1lLCBGcmFtZUNvbnRyb2xsZXIsIEZyYW1lTGlzdGVuZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFJlbGF0aXZlRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9SZWxhdGl2ZURpbWVuc2lvblwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJNZW51IGV4dGVuZHMgRnJhbWU8R2FtZU92ZXJNZW51TGlzdGVuZXIsIEdhbWVPdmVyTWVudUNvbnRyb2xsZXI+XG57XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBHYW1lT3Zlck1lbnVMaXN0ZW5lciwgY29udHJvbGxlcjogR2FtZU92ZXJNZW51Q29udHJvbGxlciwgZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5ib3VuZHMucmVmZXJlbmNlV2lkdGggPSAzMjA7XG4gICAgICAgIGxldCBiZyAgPSB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcImJsYWNrXCIpKTtcbiAgICAgICAgYmcub3BhY2l0eSA9IDAuNTtcblxuICAgICAgICBsZXQgdGJnICA9IHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSxuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUmVsYXRpdmVEaW1lbnNpb24oMTAwLDUwKSksIFwiYmxhY2tcIikpO1xuICAgICAgICB0Ymcub3BhY2l0eSA9IDAuOTtcblxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJZb3UgaGF2ZSBkaWVkXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCAyMCwgXCJzZXJpZlwiKTtcbiAgICAgICAgbGV0IHRleHQgPSB0YmcuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSxuZXcgUG9pbnQoMC41LDAuNSkpKSkpO1xuXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJNZW51TGlzdGVuZXIgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyXG57XG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVPdmVyTWVudUNvbnRyb2xsZXIgZXh0ZW5kcyBGcmFtZUNvbnRyb2xsZXJcbntcblxufSIsImltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciwgRnJhbWUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBUZXh0QnVpbGRlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dEJ1aWxkZXJcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgVGV4dCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dFwiO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSBcIi4vTWFpbkZyYW1lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgU3RhbmRhcmRCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1N0YW5kYXJkQnV0dG9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCB7IFRyZWVVdGlscyB9IGZyb20gXCJlbmdpbmUvVHJlZVV0aWxzXCI7XG5pbXBvcnQgTG9hZGluZ0JhciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvTG9hZGluZ0JhclwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IE1haW5NZW51QnV0dG9uIGZyb20gXCIuL01haW5NZW51QnV0dG9uXCI7XG5pbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludHJvRnJhbWUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgbWFpbkZyYW1lOiBNYWluRnJhbWU7XG4gICAgYnV0dG9uOiBNYWluTWVudUJ1dHRvbjtcbiAgICBzdGFydGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgbG9hZGluZ0JhcjogTG9hZGluZ0JhcjtcbiAgICBsb2FkaW5nVGV4dDogVGV4dDtcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcihcIlJQRyBBbHBoYVwiLCBjb250ZXh0MkQsIFwid2hpdGVcIiwgNDgsIFwic2VyaWZcIiwgMS40KTtcbiAgICAgICAgbGV0IHRpdGxlVGV4dDogVGV4dCA9IHRoaXMuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuMywgbmV3IFBvaW50KDAuNSwwLjUpKSkpKTtcbiAgICAgICAgdGl0bGVUZXh0LmNhbnZhc0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJibGFja1wiXG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDEwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJTdGFydCBHYW1lXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCAzMiwgXCJzZXJpZlwiKTtcbiAgICAgICAgbGV0IHN0YXJ0VGV4dCA9IHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpKTtcbiAgICAgICAgc3RhcnRUZXh0LmNhbnZhc0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJibGFja1wiXG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gdGhpcy5hZGRDaGlsZChuZXcgTWFpbk1lbnVCdXR0b24obmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC43LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMzAwLDUwKSksIHN0YXJ0VGV4dCkpO1xuXG4gICAgICAgIHRoaXMubG9hZGluZ0JhciA9IHRoaXMuYWRkQ2hpbGQobmV3IExvYWRpbmdCYXIobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC44LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMTAwLDEwKSksIFwid2hpdGVcIiwgXCJncmV5XCIpKTtcbiAgICAgICAgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJMb2FkaW5nIHRleHR1cmVzXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCA4LCBcInNlcmlmXCIsIDEuNSk7XG4gICAgICAgIHRoaXMubG9hZGluZ1RleHQgPSB0aGlzLmFkZENoaWxkKHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFBpeGVsVHJhbnNsYXRpb24oMCwxMCksIG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC44LCBuZXcgUG9pbnQoMC41LDApKSkpKTtcblxuICAgICAgICB0aGlzLm1haW5GcmFtZSA9IHRoaXMuYWRkQ2hpbGQobmV3IE1haW5GcmFtZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCkpKTtcbiAgICAgICAgdGhpcy5tYWluRnJhbWUucHJlY3JlYXRlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmJ1dHRvbi5vbkNsaWNrLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYWluRnJhbWUub3BlbigpO1xuICAgICAgICAgICAgdGhpcy5idXR0b24uaW50ZXJhY3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b24uc2V0SW50ZXJhY3RhYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKCEodGhpcy5zdGFydGVkKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXRzID0gVHJlZVV0aWxzLnN1YnRyZWVMb2FkU3RhdHModGhpcy5tYWluRnJhbWUpO1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnNldFByb3BvcnRpb24oc3RhdHMuYXNzZXRzUHJvcG9ydGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy5tYWluRnJhbWUuc3VidHJlZUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbi5zZXRJbnRlcmFjdGFibGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdUZXh0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uT3BlbigpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAwLjAxO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMsIFwib3BhY2l0eVwiLCAxLCAxMDAwKSkub25Db21wbGV0ZS5wdXNoKHRoaXMucmVhZHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWFkeSgpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAxO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMYXVuY2hlciB9IGZyb20gXCJMYXVuY2hlclwiO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSBcIi4vTWFpbkZyYW1lXCI7XG5pbXBvcnQgSU8gZnJvbSBcImVuZ2luZS9pby9JT1wiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuaW1wb3J0IHsgVGltaW5nTGlzdGVuZXIgfSBmcm9tIFwiZW5naW5lL2lvL1RpbWluZ1wiO1xuaW1wb3J0IEludHJvRnJhbWUgZnJvbSBcIi4vSW50cm9GcmFtZVwiO1xuXG5leHBvcnQgY2xhc3MgUnVuIGV4dGVuZHMgTGF1bmNoZXJcbntcbiAgICBwcm90ZWN0ZWQgX3Jvb3RHYW1lT2JqZWN0VHlwZSA9IEludHJvRnJhbWU7XG5cbiAgICBwcm90ZWN0ZWQgX2NyZWF0ZUludGVyZmFjZXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IElPXG4gICAge1xuICAgICAgICBsZXQgaW8gPSBuZXcgSU8oKTtcbiAgICAgICAgaW8uYWRkSW50ZXJmYWNlKG5ldyBMb2FkZXIoXCJcIiksIFwibG9hZGVyXCIpO1xuICAgICAgICBpby5hZGRJbnRlcmZhY2UobmV3IFRpbWluZ0xpc3RlbmVyKCksIFwidGltaW5nXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTW91c2UodGhpcy5fYWRkS2V5Ym9hcmQoaW8pLCBjYW52YXMpO1xuICAgIH1cbn1cblxubGV0IGwgPSBuZXcgUnVuKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FtZVRhcmdldFwiKSk7XG5sLmNyZWF0ZSgpO1xubC5zdGFydCgpO1xuIiwiaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4vVUlNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZ1N0YXR1c0ZyYW1lIGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgZ2FtZU1vZGVsIDogR2FtZU1vZGVsXG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIHVpTW9kZWw6IFVJTW9kZWwsIGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG4gICAgXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5iYWNrZ3JvdW5kQ29sb3VyKSlcbiAgICB9XG5cbn0iLCJpbXBvcnQgQ2hhcmFjdGVyTWVudSwgeyBDaGFyYWN0ZXJNZW51TGlzdGVuZXIsIENoYXJhY3Rlck1lbnVDb250cm9sbGVyIH0gZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0NoYXJhY3Rlck1lbnVcIjtcbmltcG9ydCBNYXAgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL01hcFwiO1xuaW1wb3J0IHsgR2FtZU92ZXJNZW51LCBHYW1lT3Zlck1lbnVMaXN0ZW5lciwgR2FtZU92ZXJNZW51Q29udHJvbGxlciB9IGZyb20gXCIuL0dhbWVPdmVyTWVudVwiO1xuaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBHZXN0dXJlVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvR2VzdHVyZVRyaWdnZXJcIjtcbmltcG9ydCBLZXlUcmlnZ2VyLCB7IEtleVRyaWdnZXJFdmVudHMgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvS2V5VHJpZ2dlclwiO1xuaW1wb3J0IFZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vVmFsdWVUd2VlblwiO1xuaW1wb3J0IE1pbmlNYXBGcmFtZSwgeyBNaW5pTWFwRnJhbWVMaXN0ZW5lciB9IGZyb20gXCIuL2NvcmUtdWktY29tcG9uZW50cy9NaW5pTWFwRnJhbWVcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuL1VJTW9kZWxcIjtcbmltcG9ydCB7IEdyaWRCdWlsZGVyLCBHcmlkT3JpZW50YXRpb24gfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvR3JpZExheW91dFwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IHsgRGVidWdSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUmVsYXRpdmVEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1JlbGF0aXZlRGltZW5zaW9uXCI7XG5pbXBvcnQgQ29uZGl0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL0NvbmRpdGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBUYWJMaXN0TWVudSBmcm9tIFwiLi9jb3JlLXVpLWNvbXBvbmVudHMvVGFiTGlzdE1lbnVcIjtcbmltcG9ydCBXb3JsZEZyYW1lIGZyb20gXCIuL1dvcmxkRnJhbWVcIjtcbmltcG9ydCBQYXJ0eVN0YXR1c01lbnUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL1BhcnR5U3RhdHVzTWVudVwiO1xuaW1wb3J0IEJ1ZmZlcmVkIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvQnVmZmVyZWRcIjtcbmltcG9ydCBEcmF3QnVmZmVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvRHJhd0J1ZmZlclwiO1xuaW1wb3J0IEFjdGlvbkJhck1lbnUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0FjdGlvbkJhck1lbnVcIjtcbmltcG9ydCBEZXRhaWxNZW51RnJhbWUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0RldGFpbE1lbnVGcmFtZVwiO1xuaW1wb3J0IENvbmRpdGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vQ29uZGl0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IExvYWRpbmdTdGF0dXNGcmFtZSBmcm9tIFwiLi9Mb2FkaW5nU3RhdHVzRnJhbWVcIjtcbmltcG9ydCBHYW1lTW9kZWwsIHsgR2FtZU1vZGVsTGlzdGVuZXIgfSBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBQYXJ0eU1vZGVsIGZyb20gXCIuL21vZGVsL1BhcnR5TW9kZWxcIjtcbmltcG9ydCBXb3JsZE1vZGVsIGZyb20gXCIuL21vZGVsL3dvcmxkL1dvcmxkTW9kZWxcIjtcbmltcG9ydCBQbGF5ZXJNb2RlbCwgeyBGYWNpbmcgfSBmcm9tIFwiLi9tb2RlbC9QbGF5ZXJNb2RlbFwiO1xuaW1wb3J0IHsgZ2FtZURhdGEgfSBmcm9tIFwiLi9kYXRhXCI7XG5pbXBvcnQgVG9vbFRpcCBmcm9tIFwiLi9Ub29sVGlwXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBXYWl0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXRcIjtcbmltcG9ydCBNb3VzZURyYWdUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9Nb3VzZURyYWdUcmlnZ2VyXCI7XG5pbXBvcnQgTWluaU1hcCBmcm9tIFwiLi9tb2RlbC9hY3Rpb24vc3BlbGxzL01pbmlNYXBcIjtcblxubGV0IHJhbmRvbUNvbG91ciA9IGZ1bmN0aW9uKCk6IHN0cmluZ1xue1xuICAgcmV0dXJuICBcIiNcIitNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApICsgXCJcIiArXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCkgKyBcIlwiICtcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKSArIFwiXCIgK1xuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApICsgXCJcIiArXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCkgKyBcIlwiICtcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKSArIFwiXCJcbn1cbmV4cG9ydCB7IHJhbmRvbUNvbG91ciB9O1xuXG5jbGFzcyBUZXN0RnJhbWUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCAuLi5hcmdzKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBsZXQgY29sb3IgPSByYW5kb21Db2xvdXIoKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgRGVidWdSZWN0KGNvbG9yLCAxMCkpO1xuXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgbGV0IGNvbnRleHQyRCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgICAgbGV0IHRiID0gbmV3IFRleHRCdWlsZGVyKHRoaXMubGlzdGVuZXIuY29uc3RydWN0b3IubmFtZSwgY29udGV4dDJELCBjb2xvciwgMTIsIFwic2Fucy1zZXJpZlwiKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0Yi5idWlsZFRleHQobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC41LCBuZXcgUG9pbnQoMC41LDAuNSkpKSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1haW5GcmFtZSBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsRnJhbWVDb250cm9sbGVyPlxue1xuICAgIGNoYXJhY3Rlck1lbnU7XG4gICAgdGFiTWVudTogR2FtZU9iamVjdDtcbiAgICB1aU1vZGVsOiBVSU1vZGVsO1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuICAgIHRvb2x0aXA6IEZyYW1lPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj47XG4gICAgbWluaU1hcDogTWluaU1hcEZyYW1lO1xuXG4gICAgX2xhc3REcmFnVmVjdG9yOiBQb2ludDtcblxuICAgIGdhbWVPdmVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2hvd0dhbWVPdmVyTWVudSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IG5ldyBHYW1lTW9kZWwobmV3IEdhbWVNb2RlbExpc3RlbmVyKCksIG5ldyBQYXJ0eU1vZGVsKCksIG5ldyBXb3JsZE1vZGVsKCksIG5ldyBQbGF5ZXJNb2RlbCgpLCBnYW1lRGF0YSk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIub25VcGRhdGUucHVzaCgoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5nYW1lT3ZlcilcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPdmVyKCk7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZU1pbmlNYXAodGhpcy5nYW1lTW9kZWwucGxheWVyLnNob3dNaW5pTWFwKTtcbiAgICAgICAgfSkuYmluZCh0aGlzKSx0aGlzKTtcblxuICAgICAgICBcbiAgICAgICAgbGV0IG1hcCA9IG5ldyBNYXAodGhpcy5nYW1lTW9kZWwpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG1hcCk7XG4gICAgICAgIHRoaXMudWlNb2RlbCA9IG5ldyBVSU1vZGVsKHRoaXMuZ2FtZU1vZGVsLCBtYXApO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5yZWZlcmVuY2VXaWR0aCA9IDMyMDtcbiAgICAgICAgbGV0IGFjdGlvbkJhckhlaWdodCA9IDQyO1xuICAgICAgICBsZXQgcGFydHlTdGF0dXNNZW51V2lkdGggPSA0MjtcbiAgICAgICAgbGV0IGNoYXJNZW51TWF4V2lkdGggPSA1MDA7XG5cbiAgICAgICAgbGV0IGNoYXJhY3Rlck1lbnUgPSBuZXcgQ2hhcmFjdGVyTWVudShuZXcgUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUmVsYXRpdmVEaW1lbnNpb24oMzIwLDEyMCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2hhcmFjdGVyTWVudUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDaGFyYWN0ZXJNZW51Q29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwsIHRoaXMuZ2FtZU1vZGVsKTtcbiAgICAgICAgY2hhcmFjdGVyTWVudS50cmFuc2Zvcm0uYm91bmRzLm1heERpbWVuc2lvbiA9IG5ldyBQaXhlbERpbWVuc2lvbihjaGFyTWVudU1heFdpZHRoLDE3MCk7XG4gICAgICAgIHRoaXMuY2hhcmFjdGVyTWVudSA9IGNoYXJhY3Rlck1lbnU7XG4gICAgICAgIGxldCB0YWJMaXN0TWVudSA9IG5ldyBUYWJMaXN0TWVudShuZXcgUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBSZWxhdGl2ZURpbWVuc2lvbigzMjAsMCksIG5ldyBDb25kaXRpb25hbERpbWVuc2lvbih0aGlzLl90YWJMaXN0SGVpZ2h0Q29uZGl0aW9uYWwuYmluZCh0aGlzKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwpO1xuICAgICAgICB0aGlzLnRhYk1lbnUgPSB0YWJMaXN0TWVudTtcbiAgICAgICAgdGFiTGlzdE1lbnUudHJhbnNmb3JtLmJvdW5kcy5tYXhEaW1lbnNpb24gPSBuZXcgUGl4ZWxEaW1lbnNpb24oY2hhck1lbnVNYXhXaWR0aCx1bmRlZmluZWQpO1xuICAgICAgICBsZXQgZGV0YWlsTWVudSA9IG5ldyBEZXRhaWxNZW51RnJhbWUobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLDEsdGFiTGlzdE1lbnUudHJhbnNmb3JtLmJvdW5kcykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFJlbGF0aXZlRGltZW5zaW9uKDMyMCwwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX2RldGFpbE1lbnVIZWlnaHRDb25kaXRpb25hbC5iaW5kKHRoaXMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLDEsdGFiTGlzdE1lbnUudHJhbnNmb3JtLmJvdW5kcykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwpO1xuICAgICAgICBkZXRhaWxNZW51LnRyYW5zZm9ybS5ib3VuZHMubWF4RGltZW5zaW9uID0gbmV3IFBpeGVsRGltZW5zaW9uKGNoYXJNZW51TWF4V2lkdGgsdW5kZWZpbmVkKTtcbiAgICAgICAgbGV0IG1pbmltYXAgPSBuZXcgTWluaU1hcEZyYW1lKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLG5ldyBQb2ludCgxLDApKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBDb25kaXRpb25hbERpbWVuc2lvbih0aGlzLl9taW5pTWFwRGltQ29uZGl0aW9uYWwuYmluZCh0aGlzKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pbmlNYXBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRnJhbWVDb250cm9sbGVyKCksIHRoaXMudWlNb2RlbCwgdGhpcy5nYW1lTW9kZWwpO1xuICAgICAgICB0aGlzLm1pbmlNYXAgPSBtaW5pbWFwO1xuXG4gICAgICAgIGxldCBwYXJ0eVN0YXR1c01lbnUgPSBuZXcgUGFydHlTdGF0dXNNZW51KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLCBuZXcgUG9pbnQoMSwwKSksIG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLCAxLCBtaW5pbWFwLnRyYW5zZm9ybS5ib3VuZHMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgQ29uZGl0aW9uYWxEaW1lbnNpb24odGhpcy5fcGFydHlTdGF0c1dpZHRoQ29uZGl0aW9uYWwuYmluZCh0aGlzKSksIG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwxLCB0aGlzLnRyYW5zZm9ybS5ib3VuZHMpLCBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsLTEsIGNoYXJhY3Rlck1lbnUudHJhbnNmb3JtLmJvdW5kcyksICBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsLTEsIHRhYkxpc3RNZW51LnRyYW5zZm9ybS5ib3VuZHMpLG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwtMSwgbWluaW1hcC50cmFuc2Zvcm0uYm91bmRzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUNvbnRyb2xsZXIoKSwgdGhpcy51aU1vZGVsKTtcblxuICAgICAgICBsZXQgYWN0aW9uQmFyTWVudSA9IG5ldyBBY3Rpb25CYXJNZW51KG5ldyBQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX2FjdGlvbkJhckhlaWdodENvbmRpdGlvbmFsLmJpbmQodGhpcykpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lTGlzdGVuZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICBsZXQgd29ybGRGcmFtZSA9IG5ldyBXb3JsZEZyYW1lKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwxLCBhY3Rpb25CYXJNZW51LnRyYW5zZm9ybS5ib3VuZHMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSwgbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLC0xLCBhY3Rpb25CYXJNZW51LnRyYW5zZm9ybS5ib3VuZHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb25kaXRpb25hbERpbWVuc2lvbih0aGlzLl93b3JsZEZyYW1lQ29uZGl0aW9uYWxIZWlnaHQuYmluZCh0aGlzKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLCB0aGlzLnVpTW9kZWwpO1xuXG4gICAgICAgIGxldCBsb2FkaW5nU3RhdHVzRnJhbWUgPSBuZXcgTG9hZGluZ1N0YXR1c0ZyYW1lKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwxLCBuZXcgUG9pbnQoMCwxKSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwwKSwgbmV3IFBpeGVsRGltZW5zaW9uKDAsMikpLCBuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCksIHRoaXMudWlNb2RlbCwgdGhpcy5nYW1lTW9kZWwpO1xuXG4gICAgICAgIGxldCB3YmIgPSBuZXcgR3JpZEJ1aWxkZXIoKVxuICAgICAgICB3YmIucHVzaENlbGwoZGV0YWlsTWVudSk7XG4gICAgICAgIHdiYi5wdXNoQ2VsbCh0YWJMaXN0TWVudSk7XG4gICAgICAgIHdiYi5wdXNoQ2VsbChjaGFyYWN0ZXJNZW51KTtcbiAgICAgICAgd2JiLmZpeExheWVyKEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbCwgbmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMSwgbmV3IFBvaW50KDAuNSwxKSksIG5ldyBQaXhlbFRyYW5zbGF0aW9uKDAsLTIpKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh3b3JsZEZyYW1lKTtcbiAgICAgICAgbGV0IHVpQnVmZmVyID0gdGhpcy5hZGRDaGlsZChuZXcgRHJhd0J1ZmZlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG4gICAgICAgIHVpQnVmZmVyLmFkZENoaWxkKHdiYi5ncmlkKTtcbiAgICAgICAgdWlCdWZmZXIuYWRkQ2hpbGQocGFydHlTdGF0dXNNZW51KTtcbiAgICAgICAgdWlCdWZmZXIuYWRkQ2hpbGQoYWN0aW9uQmFyTWVudSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobWluaW1hcCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobG9hZGluZ1N0YXR1c0ZyYW1lKTtcbiAgICAgICAgbG9hZGluZ1N0YXR1c0ZyYW1lLm9wZW4oKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVRyaWdnZXJzKHdvcmxkRnJhbWUpO1xuICAgICAgICBjaGFyYWN0ZXJNZW51Lm9wZW4oKTtcbiAgICAgICAgdGFiTGlzdE1lbnUub3BlbigpO1xuICAgICAgICBkZXRhaWxNZW51Lm9wZW4oKTtcbiAgICAgICAgd29ybGRGcmFtZS5vcGVuKCk7XG4gICAgICAgIHBhcnR5U3RhdHVzTWVudS5vcGVuKCk7XG4gICAgICAgIC8vbWluaW1hcC5vcGVuKCk7XG4gICAgICAgIGFjdGlvbkJhck1lbnUub3BlbigpO1xuXG4gICAgICAgIHRoaXMudWlNb2RlbC50b29sdGlwLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVUb29sdGlwLmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIHNob3dHYW1lT3Zlck1lbnUoKVxuICAgIHtcbiAgICAgICAgbGV0IGdhbWVPdmVyTWVudSA9IHRoaXMuYWRkQ2hpbGQobmV3IEdhbWVPdmVyTWVudShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBuZXcgR2FtZU92ZXJNZW51TGlzdGVuZXIoKSwgbmV3IEdhbWVPdmVyTWVudUNvbnRyb2xsZXIoKSwgdGhpcy5nYW1lTW9kZWwpKTtcbiAgICAgICAgZ2FtZU92ZXJNZW51Lm9wZW4oKTtcbiAgICB9ICAgXG5cbiAgICB0b2dnbGVNaW5pTWFwKHZpc2libGU6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoIXZpc2libGUgJiYgdGhpcy5taW5pTWFwLmlzT3BlbilcbiAgICAgICAgICAgIHRoaXMubWluaU1hcC5vbkNsb3NpbmcoKTtcbiAgICAgICAgZWxzZSBpZiAodmlzaWJsZSAmJiAhdGhpcy5taW5pTWFwLmlzT3BlbilcbiAgICAgICAgICAgIHRoaXMubWluaU1hcC5vcGVuKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlVHJpZ2dlcnMod29ybGRWaWV3QXJlYSlcbiAgICB7XG4gICAgICAgIGxldCB3b3JsZERyYWcgPSB3b3JsZFZpZXdBcmVhLmFkZENoaWxkKG5ldyBNb3VzZURyYWdUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpKTtcbiAgICAgICAgd29ybGREcmFnLm1pbkRpc3RhbmNlID0gbmV3IFBvaW50KDE1LDE1KTtcblxuICAgICAgICB3b3JsZERyYWcub25EcmFnLnB1c2goKHZlY3RvciwgbW91c2UsIHRvdWNoLCB0b3VjaElEKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZG91YmxlVG91Y2ggPSB3b3JsZERyYWcudG91Y2hDb3VudCA+IDE7XG4gICAgICAgICAgICBpZiAodGhpcy51aU1vZGVsLmRyYWdnaW5nICE9PSBudWxsIHx8IChNYXRoLmFicyh2ZWN0b3IueSkgPiBNYXRoLmFicyh2ZWN0b3IueCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgodmVjdG9yLnkgPiAwKSAmJiAodGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBudWxsIHx8IHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLk5vcnRoIHx8IHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLlNvdXRoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmRyYWdEb3duKC12ZWN0b3IueSAvIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0LCBkb3VibGVUb3VjaCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZlY3Rvci55IDwgMCkgJiYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gbnVsbCB8fCB0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5Tb3V0aCB8fCB0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5Ob3J0aCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC5kcmFnVXAodmVjdG9yLnkgLyB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLmhlaWdodCwgZG91YmxlVG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyAhPT0gbnVsbCB8fCAoTWF0aC5hYnModmVjdG9yLnkpIDwgTWF0aC5hYnModmVjdG9yLngpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHZlY3Rvci54ID4gMCkgJiYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gbnVsbCB8fCB0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5FYXN0IHx8IHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLldlc3QpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZHJhZ1JpZ2h0KHZlY3Rvci54IC8gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi53aWR0aCwgZG91YmxlVG91Y2gpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCh2ZWN0b3IueCA8IDApICYmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IG51bGwgfHwgdGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuV2VzdCB8fCB0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5FYXN0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmRyYWdMZWZ0KC12ZWN0b3IueCAvIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24ud2lkdGgsIGRvdWJsZVRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xhc3REcmFnVmVjdG9yID0gdmVjdG9yO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgd29ybGREcmFnLm9uRW5kRHJhZy5wdXNoKCgobW91c2UpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLlNvdXRoICYmIHRoaXMuX2xhc3REcmFnVmVjdG9yLnkgPiAwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZW5kRHJhZ1VwKHdvcmxkRHJhZy50b3VjaENvdW50KTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5Ob3J0aCAmJiB0aGlzLl9sYXN0RHJhZ1ZlY3Rvci55IDwgMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmVuZERyYWdEb3duKHdvcmxkRHJhZy50b3VjaENvdW50KTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5XZXN0ICYmIHRoaXMuX2xhc3REcmFnVmVjdG9yLnggPCAwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZW5kRHJhZ0xlZnQod29ybGREcmFnLnRvdWNoQ291bnQpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLkVhc3QgJiYgdGhpcy5fbGFzdERyYWdWZWN0b3IueCA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC5lbmREcmFnUmlnaHQod29ybGREcmFnLnRvdWNoQ291bnQpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmVuZERyYWdSZXNldCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKTtcblxuICAgICAgICBsZXQga3QgPSB0aGlzLmFkZENoaWxkKG5ldyBLZXlUcmlnZ2VyKCkpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIndcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleURvd24pLnB1c2godGhpcy51aU1vZGVsLmtleVcuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJkXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlELmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiYVwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bikucHVzaCh0aGlzLnVpTW9kZWwua2V5QS5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuXG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiZFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleURVcC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcImFcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlBVXAuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcblxuXG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwic1wiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bikucHVzaCh0aGlzLnVpTW9kZWwua2V5Uy5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcInFcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleURvd24pLnB1c2godGhpcy51aU1vZGVsLmtleVEuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJlXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5RS5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIlBhZ2VVcFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bikucHVzaCh0aGlzLnVpTW9kZWwua2V5UGdVcC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIlBhZ2VEb3duXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlQZ0Rvd24uYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcblxuICAgICAgICBrdC5nZXRLZXlFdmVudChcImVcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlFLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwidFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleVQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcblxuICAgICAgICBrdC5nZXRLZXlFdmVudChcIkFycm93VXBcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlVcC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIkFycm93UmlnaHRcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlSaWdodC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIkFycm93RG93blwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleURvd24uYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJBcnJvd0xlZnRcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlMZWZ0LmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiMFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleTAuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCIxXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5MS5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuXG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwib1wiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleU8uYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCIuXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5UmlnaHRDaGV2cm9uLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiLFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleUxlZnRDaGV2cm9uLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG5cbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCItXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5TWludXMuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJfXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5VW5kZXJzY29yZS5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIj1cIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlFcXVhbHMuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCIrXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5UGx1cy5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIm5cIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlOLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG5cbiAgICB9XG5cbiAgICB1cGRhdGVUb29sdGlwKHRleHQ6IHN0cmluZylcbiAgICB7XG4gICAgICAgIGlmICh0ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy50b29sdGlwKVxuICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcC5yZXF1ZXN0UmVtb3ZhbCgpO1xuICAgICAgICAgICAgdGhpcy50b29sdGlwID0gdGhpcy5hZGRDaGlsZChuZXcgVG9vbFRpcChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpLCBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbigyMDAsNDApKSwgbmV3IEZyYW1lTGlzdGVuZXIoKSwgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0ZXh0KSk7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAub3BlbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9vbHRpcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgdG9vbHRpcCA9IHRoaXMudG9vbHRpcDtcbiAgICAgICAgICAgICAgICB0b29sdGlwLmFkZENoaWxkKG5ldyBXYWl0KDYwMCkpLm9uQ29tcGxldGUucHVzaCgoKSA9PiB0b29sdGlwLm9uQ2xvc2luZygpLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAgICAgXG4gICAgb25PcGVuKClcbiAgICB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDAuMDE7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4odGhpcywgXCJvcGFjaXR5XCIsIDEsIDEwMDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5yZWFkeS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvblJlYWR5KClcbiAgICB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfYWN0aW9uQmFySGVpZ2h0Q29uZGl0aW9uYWwoZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBpZiAoZGltLndpZHRoIDwgNTAwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigwLDQyKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IChkaW0ud2lkdGgtNTAwKSowLjE7XG4gICAgICAgICAgICBwcm9wID0gTWF0aC5taW4ocHJvcCwyMik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDAsNDIgKyBwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3BhcnR5U3RhdHNXaWR0aENvbmRpdGlvbmFsKGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgaWYgKGRpbS53aWR0aCA8IDUwMClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMjgsMCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHByb3AgPSAoZGltLndpZHRoLTUwMCkqMC4yO1xuICAgICAgICAgICAgcHJvcCA9IE1hdGgubWluKHByb3AsNDgpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDI4K3Byb3AsMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9taW5pTWFwRGltQ29uZGl0aW9uYWwoZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBpZiAoZGltLndpZHRoIDwgMzIwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigxMzAsMTMwKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IChkaW0ud2lkdGgtMzIwKSowLjI7XG4gICAgICAgICAgICBwcm9wID0gTWF0aC5taW4ocHJvcCw4MClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMTIwK3Byb3AsMTIwK3Byb3ApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfd29ybGRGcmFtZUNvbmRpdGlvbmFsSGVpZ2h0KGRpbTogRGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgaWYgKGRpbS53aWR0aDwgODAwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigwLC10aGlzLmNoYXJhY3Rlck1lbnUudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEaW1lbnNpb24oMCwwKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF90YWJMaXN0SGVpZ2h0Q29uZGl0aW9uYWwoZGltOkRpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGlmIChkaW0ud2lkdGggPCAzMjApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDAsNDgpXG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHByb3AgPSAoZGltLndpZHRoLTMyMCkqMC4yO1xuICAgICAgICAgICAgcHJvcCA9IE1hdGgubWluKHByb3AsMjYpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDAsNDgrcHJvcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9kZXRhaWxNZW51SGVpZ2h0Q29uZGl0aW9uYWwoZGltOkRpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGlmIChkaW0ud2lkdGggPCAzMjApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDAsMTEwKVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwcm9wID0gKGRpbS53aWR0aC0zMjApKjAuMjtcbiAgICAgICAgICAgIHByb3AgPSBNYXRoLm1pbihwcm9wLDE2MClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMCwxMTArcHJvcCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBSb3VuZGVkUmVjdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JvdW5kZWRSZWN0XCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbk1lbnVCdXR0b24gZXh0ZW5kcyBCdXR0b25cbntcbiAgICBiYWNrZ3JvdW5kUmVjdDogUm91bmRlZFJlY3Q7XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlQnV0dG9uQ29udGVudHMoKTtcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XG4gICAgfVxuXG4gICAgc2V0SW50ZXJhY3RhYmxlKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RhYmxlID0gdmFsO1xuICAgICAgICB0aGlzLmNvbnRlbnQub3BhY2l0eSA9IHZhbCA/IDEgOiAwLjU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY3JlYXRlQnV0dG9uQ29udGVudHMoKVxuICAgIHtcbiAgICAgICAgbGV0IHJvdW5kZWRuZXNzID0gMjtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUmVjdCA9IHRoaXMuYWRkQ2hpbGQobmV3IFJvdW5kZWRSZWN0KG5ldyBQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFwiZ3JleVwiLCB1bmRlZmluZWQsIDIsIHJvdW5kZWRuZXNzKSk7XG4gICAgICAgIHRoaXMuc2V0SG92ZXJSZWN0KHRoaXMuYWRkQ2hpbGQobmV3IFJvdW5kZWRSZWN0KG5ldyBQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdyZXlcIiwgXCJncmV5XCIsIDAsIHJvdW5kZWRuZXNzKSkpO1xuICAgICAgICB0aGlzLnNldFByZXNzZWRSZWN0KHRoaXMuYWRkQ2hpbGQobmV3IFJvdW5kZWRSZWN0KG5ldyBQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVkXCIsIFwicmVkXCIsIDAsIHJvdW5kZWRuZXNzKSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFJlbGF0aXZlRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9SZWxhdGl2ZURpbWVuc2lvblwiO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0QnVpbGRlclwiO1xuaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vVmFsdWVUd2VlblwiO1xuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvQnV0dG9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xUaXAgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgdGV4dDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgbGlzdGVuZXI6IEZyYW1lTGlzdGVuZXIsIGNvbnRyb2xsZXI6IEZyYW1lQ29udHJvbGxlciwgdGV4dDogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5yZWZlcmVuY2VXaWR0aCA9IDMyMDtcbiAgICAgICAgbGV0IGJnICA9IHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFwiYmxhY2tcIikpO1xuICAgICAgICBiZy5vcGFjaXR5ID0gMC45O1xuICAgICAgICBsZXQgYnV0dG9uID0gdGhpcy5hZGRDaGlsZChuZXcgQnV0dG9uKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpKTtcbiAgICAgICAgYnV0dG9uLm9uQ2xpY2sucHVzaCh0aGlzLmNsb3NlLmJpbmQodGhpcyksIHRoaXMpO1xuXG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgbGV0IGNvbnRleHQyRCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcih0aGlzLnRleHQsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCAyMCwgXCJzZXJpZlwiKTtcbiAgICAgICAgbGV0IHRleHQgPSBiZy5hZGRDaGlsZCh0Yi5idWlsZFRleHQobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC41LG5ldyBQb2ludCgwLjUsMC41KSkpKSk7XG4gICAgfVxuXG4gICAgb25PcGVuKClcbiAgICB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDA7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4odGhpcywgXCJvcGFjaXR5XCIsIDEsIDUwMCkpLm9uQ29tcGxldGUucHVzaCh0aGlzLnJlYWR5LmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVhZHkoKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICBvbkNsb3NpbmcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgVmFsdWVUd2Vlbih0aGlzLCBcIm9wYWNpdHlcIiwgMCwgNTAwKSkub25Db21wbGV0ZS5wdXNoKHRoaXMuY2xvc2UuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25DbG9zZSgpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAwO1xuICAgIH1cbn0iLCJpbXBvcnQgTWFwIGZyb20gXCIuL2NvcmUtdWktY29tcG9uZW50cy9NYXBcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4vbW9kZWwvR2FtZU1vZGVsXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgeyBGaWxsUmVjdCwgT3V0bGluZVJlY3QsIFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCB7IHJhbmRvbUNvbG91ciB9IGZyb20gXCIuL01haW5GcmFtZVwiO1xuaW1wb3J0IENoYXJhY3Rlck1vZGVsLCB7IEhlYWx0aFN0YXRlIH0gZnJvbSBcIi4vbW9kZWwvQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBTcHJpdGUgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9TcHJpdGVcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFNoYXBlIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvU2hhcGVcIjtcbmltcG9ydCB7IENvbWJhdFN0YXRlIH0gZnJvbSBcIi4vbW9kZWwvYWN0aW9uL0luaXRpYXRpdmVNb2RlbFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgV2FpdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XYWl0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzVHlwZSB9IGZyb20gXCIuL21vZGVsL1N0YXR1c1wiO1xuaW1wb3J0IFNwZWxsTGlzdCBmcm9tIFwiLi9tb2RlbC9TcGVsbExpc3RcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgRGV0YWlsTWVudU1vZGVsIGZyb20gXCIuL2NvcmUtdWktY29tcG9uZW50cy9EZXRhaWxNZW51TW9kZWxcIjtcbmltcG9ydCBTcGVsbCBmcm9tIFwiLi9tb2RlbC9TcGVsbFwiO1xuaW1wb3J0IE5leHRJY29uR3JlZW4gZnJvbSBcImFzc2V0cy9ycGcvdWkvbmV4dGljb24tZ3JlZW4ucG5nXCI7XG5pbXBvcnQgTmV4dEljb25ZZWxsb3cgZnJvbSBcImFzc2V0cy9ycGcvdWkvbmV4dGljb24teWVsbG93LnBuZ1wiO1xuaW1wb3J0IE5leHRJY29uUmVkIGZyb20gXCJhc3NldHMvcnBnL3VpL25leHRpY29uLXJlZC5wbmdcIjtcblxuaW1wb3J0IFN0YXR1c1Nsb3cgZnJvbSAgXCJhc3NldHMvcnBnL3VpL3N0YXR1cy1zbG93LnBuZ1wiO1xuaW1wb3J0IFN0YXR1c1N0YXJzIGZyb20gIFwiYXNzZXRzL3JwZy91aS9zdGF0dXMtc3RhcnMucG5nXCI7XG5pbXBvcnQgU3RhdHVzRGVhZCBmcm9tICBcImFzc2V0cy9ycGcvdWkvc3RhdHVzLWRlYWQucG5nXCI7XG5pbXBvcnQgU3RhdHVzVG9yY2hMaWdodCBmcm9tICBcImFzc2V0cy9ycGcvdWkvc3RhdHVzLXRvcmNoLWxpZ2h0LnBuZ1wiO1xuaW1wb3J0IFRvcmNoTGlnaHQgZnJvbSBcIi4vbW9kZWwvYWN0aW9uL3NwZWxscy9Ub3JjaExpZ2h0XCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4vbW9kZWwvYWN0aW9uL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4vbW9kZWwvYWN0aW9uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4vbW9kZWwvd29ybGQvTlBDTW9kZWxcIjtcbmltcG9ydCBXb3JsZE9iamVjdE1vZGVsIGZyb20gXCIuL21vZGVsL3dvcmxkL1dvcmxkT2JqZWN0TW9kZWxcIjtcbmltcG9ydCBXYWxsTW9kZWwgZnJvbSBcIi4vbW9kZWwvd29ybGQvV2FsbE1vZGVsXCI7XG5pbXBvcnQgeyBNb3VzZSB9IGZyb20gXCJlbmdpbmUvaW8vTW91c2VcIjtcbmltcG9ydCBEb29yTW9kZWwgZnJvbSBcIi4vbW9kZWwvd29ybGQvRG9vck1vZGVsXCI7XG5pbXBvcnQgeyBGYWNpbmcgfSBmcm9tIFwiLi9tb2RlbC9QbGF5ZXJNb2RlbFwiO1xuaW1wb3J0IHsgdGltaW5nU2FmZUVxdWFsIH0gZnJvbSBcImNyeXB0b1wiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVJTW9kZWxcbntcbiAgICBtYXA6IE1hcDtcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIG9uQ2hhcmFjdGVyU2VsZWN0ZWQ6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgY3VycmVudERldGFpbE1lbnU6IE9ic2VydmVyVmFyaWFibGU8RGV0YWlsTWVudU1vZGVsPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlPERldGFpbE1lbnVNb2RlbD4obnVsbCk7XG5cbiAgICBiYWNrZ3JvdW5kQ29sb3VyOiBzdHJpbmcgPSBcIiNmM2U3ZDdcIjtcbiAgICBob2xkRHVyYXRpb246IG51bWJlciA9IDIwMDtcbiAgICB6b29tSG9sZER1cmF0aW9uOiBudW1iZXIgPSAxMDA7XG4gICAgdG9vbHRpcDogT2JzZXJ2ZXJWYXJpYWJsZTxzdHJpbmc+O1xuICAgIHpvb21lZFZpZXc6IGJvb2xlYW47XG5cbiAgICBkcmFnZ2luZzogRmFjaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF9mYWNpbmdBdERyYWdTdGFydDogRmFjaW5nO1xuICAgIHByaXZhdGUgX3Bvc2l0aW9uQXREcmFnU3RhcnQ6IFBvaW50MztcbiAgICBwcml2YXRlIF92RHJhZ0Rpc3RhbmNlOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3ZEcmFnUmVxdWlyZWQ6IG51bWJlciA9IDAuMTtcbiAgICBwcml2YXRlIF9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2g6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lTW9kZWw6IEdhbWVNb2RlbCwgbWFwOiBNYXApXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5tYXAgPSBtYXBcblxuICAgICAgICB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLndhaXRpbmdDaGFyYWN0ZXIub25VcGRhdGUucHVzaCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMub25DaGFyYWN0ZXJTZWxlY3RlZC5jYWxsKCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB0aGlzLnRvb2x0aXAgPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZTxzdHJpbmc+KG51bGwpO1xuICAgIH1cblxuXG4gICAgZ2V0IHNlbGVjdGVkQ2hhcmFjdGVyKCkgeyByZXR1cm4gdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlOyB9XG5cbiAgICBnZXQgbWFwUm90YXRpb24oKSB7IHJldHVybiB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucm90YXRpb247IH1cblxuICAgIGRyYWdEb3duKGRpc3RhbmNlOiBudW1iZXIsIGRvdWJsZVRvdWNoOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgZGlzdGFuY2UgPSBNYXRoLm1pbihkaXN0YW5jZSwgMC4xKVxuICAgICAgICBpZiAoIXRoaXMuem9vbWVkVmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25BdERyYWdTdGFydCA9IHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmIChkb3VibGVUb3VjaClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuRmx5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zbGlkZVVwd2FyZChkaXN0YW5jZSoxLjUpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZEcmFnRGlzdGFuY2UgKz0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl92RHJhZ0Rpc3RhbmNlID49IHRoaXMuX3ZEcmFnUmVxdWlyZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmp1bXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZEcmFnRGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlRm9yd2FyZChkaXN0YW5jZSozKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBGYWNpbmcuU291dGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmFnVXAoZGlzdGFuY2U6IG51bWJlciwgZG91YmxlVG91Y2g6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBkaXN0YW5jZSA9IE1hdGgubWluKGRpc3RhbmNlLCAwLjEpXG4gICAgICAgIGlmICghdGhpcy56b29tZWRWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0ID0gdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKGRvdWJsZVRvdWNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnhdW3RoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi55XVt0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24uel07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5GbHkgJiYgY2VsbC5mbG9vcldhbGwucGFzc2FibGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlRG93bndhcmQoZGlzdGFuY2UqMS41KTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghY2VsbC5mbG9vcldhbGwucGFzc2FibGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92RHJhZ0Rpc3RhbmNlIC09IGRpc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdkRyYWdEaXN0YW5jZSA8PSAtdGhpcy5fdkRyYWdSZXF1aXJlZClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuY3JvdWNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92RHJhZ0Rpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zbGlkZUJhY2t3YXJkKGRpc3RhbmNlKjMpO1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IEZhY2luZy5Ob3J0aDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYWdMZWZ0KGRpc3RhbmNlOiBudW1iZXIsIGRvdWJsZVRvdWNoOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgZGlzdGFuY2UgPSBNYXRoLm1pbihkaXN0YW5jZSwgMC4xKVxuICAgICAgICBpZiAoIXRoaXMuem9vbWVkVmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5fZmFjaW5nQXREcmFnU3RhcnQgPSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nO1xuICAgICAgICAgICAgaWYgKGRvdWJsZVRvdWNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25BdERyYWdTdGFydCA9IHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc2xpZGVSaWdodCgtZGlzdGFuY2UqMS41KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5yb3RhdGVSaWdodCgtZGlzdGFuY2UqKE1hdGguUEkvMikpO1xuICAgICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IEZhY2luZy5XZXN0O1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGRyYWdSaWdodChkaXN0YW5jZTogbnVtYmVyLCBkb3VibGVUb3VjaDogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGRpc3RhbmNlID0gTWF0aC5taW4oZGlzdGFuY2UsIDAuMSlcbiAgICAgICAgaWYgKCF0aGlzLnpvb21lZFZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhY2luZ0F0RHJhZ1N0YXJ0ID0gdGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZztcbiAgICAgICAgICAgIGlmIChkb3VibGVUb3VjaClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQgPSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlTGVmdCgtZGlzdGFuY2UqMS41KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5yb3RhdGVMZWZ0KC1kaXN0YW5jZSooTWF0aC5QSS8yKSk7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gRmFjaW5nLkVhc3Q7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnRG93bih0b3VjaENvdW50OiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodG91Y2hDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2ggJiYgdGhpcy5fcG9zaXRpb25BdERyYWdTdGFydC5lcXVhbHModGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uKSlcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5tb3ZlRm9yd2FyZCgpO1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuRmx5ICYmIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQuZXF1YWxzKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmhvdmVyVXAoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmp1bXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5kRHJhZ1Jlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnVXAodG91Y2hDb3VudDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRvdWNoQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoICYmIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQuZXF1YWxzKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwubW92ZUJhY2t3YXJkKCk7XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2gpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnhdW3RoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi55XVt0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24uel07XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkZseSAmJiBjZWxsLmZsb29yV2FsbC5wYXNzYWJsZSAmJiB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0LmVxdWFscyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5ob3ZlckRvd24oKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmNyb3VjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmREcmFnUmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZERyYWdMZWZ0KHRvdWNoQ291bnQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICAodG91Y2hDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2ggJiYgdGhpcy5fZmFjaW5nQXREcmFnU3RhcnQgPT09IHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9ICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nICsgOCAtMSkgJSA4O1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoICYmIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQuZXF1YWxzKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbikpXG4gICAgICAgICAgICB7ICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnN0cmFmZUxlZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5kRHJhZ1Jlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnUmlnaHQodG91Y2hDb3VudDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRvdWNoQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoICYmIHRoaXMuX2ZhY2luZ0F0RHJhZ1N0YXJ0ID09PSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcgPSAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyArIDEpICUgODtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCAmJiB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0LmVxdWFscyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKVxuICAgICAgICAgICAgeyAgICBcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zdHJhZmVSaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmREcmFnUmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZERyYWdSZXNldCgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuem9vbWVkVmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucmVzZXRSb3RhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucmVzZXRQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl92RHJhZ0Rpc3RhbmNlID0gMDtcbiAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gZmFsc2U7XG4gICAgfVxuXG4gICAga2V5VygpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLm1vdmVGb3J3YXJkKCk7IH1cbiAgICBrZXlBKGRlbHRhOiBudW1iZXIpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLnR1cm5MZWZ0KCk7IH1cbiAgICBrZXlEKGRlbHRhOiBudW1iZXIpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLnR1cm5SaWdodCgpOyB9XG4gICAga2V5QVVwKCkgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwucmVzZXRSb3RhdGlvbigpOyB9XG4gICAga2V5RFVwKCkgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwucmVzZXRSb3RhdGlvbigpOyB9XG4gICAga2V5UygpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLm1vdmVCYWNrd2FyZCgpOyB9XG4gICAga2V5USgpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLnN0cmFmZUxlZnQoKTsgfVxuICAgIGtleUUoKSB7IGlmICghdGhpcy56b29tZWRWaWV3KSB0aGlzLmdhbWVNb2RlbC5zdHJhZmVSaWdodCgpOyB9XG4gICAga2V5UigpXG4gICAgeyBcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5ucGNzWzBdOyAgICBcbiAgICAgICAgbGV0IGFjdGlvbiA9IHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZS5hdmFpbGFibGVBY3Rpb25zKHRhcmdldClbMF07XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBlcmZvcm1BY3Rpb24odGFyZ2V0LCBhY3Rpb24pO1xuICAgIH1cbiAgICBrZXlUKClcbiAgICB7IFxuICAgICAgICB0aGlzLmdhbWVNb2RlbC5jYXN0U3BlbGwobmV3IFRvcmNoTGlnaHQoXCJUb3JjaCBMaWdodFwiLCBudWxsLCB0aGlzLmdhbWVNb2RlbCksIG51bGwpO1xuICAgIH1cblxuICAgIGtleVVwKCkgeyBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkxldmVsRWRpdCkgdGhpcy5nYW1lTW9kZWwudG9nZ2xlV2FsbEZyb250KCk7IH1cbiAgICBrZXlSaWdodCgpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxSaWdodCgpOyB9XG4gICAga2V5RG93bigpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxCZWhpbmQoKTsgfVxuICAgIGtleUxlZnQoKSB7IGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuTGV2ZWxFZGl0KSB0aGlzLmdhbWVNb2RlbC50b2dnbGVXYWxsTGVmdCgpOyB9XG4gICAga2V5MSgpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxBYm92ZSgpOyB9XG4gICAga2V5MCgpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxCZWxvdygpOyB9XG5cbiAgICBrZXlQZ1VwKCkgeyBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkZseSkgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLmhvdmVyVXAoKTsgfVxuICAgIGtleVBnRG93bigpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5GbHkpIGlmICghdGhpcy56b29tZWRWaWV3KSB0aGlzLmdhbWVNb2RlbC5ob3ZlckRvd24oKTsgfVxuXG4gICAga2V5TygpIHsgdGhpcy5nYW1lTW9kZWwuc2F2ZSgpOyB9XG4gICAga2V5UmlnaHRDaGV2cm9uKClcbiAgICB7IFxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsSUQgPCB0aGlzLmdhbWVNb2RlbC53b3JsZC5sZXZlbHMubGVuZ3RoLTEpXG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zd2l0Y2hMZXZlbCh0aGlzLmdhbWVNb2RlbC53b3JsZC5sZXZlbHNbdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsSUQrMV0pO1xuICAgIH1cbiAgICBrZXlMZWZ0Q2hldnJvbigpXG4gICAgeyBcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbElEID4gMClcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnN3aXRjaExldmVsKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmxldmVsc1t0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWxJRC0xXSk7XG4gICAgfVxuXG4gICAga2V5TWludXMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuY3VycmVudFBhaW50SUQtLTtcbiAgICB9XG4gICAga2V5RXF1YWxzKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmN1cnJlbnRQYWludElEKys7XG4gICAgfVxuICAgIGtleVVuZGVyc2NvcmUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuY3VycmVudFBhaW50SUQtPTEwO1xuICAgIH1cbiAgICBrZXlQbHVzKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmN1cnJlbnRQYWludElEKz0xMDtcbiAgICB9XG4gICAga2V5TigpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pXG4gICAgfVxuXG4gICAgd29ybGRDbGljayh0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcC52YWx1ZSAhPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcC52YWx1ZSA9IG51bGw7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUgIT09IG51bGwpXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID0gbnVsbDtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYWN0aW9uUmVzdWx0OiBBY3Rpb25SZXN1bHRNb2RlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLnBsYXllckNhbkFjdClcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpICYmICh0YXJnZXQgaW5zdGFuY2VvZiBXYWxsTW9kZWwpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFpbnRXYWxsKHRhcmdldClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTlBDTW9kZWwgfHwgdGFyZ2V0IGluc3RhbmNlb2YgV29ybGRPYmplY3RNb2RlbCB8fCB0YXJnZXQgaW5zdGFuY2VvZiBEb29yTW9kZWwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9ucyA9IHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZS5hdmFpbGFibGVBY3Rpb25zKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25SZXN1bHQgPSB0aGlzLmdhbWVNb2RlbC5wZXJmb3JtQWN0aW9uKHRhcmdldCwgYWN0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvblJlc3VsdClcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5hcHBseUFjdGlvblJlc3VsdChhY3Rpb25SZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd29ybGRIb2xkKHpvb21WaWV3OiAobW91c2UpID0+IHZvaWQsIG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIHRoaXMuem9vbWVkVmlldyA9IHRydWU7XG4gICAgICAgIHpvb21WaWV3KG1vdXNlKTtcbiAgICB9XG5cbiAgICB3b3JsZFJlbGVhc2VIb2xkKHVuem9vbVZpZXc6ICgpID0+IHZvaWQpXG4gICAge1xuICAgICAgICB0aGlzLnpvb21lZFZpZXcgPSBmYWxzZTtcbiAgICAgICAgdW56b29tVmlldygpO1xuICAgIH1cblxuICAgIGNsaWNrQ2hhcmFjdGVyUG9ydHJhaXQoYzogQ2hhcmFjdGVyTW9kZWwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlICE9PSBjKVxuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc3dpdGNoQ2hhcmFjdGVyKGMpXG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBob2xkQ2hhcmFjdGVyUG9ydHJhaXQoYzogQ2hhcmFjdGVyTW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBjLmZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHJlbGVhc2VIb2xkKClcbiAgICB7XG4gICAgICAgIHRoaXMudG9vbHRpcC52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgY2xpY2tRdWlja0l0ZW1zVGFiQnV0dG9uKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5zZXREZXRhaWxNZW51KCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUuc3BlbGxMaXN0KVxuICAgICAgICAgICAgdGhpcy5zZXREZXRhaWxNZW51KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuaGlkZURldGFpbE1lbnUoKTtcbiAgICAgICAgICAgICAgICBcbiAgICB9XG5cbiAgICBob2xkUXVpY2tJdGVtc1RhYkJ1dHRvbigpXG4gICAge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBcIlF1aWNrIGl0ZW1zXCI7XG4gICAgfVxuXG4gICAgY2xpY2tTcGVsbExpc3RUYWJCdXR0b24obDogU3BlbGxMaXN0KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICB0aGlzLnNldERldGFpbE1lbnUobCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUuc3BlbGxMaXN0ICE9PSBsKVxuICAgICAgICAgICAgdGhpcy5zZXREZXRhaWxNZW51KGwpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmhpZGVEZXRhaWxNZW51KCk7XG4gICAgfVxuXG4gICAgaG9sZFNwZWxsTGlzdFRhYkJ1dHRvbihsOiBTcGVsbExpc3QpXG4gICAge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBsLm5hbWUgKyBcIiBzcGVsbHNcIjtcbiAgICB9XG5cbiAgICBjbGlja1NwZWxsQnV0dG9uKHM6IFNwZWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHMudGVzdCh0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyLCBudWxsKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHMucmVxdWlyZVRhcmdldClcbiAgICAgICAgICAgICAgICB0aGlzLmFjcXVpcmVUYXJnZXQocyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuY2FzdFNwZWxsKHMsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaG9sZFNwZWxsQnV0dG9uKHM6IFNwZWxsKVxuICAgIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gcy5uYW1lO1xuICAgIH1cblxuICAgIGhvbGRTdGF0dXNJY29uKHN0YXR1czogU3RhdHVzKVxuICAgIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gc3RhdHVzLm5hbWU7XG4gICAgfVxuXG4gICAgaG9sZE1pbmlNYXAoKVxuICAgIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gXCJEYXRlL1RpbWVcIlxuICAgIH1cblxuICAgIGhvbGRMZXZlbE5hbWVUZXh0KClcbiAgICB7XG4gICAgICAgIHRoaXMudG9vbHRpcC52YWx1ZSA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5uYW1lXG4gICAgfVxuXG4gICAgaG9sZENoYXJhY3RlclNoZWV0TWVudUljb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gXCJTaG93IGNoYXJhY3RlciBzaGVldHNcIjtcbiAgICB9XG5cbiAgICBhY3F1aXJlVGFyZ2V0KHNwZWxsOiBTcGVsbClcbiAgICB7XG5cbiAgICB9XG5cbiAgICBnZXRDaGFyYWN0ZXJQb3J0cmFpdEltYWdlKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUocG9zaXRpb24sIGJvdW5kcywgdGhpcy5nYW1lTW9kZWwuZGF0YS5wb3J0cmFpdHNbY2hhcmFjdGVyTW9kZWwuY2hhcmFjdGVyRGF0YS5wb3J0cmFpdF0uZmlsZW5hbWUpO1xuICAgIH1cblxuICAgIGdldENoYXJhY3RlclNlbGVjdGVkSGlnaGxpZ2h0KHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IHNoID0gbmV3IE91dGxpbmVSZWN0KHBvc2l0aW9uLCBib3VuZHMsIFwieWVsbG93XCIsIDIpO1xuICAgICAgICBzaC52aXNpYmxlID0gdGhpcy5zZWxlY3RlZENoYXJhY3RlciA9PT0gY2hhcmFjdGVyTW9kZWw7XG4gICAgICAgIHRoaXMub25DaGFyYWN0ZXJTZWxlY3RlZC5wdXNoKCgoKSA9PiBzaC52aXNpYmxlID0gdGhpcy5zZWxlY3RlZENoYXJhY3RlciA9PT0gY2hhcmFjdGVyTW9kZWwpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICByZXR1cm4gc2g7XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVyTmV4dEhpZ2hsaWdodChwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbClcbiAgICB7XG4gICAgICAgIGxldCBncm91cCA9IG5ldyBHYW1lT2JqZWN0KHBvc2l0aW9uLCBib3VuZHMpXG4gICAgICAgIGxldCBnID0gbmV3IFNwcml0ZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBOZXh0SWNvbkdyZWVuKTtcbiAgICAgICAgbGV0IHkgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIE5leHRJY29uWWVsbG93KTtcbiAgICAgICAgbGV0IHIgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIE5leHRJY29uUmVkKTtcbiAgICAgICAgZ3JvdXAuYWRkQ2hpbGQoZyk7XG4gICAgICAgIGdyb3VwLmFkZENoaWxkKHkpO1xuICAgICAgICBncm91cC5hZGRDaGlsZChyKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS5vblVwZGF0ZS5wdXNoKCh2YWwpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBnLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5HcmVlbilcbiAgICAgICAgICAgICAgICBnLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5ZZWxsb3cpXG4gICAgICAgICAgICAgICAgeS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gQ29tYmF0U3RhdGUuUmVkKVxuICAgICAgICAgICAgICAgIHIudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBncm91cC5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgZy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICByLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUuY29tYmF0U3RhdGUudmFsdWUgPT09IENvbWJhdFN0YXRlLkdyZWVuKVxuICAgICAgICAgICAgZy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuWWVsbG93KVxuICAgICAgICAgICAgeS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuUmVkKVxuICAgICAgICAgICAgci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLm9uVXBkYXRlLnB1c2goKCh2YWwpID0+IGdyb3VwLnZpc2libGUgPSB2YWwgPT09IGNoYXJhY3Rlck1vZGVsKS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgZ3JvdXAudmlzaWJsZSA9IHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZSA9PT0gY2hhcmFjdGVyTW9kZWw7XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBnZXRDaGFyYWN0ZXJXYWl0aW5nSGlnaGxpZ2h0KHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgXG4gICAgICAgIGxldCBncm91cCA9IG5ldyBGaWxsUmVjdChwb3NpdGlvbiwgYm91bmRzLCBcImdyZWVuXCIpXG4gICAgICAvLyAgbGV0IGcgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFdhaXRpbmdJY29uR3JlZW4pO1xuICAgICAgLy8gIGxldCB5ID0gbmV3IFNwcml0ZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBXYWl0aW5nSWNvblllbGxvdyk7XG4gICAgICAgIC8vbGV0IHIgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFdhaXRpbmdJY29uUmVkKTtcbiAgICAgICAvLyBncm91cC5hZGRDaGlsZChnKTtcbiAgICAgICAgLy9ncm91cC5hZGRDaGlsZCh5KTtcbiAgICAgICAvLyBncm91cC5hZGRDaGlsZChyKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS5vblVwZGF0ZS5wdXNoKCh2YWwpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgIC8vIGcudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAvLyB5LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgLy8gci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5HcmVlbilcbiAgICAgICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcImdyZWVuXCJcbiAgICAgICAgICAgLy8gICAgIGcudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPT09IENvbWJhdFN0YXRlLlllbGxvdylcbiAgICAgICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcInllbGxvd1wiXG4gICAgICAgICAgICAvLyAgICB5LnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5SZWQpXG4gICAgICAgICAgICAgICAgZ3JvdXAuZmlsbFN0eWxlID0gXCJyZWRcIlxuICAgICAgICAgICAgLy8gICAgci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdyb3VwLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgIC8vIGcudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgLy8gIHkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAvLyAgIHIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuR3JlZW4pXG4gICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcImdyZWVuXCJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuWWVsbG93KVxuICAgICAgICAgICAgZ3JvdXAuZmlsbFN0eWxlID0gXCJ5ZWxsb3dcIlxuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLmNvbWJhdFN0YXRlLnZhbHVlID09PSBDb21iYXRTdGF0ZS5SZWQpXG4gICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcInJlZFwiXG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3RlcnMub25VcGRhdGUucHVzaCgoKHZhbCkgPT4gZ3JvdXAudmlzaWJsZSA9IHZhbC5pbmRleE9mKGNoYXJhY3Rlck1vZGVsKSAhPT0gLTEpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBncm91cC52aXNpYmxlID0gdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVycy52YWx1ZS5pbmRleE9mKGNoYXJhY3Rlck1vZGVsKSAhPT0gLTE7XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBnZXRDaGFyYWN0ZXJIaXRGaWx0ZXIocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwpXG4gICAge1xuICAgICAgICBsZXQgaGl0RmlsdGVyID0gbmV3IEZpbGxSZWN0KHBvc2l0aW9uLCBib3VuZHMsIFwicmVkXCIpO1xuICAgICAgICBoaXRGaWx0ZXIub3BhY2l0eSA9IDAuNTtcbiAgICAgICAgaGl0RmlsdGVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgY2hhcmFjdGVyTW9kZWwub25UYWtlRGFtYWdlLnB1c2goKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaGl0RmlsdGVyLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgaGl0RmlsdGVyLmFkZENoaWxkKG5ldyBXYWl0KDMwMCkpLm9uQ29tcGxldGUucHVzaCgoKSA9PiBoaXRGaWx0ZXIudmlzaWJsZSA9IGZhbHNlLCB0aGlzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBoaXRGaWx0ZXI7XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVySFBCYXIocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwpXG4gICAge1xuICAgICAgICBsZXQgcGFyZW50ID0gbmV3IFJlY3QocG9zaXRpb24sIGJvdW5kcywgXCJibGFja1wiLCBcIiNmM2U3ZDdcIiwgMSk7XG4gICAgICAgIGxldCBocFByb3BvcnRpb24gPSBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMSk7XG4gICAgICAgIGhwUHJvcG9ydGlvbi5wcmVzZXJ2ZSA9IHRydWU7XG4gICAgICAgIGxldCBjaGlsZCA9IG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwxLCBuZXcgUG9pbnQoMC41LDEpKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDApLCBocFByb3BvcnRpb24pLCBcImdyZWVuXCIpO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uZml4ZWQgPSBmYWxzZTtcbiAgICAgICAgY2hhcmFjdGVyTW9kZWwuaGl0cG9pbnRzLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVIUFN0YXRlLmJpbmQodGhpcywgY2hhcmFjdGVyTW9kZWwsIGNoaWxkLCBocFByb3BvcnRpb24pLCB0aGlzKTtcbiAgICAgICAgY2hhcmFjdGVyTW9kZWwubWF4SGl0cG9pbnRzLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVIUFN0YXRlLmJpbmQodGhpcywgY2hhcmFjdGVyTW9kZWwsIGNoaWxkLCBocFByb3BvcnRpb24pLCB0aGlzKTtcbiAgICAgICAgY2hhcmFjdGVyTW9kZWwuaGVhbHRoU3RhdGUub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZUhQU3RhdGUuYmluZCh0aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIGhwUHJvcG9ydGlvbiksIHRoaXMpO1xuICAgICAgICBwYXJlbnQuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIGdldENoYXJhY3Rlck1hbmFCYXIocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCAgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IG5ldyBSZWN0KHBvc2l0aW9uLCBib3VuZHMsIFwiYmxhY2tcIiwgXCIjZjNlN2Q3XCIsIDEpO1xuICAgICAgICBsZXQgbWFuYVByb3BvcnRpb24gPSBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMSk7XG4gICAgICAgIG1hbmFQcm9wb3J0aW9uLnByZXNlcnZlID0gdHJ1ZTtcbiAgICAgICAgbGV0IGNoaWxkID0gbmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDEsIG5ldyBQb2ludCgwLjUsMSkpKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMCksIG1hbmFQcm9wb3J0aW9uKSwgXCJibHVlXCIpO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uZml4ZWQgPSBmYWxzZTtcbiAgICAgICAgLy9jaGFyYWN0ZXJNb2RlbC5tYW5hLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGV1cGRhdGVNYW5hU3RhdGVTdGF0ZS50aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIG1hbmFQcm9wb3J0aW9uKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgLy9jaGFyYWN0ZXJNb2RlbC5tYXhNYW5hLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVNYW5hU3RhdGUuYmluZCh0aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIG1hbmFQcm9wb3J0aW9uKSwgdGhpcyk7XG4gICAgICAgIHBhcmVudC5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgZ2V0U3RhdHVzSWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIHN0YXR1czogU3RhdHVzKVxuICAgIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lO1xuICAgICAgICBpZiAoc3RhdHVzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuRGVhZClcbiAgICAgICAgICAgIGZpbGVuYW1lID0gU3RhdHVzRGVhZFxuICAgICAgICBpZiAoc3RhdHVzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuU2xvdylcbiAgICAgICAgICAgIGZpbGVuYW1lID0gU3RhdHVzU2xvd1xuICAgICAgICBpZiAoc3RhdHVzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuVG9yY2hMaWdodClcbiAgICAgICAgICAgIGZpbGVuYW1lID0gU3RhdHVzVG9yY2hMaWdodFxuXG4gICAgICAgIGlmIChmaWxlbmFtZSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHBvc2l0aW9uLCBib3VuZHMsIGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBPdXRsaW5lUmVjdChwb3NpdGlvbiwgYm91bmRzLCByYW5kb21Db2xvdXIoKSwgMSlcbiAgICB9XG5cbiAgICB1cGRhdGVIUFN0YXRlKGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbCwgaHBCYXI6IFNoYXBlLCBocFByb3BvcnRpb246IFByb3BvcnRpb25hbERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGlmIChjaGFyYWN0ZXJNb2RlbC5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuTm9ybWFsKVxuICAgICAgICB7XG4gICAgICAgICAgICBocFByb3BvcnRpb24uaGVpZ2h0ID0gTWF0aC5tYXgoMCxjaGFyYWN0ZXJNb2RlbC5oaXRwb2ludHMudmFsdWUvY2hhcmFjdGVyTW9kZWwubWF4SGl0cG9pbnRzLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChocFByb3BvcnRpb24uaGVpZ2h0IDwgMC4zMylcbiAgICAgICAgICAgICAgICBocEJhci5maWxsU3R5bGUgPSBcInJlZFwiO1xuICAgICAgICAgICAgZWxzZSBpZiAoaHBQcm9wb3J0aW9uLmhlaWdodCA8IDAuNSlcbiAgICAgICAgICAgICAgICBocEJhci5maWxsU3R5bGUgPSBcInllbGxvd1wiO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGhwQmFyLmZpbGxTdHlsZSA9IFwiZ3JlZW5cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyYWN0ZXJNb2RlbC5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuVW5jb25zaW91cylcbiAgICAgICAge1xuICAgICAgICAgICAgaHBQcm9wb3J0aW9uLmhlaWdodCA9IE1hdGgubWluKDEsLWNoYXJhY3Rlck1vZGVsLmhpdHBvaW50cy52YWx1ZS9jaGFyYWN0ZXJNb2RlbC5tYXhIaXRwb2ludHMudmFsdWUpO1xuICAgICAgICAgICAgaHBCYXIuZmlsbFN0eWxlID0gXCJncmV5XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBocFByb3BvcnRpb24uaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIGhwQmFyLmZpbGxTdHlsZSA9IHVuZGVmaW5lZFxuICAgICAgICB9XG5cbiAgICAgICAgaHBCYXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVNYW5hU3RhdGUoY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsLCBtYW5hQmFyOiBTaGFwZSwgbWFuYVByb3BvcnRpb246IFByb3BvcnRpb25hbERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIG1hbmFQcm9wb3J0aW9uLmhlaWdodCA9IE1hdGgubWF4KDAsY2hhcmFjdGVyTW9kZWwubWFuYS9jaGFyYWN0ZXJNb2RlbC5tYXhNYW5hKTtcbiAgICAgICAgbWFuYUJhci5maWxsU3R5bGUgPSBcImJsdWVcIjtcblxuICAgICAgICBpZiAoY2hhcmFjdGVyTW9kZWwuaGVhbHRoU3RhdGUudmFsdWUgPT09IEhlYWx0aFN0YXRlLkRlYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1hbmFQcm9wb3J0aW9uLmhlaWdodCA9IDE7XG4gICAgICAgICAgICBtYW5hQmFyLmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hbmFCYXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cblxuICAgIGdldENoYXJhY3RlclRhYnMoY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKTogR2FtZU9iamVjdFtdXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVyU2hlZXRNZW51SWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCB0aGlzLmdhbWVNb2RlbC5kYXRhLnVpLmNoYXJTaGVldEljb24pO1xuICAgIH1cblxuICAgIGdldFF1aWNrSXRlbVRhYkljb24ocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUocG9zaXRpb24sIGJvdW5kcywgdGhpcy5nYW1lTW9kZWwuZGF0YS51aS5xdWlja0l0ZW1UYWJJY29uKTtcbiAgICB9XG5cbiAgICBnZXRTcGVsbExpc3RUYWJJY29uKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgc3BlbGxMaXN0OiBTcGVsbExpc3QpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCBzcGVsbExpc3QuaWNvbik7XG4gICAgfVxuXG4gICAgc2V0RGV0YWlsTWVudShzcGVsbExpc3Q/OiBTcGVsbExpc3QpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID0gbmV3IERldGFpbE1lbnVNb2RlbChzcGVsbExpc3QpO1xuICAgIH1cblxuICAgIGhpZGVEZXRhaWxNZW51KClcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIGdldFNwZWxsSWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIHNwZWxsOiBTcGVsbClcbiAgICB7XG4gICAgICAgIGlmICghc3BlbGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGljb24gZm9yIHNwZWxsIGJlY2F1c2Ugc3BlbGwgbm90IGZvdW5kLCBkb2VzIHRoZSBzcGVsbCBleGlzdCBhbmQgaXMgaXQgcHJvcGVybHkgbmFtZWQ/XCIpO1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCBzcGVsbC5pY29uKTtcbiAgICB9XG5cbiAgICBnZXRBbmltV2FpdEhvdXJnbGFzcyhwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCB0aGlzLmdhbWVNb2RlbC5kYXRhLnVpLmhvdXJnbGFzc0ljb24pOyBcbiAgICB9XG59IiwiaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBUZXh0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0XCI7XG5pbXBvcnQgUHJlc3NIb2xkVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvUHJlc3NIb2xkVHJpZ2dlclwiO1xuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvQnV0dG9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgQW5pbWF0aW9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL0FuaW1hdGlvblwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IFZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vVmFsdWVUd2VlblwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSBcImVuZ2luZS9pby9Nb3VzZVwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4vVUlNb2RlbFwiO1xuaW1wb3J0IHsgVHJlZVV0aWxzIH0gZnJvbSBcImVuZ2luZS9UcmVlVXRpbHNcIjtcbmltcG9ydCBTY2VuZSBmcm9tIFwiLi9zY2VuZXZpZXcvU2NlbmVcIjtcbmltcG9ydCBMb2FkaW5nQmFyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9Mb2FkaW5nQmFyXCI7XG5pbXBvcnQgS2V5VHJpZ2dlciwgeyBLZXlUcmlnZ2VyRXZlbnRzIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0tleVRyaWdnZXJcIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGRGcmFtZSBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHByaXZhdGUgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgcHJpdmF0ZSB0aHJlZUJ1ZmZlcjogU2NlbmU7XG4gICAgcHJpdmF0ZSB1aU1vZGVsOiBVSU1vZGVsO1xuXG4gICAgcHJpdmF0ZSBkZWZhdWx0Rk9WID0gNTI7XG4gICAgXG4gICAgcHJpdmF0ZSBpbmZvVGV4dDogVGV4dDtcbiAgICBwcml2YXRlIGNyb3NzaGFpcjogR2FtZU9iamVjdDtcbiAgICBwcm90ZWN0ZWQgaW5mb1RleHRXYWl0OiBBbmltYXRpb247XG5cbiAgICBwcml2YXRlIGxvYWRpbmdCYXI6IExvYWRpbmdCYXI7XG4gICAgcHJpdmF0ZSBjaGFuZ2luZ1NjZW5lOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIGdhbWVNb2RlbDogR2FtZU1vZGVsLCB1aU1vZGVsOlVJTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcImJsYWNrXCIpKVxuICAgICAgICB0aGlzLl9jcmVhdGVNb3VzZVRyaWdnZXJzKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUhVRCgpO1xuICAgICAgICB0aGlzLl9jcmVhdGVUaHJlZUJ1ZmZlcigpO1xuXG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uU3dpdGNoTGV2ZWwucHVzaCh0aGlzLl9zd2l0Y2hMZXZlbC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5mb1RleHQub25VcGRhdGUucHVzaCh0aGlzLl91cGRhdGVJbmZvVGV4dC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgbGV0IGt0ID0gdGhpcy5hZGRDaGlsZChuZXcgS2V5VHJpZ2dlcigpKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJtXCIsS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKCgpID0+IGNvbnNvbGUubG9nKHRoaXMudGhyZWVCdWZmZXIucmVuZGVyZXIuaW5mbyksIHRoaXMpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jaGFuZ2luZ1NjZW5lKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhdHMgPSBUcmVlVXRpbHMuc3VidHJlZUxvYWRTdGF0cyh0aGlzLnRocmVlQnVmZmVyKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGluZ0Jhci5zZXRQcm9wb3J0aW9uKHN0YXRzLmFzc2V0c1Byb3BvcnRpb24pO1xuICAgICAgICAgICAgaWYgKHRoaXMudGhyZWVCdWZmZXIuc3VidHJlZUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbExvYWRlZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdpbmdTY2VuZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc3dpdGNoTGV2ZWwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jaGFuZ2luZ1NjZW5lID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fY3JlYXRlVGhyZWVCdWZmZXIoKTtcbiAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9hZGluZ0Jhci52aXNpYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9sZXZlbExvYWRlZCgpXG4gICAge1xuICAgICAgICB0aGlzLmxvYWRpbmdCYXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLnZpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZVRocmVlQnVmZmVyKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRocmVlQnVmZmVyKVxuICAgICAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5yZXF1ZXN0UmVtb3ZhbCgpO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyID0gdGhpcy5hZGRDaGlsZChuZXcgU2NlbmUobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5nYW1lTW9kZWwpKTtcbiAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5maWVsZE9mVmlldyA9IHRoaXMuZGVmYXVsdEZPVjtcbiAgICAgICAgLy9sZXQgZGltID0gdGhpcy50cmFuc2Zvcm0uZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIC8vbGV0IGhGT1YgPSAyICogTWF0aC5hdGFuKCBNYXRoLnRhbiggdGhpcy50aHJlZUJ1ZmZlci5maWVsZE9mVmlldyAqIE1hdGguUEkgLyAxODAgLyAyICkgKiBkaW0uYXNwZWN0ICkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICAvL2xldCB2Rk9WID0gIDIqTWF0aC5hdGFuKE1hdGgudGFuKDMwKjAuNSkvZGltLmFzcGVjdCk7XG4gICAgICAgIHRoaXMudGhyZWVCdWZmZXIucmVxdWVzdERyYXcoKTtcbiAgICAgICAgVHJlZVV0aWxzLm1vdmVDaGlsZFRvTGFzdCh0aGlzLCB0aGlzLnRocmVlQnVmZmVyKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVNb3VzZVRyaWdnZXJzKClcbiAgICB7XG4gICAgICAgIGxldCB3b3JsZENsaWNrOiBCdXR0b24gPSB0aGlzLmFkZENoaWxkKG5ldyBCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpXG4gICAgICAgIHdvcmxkQ2xpY2sub25DbGljay5wdXNoKHRoaXMuX3dvcmxkQ2xpY2suYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIC8qbGV0IHdvcmxkSG9sZDogUHJlc3NIb2xkVHJpZ2dlciA9IHRoaXMuYWRkQ2hpbGQobmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLnpvb21Ib2xkRHVyYXRpb24pKTtcbiAgICAgICAgd29ybGRIb2xkLm9uSG9sZC5wdXNoKHdvcmxkQ2xpY2sucmVzZXQuYmluZCh3b3JsZENsaWNrKSwgdGhpcyk7XG4gICAgICAgIHdvcmxkSG9sZC5vbkhvbGQucHVzaCh0aGlzLnVpTW9kZWwud29ybGRIb2xkLmJpbmQodGhpcy51aU1vZGVsLCB0aGlzLl96b29tVmlldy5iaW5kKHRoaXMpKSwgdGhpcyk7XG4gICAgICAgIHdvcmxkSG9sZC5vblJlbGVhc2VIb2xkLnB1c2godGhpcy51aU1vZGVsLndvcmxkUmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwsIHRoaXMuX3Vuem9vbVZpZXcuYmluZCh0aGlzKSksIHRoaXMpOyovXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY3JlYXRlSFVEKClcbiAgICB7XG4gICAgICAgIHRoaXMuaW5mb1RleHQgPSB0aGlzLmFkZENoaWxkKG5ldyBUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuOCwgbmV3IFBvaW50KDAuNSwwLjUpKSksbmV3IEJvdW5kcygpLCBcIlwiLCBcIndoaXRlXCIsIDEyLCBcInNlcmlmXCIsIDEuNSkpOyAgICAgICAgXG4gICAgICAgIHRoaXMuY3Jvc3NoYWlyID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC41LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMywzKSksIFwid2hpdGVcIikpO1xuICAgICAgICB0aGlzLmNyb3NzaGFpci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubG9hZGluZ0JhciA9IHRoaXMuYWRkQ2hpbGQobmV3IExvYWRpbmdCYXIobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC41LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMTAwLDEwKSksIFwid2hpdGVcIiwgXCJncmV5XCIpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVJbmZvVGV4dCh2YWw6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHRoaXMuaW5mb1RleHQudGV4dCA9IHZhbDtcbiAgICAgICAgdGhpcy5pbmZvVGV4dC5vcGFjaXR5ID0gMTtcbiAgICAgICAgdGhpcy5pbmZvVGV4dC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaW5mb1RleHRXYWl0KVxuICAgICAgICAgICAgdGhpcy5pbmZvVGV4dFdhaXQucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgdGhpcy5pbmZvVGV4dFdhaXQgPSB0aGlzLmluZm9UZXh0LmFkZENoaWxkKG5ldyBXYWl0KDMwMDApKTtcbiAgICAgICAgdGhpcy5pbmZvVGV4dFdhaXQub25Db21wbGV0ZS5wdXNoKCgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgIHRoaXMuaW5mb1RleHRXYWl0ID0gdGhpcy5pbmZvVGV4dC5hZGRDaGlsZChuZXcgVmFsdWVUd2Vlbih0aGlzLmluZm9UZXh0LCBcIm9wYWNpdHlcIiwgMCwgMTAwMCkpO1xuICAgICAgICAgICB0aGlzLmluZm9UZXh0V2FpdC5vbkNvbXBsZXRlLnB1c2goKCkgPT4gdGhpcy5pbmZvVGV4dC52aXNpYmxlID0gZmFsc2UsIHRoaXMpO1xuICAgICAgICB9LCB0aGlzKVxuICAgIH1cblxuICAgIHByaXZhdGUgX3dvcmxkQ2xpY2sobW91c2U6IE1vdXNlKVxuICAgIHtcbiAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMuX2dldE1vdXNlT2Zmc2V0KG1vdXNlKTtcblxuICAgICAgICBsZXQgcmF5Y2FzdGVyID0gbmV3IFRIUkVFLlJheWNhc3RlcigpO1xuICAgICAgICByYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShuZXcgVEhSRUUuVmVjdG9yMihvZmZzZXQueCxvZmZzZXQueSksIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhKTtcbiAgICAgICAgbGV0IGludGVyc2VjdHMgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyh0aGlzLnRocmVlQnVmZmVyLnNjZW5lLmNoaWxkcmVuKTtcbiAgICAgICAgaWYgKGludGVyc2VjdHMubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGdvID0gaW50ZXJzZWN0c1swXS5vYmplY3QudXNlckRhdGEuZ2FtZU9iamVjdDtcbiAgICAgICAgICAgIGlmIChnbylcbiAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwud29ybGRDbGljayhnby5tb2RlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRNb3VzZU9mZnNldChtb3VzZTogTW91c2UpXG4gICAge1xuICAgICAgICBsZXQgbW91c2VQb3MgPSBQb2ludC5taW51cyhtb3VzZS5wb3NpdGlvbiwgdGhpcy50cmFuc2Zvcm0uZ2V0Q2Fub25pY2FsUG9zaXRpb24oKSk7XG4gICAgICAgIGxldCB4ID0gKG1vdXNlUG9zLngvdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi53aWR0aCkqMi0xO1xuICAgICAgICBsZXQgeSA9IC0oKG1vdXNlUG9zLnkvdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQpKjItMSk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICAvKnByaXZhdGUgX3pvb21WaWV3KG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLl9nZXRNb3VzZU9mZnNldChtb3VzZSk7XG4gICAgICAgIGxldCBoRk9WID0gMiAqIE1hdGguYXRhbiggTWF0aC50YW4oIHRoaXMudGhyZWVCdWZmZXIuZmllbGRPZlZpZXcgKiBNYXRoLlBJIC8gMTgwIC8gMiApICogdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEuYXNwZWN0ICkgKiAxODAgLyBNYXRoLlBJO1xuICAgICAgICBsZXQgZGVnWCA9IG9mZnNldC54ICogKGhGT1YvMilcbiAgICAgICAgbGV0IHJhZFggPSAoZGVnWC8xODApICogTWF0aC5QSTtcbiAgICAgICAgbGV0IGRlZ1kgPSBvZmZzZXQueSAqICh0aGlzLnRocmVlQnVmZmVyLmZpZWxkT2ZWaWV3LzIpXG4gICAgICAgIGxldCByYWRZID0gKGRlZ1kvMTgwKSAqIE1hdGguUEk7XG5cbiAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5wbGF5ZXIuc2V0Q2FtZXJhUm90YXRpb24odGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEucm90YXRpb24ueCArIHJhZFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnJvdGF0aW9uLnkgLSByYWRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5yb3RhdGlvbi56LCB0cnVlLCAyMDApO1xuXG4gICAgICAgIGxldCB0d2VlbiA9IHRoaXMudGhyZWVCdWZmZXIuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4odGhpcy50aHJlZUJ1ZmZlciwgXCJmaWVsZE9mVmlld1wiLCA2MCwgMjAwKSk7XG4gICAgICAgIHR3ZWVuLm9uQ29tcGxldGUucHVzaCgoKCkgPT4gdGhpcy5jcm9zc2hhaXIudmlzaWJsZSA9IHRydWUpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3Vuem9vbVZpZXcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jcm9zc2hhaXIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBsZXQgeSA9IHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnJvdGF0aW9uLnk7XG4gICAgICAgIHkgPSAoTWF0aC5yb3VuZCgoeS8oTWF0aC5QSS8yKSkpJTQpKihNYXRoLlBJLzIpO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLnBsYXllci5zZXRDYW1lcmFSb3RhdGlvbigwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5yb3RhdGlvbi56LCB0cnVlLCA0MDApO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMudGhyZWVCdWZmZXIsIFwiZmllbGRPZlZpZXdcIiwgdGhpcy5kZWZhdWx0Rk9WLCA0MDApKTtcbiAgICB9Ki9cbn1cbiIsImltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciwgRnJhbWUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBGaWxsUmVjdCB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUmVjdFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBQcmVzc0hvbGRUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9QcmVzc0hvbGRUcmlnZ2VyXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBUZXh0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjdGlvbkJhck1lbnUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgcHJpdmF0ZSB1aU1vZGVsOiBVSU1vZGVsXG4gICAgcHJpdmF0ZSBsZXZlbE5hbWVUZXh0OiBUZXh0O1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcIiNmM2U3ZDdcIikpO1xuICAgICAgICBsZXQgc2hhZG93ID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLDEpKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMCksIG5ldyBQaXhlbERpbWVuc2lvbigwLDEpKSwgXCJibGFja1wiKSk7XG4gICAgICAgIHNoYWRvdy5vcGFjaXR5ID0gMC4zO1xuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5jcmVhdGVDaGFyYWN0ZXJTaGVldE1lbnVJY29uKCkpO1xuICAgICAgICB0aGlzLmxldmVsTmFtZVRleHQgPSB0aGlzLmFkZENoaWxkKHRoaXMuY3JlYXRlTGV2ZWxOYW1lVGV4dCgpKTtcbiAgICAgICAgdGhpcy51aU1vZGVsLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwub25VcGRhdGUucHVzaCgoKHZhbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sZXZlbE5hbWVUZXh0LnRleHQgPSB2YWwubmFtZTtcbiAgICAgICAgfSkuYmluZCh0aGlzKSwgdGhpcylcbiAgICB9XG5cbiAgICBjcmVhdGVDaGFyYWN0ZXJTaGVldE1lbnVJY29uKCk6IEdhbWVPYmplY3RcbiAgICB7XG4gICAgICAgIGxldCBjc21pID0gdGhpcy51aU1vZGVsLmdldENoYXJhY3RlclNoZWV0TWVudUljb24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLDEpLCBuZXcgUGl4ZWxEaW1lbnNpb24oNjQsMCkpKTtcbiAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gbmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbik7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5ob2xkQ2hhcmFjdGVyU2hlZXRNZW51SWNvbi5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBob2xkVHJpZ2dlci5vblJlbGVhc2VIb2xkLnB1c2godGhpcy51aU1vZGVsLnJlbGVhc2VIb2xkLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGNzbWkuYWRkQ2hpbGQoaG9sZFRyaWdnZXIpO1xuICAgICAgICByZXR1cm4gY3NtaTtcbiAgICB9XG5cbiAgICBjcmVhdGVMZXZlbE5hbWVUZXh0KCk6IFRleHRcbiAgICB7XG4gICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgbGV0IGNvbnRleHQyRCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cbiAgICAgICAgbGV0IHRiID0gbmV3IFRleHRCdWlsZGVyKHRoaXMudWlNb2RlbC5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLm5hbWUsIGNvbnRleHQyRCwgXCJibGFja1wiLCAxMCwgXCJzYW5zLXNlcmlmXCIsIDEuMik7XG4gICAgICAgIGxldCBsZXZlbE5hbWVUZXh0ID0gdGhpcy5hZGRDaGlsZCh0Yi5idWlsZFRleHQobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC41LCBuZXcgUG9pbnQoMC41LDAuNSkpKSkpO1xuXG4gICAgICAgIGxldCBob2xkVHJpZ2dlciA9IG5ldyBQcmVzc0hvbGRUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5ob2xkRHVyYXRpb24pO1xuICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaCh0aGlzLnVpTW9kZWwuaG9sZExldmVsTmFtZVRleHQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgaG9sZFRyaWdnZXIub25SZWxlYXNlSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5yZWxlYXNlSG9sZC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBsZXZlbE5hbWVUZXh0LmFkZENoaWxkKGhvbGRUcmlnZ2VyKTtcbiAgICAgICAgcmV0dXJuIGxldmVsTmFtZVRleHQ7XG4gICAgfVxufSIsImltcG9ydCBQb3J0cmFpdEJ1dHRvbiBmcm9tIFwiLi9Qb3J0cmFpdEJ1dHRvblwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vbW9kZWwvR2FtZU1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uL21vZGVsL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgeyBGcmFtZSwgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXJhY3Rlck1lbnUgZXh0ZW5kcyBGcmFtZTxDaGFyYWN0ZXJNZW51TGlzdGVuZXIsIENoYXJhY3Rlck1lbnVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgZ2FtZU1vZGVsIDogR2FtZU1vZGVsXG4gICAgcG9ydHJhaXRzOiBQb3J0cmFpdEJ1dHRvbltdO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBsaXN0ZW5lcjogQ2hhcmFjdGVyTWVudUxpc3RlbmVyLCBjb250cm9sbGVyOiBDaGFyYWN0ZXJNZW51Q29udHJvbGxlciwgdWlNb2RlbDogVUlNb2RlbCwgZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudWlNb2RlbCA9IHVpTW9kZWw7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuYmFja2dyb3VuZENvbG91cikpO1xuICAgICAgICB0aGlzLmNyZWF0ZU1lbnUoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVjdXJzZVByaW50KHNlbGYsIHBhZGRpbmcpXG4gICAgeyAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCBcIiBcIi5yZXBlYXQocGFkZGluZykgKyBzZWxmLnR5cGVOYW1lICk7XG4gICAgICAgIHNlbGYuY2hpbGRyZW4uZm9yRWFjaCh4ID0+IENoYXJhY3Rlck1lbnUucmVjdXJzZVByaW50KHgsIHBhZGRpbmcgKyA0KSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTWVudSgpXG4gICAge1xuICAgICAgICB0aGlzLnBvcnRyYWl0cyA9IHRoaXMuY3JlYXRlUG9ydHJhaXRzKCk7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMucG9ydHJhaXRzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwID0gdGhpcy5hZGRDaGlsZCh0aGlzLnBvcnRyYWl0c1tpXSk7XG4gICAgICAgICAgICBwLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oaSowLjI1LDApKTtcbiAgICAgICAgICAgIHAudHJhbnNmb3JtLmJvdW5kcy5hZGREaW1lbnNpb24obmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLjI1LDEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNyZWF0ZVBvcnRyYWl0cygpOiBQb3J0cmFpdEJ1dHRvbltdXG4gICAge1xuICAgICAgICBsZXQgcG9ydHJhaXRzID0gW107XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmNoYXJhY3RlcnMuZm9yRWFjaCgoYzogQ2hhcmFjdGVyTW9kZWwpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwID0gbmV3IFBvcnRyYWl0QnV0dG9uKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKCksIGMsIHRoaXMudWlNb2RlbCk7XG4gICAgICAgICAgICBwLm9uQ2xpY2sucHVzaCh0aGlzLnVpTW9kZWwuY2xpY2tDaGFyYWN0ZXJQb3J0cmFpdC5iaW5kKHRoaXMudWlNb2RlbCwgYyksIHRoaXMpO1xuICAgICAgICAgICAgcG9ydHJhaXRzLnB1c2gocCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwb3J0cmFpdHM7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyTWVudUxpc3RlbmVyIGV4dGVuZHMgRnJhbWVMaXN0ZW5lclxue1xuXG59XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJNZW51Q29udHJvbGxlciBleHRlbmRzIEZyYW1lQ29udHJvbGxlclxue1xuXG59IiwiaW1wb3J0IHsgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyLCBGcmFtZSB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0QnVpbGRlclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IHsgR3JpZEJ1aWxkZXIsIEdyaWRPcmllbnRhdGlvbiB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9HcmlkTGF5b3V0XCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBQcmVzc0hvbGRUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9QcmVzc0hvbGRUcmlnZ2VyXCI7XG5pbXBvcnQgV2FpdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XYWl0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldGFpbE1lbnVGcmFtZSBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj5cbntcbiAgICB1aU1vZGVsOiBVSU1vZGVsXG4gICAgbWVudTogR2FtZU9iamVjdDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgbGlzdGVuZXI6IEZyYW1lTGlzdGVuZXIsIGNvbnRyb2xsZXI6IEZyYW1lQ29udHJvbGxlciwgdWlNb2RlbDogVUlNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy51aU1vZGVsLmN1cnJlbnREZXRhaWxNZW51Lm9uVXBkYXRlLnB1c2godGhpcy5jcmVhdGVEZXRhaWxNZW51LmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZURldGFpbE1lbnUoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVEZXRhaWxNZW51KClcbiAgICB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5hZGRDaGlsZChuZXcgV2FpdCgwKSk7XG4gICAgICAgIGlmICh0aGlzLm1lbnUpXG4gICAgICAgICAgICB3Lm9uQ29tcGxldGUucHVzaCh0aGlzLnJlcXVlc3RSZW1vdmFsLmJpbmQodGhpcy5tZW51KSwgdGhpcyk7XG4gICAgICAgIHcub25Db21wbGV0ZS5wdXNoKCgoKSA9PiB7IGlmICh0aGlzLm1lbnUpIHRoaXMubWVudS52aXNpYmxlID0gdHJ1ZTsgfSkuYmluZCh0aGlzKSwgdGhpcyk7XG5cbiAgICAgICAgbGV0IGRldGFpbE1lbnVNb2RlbCA9IHRoaXMudWlNb2RlbC5jdXJyZW50RGV0YWlsTWVudS52YWx1ZTtcbiAgICAgICAgaWYgKGRldGFpbE1lbnVNb2RlbClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNvbnRhaW5lciA9IHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5iYWNrZ3JvdW5kQ29sb3VyKSk7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQobmV3IEJ1dHRvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG4gICAgICAgICAgICBjb250YWluZXIub3BhY2l0eSA9IDAuODtcbiAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICAgICAgbGV0IHRiID0gbmV3IFRleHRCdWlsZGVyKGRldGFpbE1lbnVNb2RlbC50aXRsZSwgY29udGV4dDJELCBcImJsYWNrXCIsIDEyLCBcInNhbnMtc2VyaWZcIik7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbigxMCw0LCBuZXcgUG9pbnQoMCwwKSkpKSk7XG5cbiAgICAgICAgICAgIGlmIChkZXRhaWxNZW51TW9kZWwuc3BlbGxMaXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBnYiA9IG5ldyBHcmlkQnVpbGRlcigpO1xuICAgICAgICAgICAgICAgIGRldGFpbE1lbnVNb2RlbC5zcGVsbExpc3Quc3BlbGxzLmZvckVhY2gocyA9PiBcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGljb24gPSB0aGlzLnVpTW9kZWwuZ2V0U3BlbGxJY29uKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGIgPSBuZXcgQnV0dG9uKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMC4yLCAxLCB0aGlzLnRyYW5zZm9ybS5ib3VuZHMpLCBuZXcgUGl4ZWxEaW1lbnNpb24oMCwtMjApKSwgaWNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBiLm9uQ2xpY2sucHVzaCh0aGlzLnVpTW9kZWwuY2xpY2tTcGVsbEJ1dHRvbi5iaW5kKHRoaXMudWlNb2RlbCwgcyksIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2IucHVzaENlbGwoYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSB0aGlzLmFkZENoaWxkKG5ldyBQcmVzc0hvbGRUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5ob2xkRHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5ob2xkU3BlbGxCdXR0b24uYmluZCh0aGlzLnVpTW9kZWwsIHMpLCB0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2goYi5yZXNldC5iaW5kKGIpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIuYWRkQ2hpbGQoaG9sZFRyaWdnZXIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBnYi5maXhMYXllcihHcmlkT3JpZW50YXRpb24uSG9yaXpvbnRhbCwgbmV3IFBvc2l0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKDAsMjApKSk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKGdiLmdyaWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLm1lbnUgPSBjb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLm1lbnUudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsTGlzdCBmcm9tIFwiLi4vbW9kZWwvU3BlbGxMaXN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERldGFpbE1lbnVNb2RlbFxue1xuICAgIHRpdGxlOiBzdHJpbmdcbiAgICBzcGVsbExpc3Q6IFNwZWxsTGlzdFxuXG4gICAgY29uc3RydWN0b3Ioc3BlbGxMaXN0PzogU3BlbGxMaXN0KVxuICAgIHtcbiAgICAgICAgdGhpcy5zcGVsbExpc3QgPSBzcGVsbExpc3Q7XG4gICAgICAgIGlmICghc3BlbGxMaXN0KSBcbiAgICAgICAgICAgIHRoaXMudGl0bGUgPSBcIlF1aWNrIEl0ZW1zXCI7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IHNwZWxsTGlzdC5uYW1lO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL21vZGVsL0dhbWVNb2RlbFwiO1xuaW1wb3J0IENlbGxNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvQ2VsbE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgRHJhd0J1ZmZlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0RyYXdCdWZmZXJcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCB7IEZpbGxDaXJjbGUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0NpcmNsZVwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgeyBGaWxsVHJpYW5nbGUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1RyaWFuZ2xlXCI7XG5pbXBvcnQgeyBGYWNpbmcgfSBmcm9tIFwiLi4vbW9kZWwvUGxheWVyTW9kZWxcIjtcbmltcG9ydCBWYWx1ZVR3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1ZhbHVlVHdlZW5cIjtcbmltcG9ydCBMZXZlbE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9MZXZlbE1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcCBleHRlbmRzIERyYXdCdWZmZXJcbntcbiAgICBwcm90ZWN0ZWQgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgcHJvdGVjdGVkIGNlbGxTaXplOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGVkZ2VXaWR0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBsZXZlbE1vZGVsOiBMZXZlbE1vZGVsO1xuXG4gICAgcHJvdGVjdGVkIGN1cnJlbnRNYXBZOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHBsYXllckljb246IEdhbWVPYmplY3Q7XG4gICAgcHJvdGVjdGVkIG5wY0ljb25zOiBHYW1lT2JqZWN0W107XG4gICAgcHJvdGVjdGVkIG1hcExheWVyczogR2FtZU9iamVjdFtdO1xuICAgIHByb3RlY3RlZCBtYXBDZWxsczogR2FtZU9iamVjdFtdW11bXTtcblxuICAgIGNvbnN0cnVjdG9yKGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IHcgPSBnYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLndpZHRoO1xuICAgICAgICBsZXQgaCA9IGdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuZGVwdGg7XG4gICAgICAgIHN1cGVyKG51bGwsIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKHcqMTAwLGgqMTAwKSkpO1xuICAgICAgICB0aGlzLmNlbGxTaXplID0gMTAwO1xuICAgICAgICB0aGlzLmVkZ2VXaWR0aCA9IHRoaXMuY2VsbFNpemUvMTA7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLm5wY0ljb25zICA9IFtdXG4gICAgICAgIHRoaXMuY3VycmVudE1hcFkgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbk1vdmUucHVzaCh0aGlzLnVwZGF0ZVBsYXllci5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLnB1c2godGhpcy51cGRhdGVQbGF5ZXIuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uV29ybGRDaGFuZ2UucHVzaCh0aGlzLnVwZGF0ZU1hcFZpc2liaWxpdHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uU3dpdGNoTGV2ZWwucHVzaCh0aGlzLnJlY3JlYXRlTWFwLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLnJlY3JlYXRlTWFwKCk7XG4gICAgfVxuXG4gICAgcmVjcmVhdGVNYXAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sZXZlbE1vZGVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlO1xuICAgICAgICB0aGlzLmNyZWF0ZU1hcCh0aGlzLmxldmVsTW9kZWwpO1xuICAgICAgICB0aGlzLmNyZWF0ZU5QQ3ModGhpcy5sZXZlbE1vZGVsKTtcbiAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXIoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVOUEMobnBjOiBOUENNb2RlbClcbiAgICB7XG4gICAgICAgIGxldCBucGNJY29uID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbENpcmNsZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24odGhpcy5jZWxsU2l6ZS80LHRoaXMuY2VsbFNpemUvNCkpLCB1bmRlZmluZWQpKTtcbiAgICAgICAgdGhpcy5ucGNJY29ucy5mb3JFYWNoKG4gPT4gbi5yZXF1ZXN0UmVtb3ZhbCgpKTtcbiAgICAgICAgdGhpcy5ucGNJY29ucy5wdXNoKG5wY0ljb24pO1xuICAgICAgICBucGMuYWxpdmUub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZU5QQy5iaW5kKHRoaXMsIG5wYywgbnBjSWNvbiksIHRoaXMpO1xuICAgICAgICBucGMucG9zaXRpb24ub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZU5QQy5iaW5kKHRoaXMsIG5wYywgbnBjSWNvbiksIHRoaXMpO1xuICAgICAgICBucGMubG9vdGVkLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVOUEMuYmluZCh0aGlzLCBucGMsIG5wY0ljb24pLCB0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVOUEMobnBjLCBucGNJY29uKTtcbiAgICB9XG5cbiAgICB1cGRhdGVOUEMobnBjOiBOUENNb2RlbCwgbnBjSWNvbjogRmlsbENpcmNsZSlcbiAgICB7XG4gICAgICAgIGlmIChucGMubG9vdGVkLnZhbHVlKVxuICAgICAgICAgICAgbnBjSWNvbi52aXNpYmxlID0gZmFsc2VcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBucGNJY29uLnRyYW5zZm9ybS5wb3NpdGlvbi5jbGVhclRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgICAgbnBjSWNvbi50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFBpeGVsVHJhbnNsYXRpb24oKG5wYy5wb3NpdGlvbi52YWx1ZS54KzAuNSkqdGhpcy5jZWxsU2l6ZSwobnBjLnBvc2l0aW9uLnZhbHVlLnorMC41KSp0aGlzLmNlbGxTaXplLCBuZXcgUG9pbnQoMC41LDAuNSkpKTtcbiAgICAgICAgICAgIGxldCBjb2xvdXIgPSBucGMuaG9zdGlsZSA/IFwicmVkXCIgOiBcImdyZWVuXCI7XG4gICAgICAgICAgICBpZiAoIShucGMuYWxpdmUudmFsdWUpKVxuICAgICAgICAgICAgICAgIGNvbG91ciA9IFwiYmx1ZVwiO1xuICAgICAgICAgICAgbnBjSWNvbi5maWxsU3R5bGUgID0gY29sb3VyO1xuICAgICAgICAgICAgbnBjSWNvbi5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlTlBDcyhsZXZlbDogTGV2ZWxNb2RlbClcbiAgICB7XG4gICAgICAgIGxldmVsLm5wY3MuZm9yRWFjaChuID0+IHRoaXMuY3JlYXRlTlBDKG4pKTtcbiAgICB9XG5cbiAgICB1cGRhdGVQbGF5ZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnRyYW5zZm9ybS5wb3NpdGlvbi5jbGVhclRyYW5zbGF0aW9ucygpO1xuICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKCh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24ueCswLjUpKnRoaXMuY2VsbFNpemUsKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi56KzAuNSkqdGhpcy5jZWxsU2l6ZSwgbmV3IFBvaW50KDAuNSwwLjUpKSk7XG4gICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnJvdGF0aW9uID0gMDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSBNYXRoLlBJLzQ7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnRyYW5zZm9ybS5yb3RhdGlvbiA9IE1hdGguUEkvMjtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSAzKihNYXRoLlBJLzQpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnJvdGF0aW9uID0gTWF0aC5QSTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSAtMyooTWF0aC5QSS80KTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnJvdGF0aW9uID0gLU1hdGguUEkvMjtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSAtTWF0aC5QSS80O1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi55ICE9PSB0aGlzLmN1cnJlbnRNYXBZKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN3aXRjaFRvTGF5ZXIodGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3dpdGNoVG9MYXllcih5OiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLm1hcExheWVycy5mb3JFYWNoKChsOiBHYW1lT2JqZWN0LGkpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoaSA9PT0geSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobC5vcGFjaXR5ICE9PSAxKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKGwsXCJvcGFjaXR5XCIsIDEsIDMwMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoKGkgPT09IHktMSkgfHwgKGkgPT09IHkrMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGwub3BhY2l0eSAhPT0gMC41KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKGwsXCJvcGFjaXR5XCIsIDAuNSwgMzAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsLm9wYWNpdHkgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4obCxcIm9wYWNpdHlcIiwgMCwgMzAwKSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmN1cnJlbnRNYXBZID0geTtcbiAgICB9XG5cbiAgICB1cGRhdGVNYXBWaXNpYmlsaXR5KClcbiAgICB7XG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5sZXZlbE1vZGVsLmhlaWdodDsgeSsrKVxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLmxldmVsTW9kZWwud2lkdGg7IHgrKylcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB6ID0gMDsgeiA8IHRoaXMubGV2ZWxNb2RlbC5kZXB0aDsgeisrKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcENlbGxzW3hdW3ldW3pdLnZpc2libGUgPSAhKHRoaXMubGV2ZWxNb2RlbC5jZWxsc1t4XVt5XVt6XS53YWxsc1s0XS5oaWRkZW4udmFsdWUpO1xuICAgIH1cblxuICAgIGNyZWF0ZU1hcChsZXZlbDogTGV2ZWxNb2RlbCkgXG4gICAge1xuICAgICAgICB0aGlzLm1hcENlbGxzID0gbmV3IEFycmF5KGxldmVsLndpZHRoKTtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8bGV2ZWwud2lkdGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hcENlbGxzW2ldID0gbmV3IEFycmF5KGxldmVsLmhlaWdodCk7XG4gICAgICAgICAgICBmb3IgKGxldCBqPTA7ajxsZXZlbC5oZWlnaHQ7aisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwQ2VsbHNbaV1bal0gPSBuZXcgQXJyYXkobGV2ZWwuZGVwdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBsYXllcnMgPSBbXTtcbiAgICAgICAgZm9yKGxldCB5ID0gMDsgeSA8IGxldmVsLmhlaWdodDsgeSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbCA9IG5ldyBHYW1lT2JqZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpO1xuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBsZXZlbC53aWR0aDsgeCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgbGV2ZWwuZGVwdGg7IHorKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByID0gbC5hZGRDaGlsZCh0aGlzLmNyZWF0ZVJlY3QoeCwgeiwgbGV2ZWwuY2VsbHNbeF1beV1bel0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxldmVsLmNlbGxzW3hdW3ldW3pdLndhbGxzWzRdLmhpZGRlbi52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcENlbGxzW3hdW3ldW3pdID0gcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgbGF5ZXJzLnB1c2godGhpcy5hZGRDaGlsZChsKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWFwTGF5ZXJzKVxuICAgICAgICAgICAgdGhpcy5tYXBMYXllcnMuZm9yRWFjaChsID0+IGwucmVxdWVzdFJlbW92YWwoKSk7XG4gICAgICAgIHRoaXMubWFwTGF5ZXJzID0gbGF5ZXJzO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXJJY29uKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgIHRoaXMucGxheWVySWNvbiA9IHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxUcmlhbmdsZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24odGhpcy5jZWxsU2l6ZS8yLHRoaXMuY2VsbFNpemUvMikpLCBcImJsYWNrXCIpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVSZWN0KHg6IG51bWJlciwgejogbnVtYmVyLCBjZWxsOiBDZWxsTW9kZWwpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbih4KnRoaXMuY2VsbFNpemUrdGhpcy5lZGdlV2lkdGgvMix6KnRoaXMuY2VsbFNpemUrdGhpcy5lZGdlV2lkdGgvMikpLCBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbih0aGlzLmNlbGxTaXplLXRoaXMuZWRnZVdpZHRoLHRoaXMuY2VsbFNpemUtdGhpcy5lZGdlV2lkdGgpKSwgXCJ3aGl0ZVwiKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Nb3ZlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uVHVybi51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbldvcmxkQ2hhbmdlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uU3dpdGNoTGV2ZWwudW5yZWdpc3Rlcih0aGlzKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRnJhbWVDb250cm9sbGVyLCBGcmFtZUxpc3RlbmVyLCBGcmFtZSB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgeyBGaWxsQ2lyY2xlIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9DaXJjbGVcIjtcbmltcG9ydCBCdWZmZXJDbG9uZSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0J1ZmZlckNsb25lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUHJlc3NIb2xkVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvUHJlc3NIb2xkVHJpZ2dlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaW5pTWFwRnJhbWUgZXh0ZW5kcyBGcmFtZTxNaW5pTWFwRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgZ2FtZU1vZGVsIDogR2FtZU1vZGVsXG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBNaW5pTWFwRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCBtaW5pTWFwID0gdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZU1pbmlNYXAoKSk7XG5cbiAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gdGhpcy5hZGRDaGlsZChuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKSk7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5ob2xkTWluaU1hcC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBob2xkVHJpZ2dlci5vblJlbGVhc2VIb2xkLnB1c2godGhpcy51aU1vZGVsLnJlbGVhc2VIb2xkLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgbWFwQ2xpcChjdHg6Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3M6IFBvaW50LCBkaW06IERpbWVuc2lvbikgXG4gICAge1xuICAgICAgICBjdHgudHJhbnNsYXRlKHBvcy54ICsgZGltLndpZHRoLzIscG9zLnkgKyBkaW0uaGVpZ2h0LzIpXG4gICAgICAgIGN0eC5yb3RhdGUodGhpcy51aU1vZGVsLm1hcFJvdGF0aW9uLnkpXG4gICAgICAgIGN0eC50cmFuc2xhdGUoLShwb3MueCArIGRpbS53aWR0aC8yKSwtKHBvcy55ICsgZGltLmhlaWdodC8yKSlcbiAgICAgICAgY3R4LmFyYyhwb3MueCArIGRpbS53aWR0aC8yLFxuICAgICAgICAgICAgICAgIHBvcy55ICsgZGltLmhlaWdodC8yLFxuICAgICAgICAgICAgICAgIE1hdGgubWluKGRpbS53aWR0aCwgZGltLmhlaWdodCkvMixcbiAgICAgICAgICAgICAgICAwLCAyKk1hdGguUEkpO1xuICAgIH1cblxuICAgIHNldE1hcE9yaWdpbkFuZEFyZWEoYnVmZmVyQ2xvbmU6IEJ1ZmZlckNsb25lKVxuICAgIHtcbiAgICAgICAgbGV0IGxldmVsRGltID0gbmV3IERpbWVuc2lvbih0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmRlcHRoKTtcbiAgICAgICAgbGV0IGNlbGxTaXplID0gMTAwLy9idWZmZXJDbG9uZS5kcmF3QnVmZmVyLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoL2xldmVsRGltLndpZHRoO1xuICAgICAgICBsZXQgcmFkaXVzID0gNTtcbiAgICAgICAgYnVmZmVyQ2xvbmUub3JpZ2luID0gbmV3IFBpeGVsVHJhbnNsYXRpb24oKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi54KzAuNS1yYWRpdXMpKmNlbGxTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi56KzAuNS1yYWRpdXMpKmNlbGxTaXplKTtcbiAgICAgICAgYnVmZmVyQ2xvbmUuYXJlYSA9IG5ldyBQaXhlbERpbWVuc2lvbihjZWxsU2l6ZSpyYWRpdXMqMixjZWxsU2l6ZSpyYWRpdXMqMik7XG4gICAgfVxuXG4gICAgY3JlYXRlTWluaU1hcCgpXG4gICAge1xuICAgICAgICBsZXQgbWFwQXJlYSA9IG5ldyBCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSk7XG4gICAgICAgIG1hcEFyZWEub25DbGljay5wdXNoKCgpID0+IHRoaXMubGlzdGVuZXIub25NYXBDbGljay5jYWxsKCksIHRoaXMpO1xuICAgICAgICAvL21hcEFyZWEudHJhbnNmb3JtLmJvdW5kcy5tYXhEaW1lbnNpb24gPSBuZXcgUGl4ZWxEaW1lbnNpb24oMTgwLCAxODApO1xuICAgICAgICBsZXQgbWFwQmFja2dyb3VuZCA9IG1hcEFyZWEuYWRkQ2hpbGQobmV3IEZpbGxDaXJjbGUobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgXCJncmV5XCIpKTtcbiAgICAgICAgbWFwQmFja2dyb3VuZC5vcGFjaXR5ID0gMC41O1xuICAgICAgICBsZXQgbWFwQ2lyY2xlID0gbWFwQXJlYS5hZGRDaGlsZChuZXcgQnVmZmVyQ2xvbmUobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLm1hcCkpO1xuICAgICAgICB0aGlzLnNldE1hcE9yaWdpbkFuZEFyZWEobWFwQ2lyY2xlKTtcbiAgICAgICAgbWFwQ2lyY2xlLmNsaXBGdW5jdGlvbiA9IHRoaXMubWFwQ2xpcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbk1vdmUucHVzaCh0aGlzLnNldE1hcE9yaWdpbkFuZEFyZWEuYmluZCh0aGlzLCBtYXBDaXJjbGUpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Td2l0Y2hMZXZlbC5wdXNoKHRoaXMuc2V0TWFwT3JpZ2luQW5kQXJlYS5iaW5kKHRoaXMsIG1hcENpcmNsZSksIHRoaXMpO1xuICAgICAgICByZXR1cm4gbWFwQXJlYTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNaW5pTWFwRnJhbWVMaXN0ZW5lciBleHRlbmRzIEZyYW1lTGlzdGVuZXJcbntcbiAgICBvbk1hcENsaWNrOiBFdmVudCA9IG5ldyBFdmVudCgpO1xufSIsImltcG9ydCB7IEZyYW1lLCBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBTdGF0dXNMaXN0IGZyb20gXCIuL1N0YXR1c0xpc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFydHlTdGF0dXNNZW51IGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHByb3RlY3RlZCBfdWlNb2RlbDogVUlNb2RlbDtcbiAgICBsaXN0OiBTdGF0dXNMaXN0O1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLl91aU1vZGVsID0gdWlNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZUxpc3QoKSk7XG4gICAgICAgIHRoaXMuX3VpTW9kZWwuZ2FtZU1vZGVsLnBhcnR5LnN0YXR1c2VzLm9uVXBkYXRlLnB1c2goKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5saXN0LnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmFkZENoaWxkKHRoaXMuY3JlYXRlTGlzdCgpKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGlzdCgpOiBTdGF0dXNMaXN0XG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFN0YXR1c0xpc3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5fdWlNb2RlbC5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUsIHRoaXMuX3VpTW9kZWwpO1xuICAgIH1cbn1cbiIsImltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWwvQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQaXhlbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBTdGF0dXNMaXN0IGZyb20gXCIuL1N0YXR1c0xpc3RcIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgQ2xpcCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvQ2xpcFwiO1xuaW1wb3J0IFByZXNzSG9sZFRyaWdnZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1ByZXNzSG9sZFRyaWdnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9ydHJhaXRCdXR0b24gZXh0ZW5kcyBCdXR0b25cbntcbiAgICBnZXQgZmlsZW5hbWUoKSB7IHJldHVybiB0aGlzLmNoYXJhY3Rlck1vZGVsLnBvcnRyYWl0VHlwZS5maWxlbmFtZTsgfVxuICAgIHByaXZhdGUgX2lzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICBwcml2YXRlIF9pc1dhaXRpbmcgPSBmYWxzZTtcblxuICAgIGdldCBpc1NlbGVjdGVkKCkgeyByZXR1cm4gdGhpcy5faXNTZWxlY3RlZDsgfVxuICAgIGdldCBpc1dhaXRpbmcoKSB7IHJldHVybiB0aGlzLl9pc1dhaXRpbmc7IH1cbiAgICBzZXQgaXNTZWxlY3RlZCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9pc1NlbGVjdGVkID0gdmFsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSGlnaGxpZ2h0LnZpc2libGUgPSB2YWw7XG4gICAgfVxuICAgIHNldCBpc1dhaXRpbmcodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5faXNXYWl0aW5nID0gdmFsO1xuICAgICAgICB0aGlzLndhaXRpbmdIaWdobGlnaHQudmlzaWJsZSA9IHZhbDtcbiAgICB9XG5cbiAgICB1aU1vZGVsOiBVSU1vZGVsO1xuICAgIGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbFxuXG4gICAgbmV4dEhpZ2hsaWdodDogR2FtZU9iamVjdDtcbiAgICB3YWl0aW5nSGlnaGxpZ2h0OiBHYW1lT2JqZWN0O1xuICAgIHNlbGVjdGVkSGlnaGxpZ2h0OiBHYW1lT2JqZWN0XG4gICAgaGl0RmlsdGVyOiBHYW1lT2JqZWN0O1xuICAgIGhwQmFyOiBHYW1lT2JqZWN0O1xuICAgIG1hbmFCYXI6IEdhbWVPYmplY3Q7XG4gICAgcG9ydHJhaXQ6IEdhbWVPYmplY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwsIHVpTW9kZWw6IFVJTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJNb2RlbCA9IGNoYXJhY3Rlck1vZGVsO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBzdXBlci5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy53YWl0aW5nSGlnaGxpZ2h0ID0gdGhpcy5hZGRDaGlsZCh0aGlzLnVpTW9kZWwuZ2V0Q2hhcmFjdGVyV2FpdGluZ0hpZ2hsaWdodChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsMCxuZXcgUG9pbnQoMCwwKSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMuY2hhcmFjdGVyTW9kZWwpKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEhpZ2hsaWdodCA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3RlclNlbGVjdGVkSGlnaGxpZ2h0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMuY2hhcmFjdGVyTW9kZWwpKTtcblxuICAgICAgICB0aGlzLnBvcnRyYWl0ID0gdGhpcy51aU1vZGVsLmdldENoYXJhY3RlclBvcnRyYWl0SW1hZ2UobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5jaGFyYWN0ZXJNb2RlbCk7XG4gICAgICAgIGxldCBjbGlwID0gbmV3IENsaXAobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSlcbiAgICAgICAgY2xpcC5zZXRDbGlwID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcG9zID0gY2xpcC50cmFuc2Zvcm0uZ2V0RHJhd1Bvc2l0aW9uKCk7XG4gICAgICAgICAgICBsZXQgZGltID0gY2xpcC50cmFuc2Zvcm0uZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgICAgICB0aGlzLl9kcmF3RWxsaXBzZShjdHgsIHBvcy54IC0gZGltLndpZHRoKjAuMDUsIHBvcy55LWRpbS5oZWlnaHQqMC4wNSwgZGltLndpZHRoKjEuMSwgZGltLmhlaWdodCoxLjEpXG4gICAgICAgICAgICBjdHguY2xpcCgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZENoaWxkKGNsaXApO1xuICAgICAgICBjbGlwLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcImJsYWNrXCIpKTtcbiAgICAgICAgY2xpcC5hZGRDaGlsZCh0aGlzLnBvcnRyYWl0KTtcbiAgICAgICAgdGhpcy5wb3J0cmFpdC5vcGFjaXR5ID0gMC43O1xuICAgICAgICB0aGlzLnVpTW9kZWwuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3RlcnMub25VcGRhdGUucHVzaCgodmFsKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsLmluZGV4T2YodGhpcy5jaGFyYWN0ZXJNb2RlbCkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHRoaXMucG9ydHJhaXQub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0cmFpdC5vcGFjaXR5ID0gMC42O1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLm5leHRIaWdobGlnaHQgPSB0aGlzLmFkZENoaWxkKHRoaXMudWlNb2RlbC5nZXRDaGFyYWN0ZXJOZXh0SGlnaGxpZ2h0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAsbmV3IFBvaW50KDAuNSwwKSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMC41LDAuMTUpKSwgdGhpcy5jaGFyYWN0ZXJNb2RlbCkpO1xuICAgICAgICB0aGlzLmhpdEZpbHRlciA9IHRoaXMucG9ydHJhaXQuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3RlckhpdEZpbHRlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLmNoYXJhY3Rlck1vZGVsKSk7XG4gICAgICAgIHRoaXMuaHBCYXIgPSB0aGlzLmFkZENoaWxkKHRoaXMudWlNb2RlbC5nZXRDaGFyYWN0ZXJIUEJhcihuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsMC41LCBuZXcgUG9pbnQoMCwwLjUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGl4ZWxUcmFuc2xhdGlvbigyLDApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oOCwwKSwgbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLDAuNzUpKSwgdGhpcy5jaGFyYWN0ZXJNb2RlbCkpO1xuICAgICAgICB0aGlzLm1hbmFCYXIgPSB0aGlzLmFkZENoaWxkKHRoaXMudWlNb2RlbC5nZXRDaGFyYWN0ZXJNYW5hQmFyKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLjUsIG5ldyBQb2ludCgxLDAuNSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUGl4ZWxUcmFuc2xhdGlvbigtMiwwKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKDgsMCksIG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwwLjc1KSksIHRoaXMuY2hhcmFjdGVyTW9kZWwpKTtcbiAgICAgICAgXG4gICAgICAgIGxldCBzdGF0dXNMaXN0ID0gdGhpcy5hZGRDaGlsZChuZXcgU3RhdHVzTGlzdChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDEsMCxuZXcgUG9pbnQoMSwwKSksIG5ldyBQaXhlbFRyYW5zbGF0aW9uKC0xNiwwKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKDMyLDApLCBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3Rlck1vZGVsLnN0YXR1c2VzLCB0aGlzLnVpTW9kZWwpKTtcblxuICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSB0aGlzLmFkZENoaWxkKG5ldyBQcmVzc0hvbGRUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5ob2xkRHVyYXRpb24pKTtcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRDaGFyYWN0ZXJQb3J0cmFpdC5iaW5kKHRoaXMudWlNb2RlbCwgdGhpcy5jaGFyYWN0ZXJNb2RlbCksIHRoaXMpXG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRoaXMucmVzZXQuYmluZCh0aGlzKSwgdGhpcyk7ICAgICAgXG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTsgICAgICAgICAgICAgIFxuICAgIH1cblxuICAgIHByaXZhdGUgX2RyYXdFbGxpcHNlKGN0eCwgeCwgeSwgdywgaClcbiAgICB7XG4gICAgICAgIHZhciBrYXBwYSA9IC41NTIyODQ4LFxuICAgICAgICAgICAgb3ggPSAodyAvIDIpICoga2FwcGEsIC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IGhvcml6b250YWxcbiAgICAgICAgICAgIG95ID0gKGggLyAyKSAqIGthcHBhLCAvLyBjb250cm9sIHBvaW50IG9mZnNldCB2ZXJ0aWNhbFxuICAgICAgICAgICAgeGUgPSB4ICsgdywgICAgICAgICAgIC8vIHgtZW5kXG4gICAgICAgICAgICB5ZSA9IHkgKyBoLCAgICAgICAgICAgLy8geS1lbmRcbiAgICAgICAgICAgIHhtID0geCArIHcgLyAyLCAgICAgICAvLyB4LW1pZGRsZVxuICAgICAgICAgICAgeW0gPSB5ICsgaCAvIDI7ICAgICAgIC8vIHktbWlkZGxlXG4gICAgICBcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKHgsIHltKTtcbiAgICAgICAgY3R4LmJlemllckN1cnZlVG8oeCwgeW0gLSBveSwgeG0gLSBveCwgeSwgeG0sIHkpO1xuICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyh4bSArIG94LCB5LCB4ZSwgeW0gLSBveSwgeGUsIHltKTtcbiAgICAgICAgY3R4LmJlemllckN1cnZlVG8oeGUsIHltICsgb3ksIHhtICsgb3gsIHllLCB4bSwgeWUpO1xuICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyh4bSAtIG94LCB5ZSwgeCwgeW0gKyBveSwgeCwgeW0pO1xuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCB7IEdyaWRCdWlsZGVyLCBHcmlkT3JpZW50YXRpb24gfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvR3JpZExheW91dFwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFN0YXR1cyBmcm9tIFwiLi4vbW9kZWwvU3RhdHVzXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQcmVzc0hvbGRUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9QcmVzc0hvbGRUcmlnZ2VyXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdHVzTGlzdCBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBwcml2YXRlIHN0YXR1c2VzOiBTdGF0dXNbXTtcbiAgICBwcml2YXRlIHVpTW9kZWw6IFVJTW9kZWxcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0YXR1c2VzOiBTdGF0dXNbXSwgdWlNb2RlbDogVUlNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpXG4gICAgICAgIHRoaXMuc3RhdHVzZXMgPSBzdGF0dXNlcztcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IGdiID0gbmV3IEdyaWRCdWlsZGVyKCk7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuc3RhdHVzZXMubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGljb24gPSB0aGlzLnVpTW9kZWwuZ2V0U3RhdHVzSWNvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSwgdGhpcy50cmFuc2Zvcm0uYm91bmRzKSksIHRoaXMuc3RhdHVzZXNbaV0pO1xuICAgICAgICAgICAgaWNvbi50cmFuc2Zvcm0uYm91bmRzLnRhcmdldEFzcGVjdFJhdGlvID0gMTtcbiAgICAgICAgICAgIGdiLnB1c2hDZWxsKGljb24pO1xuICAgICAgICAgICAgaWNvbi5hZGRDaGlsZChuZXcgQnV0dG9uKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpKTtcblxuICAgICAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gbmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbik7XG4gICAgICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaCh0aGlzLnVpTW9kZWwuaG9sZFN0YXR1c0ljb24uYmluZCh0aGlzLnVpTW9kZWwsIHRoaXMuc3RhdHVzZXNbaV0pLCB0aGlzKVxuICAgICAgICAgICAgaG9sZFRyaWdnZXIub25SZWxlYXNlSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5yZWxlYXNlSG9sZC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICAgICAgaWNvbi5hZGRDaGlsZChob2xkVHJpZ2dlcik7XG4gICAgICAgIH1cbiAgICAgICAgZ2IuZml4TGF5ZXIoR3JpZE9yaWVudGF0aW9uLlZlcnRpY2FsLCBuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsMSwgbmV3IFBvaW50KDAsMSkpKSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoZ2IuZ3JpZCk7XG4gICAgfVxufSIsImltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFJvdW5kZWRSZWN0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUm91bmRlZFJlY3RcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYkJ1dHRvbiBleHRlbmRzIEJ1dHRvblxue1xuICAgIHRhYkljb246IEdhbWVPYmplY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbiwgYm91bmRzLCB0YWJJY29uKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIHRoaXMudGFiSWNvbiA9IHRhYkljb247XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCBiZyA9IHRoaXMuYWRkQ2hpbGQobmV3IFJvdW5kZWRSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHVuZGVmaW5lZCwgXCIjZjNlN2Q3XCIsIDAsIDEwKSk7XG4gICAgICAgIHRoaXMuc2V0SG92ZXJSZWN0KHRoaXMuYWRkQ2hpbGQobmV3IFJvdW5kZWRSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHVuZGVmaW5lZCwgXCJ3aGl0ZVwiLCAwLCAxMCkpKTtcbiAgICAgICAgdGhpcy5zZXRQcmVzc2VkUmVjdCh0aGlzLmFkZENoaWxkKG5ldyBSb3VuZGVkUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB1bmRlZmluZWQsIFwid2hpdGVcIiwgMCwgMTApKSk7XG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGFiSWNvbik7XG4gICAgfVxufSIsImltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciwgRnJhbWUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi4vVUlNb2RlbFwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgeyBHcmlkQnVpbGRlciwgR3JpZE9yaWVudGF0aW9uIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0dyaWRMYXlvdXRcIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBUYWJCdXR0b24gZnJvbSBcIi4vVGFiQnV0dG9uXCJcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJlc3NIb2xkVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvUHJlc3NIb2xkVHJpZ2dlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJMaXN0TWVudSBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj5cbntcbiAgICB1aU1vZGVsOiBVSU1vZGVsO1xuICAgIGdyaWQ6IEdhbWVPYmplY3Q7XG4gICAgXG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsMSwgbmV3IFBvaW50KDAsMSkpKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMCksIG5ldyBQaXhlbERpbWVuc2lvbigwLDEwKSksIHRoaXMudWlNb2RlbC5iYWNrZ3JvdW5kQ29sb3VyKSk7XG4gICAgICAgIHRoaXMudWlNb2RlbC5vbkNoYXJhY3RlclNlbGVjdGVkLnB1c2godGhpcy5jcmVhdGVNZW51LmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy51aU1vZGVsLnNlbGVjdGVkQ2hhcmFjdGVyKVxuICAgICAgICAgICAgdGhpcy5jcmVhdGVNZW51KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlTWVudSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ncmlkKVxuICAgICAgICAgICAgdGhpcy5ncmlkLnJlcXVlc3RSZW1vdmFsKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudWlNb2RlbC5zZWxlY3RlZENoYXJhY3RlcilcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGdiID0gbmV3IEdyaWRCdWlsZGVyKCk7XG4gICAgICAgICAgICBsZXQgdGFicyA9IHRoaXMuY3JlYXRlVGFicygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8dGFicy5sZW5ndGg7aSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdiLnB1c2hDZWxsKHRhYnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2IuZml4TGF5ZXIoR3JpZE9yaWVudGF0aW9uLkhvcml6b250YWwpO1xuICAgICAgICAgICAgdGhpcy5ncmlkID0gdGhpcy5hZGRDaGlsZChnYi5ncmlkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZCA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldEFuaW1XYWl0SG91cmdsYXNzKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLjUsbmV3IFBvaW50KDEsMC41KSkpLG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpO1xuICAgICAgICAgICAgdGhpcy5ncmlkLnRyYW5zZm9ybS5ib3VuZHMudGFyZ2V0QXNwZWN0UmF0aW8gPSAxO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlVGFicygpXG4gICAge1xuICAgICAgICBsZXQgdGFicyA9IFtdXG4gICAgICAgIGxldCB0YWIgPSB0aGlzLmNyZWF0ZVRhYkJ1dHRvbih0aGlzLnVpTW9kZWwuZ2V0UXVpY2tJdGVtVGFiSWNvbihuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsbmV3IFBvaW50KDAuNSwwLjUpKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLjcsMC43KSkpKTtcbiAgICAgICAgdGFicy5wdXNoKHRhYik7XG4gICAgICAgIHRhYi5vbkNsaWNrLnB1c2godGhpcy51aU1vZGVsLmNsaWNrUXVpY2tJdGVtc1RhYkJ1dHRvbi5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSBuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKTtcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRRdWlja0l0ZW1zVGFiQnV0dG9uLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcylcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGFiLnJlc2V0LmJpbmQodGFiKSwgdGhpcyk7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgdGFiLmFkZENoaWxkKGhvbGRUcmlnZ2VyKTtcblxuICAgICAgICB0aGlzLnVpTW9kZWwuc2VsZWN0ZWRDaGFyYWN0ZXIuc3BlbGxMaXN0cy5mb3JFYWNoKGwgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFiID0gdGhpcy5jcmVhdGVUYWJCdXR0b24odGhpcy51aU1vZGVsLmdldFNwZWxsTGlzdFRhYkljb24obmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC41LG5ldyBQb2ludCgwLjUsMC41KSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMC43LDAuNykpLCBsKSk7XG4gICAgICAgICAgICAgICAgdGFicy5wdXNoKHRhYik7XG4gICAgICAgICAgICAgICAgdGFiLm9uQ2xpY2sucHVzaCh0aGlzLnVpTW9kZWwuY2xpY2tTcGVsbExpc3RUYWJCdXR0b24uYmluZCh0aGlzLnVpTW9kZWwsbCksIHRoaXMpXG4gICAgICAgICAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gbmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRTcGVsbExpc3RUYWJCdXR0b24uYmluZCh0aGlzLnVpTW9kZWwsIGwpLCB0aGlzKVxuICAgICAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRhYi5yZXNldC5iaW5kKHRhYiksIHRoaXMpO1xuICAgICAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0YWIuYWRkQ2hpbGQoaG9sZFRyaWdnZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YWJzO1xuICAgIH1cblxuICAgIGNyZWF0ZVRhYkJ1dHRvbihjaGlsZDogR2FtZU9iamVjdCk6IFRhYkJ1dHRvblxuICAgIHtcbiAgICAgICAgbGV0IHRhYiA9IG5ldyBUYWJCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEsIHRoaXMudHJhbnNmb3JtLmJvdW5kcykpLCBjaGlsZCk7XG4gICAgICAgIHRhYi50cmFuc2Zvcm0uYm91bmRzLnRhcmdldEFzcGVjdFJhdGlvID0gMTtcbiAgICAgICAgdGFiLmFkZENoaWxkKGNoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRhYjtcbiAgICB9XG59IiwiaW1wb3J0IFBvcnRyYWl0MSBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xcC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdDIgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvMnAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQzIGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0LzNwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0NCBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC80cC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdE9yYyBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC81cC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdDYgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvNnAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXRTa3VsbCBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC83cC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdDggZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvOHAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQ5IGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0LzlwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0MTAgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvMTBwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0MTEgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvMTFwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0MTIgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvMTJwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0MTMgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvMTNwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0MTQgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvMTRwLnBuZ1wiO1xuXG5pbXBvcnQgVGV4dHVyZUVtcHR5IGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL2VtcHR5LnBuZ1wiOyBleHBvcnQgeyBUZXh0dXJlRW1wdHkgfTtcblxuaW1wb3J0IFRleHR1cmVTdG9uZVdhbGwgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvNC5wbmdcIjtcbmltcG9ydCBUZXh0dXJlU3RvbmVBcmNod2F5IGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzLzQtYXJjaC5wbmdcIjtcbmltcG9ydCBUZXh0dXJlU3RvbmVXYWxsTm9ybWFsIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzLzRuLnBuZ1wiO1xuXG5pbXBvcnQgVFhSZWRDbG92ZXIgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQmF0dGVyZWQgUmVkIENsb3Zlci5qcGdcIjtcbmltcG9ydCBUWEdyYW5pdGVXYWxsIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0dyYW5pdGUgV2FsbC5qcGdcIjtcbmltcG9ydCBUWFNlZ21lbnRlZFN0b25lV2FsbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TZWdtZW50ZWQgU3RvbmUgV2FsbC5qcGdcIjtcbmltcG9ydCBUWFNhbWFyaXNNZXRhbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TYW1hcmlzIE1ldGFsLmpwZ1wiO1xuaW1wb3J0IFRYUGFsYWNlRmxvb3IgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvUGFsYWNlIEZsb29yLmpwZ1wiO1xuaW1wb3J0IFRYU211ZGdlZERpcnQgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvU211ZGdlZCBEaXJ0LmpwZ1wiO1xuaW1wb3J0IFRYQ2FydmVkU2FuZHN0b25lIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0NhcnZlZCBTYW5kc3RvbmUuanBnXCI7XG5pbXBvcnQgVFhBc3lsdW1DZWxsT3JhbmdlIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0FzeWx1bSBDZWxsIE9yYW5nZS5qcGdcIjtcbmltcG9ydCBUWENvdW5jaWxDaGFtYmVyIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0NvdW5jaWwgQ2hhbWJlci5qcGdcIjtcbmltcG9ydCBUWFNhbWFyaXMgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvU2FtYXJpcy5qcGdcIjtcbmltcG9ydCBUWFNsaW1lV2FsbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TbGltZSBXYWxsLmpwZ1wiO1xuaW1wb3J0IFRYRGFya0dyYXlNYXJibGUgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvRGFyayBHcmF5IE1hcmJsZS5qcGdcIjtcbmltcG9ydCBUWEdsYXNzeVBpbmtNYXJibGUgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvR2xhc3N5IFBpbmsgTWFyYmxlLmpwZ1wiO1xuaW1wb3J0IFRYU21hc2hlZEdyYXlNYXJibGUgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvU21hc2hlZCBHcmF5IE1hcmJsZS5qcGdcIjtcbmltcG9ydCBUWERlYWRDYXZlcyBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9EZWFkIENhdmVzLmpwZ1wiO1xuaW1wb3J0IFRYRmVuU3RvbmUgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvRmVuIFN0b25lLmpwZ1wiO1xuaW1wb3J0IFRYQnJvd25RdXNzYWlyR3Jhbml0ZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Ccm93biBRdXNzYWlyIEdyYW5pdGUuanBnXCI7XG5pbXBvcnQgVFhSb3VnaE9ydGhvY2xhc2UgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvUm91Z2ggT3J0aG9jbGFzZS5qcGdcIjtcbmltcG9ydCBUWE1pZG5pZ2h0U3RvbmUgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvTWlkbmlnaHQgU3RvbmUuanBnXCI7XG5pbXBvcnQgVFhXZWVkeUxhd24gZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvV2VlZHkgTGF3bi5qcGdcIjtcbmltcG9ydCBUWE1vc3NDdXNoaW9ucyBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Nb3NzIEN1c2hpb25zLmpwZ1wiO1xuaW1wb3J0IFRYRm9yZXN0Rmxvb3IgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvRm9yZXN0IEZsb29yLmpwZ1wiO1xuaW1wb3J0IFRYV2VlZHNBbmRHcmF2ZWwgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvV2VlZHMgYW5kIEdyYXZlbC5qcGdcIjtcbmltcG9ydCBUWE1vc3N5Um9jayBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Nb3NzeSBSb2NrLmpwZ1wiO1xuXG5pbXBvcnQgVFhDb3R0YWdlMURvb3IgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gRG9vciAoRkwgMSkuanBnXCI7XG5pbXBvcnQgVFhDb3R0YWdlMVdhbGwgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gV2FsbCAoRkwgMSkuanBnXCI7XG5pbXBvcnQgVFhDb3R0YWdlMVdhbGxGbDIgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gV2FsbCAoRkwgMispLmpwZ1wiO1xuaW1wb3J0IFRYQ290dGFnZTFXaW5kb3dGbDIgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gV2luZG93IChGTCAyKykuanBnXCI7XG5pbXBvcnQgVFhDb3R0YWdlMVdpbmRvdzJGbDIgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gV2luZG93IDIgKEZMIDIrKS5qcGdcIjtcbmltcG9ydCBUWENvdHRhZ2UxRG9vcjIgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gRG9vciAyIChGTCAxKS5qcGdcIjtcblxuaW1wb3J0IFRYU2FuZHlMaWNoZW5CcmljayBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TYW5keSBMaWNoZW4gQnJpY2suanBnXCI7XG5pbXBvcnQgVFhTdHJhd1Jvb2YgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvU3RyYXcgUm9vZi5qcGdcIjtcbmltcG9ydCBUWFN0cmF3Um9vZkludGVyaW9yIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1N0cmF3IFJvb2YgSW50ZXJpb3IuanBnXCI7XG5cbmltcG9ydCBTa3lib3hUZXh0dXJlMVhQb3MgZnJvbSAnYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX2Vhc3QucG5nJztcbmltcG9ydCBTa3lib3hUZXh0dXJlMVhOZWcgZnJvbSAnYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX3dlc3QucG5nJztcbmltcG9ydCBTa3lib3hUZXh0dXJlMVlQb3MgZnJvbSAnYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX3VwLnBuZyc7XG5pbXBvcnQgU2t5Ym94VGV4dHVyZTFZTmVnIGZyb20gJ2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV9kb3duLnBuZyc7XG5pbXBvcnQgU2t5Ym94VGV4dHVyZTFaUG9zIGZyb20gJ2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV9ub3J0aC5wbmcnO1xuaW1wb3J0IFNreWJveFRleHR1cmUxWk5lZyBmcm9tICdhc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfc291dGgucG5nJztcbmltcG9ydCBVa29iYWNoVGV4dHVyZSBmcm9tIFwiYXNzZXRzL3JwZy9ucGNzL3Vrb2JhY2gtdGVzdC5wbmdcIlxuaW1wb3J0IEJ1ZXJUZXh0dXJlIGZyb20gXCJhc3NldHMvcnBnL25wY3MvYnVlci10ZXN0LnBuZ1wiXG5pbXBvcnQgU2t1bGxDcm9zc2JvbmVzIGZyb20gXCJhc3NldHMvcnBnL25wY3Mvc2t1bGwtY3Jvc3Nib25lcy5wbmdcIjtcbmltcG9ydCBGYW5jeURyZXNzMTJUZXh0dXJlIGZyb20gXCJhc3NldHMvcnBnL25wY3MvZmFuY3ktZHJlc3MtMTIucG5nXCI7XG5cbmltcG9ydCBBbnRlZGlsdXZpYW5Eb29yIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0FudGVkaWx1dmlhbiBEb29yLnBuZ1wiO1xuaW1wb3J0IEFudGVkaWx1dmlhbkRvb3JBbHBoYSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9BbnRlZGlsdXZpYW4gRG9vci1hbHBoYW1hcC5wbmdcIjtcbmltcG9ydCBDb3VudGluZ0hvdXNlRG9vciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3VudGluZyBIb3VzZSBEb29yLmpwZ1wiO1xuXG5pbXBvcnQgV2FsbHMxIGZyb20gXCJhc3NldHMvcnBnL2xldmVscy93YWxsczEuanNvblwiO1xuaW1wb3J0IExhcmdlSG91c2UgZnJvbSBcImFzc2V0cy9ycGcvbGV2ZWxzL2xhcmdlLWhvdXNlLmpzb25cIjtcbmltcG9ydCBPcGVuQ291bnRyeSBmcm9tIFwiYXNzZXRzL3JwZy9sZXZlbHMvb3Blbi1jb3VudHJ5Lmpzb25cIjtcblxuaW1wb3J0IFNwZWxsVGVzdEltYWdlIGZyb20gXCJhc3NldHMvcnBnL3NwZWxscy9iZWF1dGlmdWwtYmlyZC5qcGdcIjtcbmltcG9ydCBIb3VyR2xhc3NJY29uIGZyb20gXCJhc3NldHMvcnBnL3VpL2hvdXJnbGFzcy5wbmdcIjtcbmltcG9ydCBDaGFyU2hlZXRJY29uIGZyb20gXCJhc3NldHMvcnBnL3VpL2NoYXJzaGVldC1pY29uLnBuZ1wiO1xuXG5pbXBvcnQgRWFydGhTcGVsbFRhYiBmcm9tIFwiYXNzZXRzL3JwZy91aS9lYXJ0aC1zcGVsbC10YWIucG5nXCI7XG5pbXBvcnQgQWlyU3BlbGxUYWIgZnJvbSBcImFzc2V0cy9ycGcvdWkvYWlyLXNwZWxsLXRhYi5wbmdcIjtcbmltcG9ydCBGaXJlU3BlbGxUYWIgZnJvbSBcImFzc2V0cy9ycGcvdWkvZmlyZS1zcGVsbC10YWIucG5nXCI7XG5pbXBvcnQgV2F0ZXJTcGVsbFRhYiBmcm9tIFwiYXNzZXRzL3JwZy91aS93YXRlci1zcGVsbC10YWIucG5nXCI7XG5cbmltcG9ydCBRdWlja0l0ZW1UYWJJY29uIGZyb20gXCJhc3NldHMvcnBnL3VpL3F1aWNrLWl0ZW1zLXRhYi5wbmdcIjtcblxuXG5sZXQgZ2FtZURhdGE6IEdhbWVEYXRhID1cbntcbiAgICBza3lib3hlczogW3sgeFBvczogU2t5Ym94VGV4dHVyZTFYUG9zLCB4TmVnOiBTa3lib3hUZXh0dXJlMVhOZWcsIHlQb3M6IFNreWJveFRleHR1cmUxWVBvcywgeU5lZzogU2t5Ym94VGV4dHVyZTFZTmVnLCB6UG9zOiBTa3lib3hUZXh0dXJlMVpQb3MsIHpOZWc6IFNreWJveFRleHR1cmUxWk5lZyB9XSxcbiAgICBwb3J0cmFpdHM6IFt7IGZpbGVuYW1lOiBQb3J0cmFpdDEgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDIgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDMgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDQgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdE9yYyB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0NiB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0U2t1bGwgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDggfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDkgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDEwIH0sXG4gICAgeyBmaWxlbmFtZTogUG9ydHJhaXQxMSB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MTIgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDEzIH0sXG4gICAgeyBmaWxlbmFtZTogUG9ydHJhaXQxNCB9XSxcblxuICAgIHdhbGxzOiBbeyBmaWxlbmFtZTogVGV4dHVyZUVtcHR5LCBwYXNzYWJsZTogdHJ1ZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTYW1hcmlzTWV0YWwsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogZmFsc2UsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRleHR1cmVFbXB0eSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiBmYWxzZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhHcmFuaXRlV2FsbCwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiBmYWxzZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhSZWRDbG92ZXIsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogZmFsc2UsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRleHR1cmVTdG9uZUFyY2h3YXksIHBhc3NhYmxlOiB0cnVlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcblxuICAgIHsgZmlsZW5hbWU6IFRYU2VnbWVudGVkU3RvbmVXYWxsLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYUGFsYWNlRmxvb3IsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTbXVkZ2VkRGlydCwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENhcnZlZFNhbmRzdG9uZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWEFzeWx1bUNlbGxPcmFuZ2UsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhDb3VuY2lsQ2hhbWJlciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNhbWFyaXMsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTbGltZVdhbGwsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhEYXJrR3JheU1hcmJsZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWEdsYXNzeVBpbmtNYXJibGUsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTbWFzaGVkR3JheU1hcmJsZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWERlYWRDYXZlcywgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWEZlblN0b25lLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQnJvd25RdXNzYWlyR3Jhbml0ZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFJvdWdoT3J0aG9jbGFzZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWE1pZG5pZ2h0U3RvbmUsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhXZWVkeUxhd24sIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhNb3NzQ3VzaGlvbnMsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhGb3Jlc3RGbG9vciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFdlZWRzQW5kR3JhdmVsLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYTW9zc3lSb2NrLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuXG4gICAgeyBmaWxlbmFtZTogVFhDb3R0YWdlMURvb3IsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhDb3R0YWdlMVdhbGwsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhDb3R0YWdlMVdhbGxGbDIsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhDb3R0YWdlMVdpbmRvd0ZsMiwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxV2luZG93MkZsMiwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxRG9vcjIsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTYW5keUxpY2hlbkJyaWNrLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYU3RyYXdSb29mLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYU3RyYXdSb29mSW50ZXJpb3IsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH1dLFxuICAgIFxuICAgIGRvb3JzOiBbe2ZpbGVuYW1lOiBBbnRlZGlsdXZpYW5Eb29yLCBhbHBoYU1hcDogQW50ZWRpbHV2aWFuRG9vckFscGhhLCBub3JtYWxNYXA6XCJcIn1dLFxuXG4gICAgb2JqZWN0czogW3sgbmFtZTogXCJDaGVzdFwiLCBmaWxlbmFtZTogXCJhc3NldHMvcnBnL0Jhc2ljIFJQRyBJdGVtIEZyZWUvTWV0YWwgQ2FzZV8wMS5wbmdcIiB9LFxuICAgIHsgbmFtZTogXCJMZXZlclwiLCBmaWxlbmFtZTogXCJycGcvb2JqZWN0LzMucG5nXCIgfSxcbiAgICB7IG5hbWU6IFwiQnV0dG9uXCIsIGZpbGVuYW1lOiBcInJwZy9vYmplY3QvNC5wbmdcIiB9XSxcblxuICAgIG5wY3M6IFt7XG4gICAgICAgIG5hbWU6IFwiVWtvYmFjaFwiLFxuICAgICAgICBmaWxlbmFtZTogVWtvYmFjaFRleHR1cmUsXG4gICAgICAgIGRlYWRUZXh0dXJlOiBTa3VsbENyb3NzYm9uZXMsXG4gICAgICAgIHNjYWxlOiAwLjUsXG4gICAgICAgIGhwOiBcIjNkOCszXCIsXG4gICAgICAgIGxvb3Q6IFwiM2Q0XCIsXG4gICAgICAgIGhvc3RpbGU6IHRydWUsXG4gICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiU3dvcmRcIiwgdHlwZTogXCJhdHRhY2tcIiwgcmFuZ2U6IDEsIGRhbWFnZTogXCIyZDZcIiwgdG9IaXQ6IFwiM1wiLCByZWNvdmVyeTogXCIyXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIkJvd1wiLCB0eXBlOiBcImF0dGFja1wiLCByYW5nZTogNiwgZGFtYWdlOiBcIjFkNFwiLCB0b0hpdDogXCIzXCIsIHJlY292ZXJ5OiBcIjEwXCIgfV1cbiAgICB9LFxuXG4gICAge1xuICAgICAgICBuYW1lOiBcIkJ1ZXJcIixcbiAgICAgICAgZmlsZW5hbWU6IEJ1ZXJUZXh0dXJlLFxuICAgICAgICBkZWFkVGV4dHVyZTogU2t1bGxDcm9zc2JvbmVzLFxuICAgICAgICBzY2FsZTogMC44LFxuICAgICAgICBocDogXCI2ZDgrNlwiLFxuICAgICAgICBsb290OiBcIjZkOFwiLFxuICAgICAgICBob3N0aWxlOiB0cnVlLFxuICAgICAgICBhY3Rpb25zOiBbeyBuYW1lOiBcIkJpdGVcIiwgdHlwZTogXCJhdHRhY2tcIiwgcmFuZ2U6IDEsIGRhbWFnZTogXCIyZDhcIiwgdG9IaXQ6IFwiNFwiLCByZWNvdmVyeTogXCIzXCIgfV1cbiAgICB9LFxuXG4gICAge1xuICAgICAgICBuYW1lOiBcIkZhbmN5IERyZXNzIDEyXCIsXG4gICAgICAgIGZpbGVuYW1lOiBGYW5jeURyZXNzMTJUZXh0dXJlLFxuICAgICAgICBkZWFkVGV4dHVyZTogU2t1bGxDcm9zc2JvbmVzLFxuICAgICAgICBzY2FsZTogMC42LFxuICAgICAgICBocDogXCIyZDZcIixcbiAgICAgICAgbG9vdDogXCIzZDRcIixcbiAgICAgICAgaG9zdGlsZTogZmFsc2UsXG4gICAgICAgIGFjdGlvbnM6IFtdXG4gICAgfV0sXG5cbiAgICBlcXVpcG1lbnQ6IFt7IHR5cGU6IFwid2VhcG9uXCIsIG5hbWU6IFwiU3dvcmRcIiwgZGFtYWdlOiBcIjJkNlwiLCB0b0hpdDogNCwgcmFuZ2U6IDEgfSxcbiAgICB7IHR5cGU6IFwid2VhcG9uXCIsIG5hbWU6IFwiQm93XCIsIGRhbWFnZTogXCIxZDhcIiwgdG9IaXQ6IDQsIHJhbmdlOiA2IH1dLFxuXG4gICAgdWk6IHsgaG91cmdsYXNzSWNvbjogSG91ckdsYXNzSWNvbiwgY2hhclNoZWV0SWNvbjogQ2hhclNoZWV0SWNvbiwgcXVpY2tJdGVtVGFiSWNvbjogUXVpY2tJdGVtVGFiSWNvbiB9LFxuXG4gICAgbGV2ZWxzOiBbe1xuICAgICAgICBuYW1lOiBcIkR1bmdlb25cIiwgd2lkdGg6IDIsIGhlaWdodDogMSwgZGVwdGg6IDIsXG4gICAgICAgIHdhbGxzOiBbMCwgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDEsIDAsXG5cbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAwLCAxLCAwXSxcbiAgICAgICAgZG9vcnM6IFtdLFxuICAgICAgICBvYmplY3RzOiBbXSxcbiAgICAgICAgbnBjczogW10sXG4gICAgICAgIHN0YXJ0aW5nUG9zaXRpb246IFswLCAwLCAwXSxcbiAgICAgICAgc3RhcnRpbmdGYWNpbmc6IDEsXG4gICAgICAgIG91dHNpZGU6IGZhbHNlLFxuICAgICAgICBza3lib3g6IDBcbiAgICB9LFxuXG4gICAge1xuICAgICAgICBuYW1lOiBcIk9wZW4gQ291bnRyeVwiLCB3aWR0aDogMTAsIGhlaWdodDogMiwgZGVwdGg6IDgsIFxuICAgICAgICB3YWxsczogT3BlbkNvdW50cnksXG4gICAgICAgIGRvb3JzOiBbe3R5cGU6IDAsIHBvc2l0aW9uOiBbNiwwLDUsMF0sIHRhcmdldDogWzIsMywxLDQsMF0sIG9wZW5BbmdsZTogdW5kZWZpbmVkfV0sXG4gICAgICAgIG9iamVjdHM6IFtdLFxuICAgICAgICBucGNzOiBbXSxcbiAgICAgICAgc3RhcnRpbmdQb3NpdGlvbjogWzYsIDAsIDddLFxuICAgICAgICBzdGFydGluZ0ZhY2luZzogMCxcbiAgICAgICAgb3V0c2lkZTogdHJ1ZSxcbiAgICAgICAgc2t5Ym94OiAwXG4gICAgfSxcblxuICAgIHtcbiAgICAgICAgbmFtZTogXCJIb3VzZSBvZiBWYWhzXCIsIHdpZHRoOiA3LCBkZXB0aDogNSwgaGVpZ2h0OiAzLFxuICAgICAgICB3YWxsczogTGFyZ2VIb3VzZSxcbiAgICAgICAgZG9vcnM6IFt7dHlwZTogMCwgcG9zaXRpb246IFsyLDEsMywwXSwgdGFyZ2V0OiB1bmRlZmluZWQsIG9wZW5BbmdsZTogTWF0aC5QSS8yfSxcbiAgICAgICAge3R5cGU6IDAsIHBvc2l0aW9uOiBbMywxLDQsMV0sIHRhcmdldDogdW5kZWZpbmVkLCBvcGVuQW5nbGU6IE1hdGguUEkvMn0sXG4gICAgICAgIHt0eXBlOiAwLCBwb3NpdGlvbjogWzMsMSw0LDJdLCB0YXJnZXQ6IFsxLDYsMCw1LDRdLCBvcGVuQW5nbGU6IHVuZGVmaW5lZH0sXG4gICAgICAgIHt0eXBlOiAwLCBwb3NpdGlvbjogWzQsMSwyLDFdLCB0YXJnZXQ6IHVuZGVmaW5lZCwgb3BlbkFuZ2xlOiBNYXRoLlBJLzJ9LFxuICAgICAgICB7dHlwZTogMCwgcG9zaXRpb246IFs0LDEsMiwzXSwgdGFyZ2V0OiB1bmRlZmluZWQsIG9wZW5BbmdsZTogTWF0aC5QSS8yfV0sXG4gICAgICAgIG9iamVjdHM6IFtdLFxuICAgICAgICBucGNzOiBbXSxcbiAgICAgICAgc3RhcnRpbmdQb3NpdGlvbjogWzMsIDEsIDRdLFxuICAgICAgICBzdGFydGluZ0ZhY2luZzogMCxcbiAgICAgICAgb3V0c2lkZTogZmFsc2UsXG4gICAgICAgIHNreWJveDogdW5kZWZpbmVkXG4gICAgfV0sXG4gICAgcGFydHk6IHtcbiAgICAgICAgY2hhcmFjdGVyczogW3tcbiAgICAgICAgICAgIG5hbWU6IFwiVG9yd3luXCIsIHRpdGxlOiBcIlNxdWlyZVwiLCBwb3J0cmFpdDogMTAsIGVxdWlwbWVudDogWzAsIDFdLCBsZXZlbDogMSwgeHA6IDAsIGhwOiAyNCwgbWF4SFA6IDI0LCBtYW5hOiAwLCBtYXhNYW5hOiAwLFxuICAgICAgICAgICAgc3BlbGxMaXN0czogW11cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJBbWVsYXJcIiwgdGl0bGU6IFwiQWNvbHl0ZVwiLCBwb3J0cmFpdDogMSwgZXF1aXBtZW50OiBbXSwgbGV2ZWw6IDEsIHhwOiAwLCBocDogMTQsIG1heEhQOiAxNCwgbWFuYTogOCwgbWF4TWFuYTogOCxcbiAgICAgICAgICAgIHNwZWxsTGlzdHM6IFt7IGxpc3Q6IDIsIHNwZWxsczogWzBdIH1dXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6IFwiR2FyblwiLCB0aXRsZTogXCJQaWNrcG9ja2V0XCIsIHBvcnRyYWl0OiA1LCBlcXVpcG1lbnQ6IFtdLCBsZXZlbDogMSwgeHA6IDAsIGhwOiAxMiwgbWF4SFA6IDEyLCBtYW5hOiAwLCBtYXhNYW5hOiAwLFxuICAgICAgICAgICAgc3BlbGxMaXN0czogW11cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJNZWx5c3RyYVwiLCB0aXRsZTogXCJBcHByZW50aWNlXCIsIHBvcnRyYWl0OiAzLCBlcXVpcG1lbnQ6IFtdLCBsZXZlbDogMSwgeHA6IDAsIGhwOiA4LCBtYXhIUDogOCwgbWFuYTogMTIsIG1heE1hbmE6IDEyLFxuICAgICAgICAgICAgc3BlbGxMaXN0czogW3sgbGlzdDogMCwgc3BlbGxzOiBbMF0gfSxcbiAgICAgICAgICAgIHsgbGlzdDogMSwgc3BlbGxzOiBbMCwgMV0gfSxcbiAgICAgICAgICAgIHsgbGlzdDogMiwgc3BlbGxzOiBbMCwgMV0gfSxcbiAgICAgICAgICAgIHsgbGlzdDogMywgc3BlbGxzOiBbXSB9XVxuICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIGdvbGQ6IDBcbiAgICB9LFxuICAgIHBsYXllcjogeyBwb3NpdGlvbjogdW5kZWZpbmVkLCBmYWNpbmc6IDAsIGxldmVsOiAxIH0sXG5cbiAgICBzcGVsbExpc3RzOiBbeyBuYW1lOiBcIkVhcnRoXCIsIHNwZWxsczogW3sgbmFtZTogXCJMZXZlbCBFZGl0aW5nXCIsIGljb246IFNwZWxsVGVzdEltYWdlIH1dLCBpY29uOiBFYXJ0aFNwZWxsVGFiIH0sXG4gICAgeyBuYW1lOiBcIkFpclwiLCBzcGVsbHM6IFt7IG5hbWU6IFwiTWluaW1hcFwiLCBpY29uOiBTcGVsbFRlc3RJbWFnZSB9LHsgbmFtZTogXCJGbHlcIiwgaWNvbjogU3BlbGxUZXN0SW1hZ2UgfV0sIGljb246IEFpclNwZWxsVGFiIH0sXG4gICAgeyBuYW1lOiBcIkZpcmVcIiwgaWNvbjogRmlyZVNwZWxsVGFiLCBzcGVsbHM6IFt7IG5hbWU6IFwiRmlyZSBCb2x0XCIsIGljb246IFNwZWxsVGVzdEltYWdlIH0sIHsgbmFtZTogXCJUb3JjaCBMaWdodFwiLCBpY29uOiBTcGVsbFRlc3RJbWFnZSB9XSB9LFxuICAgIHsgbmFtZTogXCJXYXRlclwiLCBzcGVsbHM6IFtdLCBpY29uOiBXYXRlclNwZWxsVGFiIH1dXG5cbn1cbmV4cG9ydCB7IGdhbWVEYXRhIH07XG5cbmV4cG9ydCBjbGFzcyBHYW1lRGF0YSB7XG4gICAgcG9ydHJhaXRzOiBQb3J0cmFpdERhdGFbXTtcbiAgICB3YWxsczogV2FsbERhdGFbXTtcbiAgICBkb29yczogRG9vckRhdGFbXTtcbiAgICBvYmplY3RzOiBXb3JsZE9iamVjdERhdGFbXTtcbiAgICBucGNzOiBOUENEYXRhW107XG4gICAgbGV2ZWxzOiBMZXZlbERhdGFbXTtcbiAgICBwYXJ0eTogUGFydHlEYXRhO1xuICAgIHBsYXllcjogUGxheWVyRGF0YTtcbiAgICB1aTogVUlEYXRhXG4gICAgZXF1aXBtZW50OiAoSXRlbURhdGEgfCBXZWFwb25JdGVtRGF0YSlbXTtcbiAgICBza3lib3hlczogU2t5Ym94RGF0YVtdO1xuICAgIHNwZWxsTGlzdHM6IFNwZWxsTGlzdERhdGFbXTtcbn1cbmV4cG9ydCBjbGFzcyBTa3lib3hEYXRhIHsgeFBvczogc3RyaW5nOyB4TmVnOiBzdHJpbmc7IHlQb3M6IHN0cmluZzsgeU5lZzogc3RyaW5nOyB6UG9zOiBzdHJpbmc7IHpOZWc6IHN0cmluZyB9XG5leHBvcnQgY2xhc3MgUG9ydHJhaXREYXRhIHsgZmlsZW5hbWU6IHN0cmluZyB9XG5leHBvcnQgY2xhc3MgV2FsbERhdGEgeyBmaWxlbmFtZTogc3RyaW5nOyBwYXNzYWJsZTogYm9vbGVhbjsgbm9ybWFsTWFwOiBzdHJpbmc7IHRyYW5zcGFyZW50OiBib29sZWFuOyByZXBlYXQ6IG51bWJlcltdIH1cbmV4cG9ydCBjbGFzcyBXYWxsRGV0YWlsc0RhdGEgeyB0OiBudW1iZXI7IG53OiBudW1iZXI7IG5lOiBudW1iZXI7IHNlOiBudW1iZXI7IHN3OiBudW1iZXI7IG1pZDogbnVtYmVyOyBuOiBudW1iZXI7IGU6IG51bWJlcjsgczogbnVtYmVyOyB3OiBudW1iZXIgfVxuZXhwb3J0IGNsYXNzIFdvcmxkT2JqZWN0RGF0YSB7IG5hbWU6IHN0cmluZzsgZmlsZW5hbWU6IHN0cmluZyB9XG5leHBvcnQgY2xhc3MgTlBDRGF0YSB7IG5hbWU6IHN0cmluZzsgZmlsZW5hbWU6IHN0cmluZzsgZGVhZFRleHR1cmU6IHN0cmluZzsgc2NhbGU6IG51bWJlcjsgaHA6IHN0cmluZzsgbG9vdDogc3RyaW5nOyBob3N0aWxlOiBib29sZWFuOyBhY3Rpb25zOiBBY3Rpb25EYXRhW10gfVxuZXhwb3J0IGNsYXNzIEFjdGlvbkRhdGEgeyB0eXBlOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgcmFuZ2U6IG51bWJlcjsgZGFtYWdlOiBzdHJpbmc7IHRvSGl0OiBzdHJpbmc7IHJlY292ZXJ5OiBzdHJpbmcgfVxuZXhwb3J0IGNsYXNzIExldmVsRGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgZGVwdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB3YWxsczogKG51bWJlciB8IGFueSlbXTtcbiAgICAvLyBwb3NpdGlvbjogeCx5LHosZmFjZVxuICAgIC8vIHRhcmdldDogbGV2ZWwseCx5LHpcbiAgICBkb29yczogTGV2ZWxEb29yRGF0YVtdO1xuICAgIG9iamVjdHM6IHsgdHlwZTogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyW10gfVtdO1xuICAgIG5wY3M6IHsgdHlwZTogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyW10gfVtdO1xuICAgIHN0YXJ0aW5nUG9zaXRpb246IG51bWJlcltdO1xuICAgIHN0YXJ0aW5nRmFjaW5nOiBudW1iZXI7XG4gICAgb3V0c2lkZTogYm9vbGVhbjtcbiAgICBza3lib3g6IG51bWJlcjtcbn1cbmV4cG9ydCBjbGFzcyBQYXJ0eURhdGEge1xuICAgIGNoYXJhY3RlcnM6IENoYXJhY3RlckRhdGFbXTtcbiAgICBnb2xkOiBudW1iZXI7XG59XG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyRGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgcG9ydHJhaXQ6IG51bWJlcjtcbiAgICBlcXVpcG1lbnQ6IG51bWJlcltdO1xuICAgIGxldmVsOiBudW1iZXJcbiAgICB4cDogbnVtYmVyXG4gICAgaHA6IG51bWJlcjtcbiAgICBtYXhIUDogbnVtYmVyO1xuICAgIG1hbmE6IG51bWJlcjtcbiAgICBtYXhNYW5hOiBudW1iZXI7XG4gICAgc3BlbGxMaXN0czogeyBsaXN0OiBudW1iZXIsIHNwZWxsczogbnVtYmVyW10gfVtdXG5cbn1cbmV4cG9ydCBjbGFzcyBQbGF5ZXJEYXRhIHsgcG9zaXRpb246IG51bWJlcltdOyBmYWNpbmc6IG51bWJlcjsgbGV2ZWw6IG51bWJlcjsgfVxuZXhwb3J0IGNsYXNzIFVJRGF0YSB7IGhvdXJnbGFzc0ljb246IHN0cmluZzsgY2hhclNoZWV0SWNvbjogc3RyaW5nOyBxdWlja0l0ZW1UYWJJY29uOiBzdHJpbmc7IH07XG5leHBvcnQgY2xhc3MgSXRlbURhdGEgeyB0eXBlOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgfVxuZXhwb3J0IGNsYXNzIFdlYXBvbkl0ZW1EYXRhIGV4dGVuZHMgSXRlbURhdGEgeyBkYW1hZ2U6IHN0cmluZzsgdG9IaXQ6IG51bWJlcjsgcmFuZ2U6IG51bWJlciB9XG5leHBvcnQgY2xhc3MgU3BlbGxMaXN0RGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNwZWxsczogeyBuYW1lOiBzdHJpbmcsIGljb246IHN0cmluZyB9W107XG4gICAgaWNvbjogc3RyaW5nO1xufVxuZXhwb3J0IGNsYXNzIERvb3JEYXRhIHtmaWxlbmFtZTogc3RyaW5nOyBub3JtYWxNYXA6IHN0cmluZzsgYWxwaGFNYXA6IHN0cmluZzsgfVxuZXhwb3J0IGNsYXNzIExldmVsRG9vckRhdGEgeyB0eXBlOiBudW1iZXI7IHBvc2l0aW9uOiBudW1iZXJbXTsgdGFyZ2V0OiBudW1iZXJbXTsgb3BlbkFuZ2xlOiBudW1iZXI7IH0iLCJpbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCJlbmdpbmUvdXRpbC9FdmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBBY3Rvck1vZGVsXG57XG4gICAgaGl0cG9pbnRzOiBPYnNlcnZlclZhcmlhYmxlPG51bWJlcj47XG4gICAgbWF4SGl0cG9pbnRzOiBPYnNlcnZlclZhcmlhYmxlPG51bWJlcj47XG5cbiAgICBvblRha2VEYW1hZ2U6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgICByb2xsSW5pdGlhdGl2ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjUpO1xuICAgIH1cblxuICAgIHRha2VEYW1hZ2UoZGFtYWdlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLmhpdHBvaW50cy52YWx1ZSAtPSBkYW1hZ2U7XG4gICAgICAgIHRoaXMuY2hlY2tIZWFsdGhTdGF0ZSgpO1xuICAgICAgICB0aGlzLm9uVGFrZURhbWFnZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgY2hlY2tIZWFsdGhTdGF0ZSgpO1xufSIsImltcG9ydCB7IFBvcnRyYWl0RGF0YSwgQ2hhcmFjdGVyRGF0YSwgR2FtZURhdGEsIFdlYXBvbkl0ZW1EYXRhIH0gZnJvbSBcIi4uL2RhdGFcIjtcbmltcG9ydCBBY3Rvck1vZGVsIGZyb20gXCIuL0FjdG9yTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Nb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgRXF1aXBtZW50TW9kZWwgZnJvbSBcIi4vRXF1aXBtZW50TW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgTG9vdEFjdGlvbk1vZGVsIGZyb20gXCIuL2FjdGlvbi9Mb290QWN0aW9uTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uU291cmNlTW9kZWxcIjtcbmltcG9ydCBBdHRhY2tBY3Rpb25Nb2RlbCBmcm9tIFwiLi9hY3Rpb24vQXR0YWNrQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzVHlwZSB9IGZyb20gXCIuL1N0YXR1c1wiO1xuaW1wb3J0IFNwZWxsTGlzdCBmcm9tIFwiLi9TcGVsbExpc3RcIjtcbmltcG9ydCBPcGVuRG9vckFjdGlvbk1vZGVsIGZyb20gXCIuL2FjdGlvbi9PcGVuRG9vckFjdGlvbk1vZGVsXCI7XG5cbmV4cG9ydCBlbnVtIEhlYWx0aFN0YXRlIHsgTm9ybWFsLCBVbmNvbnNpb3VzLCBEZWFkIH1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVyTW9kZWwgZXh0ZW5kcyBBY3Rvck1vZGVsIGltcGxlbWVudHMgQWN0aW9uU291cmNlTW9kZWwsIEFjdGlvblRhcmdldE1vZGVsXG57XG4gICAgcG9ydHJhaXRUeXBlOiBQb3J0cmFpdERhdGE7XG4gICAgY2hhcmFjdGVyRGF0YTogQ2hhcmFjdGVyRGF0YTtcbiAgICB1bmxvY2tlZEFjdGlvbnM6IEFjdGlvbk1vZGVsW10gPSBbXTtcbiAgICBlcXVpcG1lbnRNb2RlbDogRXF1aXBtZW50TW9kZWw7XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBoZWFsdGhTdGF0ZTogT2JzZXJ2ZXJWYXJpYWJsZTxIZWFsdGhTdGF0ZT47XG4gICAgbWFuYTogbnVtYmVyO1xuICAgIG1heE1hbmE6IG51bWJlcjtcbiAgICBsZXZlbDogbnVtYmVyO1xuICAgIHhwOiBudW1iZXI7XG4gICAgc3RhdHVzZXM6IFN0YXR1c1tdID0gW107XG4gICAgc3BlbGxMaXN0czogU3BlbGxMaXN0W10gPSBbXTtcblxuICAgIGdldCBmdWxsTmFtZSgpIHsgcmV0dXJuIHRoaXMuY2hhcmFjdGVyRGF0YS5uYW1lICsgXCIgdGhlIFwiICsgdGhpcy5jaGFyYWN0ZXJEYXRhLnRpdGxlOyB9XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lRGF0YTogR2FtZURhdGEsIGRhdGE6IENoYXJhY3RlckRhdGEpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNoYXJhY3RlckRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnBvcnRyYWl0VHlwZSA9IGdhbWVEYXRhLnBvcnRyYWl0c1tkYXRhLnBvcnRyYWl0XTtcbiAgICB9XG5cbiAgICBzYXZlKGdhbWVEYXRhOiBHYW1lRGF0YSwgY2hhcmFjdGVyRGF0YTogQ2hhcmFjdGVyRGF0YSlcbiAgICB7XG4gICAgICAgIGNoYXJhY3RlckRhdGEuaHAgPSB0aGlzLmhpdHBvaW50cy52YWx1ZTtcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5tYW5hID0gdGhpcy5tYW5hO1xuICAgICAgICBjaGFyYWN0ZXJEYXRhLm1heEhQID0gdGhpcy5tYXhIaXRwb2ludHMudmFsdWU7XG4gICAgICAgIGNoYXJhY3RlckRhdGEubWF4TWFuYSA9IHRoaXMubWF4TWFuYTtcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5sZXZlbCA9IHRoaXMubGV2ZWw7XG4gICAgICAgIGNoYXJhY3RlckRhdGEueHAgPSB0aGlzLnhwO1xuICAgICAgICBjaGFyYWN0ZXJEYXRhLnBvcnRyYWl0ID0gZ2FtZURhdGEucG9ydHJhaXRzLmluZGV4T2YodGhpcy5wb3J0cmFpdFR5cGUpO1xuICAgIH1cblxuICAgIGdldCBzdGF0dXNUZXh0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5Ob3JtYWwpXG4gICAgICAgICAgICByZXR1cm4gXCJHb29kXCI7ICAgXG4gICAgICAgIGlmICh0aGlzLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5VbmNvbnNpb3VzKVxuICAgICAgICAgICAgcmV0dXJuIFwiVW5jb25zaW91c1wiOyAgICBcbiAgICAgICAgaWYgKHRoaXMuaGVhbHRoU3RhdGUudmFsdWUgPT09IEhlYWx0aFN0YXRlLkRlYWQpXG4gICAgICAgICAgICByZXR1cm4gXCJEZWFkXCI7ICAgXG4gICAgfVxuXG4gICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb247IH1cblxuICAgIGNyZWF0ZShnYW1lTW9kZWw6R2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5lcXVpcG1lbnRNb2RlbCA9IG5ldyBFcXVpcG1lbnRNb2RlbCgpXG4gICAgICAgIHRoaXMubWF4SGl0cG9pbnRzID0gbmV3IE9ic2VydmVyVmFyaWFibGUodGhpcy5jaGFyYWN0ZXJEYXRhLm1heEhQKTtcbiAgICAgICAgdGhpcy5oaXRwb2ludHMgPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZSh0aGlzLmNoYXJhY3RlckRhdGEuaHApO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5oZWFsdGhTdGF0ZSA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKEhlYWx0aFN0YXRlLk5vcm1hbCk7XG4gICAgICAgIHRoaXMuY2hlY2tIZWFsdGhTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMubWFuYSA9IHRoaXMuY2hhcmFjdGVyRGF0YS5tYW5hO1xuICAgICAgICB0aGlzLm1heE1hbmEgPSB0aGlzLmNoYXJhY3RlckRhdGEubWF4TWFuYVxuICAgICAgICB0aGlzLmxldmVsID0gdGhpcy5jaGFyYWN0ZXJEYXRhLmxldmVsO1xuICAgICAgICB0aGlzLnhwID0gdGhpcy5jaGFyYWN0ZXJEYXRhLnhwO1xuXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyRGF0YS5zcGVsbExpc3RzLmZvckVhY2gobCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBzcGVsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBsLnNwZWxscy5mb3JFYWNoKHMgPT5cbiAgICAgICAgICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwZWxsRGF0YSA9IHRoaXMuZ2FtZU1vZGVsLmRhdGEuc3BlbGxMaXN0c1tsLmxpc3RdLnNwZWxsc1tzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWxscy5wdXNoKFNwZWxsTGlzdC5nZXRTcGVsbChzcGVsbERhdGEubmFtZSwgc3BlbGxEYXRhLmljb24sIHRoaXMuZ2FtZU1vZGVsKSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGV0IHNsID0gbmV3IFNwZWxsTGlzdCh0aGlzLmdhbWVNb2RlbC5kYXRhLnNwZWxsTGlzdHNbbC5saXN0XS5uYW1lLCBzcGVsbHMsIHRoaXMuZ2FtZU1vZGVsLmRhdGEuc3BlbGxMaXN0c1tsLmxpc3RdLmljb24pXG4gICAgICAgICAgICAgICAgdGhpcy5zcGVsbExpc3RzLnB1c2goc2wpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lcXVpcG1lbnRNb2RlbC5jcmVhdGUodGhpcy5jaGFyYWN0ZXJEYXRhLmVxdWlwbWVudCwgZ2FtZU1vZGVsKTtcbiAgICAgICAgaWYgKHRoaXMuZXF1aXBtZW50TW9kZWwuZXF1aXBlZFdlYXBvbilcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHdlYXBvbiA9ICh0aGlzLmVxdWlwbWVudE1vZGVsLmVxdWlwZWRXZWFwb24uaXRlbURhdGEgYXMgV2VhcG9uSXRlbURhdGEpO1xuICAgICAgICAgICAgdGhpcy51bmxvY2tlZEFjdGlvbnMucHVzaChuZXcgQXR0YWNrQWN0aW9uTW9kZWwodGhpcy5nYW1lTW9kZWwsIHRoaXMuZXF1aXBtZW50TW9kZWwuZXF1aXBlZFdlYXBvbi5uYW1lLCB3ZWFwb24uZGFtYWdlLCB3ZWFwb24ucmFuZ2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnVubG9ja2VkQWN0aW9ucy5wdXNoKG5ldyBBdHRhY2tBY3Rpb25Nb2RlbCh0aGlzLmdhbWVNb2RlbCwgXCJVbmFybWVkXCIsIFwiMWQ0XCIsIDEpKTtcbiAgICAgICAgdGhpcy51bmxvY2tlZEFjdGlvbnMucHVzaChuZXcgTG9vdEFjdGlvbk1vZGVsKHRoaXMuZ2FtZU1vZGVsKSlcbiAgICAgICAgdGhpcy51bmxvY2tlZEFjdGlvbnMucHVzaChuZXcgT3BlbkRvb3JBY3Rpb25Nb2RlbCh0aGlzLmdhbWVNb2RlbCkpXG5cbiAgICAgICAgdGhpcy5oaXRwb2ludHMub25VcGRhdGUucHVzaCh0aGlzLmNoZWNrSGVhbHRoU3RhdGUuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgY2hlY2tIZWFsdGhTdGF0ZSh1cGRhdGVQYXJ0eT86IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5oaXRwb2ludHMudmFsdWUgPD0gMClcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoU3RhdGUudmFsdWUgPSBIZWFsdGhTdGF0ZS5VbmNvbnNpb3VzO1xuICAgICAgICBpZiAodGhpcy5oaXRwb2ludHMudmFsdWUgPD0gLXRoaXMubWF4SGl0cG9pbnRzLnZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmhlYWx0aFN0YXRlLnZhbHVlID0gSGVhbHRoU3RhdGUuRGVhZDtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzZXMucHVzaChuZXcgU3RhdHVzKFN0YXR1c1R5cGUuRGVhZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVQYXJ0eSB8fCB1cGRhdGVQYXJ0eSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuY2hlY2tIZWFsdGhTdGF0ZSgpO1xuICAgIH1cblxuICAgIGF2YWlsYWJsZUFjdGlvbnModGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvbk1vZGVsW11cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVubG9ja2VkQWN0aW9ucy5maWx0ZXIoYSA9PiBhLnRlc3QodGhpcywgdGFyZ2V0KSlcbiAgICB9XG59IiwiaW1wb3J0IEl0ZW1Nb2RlbCBmcm9tIFwiLi9JdGVtTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4vR2FtZU1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVxdWlwbWVudE1vZGVsXG57XG4gICAgZXF1aXBtZW50OiBJdGVtTW9kZWxbXSA9IFtdO1xuICAgIGVxdWlwZWRXZWFwb246IEl0ZW1Nb2RlbDtcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNyZWF0ZShlcXVpcG1lbnRJRHM6IG51bWJlcltdLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICBlcXVpcG1lbnRJRHMuZm9yRWFjaChpZCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50LnB1c2gobmV3IEl0ZW1Nb2RlbChnYW1lTW9kZWwuZGF0YS5lcXVpcG1lbnRbaWRdKSlcbiAgICAgICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgUGFydHlNb2RlbCBmcm9tIFwiLi9QYXJ0eU1vZGVsXCI7XG5pbXBvcnQgV29ybGRNb2RlbCBmcm9tIFwiLi93b3JsZC9Xb3JsZE1vZGVsXCI7XG5pbXBvcnQgUGxheWVyTW9kZWwsIHsgRmFjaW5nIH0gZnJvbSBcIi4vUGxheWVyTW9kZWxcIjtcbmltcG9ydCB7IEdhbWVEYXRhLCBXYWxsRGF0YSB9IGZyb20gXCIuLi9kYXRhXCI7XG5pbXBvcnQgSW5pdGlhdGl2ZU1vZGVsIGZyb20gXCIuL2FjdGlvbi9Jbml0aWF0aXZlTW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuL2FjdGlvbi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvbk1vZGVsIGZyb20gXCIuL2FjdGlvbi9BY3Rpb25Nb2RlbFwiO1xuaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4vd29ybGQvTGV2ZWxNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuL2FjdGlvbi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IE5QQ01vZGVsIGZyb20gXCIuL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmltcG9ydCBXYWxsTW9kZWwgZnJvbSBcIi4vd29ybGQvV2FsbE1vZGVsXCI7XG5pbXBvcnQgU3BlbGxMaXN0IGZyb20gXCIuL1NwZWxsTGlzdFwiO1xuaW1wb3J0IFNwZWxsIGZyb20gXCIuL1NwZWxsXCI7XG5pbXBvcnQgRG9vck1vZGVsIGZyb20gXCIuL3dvcmxkL0Rvb3JNb2RlbFwiO1xuaW1wb3J0IFN0YXR1cyBmcm9tIFwiLi9TdGF0dXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZU1vZGVsXG57XG4gICAgcGFydHk6IFBhcnR5TW9kZWw7XG4gICAgd29ybGQ6IFdvcmxkTW9kZWw7XG4gICAgcGxheWVyOiBQbGF5ZXJNb2RlbDtcbiAgICBkYXRhOiBHYW1lRGF0YTtcbiAgICBpbml0aWF0aXZlOiBJbml0aWF0aXZlTW9kZWw7XG5cbiAgICBzcGVsbExpc3RzOiBTcGVsbExpc3RbXSA9IFtdO1xuXG4gICAgbGlzdGVuZXI6IEdhbWVNb2RlbExpc3RlbmVyO1xuXG4gICAgaW5mb1RleHQ6IE9ic2VydmVyVmFyaWFibGU8c3RyaW5nPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKFwiXCIpO1xuICAgIGN1cnJlbnRMZXZlbEVkaXRXYWxsRGF0YTogV2FsbERhdGE7XG5cbiAgICBwcml2YXRlIF9jdXJyZW50UGFpbnRJRDogbnVtYmVyID0gMDtcblxuXG4gICAgY29uc3RydWN0b3IobGlzdGVuZXI6IEdhbWVNb2RlbExpc3RlbmVyLCBwYXJ0eTogUGFydHlNb2RlbCwgd29ybGQ6IFdvcmxkTW9kZWwsIHBsYXllcjogUGxheWVyTW9kZWwsIGRhdGE6IEdhbWVEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnBhcnR5ID0gcGFydHk7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZSA9IG5ldyBJbml0aWF0aXZlTW9kZWwoKTtcbiAgICB9XG4gICAgXG4gICAgZ2V0IGN1cnJlbnRQYWludElEKCkgeyByZXR1cm4gdGhpcy5fY3VycmVudFBhaW50SUQ7IH1cbiAgICBzZXQgY3VycmVudFBhaW50SUQodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFBhaW50SUQgPSB2YWwgJSB0aGlzLmRhdGEud2FsbHMubGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudFBhaW50SUQgPCAwKVxuICAgICAgICB0aGlzLl9jdXJyZW50UGFpbnRJRCA9IHRoaXMuZGF0YS53YWxscy5sZW5ndGggKyB0aGlzLmN1cnJlbnRQYWludElEO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnBhcnR5LmNyZWF0ZSh0aGlzLmRhdGEsIHRoaXMpO1xuICAgICAgICB0aGlzLndvcmxkLmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuY3JlYXRlKHRoaXMsIHRoaXMuZGF0YSk7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5jcmVhdGUodGhpcywgdGhpcy5wYXJ0eSwgdGhpcy53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUsIHRoaXMuZGF0YSk7XG4gICAgfVxuXG4gICAgc2F2ZSgpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkLnNhdmUodGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5wYXJ0eS5zYXZlKHRoaXMuZGF0YSk7XG4gICAgICAgIHRoaXMucGxheWVyLnNhdmUodGhpcy5kYXRhKTtcbiAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLmxldmVsc1t0aGlzLndvcmxkLmN1cnJlbnRMZXZlbElEXS53YWxscykpO1xuICAgIH1cblxuICAgIHR1cm5MZWZ0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuVHVybilcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnR1cm5MZWZ0KCk7XG4gICAgfVxuXG4gICAgcm90YXRlTGVmdChhbmdsZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5UdXJuKS8vICYmICghdGhpcy5wbGF5ZXIuYW5pbWF0aW5nKSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJvdGF0ZUxlZnQoYW5nbGUpO1xuICAgIH1cblxuICAgIHJvdGF0ZVJpZ2h0KGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhblR1cm4pIC8vJiYgKCF0aGlzLnBsYXllci5hbmltYXRpbmcpKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucm90YXRlUmlnaHQoYW5nbGUpO1xuICAgIH1cblxuICAgIGp1bXAoKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJqdW1wXCIpO1xuICAgIH1cblxuICAgIGNyb3VjaCgpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNyb3VjaFwiKTtcbiAgICB9XG5cbiAgICBzbGlkZVJpZ2h0KGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zbGlkZVJpZ2h0KGRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICBzbGlkZUxlZnQoZGlzdGFuY2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2xpZGVSaWdodCgtZGlzdGFuY2UpO1xuICAgIH1cblxuICAgIHNsaWRlVXB3YXJkKGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zbGlkZVVwd2FyZChkaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgc2xpZGVEb3dud2FyZChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2xpZGVVcHdhcmQoLWRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICBzbGlkZUZvcndhcmQoZGlzdGFuY2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNsaWRlRm9yd2FyZChkaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgc2xpZGVCYWNrd2FyZChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2xpZGVGb3J3YXJkKC1kaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgdHVyblJpZ2h0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuVHVybilcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnR1cm5SaWdodCgpO1xuICAgIH1cblxuICAgIHJlc2V0Um90YXRpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblR1cm4uY2FsbCgpO1xuICAgIH1cblxuICAgIHJlc2V0UG9zaXRpb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vbk1vdmUuY2FsbCgpO1xuICAgIH1cblxuICAgIHN0cmFmZUxlZnQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnN0cmFmZUxlZnQoKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmICghKHN0YXJ0LmVxdWFscyhlbmQpKSlcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmUubW92ZVBhcnR5KHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RyYWZlUmlnaHQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnN0cmFmZVJpZ2h0KCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoIShzdGFydC5lcXVhbHMoZW5kKSkpXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLm1vdmVQYXJ0eShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVGb3J3YXJkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlRm9yd2FyZCgpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCEoc3RhcnQuZXF1YWxzKGVuZCkpKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5tb3ZlUGFydHkoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlQmFja3dhcmQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVCYWNrd2FyZCgpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCEoc3RhcnQuZXF1YWxzKGVuZCkpKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5tb3ZlUGFydHkoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBob3ZlclVwKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnBsYXllci5ob3ZlclVwKCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoIShzdGFydC5lcXVhbHMoZW5kKSkpXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLm1vdmVQYXJ0eShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhvdmVyRG93bigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuaG92ZXJEb3duKCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoIShzdGFydC5lcXVhbHMoZW5kKSkpXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLm1vdmVQYXJ0eShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhc3RTcGVsbChzcGVsbDogU3BlbGwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpXG4gICAge1xuICAgICAgICBsZXQgc291cmNlID0gdGhpcy5pbml0aWF0aXZlLndhaXRpbmdDaGFyYWN0ZXIudmFsdWU7XG4gICAgICAgIGlmIChzcGVsbC50ZXN0KHNvdXJjZSwgdGFyZ2V0KSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucGVyZm9ybUFjdGlvbih0YXJnZXQsIHNwZWxsKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFwcGx5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2hMZXZlbChsZXZlbDogTGV2ZWxNb2RlbCwgcG9zaXRpb24/OiBQb2ludDMsIGZhY2luZz86IEZhY2luZylcbiAgICB7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uRXhpdExldmVsLmNhbGwoKTtcbiAgICAgICAgdGhpcy53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUgPSBsZXZlbDtcbiAgICAgICAgaWYgKHBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucG9zaXRpb24gPSBsZXZlbC5zdGFydGluZ1Bvc2l0aW9uO1xuICAgICAgICBpZiAoZmFjaW5nKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZmFjaW5nID0gZmFjaW5nO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnBsYXllci5mYWNpbmcgPSBsZXZlbC5zdGFydGluZ0ZhY2luZztcbiAgICAgICAgdGhpcy5wbGF5ZXIudXBkYXRlUm90YXRpb25Ub01hdGNoRmFjaW5nKCk7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25Td2l0Y2hMZXZlbC5jYWxsKCk7XG4gICAgfVxuXG4gICAgb3BlbkRvb3IoZG9vcjogRG9vck1vZGVsKVxuICAgIHtcbiAgICAgICAgaWYgKGRvb3IudGFyZ2V0TGV2ZWwgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoTGV2ZWwodGhpcy53b3JsZC5sZXZlbHNbZG9vci50YXJnZXRMZXZlbF0sIGRvb3IudGFyZ2V0UG9zaXRpb24sIGRvb3IudGFyZ2V0RmFjaW5nKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb29yLmNoYW5nZU9wZW5TdGF0ZSgpO1xuICAgIH1cblxuICAgIHRvZ2dsZVdhbGxBYm92ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoNSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlV2FsbEJlbG93KClcbiAgICB7XG4gICAgICAgIHRoaXMudG9nZ2xlV2FsbCg0KTtcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsRnJvbnQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDApO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgxKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDIpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgzKTtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgdG9nZ2xlV2FsbEJlaGluZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMik7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDMpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMCk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDEpO1xuICAgIH1cblxuICAgIHRvZ2dsZVdhbGxMZWZ0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgzKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMCk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgxKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMik7XG4gICAgfVxuXG4gICAgdG9nZ2xlV2FsbFJpZ2h0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgxKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMik7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgzKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMCk7XG4gICAgfVxuXG4gICAgdG9nZ2xlV2FsbChpZClcbiAgICB7XG4gICAgICAgIGlmIChpZCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVdhbGwyKDAsIDIsIDAsIDAsIC0xKTtcbiAgICAgICAgZWxzZSBpZiAoaWQgPT09IDEpXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVXYWxsMigxLCAzLCAxLCAwLCAwKTtcbiAgICAgICAgZWxzZSBpZiAoaWQgPT09IDIpXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVXYWxsMigyLCAwLCAwLCAwLCAxKTtcbiAgICAgICAgZWxzZSBpZiAoaWQgPT09IDMpXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVXYWxsMigzLCAxLCAtMSwgMCwgMCk7XG4gICAgICAgIGVsc2UgaWYgKGlkID09PSA0KVxuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlV2FsbDIoNCwgNSwgMCwgLTEsIDApO1xuICAgICAgICBlbHNlIGlmIChpZCA9PT0gNSlcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVdhbGwyKDUsIDQsIDAsIDEsIDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3RvZ2dsZVdhbGwyKGlkOiBudW1iZXIsIGlkQ2VsbDI6IG51bWJlciwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHo6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGxldCBjdXJyZW50Q2VsbCA9IHRoaXMud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucGxheWVyLnBvc2l0aW9uLnhdW3RoaXMucGxheWVyLnBvc2l0aW9uLnldW3RoaXMucGxheWVyLnBvc2l0aW9uLnpdO1xuICAgICAgICBjdXJyZW50Q2VsbC53YWxsc1tpZF0uaGlkZGVuLnZhbHVlID0gIWN1cnJlbnRDZWxsLndhbGxzW2lkXS5oaWRkZW4udmFsdWU7XG4gICAgICAgIGlmICgodGhpcy5wbGF5ZXIucG9zaXRpb24ueCt4ID49IDApICYmICggdGhpcy5wbGF5ZXIucG9zaXRpb24ueCt4IDwgdGhpcy53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUud2lkdGgpKVxuICAgICAgICAgICAgaWYgKCh0aGlzLnBsYXllci5wb3NpdGlvbi55K3kgPj0gMCkgJiYgKCB0aGlzLnBsYXllci5wb3NpdGlvbi55K3kgPCB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5oZWlnaHQpKVxuICAgICAgICAgICAgICAgIGlmICgodGhpcy5wbGF5ZXIucG9zaXRpb24ueit6ID49IDApICYmICggdGhpcy5wbGF5ZXIucG9zaXRpb24ueit6IDwgdGhpcy53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuZGVwdGgpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbGwyID0gdGhpcy53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wbGF5ZXIucG9zaXRpb24ueCt4XVt0aGlzLnBsYXllci5wb3NpdGlvbi55K3ldW3RoaXMucGxheWVyLnBvc2l0aW9uLnorel07XG4gICAgICAgICAgICAgICAgICAgIGNlbGwyLndhbGxzW2lkQ2VsbDJdLmhpZGRlbi52YWx1ZSA9IGN1cnJlbnRDZWxsLndhbGxzW2lkXS5oaWRkZW4udmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uV29ybGRDaGFuZ2UuY2FsbCgpO1xuICAgIH1cblxuICAgIHBhaW50V2FsbCh3YWxsTW9kZWw6IFdhbGxNb2RlbClcbiAgICB7XG4gICAgICAgIC8qbGV0IGkgPSB0aGlzLmRhdGEud2FsbHMuaW5kZXhPZih3YWxsTW9kZWwud2FsbERhdGEudmFsdWUpXG4gICAgICAgIGlmIChpICE9PSAtMSlcbiAgICAgICAgICAgIGkgPSAoaSArIDEpICUgdGhpcy5kYXRhLndhbGxzLmxlbmd0aCovXG4gICAgICAgIHdhbGxNb2RlbC53YWxsRGF0YS52YWx1ZSA9IHRoaXMuZGF0YS53YWxsc1t0aGlzLmN1cnJlbnRQYWludElEXTtcbiAgICB9XG5cbiAgICBzd2l0Y2hDaGFyYWN0ZXIoY2hhcmFjdGVyOiBDaGFyYWN0ZXJNb2RlbClcbiAgICB7IFxuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbkFjdClcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5zd2l0Y2hDaGFyYWN0ZXIoY2hhcmFjdGVyKTtcbiAgICB9XG5cbiAgICBwZXJmb3JtQWN0aW9uKHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwsIGFjdGlvbjogQWN0aW9uTW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5BY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzb3VyY2UgPSB0aGlzLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhY3Rpb24ucGVyZm9ybShzb3VyY2UsIHRhcmdldCk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYXRpdmUucGVyZm9ybWVkQWN0aW9uKHNvdXJjZSwgcmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgbnBjUGVyZm9ybUFjdGlvbihzb3VyY2U6IE5QQ01vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsLCBhY3Rpb246IEFjdGlvbk1vZGVsKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5ucGNzVG9BY3QudmFsdWUuaW5kZXhPZihzb3VyY2UpICE9PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGFjdGlvbi5wZXJmb3JtKHNvdXJjZSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5wZXJmb3JtZWRBY3Rpb24oc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBucGNEZWxheShucGM6IE5QQ01vZGVsLCB0aW1lOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIW5wYylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkZWxheSBudWxsIE5QQ1wiKTtcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlLm5wY0RlbGF5KG5wYywgdGltZSk7XG4gICAgfVxuXG4gICAgYXBwbHlBY3Rpb25SZXN1bHQoYWN0aW9uUmVzdWx0OiBBY3Rpb25SZXN1bHRNb2RlbClcbiAgICB7XG4gICAgICAgIGFjdGlvblJlc3VsdC5hcHBseSgpO1xuICAgIH1cblxuICAgIHRyYXZlbFRvKGxldmVsOiBMZXZlbE1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZC5zd2l0Y2hUb0xldmVsKGxldmVsKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIucG9zaXRpb24gPSBsZXZlbC5zdGFydGluZ1Bvc2l0aW9uO1xuICAgICAgICB0aGlzLnBsYXllci5mYWNpbmcgPSBsZXZlbC5zdGFydGluZ0ZhY2luZztcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlLmNyZWF0ZSh0aGlzLCB0aGlzLnBhcnR5LCB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZSwgdGhpcy5kYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcm9sbERpY2UoZGljZVNwZWM6IHN0cmluZyk6IG51bWJlclxuICAgIHtcbiAgICAgICAgLy9UT0RPOiBoYW5kbGUgbWludXNcbiAgICAgICAgLy9kaWNlU3BlYyA9IGRpY2VTcGVjLnJlcGxhY2UoL1xcdy9nLCcnKTtcbiAgICAgICAgbGV0IHBhcnRzID0gZGljZVNwZWMuc3BsaXQoXCIrXCIpO1xuICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgcGFydHMuZm9yRWFjaChwID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1bSArPSBHYW1lTW9kZWwucm9sbFNpbXBsZURpY2UocCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHN1bVxuICAgIH1cblxuICAgIHByaXZhdGUgc3RhdGljIHJvbGxTaW1wbGVEaWNlKHNpbXBsZURpY2VTcGVjOiBzdHJpbmcpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGxldCBwYXJ0cyA9IHNpbXBsZURpY2VTcGVjLnNwbGl0KFwiZFwiKTtcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChwYXJ0c1swXSk7XG4gICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHBhcnNlSW50KHBhcnRzWzBdKTtpKyspXG4gICAgICAgICAgICB0b3RhbCArPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqKHBhcnNlSW50KHBhcnRzWzFdKS0xKSkgKyAxO1xuICAgICAgICByZXR1cm4gdG90YWw7XG4gICAgfVxuXG4gICAgaXNXaXRoaW5NZWxlZShzb3VyY2U6IFBvaW50MywgdGFyZ2V0OiBQb2ludDMgKVxuICAgIHtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gUG9pbnQzLm1pbnVzKHRhcmdldCwgc291cmNlKS5tYWduaXR1ZGU7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIEdhbWVNb2RlbExpc3RlbmVyXG57XG4gICAgb25Nb3ZlOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIG9uVHVybjogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICBvbldvcmxkQ2hhbmdlOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIG9uU2hvd01pbmlNYXBDaGFuZ2U6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgb25FeGl0TGV2ZWw6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgb25Td2l0Y2hMZXZlbDogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbn1cbiIsImltcG9ydCB7IEl0ZW1EYXRhIH0gZnJvbSBcIi4uL2RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbU1vZGVsXG57XG4gICAgaXRlbURhdGE6IEl0ZW1EYXRhO1xuXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLml0ZW1EYXRhLm5hbWU7IH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIHRoaXMuaXRlbURhdGEudHlwZTsgfVxuXG4gICAgY29uc3RydWN0b3IoaXRlbURhdGE6IEl0ZW1EYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtRGF0YSA9IGl0ZW1EYXRhO1xuICAgIH1cbn0iLCJpbXBvcnQgQ2hhcmFjdGVyTW9kZWwsIHsgSGVhbHRoU3RhdGUgfSBmcm9tIFwiLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi9TdGF0dXNcIjtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0eU1vZGVsXG57XG4gICAgY2hhcmFjdGVyczogQ2hhcmFjdGVyTW9kZWxbXTtcbiAgICBnb2xkOiBPYnNlcnZlclZhcmlhYmxlPG51bWJlcj47XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgbW92ZVJlY292ZXJ5VGltZTogMTtcbiAgICBwYXJ0eURlYWQ6IGJvb2xlYW47XG4gICAgc3RhdHVzZXM6IE9ic2VydmVyVmFyaWFibGU8U3RhdHVzW10+O1xuXG4gICAgY3JlYXRlKGRhdGE6IEdhbWVEYXRhLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLmNoYXJhY3RlcnMgPSBbXTtcbiAgICAgICAgZGF0YS5wYXJ0eS5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PiB0aGlzLmNoYXJhY3RlcnMucHVzaChuZXcgQ2hhcmFjdGVyTW9kZWwoZGF0YSwgYykpKTtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PiBjLmNyZWF0ZShnYW1lTW9kZWwpKTtcbiAgICAgICAgdGhpcy5nb2xkID0gbmV3IE9ic2VydmVyVmFyaWFibGUoZGF0YS5wYXJ0eS5nb2xkKTtcbiAgICAgICAgdGhpcy5zdGF0dXNlcyA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKFtdKTtcbiAgICB9XG5cbiAgICBzYXZlKGRhdGE6IEdhbWVEYXRhKVxuICAgIHtcbiAgICAgICAgZGF0YS5wYXJ0eS5nb2xkID0gdGhpcy5nb2xkLnZhbHVlO1xuICAgICAgICBsZXQgY2hhcmFjdGVycyA9IFtdO1xuICAgICAgICB0aGlzLmNoYXJhY3RlcnMuZm9yRWFjaChjID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMuc2F2ZShkYXRhLCBjLmNoYXJhY3RlckRhdGEpXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVycy5wdXNoKGMuY2hhcmFjdGVyRGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZGF0YS5wYXJ0eS5jaGFyYWN0ZXJzID0gY2hhcmFjdGVycztcbiAgICB9XG5cblxuICAgIGFkZFN0YXR1cyhzdGF0dXM6IFN0YXR1cylcbiAgICB7XG4gICAgICAgIGxldCBuZXdTdGF0dXNlcyA9IHRoaXMuZ2FtZU1vZGVsLnBhcnR5LnN0YXR1c2VzLnZhbHVlLmZpbHRlcihzID0+IHMuc3RhdHVzVHlwZSAhPT0gc3RhdHVzLnN0YXR1c1R5cGUpXG4gICAgICAgIG5ld1N0YXR1c2VzLnB1c2goc3RhdHVzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUgPSBuZXdTdGF0dXNlcztcbiAgICB9XG5cblxuICAgIGdhaW5Hb2xkKGluY3JlbWVudDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5nb2xkLnZhbHVlICs9IGluY3JlbWVudDtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5mb1RleHQudmFsdWUgPSBcIllvdSBnYWluZWQgXCIrIGluY3JlbWVudCtcIiBncFwiO1xuICAgIH1cblxuICAgIGNoZWNrSGVhbHRoU3RhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IGxpdmluZ0NoYXJzID0gdGhpcy5jaGFyYWN0ZXJzLmZpbHRlcihjID0+IGMuaGVhbHRoU3RhdGUudmFsdWUgPT09IEhlYWx0aFN0YXRlLk5vcm1hbClcbiAgICAgICAgaWYgKGxpdmluZ0NoYXJzLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJ0eURlYWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGxheWVyLmdhbWVPdmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuL0dhbWVNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi9TdGF0dXNcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiZW5naW5lL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcblxuZXhwb3J0IGVudW0gRmFjaW5nIHsgTm9ydGgsIE5vcnRoRWFzdCwgRWFzdCwgU291dGhFYXN0LCBTb3V0aCwgU291dGhXZXN0LCBXZXN0LCBOb3J0aFdlc3R9XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllck1vZGVsXG57XG4gICAgZmFjaW5nOiBGYWNpbmc7XG4gICAgcG9zaXRpb246IFBvaW50MztcbiAgICB5T2Zmc2V0OiBudW1iZXIgPSAwO1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuICAgIGFuaW1hdGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2dhbWVPdmVyIDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGNhbk1vdmU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIGNhblR1cm46IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX3JvdGF0aW9uOiBQb2ludDM7XG4gICAgcHJpdmF0ZSBfZmluZVBvc2l0aW9uOiBQb2ludDM7XG4gICAgcHJpdmF0ZSBfc2hvd1RvcmNoTGlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9zaG93TWluaU1hcDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIG9uVXBkYXRlOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuXG4gICAgZ2V0IHJvdGF0aW9uKCkgeyByZXR1cm4gdGhpcy5fcm90YXRpb247IH1cbiAgICBzZXQgcm90YXRpb24odmFsKSB7IHRoaXMuX3JvdGF0aW9uID0gdmFsOyB0aGlzLm9uVXBkYXRlLmNhbGwoKTt9XG5cbiAgICBnZXQgZmluZVBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5fZmluZVBvc2l0aW9ufVxuICAgIHNldCBmaW5lUG9zaXRpb24odmFsKSB7IHRoaXMuX2ZpbmVQb3NpdGlvbiA9IHZhbDsgdGhpcy5vblVwZGF0ZS5jYWxsKCk7fVxuXG4gICAgZ2V0IHNob3dUb3JjaExpZ2h0KCkgeyByZXR1cm4gdGhpcy5fc2hvd1RvcmNoTGlnaHQ7IH1cbiAgICBzZXQgc2hvd1RvcmNoTGlnaHQodmFsKSB7IHRoaXMuX3Nob3dUb3JjaExpZ2h0ID0gdmFsOyB0aGlzLm9uVXBkYXRlLmNhbGwoKTt9XG5cbiAgICBnZXQgc2hvd01pbmlNYXAoKSB7IHJldHVybiB0aGlzLl9zaG93TWluaU1hcDsgfVxuICAgIHNldCBzaG93TWluaU1hcCh2YWwpIHsgdGhpcy5fc2hvd01pbmlNYXAgPSB2YWw7IHRoaXMub25VcGRhdGUuY2FsbCgpO31cblxuICAgIGdldCBncmlkUG9zaXRpb25XaXRoT2Zmc2V0KClcbiAgICB7ICAgICAgICBcbiAgICAgICAgbGV0IHBwb3MgPSB0aGlzLnBvc2l0aW9uO1xuICAgICAgICBsZXQgcG9zID0gbmV3IFBvaW50MyhwcG9zLngscHBvcy55K3RoaXMueU9mZnNldCwgcHBvcy56KTtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG5cbiAgICBnZXQgZ2FtZU92ZXIoKSB7IHJldHVybiB0aGlzLl9nYW1lT3ZlcjsgfVxuICAgIHNldCBnYW1lT3Zlcih2YWwpIHsgdGhpcy5fZ2FtZU92ZXIgPSB2YWw7IHRoaXMub25VcGRhdGUuY2FsbCgpO31cblxuICAgIGdldCBjYW5GbHkoKSB7IFxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUuZmlsdGVyKHMgPT4gcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLkZseWluZykubGVuZ3RoID49IDEpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXQgY2FuTGV2ZWxFZGl0KCkgeyBcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBhcnR5LnN0YXR1c2VzLnZhbHVlLmZpbHRlcihzID0+IHMuc3RhdHVzVHlwZSA9PT0gU3RhdHVzVHlwZS5MZXZlbEVkaXQpLmxlbmd0aCA+PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IGNhbkFjdCgpIHsgcmV0dXJuICEodGhpcy5hbmltYXRpbmcpOyB9XG5cbiAgICBjcmVhdGUoZ2FtZU1vZGVsOiBHYW1lTW9kZWwsZGF0YTogR2FtZURhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5mYWNpbmcgPSBkYXRhLnBsYXllci5mYWNpbmc7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBuZXcgUG9pbnQzKDAsMCwwKTtcbiAgICAgICAgaWYgKGRhdGEucGxheWVyLnBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBQb2ludDMoZGF0YS5wbGF5ZXIucG9zaXRpb25bMF0sZGF0YS5wbGF5ZXIucG9zaXRpb25bMV0sZGF0YS5wbGF5ZXIucG9zaXRpb25bMl0pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFBvaW50MyhnYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLnN0YXJ0aW5nUG9zaXRpb24pXG4gICAgfVxuXG4gICAgc2F2ZShkYXRhOiBHYW1lRGF0YSlcbiAgICB7XG4gICAgICAgIGRhdGEucGxheWVyLnBvc2l0aW9uID0gW3RoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56XTtcbiAgICAgICAgZGF0YS5wbGF5ZXIuZmFjaW5nID0gdGhpcy5mYWNpbmc7XG4gICAgICAgIGRhdGEucGxheWVyLmxldmVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQubGV2ZWxzLmluZGV4T2YodGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlKTtcbiAgICB9XG5cbiAgICB1cGRhdGVSb3RhdGlvblRvTWF0Y2hGYWNpbmcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IG5ldyBQb2ludDMoMCx0aGlzLmZhY2luZypNYXRoLlBJLzQsMCk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuY2FsbCgpO1xuICAgIH1cblxuICAgIHR1cm5SaWdodCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLk5vcnRoRWFzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5FYXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Tb3V0aEVhc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuU291dGg7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Tb3V0aFdlc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuV2VzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuTm9ydGhXZXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLk5vcnRoO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4uY2FsbCgpO1xuICAgIH1cblxuICAgIHR1cm5MZWZ0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuTm9ydGhXZXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLk5vcnRoO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Ob3J0aEVhc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuRWFzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLlNvdXRoRWFzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Tb3V0aDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuU291dGhXZXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLldlc3Q7XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLmNhbGwoKTtcbiAgICB9XG5cbiAgICByb3RhdGVMZWZ0KGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbmV3IFBvaW50Myh0aGlzLnJvdGF0aW9uLngsICh0aGlzLnJvdGF0aW9uLnkgKyBhbmdsZSklKE1hdGguUEkqMiksIHRoaXMucm90YXRpb24ueik7XG4gICAgICAgIGxldCB5ID0gTWF0aC5yb3VuZCg3IC0gKHRoaXMucm90YXRpb24ueSAvIChNYXRoLlBJLzQpKSk7XG4gICAgICAgIC8vaWYgKHRoaXMuZmFjaW5nICE9PSAoeSsxKSU4KVxuICAgICAgICAvL3tcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gKHkrMSklODtcbiAgICAgICAgICAgIC8vdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLmNhbGwoKTtcbiAgICAgICAvLyB9XG4gICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG4gICAgfVxuXG5cblxuICAgIGNhbk1vdmVJbkZhY2luZyhmYWNpbmc6IEZhY2luZyk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVOb3J0aCgpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuTW92ZU5vcnRoRWFzdCgpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVFYXN0KCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5Nb3ZlU291dGhFYXN0KCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVTb3V0aCgpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuTW92ZVNvdXRoV2VzdCgpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVXZXN0KCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aFdlc3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5Nb3ZlTm9ydGhXZXN0KCk7XG4gICAgfVxuXG4gICAgb3Bwb3NpdGVGYWNpbmcoZmFjaW5nOiBGYWNpbmcpOiBGYWNpbmdcbiAgICB7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuU291dGg7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICByZXR1cm4gRmFjaW5nLlNvdXRoV2VzdDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICByZXR1cm4gRmFjaW5nLldlc3Q7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICByZXR1cm4gRmFjaW5nLk5vcnRoV2VzdDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgcmV0dXJuIEZhY2luZy5Ob3J0aDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuTm9ydGhFYXN0O1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuRWFzdDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuU291dGhFYXN0O1xuICAgIH1cblxuICAgIGZhY2luZ1RvVW5pdFZlY3RvcihmYWNpbmc6IEZhY2luZyk6IFBvaW50M1xuICAgIHtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoMCwwLC0xKTtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQzKDEsMCwtMSk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoMSwwLDApO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoMSwwLDEpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygwLDAsMSk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygtMSwwLDEpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQzKC0xLDAsMCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aFdlc3QpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygtMSwwLC0xKTtcblxuICAgIH1cblxuICAgIHNsaWRlVXB3YXJkKGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBsZXQgcG9sYXJpdHkgPSAxO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCAwKVxuICAgICAgICAgICAgcG9sYXJpdHkgPSAtMTtcblxuICAgICAgICBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVVcHdhcmQoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVEb3dud2FyZCgpKSlcbiAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gIG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCx0aGlzLmZpbmVQb3NpdGlvbi55ICsgZGlzdGFuY2UsdGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy5fY2hlY2tGb3JHcmlkUG9zaXRpb25DaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgc2xpZGVSaWdodChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHBvbGFyaXR5ID0gMTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgMClcbiAgICAgICAgICAgIHBvbGFyaXR5ID0gLTE7XG5cbiAgICAgICAgbGV0IGZhY2luZyA9ICh0aGlzLmZhY2luZyArIDIpJTg7XG4gICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZUluRmFjaW5nKGZhY2luZykpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlSW5GYWNpbmcodGhpcy5vcHBvc2l0ZUZhY2luZyhmYWNpbmcpKSkpXG4gICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9ICB0aGlzLmZhY2luZ1RvVW5pdFZlY3RvcihmYWNpbmcpLm5vcm1hbGlzZWQubXVsdGlwbHkoZGlzdGFuY2UpLnBsdXModGhpcy5maW5lUG9zaXRpb24pO1xuICAgICAgICAgICAgXG4gICAgICAgIHRoaXMuX2NoZWNrRm9yR3JpZFBvc2l0aW9uQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuY2FsbCgpO1xuICAgIH1cblxuICAgIHNsaWRlRm9yd2FyZChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHBvbGFyaXR5ID0gMTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgMClcbiAgICAgICAgICAgIHBvbGFyaXR5ID0gLTE7XG4gICAgICAgIGxldCBkaWFnb25hbENvbXBvbmVudCA9IE1hdGguc3FydCgoZGlzdGFuY2UqZGlzdGFuY2UpLzIpICogcG9sYXJpdHk7XG5cbiAgICAgICAgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlSW5GYWNpbmcodGhpcy5mYWNpbmcpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZUluRmFjaW5nKHRoaXMub3Bwb3NpdGVGYWNpbmcodGhpcy5mYWNpbmcpKSkpXG4gICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9ICB0aGlzLmZhY2luZ1RvVW5pdFZlY3Rvcih0aGlzLmZhY2luZykubm9ybWFsaXNlZC5tdWx0aXBseShkaXN0YW5jZSkucGx1cyh0aGlzLmZpbmVQb3NpdGlvbik7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZU5vcnRoKCkgJiYgIXRoaXMuY2FuTW92ZUVhc3QoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVTb3V0aCgpICYmICF0aGlzLmNhbk1vdmVXZXN0KCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueiAtIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZUVhc3QoKSAmJiAhdGhpcy5jYW5Nb3ZlTm9ydGgoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVXZXN0KCkgJiYgIXRoaXMuY2FuTW92ZVNvdXRoKCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCArIGRpc3RhbmNlLCB0aGlzLmZpbmVQb3NpdGlvbi55LCB0aGlzLmZpbmVQb3NpdGlvbi56KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZVNvdXRoKCkgJiYgIXRoaXMuY2FuTW92ZUVhc3QoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVOb3J0aCgpJiYgIXRoaXMuY2FuTW92ZVdlc3QoKSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLmZpbmVQb3NpdGlvbi54LCB0aGlzLmZpbmVQb3NpdGlvbi55LCB0aGlzLmZpbmVQb3NpdGlvbi56ICsgZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpICYmICF0aGlzLmNhbk1vdmVTb3V0aCgpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZVdlc3QoKSYmICF0aGlzLmNhbk1vdmVOb3J0aCgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMuZmluZVBvc2l0aW9uLnggKyBkaXN0YW5jZSwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVTb3V0aCgpICYmICF0aGlzLmNhbk1vdmVXZXN0KCkpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlTm9ydGgoKSAmJiAhdGhpcy5jYW5Nb3ZlRWFzdCgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMuZmluZVBvc2l0aW9uLngsIHRoaXMuZmluZVBvc2l0aW9uLnksIHRoaXMuZmluZVBvc2l0aW9uLnogKyBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVXZXN0KCkgJiYgIXRoaXMuY2FuTW92ZVNvdXRoKCkpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpICYmICF0aGlzLmNhbk1vdmVTb3V0aCgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMuZmluZVBvc2l0aW9uLnggLSBkaXN0YW5jZSwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVOb3J0aCgpICYmICF0aGlzLmNhbk1vdmVXZXN0KCkpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlU291dGgoKSYmICF0aGlzLmNhbk1vdmVFYXN0KCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueiAtIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZVdlc3QoKSAmJiAhdGhpcy5jYW5Nb3ZlTm9ydGgoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVFYXN0KCkmJiAhdGhpcy5jYW5Nb3ZlU291dGgoKSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLmZpbmVQb3NpdGlvbi54IC0gZGlzdGFuY2UsIHRoaXMuZmluZVBvc2l0aW9uLnksIHRoaXMuZmluZVBvc2l0aW9uLnopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NoZWNrRm9yR3JpZFBvc2l0aW9uQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMub25VcGRhdGUuY2FsbCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NoZWNrRm9yR3JpZFBvc2l0aW9uQ2hhbmdlKClcbiAgICB7XG4gICAgICAgIGxldCByeCA9IE1hdGgucm91bmQodGhpcy5maW5lUG9zaXRpb24ueCk7XG4gICAgICAgIGxldCByeSA9IE1hdGgucm91bmQodGhpcy5maW5lUG9zaXRpb24ueSk7XG4gICAgICAgIGxldCByeiA9IE1hdGgucm91bmQodGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgIGlmIChyeCA9PT0gdGhpcy5wb3NpdGlvbi54LTEpXG4gICAgICAgICAgICB0aGlzLm1vdmVXZXN0KCk7XG4gICAgICAgIGlmIChyeCA9PSB0aGlzLnBvc2l0aW9uLngrMSlcbiAgICAgICAgICAgIHRoaXMubW92ZUVhc3QoKTtcbiAgICAgICAgaWYgKHJ6ID09PSB0aGlzLnBvc2l0aW9uLnorMSlcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgIGlmIChyeiA9PT0gdGhpcy5wb3NpdGlvbi56LTEpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aCgpO1xuICAgIH1cblxuICAgIHJvdGF0ZVJpZ2h0KGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbmV3IFBvaW50Myh0aGlzLnJvdGF0aW9uLngsICh0aGlzLnJvdGF0aW9uLnkgLSBhbmdsZSklKE1hdGguUEkqMiksIHRoaXMucm90YXRpb24ueik7XG4gICAgICAgIGxldCB5ID0gTWF0aC5yb3VuZCg3IC0gKHRoaXMucm90YXRpb24ueSAvIChNYXRoLlBJLzQpKSk7XG4gICAgICAgIC8vaWYgKHRoaXMuZmFjaW5nICE9PSAoeSsxKSU4KVxuICAgICAgICAvL3tcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gKHkrMSklODtcbiAgICAgICAgICAgIC8vdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLmNhbGwoKTtcbiAgICAgICAvLyB9XG4gICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG5cbiAgICB9XG5cbiAgICBtb3ZlRm9yd2FyZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoKCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aEVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aFdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhXZXN0KCk7XG4gICAgfVxuXG4gICAgbW92ZUJhY2t3YXJkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGhXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoV2VzdCgpOyAgXG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoRWFzdCgpO1xuICAgIH1cblxuICAgIHN0cmFmZUxlZnQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLm1vdmVXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoV2VzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aEVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoV2VzdCgpO1xuICAgIH1cblxuICAgIHN0cmFmZVJpZ2h0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aEVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoV2VzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aEVhc3QoKTtcbiAgICB9XG5cbiAgICBob3ZlclVwKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLnkgPCB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUubGV2ZWxUeXBlLmhlaWdodC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgbGV0IG5ld2NlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnkrMV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKGNlbGwud2FsbHNbNV0ucGFzc2FibGUpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlKDAsMSwwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhvdmVyRG93bigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi55ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGxldCBuZXdjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55LTFdW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGlmIChjZWxsLndhbGxzWzRdLnBhc3NhYmxlKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZSgwLC0xLDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZU5vcnRoKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmVOb3J0aCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgdGhpcy5tb3ZlKDAsY2VsbC5leGl0T2Zmc2V0TiwtMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5Nb3ZlVXB3YXJkKClcbiAgICB7XG4gICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgIGlmIChjZWxsLmNlaWxpbmdXYWxsLnBhc3NhYmxlKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjYW5Nb3ZlRG93bndhcmQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24ueSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBpZiAoY2VsbC5mbG9vcldhbGwucGFzc2FibGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNhbk1vdmVOb3J0aCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi56ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGlmICgoY2VsbC53YWxsc1swXS5wYXNzYWJsZSkgfHwgKGNlbGwuZXhpdE9mZnNldE4gIT09IDApKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlTm9ydGhFYXN0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmVOb3J0aEVhc3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIHRoaXMubW92ZSgxLGNlbGwuZXhpdE9mZnNldEUsLTEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBuID0gdGhpcy5jYW5Nb3ZlTm9ydGgoKTtcbiAgICAgICAgICAgIGxldCBlID0gdGhpcy5jYW5Nb3ZlRWFzdCgpO1xuICAgICAgICAgICAgaWYgKG4gJiYgIWUpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgICAgIGlmIChlICYmICFuKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZUVhc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbk1vdmVOb3J0aEVhc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZU5vcnRoKCkgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpIClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGlmICgoY2VsbC5leGl0T2Zmc2V0TiA9PT0gY2VsbC5leGl0T2Zmc2V0RSkgJiYgKHRoaXMuZWFzdENlbGwoKS5ub3J0aFdhbGwucGFzc2FibGUpICYmICh0aGlzLm5vcnRoQ2VsbCgpLmVhc3RXYWxsLnBhc3NhYmxlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZUVhc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZUVhc3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIHRoaXMubW92ZSgxLGNlbGwuZXhpdE9mZnNldEUsMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5Nb3ZlRWFzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi54IDwgdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmxldmVsVHlwZS53aWR0aC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKGNlbGwud2FsbHNbMV0ucGFzc2FibGUgfHwgY2VsbC5leGl0T2Zmc2V0RSAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG5vcnRoQ2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnotMV07XG4gICAgfVxuXG4gICAgbm9ydGhFYXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueCsxXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uei0xXTtcbiAgICB9XG5cbiAgICBlYXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueCsxXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel07XG4gICAgfVxuXG4gICAgc291dGhFYXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueCsxXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24ueisxXTtcbiAgICB9XG5cbiAgICBzb3V0aENlbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56KzFdO1xuICAgIH1cblxuICAgIHNvdXRoV2VzdENlbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLngtMV1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnorMV07XG4gICAgfVxuXG4gICAgd2VzdENlbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLngtMV1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdO1xuICAgIH1cblxuICAgIG5vcnRoV2VzdENlbGwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLngtMV1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnotMV07XG4gICAgfVxuXG4gICAgbW92ZVNvdXRoRWFzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlU291dGhFYXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoMSxjZWxsLmV4aXRPZmZzZXRFLDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzID0gdGhpcy5jYW5Nb3ZlU291dGgoKTtcbiAgICAgICAgICAgIGxldCBlID0gdGhpcy5jYW5Nb3ZlRWFzdCgpO1xuICAgICAgICAgICAgaWYgKHMgJiYgIWUpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlU291dGgoKTtcbiAgICAgICAgICAgIGlmIChlICYmICFzKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZUVhc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbk1vdmVTb3V0aEVhc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZVNvdXRoKCkgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKChjZWxsLmV4aXRPZmZzZXRTID09PSBjZWxsLmV4aXRPZmZzZXRFKSAmJiAodGhpcy5zb3V0aENlbGwoKS5lYXN0V2FsbC5wYXNzYWJsZSkgJiYgKHRoaXMuZWFzdENlbGwoKS5zb3V0aFdhbGwucGFzc2FibGUpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlU291dGgoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZVNvdXRoKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoMCxjZWxsLmV4aXRPZmZzZXRTLDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FuTW92ZVNvdXRoKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLno8dGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmxldmVsVHlwZS5kZXB0aC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgbGV0IG5ld2NlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24ueisxXVxuICAgICAgICAgICAgaWYgKGNlbGwud2FsbHNbMl0ucGFzc2FibGUgfHwgY2VsbC5leGl0T2Zmc2V0UyAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZVNvdXRoV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlU291dGhXZXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoLTEsY2VsbC5leGl0T2Zmc2V0RSwxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIFxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcyA9IHRoaXMuY2FuTW92ZVNvdXRoKCk7XG4gICAgICAgICAgICBsZXQgdyA9IHRoaXMuY2FuTW92ZVdlc3QoKTtcbiAgICAgICAgICAgIGlmIChzICYmICF3KVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgICAgICBpZiAodyAmJiAhcylcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVXZXN0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGNhbk1vdmVTb3V0aFdlc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZVNvdXRoKCkgJiYgdGhpcy5jYW5Nb3ZlV2VzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKChjZWxsLmV4aXRPZmZzZXRTID09PSBjZWxsLmV4aXRPZmZzZXRXKSAmJiAodGhpcy5zb3V0aENlbGwoKS53ZXN0V2FsbC5wYXNzYWJsZSkgJiYgKHRoaXMud2VzdENlbGwoKS5zb3V0aFdhbGwucGFzc2FibGUpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlV2VzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgdGhpcy5tb3ZlKC0xLGNlbGwuZXhpdE9mZnNldEUsMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5Nb3ZlV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi54PjApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdO1xuICAgICAgICAgICAgbGV0IG5ld2NlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54LTFdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XTtcbiAgICAgICAgICAgIGlmIChjZWxsLndhbGxzWzNdLnBhc3NhYmxlIHx8IGNlbGwuZXhpdE9mZnNldFcgIT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmVOb3J0aFdlc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZU5vcnRoV2VzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgdGhpcy5tb3ZlKC0xLGNlbGwuZXhpdE9mZnNldEUsLTEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBuID0gdGhpcy5jYW5Nb3ZlTm9ydGgoKTtcbiAgICAgICAgICAgIGxldCB3ID0gdGhpcy5jYW5Nb3ZlV2VzdCgpO1xuICAgICAgICAgICAgaWYgKG4gJiYgIXcpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgICAgIGlmICh3ICYmICFuKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgY2FuTW92ZU5vcnRoV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlTm9ydGgoKSAmJiB0aGlzLmNhbk1vdmVXZXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBpZiAoKGNlbGwuZXhpdE9mZnNldE4gPT09IGNlbGwuZXhpdE9mZnNldFcpICYmICh0aGlzLm5vcnRoQ2VsbCgpLndlc3RXYWxsLnBhc3NhYmxlKSAmJiAodGhpcy53ZXN0Q2VsbCgpLm5vcnRoV2FsbC5wYXNzYWJsZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmUoeDogbnVtYmVyLHk6IG51bWJlcix6OiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLnBvc2l0aW9uLngreCx0aGlzLnBvc2l0aW9uLnkreSx0aGlzLnBvc2l0aW9uLnoreik7XG4gICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgIHRoaXMueU9mZnNldCA9IGNlbGwubWlkSGVpZ2h0O1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbk1vdmUuY2FsbCgpO1xuICAgIH1cbn0iLCJpbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4vYWN0aW9uL0FjdGlvbk1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFNwZWxsIGV4dGVuZHMgQWN0aW9uTW9kZWxcbntcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcmVxdWlyZVRhcmdldDogYm9vbGVhbjtcbiAgICBpY29uOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGljb246IHN0cmluZywgcmVxdWlyZVRhcmdldDogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucmVxdWlyZVRhcmdldCA9IHJlcXVpcmVUYXJnZXQ7XG4gICAgICAgIHRoaXMuaWNvbiA9IGljb247XG4gICAgfVxufSIsImltcG9ydCBTcGVsbCBmcm9tIFwiLi9TcGVsbFwiO1xuaW1wb3J0IEZpcmVCb2x0IGZyb20gXCIuL2FjdGlvbi9zcGVsbHMvRmlyZUJvbHRcIjtcbmltcG9ydCBUb3JjaExpZ2h0IGZyb20gXCIuL2FjdGlvbi9zcGVsbHMvVG9yY2hMaWdodFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBMZXZlbEVkaXRpbmcgZnJvbSBcIi4vYWN0aW9uL3NwZWxscy9MZXZlbEVkaXRpbmdcIjtcbmltcG9ydCBGbHkgZnJvbSBcIi4vYWN0aW9uL3NwZWxscy9GbHlcIjtcbmltcG9ydCBNaW5pTWFwIGZyb20gXCIuL2FjdGlvbi9zcGVsbHMvTWluaU1hcFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcGVsbExpc3RcbntcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBzcGVsbHM6IFNwZWxsW10gPSBbXTtcbiAgICBpY29uOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHNwZWxsczogU3BlbGxbXSwgaWNvbjogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zcGVsbHMgPSBzcGVsbHM7XG4gICAgICAgIHRoaXMuaWNvbiA9IGljb247XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFNwZWxsKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIGlmIChuYW1lID09PSBcIkZpcmUgQm9sdFwiKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGaXJlQm9sdChuYW1lLCBpY29uKTtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwiVG9yY2ggTGlnaHRcIilcbiAgICAgICAgICAgIHJldHVybiBuZXcgVG9yY2hMaWdodChuYW1lLCBpY29uLCBnYW1lTW9kZWwpO1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJMZXZlbCBFZGl0aW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gbmV3IExldmVsRWRpdGluZyhuYW1lLCBpY29uLCBnYW1lTW9kZWwpO1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJGbHlcIilcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmx5KG5hbWUsIGljb24sIGdhbWVNb2RlbCk7XG4gICAgICAgIGlmIChuYW1lID09PSBcIk1pbmltYXBcIilcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWluaU1hcChuYW1lLCBpY29uLCBnYW1lTW9kZWwpO1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGVudW0gU3RhdHVzVHlwZVxue1xuICAgIERlYWQsXG4gICAgVG9yY2hMaWdodCxcbiAgICBTbG93LFxuICAgIEZseWluZyxcbiAgICBMZXZlbEVkaXQsXG4gICAgTWluaU1hcFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0dXNcbntcbiAgICBzdGF0dXNUeXBlOiBTdGF0dXNUeXBlO1xuXG4gICAgZ2V0IG5hbWUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzVHlwZSA9PT0gU3RhdHVzVHlwZS5EZWFkKVxuICAgICAgICAgICAgcmV0dXJuIFwiRGVhZFwiO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLlRvcmNoTGlnaHQpXG4gICAgICAgICAgICByZXR1cm4gXCJUb3JjaCBMaWdodFwiO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLlNsb3cpXG4gICAgICAgICAgICByZXR1cm4gXCJTbG93XCI7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuRmx5aW5nKVxuICAgICAgICAgICAgcmV0dXJuIFwiRmx5aW5nXCI7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuTGV2ZWxFZGl0KVxuICAgICAgICAgICAgcmV0dXJuIFwiTGV2ZWwgRWRpdGluZ1wiO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLk1pbmlNYXApXG4gICAgICAgICAgICByZXR1cm4gXCJNaW5pIE1hcFwiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHN0YXR1c1R5cGU6IFN0YXR1c1R5cGUpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXR1c1R5cGUgPSBzdGF0dXNUeXBlO1xuICAgIH1cbn0iLCJpbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEFjdGlvbk1vZGVsXG57XG4gICAgYWJzdHJhY3QgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG5cbiAgICBhYnN0cmFjdCB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG5cbiAgICBhYnN0cmFjdCByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbn0iLCJpbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjdGlvblJlc3VsdE1vZGVsXG57XG4gICAgcmVjb3ZlcnlUaW1lOiBudW1iZXIgPSAwO1xuICAgIG9uQXBwbHk6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWNvdmVyeVRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucmVjb3ZlcnlUaW1lID0gcmVjb3ZlcnlUaW1lO1xuICAgIH1cblxuICAgIGFwcGx5KClcbiAgICB7XG4gICAgICAgIHRoaXMub25BcHBseS5jYWxsKCk7XG4gICAgfVxufSIsImltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IEFjdG9yTW9kZWwgZnJvbSBcIi4uL0FjdG9yTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0dGFja0FjdGlvbk1vZGVsIGV4dGVuZHMgQWN0aW9uTW9kZWxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBkYW1hZ2VTcGVjOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHJhbmdlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lTW9kZWw6IEdhbWVNb2RlbCwgbmFtZTogc3RyaW5nLCBkYW1hZ2VTcGVjOiBzdHJpbmcsIHJhbmdlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kYW1hZ2VTcGVjID0gZGFtYWdlU3BlYztcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgIH1cblxuICAgIHBlcmZvcm0oc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBY3Rvck1vZGVsKVxuICAgICAgICAgICAgci5vbkFwcGx5LnB1c2goKCkgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGRhbWFnZSA9IEdhbWVNb2RlbC5yb2xsRGljZSh0aGlzLmRhbWFnZVNwZWMpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5mb1RleHQudmFsdWUgPSBcIllvdSBkaWQgXCIgKyBkYW1hZ2UgKyBcIiBkYW1hZ2VcIjtcbiAgICAgICAgICAgICAgICB0YXJnZXQudGFrZURhbWFnZShkYW1hZ2UpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBOUENNb2RlbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCEodGFyZ2V0LmFsaXZlLnZhbHVlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoUG9pbnQzLm1pbnVzKHRhcmdldC5nZXRQb3NpdGlvbigpLCBzb3VyY2UuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlIDw9IHRoaXMucmFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMTApXG4gICAgfVxufSIsImltcG9ydCBBY3Rvck1vZGVsIGZyb20gXCIuLi9BY3Rvck1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwsIHsgSGVhbHRoU3RhdGUgfSBmcm9tIFwiLi4vQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgUGFydHlNb2RlbCBmcm9tIFwiLi4vUGFydHlNb2RlbFwiO1xuaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4uL3dvcmxkL0xldmVsTW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcblxuZXhwb3J0IGVudW0gQ29tYmF0U3RhdGUgeyBHcmVlbiwgWWVsbG93LCBSZWQgfVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbml0aWF0aXZlTW9kZWxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBwYXJ0eU1vZGVsOiBQYXJ0eU1vZGVsO1xuXG4gICAgaW5pdGlhdGl2ZU9yZGVyOiB7bnVtYmVyOiBudW1iZXIsIGFjdG9yOiBBY3Rvck1vZGVsfVtdID0gW107XG4gICAgbnBjc1RvQWN0OiBPYnNlcnZlclZhcmlhYmxlPE5QQ01vZGVsW10+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUoW10pO1xuICAgIGNvbWJhdFN0YXRlOiBPYnNlcnZlclZhcmlhYmxlPENvbWJhdFN0YXRlPjtcbiAgICB3YWl0aW5nQ2hhcmFjdGVyczogT2JzZXJ2ZXJWYXJpYWJsZTxDaGFyYWN0ZXJNb2RlbFtdPlxuICAgIHdhaXRpbmdDaGFyYWN0ZXI6IE9ic2VydmVyVmFyaWFibGU8Q2hhcmFjdGVyTW9kZWw+O1xuXG4gICAgZ2V0IHBsYXllckNhbkFjdCgpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5wYXJ0eU1vZGVsLnBhcnR5RGVhZCAmJiB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuQWN0ICYmIHRoaXMubnBjc1RvQWN0LnZhbHVlLmxlbmd0aCA9PT0gMCAmJiB0aGlzLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUgIT09IG51bGwpOyBcbiAgICB9XG5cbiAgICBnZXQgcGxheWVyQ2FuTW92ZSgpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5wYXJ0eU1vZGVsLnBhcnR5RGVhZCAmJiB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuTW92ZSAmJiB0aGlzLm5wY3NUb0FjdC52YWx1ZS5sZW5ndGggPT09IDAgJiYgdGhpcy53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlICE9PSBudWxsKTsgXG4gICAgfVxuXG4gICAgZ2V0IHBsYXllckNhblR1cm4oKSBcbiAgICB7XG4gICAgICAgIHJldHVybiAoIXRoaXMucGFydHlNb2RlbC5wYXJ0eURlYWQgJiYgdGhpcy5nYW1lTW9kZWwucGxheWVyLmNhblR1cm4pO1xuICAgIH1cblxuICAgIGNyZWF0ZShnYW1lTW9kZWw6IEdhbWVNb2RlbCwgcGFydHlNb2RlbDogUGFydHlNb2RlbCwgbGV2ZWxNb2RlbDogTGV2ZWxNb2RlbCwgZGF0YTogR2FtZURhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5wYXJ0eU1vZGVsID0gcGFydHlNb2RlbDtcbiAgICAgICAgcGFydHlNb2RlbC5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnB1c2goe251bWJlcjogYy5yb2xsSW5pdGlhdGl2ZSgpLCBhY3RvcjogY30pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldmVsTW9kZWwubnBjcy5mb3JFYWNoKG4gPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmVPcmRlci5wdXNoKHtudW1iZXI6IG4ucm9sbEluaXRpYXRpdmUoKSwgYWN0b3I6IG59KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvcnRJbml0aWF0aXZlT3JkZXIoKTtcbiAgICAgICAgdGhpcy53YWl0aW5nQ2hhcmFjdGVycyA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKHRoaXMuZ2V0V2FpdGluZ0NoYXJhY3RlcnMoKSk7XG4gICAgICAgIHRoaXMud2FpdGluZ0NoYXJhY3RlciA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKHRoaXMuZ2V0V2FpdGluZ0NoYXJhY3RlcigpKTtcbiAgICAgICAgdGhpcy5jb21iYXRTdGF0ZSA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKHRoaXMuZ2V0Q29tYmF0U3RhdGUoKSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJDaGFuZ2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBzd2l0Y2hDaGFyYWN0ZXIoY2hhcmFjdGVyOiBDaGFyYWN0ZXJNb2RlbClcbiAgICB7XG4gICAgICAgIGxldCBjaGFyYWN0ZXJzID0gW107XG4gICAgICAgIGxldCBkZWxheVVudGlsOiBudW1iZXI7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciA9PT0gY2hhcmFjdGVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGF5VW50aWwgPSB0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5udW1iZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlcnMucHVzaCh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjaGFyYWN0ZXJzLmZvckVhY2goYyA9PiB0aGlzLmRlbGF5QWN0b3JVbnRpbChjLCBkZWxheVVudGlsKSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJDaGFuZ2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBtb3ZlUGFydHkoc3RhcnQ6IFBvaW50MywgZW5kOiBQb2ludDMpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuUmVkKVxuICAgICAgICAgICAgdGhpcy5kZWxheVBhcnR5VW50aWxMYXN0TWVtYmVyKHRoaXMuZ2FtZU1vZGVsLnBhcnR5Lm1vdmVSZWNvdmVyeVRpbWUpO1xuICAgICAgICB0aGlzLmFmdGVyQ2hhbmdlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcGVyZm9ybWVkQWN0aW9uKGFjdG9yOiBBY3Rvck1vZGVsLCByZXN1bHQ6IEFjdGlvblJlc3VsdE1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWxheUFjdG9yKGFjdG9yLCByZXN1bHQucmVjb3ZlcnlUaW1lKTtcbiAgICAgICAgdGhpcy5hZnRlckNoYW5nZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG5wY0RlbGF5KG5wYzogTlBDTW9kZWwsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuZGVsYXlBY3RvcihucGMsIHRpbWUpO1xuICAgICAgICB0aGlzLmFmdGVyQ2hhbmdlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgbnBjRGllZChucGM6IE5QQ01vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlT3JkZXIgPSB0aGlzLmluaXRpYXRpdmVPcmRlci5maWx0ZXIociA9PiByLmFjdG9yICE9PSBucGMpO1xuICAgICAgICB0aGlzLmFmdGVyQ2hhbmdlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFmdGVyQ2hhbmdlVXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBhcnR5TW9kZWwucGFydHlEZWFkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXJzLnZhbHVlID0gW107XG4gICAgICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3J0SW5pdGlhdGl2ZU9yZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmZpbGxOUENzVG9BY3RBcnJheSgpO1xuICAgICAgICAgICAgdGhpcy5jb21iYXRTdGF0ZS52YWx1ZSA9IHRoaXMuZ2V0Q29tYmF0U3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV2FpdGluZ0NoYXJhY3RlcnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVXYWl0aW5nQ2hhcmFjdGVycygpXG4gICAge1xuICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXJzLnZhbHVlID0gdGhpcy5nZXRXYWl0aW5nQ2hhcmFjdGVycygpO1xuICAgICAgICBpZiAodGhpcy53YWl0aW5nQ2hhcmFjdGVycy52YWx1ZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgdGhpcy53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlID0gdGhpcy53YWl0aW5nQ2hhcmFjdGVycy52YWx1ZVswXTtcbiAgICAgICAgZWxzZSAgIFxuICAgICAgICAgICAgdGhpcy53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0V2FpdGluZ0NoYXJhY3RlcnMoKTogQ2hhcmFjdGVyTW9kZWxbXVxuICAgIHtcbiAgICAgICAgbGV0IGNoYXJhY3RlcnM6IENoYXJhY3Rlck1vZGVsW10gPSBbXTtcbiAgICAgICAgbGV0IGNoYXJzVG9EZWxheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLmluaXRpYXRpdmVPcmRlci5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yIGFzIENoYXJhY3Rlck1vZGVsKS5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuTm9ybWFsKVxuICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJzLnB1c2godGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgYXMgQ2hhcmFjdGVyTW9kZWwpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNUb0RlbGF5LnB1c2godGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhcnNUb0RlbGF5LmZvckVhY2goYyA9PiB0aGlzLmRlbGF5QWN0b3IoYywgMSkpO1xuICAgICAgICB0aGlzLnNvcnRJbml0aWF0aXZlT3JkZXIoKTtcbiAgICAgICAgdGhpcy5maWxsTlBDc1RvQWN0QXJyYXkoKTtcblxuICAgICAgICByZXR1cm4gY2hhcmFjdGVycztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0V2FpdGluZ0NoYXJhY3RlcigpOiBDaGFyYWN0ZXJNb2RlbFxuICAgIHsgXG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBhcyBDaGFyYWN0ZXJNb2RlbDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB3YWl0aW5nQWN0b3IoKTogQWN0b3JNb2RlbFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0aWF0aXZlT3JkZXJbMF0uYWN0b3I7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkZWxheVBhcnR5VW50aWxMYXN0TWVtYmVyKGFkZGl0aW9uYWxEZWxheTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IGZvdW5kQ2hhcmFjdGVyczogbnVtYmVyID0gMDtcbiAgICAgICAgbGV0IGRlbGF5VW50aWw6IG51bWJlcjtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5pbml0aWF0aXZlT3JkZXIubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGFjdG9yID0gdGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3I7XG4gICAgICAgICAgICBpZiAoYWN0b3IgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3VuZENoYXJhY3RlcnMrKztcbiAgICAgICAgICAgICAgICBpZiAoZm91bmRDaGFyYWN0ZXJzID09PSB0aGlzLnBhcnR5TW9kZWwuY2hhcmFjdGVycy5sZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxheVVudGlsID0gdGhpcy5pbml0aWF0aXZlT3JkZXJbaV0ubnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcnR5TW9kZWwuY2hhcmFjdGVycy5mb3JFYWNoKGMgPT4gdGhpcy5kZWxheUFjdG9yVW50aWwoYywgZGVsYXlVbnRpbCArIGFkZGl0aW9uYWxEZWxheSkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRDb21iYXRTdGF0ZSgpOiBDb21iYXRTdGF0ZVxuICAgIHtcbiAgICAgICAgbGV0IGluTWVsZWU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgbGV0IGFsaXZlTlBDOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5ucGNzLmZvckVhY2gobnBjID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKChucGMuYWxpdmUudmFsdWUpICYmIChucGMuaG9zdGlsZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwuaXNXaXRoaW5NZWxlZShucGMuZ2V0UG9zaXRpb24oKSwgdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGluTWVsZWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhbGl2ZU5QQyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChpbk1lbGVlKVxuICAgICAgICAgICAgcmV0dXJuIENvbWJhdFN0YXRlLlJlZDtcbiAgICAgICAgaWYgKGFsaXZlTlBDKVxuICAgICAgICAgICAgcmV0dXJuIENvbWJhdFN0YXRlLlllbGxvdztcbiAgICAgICAgcmV0dXJuIENvbWJhdFN0YXRlLkdyZWVuO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBmaWxsTlBDc1RvQWN0QXJyYXkoKVxuICAgIHtcbiAgICAgICAgdGhpcy5ucGNzVG9BY3QudmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5pbml0aWF0aXZlT3JkZXIubGVuZ3RoO2krKylcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBpbnN0YW5jZW9mIE5QQ01vZGVsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBucGMgPSAodGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgYXMgTlBDTW9kZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMubnBjc1RvQWN0LnZhbHVlLnB1c2gobnBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgdGhpcy5ucGNzVG9BY3Qub25VcGRhdGUuY2FsbCgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkZWxheUFjdG9yVW50aWwoYWN0b3I6IEFjdG9yTW9kZWwsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciA9PT0gYWN0b3IpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlT3JkZXIuc3BsaWNlKGksMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY3RvcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRlbGF5IHVudGlsIGFjdG9yIGlzIG51bGxcIik7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnB1c2goe251bWJlcjogdGltZSwgYWN0b3I6IGFjdG9yIH0pXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRlbGF5QWN0b3IoYWN0b3I6IEFjdG9yTW9kZWwsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSAwO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLmluaXRpYXRpdmVPcmRlci5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgPT09IGFjdG9yKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLm51bWJlcjtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmVPcmRlci5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFjdG9yKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGVsYXkgIGFjdG9yIGlzIG51bGxcIik7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnB1c2goe251bWJlcjogY3VycmVudFBvc2l0aW9uICsgdGltZSwgYWN0b3I6IGFjdG9yIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzb3J0SW5pdGlhdGl2ZU9yZGVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnNvcnQoKGEsYikgPT4gYS5udW1iZXIgLSBiLm51bWJlcik7XG4gICAgfVxufSIsImltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9vdEFjdGlvbk1vZGVsIGV4dGVuZHMgQWN0aW9uTW9kZWxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBsb290RGlzdGFuY2UgPSAzO1xuXG4gICAgY29uc3RydWN0b3IoZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBwZXJmb3JtKHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBOUENNb2RlbClcbiAgICAgICAgICAgIHIub25BcHBseS5wdXNoKCgpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmdhaW5Hb2xkKEdhbWVNb2RlbC5yb2xsRGljZSh0YXJnZXQubG9vdFNwZWMpKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQubG9vdGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoUG9pbnQzLm1pbnVzKHRhcmdldC5nZXRQb3NpdGlvbigpLCBzb3VyY2UuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlIDw9IHRoaXMubG9vdERpc3RhbmNlKVxuICAgICAgICAgICAgaWYgKCh0YXJnZXQgaW5zdGFuY2VvZiBOUENNb2RlbCkgJiYgKCF0YXJnZXQuYWxpdmUudmFsdWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHJlY292ZXJ5VGltZShzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59IiwiaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi4vd29ybGQvTlBDTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Nb2RlbCBmcm9tIFwiLi9BY3Rpb25Nb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4vQWN0aW9uU291cmNlTW9kZWxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuaW1wb3J0IERvb3JNb2RlbCBmcm9tIFwiLi4vd29ybGQvRG9vck1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5Eb29yQWN0aW9uTW9kZWwgZXh0ZW5kcyBBY3Rpb25Nb2RlbFxue1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuICAgIHByaXZhdGUgcmVhY2ggPSAxO1xuXG4gICAgY29uc3RydWN0b3IoZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBwZXJmb3JtKHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBEb29yTW9kZWwpXG4gICAgICAgICAgICByLm9uQXBwbHkucHVzaCgoKSA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5vcGVuRG9vcih0YXJnZXQpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBEb29yTW9kZWwpXG4gICAgICAgICAgICBpZiAoISh0YXJnZXQubG9ja2VkKSlcbiAgICAgICAgICAgICAgICBpZiAoUG9pbnQzLm1pbnVzKHRhcmdldC5nZXRQb3NpdGlvbigpLCBzb3VyY2UuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlIDw9IHRoaXMucmVhY2gpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHJlY292ZXJ5VGltZShzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsIGZyb20gXCIuLi8uLi9TcGVsbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IENoYXJhY3Rlck1vZGVsIGZyb20gXCIuLi8uLi9DaGFyYWN0ZXJNb2RlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaXJlQm9sdCBleHRlbmRzIFNwZWxsXG57XG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBpY29uOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcihuYW1lLCBpY29uLCB0cnVlKVxuICAgIH1cblxuICAgIHBlcmZvcm0oc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UubWFuYS0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgfVxuXG4gICAgdGVzdChzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc291cmNlLm1hbmEgPj0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvL3Rlc3QgZWcuIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbn0iLCJpbXBvcnQgU3BlbGwgZnJvbSBcIi4uLy4uL1NwZWxsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4uL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uLy4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi8uLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzVHlwZSB9IGZyb20gXCIuLi8uLi9TdGF0dXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmx5IGV4dGVuZHMgU3BlbGxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG5hbWUsIGljb24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFjdGlvblJlc3VsdE1vZGVsKHRoaXMucmVjb3ZlcnlUaW1lKHNvdXJjZSkpO1xuICAgICAgICByZXN1bHQub25BcHBseS5wdXNoKCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgICAgICAgICAgc291cmNlLm1hbmEgLT0gODtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5wYXJ0eS5hZGRTdGF0dXMobmV3IFN0YXR1cyhTdGF0dXNUeXBlLkZseWluZykpO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICgoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpICYmIChzb3VyY2UubWFuYSA+PSA4KSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVjb3ZlcnlUaW1lKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsIGZyb20gXCIuLi8uLi9TcGVsbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IENoYXJhY3Rlck1vZGVsIGZyb20gXCIuLi8uLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi4vLi4vU3RhdHVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsRWRpdGluZyBleHRlbmRzIFNwZWxsXG57XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGljb246IHN0cmluZywgZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihuYW1lLCBpY29uLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIHBlcmZvcm0oc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBBY3Rpb25SZXN1bHRNb2RlbCh0aGlzLnJlY292ZXJ5VGltZShzb3VyY2UpKTtcbiAgICAgICAgcmVzdWx0Lm9uQXBwbHkucHVzaCgoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuYWRkU3RhdHVzKG5ldyBTdGF0dXMoU3RhdHVzVHlwZS5MZXZlbEVkaXQpKTtcbiAgICAgICAgfSkuYmluZCh0aGlzKSwgdGhpcylcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlY292ZXJ5VGltZShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxufSIsImltcG9ydCBTcGVsbCBmcm9tIFwiLi4vLi4vU3BlbGxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi4vQWN0aW9uU291cmNlTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi4vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi4vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi4vLi4vQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uLy4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNUeXBlIH0gZnJvbSBcIi4uLy4uL1N0YXR1c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNaW5pTWFwIGV4dGVuZHMgU3BlbGxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG5hbWUsIGljb24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFjdGlvblJlc3VsdE1vZGVsKHRoaXMucmVjb3ZlcnlUaW1lKHNvdXJjZSkpO1xuICAgICAgICByZXN1bHQub25BcHBseS5wdXNoKCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgICAgICAgICAgc291cmNlLm1hbmEtLTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmFkZFN0YXR1cyhuZXcgU3RhdHVzKFN0YXR1c1R5cGUuTWluaU1hcCkpO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGxheWVyLnNob3dNaW5pTWFwID0gdHJ1ZTtcbiAgICAgICAgfSkuYmluZCh0aGlzKSwgdGhpcylcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoKHNvdXJjZSBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKSAmJiAoc291cmNlLm1hbmEgPj0gMSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlY292ZXJ5VGltZShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxufSIsImltcG9ydCBTcGVsbCBmcm9tIFwiLi4vLi4vU3BlbGxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi4vQWN0aW9uU291cmNlTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi4vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi4vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi4vLi4vQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uLy4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNUeXBlIH0gZnJvbSBcIi4uLy4uL1N0YXR1c1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb3JjaExpZ2h0IGV4dGVuZHMgU3BlbGxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG5hbWUsIGljb24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFjdGlvblJlc3VsdE1vZGVsKHRoaXMucmVjb3ZlcnlUaW1lKHNvdXJjZSkpO1xuICAgICAgICByZXN1bHQub25BcHBseS5wdXNoKCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgICAgICAgICAgc291cmNlLm1hbmEtLTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmFkZFN0YXR1cyhuZXcgU3RhdHVzKFN0YXR1c1R5cGUuVG9yY2hMaWdodCkpO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGxheWVyLnNob3dUb3JjaExpZ2h0ID0gdHJ1ZTtcbiAgICAgICAgfSkuYmluZCh0aGlzKSwgdGhpcylcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoKHNvdXJjZSBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKSAmJiAoc291cmNlLm1hbmEgPj0gMSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJlY292ZXJ5VGltZShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxufSIsImltcG9ydCBXYWxsTW9kZWwgZnJvbSBcIi4vV2FsbE1vZGVsXCI7XG5pbXBvcnQgeyBHYW1lRGF0YSwgV2FsbERldGFpbHNEYXRhIH0gZnJvbSBcIi4uLy4uL2RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2VsbE1vZGVsXG57XG4gICAgd2FsbHM6IFdhbGxNb2RlbFtdID0gW107XG4gICAgbWlkSGVpZ2h0OiBudW1iZXIgPSAwO1xuICAgIGV4aXRPZmZzZXROID0gMFxuICAgIGV4aXRPZmZzZXRFID0gMDtcbiAgICBleGl0T2Zmc2V0UyA9IDA7XG4gICAgZXhpdE9mZnNldFcgPSAwO1xuXG4gICAgZ2V0IG5vcnRoV2FsbCgpIHsgcmV0dXJuIHRoaXMud2FsbHNbMF07IH1cbiAgICBnZXQgZWFzdFdhbGwoKSB7IHJldHVybiB0aGlzLndhbGxzWzFdOyB9XG4gICAgZ2V0IHNvdXRoV2FsbCgpIHsgcmV0dXJuIHRoaXMud2FsbHNbMl07IH1cbiAgICBnZXQgd2VzdFdhbGwoKSB7IHJldHVybiB0aGlzLndhbGxzWzNdOyB9XG4gICAgZ2V0IGZsb29yV2FsbCgpIHsgcmV0dXJuIHRoaXMud2FsbHNbNF07IH1cbiAgICBnZXQgY2VpbGluZ1dhbGwoKSB7IHJldHVybiB0aGlzLndhbGxzWzVdOyB9XG5cbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBHYW1lRGF0YSwgd2FsbFR5cGVzOiAobnVtYmVyIHwgV2FsbERldGFpbHNEYXRhKVtdKVxuICAgIHtcbiAgICAgICAgd2hpbGUgKHdhbGxUeXBlcy5sZW5ndGggPCA2KVxuICAgICAgICAgICAgd2FsbFR5cGVzLnB1c2goMCk7XG4gICAgICAgIHdhbGxUeXBlcy5mb3JFYWNoKHR5cGUgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FsbHMucHVzaChuZXcgV2FsbE1vZGVsKGRhdGEud2FsbHNbdHlwZV0pKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FsbHMucHVzaChuZXcgV2FsbE1vZGVsKGRhdGEud2FsbHNbdHlwZS50XSwgdHlwZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLndhbGxzWzRdLmRldGFpbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWlkSGVpZ2h0ID0gdGhpcy53YWxsc1s0XS5kZXRhaWxzLm1pZCB8fCAwO1xuICAgICAgICAgICAgdGhpcy5leGl0T2Zmc2V0TiA9IHRoaXMud2FsbHNbNF0uZGV0YWlscy5uIHx8IDA7XG4gICAgICAgICAgICB0aGlzLmV4aXRPZmZzZXRFID0gdGhpcy53YWxsc1s0XS5kZXRhaWxzLmUgfHwgMDtcbiAgICAgICAgICAgIHRoaXMuZXhpdE9mZnNldFMgPSB0aGlzLndhbGxzWzRdLmRldGFpbHMucyB8fCAwO1xuICAgICAgICAgICAgdGhpcy5leGl0T2Zmc2V0VyA9IHRoaXMud2FsbHNbNF0uZGV0YWlscy53IHx8IDA7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgR2FtZURhdGEsIFdvcmxkT2JqZWN0RGF0YSwgRG9vckRhdGEsIExldmVsRG9vckRhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9hY3Rpb24vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuaW1wb3J0IE9ic2VydmVyVmFyaWFibGUgZnJvbSBcImVuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGVcIjtcbmltcG9ydCB7IEZhY2luZyB9IGZyb20gXCIuLi9QbGF5ZXJNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgTGV2ZWxNb2RlbCBmcm9tIFwiLi9MZXZlbE1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERvb3JNb2RlbCBpbXBsZW1lbnRzIEFjdGlvblRhcmdldE1vZGVsXG57XG4gICAgZG9vckRhdGE6IERvb3JEYXRhO1xuICAgIHBvc2l0aW9uOiBQb2ludDM7XG4gICAgd2FsbDogbnVtYmVyO1xuICAgIHRhcmdldExldmVsOiBudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgdGFyZ2V0UG9zaXRpb246IFBvaW50MztcbiAgICB0YXJnZXRGYWNpbmc6IEZhY2luZztcbiAgICBvcGVuQW5nbGU6IG51bWJlcjtcbiAgICBsZXZlbE1vZGVsOkxldmVsTW9kZWw7XG5cbiAgICBpc09wZW46IE9ic2VydmVyVmFyaWFibGU8Ym9vbGVhbj4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPihmYWxzZSk7XG5cbiAgICBnZXQgZmlsZW5hbWUoKSB7IHJldHVybiB0aGlzLmRvb3JEYXRhLmZpbGVuYW1lOyB9XG4gICAgZ2V0IG5vcm1hbE1hcCgpIHsgcmV0dXJuIHRoaXMuZG9vckRhdGEubm9ybWFsTWFwIHx8IG51bGw7IH1cbiAgICBnZXQgbG9ja2VkKCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBnZXQgb3BlbnMoKSB7IHJldHVybiB0aGlzLnRhcmdldExldmVsID09PSB1bmRlZmluZWQ7IH1cblxuICAgIGNvbnN0cnVjdG9yKGdhbWVEYXRhOiBHYW1lRGF0YSwgbGV2ZWxEb29yRGF0YTogTGV2ZWxEb29yRGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMuZG9vckRhdGEgPSBnYW1lRGF0YS5kb29yc1tsZXZlbERvb3JEYXRhLnR5cGVdO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFBvaW50MyhsZXZlbERvb3JEYXRhLnBvc2l0aW9uLnNsaWNlKDAsMykpO1xuICAgICAgICB0aGlzLndhbGwgPSBsZXZlbERvb3JEYXRhLnBvc2l0aW9uWzNdO1xuICAgICAgICBpZiAobGV2ZWxEb29yRGF0YS50YXJnZXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0TGV2ZWwgPSBsZXZlbERvb3JEYXRhLnRhcmdldFswXTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0UG9zaXRpb24gPSBuZXcgUG9pbnQzKGxldmVsRG9vckRhdGEudGFyZ2V0LnNsaWNlKDEsNCkpO1xuICAgICAgICAgICAgbGV0IGYgPSBsZXZlbERvb3JEYXRhLnRhcmdldFs0XTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RmFjaW5nID0gZjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub3BlbkFuZ2xlID0gbGV2ZWxEb29yRGF0YS5vcGVuQW5nbGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGUobGV2ZWxNb2RlbDogTGV2ZWxNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMubGV2ZWxNb2RlbCA9IGxldmVsTW9kZWw7XG4gICAgICAgIGxldCBjZWxsID0gbGV2ZWxNb2RlbC5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XTtcbiAgICAgICAgbGV0IHdhbGwgPSBjZWxsLndhbGxzW3RoaXMud2FsbF07XG4gICAgICAgIGlmICh0aGlzLm9wZW5zKVxuICAgICAgICAgICAgd2FsbC5hbHBoYU1hcCA9IHRoaXMuZG9vckRhdGEuYWxwaGFNYXA7XG4gICAgICAgIHdhbGwucGFzc2FibGUgPSB0aGlzLmlzT3Blbi52YWx1ZTtcbiAgICB9XG5cbiAgICBnZXRQb3NpdGlvbigpIHsgcmV0dXJuIHRoaXMucG9zaXRpb247IH1cblxuICAgIGNoYW5nZU9wZW5TdGF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmlzT3Blbi52YWx1ZSA9ICF0aGlzLmlzT3Blbi52YWx1ZTtcblxuICAgICAgICBsZXQgY2VsbCA9IHRoaXMubGV2ZWxNb2RlbC5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XTtcbiAgICAgICAgbGV0IHdhbGwgPSBjZWxsLndhbGxzW3RoaXMud2FsbF07XG4gICAgICAgIHdhbGwucGFzc2FibGUgPSB0aGlzLmlzT3Blbi52YWx1ZTtcbiAgICB9XG59IiwiaW1wb3J0IENlbGxNb2RlbCBmcm9tIFwiLi9DZWxsTW9kZWxcIjtcbmltcG9ydCB7IEdhbWVEYXRhLCBMZXZlbERhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuaW1wb3J0IFdvcmxkT2JqZWN0TW9kZWwgZnJvbSBcIi4vV29ybGRPYmplY3RNb2RlbFwiO1xuaW1wb3J0IE5QQ01vZGVsIGZyb20gXCIuL05QQ01vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuaW1wb3J0IERvb3JNb2RlbCBmcm9tIFwiLi9Eb29yTW9kZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGV2ZWxNb2RlbFxue1xuICAgIGNlbGxzOiBDZWxsTW9kZWxbXVtdW107XG4gICAgZG9vcnM6IERvb3JNb2RlbFtdO1xuICAgIG9iamVjdHM6IFdvcmxkT2JqZWN0TW9kZWxbXTtcbiAgICBucGNzOiBOUENNb2RlbFtdO1xuICAgIGxldmVsVHlwZTogTGV2ZWxEYXRhO1xuXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLmxldmVsVHlwZS5uYW1lOyB9XG4gICAgZ2V0IHdpZHRoKCkgeyByZXR1cm4gdGhpcy5sZXZlbFR5cGUud2lkdGg7IH1cbiAgICBnZXQgaGVpZ2h0KCkgeyByZXR1cm4gdGhpcy5sZXZlbFR5cGUuaGVpZ2h0OyB9XG4gICAgZ2V0IGRlcHRoKCkgeyByZXR1cm4gdGhpcy5sZXZlbFR5cGUuZGVwdGg7IH1cbiAgICBnZXQgc3RhcnRpbmdQb3NpdGlvbigpIHsgcmV0dXJuIG5ldyBQb2ludDModGhpcy5sZXZlbFR5cGUuc3RhcnRpbmdQb3NpdGlvblswXSx0aGlzLmxldmVsVHlwZS5zdGFydGluZ1Bvc2l0aW9uWzFdLHRoaXMubGV2ZWxUeXBlLnN0YXJ0aW5nUG9zaXRpb25bMl0pOyB9XG4gICAgZ2V0IHN0YXJ0aW5nRmFjaW5nKCkgeyByZXR1cm4gdGhpcy5sZXZlbFR5cGUuc3RhcnRpbmdGYWNpbmc7IH1cbiAgICBnZXQgb3V0c2lkZSgpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLm91dHNpZGU7IH1cbiAgICBnZXQgc2t5Ym94SUQoKSB7IHJldHVybiB0aGlzLmxldmVsVHlwZS5za3lib3g7IH1cblxuICAgIGNyZWF0ZShnYW1lTW9kZWw6IEdhbWVNb2RlbCwgbGV2ZWw6IExldmVsRGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMubGV2ZWxUeXBlID0gbGV2ZWw7XG4gICAgICAgIHRoaXMuY2VsbHMgPSB0aGlzLmNyZWF0ZUNlbGxzKGdhbWVNb2RlbC5kYXRhLCBsZXZlbCk7XG4gICAgICAgIHRoaXMuZG9vcnMgPSB0aGlzLmNyZWF0ZURvb3JzKGdhbWVNb2RlbC5kYXRhLCBsZXZlbCk7XG4gICAgICAgIHRoaXMub2JqZWN0cyA9IHRoaXMuY3JlYXRlT2JqZWN0cyhnYW1lTW9kZWwuZGF0YSwgbGV2ZWwpO1xuICAgICAgICB0aGlzLm5wY3MgPSB0aGlzLmNyZWF0ZU5QQ3MoZ2FtZU1vZGVsLCBsZXZlbCk7XG4gICAgfVxuXG4gICAgc2F2ZShnYW1lRGF0YTogR2FtZURhdGEsIGxldmVsOiBMZXZlbERhdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgbmV3V2FsbHMgPSBbXVxuICAgICAgICBmb3IgKGxldCB5ID0gMDt5PHRoaXMuaGVpZ2h0O3krKylcbiAgICAgICAgICAgIGZvciAobGV0IHogPSAwO3o8dGhpcy5kZXB0aDt6KyspXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7eDx0aGlzLndpZHRoO3grKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2VsbHNbeF1beV1bel0ud2FsbHMuZm9yRWFjaCh3ID0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcuZGV0YWlscylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LmhpZGRlbi52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dhbGxzLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdy5kZXRhaWxzLnQgPSBnYW1lRGF0YS53YWxscy5pbmRleE9mKHcud2FsbERhdGEudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3V2FsbHMucHVzaCh3LmRldGFpbHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcuaGlkZGVuLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3V2FsbHMucHVzaCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3V2FsbHMucHVzaChnYW1lRGF0YS53YWxscy5pbmRleE9mKHcud2FsbERhdGEudmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIGxldmVsLndhbGxzID0gbmV3V2FsbHM7XG5cbiAgICAgICAgbGV0IG5wY3MgPSBbXTtcbiAgICAgICAgdGhpcy5ucGNzLmZvckVhY2gobiA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBnYW1lRGF0YS5ucGNzLmluZGV4T2Yobi5ucGNUeXBlKTtcbiAgICAgICAgICAgICAgICBucGNzLnB1c2goe3R5cGU6IGlkLCBwb3NpdGlvbjogW24ucG9zaXRpb24udmFsdWUueCxuLnBvc2l0aW9uLnZhbHVlLnksbi5wb3NpdGlvbi52YWx1ZS56XX0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgbGV2ZWwubnBjcyA9IG5wY3M7XG5cbiAgICAgICAgbGV0IG9iamVjdHMgPSBbXTtcbiAgICAgICAgdGhpcy5vYmplY3RzLmZvckVhY2gobyA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBnYW1lRGF0YS5vYmplY3RzLmluZGV4T2Yoby5vYmplY3RUeXBlKTtcbiAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2goe3R5cGU6IGlkLCBwb3NpdGlvbjogW28ucG9zaXRpb24udmFsdWUueCxvLnBvc2l0aW9uLnZhbHVlLnksby5wb3NpdGlvbi52YWx1ZS56XX0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgbGV2ZWwub2JqZWN0cyA9IG9iamVjdHM7XG4gICAgfVxuXG4gICAgY3JlYXRlRG9vcnMoZGF0YTogR2FtZURhdGEsIGxldmVsOiBMZXZlbERhdGEpOiBEb29yTW9kZWxbXVxuICAgIHtcbiAgICAgICAgbGV0IGRvb3JzID0gW107XG4gICAgICAgIGZvciAobGV0IGk9MDtpPGxldmVsLmRvb3JzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBkb29yID0gbmV3IERvb3JNb2RlbChkYXRhLCBsZXZlbC5kb29yc1tpXSk7XG4gICAgICAgICAgICBkb29yLmNyZWF0ZSh0aGlzKTtcbiAgICAgICAgICAgIGRvb3JzLnB1c2goZG9vcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvb3JzO1xuICAgIH1cblxuICAgIGNyZWF0ZU9iamVjdHMoZGF0YTogR2FtZURhdGEsIGxldmVsOiBMZXZlbERhdGEpOiBXb3JsZE9iamVjdE1vZGVsW11cbiAgICB7XG4gICAgICAgIGxldCBvYmplY3RzID0gW107XG4gICAgICAgIGZvciAobGV0IGk9MDtpPGxldmVsLm9iamVjdHMubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG9iaiA9IG5ldyBXb3JsZE9iamVjdE1vZGVsKGRhdGEsIGxldmVsLm9iamVjdHNbaV0udHlwZSwgbGV2ZWwub2JqZWN0c1tpXS5wb3NpdGlvbik7XG4gICAgICAgICAgICBvYmouY3JlYXRlKCk7XG4gICAgICAgICAgICBvYmplY3RzLnB1c2gob2JqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqZWN0cztcbiAgICB9XG5cbiAgICBjcmVhdGVOUENzKGdhbWVNb2RlbDogR2FtZU1vZGVsLCBsZXZlbDogTGV2ZWxEYXRhKTogTlBDTW9kZWxbXVxuICAgIHtcbiAgICAgICAgbGV0IG5wY3MgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8bGV2ZWwubnBjcy5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbnBjID0gbmV3IE5QQ01vZGVsKGdhbWVNb2RlbCwgbGV2ZWwubnBjc1tpXS50eXBlLCBsZXZlbC5ucGNzW2ldLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIG5wYy5jcmVhdGUoKTtcbiAgICAgICAgICAgIG5wY3MucHVzaChucGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBucGNzO1xuICAgIH1cblxuICAgIGNyZWF0ZUNlbGxzKGRhdGE6IEdhbWVEYXRhLCBsZXZlbDogTGV2ZWxEYXRhKVxuICAgIHtcbiAgICAgICAgbGV0IHJvd3MgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTxsZXZlbC53aWR0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBsYXllcnMgPSBbXVxuICAgICAgICAgICAgZm9yKGxldCBoPTA7aDxsZXZlbC5oZWlnaHQ7aCsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBjb2wgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGo9MDtqPGxldmVsLmRlcHRoO2orKylcbiAgICAgICAgICAgICAgICB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gKGgqbGV2ZWwud2lkdGgqbGV2ZWwuZGVwdGgqNikrKGoqbGV2ZWwud2lkdGgqNikraSo2O1xuICAgICAgICAgICAgICAgICAgICBsZXQgd2FsbFN1YnNldCA9IGxldmVsLndhbGxzLnNsaWNlKHN0YXJ0LCBzdGFydCArIDYpO1xuICAgICAgICAgICAgICAgICAgICBjb2wucHVzaChuZXcgQ2VsbE1vZGVsKGRhdGEsIHdhbGxTdWJzZXQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGF5ZXJzLnB1c2goY29sKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvd3MucHVzaChsYXllcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3dzO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBOUENEYXRhIH0gZnJvbSBcIi4uLy4uL2RhdGFcIjtcbmltcG9ydCBBY3Rvck1vZGVsIGZyb20gXCIuLi9BY3Rvck1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi4vYWN0aW9uL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25Nb2RlbFwiO1xuaW1wb3J0IEF0dGFja0FjdGlvbk1vZGVsIGZyb20gXCIuLi9hY3Rpb24vQXR0YWNrQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi4vYWN0aW9uL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IENoYXJhY3Rlck1vZGVsLCB7IEhlYWx0aFN0YXRlIH0gZnJvbSBcIi4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5QQ01vZGVsIGV4dGVuZHMgQWN0b3JNb2RlbCBpbXBsZW1lbnRzIEFjdGlvblNvdXJjZU1vZGVsLCBBY3Rpb25UYXJnZXRNb2RlbFxue1xuICAgIG5wY1R5cGU6IE5QQ0RhdGE7XG4gICAgYWxpdmU6IE9ic2VydmVyVmFyaWFibGU8Ym9vbGVhbj4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZSh0cnVlKTtcbiAgICBwZXJmb3JtaW5nQWN0aW9uOiBPYnNlcnZlclZhcmlhYmxlPEFjdGlvblJlc3VsdE1vZGVsPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKG51bGwpO1xuICAgIGRlbGF5aW5nOiBPYnNlcnZlclZhcmlhYmxlPGJvb2xlYW4+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUoZmFsc2UpO1xuICAgIGFjdGlvbnM6IEFjdGlvbk1vZGVsW107XG4gICAgbG9vdGVkOiBPYnNlcnZlclZhcmlhYmxlPGJvb2xlYW4+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUoZmFsc2UpO1xuXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLm5wY1R5cGUubmFtZTsgfVxuICAgIGdldCBmaWxlbmFtZSgpIHsgcmV0dXJuIHRoaXMubnBjVHlwZS5maWxlbmFtZTsgfVxuICAgIGdldCBocFNwZWMoKSB7IHJldHVybiB0aGlzLm5wY1R5cGUuaHA7IH1cbiAgICBnZXQgbG9vdFNwZWMoKSB7IHJldHVybiB0aGlzLm5wY1R5cGUubG9vdDsgfVxuICAgIGdldCBob3N0aWxlKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLmhvc3RpbGU7IH1cbiAgICBnZXQgZGVhZFRleHR1cmUoKSB7IHJldHVybiB0aGlzLm5wY1R5cGUuZGVhZFRleHR1cmU7IH1cblxuICAgIHBvc2l0aW9uOiBPYnNlcnZlclZhcmlhYmxlPFBvaW50Mz47XG5cbiAgICBnZXRQb3NpdGlvbigpIHsgcmV0dXJuIHRoaXMucG9zaXRpb24udmFsdWU7IH1cblxuICAgIHByaXZhdGUgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lTW9kZWw6IEdhbWVNb2RlbCwgdHlwZTogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyW10pXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5ucGNUeXBlID0gZ2FtZU1vZGVsLmRhdGEubnBjc1t0eXBlXTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKG5ldyBQb2ludDMocG9zaXRpb24pKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tYXhIaXRwb2ludHMgPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZShHYW1lTW9kZWwucm9sbERpY2UodGhpcy5ocFNwZWMpKTtcbiAgICAgICAgdGhpcy5oaXRwb2ludHMgPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZSh0aGlzLm1heEhpdHBvaW50cy52YWx1ZSk7XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICB0aGlzLm5wY1R5cGUuYWN0aW9ucy5mb3JFYWNoKGEgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoYS50eXBlID09PSBcImF0dGFja1wiKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMucHVzaChuZXcgQXR0YWNrQWN0aW9uTW9kZWwodGhpcy5nYW1lTW9kZWwsIGEubmFtZSwgYS5kYW1hZ2UsIGEucmFuZ2UpKTtcbiAgICAgICAgICAgIH0pXG4gICAgfVxuXG4gICAgY2hlY2tIZWFsdGhTdGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5oaXRwb2ludHMudmFsdWUgPD0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hbGl2ZS52YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5ucGNEaWVkKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWN0KClcbiAgICB7XG4gICAgICAgIGxldCBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBsZXQgdGFyZ2V0OiBDaGFyYWN0ZXJNb2RlbDtcbiAgICAgICAgd2hpbGUgKCFmb3VuZClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHIgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqKHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmNoYXJhY3RlcnMubGVuZ3RoLTEpKTtcbiAgICAgICAgICAgIHRhcmdldCA9IHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmNoYXJhY3RlcnNbcl07XG4gICAgICAgICAgICBpZiAodGFyZ2V0LmhlYWx0aFN0YXRlLnZhbHVlICE9PSBIZWFsdGhTdGF0ZS5EZWFkKVxuICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXZhaWxhYmxlQWN0aW9ucyA9IHRoaXMuYWN0aW9ucy5maWx0ZXIoYSA9PiBhLnRlc3QodGhpcywgdGFyZ2V0KSk7XG4gICAgICAgIGlmIChhdmFpbGFibGVBY3Rpb25zLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmdhbWVNb2RlbC5ucGNQZXJmb3JtQWN0aW9uKHRoaXMsIHRhcmdldCwgYXZhaWxhYmxlQWN0aW9uc1swXSk7XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1pbmdBY3Rpb24udmFsdWUgPSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5kZWxheWluZy52YWx1ZSA9IHRydWU7XG4gICAgfVxuXG4gICAgYXBwbHlBY3Rpb25SZXN1bHQoYWN0aW9uUmVzdWx0OiBBY3Rpb25SZXN1bHRNb2RlbClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBlcmZvcm1pbmdBY3Rpb24udmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmFwcGx5QWN0aW9uUmVzdWx0KGFjdGlvblJlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1pbmdBY3Rpb24udmFsdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kZWxheWluZy52YWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwubnBjRGVsYXkodGhpcywgMSk7ICAgXG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgV2FsbERhdGEsIFdhbGxEZXRhaWxzRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5pbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IHsgVGV4dHVyZUVtcHR5IH0gZnJvbSBcImV4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9kYXRhXCJcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi4vYWN0aW9uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhbGxNb2RlbCBpbXBsZW1lbnRzIEFjdGlvblRhcmdldE1vZGVsXG57XG4gICAgd2FsbERhdGE6IE9ic2VydmVyVmFyaWFibGU8V2FsbERhdGE+O1xuICAgIGRldGFpbHM6IFdhbGxEZXRhaWxzRGF0YTtcbiAgICBfcGFzc2FibGU6IGJvb2xlYW47XG4gICAgZ2V0IGZpbGVuYW1lKCkgeyByZXR1cm4gdGhpcy53YWxsRGF0YS52YWx1ZS5maWxlbmFtZTsgfVxuICAgIGdldCBwYXNzYWJsZSgpIHsgcmV0dXJuIHRoaXMuX3Bhc3NhYmxlIHx8IHRoaXMuaGlkZGVuLnZhbHVlIH1cbiAgICBzZXQgcGFzc2FibGUodmFsKSB7IHRoaXMuX3Bhc3NhYmxlID0gdmFsOyB9XG4gICAgZ2V0IGNyZWF0ZSgpIHsgcmV0dXJuIHRoaXMud2FsbERhdGEudmFsdWUuZmlsZW5hbWUgIT09IFRleHR1cmVFbXB0eTsgfVxuICAgIGdldCBub3JtYWxNYXAoKSB7IHJldHVybiAodGhpcy53YWxsRGF0YS52YWx1ZS5ub3JtYWxNYXAgfHwgdW5kZWZpbmVkKTsgfVxuICAgIGhpZGRlbjogT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPjtcbiAgICBhbHBoYU1hcDogc3RyaW5nO1xuXG4gICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcih3YWxsRGF0YTogV2FsbERhdGEsIGRldGFpbHM/OiBXYWxsRGV0YWlsc0RhdGEpXG4gICAge1xuICAgICAgICB0aGlzLndhbGxEYXRhID0gbmV3IE9ic2VydmVyVmFyaWFibGU8V2FsbERhdGE+KHdhbGxEYXRhKTtcbiAgICAgICAgdGhpcy5oaWRkZW4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPighKHRoaXMuY3JlYXRlKSk7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgICAgIHRoaXMuX3Bhc3NhYmxlID0gd2FsbERhdGEucGFzc2FibGU7XG4gICAgfVxufSIsImltcG9ydCBMZXZlbE1vZGVsIGZyb20gXCIuL0xldmVsTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IE9ic2VydmVyVmFyaWFibGUgZnJvbSBcImVuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGVcIjtcbmltcG9ydCB7IEdhbWVEYXRhIH0gZnJvbSBcIi4uLy4uL2RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGRNb2RlbFxue1xuICAgIGxldmVsczogTGV2ZWxNb2RlbFtdXG4gICAgY3VycmVudExldmVsOiBPYnNlcnZlclZhcmlhYmxlPExldmVsTW9kZWw+XG5cbiAgICBnZXQgY3VycmVudExldmVsSUQoKSB7IHJldHVybiB0aGlzLmxldmVscy5pbmRleE9mKHRoaXMuY3VycmVudExldmVsLnZhbHVlKTsgfVxuXG4gICAgY3JlYXRlKGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5sZXZlbHMgPSBbXTtcbiAgICAgICAgZ2FtZU1vZGVsLmRhdGEubGV2ZWxzLmZvckVhY2gobCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGV2ZWwgPSBuZXcgTGV2ZWxNb2RlbCgpO1xuICAgICAgICAgICAgdGhpcy5sZXZlbHMucHVzaChsZXZlbCk7XG4gICAgICAgICAgICBsZXZlbC5jcmVhdGUoZ2FtZU1vZGVsLCBsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwgPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZTxMZXZlbE1vZGVsPih0aGlzLmxldmVsc1tnYW1lTW9kZWwuZGF0YS5wbGF5ZXIubGV2ZWxdKTtcbiAgICB9XG5cbiAgICBzYXZlKGRhdGE6IEdhbWVEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5sZXZlbHMuZm9yRWFjaChsID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbC5zYXZlKGRhdGEsIGwubGV2ZWxUeXBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN3aXRjaFRvTGV2ZWwobGV2ZWw6IExldmVsTW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbC52YWx1ZSA9IGxldmVsO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBHYW1lRGF0YSwgV29ybGRPYmplY3REYXRhIH0gZnJvbSBcIi4uLy4uL2RhdGFcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi4vYWN0aW9uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmxkT2JqZWN0TW9kZWwgaW1wbGVtZW50cyBBY3Rpb25UYXJnZXRNb2RlbFxue1xuICAgIG9iamVjdFR5cGU6IFdvcmxkT2JqZWN0RGF0YTtcbiAgICBwb3NpdGlvbjogT2JzZXJ2ZXJWYXJpYWJsZTxQb2ludDM+O1xuXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLm9iamVjdFR5cGUubmFtZTsgfVxuICAgIGdldCBmaWxlbmFtZSgpIHsgcmV0dXJuIHRoaXMub2JqZWN0VHlwZS5maWxlbmFtZTsgfVxuXG4gICAgY29uc3RydWN0b3IoZGF0YTogR2FtZURhdGEsIHR5cGU6IG51bWJlciwgcG9zaXRpb246IG51bWJlcltdKVxuICAgIHtcbiAgICAgICAgdGhpcy5vYmplY3RUeXBlID0gZGF0YS5vYmplY3RzW3R5cGVdO1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IE9ic2VydmVyVmFyaWFibGUobmV3IFBvaW50Myhwb3NpdGlvbikpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuXG4gICAgfVxuXG4gICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLnBvc2l0aW9uLnZhbHVlOyB9XG59IiwiaW1wb3J0IFdvcmxkT2JqZWN0TW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL1dvcmxkT2JqZWN0TW9kZWxcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFRocmVlTWVzaCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVNZXNoXCI7XG5pbXBvcnQgRG9vck1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9Eb29yTW9kZWxcIjtcbmltcG9ydCBMb2FkZXIgZnJvbSBcImVuZ2luZS9pby9Mb2FkZXJcIjtcbmltcG9ydCBXcmFwcGluZ1ZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV3JhcHBpbmdWYWx1ZVR3ZWVuXCI7XG5pbXBvcnQgQXNzZXQgZnJvbSBcImVuZ2luZS9Bc3NldFwiO1xuaW1wb3J0IEdlb21Mb2FkZXIgZnJvbSBcIi4vR2VvbUxvYWRlclwiO1xuaW1wb3J0IE1hdGVyaWFsTG9hZGVyIGZyb20gXCIuL01hdGVyaWFsTG9hZGVyXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgV2FpdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XYWl0XCI7XG5pbXBvcnQgQW5pbWF0aW9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL0FuaW1hdGlvblwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb29yIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIG1vZGVsOiBEb29yTW9kZWw7XG4gICAgbWVzaDogVGhyZWVNZXNoO1xuICAgIF90dXJuQW5pbXM6IEFuaW1hdGlvbltdID0gW107XG5cbiAgICBnZW9tOiBBc3NldDxhbnk+OyAvL1RIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnlcbiAgICBtYXRlcmlhbDogQXNzZXQ8YW55PlxuXG4gICAgY29uc3RydWN0b3IobW9kZWw6IERvb3JNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgfVxuXG4gICAgbG9hZCh7bG9hZGVyOiBsb2FkZXJ9IDoge2xvYWRlcjogTG9hZGVyfSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2VvbSA9IHRoaXMuYWRkQXNzZXQoR2VvbUxvYWRlci5nZXRTaGFyZWRQbGFuZUdlb20obG9hZGVyKSk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSB0aGlzLmFkZEFzc2V0KE1hdGVyaWFsTG9hZGVyLmdldFNoYXJlZE1hdGVyaWFsQXNzZXQobG9hZGVyLCB0aGlzLm1vZGVsLmZpbGVuYW1lLCB0aGlzLm1vZGVsLm5vcm1hbE1hcCwgbnVsbCwgbmV3IFBvaW50KDEsMSksIHRydWUsIHRydWUpKTtcbiAgICAgICAgcmV0dXJuICgodGhpcy5tYXRlcmlhbCAhPT0gbnVsbCkgJiYgKHRoaXMuZ2VvbSAhPT0gbnVsbCkpO1xuICAgIH1cbiAgICBcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBsZXQgbWVzaCA9IG5ldyBUaHJlZU1lc2godGhpcy5nZW9tLmFzc2V0LHRoaXMubWF0ZXJpYWwuYXNzZXQpO1xuICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueCA9IHRoaXMubW9kZWwucG9zaXRpb24ueDtcbiAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnkgPSB0aGlzLm1vZGVsLnBvc2l0aW9uLnk7XG4gICAgICAgIG1lc2gubWVzaC5wb3NpdGlvbi56ID0gdGhpcy5tb2RlbC5wb3NpdGlvbi56O1xuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueiAtPSAwLjQ5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLndhbGwgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc2gubWVzaC5wb3NpdGlvbi54ICs9IDAuNDk7XG4gICAgICAgICAgICBtZXNoLm1lc2gucm90YXRpb24ueSAtPSBNYXRoLlBJLzJcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueiArPSAwLjQ5O1xuICAgICAgICAgICAgbWVzaC5tZXNoLnJvdGF0aW9uLnkgKz0gTWF0aC5QSVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLndhbGwgPT09IDMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc2gubWVzaC5wb3NpdGlvbi54IC09IDAuNDk7XG4gICAgICAgICAgICBtZXNoLm1lc2gucm90YXRpb24ueSArPSBNYXRoLlBJLzJcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc2ggPSB0aGlzLmFkZENoaWxkKG1lc2gpO1xuICAgICAgICB0aGlzLm1vZGVsLmlzT3Blbi5vblVwZGF0ZS5wdXNoKHRoaXMuY2hhbmdlT3BlblN0YXRlLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLm1lc2gubWVzaC51c2VyRGF0YSA9IHtnYW1lT2JqZWN0OiB0aGlzfTtcbiAgICB9XG5cbiAgICBjaGFuZ2VPcGVuU3RhdGUob3BlbjogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLndhbGwgPT09IDApXG4gICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKG9wZW4gPyB0aGlzLm1vZGVsLm9wZW5BbmdsZSA6IDAsIDUwMClcbiAgICAgICAgaWYgKHRoaXMubW9kZWwud2FsbCA9PT0gMSlcbiAgICAgICAgICAgIHRoaXMuc2V0Um90YXRpb24ob3BlbiA/IHRoaXMubW9kZWwub3BlbkFuZ2xlIC0gTWF0aC5QSS8yIDogLU1hdGguUEkvMiwgNTAwKTtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwud2FsbCA9PT0gMilcbiAgICAgICAgICAgIHRoaXMuc2V0Um90YXRpb24ob3BlbiA/IHRoaXMubW9kZWwub3BlbkFuZ2xlICsgTWF0aC5QSSA6IE1hdGguUEksIDUwMCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLndhbGwgPT09IDMpXG4gICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKG9wZW4gPyB0aGlzLm1vZGVsLm9wZW5BbmdsZSArIE1hdGguUEkvMiA6IE1hdGguUEkvMiwgNTAwKTtcbiAgICB9XG5cbiAgICBzZXRSb3RhdGlvbih5LCB0aW1lOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl90dXJuQW5pbXMuZm9yRWFjaChhID0+IGEucmVxdWVzdFJlbW92YWwoKSk7XG4gICAgICAgIHRoaXMuX3R1cm5BbmltcyA9IFtdO1xuICAgICAgICAvL3RoaXMuYWRkVHVybkFuaW0odGhpcy5tZXNoLm1lc2gucm90YXRpb24sIFwieVwiLCB5LCB0aW1lKVxuICAgICAgICBsZXQgdyA9IHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQodGltZSkpO1xuICAgICAgICB3Lm9uU3RlcC5wdXNoKHRoaXMucm90YXRlQWJvdXRQb2ludC5iaW5kKHRoaXMsIG5ldyBUSFJFRS5WZWN0b3IzKDAsMCwwKSwgbmV3IFRIUkVFLlZlY3RvcjMoMCwxLDApLCAodGhpcy5tZXNoLm1lc2gucm90YXRpb24ueSAtIHkpL3RpbWUsIGZhbHNlKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX3R1cm5Bbmltcy5wdXNoKHcpO1xuICAgIH1cblxuICAgIHJvdGF0ZUFib3V0UG9pbnQocG9pbnQsIGF4aXMsIHRoZXRhLCBwb2ludElzV29ybGQ6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZihwb2ludElzV29ybGQpXG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5wYXJlbnQubG9jYWxUb1dvcmxkKHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uKTsgLy8gY29tcGVuc2F0ZSBmb3Igd29ybGQgY29vcmRpbmF0ZVxuICAgICAgXG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLnN1Yihwb2ludCk7IC8vIHJlbW92ZSB0aGUgb2Zmc2V0XG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLmFwcGx5QXhpc0FuZ2xlKGF4aXMsIHRoZXRhKTsgLy8gcm90YXRlIHRoZSBQT1NJVElPTlxuICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5hZGQocG9pbnQpOyAvLyByZS1hZGQgdGhlIG9mZnNldFxuICAgICAgXG4gICAgICAgIGlmKHBvaW50SXNXb3JsZCl7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5wYXJlbnQud29ybGRUb0xvY2FsKHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uKTsgLy8gdW5kbyB3b3JsZCBjb29yZGluYXRlcyBjb21wZW5zYXRpb25cbiAgICAgICAgfVxuICAgICAgXG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnJvdGF0ZU9uQXhpcyhheGlzLCB0aGV0YSk7IC8vIHJvdGF0ZSB0aGUgT0JKRUNUXG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBhZGRUdXJuQW5pbShvYmplY3Q6IGFueSwgdmFyTmFtZTogc3RyaW5nLCB0YXJnZXQ6IG51bWJlciwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdHVybkFuaW1zLnB1c2godGhpcy5hZGRDaGlsZChuZXcgV3JhcHBpbmdWYWx1ZVR3ZWVuKG9iamVjdCwgdmFyTmFtZSwgdGFyZ2V0LCB0aW1lLCBNYXRoLlBJKjIpKSk7XG4gICAgICAgIGxldCBhID0gdGhpcy5fdHVybkFuaW1zW3RoaXMuX3R1cm5Bbmltcy5sZW5ndGgtMV07XG4gICAgICAgIGEub25Db21wbGV0ZS5wdXNoKCgoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdHVybkFuaW1zLnNwbGljZSh0aGlzLl90dXJuQW5pbXMuaW5kZXhPZihhKSwxKVxuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgfVxufSIsImltcG9ydCBBc3NldCBmcm9tIFwiZW5naW5lL0Fzc2V0XCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9tTG9hZGVyXG57XG4gICAgc3RhdGljIGdldFNoYXJlZFBsYW5lR2VvbShsb2FkZXIpOiBBc3NldDxhbnk+XG4gICAge1xuICAgICAgICBsZXQgZ2VvbUFzc2V0ID0gbG9hZGVyLmdldFNoYXJlZEFzc2V0KFwiI3BsYW5lR2VvbVwiKVxuICAgICAgICBpZiAoIShnZW9tQXNzZXQubG9hZGVkKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2VvbUFzc2V0LnNldChuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSgxLCAxKSlcbiAgICAgICAgICAgIGdlb21Bc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZW9tQXNzZXQ7XG4gICAgfVxufSIsImltcG9ydCBMb2FkZXIgZnJvbSBcImVuZ2luZS9pby9Mb2FkZXJcIjtcbmltcG9ydCBBc3NldCBmcm9tIFwiZW5naW5lL0Fzc2V0XCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRlcmlhbExvYWRlclxue1xuICAgIHN0YXRpYyBnZXRTaGFyZWRNYXRlcmlhbEFzc2V0KGxvYWRlcjogTG9hZGVyLCBmaWxlbmFtZTogc3RyaW5nLCBub3JtYWxNYXA6IHN0cmluZywgYWxwaGFNYXA6IHN0cmluZywgcmVwZWF0OiBQb2ludCwgdHJhbnNwYXJlbnQ6IGJvb2xlYW4sIHR3b3NpZGVzOiBib29sZWFuKTogQXNzZXQ8YW55PlxuICAgIHtcbiAgICAgICAgbm9ybWFsTWFwID0gbm9ybWFsTWFwIHx8IG51bGw7XG4gICAgICAgIGFscGhhTWFwID0gYWxwaGFNYXAgfHwgbnVsbDtcbiAgICAgICAgXG4gICAgICAgIGxldCBuYW1lID0gZmlsZW5hbWUrXCIjbWF0XCIgKyAobm9ybWFsTWFwICE9PSBudWxsID8gXCIjbm9ybWFsPVwiK25vcm1hbE1hcCA6IFwiXCIpICsgKGFscGhhTWFwICE9PSBudWxsID8gXCIjYWxwaGE9XCIgKyBhbHBoYU1hcCA6IFwiXCIpO1xuICAgICAgICBsZXQgbWF0ZXJpYWxBc3NldCA9IGxvYWRlci5nZXRTaGFyZWRBc3NldChuYW1lKTtcbiAgICAgICAgaWYgKCEobWF0ZXJpYWxBc3NldC5sb2FkZWQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbWF0ZXJpYWwgPSBNYXRlcmlhbExvYWRlci5sb2FkTWF0ZXJpYWwobG9hZGVyLCBmaWxlbmFtZSwgbm9ybWFsTWFwLCBhbHBoYU1hcCwgcmVwZWF0LCB0cmFuc3BhcmVudCwgdHdvc2lkZXMpO1xuICAgICAgICAgICAgaWYgKCEobWF0ZXJpYWwpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbWF0ZXJpYWxBc3NldC5zZXQobWF0ZXJpYWwpO1xuICAgICAgICAgICAgbWF0ZXJpYWxBc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXRlcmlhbEFzc2V0O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRUZXh0dXJlQXNzZXQobG9hZGVyOiBMb2FkZXIsIGZpbGVuYW1lOiBzdHJpbmcsIHJlcGVhdDogUG9pbnQpXG4gICAge1xuICAgICAgICBsZXQgdGV4dHVyZUFzc2V0ID0gbG9hZGVyLmdldFNoYXJlZEFzc2V0KGZpbGVuYW1lKTtcbiAgICAgICAgaWYgKCEodGV4dHVyZUFzc2V0LmFzc2V0KSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRleHR1cmUgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQoZmlsZW5hbWUsICgodGV4dHVyZSkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlcGVhdC54ICE9PSAxKSB8fCAocmVwZWF0LnkgIT09IDEpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS53cmFwUyA9IHRleHR1cmUud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5vZmZzZXQuc2V0KCAwLCAwICk7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUucmVwZWF0LnNldCggcmVwZWF0LngsIHJlcGVhdC55ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHR1cmVBc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSkuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0ZXh0dXJlQXNzZXQuc2V0KHRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0dXJlQXNzZXQ7XG4gICAgfVxuXG4gICAgc3RhdGljIGxvYWRNYXRlcmlhbChsb2FkZXI6IExvYWRlciwgZmlsZW5hbWU6IHN0cmluZywgbm9ybWFsTWFwOiBzdHJpbmcsIGFscGhhTWFwOiBzdHJpbmcsIHJlcGVhdDogUG9pbnQsIHRyYW5zcGFyZW50OiBib29sZWFuLCB0d29zaWRlczogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGxldCBub3JtYWxNYXBBc3NldDtcbiAgICAgICAgbGV0IGFscGhhTWFwQXNzZXQ7XG4gICAgICAgIGxldCBtYXBBc3NldCA9IE1hdGVyaWFsTG9hZGVyLmdldFRleHR1cmVBc3NldChsb2FkZXIsIGZpbGVuYW1lLCByZXBlYXQpO1xuICAgICAgICBpZiAobm9ybWFsTWFwICE9PSBudWxsKVxuICAgICAgICAgICAgbm9ybWFsTWFwQXNzZXQgPSBNYXRlcmlhbExvYWRlci5nZXRUZXh0dXJlQXNzZXQobG9hZGVyLCBub3JtYWxNYXAsIHJlcGVhdCk7XG4gICAgICAgIGlmIChhbHBoYU1hcCAhPT0gbnVsbClcbiAgICAgICAgICAgIGFscGhhTWFwQXNzZXQgPSBNYXRlcmlhbExvYWRlci5nZXRUZXh0dXJlQXNzZXQobG9hZGVyLCBhbHBoYU1hcCwgcmVwZWF0KTtcblxuICAgICAgICBpZiAoIShtYXBBc3NldC5sb2FkZWQpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICgobm9ybWFsTWFwICE9PSBudWxsKSAmJiAoIW5vcm1hbE1hcEFzc2V0LmxvYWRlZCkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKChhbHBoYU1hcCAhPT0gbnVsbCkgJiYgKCFhbHBoYU1hcEFzc2V0LmxvYWRlZCkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBsZXQgbWF0ZXJpYWw7XG4gICAgICAgIHRyYW5zcGFyZW50ID0gKGFscGhhTWFwICE9PSBudWxsKSB8fCB0cmFuc3BhcmVudCA7XG4gICAgICAgIGlmIChub3JtYWxNYXApXG4gICAgICAgICAgICBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7bWFwOiBtYXBBc3NldC5hc3NldCxcbiAgICAgICAgICAgICAgICBub3JtYWxNYXA6IG5vcm1hbE1hcEFzc2V0LmFzc2V0LFxuICAgICAgICAgICAgICAgIG5vcm1hbFNjYWxlOiBuZXcgVEhSRUUuVmVjdG9yMigxLDEpLFxuICAgICAgICAgICAgICAgIHJvdWdobmVzczogMSxcbiAgICAgICAgICAgICAgICB0cmFuc3BhcmVudDogdHJhbnNwYXJlbnR9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7bWFwOiBtYXBBc3NldC5hc3NldCwgdHJhbnNwYXJlbnQ6IHRyYW5zcGFyZW50fSk7XG5cbiAgICAgICAgaWYgKGFscGhhTWFwKVxuICAgICAgICAgICAgbWF0ZXJpYWwuYWxwaGFNYXAgPSBhbHBoYU1hcEFzc2V0LmFzc2V0ICAgIFxuICAgICAgICBpZiAodHdvc2lkZXMpXG4gICAgICAgICAgICBtYXRlcmlhbC5zaWRlID0gVEhSRUUuRG91YmxlU2lkZVxuICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgfVxufSIsImltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvTlBDTW9kZWxcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFRocmVlTWVzaCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVNZXNoXCI7XG5pbXBvcnQgV2FpdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XYWl0XCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmltcG9ydCBMb2FkZXIgZnJvbSBcImVuZ2luZS9pby9Mb2FkZXJcIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOUEMgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgbW9kZWw6IE5QQ01vZGVsO1xuICAgIG1lc2g6IFRocmVlTWVzaDtcbiAgICBjZW50ZXJlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgb2xkSFA6IG51bWJlcjtcbiAgICBjYW1lcmE7XG4gICAgb2Zmc2V0U2V0ID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcihtb2RlbDogTlBDTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIH1cblxuICAgIGxvYWQoe2xvYWRlcjogbG9hZGVyfSA6IHtsb2FkZXIgOiBMb2FkZXJ9KVxuICAgIHtcbiAgICAgICAgbGV0IHRleHR1cmUgPSBsb2FkZXIuZ2V0U2hhcmVkQXNzZXQodGhpcy5tb2RlbC5maWxlbmFtZStcIiN0ZXhcIilcbiAgICAgICAgaWYgKCEodGV4dHVyZS5hc3NldCkpXG4gICAgICAgICAgICB0ZXh0dXJlLnNldChuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5tb2RlbC5maWxlbmFtZSwgKCgpID0+IHsgdGV4dHVyZS5sb2FkZWQgPSB0cnVlfSkpKTtcbiAgICAgICAgdGhpcy5hZGRBc3NldCh0ZXh0dXJlKTtcblxuICAgICAgICBsZXQgZGVhZFRleHR1cmUgPSBsb2FkZXIuZ2V0U2hhcmVkQXNzZXQodGhpcy5tb2RlbC5kZWFkVGV4dHVyZStcIiN0ZXhcIilcbiAgICAgICAgaWYgKCEoZGVhZFRleHR1cmUuYXNzZXQpKVxuICAgICAgICAgICAgZGVhZFRleHR1cmUuc2V0KG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLm1vZGVsLmRlYWRUZXh0dXJlLCAoKCkgPT4geyBkZWFkVGV4dHVyZS5sb2FkZWQgPSB0cnVlfSkpKTtcbiAgICAgICAgdGhpcy5hZGRBc3NldChkZWFkVGV4dHVyZSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHNjYWxlTWVzaCh0ZXh0dXJlLCBzY2FsZSk6IFRocmVlTWVzaFxuICAgIHtcbiAgICAgICAgbGV0IHdpZHRoID0gdGV4dHVyZS5pbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIGxldCBoZWlnaHQgPSB0ZXh0dXJlLmltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIGxldCBhc3BlY3QgPSBoZWlnaHQvd2lkdGg7XG4gICAgICAgIGxldCB4O1xuICAgICAgICBsZXQgeTtcbiAgICAgICAgaWYgKHdpZHRoID4gaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB4ID0gc2NhbGU7XG4gICAgICAgICAgICB5ID0geCAqIGFzcGVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHkgPSBzY2FsZTtcbiAgICAgICAgICAgIHggPSB5IC8gYXNwZWN0O1xuICAgICAgICB9XG4gICAgICAgIGxldCBnZW9tID0gbmV3IFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnkoeCwgeSwgMCk7XG4gICAgICAgIGxldCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoTGFtYmVydE1hdGVyaWFsKHttYXA6IHRleHR1cmUsIGZvZzogdHJ1ZSwgdHJhbnNwYXJlbnQ6IHRydWUsfSk7XG4gICAgICAgIGxldCBtZXNoID0gbmV3IFRIUkVFLk1lc2goZ2VvbSwgbWF0ZXJpYWwpO1xuICAgICAgICByZXR1cm4gbWVzaDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5hZGRDaGlsZChuZXcgVGhyZWVNZXNoKHRoaXMuc2NhbGVNZXNoKHRoaXMuZ2V0QXNzZXQ8YW55Pih0aGlzLm1vZGVsLmZpbGVuYW1lK1wiI3RleFwiKSwgdGhpcy5tb2RlbC5ucGNUeXBlLnNjYWxlKSkpO1xuICAgICAgICB0aGlzLm1lc2gubWVzaC51c2VyRGF0YSA9IHtnYW1lT2JqZWN0OiB0aGlzfTtcbiAgICAgICAgdGhpcy5tb2RlbC5hbGl2ZS5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlQWxpdmUuYmluZCh0aGlzKSx0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVBbGl2ZSh0aGlzLm1vZGVsLmFsaXZlLnZhbHVlKVxuICAgICAgICB0aGlzLm1vZGVsLnBvc2l0aW9uLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVQb3NpdGlvbi5iaW5kKHRoaXMpLHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKHRoaXMubW9kZWwucG9zaXRpb24udmFsdWUpXG5cbiAgICAgICAgdGhpcy5tb2RlbC5wZXJmb3JtaW5nQWN0aW9uLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVQZXJmb3JtaW5nQWN0aW9uLmJpbmQodGhpcyksdGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwuZGVsYXlpbmcub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZURlbGF5aW5nLmJpbmQodGhpcyksdGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwuaGl0cG9pbnRzLm9uVXBkYXRlLnB1c2godGhpcy5ocENoYW5nZWQuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwubG9vdGVkLm9uVXBkYXRlLnB1c2godGhpcy5sb290ZWRDaGFuZ2VkLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLm9sZEhQID0gdGhpcy5tb2RlbC5oaXRwb2ludHMudmFsdWU7XG4gICAgfVxuXG4gICAgbG9vdGVkQ2hhbmdlZCh2YWw6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodmFsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBocENoYW5nZWQodmFsOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodmFsIDwgdGhpcy5vbGRIUClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KCAweGZmNjY2NiApO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FpdCgxMDApKS5vbkNvbXBsZXRlLnB1c2goKCkgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KCAweGZmZmZmZik7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbGRIUCA9IHZhbDtcbiAgICB9XG5cbiAgICB1cGRhdGVQZXJmb3JtaW5nQWN0aW9uKHZhbClcbiAgICB7XG4gICAgICAgIGlmICh2YWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLm1hdGVyaWFsLmNvbG9yLnNldEhleCggMHhmZmZmMDAgKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQoMzAwKSkub25Db21wbGV0ZS5wdXNoKHRoaXMubW9kZWwuYXBwbHlBY3Rpb25SZXN1bHQuYmluZCh0aGlzLm1vZGVsLCB2YWwpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5tYXRlcmlhbC5jb2xvci5zZXRIZXgoIDB4ZmZmZmZmICk7XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVEZWxheWluZyh2YWwpXG4gICAge1xuICAgICAgICBpZiAodmFsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5tYXRlcmlhbC5jb2xvci5zZXRIZXgoIDB4ZmZmZjAwICk7XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KDMwMCkpLm9uQ29tcGxldGUucHVzaCh0aGlzLm1vZGVsLmFwcGx5QWN0aW9uUmVzdWx0LmJpbmQodGhpcy5tb2RlbCksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLm1hdGVyaWFsLmNvbG9yLnNldEhleCggMHhmZmZmZmYgKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIHVwZGF0ZUFsaXZlKHZhbDogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICghKHZhbCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoID0gdGhpcy5zY2FsZU1lc2godGhpcy5nZXRBc3NldCh0aGlzLm1vZGVsLmRlYWRUZXh0dXJlK1wiI3RleFwiKSwgMC4yKTtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLnVzZXJEYXRhID0ge2dhbWVPYmplY3Q6IHRoaXN9O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbih0aGlzLm1vZGVsLnBvc2l0aW9uLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlUG9zaXRpb24odmFsOiBQb2ludDMpXG4gICAge1xuICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi54ID0gdmFsLng7XG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLnkgPSB2YWwueSAtICgxLXRoaXMubW9kZWwubnBjVHlwZS5zY2FsZSkvMjtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gucG9zaXRpb24ueiA9IHZhbC56O1xuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbWVyYSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubG9va0F0KHRoaXMuY2FtZXJhLnBvc2l0aW9uLngsIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLnksIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnopO1xuICAgICAgICAgICAgaWYgKHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLmRpc3RhbmNlVG8odGhpcy5jYW1lcmEucG9zaXRpb24pIDwgMC41KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghKHRoaXMub2Zmc2V0U2V0KSAmJiAodGhpcy5jZW50ZXJlZCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKHRoaXMubW9kZWwucG9zaXRpb24udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMC4xO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gdGhpcy5jYW1lcmEuZ2V0V29ybGREaXJlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gucG9zaXRpb24uYWRkKGRpcmVjdGlvbi5tdWx0aXBseVNjYWxhcigwLjMzKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLmFkZChkaXJlY3Rpb24uYXBwbHlBeGlzQW5nbGUobmV3IFRIUkVFLlZlY3RvcjMoMCwxLDApLCBNYXRoLlBJLzIpLm11bHRpcGx5U2NhbGFyKDMqb2Zmc2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0U2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLmRpc3RhbmNlVG8odGhpcy5jYW1lcmEucG9zaXRpb24pID49IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub2Zmc2V0U2V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbih0aGlzLm1vZGVsLnBvc2l0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vZmZzZXRTZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5tb2RlbC5hbGl2ZS5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLnBvc2l0aW9uLm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwucGVyZm9ybWluZ0FjdGlvbi5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmRlbGF5aW5nLm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwuaGl0cG9pbnRzLm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwubG9vdGVkLm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgfVxuXG59IiwiaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vbW9kZWwvR2FtZU1vZGVsXCI7XG5pbXBvcnQgV3JhcHBpbmdWYWx1ZVR3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dyYXBwaW5nVmFsdWVUd2VlblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuXCI7XG5pbXBvcnQgVGhyZWVCdWZmZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlQnVmZmVyXCI7XG5pbXBvcnQgV2FpdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XYWl0XCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmltcG9ydCBQbGF5ZXJNb2RlbCwgeyBGYWNpbmcgfSBmcm9tIFwiLi4vbW9kZWwvUGxheWVyTW9kZWxcIjtcbmltcG9ydCBQb2ludDNUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9Qb2ludDNUd2VlblwiO1xuaW1wb3J0IFdyYXBwaW5nUG9pbnQzVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV3JhcHBpbmdQb2ludDNUd2VlblwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByaXZhdGUgdGhyZWVCdWZmZXI7ICAgXG4gICAgcHJpdmF0ZSBwbGF5ZXI6IFBsYXllck1vZGVsO1xuICAgIHByaXZhdGUgX21vdmVBbmltOiBQb2ludDNUd2VlbjtcbiAgICBwcml2YXRlIF90dXJuQW5pbTogUG9pbnQzVHdlZW47XG4gICAgcHJpdmF0ZSBwbGF5ZXJMaWdodDtcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGdldCBhbmltYXRpbmcoKTogYm9vbGVhbiB7IHJldHVybiAodGhpcy5fdHVybkFuaW0gJiYgIXRoaXMuX3R1cm5BbmltLmNvbXBsZXRlKSB8fCAodGhpcy5fbW92ZUFuaW0gJiYgIXRoaXMuX21vdmVBbmltLmNvbXBsZXRlKSA7IH1cblxuICAgIGNvbnN0cnVjdG9yKHRocmVlQnVmZmVyOiBUaHJlZUJ1ZmZlciwgZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy50aHJlZUJ1ZmZlciA9IHRocmVlQnVmZmVyO1xuICAgICAgICB0aGlzLnBsYXllciA9IGdhbWVNb2RlbC5wbGF5ZXI7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbk1vdmUucHVzaCh0aGlzLnVwZGF0ZVBvc2l0aW9uLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4ucHVzaCh0aGlzLnVwZGF0ZVJvdGF0aW9uLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLnBsYXllci5vblVwZGF0ZS5wdXNoKCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5yb3RhdGlvbi54ID0gdGhpcy5wbGF5ZXIucm90YXRpb24ueDtcbiAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnJvdGF0aW9uLnkgPSB0aGlzLnBsYXllci5yb3RhdGlvbi55O1xuICAgICAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEucm90YXRpb24ueiA9IHRoaXMucGxheWVyLnJvdGF0aW9uLno7XG5cbiAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnBvc2l0aW9uLnggPSB0aGlzLnBsYXllci5maW5lUG9zaXRpb24ueDtcbiAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnBvc2l0aW9uLnkgPSB0aGlzLnBsYXllci5maW5lUG9zaXRpb24ueTtcbiAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnBvc2l0aW9uLnogPSB0aGlzLnBsYXllci5maW5lUG9zaXRpb24uejtcblxuICAgICAgICAgICAgdGhpcy50b2dnbGVMaWdodCh0aGlzLnBsYXllci5zaG93VG9yY2hMaWdodClcbiAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIucmVxdWVzdERyYXcoKTtcbiAgICAgICAgfSkuYmluZCh0aGlzKSwgdGhpcyk7ICAgICAgICBcbiAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbihmYWxzZSk7XG4gICAgICAgIHRoaXMudXBkYXRlUm90YXRpb24oZmFsc2UpO1xuICAgIH1cblxuICAgIHRvZ2dsZUxpZ2h0KHNob3c6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoc2hvdylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBsYXllckxpZ2h0KVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUub3V0c2lkZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZmZmZmLCAwLjMzLCA1LjUsIDEpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZmZmZmLCAxLCA1LjUsIDEpO1xuICAgICAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEuYWRkKHRoaXMucGxheWVyTGlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucGxheWVyTGlnaHQpXG4gICAgICAgICAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEucmVtb3ZlKHRoaXMucGxheWVyTGlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlUG9zaXRpb24oYW5pbWF0ZT86IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoYW5pbWF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgYW5pbWF0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NldFBsYXllclBvc2l0aW9uKHRoaXMucGxheWVyLmdyaWRQb3NpdGlvbldpdGhPZmZzZXQsIGFuaW1hdGUsIDUwMClcbiAgICB9XG5cbiAgICB1cGRhdGVSb3RhdGlvbihhbmltYXRlPzogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmIChhbmltYXRlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBhbmltYXRlID0gdHJ1ZTtcbiAgICAgICAgbGV0IHRpbWUgPSAzMDA7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMuX3NldFBsYXllclJvdGF0aW9uKG5ldyBQb2ludDMoMCwgMCwgMCksIGFuaW1hdGUsIHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCAtTWF0aC5QSS80LCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCAtTWF0aC5QSS8yLCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLl9zZXRQbGF5ZXJSb3RhdGlvbihuZXcgUG9pbnQzKDAsIC0zKihNYXRoLlBJLzQpLCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMuX3NldFBsYXllclJvdGF0aW9uKG5ldyBQb2ludDMoMCwgTWF0aC5QSSwgMCksIGFuaW1hdGUsIHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCAzKihNYXRoLlBJLzQpLCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCBNYXRoLlBJLzIsIDApLCBhbmltYXRlLCB0aW1lKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMuX3NldFBsYXllclJvdGF0aW9uKG5ldyBQb2ludDMoMCwgTWF0aC5QSS80LCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc2V0UGxheWVyUG9zaXRpb24ocG9zaXRpb246IFBvaW50MywgYW5pbWF0ZTogYm9vbGVhbiwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdmVBbmltKVxuICAgICAgICAgICAgdGhpcy5fbW92ZUFuaW0ucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgaWYgKGFuaW1hdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmNhbk1vdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVBbmltID0gdGhpcy5hZGRDaGlsZChuZXcgUG9pbnQzVHdlZW4odGhpcy5wbGF5ZXIsIFwiZmluZVBvc2l0aW9uXCIsIG5ldyBQb2ludDMocG9zaXRpb24ueCxwb3NpdGlvbi55LHBvc2l0aW9uLnopLCB0aW1lKSk7XG4gICAgICAgICAgICB0aGlzLl9tb3ZlQW5pbS5vbkNvbXBsZXRlLnB1c2godGhpcy5fdXBkYXRlQW5pbWF0aW5nLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FpdCh0aW1lLzIpKS5vbkNvbXBsZXRlLnB1c2goKCkgPT4gdGhpcy5wbGF5ZXIuY2FuTW92ZSA9IHRydWUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmZpbmVQb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLl91cGRhdGVBbmltYXRpbmcoKTtcbiAgICB9XG4gICAgXG4gICAgcHJpdmF0ZSBfc2V0UGxheWVyUm90YXRpb24ocm90YXRpb246IFBvaW50MywgYW5pbWF0ZTogYm9vbGVhbiwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3R1cm5BbmltKVxuICAgICAgICAgICAgdGhpcy5fdHVybkFuaW0ucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgdGhpcy5fdHVybkFuaW0gPSBudWxsO1xuICAgICAgICBpZiAoYW5pbWF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2FuVHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdHVybkFuaW0gPSB0aGlzLmFkZENoaWxkKG5ldyBXcmFwcGluZ1BvaW50M1R3ZWVuKHRoaXMucGxheWVyLCBcInJvdGF0aW9uXCIsIG5ldyBQb2ludDMocm90YXRpb24ueCxyb3RhdGlvbi55LHJvdGF0aW9uLnopLCB0aW1lLCBuZXcgUG9pbnQzKE1hdGguUEkqMixNYXRoLlBJKjIsTWF0aC5QSSoyKSkpO1xuICAgICAgICAgICAgdGhpcy5fdHVybkFuaW0ub25Db21wbGV0ZS5wdXNoKHRoaXMuX3VwZGF0ZUFuaW1hdGluZy5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQodGltZS8yKSkub25Db21wbGV0ZS5wdXNoKCgpID0+IHRoaXMucGxheWVyLmNhblR1cm4gPSB0cnVlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnBsYXllci5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICB0aGlzLl91cGRhdGVBbmltYXRpbmcoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVBbmltYXRpbmcoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuYW5pbWF0aW5nID0gdGhpcy5hbmltYXRpbmc7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLl9tb3ZlQW5pbSlcbiAgICAgICAgICAgIHRoaXMuX21vdmVBbmltLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgIGlmICh0aGlzLl90dXJuQW5pbSlcbiAgICAgICAgICAgIHRoaXMuX3R1cm5BbmltLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgIHRoaXMucGxheWVyLm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uTW92ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4udW5yZWdpc3Rlcih0aGlzKTtcbiAgICB9XG59IiwiaW1wb3J0IFRocmVlQnVmZmVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZUJ1ZmZlclwiO1xuaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL0xldmVsTW9kZWxcIjtcbmltcG9ydCB7IEZhY2luZyB9IGZyb20gXCIuLi9tb2RlbC9QbGF5ZXJNb2RlbFwiO1xuaW1wb3J0IFdvcmxkQ2VsbCBmcm9tIFwiLi9Xb3JsZENlbGxcIjtcbmltcG9ydCBXb3JsZE9iamVjdCBmcm9tIFwiLi9Xb3JsZE9iamVjdFwiO1xuaW1wb3J0IE5QQyBmcm9tIFwiLi9OUENcIjtcbmltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvTlBDTW9kZWxcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4vUGxheWVyXCI7XG5pbXBvcnQgU2t5Ym94IGZyb20gXCIuL1NreWJveFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vbW9kZWwvR2FtZU1vZGVsXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgRG9vciBmcm9tIFwiLi9Eb29yXCI7XG5pbXBvcnQgV2FsbCBmcm9tIFwiLi9XYWxsXCI7XG5pbXBvcnQgVGhyZWVNZXNoIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZU1lc2hcIjtcbmltcG9ydCBXYWl0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXRcIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NlbmUgZXh0ZW5kcyBUaHJlZUJ1ZmZlclxue1xuICAgIHByaXZhdGUgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgcHJpdmF0ZSBjZWxsczogV29ybGRDZWxsW107XG4gICAgcHJpdmF0ZSBkb29yczogRG9vcltdO1xuICAgIHByaXZhdGUgbnBjczogTlBDW107XG4gICAgcHJpdmF0ZSBvYmplY3RzOiBXb3JsZE9iamVjdFtdO1xuICAgIHBsYXllcjogUGxheWVyO1xuICAgIHByaXZhdGUgc2t5Ym94OiBTa3lib3g7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpXG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBzdXBlci5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5ucGNzVG9BY3Qub25VcGRhdGUucHVzaCh0aGlzLl9ydW5OUENzLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLmNyZWF0ZUxldmVsKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlTGV2ZWwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKCAweDAwMDBmZiApO1xuXG4gICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUub3V0c2lkZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGZvZ0NvbG9yID0gbmV3IFRIUkVFLkNvbG9yKDB4ZmZmZmZmKTtcbiAgICAgICAgICAgIC8qdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gZm9nQ29sb3I7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmZvZyA9IG5ldyBUSFJFRS5Gb2coZm9nQ29sb3IsIDAuMDAyNSwgNyk7Ki9cbiAgICAgICAgICAgIGxldCBsaWdodCA9IG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoMHhmZmZmZmYsIDEpO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQobGlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKG5ldyBUSFJFRS5BbWJpZW50TGlnaHQoIDB4ZmZmZmZmLCAwLjA1ICkpO1xuICAgIFxuICAgICAgICB0aGlzLmNlbGxzID0gdGhpcy5fZ2V0V29ybGRDZWxscygpO1xuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goYyA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGMpO1xuICAgICAgICAgICAgICAgIGMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRvb3JzID0gdGhpcy5fZ2V0RG9vcnMoKTtcbiAgICAgICAgdGhpcy5kb29ycy5mb3JFYWNoKGQgPT4gdGhpcy5hZGRDaGlsZChkKSk7XG5cbiAgICAgICAgdGhpcy5vYmplY3RzID0gdGhpcy5fZ2V0V29ybGRPYmplY3RzKCk7XG4gICAgICAgIHRoaXMub2JqZWN0cy5mb3JFYWNoKG8gPT4gdGhpcy5hZGRDaGlsZChvKSk7XG5cbiAgICAgICAgdGhpcy5ucGNzID0gdGhpcy5fZ2V0TlBDcygpO1xuICAgICAgICB0aGlzLm5wY3MuZm9yRWFjaChuID0+IHRoaXMuYWRkQ2hpbGQobikpO1xuICAgICAgICB0aGlzLm5wY3MuZm9yRWFjaChuID0+IG4uY2FtZXJhID0gdGhpcy5jYW1lcmEpO1xuXG4gICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuc2t5Ym94SUQgIT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNreWJveERhdGEgPSB0aGlzLmdhbWVNb2RlbC5kYXRhLnNreWJveGVzW3RoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5za3lib3hJRF07XG4gICAgICAgICAgICB0aGlzLnNreWJveCA9IHRoaXMuYWRkQ2hpbGQobmV3IFNreWJveChza3lib3hEYXRhKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMuYWRkQ2hpbGQobmV3IFBsYXllcih0aGlzLCB0aGlzLmdhbWVNb2RlbCkpO1xuICAgICAgICBpZiAoISh0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUub3V0c2lkZSkpXG4gICAgICAgICAgICB0aGlzLnBsYXllci50b2dnbGVMaWdodCh0cnVlKTtcblxuICAgICAgICB0aGlzLl9ydW5OUENzKCk7XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcblxuICAgICAgICAvL3RoaXMuYWRkQ2hpbGQobmV3IFdhaXQoMTAwKSkub25Db21wbGV0ZS5wdXNoKHRoaXMubWVyZ2VXYWxsR2VvbWV0cnkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgbWVyZ2VXYWxsR2VvbWV0cnkoKVxuICAgIHtcbiAgICAgICAgdmFyIG1lcmdlR2VvbSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgICAgICBsZXQgbWF0ZXJpYWxMaXN0ID0gW107XG5cbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goKGM6IFdvcmxkQ2VsbCkgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogV2FsbCkgPT4gXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoY2hpbGQubWVzaCkgJiYgKGNoaWxkLm1vZGVsLmNyZWF0ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VHZW9tLm1lcmdlKGNoaWxkLm1lc2gubWVzaC5nZW9tZXRyeSwgY2hpbGQubWVzaC5tZXNoLm1hdHJpeCwgaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQubWVzaC5tZXNoLnBhcmVudC5yZW1vdmUoY2hpbGQubWVzaC5tZXNoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbExpc3QucHVzaChjaGlsZC5tZXNoLm1lc2gubWF0ZXJpYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjOiBXb3JsZENlbGwpID0+IGMucmVxdWVzdFJlbW92YWwoKSk7XG4gICAgICAgIHRoaXMuY2VsbHMgPSBbXTtcbiAgICAgICAgbWVyZ2VHZW9tLm1lcmdlVmVydGljZXMoKTtcbiAgICAgICAgbGV0IG1lc2ggPSBuZXcgVEhSRUUuTWVzaChtZXJnZUdlb20sIG1hdGVyaWFsTGlzdCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFRocmVlTWVzaChtZXNoKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0V29ybGRDZWxscygpOiBXb3JsZENlbGxbXVxuICAgIHtcbiAgICAgICAgbGV0IGxldmVsTW9kZWw6IExldmVsTW9kZWwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWU7XG4gICAgICAgIGxldCBjZWxscyA9IFtdO1xuICAgICAgICBsZXZlbE1vZGVsLmNlbGxzLmZvckVhY2goKHJvdyx4KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJvdy5mb3JFYWNoKChsYXllcix5KSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllci5mb3JFYWNoKChjb2wseikgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxscy5wdXNoKG5ldyBXb3JsZENlbGwoeCwgeSwgeiwgY29sKSkpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2VsbHM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZ2V0V29ybGRPYmplY3RzKCk6IFdvcmxkT2JqZWN0W11cbiAgICB7XG4gICAgICAgIGxldCBsZXZlbE1vZGVsOiBMZXZlbE1vZGVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlO1xuICAgICAgICBsZXQgb2JqZWN0cyA9IFtdO1xuICAgICAgICBsZXZlbE1vZGVsLm9iamVjdHMuZm9yRWFjaCgobyx4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBvYmplY3RzLnB1c2gobmV3IFdvcmxkT2JqZWN0KG8pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvYmplY3RzO1xuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBfZ2V0RG9vcnMoKTogRG9vcltdXG4gICAge1xuICAgICAgICBsZXQgbGV2ZWxNb2RlbDogTGV2ZWxNb2RlbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZTtcbiAgICAgICAgbGV0IGRvb3JzID0gW107XG4gICAgICAgIGxldmVsTW9kZWwuZG9vcnMuZm9yRWFjaCgoZCx4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBkb29ycy5wdXNoKG5ldyBEb29yKGQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkb29ycztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXROUENzKCk6IE5QQ1tdXG4gICAge1xuICAgICAgICBsZXQgbGV2ZWxNb2RlbDogTGV2ZWxNb2RlbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZTtcbiAgICAgICAgbGV0IG5wY3MgPSBbXTtcbiAgICAgICAgbGV2ZWxNb2RlbC5ucGNzLmZvckVhY2goKG5wYyx4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBucGNzLnB1c2gobmV3IE5QQyhucGMpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBucGNzO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3J1bk5QQ3MoKVxuICAgIHtcbiAgICAgICAgbGV0IHRvQWN0ID0gW107XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUubnBjc1RvQWN0LnZhbHVlLmZvckVhY2gobnBjID0+IHRvQWN0LnB1c2gobnBjKSk7XG4gICAgICAgIHRvQWN0LmZvckVhY2goKG5wYzogTlBDTW9kZWwpID0+IG5wYy5hY3QoKSk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLm5wY3NUb0FjdC5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFRocmVlTWVzaCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVNZXNoXCI7XG5pbXBvcnQgeyBTa3lib3hEYXRhIH0gZnJvbSBcIi4uL2RhdGFcIjtcbmltcG9ydCBMb2FkZXIgZnJvbSBcImVuZ2luZS9pby9Mb2FkZXJcIjtcbmltcG9ydCBBc3NldCBmcm9tIFwiZW5naW5lL0Fzc2V0XCI7XG5cbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2t5Ym94IGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHNreWJveERhdGE6IFNreWJveERhdGE7XG4gICAgcHJvdGVjdGVkIF9sb2FkZWRUZXh0dXJlczogbnVtYmVyID0gMDtcbiAgICBsb2FkZXI6IExvYWRlcjtcblxuICAgIGNvbnN0cnVjdG9yKHNreWJveERhdGE6IFNreWJveERhdGEpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy5za3lib3hEYXRhID0gc2t5Ym94RGF0YTtcbiAgICB9XG5cbiAgICBsb2FkKHtsb2FkZXI6IGxvYWRlcn0gOiB7IGxvYWRlcjogTG9hZGVyIH0gKVxuICAgIHtcbiAgICAgICAgbGV0IGEgPSBuZXcgQXNzZXQoXCIjdGV4dHVyZUFycmF5XCIsIG51bGwsIGZhbHNlKTtcbiAgICAgICAgbGV0IHhQb3MgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5za3lib3hEYXRhLnhQb3MsIHRoaXMuY2hlY2tUZXh0dXJlTG9hZGVkLmJpbmQodGhpcyxhKSk7XG4gICAgICAgIGxldCB4TmVnID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMuc2t5Ym94RGF0YS54TmVnLCB0aGlzLmNoZWNrVGV4dHVyZUxvYWRlZC5iaW5kKHRoaXMsYSkpO1xuICAgICAgICBsZXQgeVBvcyA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLnNreWJveERhdGEueVBvcywgdGhpcy5jaGVja1RleHR1cmVMb2FkZWQuYmluZCh0aGlzLGEpKTtcbiAgICAgICAgbGV0IHlOZWcgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5za3lib3hEYXRhLnlOZWcsIHRoaXMuY2hlY2tUZXh0dXJlTG9hZGVkLmJpbmQodGhpcyxhKSk7XG4gICAgICAgIGxldCB6UG9zID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMuc2t5Ym94RGF0YS56UG9zLCB0aGlzLmNoZWNrVGV4dHVyZUxvYWRlZC5iaW5kKHRoaXMsYSkpO1xuICAgICAgICBsZXQgek5lZyA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLnNreWJveERhdGEuek5lZywgdGhpcy5jaGVja1RleHR1cmVMb2FkZWQuYmluZCh0aGlzLGEpKTtcbiAgICAgICAgYS5zZXQoW3hQb3MseE5lZyx5UG9zLHlOZWcselBvcyx6TmVnXSk7XG4gICAgICAgIHRoaXMuYWRkQXNzZXQoYSk7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbG9hZGVyO1xuICAgICAgICB0aGlzLmFkZEdlb21Bc3NldChsb2FkZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBhZGRHZW9tQXNzZXQobG9hZGVyKVxuICAgIHtcbiAgICAgICAgbGV0IGdlb21Bc3NldCA9IGxvYWRlci5nZXRTaGFyZWRBc3NldChcIiNza3lib3hHZW9tXCIpXG4gICAgICAgIGlmICghKGdlb21Bc3NldC5sb2FkZWQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBnZW9tQXNzZXQuc2V0KG5ldyBUSFJFRS5DdWJlR2VvbWV0cnkoIDEwMDAsIDEwMDAsIDEwMDAsIDEsIDEsIDEgKSk7XG4gICAgICAgICAgICBnZW9tQXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZEFzc2V0KGdlb21Bc3NldCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBjaGVja1RleHR1cmVMb2FkZWQoYTpBc3NldDxhbnlbXT4pXG4gICAge1xuICAgICAgICB0aGlzLl9sb2FkZWRUZXh0dXJlcysrO1xuICAgICAgICBpZiAodGhpcy5fbG9hZGVkVGV4dHVyZXMgPT09IDYpXG4gICAgICAgICAgICBhLmxvYWRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCB0ZXh0dXJlcyA9IHRoaXMuZ2V0QXNzZXQoXCIjdGV4dHVyZUFycmF5XCIpO1xuXG4gICAgICAgIHZhciBtYXRlcmlhbEFycmF5ID0gW107XG4gICAgICAgIG1hdGVyaWFsQXJyYXkucHVzaChuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB0ZXh0dXJlc1swXSwgZm9nOiBmYWxzZSB9KSk7XG4gICAgICAgIG1hdGVyaWFsQXJyYXkucHVzaChuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB0ZXh0dXJlc1sxXSwgZm9nOiBmYWxzZSB9KSk7XG4gICAgICAgIG1hdGVyaWFsQXJyYXkucHVzaChuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB0ZXh0dXJlc1syXSwgZm9nOiBmYWxzZSB9KSk7XG4gICAgICAgIG1hdGVyaWFsQXJyYXkucHVzaChuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB0ZXh0dXJlc1szXSwgZm9nOiBmYWxzZSB9KSk7XG4gICAgICAgIG1hdGVyaWFsQXJyYXkucHVzaChuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB0ZXh0dXJlc1s0XSwgZm9nOiBmYWxzZSB9KSk7XG4gICAgICAgIG1hdGVyaWFsQXJyYXkucHVzaChuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoIHsgbWFwOiB0ZXh0dXJlc1s1XSwgZm9nOiBmYWxzZSB9KSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspXG4gICAgICAgICAgIG1hdGVyaWFsQXJyYXlbaV0uc2lkZSA9IFRIUkVFLkJhY2tTaWRlO1xuICAgICAgICB2YXIgc2t5Ym94R2VvbSA9IHRoaXMubG9hZGVyLmdldFNoYXJlZEFzc2V0KFwiI3NreWJveEdlb21cIikuYXNzZXQ7XG4gICAgICAgIHZhciBza3lib3ggPSBuZXcgVEhSRUUuTWVzaCggc2t5Ym94R2VvbSwgbWF0ZXJpYWxBcnJheSApO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBUaHJlZU1lc2goc2t5Ym94KSk7XG4gICAgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFdhbGxNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvV2FsbE1vZGVsXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmltcG9ydCBUaHJlZU1lc2ggZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaFwiO1xuaW1wb3J0IEFzc2V0IGZyb20gXCJlbmdpbmUvQXNzZXRcIjtcbmltcG9ydCBMb2FkZXIgZnJvbSBcImVuZ2luZS9pby9Mb2FkZXJcIjtcbmltcG9ydCBXYWl0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXRcIjtcbmltcG9ydCBHZW9tTG9hZGVyIGZyb20gXCIuL0dlb21Mb2FkZXJcIjtcbmltcG9ydCBNYXRlcmlhbExvYWRlciBmcm9tIFwiLi9NYXRlcmlhbExvYWRlclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIG1vZGVsOiBXYWxsTW9kZWw7XG4gICAgcHJvdGVjdGVkIF9wb3NpdGlvbjogUG9pbnQzO1xuICAgIHByb3RlY3RlZCBfcm90YXRpb246IFBvaW50MztcbiAgICBtZXNoOiBUaHJlZU1lc2g7XG4gICAgbG9hZGVyOiBMb2FkZXI7XG4gICAgZ2VvbTogQXNzZXQ8YW55PjsgLy9Bc3NldDxUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5PlxuICAgIG1hdGVyaWFsOiBBc3NldDxhbnk+O1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHdhbGxUeXBlOiBXYWxsTW9kZWwsIHBvc2l0aW9uOiBQb2ludDMsIHJvdGF0aW9uOiBQb2ludDMpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IHdhbGxUeXBlO1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgIH1cblxuICAgIGxvYWQoe2xvYWRlcjogbG9hZGVyfSA6IHtsb2FkZXI6IExvYWRlcn0pOiBib29sZWFuXG4gICAge1xuICAgICAgICB0aGlzLmxvYWRlciA9IGxvYWRlcjtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwuZGV0YWlscylcbiAgICAgICAgICAgIHRoaXMuZ2VvbSA9IHRoaXMuYWRkQXNzZXQodGhpcy5jcmVhdGVTbG9wZWRXYWxsR2VvbSh0aGlzLm1vZGVsKSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZ2VvbSA9IHRoaXMuYWRkQXNzZXQoR2VvbUxvYWRlci5nZXRTaGFyZWRQbGFuZUdlb20obG9hZGVyKSk7XG4gICAgICAgIHRoaXMubWF0ZXJpYWwgPSB0aGlzLmFkZEFzc2V0KE1hdGVyaWFsTG9hZGVyLmdldFNoYXJlZE1hdGVyaWFsQXNzZXQobG9hZGVyLCB0aGlzLm1vZGVsLmZpbGVuYW1lLCB0aGlzLm1vZGVsLm5vcm1hbE1hcCwgdGhpcy5tb2RlbC5hbHBoYU1hcCwgbmV3IFBvaW50KHRoaXMubW9kZWwud2FsbERhdGEudmFsdWUucmVwZWF0WzBdLHRoaXMubW9kZWwud2FsbERhdGEudmFsdWUucmVwZWF0WzFdKSwgdGhpcy5tb2RlbC53YWxsRGF0YS52YWx1ZS50cmFuc3BhcmVudCwgZmFsc2UpKTtcbiAgICAgICAgcmV0dXJuICgodGhpcy5tYXRlcmlhbCAhPT0gbnVsbCkgJiYgKHRoaXMuZ2VvbSAhPT0gbnVsbCkpO1xuICAgIH1cblxuICAgIC8vIFdhbGxzIGFyZSBkZWFjdGl2YXRlZCBhcyBzb29uIGFzIHRoZXkgYXJlIGNyZWF0ZWQsIHNvIGRvbid0IGV4cGVjdCB0aGVtIG9yIGEgY2hpbGQgdG8gdXBkYXRlIVxuICAgIC8vIHVwZGF0ZSgpIHsgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMubWVzaCA9IHRoaXMuYWRkQ2hpbGQodGhpcy5jcmVhdGVNZXNoKCkpO1xuICAgICAgICB0aGlzLm1lc2gubWVzaC51c2VyRGF0YSA9IHtnYW1lT2JqZWN0OiB0aGlzfTtcbiAgICAgICAgdGhpcy5tb2RlbC5oaWRkZW4ub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZVdhbGwuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwud2FsbERhdGEub25VcGRhdGUucHVzaCh0aGlzLmNoYW5nZVdhbGxUeXBlLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVdhbGwoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVXYWxsKClcbiAgICB7XG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnZpc2libGUgPSAhdGhpcy5tb2RlbC5oaWRkZW4udmFsdWU7XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VXYWxsVHlwZSgpXG4gICAge1xuICAgICAgICBsZXQgbWF0QXNzZXQgPSB0aGlzLmFkZEFzc2V0KE1hdGVyaWFsTG9hZGVyLmdldFNoYXJlZE1hdGVyaWFsQXNzZXQodGhpcy5sb2FkZXIsIHRoaXMubW9kZWwuZmlsZW5hbWUsIHRoaXMubW9kZWwubm9ybWFsTWFwLCB0aGlzLm1vZGVsLmFscGhhTWFwLCBuZXcgUG9pbnQodGhpcy5tb2RlbC53YWxsRGF0YS52YWx1ZS5yZXBlYXRbMF0sdGhpcy5tb2RlbC53YWxsRGF0YS52YWx1ZS5yZXBlYXRbMV0pLCB0aGlzLm1vZGVsLndhbGxEYXRhLnZhbHVlLnRyYW5zcGFyZW50LCBmYWxzZSkpO1xuXG4gICAgICAgIGlmICgobWF0QXNzZXQpICYmIChtYXRBc3NldC5sb2FkZWQpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1hdGVyaWFsID0gbWF0QXNzZXQ7XG4gICAgICAgICAgICBpZiAoISh0aGlzLm1lc2gpKVxuICAgICAgICAgICAgICAgIHRoaXMubWVzaCA9IHRoaXMuYWRkQ2hpbGQodGhpcy5jcmVhdGVNZXNoKCkpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLm1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbC5hc3NldDtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KDEwMCkpLm9uQ29tcGxldGUucHVzaCgoKCkgPT4gdGhpcy5jaGFuZ2VXYWxsVHlwZSgpKS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNZXNoKCk6IFRocmVlTWVzaFxuICAgIHtcbiAgICAgICAgbGV0IHdhbGwgPSBuZXcgVGhyZWVNZXNoKHRoaXMuZ2VvbS5hc3NldCwgdGhpcy5tYXRlcmlhbC5hc3NldCk7XG4gICAgICAgIHdhbGwubWVzaC5wb3NpdGlvbi54ID0gdGhpcy5fcG9zaXRpb24ueDtcbiAgICAgICAgd2FsbC5tZXNoLnBvc2l0aW9uLnkgPSB0aGlzLl9wb3NpdGlvbi55O1xuICAgICAgICB3YWxsLm1lc2gucG9zaXRpb24ueiA9IHRoaXMuX3Bvc2l0aW9uLno7XG4gICAgICAgIHdhbGwubWVzaC5yb3RhdGlvbi54ID0gdGhpcy5fcm90YXRpb24ueDtcbiAgICAgICAgd2FsbC5tZXNoLnJvdGF0aW9uLnkgPSB0aGlzLl9yb3RhdGlvbi55O1xuICAgICAgICB3YWxsLm1lc2gucm90YXRpb24ueiA9IHRoaXMuX3JvdGF0aW9uLno7XG4gICAgICAgIHJldHVybiB3YWxsO1xuICAgIH1cblxuICAgIGNyZWF0ZVNsb3BlZFdhbGxHZW9tKHdhbGxNb2RlbDogV2FsbE1vZGVsKTogQXNzZXQ8YW55PlxuICAgIHtcbiAgICAgICAgdmFyIGdlb20gPSBuZXcgVEhSRUUuR2VvbWV0cnkoKTtcbiAgICAgICAgICAgICAgIFxuICAgICAgICBnZW9tLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoLTAuNSwwLjUsd2FsbE1vZGVsLmRldGFpbHMubncpKTtcbiAgICAgICAgZ2VvbS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKDAuNSwwLjUsd2FsbE1vZGVsLmRldGFpbHMubmUpKTtcbiAgICAgICAgZ2VvbS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKDAuNSwtMC41LHdhbGxNb2RlbC5kZXRhaWxzLnNlKSk7XG4gICAgICAgIGdlb20udmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMygtMC41LC0wLjUsd2FsbE1vZGVsLmRldGFpbHMuc3cpKTtcbiAgICAgICAgZ2VvbS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKDAsMCx3YWxsTW9kZWwuZGV0YWlscy5taWQpKTtcblxuICAgICAgICBnZW9tLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKDAsNCwxKSk7XG4gICAgICAgIGdlb20uZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoMiwxLDQpKTtcbiAgICAgICAgZ2VvbS5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMygyLDQsMykpO1xuICAgICAgICBnZW9tLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKDMsNCwwKSk7XG5cbiAgICAgICAgbGV0IHV2ID0gZ2VvbS5mYWNlVmVydGV4VXZzWzBdO1xuICAgICAgICB1di5wdXNoKFtdLFtdLFtdLFtdKTtcbiAgICAgICAgdXZbMF1bMF0gPSBuZXcgVEhSRUUuVmVjdG9yMigwLDApO1xuICAgICAgICB1dlswXVsxXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAuNSwwLjUpO1xuICAgICAgICB1dlswXVsyXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDEsMCk7XG4gICAgICAgIHV2WzFdWzBdID0gbmV3IFRIUkVFLlZlY3RvcjIoMSwxKTtcbiAgICAgICAgdXZbMV1bMV0gPSBuZXcgVEhSRUUuVmVjdG9yMigxLDApO1xuICAgICAgICB1dlsxXVsyXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAuNSwwLjUpO1xuICAgICAgICB1dlsyXVswXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDEsMSk7XG4gICAgICAgIHV2WzJdWzFdID0gbmV3IFRIUkVFLlZlY3RvcjIoMC41LDAuNSk7XG4gICAgICAgIHV2WzJdWzJdID0gbmV3IFRIUkVFLlZlY3RvcjIoMCwxKTtcbiAgICAgICAgdXZbM11bMF0gPSBuZXcgVEhSRUUuVmVjdG9yMigwLDEpO1xuICAgICAgICB1dlszXVsxXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAuNSwwLjUpO1xuICAgICAgICB1dlszXVsyXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAsMCk7XG4gICAgICAgIGdlb20uY29tcHV0ZUZhY2VOb3JtYWxzKCk7XG4gICAgICAgIHJldHVybiBuZXcgQXNzZXQoXCIjc2xvcGVkR2VvbVwiLCBnZW9tLCB0cnVlKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMubW9kZWwuaGlkZGVuLm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWwud2FsbERhdGEub25VcGRhdGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICB9XG59IiwiaW1wb3J0IFRocmVlTWVzaCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVNZXNoXCI7XG5pbXBvcnQgQ2VsbE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9DZWxsTW9kZWxcIjtcbmltcG9ydCBXYWxsTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL1dhbGxNb2RlbFwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgV2FsbCBmcm9tIFwiLi9XYWxsXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGRDZWxsIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCB4OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIHk6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgejogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBtb2RlbDogQ2VsbE1vZGVsO1xuICAgIGdyb3VwO1xuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLHk6IG51bWJlcix6OiBudW1iZXIsIG1vZGVsOiBDZWxsTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgdGhpcy55ID0geTtcbiAgICAgICAgdGhpcy56ID0gejtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmdyb3VwID0gbmV3IFRIUkVFLkdyb3VwKCk7XG4gICAgICAgIHRoaXMuZ3JvdXAucG9zaXRpb24uc2V0KG5ldyBUSFJFRS5WZWN0b3IzKHRoaXMueCx0aGlzLnksdGhpcy56KSk7XG4gICAgICAgIHRoaXMuY3JlYXRlV2FsbHMoKTtcbiAgICB9XG5cbiAgICAvKmludGVyZmFjZXMoaW50ZXJmYWNlcylcbiAgICB7XG4gICAgICAgIC8vaW50ZXJmYWNlc1tcInRocmVlUGFyZW50XCJdID0gdGhpcy5ncm91cDtcbiAgICAgICAgcmV0dXJuIGludGVyZmFjZXM7XG4gICAgfSovXG5cbiAgICBjcmVhdGVXYWxscygpXG4gICAge1xuICAgICAgICAvL2lmICh0aGlzLm1vZGVsLndhbGxzWzBdLmNyZWF0ZSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhbGwodGhpcy5tb2RlbC53YWxsc1swXSwgbmV3IFBvaW50Myh0aGlzLnggKyAwLCB0aGlzLnkgKyAwLCB0aGlzLnogLSAwLjUpLCBuZXcgUG9pbnQzKDAsIDAsIDApKSk7XG4gICAgICAgIC8vaWYgKHRoaXMubW9kZWwud2FsbHNbMV0uY3JlYXRlKVxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FsbCh0aGlzLm1vZGVsLndhbGxzWzFdLCBuZXcgUG9pbnQzKHRoaXMueCArIDAuNSwgdGhpcy55ICsgMCwgdGhpcy56ICsgMCksIG5ldyBQb2ludDMoMCwgLU1hdGguUEkvMiwgMCkpKTtcbiAgICAgICAvLyBpZiAodGhpcy5tb2RlbC53YWxsc1syXS5jcmVhdGUpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWxsKHRoaXMubW9kZWwud2FsbHNbMl0sIG5ldyBQb2ludDModGhpcy54ICsgMCwgdGhpcy55ICsgMCwgdGhpcy56ICsgMC41KSwgbmV3IFBvaW50MygwLCBNYXRoLlBJLCAwKSkpO1xuICAgICAgIC8vIGlmICh0aGlzLm1vZGVsLndhbGxzWzNdLmNyZWF0ZSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhbGwodGhpcy5tb2RlbC53YWxsc1szXSwgbmV3IFBvaW50Myh0aGlzLnggLSAwLjUsIHRoaXMueSArIDAsIHRoaXMueiArIDApLCBuZXcgUG9pbnQzKDAsIE1hdGguUEkvMiwwICkpKTtcbiAgICAgICAvLyBpZiAodGhpcy5tb2RlbC53YWxsc1s0XS5jcmVhdGUpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWxsKHRoaXMubW9kZWwud2FsbHNbNF0sIG5ldyBQb2ludDModGhpcy54ICsgMCwgdGhpcy55IC0gMC41LCB0aGlzLnogKyAwKSwgbmV3IFBvaW50MygtTWF0aC5QSS8yLDAsMCkpKTtcbiAgICAgICAvLyBpZiAodGhpcy5tb2RlbC53YWxsc1s1XS5jcmVhdGUpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWxsKHRoaXMubW9kZWwud2FsbHNbNV0sIG5ldyBQb2ludDModGhpcy54ICsgMCwgdGhpcy55ICsgMC41LCB0aGlzLnogKyAwKSwgbmV3IFBvaW50MyhNYXRoLlBJLzIsMCwwKSkpO1xuICAgIH1cbn0iLCJpbXBvcnQgV29ybGRPYmplY3RNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvV29ybGRPYmplY3RNb2RlbFwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgVGhyZWVNZXNoIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZU1lc2hcIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ybGRPYmplY3QgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgbW9kZWw6IFdvcmxkT2JqZWN0TW9kZWw7XG4gICAgbWVzaDogVGhyZWVNZXNoO1xuXG4gICAgY29uc3RydWN0b3IobW9kZWw6IFdvcmxkT2JqZWN0TW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBsZXQgZ2VvbSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDEsIDEsIDApO1xuICAgICAgICBsZXQgdGV4dHVyZSA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLm1vZGVsLmZpbGVuYW1lLCAoKCkgPT4ge3RoaXMucmVxdWVzdERyYXcoKTsgfSkuYmluZCh0aGlzKSk7XG4gICAgICAgIGxldCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7bWFwOiB0ZXh0dXJlfSk7XG4gICAgICAgIGxldCBtZXNoID0gbmV3IFRocmVlTWVzaChnZW9tLG1hdGVyaWFsKTtcbiAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnggPSB0aGlzLm1vZGVsLnBvc2l0aW9uWzBdO1xuICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueSA9IHRoaXMubW9kZWwucG9zaXRpb25bMV07XG4gICAgICAgIG1lc2gubWVzaC5wb3NpdGlvbi56ID0gdGhpcy5tb2RlbC5wb3NpdGlvblsyXTtcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5hZGRDaGlsZChtZXNoKTtcbiAgICB9XG5cbn0iXSwic291cmNlUm9vdCI6IiJ9