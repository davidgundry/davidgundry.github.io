/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/examples/classic-rpg-interface/Launcher.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/Launcher.ts":
/*!*************************!*\
  !*** ./src/Launcher.ts ***!
  \*************************/
/*! exports provided: Launcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Launcher", function() { return Launcher; });
/* harmony import */ var engine_Game__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/Game */ "./src/engine/Game.ts");
/* harmony import */ var engine_gameobject_context2d_Root__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/Root */ "./src/engine/gameobject/context2d/Root.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var engine_io_IO__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/io/IO */ "./src/engine/io/IO.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_io_Keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/io/Keyboard */ "./src/engine/io/Keyboard.ts");
/* harmony import */ var engine_io_Mouse__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/io/Mouse */ "./src/engine/io/Mouse.ts");
/* harmony import */ var engine_io_Timing__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/io/Timing */ "./src/engine/io/Timing.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_io_Loader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/io/Loader */ "./src/engine/io/Loader.ts");











class Launcher {
    get rootGameObject() { return this._rootGameObject; }
    get canvas() { return this._canvas; }
    get container() { return this._container; }
    get canvasName() { return this._canvasName; }
    get created() { return this._created; }
    constructor(container, canvasName) {
        this._container = container;
        this._canvasName = canvasName || "gameCanvas";
    }
    create() {
        if (this._created)
            throw new Error("Cannot create Game: already created");
        this._rootGameObject = this._createRootGameObject(this._rootGameObjectType, this._container);
        this._canvas = this._rootGameObject.canvas;
        this._game = this._createGame(this.canvas, this._rootGameObject);
        this._container.appendChild(this.canvas);
        this._resizeFunction = (() => this._rootGameObject.resizeToOnUpdate(new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](this._container.offsetWidth, this._container.offsetHeight))).bind(this);
        this._created = true;
    }
    start() {
        addResizeListener(this._container, this._resizeFunction);
        this._game.start();
    }
    stop() {
        this._game.stop();
        removeResizeListener(this._container, this._resizeFunction);
    }
    _createGame(canvas, rootGameObject) {
        let game = new engine_Game__WEBPACK_IMPORTED_MODULE_0__["default"](rootGameObject, this._createInterfaces(canvas), MainLoop);
        game.create();
        return game;
    }
    _createInterfaces(canvas) {
        let io = new engine_io_IO__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this._addTiming(io);
        this._addLoader(io);
        return io;
    }
    _createRootGameObject(rootType, container) {
        let rootGameObject = new engine_gameobject_context2d_Root__WEBPACK_IMPORTED_MODULE_1__["default"](rootType, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](container.offsetWidth, container.offsetHeight)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_9__["FrameController"]());
        rootGameObject.createCanvas(this._canvasName);
        rootGameObject.transform.bounds.dimensions[0] = new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](container.offsetWidth, container.offsetHeight);
        rootGameObject.resizeCanvas(rootGameObject.transform.getDimension(), window.devicePixelRatio);
        rootGameObject.transform.recalculate();
        return rootGameObject;
    }
    _addKeyboard(io) {
        let keyboard = new engine_io_Keyboard__WEBPACK_IMPORTED_MODULE_6__["KeyboardListener"]();
        keyboard.create();
        io.addInterface(keyboard, "keyboard");
        return io;
    }
    _addMouse(io, canvas) {
        let mouse = new engine_io_Mouse__WEBPACK_IMPORTED_MODULE_7__["MouseListener"]();
        mouse.addTo(document, canvas);
        io.addInterface(mouse, "mouse");
        return io;
    }
    _addTiming(io) {
        io.addInterface(new engine_io_Timing__WEBPACK_IMPORTED_MODULE_8__["TimingListener"](), "timing");
        return io;
    }
    _addLoader(io) {
        io.addInterface(new engine_io_Loader__WEBPACK_IMPORTED_MODULE_10__["default"](), "loader");
        return io;
    }
}


/***/ }),

/***/ "./src/assets/rpg/levels/large-house.json":
/*!************************************************!*\
  !*** ./src/assets/rpg/levels/large-house.json ***!
  \************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, default */
/***/ (function(module) {

module.exports = [0,0,0,0,0,0,1,0,0,1,2,4,1,0,0,0,2,4,1,1,0,0,2,4,0,0,0,0,0,0,1,0,0,1,2,4,1,1,0,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,0,0,1,0,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,1,1,1,2,4,0,0,0,0,0,0,0,0,0,1,2,4,1,0,1,0,2,4,0,1,0,0,2,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,2,4,1,0,0,0,2,4,0,1,1,0,2,4,0,0,0,0,0,0,0,0,0,1,2,4,1,1,0,0,2,4,0,0,0,0,0,0,0,0,1,1,2,4,0,1,1,0,2,4,0,0,0,0,0,0,1,0,1,1,2,0,0,0,1,0,2,4,0,1,1,0,2,4,1,0,0,1,3,0,1,0,0,0,3,0,1,1,0,0,3,0,1,0,0,1,3,4,1,0,1,0,3,4,1,0,0,0,3,4,1,1,0,0,3,4,0,0,0,1,3,0,0,0,0,0,3,0,0,1,0,0,3,0,0,1,0,1,3,4,1,1,0,1,3,0,0,0,1,1,3,4,0,1,1,0,3,4,0,0,1,1,3,0,0,0,1,0,3,0,0,1,5,0,3,0,0,5,1,1,3,4,0,1,0,1,3,4,1,0,0,5,3,4,1,1,0,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,3,4,1,0,0,0,3,4,0,1,1,0,3,4,0,0,1,1,3,4,0,1,1,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,4,1,3,4,1,1,1,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,4,1,0,0,0,0,4,1,0,0,0,0,4,1,5,0,0,3,4,1,5,0,5,3,4,1,0,0,5,3,4,1,1,0,0,3,4,0,0,0,1,0,4,0,0,0,0,0,4,0,0,0,0,0,4,0,1,0,0,3,4,0,1,1,1,0,4,0,0,0,1,3,4,0,1,0,0,3,4,0,0,1,1,0,4,0,0,1,0,0,4,0,0,1,0,0,4,0,0,0,0,3,4,1,0,1,0,3,4,0,0,1,0,3,4,0,1,1,0,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,3,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

/***/ }),

/***/ "./src/assets/rpg/levels/open-country.json":
/*!*************************************************!*\
  !*** ./src/assets/rpg/levels/open-country.json ***!
  \*************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 124, 125, 126, 127, 128, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 140, 141, 142, 143, 144, 145, 146, 147, 148, 149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171, 172, 173, 174, 175, 176, 177, 178, 179, 180, 181, 182, 183, 184, 185, 186, 187, 188, 189, 190, 191, 192, 193, 194, 195, 196, 197, 198, 199, 200, 201, 202, 203, 204, 205, 206, 207, 208, 209, 210, 211, 212, 213, 214, 215, 216, 217, 218, 219, 220, 221, 222, 223, 224, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 235, 236, 237, 238, 239, 240, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250, 251, 252, 253, 254, 255, 256, 257, 258, 259, 260, 261, 262, 263, 264, 265, 266, 267, 268, 269, 270, 271, 272, 273, 274, 275, 276, 277, 278, 279, 280, 281, 282, 283, 284, 285, 286, 287, 288, 289, 290, 291, 292, 293, 294, 295, 296, 297, 298, 299, 300, 301, 302, 303, 304, 305, 306, 307, 308, 309, 310, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 328, 329, 330, 331, 332, 333, 334, 335, 336, 337, 338, 339, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360, 361, 362, 363, 364, 365, 366, 367, 368, 369, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 381, 382, 383, 384, 385, 386, 387, 388, 389, 390, 391, 392, 393, 394, 395, 396, 397, 398, 399, 400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 419, 420, 421, 422, 423, 424, 425, 426, 427, 428, 429, 430, 431, 432, 433, 434, 435, 436, 437, 438, 439, 440, 441, 442, 443, 444, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 455, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472, 473, 474, 475, 476, 477, 478, 479, 480, 481, 482, 483, 484, 485, 486, 487, 488, 489, 490, 491, 492, 493, 494, 495, 496, 497, 498, 499, 500, 501, 502, 503, 504, 505, 506, 507, 508, 509, 510, 511, 512, 513, 514, 515, 516, 517, 518, 519, 520, 521, 522, 523, 524, 525, 526, 527, 528, 529, 530, 531, 532, 533, 534, 535, 536, 537, 538, 539, 540, 541, 542, 543, 544, 545, 546, 547, 548, 549, 550, 551, 552, 553, 554, 555, 556, 557, 558, 559, 560, 561, 562, 563, 564, 565, 566, 567, 568, 569, 570, 571, 572, 573, 574, 575, 576, 577, 578, 579, 580, 581, 582, 583, 584, 585, 586, 587, 588, 589, 590, 591, 592, 593, 594, 595, 596, 597, 598, 599, 600, 601, 602, 603, 604, 605, 606, 607, 608, 609, 610, 611, 612, 613, 614, 615, 616, 617, 618, 619, 620, 621, 622, 623, 624, 625, 626, 627, 628, 629, 630, 631, 632, 633, 634, 635, 636, 637, 638, 639, 640, 641, 642, 643, 644, 645, 646, 647, 648, 649, 650, 651, 652, 653, 654, 655, 656, 657, 658, 659, 660, 661, 662, 663, 664, 665, 666, 667, 668, 669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 680, 681, 682, 683, 684, 685, 686, 687, 688, 689, 690, 691, 692, 693, 694, 695, 696, 697, 698, 699, 700, 701, 702, 703, 704, 705, 706, 707, 708, 709, 710, 711, 712, 713, 714, 715, 716, 717, 718, 719, 720, 721, 722, 723, 724, 725, 726, 727, 728, 729, 730, 731, 732, 733, 734, 735, 736, 737, 738, 739, 740, 741, 742, 743, 744, 745, 746, 747, 748, 749, 750, 751, 752, 753, 754, 755, 756, 757, 758, 759, 760, 761, 762, 763, 764, 765, 766, 767, 768, 769, 770, 771, 772, 773, 774, 775, 776, 777, 778, 779, 780, 781, 782, 783, 784, 785, 786, 787, 788, 789, 790, 791, 792, 793, 794, 795, 796, 797, 798, 799, 800, 801, 802, 803, 804, 805, 806, 807, 808, 809, 810, 811, 812, 813, 814, 815, 816, 817, 818, 819, 820, 821, 822, 823, 824, 825, 826, 827, 828, 829, 830, 831, 832, 833, 834, 835, 836, 837, 838, 839, 840, 841, 842, 843, 844, 845, 846, 847, 848, 849, 850, 851, 852, 853, 854, 855, 856, 857, 858, 859, 860, 861, 862, 863, 864, 865, 866, 867, 868, 869, 870, 871, 872, 873, 874, 875, 876, 877, 878, 879, 880, 881, 882, 883, 884, 885, 886, 887, 888, 889, 890, 891, 892, 893, 894, 895, 896, 897, 898, 899, 900, 901, 902, 903, 904, 905, 906, 907, 908, 909, 910, 911, 912, 913, 914, 915, 916, 917, 918, 919, 920, 921, 922, 923, 924, 925, 926, 927, 928, 929, 930, 931, 932, 933, 934, 935, 936, 937, 938, 939, 940, 941, 942, 943, 944, 945, 946, 947, 948, 949, 950, 951, 952, 953, 954, 955, 956, 957, 958, 959, default */
/***/ (function(module) {

module.exports = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,0,0,28,20,0,33,28,0,0,20,0,0,0,0,0,0,0,32,0,0,28,3,0,28,28,0,0,3,0,0,0,0,0,0,0,33,33,0,28,20,0,0,0,0,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,3,0,0,0,0,0,3,0,28,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,28,0,0,0,3,0,0,33,0,0,20,0,28,0,0,33,20,0,27,0,0,0,20,0,28,0,0,0,20,0,0,0,0,0,20,0,0,0,0,0,20,0,0,0,28,0,20,0,0,0,28,0,20,0,0,0,0,0,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,28,33,20,0,0,0,28,0,20,0,0,0,0,0,20,0,0,0,0,0,20,0,0,28,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,20,0,0,28,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,3,0,0,33,0,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,20,0,0,0,0,0,20,0,0,0,0,0,20,0,28,0,0,0,20,0,27,0,0,0,3,0,0,0,0,0,3,0,0,0,28,0,3,0,0,33,28,0,20,0,0,0,0,0,0,0,28,0,0,32,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,0,0,0,3,0,0,32,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,33,28,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,0,33,0,20,0,0,28,33,0,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,30,0,0,0,1,0,29,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,29,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];

/***/ }),

/***/ "./src/assets/rpg/npcs/buer-test.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/npcs/buer-test.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "ac332024055102f7ea5d875065c412bc.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/fancy-dress-12.png":
/*!************************************************!*\
  !*** ./src/assets/rpg/npcs/fancy-dress-12.png ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "441dadab6498ef2d8fa4093e2856f540.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/skull-crossbones.png":
/*!**************************************************!*\
  !*** ./src/assets/rpg/npcs/skull-crossbones.png ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7c3d0f8d55679f27d8192f0685159fe5.png";

/***/ }),

/***/ "./src/assets/rpg/npcs/ukobach-test.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/npcs/ukobach-test.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0f5a11e7c4d68d88f5958783b92ff18a.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/10p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/10p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "9a6522e44233039fef540a0b000010ea.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/11p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/11p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "ad257d7e43ce8eb9f39e38ab95725eee.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/12p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/12p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "b9b811634ed46c6f866f036210c173f8.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/13p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/13p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "b376ca5219c8c181bf1ec42aa86a82ec.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/14p.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/portrait/14p.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "79f5d19fe84087be033a8f3b4d599cf6.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/1p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/1p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "b65bf51aa8796d13b449d41010c42448.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/2p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/2p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f21ed09f1c78ef4744c65db5d886b85a.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/3p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/3p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "08b03c433b2c8412740544b07657fbc4.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/4p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/4p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7006b7c0e54e04295d980c4a023d4dd4.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/5p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/5p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "bd2c8735115c4e6077be29bd38b96b48.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/6p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/6p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2f131d4e479b2c18ce748dea2a4ab29f.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/7p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/7p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "888853009d4646a9a011ea96340e5294.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/8p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/8p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "015ad6ebef242ba8e3b2197d0a6760ff.png";

/***/ }),

/***/ "./src/assets/rpg/portrait/9p.png":
/*!****************************************!*\
  !*** ./src/assets/rpg/portrait/9p.png ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "4c98dbaad178a6329456504ccb630b93.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_down.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_down.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "623bace6875ddccec828ff2e6445b0d6.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_east.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_east.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c9603333f1bb20e82bc682ebf93b2c3b.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_north.png":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_north.png ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e3db27219b340e074890ad40b1edf7b5.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_south.png":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_south.png ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2ce4eea6288cbe1a001cdb18d98fb36e.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_up.png":
/*!******************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_up.png ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c0ffd8b850f63fa250a8bd90672f1e76.png";

/***/ }),

/***/ "./src/assets/rpg/skybox/clouds1/clouds1_west.png":
/*!********************************************************!*\
  !*** ./src/assets/rpg/skybox/clouds1/clouds1_west.png ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "19a3166ce9f608e48c90c1776ab76b73.png";

/***/ }),

/***/ "./src/assets/rpg/spells/beautiful-bird.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/spells/beautiful-bird.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d1c0024e7e070f7156beca090fba1cc8.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/4-arch.png":
/*!********************************************!*\
  !*** ./src/assets/rpg/textures/4-arch.png ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "470536b00b3c1e967085f98888f78a92.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Antediluvian Door-alphamap.png":
/*!****************************************************************!*\
  !*** ./src/assets/rpg/textures/Antediluvian Door-alphamap.png ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "3a21bbb1e1a195700f494fae9b2e5120.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Antediluvian Door.png":
/*!*******************************************************!*\
  !*** ./src/assets/rpg/textures/Antediluvian Door.png ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0fbeaba70c8edf5bbd146be3de477355.png";

/***/ }),

/***/ "./src/assets/rpg/textures/Asylum Cell Orange.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Asylum Cell Orange.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1f806ae06e8cc1aeb0fa06a8b4f78554.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Battered Red Clover.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Battered Red Clover.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "62f1bd3109277b693923c1ef2f0b7f30.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Brown Qussair Granite.jpg":
/*!***********************************************************!*\
  !*** ./src/assets/rpg/textures/Brown Qussair Granite.jpg ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "79a66bff42b37ac4a3ac1fdb26d8562e.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Carved Sandstone.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Carved Sandstone.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f89cb2ae34e05bdaece6280602914d47.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg":
/*!*************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "713d69f2fa0041ab7cbdbfc62addc690.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg":
/*!***************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "24f1b75791fab8bd4606fd2d3467f793.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg":
/*!*************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f161941f5c7ee456332724262f0ac588.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg":
/*!**************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "76b32f5c8a1188f493af04bc7de79601.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg":
/*!****************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1afb086031f8ef08eaa7b5c71cf34286.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg":
/*!******************************************************************!*\
  !*** ./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "8a83fc23c7a534cbb7fccf62b35e054c.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Council Chamber.jpg":
/*!*****************************************************!*\
  !*** ./src/assets/rpg/textures/Council Chamber.jpg ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a12e0c4e4e8f7e720cdacb9b4e32e070.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Dark Gray Marble.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Dark Gray Marble.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "eee894e799663072a648d522d8232b03.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Dead Caves.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Dead Caves.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "57c266c4b294f9350853ae1a67b0a983.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Fen Stone.jpg":
/*!***********************************************!*\
  !*** ./src/assets/rpg/textures/Fen Stone.jpg ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d98469dce78bfc68f773766099bb0687.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Forest Floor.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Forest Floor.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5e53793d5f73e1bd32c11b8ffab2975e.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Glassy Pink Marble.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Glassy Pink Marble.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5d24a8c1cf8ca4c6e6fb42ec5d0f1e86.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Granite Wall.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Granite Wall.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "77fa3a90c873583bf97fd03142a4f877.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Midnight Stone.jpg":
/*!****************************************************!*\
  !*** ./src/assets/rpg/textures/Midnight Stone.jpg ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "00dd4231dbca035c699c74d0a529fe54.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Moss Cushions.jpg":
/*!***************************************************!*\
  !*** ./src/assets/rpg/textures/Moss Cushions.jpg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "7ae35a5dbe2c9e49415b84cf2d074ac0.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Mossy Rock.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Mossy Rock.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "359214cc6cf396160983f7251eecada5.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Palace Floor.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Palace Floor.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "53d683ea078a6c9d6ec87d2e24ceaadd.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Rough Orthoclase.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Rough Orthoclase.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "d7657ae51e0b0d39e4b6768a9d931821.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Samaris Metal.jpg":
/*!***************************************************!*\
  !*** ./src/assets/rpg/textures/Samaris Metal.jpg ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1bbed623433604571aef7e604eaae358.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Samaris.jpg":
/*!*********************************************!*\
  !*** ./src/assets/rpg/textures/Samaris.jpg ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f5d3c39b37e16e83793fb12c4925bb34.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Sandy Lichen Brick.jpg":
/*!********************************************************!*\
  !*** ./src/assets/rpg/textures/Sandy Lichen Brick.jpg ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "eab8ebd8b355d14427c49cebd3ee4b15.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Segmented Stone Wall.jpg":
/*!**********************************************************!*\
  !*** ./src/assets/rpg/textures/Segmented Stone Wall.jpg ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "8c7b0da7bfee04c0bad57f791b727686.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Slime Wall.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Slime Wall.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "af58f2beaea8ca45e43afce89100c6c8.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Smashed Gray Marble.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Smashed Gray Marble.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "9b5a15221bfac7a151dacb7bd225974d.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Smudged Dirt.jpg":
/*!**************************************************!*\
  !*** ./src/assets/rpg/textures/Smudged Dirt.jpg ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e60fd3e2f9f4215b77eb94787f11b8fb.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Straw Roof Interior.jpg":
/*!*********************************************************!*\
  !*** ./src/assets/rpg/textures/Straw Roof Interior.jpg ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5483c730df3d9fb5674a1c693474d610.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Straw Roof.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Straw Roof.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "fa4679f6f6f847730b8a50b44a66b5ce.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Weeds and Gravel.jpg":
/*!******************************************************!*\
  !*** ./src/assets/rpg/textures/Weeds and Gravel.jpg ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "822e09cc0e54dd025833a77c4239547c.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/Weedy Lawn.jpg":
/*!************************************************!*\
  !*** ./src/assets/rpg/textures/Weedy Lawn.jpg ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "85665f5fcf032ceaa756cfbea5382027.jpg";

/***/ }),

/***/ "./src/assets/rpg/textures/empty.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/textures/empty.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "034bda097802307b7ae58c275b7a8453.png";

/***/ }),

/***/ "./src/assets/rpg/ui/air-spell-tab.png":
/*!*********************************************!*\
  !*** ./src/assets/rpg/ui/air-spell-tab.png ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "e72ab308f9cd5cd12c53cf5ce05b8aa9.png";

/***/ }),

/***/ "./src/assets/rpg/ui/charsheet-icon.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/charsheet-icon.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "0f2ccdc84820b1258a34bd04dd987be5.png";

/***/ }),

/***/ "./src/assets/rpg/ui/earth-spell-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/earth-spell-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "48987dea849abd6a45cda40f6e50fe20.png";

/***/ }),

/***/ "./src/assets/rpg/ui/fire-spell-tab.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/fire-spell-tab.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "f7ba28c81d772698cda8d401d91dc354.png";

/***/ }),

/***/ "./src/assets/rpg/ui/hourglass.png":
/*!*****************************************!*\
  !*** ./src/assets/rpg/ui/hourglass.png ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "27968389b7cf258770705c17b20b812e.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-green.png":
/*!**********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-green.png ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "cdff23d03e4986334a7c349a82f488e9.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-red.png":
/*!********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-red.png ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a371f9c7077060a5a428c6e5592cecb1.png";

/***/ }),

/***/ "./src/assets/rpg/ui/nexticon-yellow.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/nexticon-yellow.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "1fb9ee8226936506466c8fa0c758d7c4.png";

/***/ }),

/***/ "./src/assets/rpg/ui/quick-items-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/quick-items-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "c1053227e3c3c31220caaca5240a19d7.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-dead.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/ui/status-dead.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "a0b165da8d4c00d15d660462d3b57eb8.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-slow.png":
/*!*******************************************!*\
  !*** ./src/assets/rpg/ui/status-slow.png ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "2a76f3cf16e95e4e9d985242beabfafb.png";

/***/ }),

/***/ "./src/assets/rpg/ui/status-torch-light.png":
/*!**************************************************!*\
  !*** ./src/assets/rpg/ui/status-torch-light.png ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "83b2cf802066aeb9d97e58d023172f2a.png";

/***/ }),

/***/ "./src/assets/rpg/ui/water-spell-tab.png":
/*!***********************************************!*\
  !*** ./src/assets/rpg/ui/water-spell-tab.png ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "5c5e7b2ff2d830f907c7ac718ec77bb1.png";

/***/ }),

/***/ "./src/engine/Asset.ts":
/*!*****************************!*\
  !*** ./src/engine/Asset.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Asset; });
class Asset {
    constructor(filename, asset, loaded) {
        this._filename = filename;
        this._asset = asset;
        this._loaded = loaded;
    }
    get filename() { return this._filename; }
    get asset() { return this._asset; }
    get loaded() { return this._loaded; }
    set loaded(val) { this._loaded = val; }
    set(asset) { this._asset = asset; }
}


/***/ }),

/***/ "./src/engine/Game.ts":
/*!****************************!*\
  !*** ./src/engine/Game.ts ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Game; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/Event */ "./src/engine/util/Event.ts");

class Game {
    constructor(rootGameObject, io, mainLoop) {
        this._rootGameObject = rootGameObject;
        this._io = io;
        this._mainLoop = mainLoop;
    }
    create() {
        if (this._created)
            throw new Error("Cannot create Game: already created");
        this._io.create();
        this._rootGameObject.doCreate(this._io.interfaces);
        this._mainLoop.setBegin(this._begin.bind(this))
            .setUpdate(this._update.bind(this))
            .setDraw(this._draw.bind(this))
            .setEnd(this._end.bind(this));
        this._created = true;
    }
    start() {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onStart);
        this._mainLoop.start();
    }
    stop() {
        this._mainLoop.stop();
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onStop);
    }
    _begin(timestamp, delta) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onBeginStart, timestamp, delta);
        this._rootGameObject.doBegin(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onBeginEnd);
    }
    _update(delta) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onUpdateStart, delta);
        this._rootGameObject.doUpdate(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onUpdateEnd);
    }
    _draw(interpolationPercentage) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onDrawStart);
        this._rootGameObject.doDraw(null);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onDrawEnd);
    }
    _end(fps, panic) {
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onEndStart, fps);
        this._rootGameObject.doEnd(this._io.interfaces);
        _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this._io.onEndEnd);
    }
}


/***/ }),

/***/ "./src/engine/GameObject.ts":
/*!**********************************!*\
  !*** ./src/engine/GameObject.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameObject; });
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _Transform__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Transform */ "./src/engine/Transform.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/Event */ "./src/engine/util/Event.ts");



class GameObject {
    constructor(position, bounds) {
        this._children = [];
        this._assets = [];
        this._parent = null;
        this._created = false;
        this._runLoad = false;
        this._active = true;
        this._interactable = true;
        this._ranBegin = false;
        this._name = null;
        this._visible = true;
        this._opacity = 1;
        this._ignoreDrawCull = false;
        this._precreate = false;
        this._onDestroy = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
        if (position instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"])
            this._transform = new _Transform__WEBPACK_IMPORTED_MODULE_1__["default"](position, bounds);
        else
            this._transform = position;
        if (this._transform)
            this._transform.setGameObject(this);
    }
    get parent() { return this._parent; }
    set parent(val) { this._parent = val; }
    get transform() { return this._transform; }
    get name() { return this._name; }
    set name(val) { this._name = val; }
    get loaded() {
        return (this.runLoad && this.assets.every(x => x.loaded === true));
    }
    get subtreeLoaded() {
        return (this.loaded && (this._children.every(x => x.subtreeLoaded)));
    }
    get runLoad() { return this._runLoad; }
    get created() { return this._created; }
    get assets() { return this._assets; }
    get children() { return this._children; }
    set active(val) { this._active = val; }
    get active() { return this._active; }
    set interactable(val) { this._interactable = val; }
    get interactable() {
        if (!this._interactable)
            return false;
        else if (this.parent)
            return this.parent.interactable;
        return true;
    }
    set visible(val) {
        if (this._visible !== val) {
            if (!val)
                this.requestDraw();
            this._visible = val;
            if (val)
                this.requestDraw();
        }
    }
    get visible() { return this._visible; }
    get opacity() { return this._opacity; }
    set opacity(val) { this._opacity = val; }
    get onDestroy() { return this._onDestroy; }
    get precreate() { return this._precreate; }
    set precreate(val) { this._precreate = val; }
    addChild(child) {
        child.parent = this;
        this._children.push(child);
        return child;
    }
    getAsset(filename) {
        let assetsWithFilename = this.assets.filter(x => x.filename === filename);
        if (assetsWithFilename.length > 0)
            return assetsWithFilename[0].asset;
        throw new Error("No asset found with that name on gameobject");
    }
    doLoad(interfaces) {
        if (!(this._runLoad))
            this._runLoad = this.load(interfaces);
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doLoad(interfaces);
    }
    load(interfaces) { return true; }
    addAsset(asset) {
        if (asset === null)
            return null;
        if (this.assets.filter(x => x.filename === asset.filename).length === 0)
            this.assets.push(asset);
        return asset;
    }
    interfaces(interfaces) { return interfaces; }
    doCreate(interfaces) {
        if (!this._runLoad)
            this.doLoad(interfaces);
        if (this.loaded) {
            let createdThisRun = false;
            if (!this.created) {
                createdThisRun = true;
                this.create(interfaces);
            }
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doCreate(this.interfaces(interfaces));
            this._created = true;
            if (createdThisRun)
                this.afterCreate();
            this.requestDraw();
        }
    }
    create(interfaces) { }
    afterCreate() { }
    doBegin(interfaces) {
        if (this._active) {
            if (this._created)
                this._runBegin(interfaces);
            else {
                this.doCreate(interfaces);
                if (this._created)
                    this._runBegin(interfaces);
            }
        }
        else if (this._precreate) {
            this.doCreate(interfaces);
        }
    }
    _runBegin(interfaces) {
        this.begin(interfaces);
        this._ranBegin = true;
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doBegin(this.interfaces(interfaces));
    }
    begin(interfaces) { }
    doUpdate(interfaces) {
        if (this._transform)
            this._transform.update();
        if (this._ranBegin) {
            for (let i = this._children.length - 1; i >= 0; i--)
                if (this._children[i])
                    this._children[i].doUpdate(this.interfaces(interfaces));
            this.update(interfaces);
        }
    }
    update(interfaces) { }
    doDraw(context2D, webGL) {
        if ((this._created) && (this._visible) && (this._transform) && (this._opacity > 0) && (this._transform.hasPosition())) {
            let rotated = false;
            if (this._transform.rotation % 2 * Math.PI !== 0) {
                rotated = true;
                let pos = this._transform.getDrawPosition(0.5, 0.5);
                context2D.save();
                context2D.translate(pos.x, pos.y);
                context2D.rotate(this._transform.rotation);
                context2D.translate(-pos.x, -pos.y);
            }
            let startingOpacity = 0;
            if (context2D)
                startingOpacity = this._setDrawingOpacity(context2D);
            this.draw(context2D, webGL);
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doDraw(context2D, webGL);
            if (context2D)
                if (startingOpacity !== undefined)
                    context2D.globalAlpha = startingOpacity;
            if (rotated)
                context2D.restore();
        }
    }
    _setDrawingOpacity(context2D) {
        if (this._opacity !== 1) {
            let original = context2D.globalAlpha;
            context2D.globalAlpha = context2D.globalAlpha * this._opacity;
            return original;
        }
        return undefined;
    }
    draw(context2D, webGL) { }
    doEnd(interfaces) {
        if (this._ranBegin) {
            this.end(interfaces);
            for (let i = 0, len = this._children.length; i < len; i++)
                this._children[i].doEnd(this.interfaces(interfaces));
            this._ranBegin = false;
        }
    }
    end(interfaces) { }
    requestDraw() {
        if (this._visible)
            if (this._parent)
                if (!(this.drawCulled))
                    this._parent.requestDraw();
    }
    get drawCulled() {
        if (this.ignoreDrawCull)
            return false;
        if ((this._transform) && (this._parent) && (this._parent.created) && (this._parent.transform))
            return !(_Transform__WEBPACK_IMPORTED_MODULE_1__["default"].overlaps(this._transform, this._parent.transform));
        return false;
    }
    get ignoreDrawCull() { return this._ignoreDrawCull; }
    set ignoreDrawCull(val) { this._ignoreDrawCull = val; }
    requestRemoval() { this._parent.removeChild(this); }
    removeChild(child) {
        let index = this._children.indexOf(child);
        if (index !== -1)
            this._children.splice(index, 1);
        child.doDestroy();
    }
    doDestroy() {
        for (let i = 0, len = this._children.length; i < len; i++)
            this._children[i].doDestroy();
        if (this._transform)
            this._transform.destroy();
        this.destroy();
        this._onDestroy.call();
    }
    destroy() { }
}


/***/ }),

/***/ "./src/engine/Transform.ts":
/*!*********************************!*\
  !*** ./src/engine/Transform.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Transform; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _util_PolyShape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util/PolyShape */ "./src/engine/util/PolyShape.ts");


class Transform {
    constructor(position, bounds) {
        this._fixed = true;
        this._rotation = 0;
        this._position = position;
        this._bounds = bounds;
        if (this.position)
            this._position.transform = this;
        if (this.bounds)
            this._bounds.transform = this;
        if ((!this.bounds) && (this.position))
            throw new Error("A game object with a non-null Position must have a non-null Bounds");
    }
    get gameObject() { return this._gameObject; }
    set gameObject(val) { this._gameObject = val; }
    get position() { return this._position; }
    get bounds() { return this._bounds; }
    get fixed() { return this._fixed; }
    set fixed(val) { this._fixed = val; }
    get positioningDirty() { return this._positioningDirty; }
    positioningIsDirty() { this._positioningDirty = true; }
    get parent() {
        if (this.gameObject)
            if (this.gameObject.parent)
                return this.gameObject.parent.transform;
        return null;
    }
    get rotation() { return this._rotation; }
    set rotation(val) { this._rotation = val; }
    getCanonicalPosition(point, y) {
        if (this.position) {
            if (!point)
                return this.position.absolutePositionTopLeft();
            else {
                let tl = this.position.absolutePositionTopLeft();
                let dim = this.bounds.dimension;
                if (point instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point.x, tl.y + dim.height * point.y);
                else
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point, tl.y + dim.height * y);
            }
        }
        return null;
    }
    getDrawPosition(point, y) {
        if (this.position) {
            if (!point)
                return this.position.drawPositionTopLeft();
            else {
                let tl = this.position.drawPositionTopLeft();
                let dim = this.bounds.dimension;
                if (point instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point.x, tl.y + dim.height * point.y);
                else
                    return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](tl.x + dim.width * point, tl.y + dim.height * y);
            }
        }
        return null;
    }
    getDimension() { return this.bounds.dimension; }
    setGameObject(val) { this.gameObject = val; }
    hasPosition() { return this.position !== null; }
    update() {
        if ((this.positioningDirty) || (!(this.fixed))) {
            if (this.position)
                this.position.checkForUpdatedTranslations();
            if (this.bounds)
                this.bounds.checkForUpdatedDimensions();
            this._positioningDirty = false;
        }
    }
    recalculate(excludeDrawCache) {
        if (this._position) {
            this._position.absoluteCacheDirty = true;
            if (!(excludeDrawCache))
                this._position.drawCacheDirty = true;
        }
        if (this._bounds)
            this._bounds.dirty = true;
        if (this.gameObject.children.length === 0) {
            if (!(excludeDrawCache))
                this.gameObject.requestDraw();
        }
        else
            this.gameObject.children.forEach(child => { if (child.transform)
                child.transform.recalculate(excludeDrawCache); });
    }
    static overlaps(a, b) {
        let aPos;
        let bPos;
        if (a.position)
            aPos = a.getCanonicalPosition();
        else
            aPos = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        if (b.position)
            bPos = b.getCanonicalPosition();
        else
            bPos = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        let aDim = a.getDimension();
        let bDim = b.getDimension();
        let x = false;
        let y = false;
        if ((aPos.x >= bPos.x) && (aPos.x <= bPos.x + bDim.width))
            x = true;
        if ((aPos.x <= bPos.x) && (aPos.x + aDim.width >= bPos.x))
            x = true;
        if ((aPos.y >= bPos.y) && (aPos.y <= bPos.y + bDim.height))
            y = true;
        if ((aPos.y <= bPos.y) && (aPos.y + aDim.height >= bPos.y))
            y = true;
        return x && y;
    }
    static contains(a, b) {
        let aPos = a.getCanonicalPosition();
        let bPos = b.getCanonicalPosition();
        let aDim = a.getDimension();
        let bDim = b.getDimension();
        let x = false;
        let y = false;
        if ((bPos.x >= aPos.x) && (bPos.x + bDim.width <= aPos.x + aDim.width))
            x = true;
        if ((bPos.y >= aPos.y) && (bPos.y + bDim.width <= aPos.y + aDim.height))
            y = true;
        return x && y;
    }
    containsPoint(point) {
        let offset = this.position.absolutePositionTopLeft();
        let dimension = this.bounds.dimension;
        return Transform.inDimension(point, dimension, offset);
    }
    destroy() {
        if (this.bounds)
            this.bounds.destroy();
        if (this.position)
            this.position.destroy();
    }
    static inDimension(point, dimension, offset) {
        if ((point.x >= offset.x) && (point.y >= offset.y))
            if ((point.x <= offset.x + dimension.width) && (point.y <= offset.y + dimension.height))
                return true;
        return false;
    }
    contextualisePolyshape(polyshape) {
        let pos = this.getCanonicalPosition();
        let dim = this.getDimension();
        let points = [];
        let x = true;
        polyshape.points.forEach(p => {
            points.push(new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](p.x * dim.width + pos.x, p.y * dim.height + pos.y));
        });
        let p = polyshape.clone(points);
        return p;
    }
    getCanonicalRect() {
        let pos = this.getCanonicalPosition();
        let dim = this.getDimension();
        return new _util_PolyShape__WEBPACK_IMPORTED_MODULE_1__["PolyRect"]([new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x, pos.y), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x + dim.width, pos.y), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x + dim.width, pos.y + dim.height), new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](pos.x, pos.y + dim.height)]);
    }
}


/***/ }),

/***/ "./src/engine/TreeUtils.ts":
/*!*********************************!*\
  !*** ./src/engine/TreeUtils.ts ***!
  \*********************************/
/*! exports provided: TreeUtils, SubtreeLoadStats */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TreeUtils", function() { return TreeUtils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubtreeLoadStats", function() { return SubtreeLoadStats; });
class TreeUtils {
    static findChildrenOfType(parent, type, recursive) {
        recursive = recursive || false;
        let results = [];
        for (let i = 0; i < parent.children.length; i++) {
            if (parent.children[i] instanceof type)
                results.push(parent.children[i]);
            if (recursive) {
                let childResult = TreeUtils.findChildrenOfType(parent.children[i], type, recursive);
                results = results.concat(childResult);
            }
        }
        return results;
    }
    static findChildrenWithName(parent, name, recursive) {
        recursive = recursive || false;
        let results = [];
        for (let i = 0; i < parent.children.length; i++) {
            if ((parent.children[i].name) && (parent.children[i].name === name))
                results.push(parent.children[i]);
            if (recursive) {
                let childResult = TreeUtils.findChildrenWithName(parent.children[i], name, recursive);
                results = results.concat(childResult);
            }
        }
        return results;
    }
    static moveChildToFirst(parent, child) {
        parent.children.splice(parent.children.indexOf(child), 1);
        parent.children.unshift(child);
    }
    static moveChildToLast(parent, child) {
        parent.children.splice(parent.children.indexOf(child), 1);
        parent.children.push(child);
    }
    static subtreeLoadStats(root) {
        let r = TreeUtils._subtreeLoadStatsInner(root);
        return new SubtreeLoadStats(r[0], r[1], r[2], r[3]);
    }
    static _subtreeLoadStatsInner(root) {
        let total = 1;
        let loaded = root.loaded ? 1 : 0;
        let assetsTotal = root.assets.length;
        let assetsLoaded = root.assets.filter(a => a.loaded).length;
        root.children.forEach(c => {
            let r = TreeUtils._subtreeLoadStatsInner(c);
            total += r[0];
            loaded += r[1];
            assetsTotal += r[2];
            assetsLoaded += r[3];
        });
        return [total, loaded, assetsTotal, assetsLoaded];
    }
}
class SubtreeLoadStats {
    constructor(total, loaded, assetsTotal, assetsLoaded) {
        this.total = total;
        this.loaded = loaded;
        this.assetsTotal = assetsTotal;
        this.assetsLoaded = assetsLoaded;
    }
    get proportion() { return this.loaded / this.total; }
    get assetsProportion() { return this.assetsLoaded / this.assetsTotal; }
}


/***/ }),

/***/ "./src/engine/gameobject/Clip.ts":
/*!***************************************!*\
  !*** ./src/engine/gameobject/Clip.ts ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Clip; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");

class Clip extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, setClip) {
        super(position, bounds);
        this._setClip = setClip;
    }
    set setClip(val) { this._setClip = val; }
    doDraw(context2D) {
        context2D.save();
        this._setClip(context2D);
        super.doDraw(context2D);
        context2D.restore();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/Component.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/Component.ts ***!
  \********************************************/
/*! exports provided: Component, ComponentListener, ComponentController, ComponentInterface */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Component", function() { return Component; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentListener", function() { return ComponentListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentController", function() { return ComponentController; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentInterface", function() { return ComponentInterface; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");


class Component extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, listener, controller) {
        super(position, bounds);
        this._listener = listener;
        this._controller = controller;
    }
    get typeName() { return "Component"; }
    afterCreate() { this.link(this.controller); }
    get listener() { return this._listener; }
    get controller() { return this._controller; }
    destroy() {
        super.destroy();
        this.unlink(this.controller);
    }
    onDestroyFromController() {
        this.requestRemoval();
    }
    link(controller) {
        controller.onDestroy.push(this.destroy.bind(this), this);
    }
    unlink(controller) {
        controller.onDestroy.unregister(this);
    }
    static newInterface() { return new ComponentInterface(new ComponentListener(), new ComponentController()); }
}
class ComponentListener {
}
class ComponentController {
    constructor() {
        this._counter = 0;
        this._onDestroy = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onDestroy() { return this._onDestroy; }
    next() {
        return {
            done: false,
            value: this.onDestroy
        };
    }
}
class ComponentInterface {
    constructor(listener, controller) {
        this._listener = listener;
        this._controller = controller;
    }
    get listener() { return this._listener; }
    get controller() { return this._controller; }
}


/***/ }),

/***/ "./src/engine/gameobject/Frame.ts":
/*!****************************************!*\
  !*** ./src/engine/gameobject/Frame.ts ***!
  \****************************************/
/*! exports provided: Frame, FrameListener, FrameController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Frame", function() { return Frame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FrameListener", function() { return FrameListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FrameController", function() { return FrameController; });
/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Component */ "./src/engine/gameobject/Component.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");


class Frame extends _Component__WEBPACK_IMPORTED_MODULE_0__["Component"] {
    constructor(position, bounds, listener, controller) {
        super(position, bounds, listener, controller);
        this._childFrameControllers = [];
        this._isOpen = false;
        this._awaitingOpen = false;
        this.visible = false;
        this.active = false;
    }
    get awaitingOpen() { return this._awaitingOpen; }
    get isOpen() { return this._isOpen; }
    set isOpen(val) { this._isOpen = val; }
    addFrame(frame) {
        this.onAddFrame(frame);
        return frame;
    }
    onAddFrame(frame) {
        this._childFrameControllers.push(frame.controller);
    }
    switchToFrame(frameController) {
        _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(frameController.onOpen);
    }
    afterCreate() {
        super.afterCreate();
        if (this.awaitingOpen) {
            this.open();
            this._awaitingOpen = false;
        }
    }
    onOpen(...args) { }
    open(...args) {
        this.active = true;
        this.visible = true;
        if (this.created) {
            this.onOpen(...args);
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onOpen, ...args);
            this.isOpen = true;
        }
        else
            this._awaitingOpen = true;
    }
    ready(...args) {
        this.active = true;
        this.visible = true;
        if (this.created) {
            this.onReady(...args);
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onReady, ...args);
            this.isOpen = true;
        }
        else
            this._awaitingOpen = true;
    }
    onReady(...args) { }
    onClosing(...args) { this.close(); }
    onClose(...args) { }
    close(...args) {
        if ((this.isOpen) && (this.created)) {
            this.isOpen = false;
            this.onClose(...args);
            this.active = false;
            this.visible = false;
            _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.listener.onClose, ...args);
        }
    }
    link(controller) {
        super.link(controller);
        controller.onOpen.push(this.open.bind(this), this);
        controller.onReady.push(this.onReady.bind(this), this);
        controller.onClosing.push(this.onClosing.bind(this), this);
        controller.onClose.push(this.close.bind(this), this);
        controller.onAddFrame.push(this.onAddFrame.bind(this), this);
    }
    unlink(controller) {
        super.unlink(controller);
        controller.onOpen.unregister(this);
        controller.onReady.unregister(this);
        controller.onClosing.unregister(this);
        controller.onClose.unregister(this);
        controller.onAddFrame.unregister(this);
    }
    get typeName() { return "Frame"; }
    static newInterface() { return new _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentInterface"](new FrameListener(), new FrameController()); }
}
class FrameListener extends _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentListener"] {
    constructor() {
        super(...arguments);
        this._onOpen = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onReady = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClosing = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClose = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onOpen() { return this._onOpen; }
    get onReady() { return this._onReady; }
    get onClosing() { return this._onClosing; }
    get onClose() { return this._onClose; }
}
class FrameController extends _Component__WEBPACK_IMPORTED_MODULE_0__["ComponentController"] {
    constructor() {
        super(...arguments);
        this._onOpen = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onReady = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClosing = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onClose = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onAddFrame = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get onOpen() { return this._onOpen; }
    get onReady() { return this._onReady; }
    get onClosing() { return this._onClosing; }
    get onClose() { return this._onClose; }
    get onAddFrame() { return this._onAddFrame; }
}


/***/ }),

/***/ "./src/engine/gameobject/PolygonCollision.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/PolygonCollision.ts ***!
  \***************************************************/
/*! exports provided: Intersection, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Intersection", function() { return Intersection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PolygonCollision; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Point */ "./src/engine/util/Point.ts");

class Intersection {
    get depth() { return this._depth; }
    get proportionOfDispacementIntersecting() { return this._proportionOfDisplacementIntersecting; }
    set depth(val) { this._depth = val; }
    set proportionOfDispacementIntersecting(val) { this._proportionOfDisplacementIntersecting = val; }
    constructor(point, edge) {
        this.point = point;
        this.edge = edge;
    }
}
class PolygonCollision {
    constructor(polygon1, polygon2) {
        this._polygon1 = polygon1;
        this._polygon2 = polygon2;
    }
    intersects() {
        return this._polygon1.intersects(this._polygon2);
    }
    getProjection() {
        let axes = new Set();
        this._polygon1.edges.forEach(e => axes.add(e.vector.rotate(Math.PI / 2).normalised));
        this._polygon2.edges.forEach(e => {
            let newAxis = e.vector.rotate(Math.PI / 2).normalised;
            let duplicate = false;
            axes.forEach(a => {
                if (!(_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(a, newAxis)))
                    duplicate = true;
            });
            if (!(duplicate))
                axes.add(newAxis);
        });
        let p1MaxDisplacementPerAxis = [];
        let p1MinDisplacementPerAxis = [];
        let p2MaxDisplacementPerAxis = [];
        let p2MinDisplacementPerAxis = [];
        axes.forEach((a, i) => {
            let p1 = this._polygon1.points.map(x => x.projectionIn(a));
            let p2 = this._polygon2.points.map(x => x.projectionIn(a));
            p1MaxDisplacementPerAxis.push(Math.max(...p1));
            p1MinDisplacementPerAxis.push(Math.min(...p1));
            p2MaxDisplacementPerAxis.push(Math.max(...p2));
            p2MinDisplacementPerAxis.push(Math.min(...p2));
            if (!((p1MaxDisplacementPerAxis[i] > p2MinDisplacementPerAxis[i]) && (p1MinDisplacementPerAxis[i] < p2MaxDisplacementPerAxis[i])))
                return null;
        });
        let axis;
        let value = undefined;
        axes.forEach((ax, i) => {
            let a = p1MaxDisplacementPerAxis[i] - p2MinDisplacementPerAxis[i];
            let b = p2MaxDisplacementPerAxis[i] - p1MinDisplacementPerAxis[i];
            if (Math.abs(a) <= Math.abs(b)) {
                if ((value === undefined) || value > Math.abs(a)) {
                    axis = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(axes[i]);
                    value = Math.abs(a);
                }
            }
            else {
                if ((value === undefined) || value > Math.abs(b)) {
                    axis = axes[i];
                    value = Math.abs(b);
                }
            }
        });
        if (value)
            return _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].multiply(axis, value);
        return null;
    }
    getIntersection(polygon1Displacement) {
        if (polygon1Displacement.isZero)
            return null;
        let leadingPoint = this._polygon1.maximumProjectionOnVector(polygon1Displacement);
        let start = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(leadingPoint, polygon1Displacement);
        let intersections = this._polygon2.intersectionsWithEdge(start, leadingPoint);
        let smallestDistance = undefined;
        let firstIntersection;
        intersections.forEach(i => {
            let d = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(i.point, start).magnitude;
            if ((smallestDistance === undefined) || (d < smallestDistance)) {
                smallestDistance = d;
                firstIntersection = i;
            }
        });
        if (firstIntersection) {
            firstIntersection.depth = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(leadingPoint, firstIntersection.point).magnitude;
            firstIntersection.proportionOfDispacementIntersecting = firstIntersection.depth / polygon1Displacement.magnitude;
            let ev = firstIntersection.edge.vector;
            firstIntersection.angle = _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].angleBetween(polygon1Displacement, ev);
            return firstIntersection;
        }
        return null;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeBuffer.ts":
/*!**********************************************!*\
  !*** ./src/engine/gameobject/ThreeBuffer.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeBuffer; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");


class ThreeBuffer extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(...arguments);
        this._fieldOfView = 75;
        this._nearClip = 0.1;
        this._farClip = 1000;
        this._hasAlphaChanel = false;
        this._cameraAspectFunction = (width, height) => width / height;
    }
    get scene() { return this._scene; }
    get camera() { return this._camera; }
    get canvas() { return this._canvas; }
    get renderer() { return this._renderer; }
    get fieldOfView() { return this._fieldOfView; }
    set fieldOfView(val) {
        this._fieldOfView = val;
        this._cameraUpdateRequired = true;
    }
    get nearClip() { return this._nearClip; }
    set nearClip(val) {
        this._nearClip = val;
        this._cameraUpdateRequired = true;
    }
    get farClip() { return this._farClip; }
    set farClip(val) {
        this._farClip = val;
        this._cameraUpdateRequired = true;
    }
    get cameraAspectFunction() { return this._cameraAspectFunction; }
    set cameraAspectFunction(val) {
        this._cameraAspectFunction = val;
        this._cameraUpdateRequired = true;
    }
    create() {
        this._scene = new THREE.Scene();
        this._renderer = new THREE.WebGLRenderer({ alpha: this._hasAlphaChanel });
        this._camera = new THREE.PerspectiveCamera(this._fieldOfView, 1, this._nearClip, this._farClip);
        this._scene.add(this._camera);
        this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
        this._canvas = this._renderer.domElement;
        this.cameraUpdate();
    }
    interfaces(interfaces) {
        interfaces["threeParent"] = this.scene;
        return interfaces;
    }
    cameraUpdate() {
        this._camera.aspect = this.cameraAspectFunction(this.transform.bounds.dimension.width, this.transform.bounds.dimension.height);
        this._camera.fov = this._fieldOfView;
        this._camera.nearClip = this._nearClip;
        this._camera.farClip = this._farClip;
        this._camera.updateProjectionMatrix();
        this._cameraUpdateRequired = false;
    }
    resizeCanvas(dim, devicePixelRatio) {
        this._pixelRatio = devicePixelRatio;
        this._renderer.setSize(dim.width * this._pixelRatio, dim.height * this._pixelRatio);
        this._oldDimension = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](dim.width, dim.height);
    }
    _hasResized() {
        let dim = this.transform.bounds.dimension;
        return ((this._oldDimension.width !== dim.width) ||
            (this._oldDimension.height !== dim.height));
    }
    _hasDevicePixelRatioChanged() {
        return this._pixelRatio !== window.devicePixelRatio;
    }
    begin() {
        if (this._hasResized() || this._hasDevicePixelRatioChanged()) {
            this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
            this.cameraUpdate();
            this.requestDraw();
        }
        else if (this._cameraUpdateRequired) {
            this.cameraUpdate();
            this.requestDraw();
        }
        else if (this.debugDisableCache)
            this.requestDraw();
    }
    draw(context2D) {
        if (context2D) {
            let pos = this.transform.position.drawPositionTopLeft();
            let dim = this.transform.bounds.dimension;
            if (this._drawRequested) {
                this._renderer.render(this._scene, this._camera);
                this._drawRequested = false;
            }
            context2D.drawImage(this._canvas, 0, 0, Math.round(dim.width) * this._pixelRatio, Math.round(dim.height) * this._pixelRatio, Math.round(pos.x), Math.round(pos.y), Math.round(dim.width), Math.round(dim.height));
        }
    }
    requestDraw() {
        this._drawRequested = true;
        super.requestDraw();
    }
    destroy() {
        super.destroy();
        this.scene.dispose();
        this.renderer.dispose();
    }
    disposeNode(node) {
        if (node instanceof THREE.Mesh) {
            if (node.geometry) {
                node.geometry.dispose();
            }
            if (node.material) {
                if (node.material instanceof THREE.MeshFaceMaterial) {
                    node.material.materials.forEach((mtrl, idx) => {
                        if (mtrl.map)
                            mtrl.map.dispose();
                        if (mtrl.lightMap)
                            mtrl.lightMap.dispose();
                        if (mtrl.bumpMap)
                            mtrl.bumpMap.dispose();
                        if (mtrl.normalMap)
                            mtrl.normalMap.dispose();
                        if (mtrl.specularMap)
                            mtrl.specularMap.dispose();
                        if (mtrl.envMap)
                            mtrl.envMap.dispose();
                        mtrl.dispose();
                    });
                }
                else {
                    if (node.material.map)
                        node.material.map.dispose();
                    if (node.material.lightMap)
                        node.material.lightMap.dispose();
                    if (node.material.bumpMap)
                        node.material.bumpMap.dispose();
                    if (node.material.normalMap)
                        node.material.normalMap.dispose();
                    if (node.material.specularMap)
                        node.material.specularMap.dispose();
                    if (node.material.envMap)
                        node.material.envMap.dispose();
                    node.material.dispose();
                }
            }
        }
    }
    disposeHierarchy(node, callback) {
        for (var i = node.children.length - 1; i >= 0; i--) {
            var child = node.children[i];
            this.disposeHierarchy(child, callback);
            callback(child);
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ThreeMesh.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/ThreeMesh.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ThreeMesh; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");

class ThreeMesh extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get mesh() { return this._mesh; }
    set mesh(val) {
        this._newMesh = val;
        this._meshUpdated = true;
    }
    constructor(mesh, material) {
        super(null);
        if (material)
            this._mesh = new THREE.Mesh(mesh, material);
        else
            this._mesh = mesh;
    }
    create({ threeParent: threeParent }) {
        threeParent.add(this._mesh);
    }
    update({ threeParent: threeParent }) {
        if (this._meshUpdated) {
            threeParent.remove(this.mesh);
            this._mesh = this._newMesh;
            this._newMesh = null;
            threeParent.add(this._mesh);
            this._meshUpdated = false;
        }
    }
    interfaces(interfaces) {
        interfaces["threeParent"] = this.mesh;
        return interfaces;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/Timer.ts":
/*!****************************************!*\
  !*** ./src/engine/gameobject/Timer.ts ***!
  \****************************************/
/*! exports provided: Timer, TimeOutCallback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timer", function() { return Timer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeOutCallback", function() { return TimeOutCallback; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../GameObject */ "./src/engine/GameObject.ts");

class Timer extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(null, null);
        this._time = 0;
        this._startTime = 0;
        this._previousTime = 0;
        this._timeOutCallbacks = [];
        this._running = false;
    }
    get typeName() { return "Timer"; }
    get time() { return this._time; }
    set time(val) { this._time = val; }
    get running() { return this._running; }
    addTimeOutCallback(time, callback) {
        this._timeOutCallbacks.push(new TimeOutCallback(time, callback));
    }
    start() {
        this._running = true;
        this._startTime = Date.now();
        this._previousTime = 0;
        this.time = 0;
    }
    pause() {
        this._previousTime = this.time;
        this._running = false;
    }
    resume() {
        this._startTime = Date.now();
        this._running = true;
    }
    begin({ timing: t }) {
        if (this.running) {
            this.time = (Date.now() - this._startTime) + this._previousTime;
            this._timeOutCallbacks.forEach(x => {
                if (this.time > x.time)
                    x.callback();
            });
        }
    }
}
class TimeOutCallback {
    constructor(time, callback) {
        this.time = time;
        this.callback = callback;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Animation.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/anim/Animation.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Animation; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");


class Animation extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor() {
        super(null, null);
        this._done = false;
        this._onComplete = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._onStep = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    get done() { return this._done; }
    get onComplete() { return this._onComplete; }
    set onComplete(val) { this._onComplete = val; }
    get onStep() { return this._onStep; }
    set onStep(val) { this._onStep = val; }
    update(...args) {
        if (!this.done)
            this.onStep.call();
    }
    complete() {
        this._done = true;
        this.onComplete.call();
        this.requestRemoval();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Point3Tween.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/anim/Point3Tween.ts ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point3Tween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");
/* harmony import */ var _util_Point3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point3 */ "./src/engine/util/Point3.ts");


class Point3Tween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    increment(delta) {
        let newX = ((this.targetValue.x - this.currentValue.x) / this.timeRemaining) * delta + this.currentValue.x;
        let newY = ((this.targetValue.y - this.currentValue.y) / this.timeRemaining) * delta + this.currentValue.y;
        let newZ = ((this.targetValue.z - this.currentValue.z) / this.timeRemaining) * delta + this.currentValue.z;
        if (this.currentValue.x < this.targetValue.x)
            newX = Math.min(this.targetValue.x, newX);
        else if (this.currentValue.x > this.targetValue.x)
            newX = Math.max(this.targetValue.x, newX);
        if (this.currentValue.y < this.targetValue.y)
            newY = Math.min(this.targetValue.y, newY);
        else if (this.currentValue.y > this.targetValue.y)
            newY = Math.max(this.targetValue.y, newY);
        if (this.currentValue.z < this.targetValue.z)
            newZ = Math.min(this.targetValue.z, newZ);
        else if (this.currentValue.y > this.targetValue.y)
            newZ = Math.max(this.targetValue.z, newZ);
        this.currentValue = new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](newX, newY, newZ);
    }
    get reachedTarget() { return _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"].equals(this.currentValue, this.targetValue); }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Tween.ts":
/*!*********************************************!*\
  !*** ./src/engine/gameobject/anim/Tween.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Tween; });
/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Animation */ "./src/engine/gameobject/anim/Animation.ts");

class Tween extends _Animation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time) {
        super();
        this._requestDrawOnChange = true;
        if (object) {
            this._object = object;
            this._startValue = object[variableName];
            this._variableName = variableName;
            this._targetValue = targetValue;
            this._time = time;
            this._timeRemaining = time;
        }
    }
    get object() { return this._object; }
    get variableName() { return this._variableName; }
    get startValue() { return this._startValue; }
    get targetValue() { return this._targetValue; }
    get currentValue() { return this.object[this.variableName]; }
    set currentValue(val) { this.object[this.variableName] = val; }
    get time() { return this._time; }
    get timeRemaining() { return this._timeRemaining; }
    get requestDrawOnChange() { return this._requestDrawOnChange; }
    set requestDrawOnChange(val) { this._requestDrawOnChange = val; }
    update({ timing: t }) {
        super.update();
        if (!this.done) {
            if (this.requestDrawOnChange)
                this.requestDraw();
            this._timeRemaining -= t.delta;
            if (this._timeRemaining <= 0) {
                this.currentValue = this.targetValue;
                this.complete();
            }
            else {
                this.increment(t.delta);
                if (this.reachedTarget)
                    this.complete();
            }
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/ValueTween.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/anim/ValueTween.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ValueTween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");

class ValueTween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get rate() {
        if (this.timeRemaining <= 0)
            return 0;
        return ((this.targetValue - this.currentValue) / this.timeRemaining);
    }
    increment(delta) {
        let newVal = this.currentValue + (this.rate * delta);
        if (this.currentValue < this.targetValue)
            this.currentValue = Math.min(newVal, this.targetValue);
        else
            this.currentValue = Math.max(newVal, this.targetValue);
    }
    get reachedTarget() { return this.currentValue === this.targetValue; }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/Wait.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/anim/Wait.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Wait; });
/* harmony import */ var _Animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Animation */ "./src/engine/gameobject/anim/Animation.ts");

class Wait extends _Animation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Wait"; }
    constructor(time) {
        super();
        this._time = time;
        this._timeRemaining = time;
    }
    get time() { return this._time; }
    get timeRemaining() { return this._timeRemaining; }
    update({ timing: t }) {
        super.update();
        this._timeRemaining -= t.delta;
        if (this.timeRemaining <= 0)
            this.complete();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/WrappingPoint3Tween.ts":
/*!***********************************************************!*\
  !*** ./src/engine/gameobject/anim/WrappingPoint3Tween.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WrappingPoint3Tween; });
/* harmony import */ var _Tween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Tween */ "./src/engine/gameobject/anim/Tween.ts");
/* harmony import */ var _util_Point3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point3 */ "./src/engine/util/Point3.ts");


class WrappingPoint3Tween extends _Tween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time, wrapValue) {
        super(object, variableName, targetValue, time);
        this._wrapValue = wrapValue;
    }
    shortestDistanceDim(ax, bx, lx) {
        if (ax === bx)
            return 0;
        let wrapx = (ax < bx) ? ((lx - bx) + ax) : ((lx - ax) + bx);
        let straightx = Math.abs(bx - ax);
        if (straightx < wrapx)
            return bx - ax;
        else {
            if (ax < bx)
                return -wrapx;
            else
                return wrapx;
        }
    }
    get rate() {
        let x = this.shortestDistanceDim(this.currentValue.x, this.targetValue.x, this._wrapValue.x);
        let y = this.shortestDistanceDim(this.currentValue.y, this.targetValue.y, this._wrapValue.y);
        let z = this.shortestDistanceDim(this.currentValue.z, this.targetValue.z, this._wrapValue.z);
        return new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](x / this.timeRemaining, y / this.timeRemaining, z / this.timeRemaining);
    }
    incrementDim(cx, tx, rx, newX) {
        if ((cx < tx) && (rx > 0))
            newX = Math.min(tx, newX);
        if ((cx < tx) && (rx < 0)) {
            if (newX < this.currentValue)
                newX = Math.min(newX, tx);
        }
        else if ((cx > tx) && (rx > 0)) {
            if (newX > this.currentValue)
                newX = Math.max(newX, this.targetValue);
        }
        else if ((cx > tx) && (rx < 0))
            newX = Math.max(tx, newX);
        return newX;
    }
    increment(delta) {
        let rate = this.rate;
        let newX = (rate.x * delta + this.currentValue.x) % this._wrapValue.x;
        let newY = (rate.y * delta + this.currentValue.y) % this._wrapValue.y;
        let newZ = (rate.z * delta + this.currentValue.z) % this._wrapValue.z;
        newX = this.incrementDim(this.currentValue.x, this.targetValue.x, rate.x, newX);
        newY = this.incrementDim(this.currentValue.y, this.targetValue.y, rate.y, newY);
        newZ = this.incrementDim(this.currentValue.z, this.targetValue.z, rate.z, newZ);
        this.currentValue = new _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"](newX, newY, newZ);
    }
    get reachedTarget() { return _util_Point3__WEBPACK_IMPORTED_MODULE_1__["default"].equals(this.currentValue, this.targetValue); }
}


/***/ }),

/***/ "./src/engine/gameobject/anim/WrappingValueTween.ts":
/*!**********************************************************!*\
  !*** ./src/engine/gameobject/anim/WrappingValueTween.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WrappingValueTween; });
/* harmony import */ var _ValueTween__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");

class WrappingValueTween extends _ValueTween__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(object, variableName, targetValue, time, wrapValue) {
        super(object, variableName, targetValue, time);
        this._wrapValue = wrapValue;
        let wrapping = Math.abs(this.startValue - this.targetValue) > this._wrapValue / 2;
        let upwards = this.startValue < this.targetValue;
        this._directionIsUp = ((upwards && !wrapping) || (!upwards && wrapping));
    }
    shortestDistance() {
        if (this.targetValue === this.currentValue)
            return 0;
        if (this._directionIsUp && (this.targetValue < this.currentValue))
            return this.targetValue + this._wrapValue - this.currentValue;
        if (this._directionIsUp && (this.targetValue > this.currentValue))
            return this.targetValue - this.currentValue;
        if (!this._directionIsUp && (this.targetValue < this.currentValue))
            return this.targetValue - this.currentValue;
        if (!this._directionIsUp && (this.targetValue > this.currentValue))
            return this.targetValue - (this.currentValue + this._wrapValue);
    }
    get rate() {
        if (this.timeRemaining <= 0)
            return 0;
        return (this.shortestDistance() / this.timeRemaining);
    }
    increment(delta) {
        let newVal = this.currentValue + (this.rate * delta);
        if ((this.currentValue < this.targetValue) && (this._directionIsUp))
            this.currentValue = Math.min(newVal, this.targetValue);
        else if ((this.currentValue > this.targetValue) && (this._directionIsUp)) {
            if (newVal % this._wrapValue < this.currentValue)
                this.currentValue = Math.min(newVal, this.targetValue);
            else
                this.currentValue = newVal;
        }
        else if ((this.currentValue < this.targetValue) && !(this._directionIsUp)) {
            if (newVal % this._wrapValue > this.currentValue)
                this.currentValue = Math.max(newVal, this.targetValue);
            else
                this.currentValue = newVal;
        }
        else if ((this.currentValue > this.targetValue) && !(this._directionIsUp))
            this.currentValue = Math.max(newVal, this.targetValue);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/BufferClone.ts":
/*!********************************************************!*\
  !*** ./src/engine/gameobject/context2d/BufferClone.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return BufferClone; });
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");



class BufferClone extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(position, bounds, drawBuffer, clipFunction) {
        super(position, bounds);
        this._origin = new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this._area = null;
        this._drawBuffer = drawBuffer;
        this._clipFunction = clipFunction;
    }
    get typeName() { return "BufferClone"; }
    get clipFunction() { return this._clipFunction; }
    set clipFunction(val) { this._clipFunction = val; }
    get origin() { return this._origin; }
    set origin(val) { this._origin = val; }
    get area() { return this._area; }
    set area(val) { this._area = val; }
    get drawBuffer() { return this._drawBuffer; }
    draw(context2D) {
        if (!this._drawBuffer)
            throw new Error("Cannot draw bufferclone because the provided DrawBuffer is null");
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        let dbDim = this._drawBuffer.canvasUsedDimension;
        if (this._clipFunction) {
            context2D.save();
            this._clipFunction(context2D, pos, dim);
            context2D.clip();
        }
        let sourceDim = dbDim;
        if (this.area) {
            sourceDim = this.area.asSimplePixelDimension(this.transform.bounds);
            sourceDim = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_0__["default"](sourceDim.width * this.drawBuffer.pixelRatio, sourceDim.height * this.drawBuffer.pixelRatio);
        }
        let orig = this.origin.absolutePositionTopLeft(this.drawBuffer.transform.bounds);
        context2D.drawImage(this._drawBuffer.canvas, orig.x * this.drawBuffer.pixelRatio, orig.y * this.drawBuffer.pixelRatio, sourceDim.width, sourceDim.height, pos.x, pos.y, dim.width, dim.height);
        if (this._clipFunction)
            context2D.restore();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Buffered.ts":
/*!*****************************************************!*\
  !*** ./src/engine/gameobject/context2d/Buffered.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Buffered; });
/* harmony import */ var _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Component */ "./src/engine/gameobject/Component.ts");
/* harmony import */ var _Frame__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Frame */ "./src/engine/gameobject/Frame.ts");







class Buffered extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(type, ...constructorArgs) {
        let arg1 = constructorArgs.shift();
        if (arg1 instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"])
            super(arg1, constructorArgs.shift());
        else if (arg1 instanceof _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"])
            super(null, arg1);
        else
            throw new Error("Cannot create a Buffered<GameObject> that lacks a bounds. DrawBuffers require a Bounds");
        this._constructorArgs = constructorArgs;
        this._type = type;
        this._buffer = new _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)));
        this._inner = new this._type(new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), ...this._constructorArgs);
    }
    get inner() { return this._inner; }
    get buffer() { return this._buffer; }
    create() {
        this.addChild(this._buffer);
        this._buffer.addChild(this._inner);
        if (this.inner instanceof _Component__WEBPACK_IMPORTED_MODULE_5__["Component"])
            this.inner.controller.onDestroy.push((() => { this.requestRemoval(); }).bind(this), this);
        if (this.inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"]) {
            this.inner.listener.onClose.push((() => { this.visible = false; this.active = false; }).bind(this), this);
            this.inner.listener.onOpen.push((() => { this.visible = true; this.active = true; }).bind(this), this);
            this.visible = this.inner.isOpen;
        }
    }
    destroy() {
        super.destroy();
        if (this.inner instanceof _Component__WEBPACK_IMPORTED_MODULE_5__["Component"])
            this.inner.controller.onDestroy.unregister(this);
        if (this.inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"]) {
            this.inner.listener.onClose.unregister(this);
            this.inner.listener.onOpen.unregister(this);
        }
    }
    draw() {
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Circle.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/context2d/Circle.ts ***!
  \***************************************************/
/*! exports provided: Circle, FillCircle, OutlineCircle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Circle", function() { return Circle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillCircle", function() { return FillCircle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineCircle", function() { return OutlineCircle; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");


class Circle extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Circle"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
    }
    outline(context2D, pos, dim) {
        let radDim = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](Math.max(0, dim.width - this.lineWidth), Math.max(0, dim.height - this.lineWidth));
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        context2D.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(radDim.width, radDim.height) / 2, 0, 2 * Math.PI);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        context2D.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(dim.width, dim.height) / 2, 0, 2 * Math.PI);
        context2D.fill();
    }
}
class FillCircle extends Circle {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineCircle extends Circle {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/DrawBuffer.ts":
/*!*******************************************************!*\
  !*** ./src/engine/gameobject/context2d/DrawBuffer.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DrawBuffer; });
/* harmony import */ var _Transform__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Transform */ "./src/engine/Transform.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");




class DrawBuffer extends _GameObject__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(position, bounds) {
        super(new DrawTransform(position, bounds));
        this._canvas = null;
        this._context2D = null;
        this._drawRequested = false;
        this._hasAlphaChannel = true;
        this._imageData = null;
        this.debugDisableCache = false;
        this._forgetInternalsOnDraw = false;
        this._canvasDrawFixed = false;
        if (this.transform.position)
            this.transform.position.resetDrawPos = true;
    }
    get typeName() { return "DrawBuffer"; }
    get forgetInternalsOnDraw() { return this._forgetInternalsOnDraw; }
    set forgetInternalsOnDraw(val) { this._forgetInternalsOnDraw = val; }
    get canvasDrawFixed() { return this._canvasDrawFixed; }
    get canvas() { return this._canvas; }
    get context2D() { return this._context2D; }
    get canvasUsedDimension() { return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_3__["default"](Math.ceil(this.transform.bounds.dimension.width * this.pixelRatio), Math.ceil(this.transform.bounds.dimension.height * this.pixelRatio)); }
    get backgroundColor() { return this._backgroundColor; }
    set backgroundColor(val) { this._backgroundColor = val; }
    get pixelRatio() { return this._pixelRatio; }
    get hasAlphaChannel() { return this._hasAlphaChannel; }
    set hasAlphaChannel(val) {
        if ((this._hasAlphaChannel !== val) && (this._canvas))
            this._context2D = this._canvas.getContext('2d', { alpha: val });
        this._hasAlphaChannel = val;
    }
    get drawRequested() { return this._drawRequested; }
    create() {
        this._createDrawBuffer();
    }
    _createDrawBuffer() {
        this._canvas = document.createElement('canvas');
        this._context2D = this._canvas.getContext('2d', { alpha: this.hasAlphaChannel });
        this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
        this.clear();
    }
    resizeCanvas(dim, devicePixelRatio) {
        this._pixelRatio = devicePixelRatio;
        this.canvas.width = Math.max(dim.width * this.pixelRatio, DrawBuffer.minCanvasSize);
        this.canvas.height = Math.max(dim.height * this.pixelRatio, DrawBuffer.minCanvasSize);
        this._oldDimension = new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_2__["default"](dim.width, dim.height);
        this._context2D.setTransform(1, 0, 0, 1, 0, 0);
        this._context2D.scale(this.pixelRatio, this.pixelRatio);
    }
    clear() {
        if (this.backgroundColor) {
            this._context2D.fillStyle = this.backgroundColor;
            this._context2D.fillRect(0, 0, this._canvas.width / this.pixelRatio, this._canvas.height / this.pixelRatio);
        }
        else
            this._context2D.clearRect(0, 0, this.canvas.width / this.pixelRatio, this.canvas.height / this.pixelRatio);
    }
    doDraw(context2D) {
        if ((this.created) && (this.visible)) {
            let startingOpacity = undefined;
            if (this.opacity !== 1) {
                startingOpacity = context2D.globalAlpha;
                context2D.globalAlpha = context2D.globalAlpha * this.opacity;
            }
            if ((this._drawRequested) && (!(this._canvasDrawFixed))) {
                this._drawRequested = false;
                this.clear();
                this.children.forEach(x => x.doDraw(this._context2D));
                if (this._forgetInternalsOnDraw) {
                    this.children.forEach(c => this.removeChild(c));
                    this._canvasDrawFixed = true;
                }
            }
            if (this.transform.position)
                this.draw(context2D);
            if (startingOpacity !== undefined)
                context2D.globalAlpha = startingOpacity;
        }
    }
    _hasResized() {
        let dim = this.transform.bounds.dimension;
        return ((this._oldDimension.width !== dim.width) ||
            (this._oldDimension.height !== dim.height));
    }
    _hasDevicePixelRatioChanged() {
        return this._pixelRatio !== window.devicePixelRatio;
    }
    begin() {
        if (this._hasResized() || this._hasDevicePixelRatioChanged()) {
            this.resizeCanvas(this.transform.bounds.dimension, window.devicePixelRatio);
            this.requestDraw();
        }
        else if (this.debugDisableCache)
            this.requestDraw();
    }
    draw(context2D) {
        if (context2D) {
            this.transform.position.resetDrawPos = false;
            this.__pos = this.transform.position.drawPositionTopLeft();
            this.__dim = this.transform.bounds.dimension;
            this.transform.position.resetDrawPos = true;
            context2D.drawImage(this._canvas, 0, 0, Math.round(this.__dim.width) * this.pixelRatio, Math.round(this.__dim.height) * this.pixelRatio, Math.round(this.__pos.x), Math.round(this.__pos.y), Math.round(this.__dim.width), Math.round(this.__dim.height));
        }
    }
    requestDraw() {
        this._drawRequested = true;
        super.requestDraw();
    }
}
DrawBuffer.minCanvasSize = 256;
class DrawTransform extends _Transform__WEBPACK_IMPORTED_MODULE_0__["default"] {
    recalculate(excludeDrawCache) {
        if (!(excludeDrawCache))
            if (!(this.bounds.hasResizedAutoUpdate())) {
                if (this.position)
                    this.position.drawCacheDirty = true;
                excludeDrawCache = true;
                super.gameObject.requestDraw();
            }
        super.recalculate(excludeDrawCache);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Rect.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/context2d/Rect.ts ***!
  \*************************************************/
/*! exports provided: Rect, FillRect, OutlineRect, DebugRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Rect", function() { return Rect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillRect", function() { return FillRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineRect", function() { return OutlineRect; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DebugRect", function() { return DebugRect; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");




class Rect extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Rect"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
    }
    outline(context2D, pos, dim) {
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        context2D.rect(pos.x + this.lineWidth / 2, pos.y + this.lineWidth / 2, dim.width - this.lineWidth, dim.height - this.lineWidth);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        context2D.fillRect(pos.x, pos.y, dim.width, dim.height);
    }
}
class FillRect extends Rect {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineRect extends Rect {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}
class DebugRect extends OutlineRect {
    constructor(colour, lineWidth) {
        super(new _transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_2__["default"](1, 1)), colour, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Root.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/context2d/Root.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Root; });
/* harmony import */ var _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _ui_DebugPane__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/DebugPane */ "./src/engine/gameobject/ui/DebugPane.ts");
/* harmony import */ var _Buffered__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Buffered */ "./src/engine/gameobject/context2d/Buffered.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _Frame__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Frame */ "./src/engine/gameobject/Frame.ts");







class Root extends _DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(type, ...constructorArgs) {
        let arg1 = constructorArgs.shift();
        if (arg1 instanceof _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"])
            super(arg1, constructorArgs.shift());
        else if (arg1 instanceof _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"])
            super(null, arg1);
        else
            throw new Error("Cannot create a Buffered<GameObject> that lacks a bounds. DrawBuffers require a Bounds");
        this._constructorArgs = constructorArgs;
        this._type = type;
        this._buffered = new _Buffered__WEBPACK_IMPORTED_MODULE_2__["default"](this._type, new _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), ...this._constructorArgs);
        this._inner = this._buffered.inner;
    }
    get debugPane() { return this._debugPane; }
    set debugPane(val) { this._debugPane = val; }
    createCanvas(name) {
        this._createDrawBuffer();
        this._canvas.id = name;
    }
    resizeToOnUpdate(dimension) { this._resizeTarget = dimension; }
    resizeCanvas(dim, devicePixelRatio) {
        super.resizeCanvas(dim, devicePixelRatio);
        this.canvas.style.width = this.transform.bounds.dimension.width + 'px';
        this.canvas.style.height = this.transform.bounds.dimension.height + 'px';
    }
    create() {
        this.hasAlphaChannel = false;
        this.addChild(this._buffered);
    }
    afterCreate() {
        if (this.debugPane) {
            let debugPane = this._buffered.buffer.addChild(new _ui_DebugPane__WEBPACK_IMPORTED_MODULE_1__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1))));
            debugPane.visible = false;
            debugPane.active = true;
        }
        this._buffered.buffer.backgroundColor = this.backgroundColor;
        this._buffered.buffer.hasAlphaChannel = false;
        if (this._inner instanceof _Frame__WEBPACK_IMPORTED_MODULE_6__["Frame"])
            this._inner.open();
    }
    begin() {
        if (this._resizeTarget) {
            this.transform.bounds.clearDimensions();
            this.transform.bounds.addDimension(this._resizeTarget);
            this._resizeTarget = null;
            this.transform.recalculate();
        }
        super.begin();
    }
    get typeName() { return "Root"; }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/RoundedRect.ts":
/*!********************************************************!*\
  !*** ./src/engine/gameobject/context2d/RoundedRect.ts ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RoundedRect; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");

class RoundedRect extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "RoundedRect"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth, radius) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
        this._radius = radius;
    }
    draw(context2D) {
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.fillStyle = this.fillStyle;
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        let filled = (this.fillStyle !== undefined);
        let stroke = (this.strokeStyle !== undefined);
        this.roundRect(context2D, pos.x, pos.y, dim.width, dim.height, this._radius, filled, stroke);
    }
    roundRect(ctx, x, y, width, height, radius, fill, stroke) {
        if (typeof stroke == 'undefined') {
            stroke = true;
        }
        if (typeof radius === 'undefined') {
            radius = 5;
        }
        if (typeof radius === 'number') {
            radius = { tl: radius, tr: radius, br: radius, bl: radius };
        }
        else {
            var defaultRadius = { tl: 0, tr: 0, br: 0, bl: 0 };
            for (var side in defaultRadius) {
                radius[side] = radius[side] || defaultRadius[side];
            }
        }
        ctx.beginPath();
        ctx.moveTo(x + radius.tl, y);
        ctx.lineTo(x + width - radius.tr, y);
        ctx.quadraticCurveTo(x + width, y, x + width, y + radius.tr);
        ctx.lineTo(x + width, y + height - radius.br);
        ctx.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height);
        ctx.lineTo(x + radius.bl, y + height);
        ctx.quadraticCurveTo(x, y + height, x, y + height - radius.bl);
        ctx.lineTo(x, y + radius.tl);
        ctx.quadraticCurveTo(x, y, x + radius.tl, y);
        ctx.closePath();
        if (fill) {
            ctx.fill();
        }
        if (stroke) {
            ctx.stroke();
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Shape.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/context2d/Shape.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Shape; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class Shape extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._strokeStyle = undefined;
        this._fillStyle = undefined;
        this._lineWidth = undefined;
    }
    get typeName() { return "Shape"; }
    get strokeStyle() { return this._strokeStyle; }
    get fillStyle() { return this._fillStyle; }
    get lineWidth() { return this._lineWidth; }
    set strokeStyle(val) { this._strokeStyle = val; }
    set lineWidth(val) { this._lineWidth = val; }
    set fillStyle(val) { this._fillStyle = val; }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Sprite.ts":
/*!***************************************************!*\
  !*** ./src/engine/gameobject/context2d/Sprite.ts ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Sprite; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class Sprite extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Sprite"; }
    constructor(position, bounds, ...filenames) {
        super(position, bounds);
        this._filenames = filenames;
        this._img = null;
    }
    get filenames() { return this._filenames; }
    load({ loader: l }) {
        this._loadedDPR = Math.min(Math.ceil(window.devicePixelRatio), this.filenames.length);
        this.addAsset(l.loadImage(this.filenames[this._loadedDPR - 1], (asset) => {
            asset.loaded = true;
            this.visible = false;
        }));
        return true;
    }
    create() {
        this._img = this.getAsset(this.filenames[this._loadedDPR - 1]);
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        context2D.drawImage(this._img, 0, 0, this._img.naturalWidth, this._img.naturalHeight, pos.x, pos.y, dim.width, dim.height);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/context2d/Triangle.ts":
/*!*****************************************************!*\
  !*** ./src/engine/gameobject/context2d/Triangle.ts ***!
  \*****************************************************/
/*! exports provided: Triangle, FillTriangle, OutlineTriangle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Triangle", function() { return Triangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FillTriangle", function() { return FillTriangle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OutlineTriangle", function() { return OutlineTriangle; });
/* harmony import */ var _Shape__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shape */ "./src/engine/gameobject/context2d/Shape.ts");
/* harmony import */ var _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");



class Triangle extends _Shape__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get typeName() { return "Triangle"; }
    constructor(position, bounds, strokeStyle, fillStyle, lineWidth) {
        super(position, bounds);
        this.strokeStyle = strokeStyle;
        this.fillStyle = fillStyle;
        this.lineWidth = lineWidth;
    }
    draw(context2D) {
        let pos = this.transform.position.drawPositionTopLeft();
        let dim = this.transform.bounds.dimension;
        if (this.fillStyle)
            this.filled(context2D, pos, dim);
        if ((this.lineWidth > 0) && (this.strokeStyle))
            this.outline(context2D, pos, dim);
    }
    outline(context2D, pos, dim) {
        context2D.strokeStyle = this.strokeStyle;
        context2D.lineWidth = this.lineWidth;
        context2D.beginPath();
        let newPos = _util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].add(pos, new _util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0.75 * this.lineWidth, 0.75 * this.lineWidth));
        let newDim = _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].add(dim, new _transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](-this.lineWidth * 1.5, -this.lineWidth * 1.5));
        this._drawPath(context2D, newPos, newDim);
        context2D.stroke();
    }
    filled(context2D, pos, dim) {
        context2D.fillStyle = this.fillStyle;
        context2D.beginPath();
        this._drawPath(context2D, pos, dim);
        context2D.fill();
    }
    _drawPath(context2D, pos, dim) {
        context2D.translate(pos.x, pos.y);
        context2D.beginPath();
        context2D.moveTo(0.5 * dim.width, 0);
        context2D.lineTo(dim.width, dim.height);
        context2D.lineTo(0, dim.height);
        context2D.closePath();
        context2D.translate(-pos.x, -pos.y);
    }
}
class FillTriangle extends Triangle {
    constructor(position, bounds, fillStyle) {
        super(position, bounds, undefined, fillStyle, 0);
    }
}
class OutlineTriangle extends Triangle {
    constructor(position, bounds, strokeStyle, lineWidth) {
        super(position, bounds, strokeStyle, undefined, lineWidth);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/Button.ts":
/*!********************************************!*\
  !*** ./src/engine/gameobject/ui/Button.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Button; });
/* harmony import */ var _ClickTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ClickTrigger */ "./src/engine/gameobject/ui/ClickTrigger.ts");

class Button extends _ClickTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, content) {
        super(position, bounds);
        this._buttonReset = false;
        this._content = content;
    }
    get typeName() { return "Button"; }
    get content() { return this._content; }
    get hoverRect() { return this._hoverRect; }
    get pressedRect() { return this._pressedRect; }
    setHoverRect(val) {
        this._hoverRect = val;
        this._hoverRect.visible = false;
    }
    setPressedRect(val) {
        this._pressedRect = val;
        this._pressedRect.visible = false;
    }
    reset() {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
        this.requestDraw();
        this._buttonReset = true;
    }
    decreate() {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
    }
    create() {
        if (this._content)
            this.addChild(this._content);
    }
    update({ mouse: m }) {
        if ((this.interactable) && (!m.handled))
            this.checkMouseActions(m);
    }
    onMouseClick(m, touch, touchID) {
        if (!this._buttonReset)
            super.onMouseClick(m, touch, touchID);
        m.setHandled(touch);
    }
    onMouseMove(m, touch, touchID) {
        m.setHandled(touch);
    }
    onMouseDown(m) {
        this._buttonReset = false;
        if (this.pressedRect)
            this.pressedRect.visible = true;
        if (this.hoverRect)
            this.hoverRect.visible = false;
        m.setHandled();
    }
    onMouseUp(m) {
        if (this.pressedRect)
            this.pressedRect.visible = false;
        if (this.hoverRect)
            this.hoverRect.visible = true;
        m.setHandled();
    }
    onMouseEnter(m) {
        if (this.hoverRect)
            this.hoverRect.visible = true;
        m.setHandled();
    }
    onMouseLeave(m) {
        if (this.hoverRect)
            this.hoverRect.visible = false;
        if (this.pressedRect)
            this.pressedRect.visible = false;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/ClickTrigger.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/ui/ClickTrigger.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ClickTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");


class ClickTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this.onlyIfUnhandled = false;
        this._onClick = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get typeName() { return "ClickTrigger"; }
    get onClick() { return this._onClick; }
    onMouseClick(mouse, touch, touchID) {
        if (!(this.onlyIfUnhandled && touch.handled))
            engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"].call(this.onClick, mouse);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/DebugPane.ts":
/*!***********************************************!*\
  !*** ./src/engine/gameobject/ui/DebugPane.ts ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DebugPane; });
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");








class DebugPane extends _GameObject__WEBPACK_IMPORTED_MODULE_5__["default"] {
    get typeName() { return "DebugPane"; }
    create() {
        this.timingText = this.addChild(new _Text__WEBPACK_IMPORTED_MODULE_0__["default"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, new _util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1)), new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, -5)), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](), "FPS:", "black", 12, "serif"));
        this.beginTime = undefined;
        this.drawTime = undefined;
        this.endTime = undefined;
        this.updateTime = undefined;
        this.averageSteps = undefined;
        let kt = this.addChild(new _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__["default"]());
        kt.getKeyEvent("Tab", _KeyTrigger__WEBPACK_IMPORTED_MODULE_1__["KeyTriggerEvents"].onKeyPress).push(() => this.visible = !(this.visible), this);
    }
    update({ timing: t, keyboard: k }) {
        this.beginTime = this.runningAverage(this.beginTime, t.beginTime, t.fps);
        this.updateTime = this.runningAverage(this.updateTime, t.updateTime, t.fps * t.updateSteps);
        this.drawTime = this.runningAverage(this.drawTime, t.drawTime, t.fps);
        this.endTime = this.runningAverage(this.endTime, t.endTime, t.fps);
        this.loopTime = this.runningAverage(this.loopTime, t.loopTime, t.fps);
        this.averageSteps = this.runningAverage(this.averageSteps, t.updateSteps, t.fps);
        this.timingText.text = ("FPS: " + t.fps).substring(0, 7) +
            ("   Begin: " + this.beginTime).substring(0, 14) +
            ("   Draw: " + this.drawTime).substring(0, 13) +
            ("   Update: " + this.updateTime).substring(0, 15) +
            ("   (Steps: " + this.averageSteps).substring(0, 15) + ") " +
            ("   End: " + this.endTime).substring(0, 12) +
            ("   Loop: " + this.loopTime).substring(0, 13) +
            ("   (Calculated FPS: " + Math.round(1000 / this.loopTime)).substring(0, 23) + ")" +
            ("   (Rate: " + 100 / (t.slowDown + 1)).substring(0, 13) + "%)";
        if (this.interactable)
            k.keyPressesThisUpdate.forEach(key => {
                if (key === "-")
                    t.slowDown++;
                else if (key === "+")
                    t.slowDown = Math.max(0, t.slowDown - 1);
            });
    }
    runningAverage(val, newVal, length) {
        if (!val)
            return newVal;
        return (val * (length - 1) + newVal) / length;
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/GridLayout.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/GridLayout.ts ***!
  \************************************************/
/*! exports provided: GridOrientation, default, GridBuilder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridOrientation", function() { return GridOrientation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GridLayout; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GridBuilder", function() { return GridBuilder; });
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");
/* harmony import */ var _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");







var GridOrientation;
(function (GridOrientation) {
    GridOrientation[GridOrientation["Vertical"] = 0] = "Vertical";
    GridOrientation[GridOrientation["Horizontal"] = 1] = "Horizontal";
})(GridOrientation || (GridOrientation = {}));
class GridLayout extends _GameObject__WEBPACK_IMPORTED_MODULE_2__["default"] {
    constructor(position, bounds, cells, orientation) {
        super(position, bounds);
        this._padding = 0;
        this._relativePadding = 0;
        this._cells = cells;
        this._orientation = orientation;
        if (orientation === GridOrientation.Horizontal)
            this.cells.forEach((c, i) => {
                for (let j = 0; j < i; j++)
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, this.cells[j].transform.bounds));
            });
        if (orientation === GridOrientation.Vertical)
            this.cells.forEach((c, i) => {
                for (let j = 0; j < i; j++)
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, this.cells[j].transform.bounds));
            });
        this.conditionalDimension = this.transform.bounds.addDimension(new _transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](this._dimensionFunction.bind(this)));
        this.cells.forEach(c => c.transform.bounds.onResize.push(this.conditionalDimension.markAsUpdated.bind(this), this));
    }
    get typeName() { return "GridLayout"; }
    get middleY() { return this.orientation === GridOrientation.Vertical ? this._padding : 0; }
    get middleX() { return this.orientation === GridOrientation.Horizontal ? this._padding : 0; }
    get cells() { return this._cells; }
    get orientation() { return this._orientation; }
    destroy() {
        this.cells.forEach(c => c.transform.bounds.onResize.unregister(this));
    }
    create() {
        this.cells.forEach(c => this.addChild(c));
    }
    addCell(newCell, index) {
        if (index === undefined)
            index = this.cells.length;
        this.addChild(newCell);
        let middleX = this.middleX;
        let middleY = this.middleY;
        if (this.orientation === GridOrientation.Vertical)
            this.cells.forEach((c, i) => {
                if (i < index)
                    newCell.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, c.transform.bounds));
                else {
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1, newCell.transform.bounds));
                    c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX, middleY));
                }
            });
        if (this.orientation === GridOrientation.Horizontal)
            this.cells.forEach((c, i) => {
                if (i < index)
                    newCell.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, c.transform.bounds));
                else {
                    c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0, newCell.transform.bounds));
                    c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX, middleY));
                }
            });
        this.cells.splice(index, 0, newCell);
        newCell.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX * index, middleY * index));
        newCell.transform.bounds.onResize.push(this.conditionalDimension.markAsUpdated.bind(this), this);
        this.transform.positioningIsDirty();
    }
    removeCell(index) {
        if ((index >= 0) && (index < this.cells.length)) {
            let middleX = this.middleX;
            let middleY = this.middleY;
            let cell = this.cells[index];
            if (this.orientation === GridOrientation.Vertical)
                this.cells.forEach((c, i) => {
                    if (i > index) {
                        c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0, -1, cell.transform.bounds));
                        c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](-middleX, -middleY));
                    }
                });
            if (this.orientation === GridOrientation.Horizontal)
                this.cells.forEach((c, i) => {
                    if (i > index) {
                        c.transform.position.addTranslation(new _transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](-1, 0, cell.transform.bounds));
                        c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](-middleX, -middleY));
                    }
                });
            this.cells.splice(index, 1);
            cell.transform.bounds.onResize.unregister(this);
            cell.requestRemoval();
            this.transform.positioningIsDirty();
        }
    }
    _dimensionFunction(dim) {
        let dims = [];
        this.cells.forEach(c => {
            dims.push(c.transform.bounds.calculating ? c.transform.bounds.cachedDimension : c.transform.bounds.dimension);
        });
        let width = 0;
        let height = 0;
        let middleX = this.middleX;
        let middleY = this.middleY;
        if (this.orientation === GridOrientation.Horizontal)
            dims.forEach(c => {
                width += c.width + middleX;
                height = Math.max(height, c.height);
            });
        if (this.orientation === GridOrientation.Vertical)
            dims.forEach(c => {
                width = Math.max(width, c.width);
                height += c.height + middleY;
            });
        return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_6__["default"](width - middleX, height - middleY);
    }
    addPixelPadding(padding) {
        this._padding = padding;
        let middleX = this.middleX;
        let middleY = this.middleY;
        this.cells.forEach((c, i) => {
            c.transform.position.addTranslation(new _transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_5__["default"](middleX * i, middleY * i));
        });
        this.transform.positioningIsDirty();
    }
}
class GridBuilder {
    constructor() {
        this._newCells = [];
    }
    get grid() { return this._grid; }
    pushCell(newCell, index) {
        if (index === undefined)
            index = this._newCells.length;
        this._newCells.splice(index, 0, newCell);
        return newCell;
    }
    fixLayer(orientation, position, bounds) {
        this._grid = new GridLayout(position || new _transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), bounds || new _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__["default"](), this._newCells, orientation);
        this._newCells = [this._grid];
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/KeyTrigger.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/KeyTrigger.ts ***!
  \************************************************/
/*! exports provided: KeyTriggerEvents, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyTriggerEvents", function() { return KeyTriggerEvents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return KeyTrigger; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");


var KeyTriggerEvents;
(function (KeyTriggerEvents) {
    KeyTriggerEvents[KeyTriggerEvents["onKeyPress"] = 0] = "onKeyPress";
    KeyTriggerEvents[KeyTriggerEvents["onKeyDown"] = 1] = "onKeyDown";
    KeyTriggerEvents[KeyTriggerEvents["onKeyUp"] = 2] = "onKeyUp";
})(KeyTriggerEvents || (KeyTriggerEvents = {}));
class KeyTrigger extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor() {
        super(null, null);
        this._keys = [];
    }
    get typeName() { return "KeyTrigger"; }
    getKeyEvent(keycode, trigger) {
        if (!trigger)
            trigger = KeyTriggerEvents.onKeyDown;
        this._keys.forEach(x => {
            if ((x.keycode === keycode) && (x.trigger === trigger))
                return x.event;
        });
        let event = new _util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._keys.push({ keycode: keycode, trigger: trigger, event: event });
        return event;
    }
    removeKeyEvent(keycode, trigger) {
        let toRemove = this._keys.filter(x => (x.keycode === keycode) && (x.trigger === trigger));
        if (toRemove.length > 0) {
            toRemove.forEach(x => this._keys.splice(this._keys.indexOf(x), 1));
            return true;
        }
        return false;
    }
    begin({ keyboard: k }) {
        if (this.interactable)
            this._keys.forEach(x => {
                if (x.trigger === KeyTriggerEvents.onKeyUp) {
                    if (k.isKeyUp(x.keycode))
                        x.event.call();
                }
                else if (x.trigger === KeyTriggerEvents.onKeyDown) {
                    if (k.isKeyDown(x.keycode))
                        x.event.call();
                    else if (k.keyPressesThisUpdate.indexOf(x.keycode) !== -1)
                        x.event.call();
                }
                else if (x.trigger === KeyTriggerEvents.onKeyPress)
                    if (k.keyPressesThisUpdate.indexOf(x.keycode) !== -1)
                        x.event.call();
            });
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/LoadingBar.ts":
/*!************************************************!*\
  !*** ./src/engine/gameobject/ui/LoadingBar.ts ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadingBar; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var _transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class LoadingBar extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, bgColour, fgColour) {
        super(position, bounds);
        this._bgColour = bgColour;
        this._fgColour = fgColour;
    }
    create() {
        this.addChild(new _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__["FillRect"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this._bgColour));
        this._proportionDimension = new _transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1);
        this._proportionDimension.preserve = true;
        this._innerBar = this.addChild(new _context2d_Rect__WEBPACK_IMPORTED_MODULE_1__["FillRect"](new _transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new _transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](this._proportionDimension), this._fgColour));
    }
    setProportion(proportion) {
        this._proportionDimension.width = proportion;
        this._innerBar.transform.positioningIsDirty();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/MouseDragTrigger.ts":
/*!******************************************************!*\
  !*** ./src/engine/gameobject/ui/MouseDragTrigger.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MouseDragTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");



class TouchDragData {
    constructor() {
        this.dragStart = new engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this.dragging = false;
        this.minDistancePassed = false;
    }
}
class MouseDragTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._touches = new Map();
        this._dragStart = new engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0);
        this._dragging = false;
        this._minDistancePassed = false;
        this.minDistance = 0;
        this._onDrag = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this._onEndDrag = new engine_util_Event__WEBPACK_IMPORTED_MODULE_1__["default"]();
    }
    get typeName() { return "MouseDragTrigger"; }
    get onDrag() { return this._onDrag; }
    get onEndDrag() { return this._onEndDrag; }
    get touchCount() { return this._touches.size; }
    update({ mouse: m }) {
        if (this.interactable)
            this.checkMouseActions(m);
        else {
            this._dragging = false;
            this._minDistancePassed = false;
            this._touches.forEach(t => {
                t.dragging = false;
                t.minDistancePassed = false;
            });
            this.onEndDrag.call(m);
        }
    }
    onMouseDown(mouse, touch, touchID) {
        if (!touch) {
            this._dragStart = mouse.position;
            this._lastPos = this._dragStart;
            this._dragging = true;
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData === undefined) {
                touchDragData = new TouchDragData();
                this._touches.set(touchID, touchDragData);
            }
            touchDragData.dragging = true;
            touchDragData.dragStart = touch.position;
            touchDragData.lastPos = touchDragData.dragStart;
        }
    }
    onMouseUp(mouse, touch, touchID) {
        if (!touch) {
            if (this._dragging) {
                this._dragging = false;
                this._minDistancePassed = false;
                this.onEndDrag.call(mouse);
            }
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData)
                this._touches.delete(touchID);
            if (touchDragData && touchDragData.dragging) {
                touchDragData.dragging = false;
                touchDragData.minDistancePassed = false;
                this.onEndDrag.call(mouse, touch, touchID);
            }
        }
    }
    onMouseLeave(mouse, touch, touchID) {
        if (!touch) {
            this._dragging = false;
            this._minDistancePassed = false;
            this.onEndDrag.call(mouse);
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData) {
                touchDragData.dragging = false;
                touchDragData.minDistancePassed = false;
                this._touches.delete(touchID);
            }
            this.onEndDrag.call(mouse, touch, touchID);
        }
    }
    onMouseMove(mouse, touch, touchID) {
        if (!touch) {
            if (this._dragging) {
                if (!this._minDistancePassed) {
                    let vector = engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(this._lastPos, this._dragStart);
                    if (this.minDistance instanceof engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                        if ((Math.abs(vector.x) > this.minDistance.x) || (Math.abs(vector.y) > this.minDistance.y))
                            this._minDistancePassed = true;
                    }
                    else if (vector.magnitude > this.minDistance)
                        this._minDistancePassed = true;
                }
                if (this._minDistancePassed)
                    this.onDrag.call(engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(this._lastPos, mouse.position), mouse);
                this._lastPos = mouse.position;
            }
        }
        else {
            let touchDragData = this._touches.get(touchID);
            if (touchDragData && touchDragData.dragging) {
                if (!touchDragData.minDistancePassed) {
                    let vector = engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(touchDragData.lastPos, touchDragData.dragStart);
                    if (this.minDistance instanceof engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                        if ((Math.abs(vector.x) > this.minDistance.x) || (Math.abs(vector.y) > this.minDistance.y))
                            touchDragData.minDistancePassed = true;
                    }
                    else if (vector.magnitude > this.minDistance)
                        touchDragData.minDistancePassed = true;
                }
                if (touchDragData.minDistancePassed)
                    this.onDrag.call(engine_util_Point__WEBPACK_IMPORTED_MODULE_2__["default"].minus(touchDragData.lastPos, touch.position), mouse, touch, touchID);
                touchDragData.lastPos = touch.position;
            }
        }
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/MouseTrigger.ts":
/*!**************************************************!*\
  !*** ./src/engine/gameobject/ui/MouseTrigger.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MouseTrigger; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");

class TouchData {
    constructor() {
        this.inBounds = false;
        this.clickStarted = false;
    }
}
class MouseTrigger extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds) {
        super(position, bounds);
        this._mouseInBounds = false;
        this._clickStarted = false;
        this.touches = new Map();
    }
    get typeName() { return "MouseTrigger"; }
    update({ mouse: m }) {
        if (this.interactable)
            this.checkMouseActions(m);
    }
    checkMouseActions(mouse) {
        if (this.transform.containsPoint(mouse.position)) {
            if (!this._mouseInBounds)
                this.onMouseEnter(mouse);
            this._mouseInBounds = true;
            this.onMouseHover(mouse);
            if (mouse.isMouseMoveEvent) {
                this.onMouseMove(mouse);
                if (mouse.isDown)
                    this.onMouseDrag(mouse);
            }
            if (mouse.isMouseDownEvent) {
                this._clickStarted = true;
                this.onMouseDown(mouse);
            }
            if (mouse.isMouseUpEvent) {
                this.onMouseUp(mouse);
                if (this._clickStarted)
                    this.onMouseClick(mouse);
            }
        }
        else {
            if (this._mouseInBounds) {
                this.onMouseLeave(mouse);
                this._mouseInBounds = false;
            }
            if ((this._clickStarted) && (mouse.isMouseUpEvent))
                this._clickStarted = false;
        }
        this.checkTouchActions(mouse);
    }
    checkTouchActions(mouse) {
        this.touches.forEach(touch => touch.toDestroy = true);
        mouse.touches.forEach((t, k) => {
            let touch = this.touches.get(k);
            if (touch === undefined) {
                touch = new TouchData();
                this.touches.set(k, touch);
            }
            touch.toDestroy = false;
            if (this.transform.containsPoint(t.position)) {
                if (!touch.inBounds)
                    this.onMouseEnter(mouse, t, k);
                touch.inBounds = true;
                this.onMouseHover(mouse, t, k);
                if (t.isStartEvent) {
                    touch.clickStarted = true;
                    this.onMouseDown(mouse, t, k);
                }
                if (t.isMoveEvent) {
                    this.onMouseMove(mouse, t, k);
                    if (mouse.isDown)
                        this.onMouseDrag(mouse, t, k);
                }
                if (t.isEndEvent) {
                    this.onMouseUp(mouse, t, k);
                    touch.inBounds = false;
                    if (touch.clickStarted) {
                        this.onMouseClick(mouse, t, k);
                        touch.clickStarted = false;
                    }
                }
            }
            else {
                if (touch.inBounds) {
                    this.onMouseLeave(mouse, t, k);
                    touch.inBounds = false;
                }
                if ((touch.clickStarted) && (t.isEndEvent))
                    touch.clickStarted = false;
            }
        });
        let toRemove = [];
        this.touches.forEach((touch, key) => {
            if (touch.toDestroy) {
                if (touch.inBounds)
                    this.onMouseLeave(mouse, null, key);
                toRemove.push(key);
            }
        });
        toRemove.forEach(r => this.touches.delete(r));
    }
    onMouseHover(mouse, touch, touchID) { }
    onMouseMove(mouse, touch, touchID) { }
    onMouseDown(mouse, touch, touchID) { }
    onMouseUp(mouse, touch, touchID) { }
    onMouseDrag(mouse, touch, touchID) { }
    onMouseLeave(mouse, touch, touchID) { }
    onMouseEnter(mouse, touch, touchID) { }
    onMouseClick(mouse, touch, touchID) { }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/PressHoldTrigger.ts":
/*!******************************************************!*\
  !*** ./src/engine/gameobject/ui/PressHoldTrigger.ts ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PressHoldTrigger; });
/* harmony import */ var _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MouseTrigger */ "./src/engine/gameobject/ui/MouseTrigger.ts");
/* harmony import */ var _Timer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Timer */ "./src/engine/gameobject/Timer.ts");
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/Event */ "./src/engine/util/Event.ts");



class PressHoldTrigger extends _MouseTrigger__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, holdTime) {
        super(position, bounds);
        this._holdTime = holdTime;
        this._onHold = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
        this._onReleaseHold = new _util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get onHold() { return this._onHold; }
    get onReleaseHold() { return this._onReleaseHold; }
    get holdTime() { return this._holdTime; }
    set holdTime(val) { this._holdTime = val; }
    create() {
        this._timer = this.addChild(new _Timer__WEBPACK_IMPORTED_MODULE_1__["Timer"]());
    }
    update(args) {
        super.update(args);
        if ((!this._holdEventFired) && (this._timer.time >= this._holdTime)) {
            this._onHold.call(args.mouse);
            this._timer.pause();
            this._holdEventFired = true;
        }
    }
    onMouseMove(mouse) {
        if (!(mouse.handled)) {
            this._timer.pause();
        }
    }
    onMouseDown(mouse) {
        if (!(mouse.handled)) {
            this._timer.start();
            this._holdEventFired = false;
        }
    }
    onMouseUp(mouse) {
        this._timer.pause();
        if (this._holdEventFired)
            this.onReleaseHold.call(mouse);
    }
    onMouseLeave(mouse) {
        this._timer.pause();
        if (this._holdEventFired)
            this.onReleaseHold.call(mouse);
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/Text.ts":
/*!******************************************!*\
  !*** ./src/engine/gameobject/ui/Text.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Text; });
/* harmony import */ var _GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _TextBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");


class Text extends _GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, lines, color, size, font, lineSpacing) {
        super(position, bounds);
        this._widths = [];
        this._lines = [];
        this._countLines = 0;
        this._canvasFunction = null;
        this._color = color;
        this._fontFace = font;
        this._size = size;
        if (typeof (lines) === "string")
            this._lines = [lines];
        else
            this._lines = lines;
        this._lineSpacing = lineSpacing || 1;
    }
    get typeName() { return "Text"; }
    get color() { return this._color; }
    set color(val) { this._color = val; }
    get fontFace() { return this._fontFace; }
    get size() { return this._size; }
    get lineSpacing() { return this._lineSpacing; }
    set lineSpacing(val) { this._lineSpacing = val; }
    get centered() { return this._centered; }
    set centered(val) { this._centered = val; }
    set text(val) {
        this._lines = val.split("\n");
        this.requestDraw();
        this._recalculateTextBounds = true;
    }
    get lines() { return this._lines; }
    set lines(val) {
        this._lines = val;
        this.requestDraw();
        this._recalculateTextBounds = true;
    }
    get canvasFunction() { return this._canvasFunction; }
    set canvasFunction(val) { this._canvasFunction = val; }
    measureTextForBounds(context2D) {
        this.transform.bounds.clearDimensions();
        let tb = new _TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"](this.lines, context2D, this.color, this.size, this.fontFace, this.lineSpacing);
        this.transform.bounds.addDimension(tb.textDimension());
        this._recalculateTextBounds = false;
    }
    draw(context2D) {
        if (this.canvasFunction) {
            context2D.save();
            this.canvasFunction(context2D);
        }
        context2D.fillStyle = this.color;
        context2D.font = this.size + "pt " + this.fontFace;
        if (this._recalculateTextBounds)
            this.measureTextForBounds(context2D);
        let pos = this.transform.position.drawPositionTopLeft();
        let yPos = 0;
        let offset = 0;
        for (let i = 0; i < this._lines.length; i++) {
            if (this.centered)
                offset = (this._widest - this._widths[i]) / 2;
            else
                offset = 0;
            context2D.fillText(this._lines[i], pos.x + offset, pos.y + yPos + this.size);
            yPos += this._size * this._lineSpacing;
        }
        ;
        if (this.canvasFunction)
            context2D.restore();
    }
}


/***/ }),

/***/ "./src/engine/gameobject/ui/TextBuilder.ts":
/*!*************************************************!*\
  !*** ./src/engine/gameobject/ui/TextBuilder.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TextBuilder; });
/* harmony import */ var _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");



class TextBuilder {
    constructor(lines, context2D, color, size, font, lineSpacing, targetWidth) {
        this._lines = [];
        this._widths = [];
        this._countLines = 0;
        if (typeof (lines) === "string")
            this._lines = [lines];
        else
            this._lines = lines;
        this._context2D = context2D;
        this._color = color;
        this._fontFace = font;
        this._size = size;
        this._lineSpacing = lineSpacing || 1;
        this._targetWidth = targetWidth || undefined;
    }
    get color() { return this._color; }
    set color(val) { this._color = val; }
    get fontFace() { return this._fontFace; }
    get size() { return this._size; }
    get lineSpacing() { return this._lineSpacing; }
    set lineSpacing(val) { this._lineSpacing = val; }
    get centered() { return this._centered; }
    set centered(val) { this._centered = val; }
    set text(val) {
        this._lines = val.split("\n");
    }
    get lines() { return this._lines; }
    set lines(val) {
        this._lines = val;
    }
    buildText(position) {
        let textDim = this.textDimension();
        return new _Text__WEBPACK_IMPORTED_MODULE_1__["default"](position, new _transform_Bounds__WEBPACK_IMPORTED_MODULE_0__["default"](textDim), this.lines, this.color, this.size, this.fontFace, this.lineSpacing);
    }
    textDimension() {
        let ls = [];
        if (this._targetWidth) {
            this._context2D.font = this.size + 'pt ' + this.fontFace;
            this.lines.forEach(l => ls = ls.concat(this._getWrappedLines(this._context2D, l, this._targetWidth)));
        }
        else
            ls = this.lines;
        this._context2D.font = this.size + "pt " + this.fontFace;
        let widest = 0;
        let height = 0;
        let widths = [];
        for (let i = 0; i < ls.length; i++) {
            widths[i] = this._context2D.measureText(ls[i]).width;
            widest = Math.max(widest, widths[i]);
            if (i === ls.length - 1)
                height += this.size;
            else
                height += this.size * this.lineSpacing;
        }
        this.lines = ls;
        return new _transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](widest, height);
    }
    _getWrappedLines(context, text, maxWidth) {
        var words = text.split(' ');
        var line = '';
        let lines = [];
        for (var n = 0; n < words.length; n++) {
            var testLine = line + words[n];
            var metrics = context.measureText(testLine);
            var testWidth = metrics.width;
            if (testWidth > maxWidth && n > 0) {
                line = words[n] + ' ';
            }
            else
                line = testLine + ' ';
        }
        return lines;
    }
}


/***/ }),

/***/ "./src/engine/io/IO.ts":
/*!*****************************!*\
  !*** ./src/engine/io/IO.ts ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return IO; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class IO {
    constructor() {
        this.onStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onStop = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onBeginStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onBeginEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onUpdateStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onUpdateEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onDrawStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onDrawEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onEndStart = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.onEndEnd = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._interfaces = {};
        this._ifs = [];
    }
    get interfaces() { return this._interfaces; }
    addInterface(inf, name) {
        this._interfaces[name] = inf;
        this._ifs.push(inf);
    }
    create() { this._ifs.forEach(x => x.setEvents(this)); }
}


/***/ }),

/***/ "./src/engine/io/Keyboard.ts":
/*!***********************************!*\
  !*** ./src/engine/io/Keyboard.ts ***!
  \***********************************/
/*! exports provided: Keyboard, KeyboardListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Keyboard", function() { return Keyboard; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "KeyboardListener", function() { return KeyboardListener; });
class Keyboard {
    constructor() {
        this._keysDown = [];
        this._keysUp = [];
        this._keyPressesThisUpdate = [];
    }
    get keyPressesThisUpdate() { return this._keyPressesThisUpdate; }
    get keysDown() { return this._keysDown; }
    get keysUp() { return this._keysUp; }
    isKeyUp(keyValue) { return this.keysUp.indexOf(keyValue) >= 0; }
    isKeyDown(keyValue) { return this.keysDown.indexOf(keyValue) >= 0; }
    keyPriority(keya, keyb) {
        return this.keysDown.indexOf(keya) > this.keysDown.indexOf(keyb);
    }
    get key() { return this.keysDown[this.keysDown.length - 1]; }
}
class KeyboardListener extends Keyboard {
    setEvents(io) {
        io.onBeginStart.push(this.onBeginStart.bind(this));
        io.onBeginEnd.push(this.onBeginEnd.bind(this));
    }
    create() {
        document.addEventListener("keydown", this.onKeyDown.bind(this), true);
        document.addEventListener("keyup", this.onKeyUp.bind(this), true);
        document.addEventListener("keypress", this.onKeyPress.bind(this), true);
    }
    onKeyDown(event) {
        if (event.defaultPrevented)
            return;
        if (this.keysDown.indexOf(event.key) === -1)
            this.keysDown.push(event.key);
    }
    onKeyUp(event) {
        if (event.defaultPrevented)
            return;
        if (this.keysUp.indexOf(event.key) === -1)
            this.keysUp.push(event.key);
    }
    onKeyPress(event) {
        if (event.defaultPrevented)
            return;
        if (this._switchBuffer) {
            if (!(this._buffer2.indexOf(event.key) >= 0))
                this._buffer2.push(event.key);
        }
        else if (!(this.keyPressesThisUpdate.indexOf(event.key) >= 0))
            this.keyPressesThisUpdate.push(event.key);
    }
    onBeginStart() {
        this._buffer2 = [];
        this._switchBuffer = true;
    }
    onBeginEnd() {
        if (this._buffer2.length > 0)
            console.log(this._buffer2);
        this._keyPressesThisUpdate = this._buffer2.slice();
        this._switchBuffer = false;
        this._keysDown = this.keysDown.filter(x => this.keysUp.indexOf(x) < 0);
        this._keysUp = [];
    }
}


/***/ }),

/***/ "./src/engine/io/Loader.ts":
/*!*********************************!*\
  !*** ./src/engine/io/Loader.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Loader; });
/* harmony import */ var _Asset__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Asset */ "./src/engine/Asset.ts");

class Loader {
    constructor(assetsFolder) {
        this._assetsFolder = "./assets/";
        this._sharedAssets = [];
        if (assetsFolder !== undefined)
            this._assetsFolder = assetsFolder;
    }
    get assetsFolder() { return this._assetsFolder; }
    getSharedAsset(filename) {
        let existing = this._sharedAssets.filter(a => a.filename === filename);
        if (existing.length > 0)
            return existing[0];
        let a = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](filename, null, false);
        this._sharedAssets.push(a);
        return a;
    }
    loadImage(filename, onerror) {
        let image = new Image();
        let asset = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](filename, image, false);
        image.src = this.assetsFolder + filename;
        image.onload = function () {
            asset.loaded = true;
            image.onload = null;
            image.onerror = null;
        };
        image.onerror = () => {
            image.onload = null;
            image.onerror = null;
            onerror(asset);
        };
        return asset;
    }
    loadFont(...filenames) {
        let t = "";
        let name = undefined;
        filenames.forEach(f => {
            let filepath = f.split("/");
            let stringComponents = filepath[filepath.length - 1].split(".");
            if (stringComponents.length !== 2)
                throw new Error("Font names must be supplied in the format \"<path-to-file>/<name>.<format>\"");
            let fontName = stringComponents[0];
            if (!name)
                name = fontName;
            if (name !== fontName)
                throw new Error("All font format variants must have the same filename excluding extension");
            let format = stringComponents[1];
            t += "\n    src: url('" + this.assetsFolder + f + "') format('" + format + "');";
        });
        t = "@font-face {\n\
                font-family: " + name + ";" + t;
        t += "\n}";
        let newStyle = document.createElement('style');
        newStyle.appendChild(document.createTextNode(t));
        document.head.appendChild(newStyle);
        let namePlusExt = filenames[0].split("/").pop();
        let assetName = namePlusExt.split(".")[0];
        let font = new FontFaceObserver(name);
        let asset = new _Asset__WEBPACK_IMPORTED_MODULE_0__["default"](assetName, name, false);
        font.load().then(() => {
            asset.loaded = true;
        }).catch((err) => {
            console.log("Error loading font");
            asset.loaded = true;
        });
        return asset;
    }
    setEvents(io) { }
}


/***/ }),

/***/ "./src/engine/io/Mouse.ts":
/*!********************************!*\
  !*** ./src/engine/io/Mouse.ts ***!
  \********************************/
/*! exports provided: Mouse, Touch, MouseListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Mouse", function() { return Mouse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Touch", function() { return Touch; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MouseListener", function() { return MouseListener; });
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");

class Mouse {
    constructor() {
        this.touches = new Map();
        this._isDown = false;
        this._position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._canvas = null;
        this._isMouseDownEvent = false;
        this._isMouseUpEvent = false;
        this._isMouseMoveEvent = false;
        this._handled = false;
    }
    get isDown() { return this._isDown; }
    get position() { return this._position; }
    get isMouseDownEvent() { return this._isMouseDownEvent; }
    get isMouseUpEvent() { return this._isMouseUpEvent; }
    get isMouseMoveEvent() { return this._isMouseMoveEvent; }
    get handled() { return this._handled; }
    setHandled(touch) {
        if (touch)
            touch.handled = true;
        else
            this._handled = true;
    }
}
class Touch {
    constructor() {
        this.isStartEvent = false;
        this.isEndEvent = false;
        this.isMoveEvent = false;
        this.handled = false;
    }
}
class MouseListener extends Mouse {
    get isDown() { return this._isDown; }
    set isDown(val) { this._isDown = val; }
    get isMouseDownEvent() { return this._isMouseDownEvent; }
    set isMouseDownEvent(val) { this._isMouseDownEvent = val; }
    get isMouseUpEvent() { return this._isMouseUpEvent; }
    set isMouseUpEvent(val) { this._isMouseUpEvent = val; }
    get isMouseMoveEvent() { return this._isMouseMoveEvent; }
    set isMouseMoveEvent(val) { this._isMouseMoveEvent = val; }
    setEvents(io) { io.onUpdateEnd.push(this.onUpdateEnd.bind(this), this); }
    addTo(doc, canvas) {
        this._canvas = canvas;
        canvas.addEventListener("mousedown", this.mouseDown.bind(this), false);
        canvas.addEventListener("mousemove", this.mouseXY.bind(this), false);
        canvas.addEventListener("touchstart", this.touchStart.bind(this), false);
        canvas.addEventListener("touchmove", this.touchXY.bind(this), true);
        canvas.addEventListener("touchend", this.touchEnd.bind(this), false);
        doc.body.addEventListener("mouseup", this.mouseUp.bind(this), false);
        doc.body.addEventListener("touchcancel", this.touchEnd.bind(this), false);
    }
    onUpdateEnd() {
        this.isMouseDownEvent = false;
        this.isMouseUpEvent = false;
        this.isMouseMoveEvent = false;
        this._handled = false;
        let toRemove = [];
        this.touches.forEach((touch, key) => {
            touch.isStartEvent = false;
            touch.isEndEvent = false;
            touch.isMoveEvent = false;
            touch.handled = false;
            if (touch.isEndEvent)
                toRemove.push(key);
        });
        toRemove.forEach(r => this.touches.delete(r));
    }
    mouseUp(e) {
        this.isDown = false;
        this.isMouseUpEvent = true;
        this.mouseXY(e);
    }
    touchEnd(e) {
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let t = this.touches.get(e.changedTouches[i].identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(e.changedTouches[i].identifier, t);
            }
            t.isEndEvent = true;
        }
    }
    mouseDown(e) {
        this.isDown = true;
        this.isMouseDownEvent = true;
        this.mouseXY(e);
    }
    touchStart(e) {
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let touch = e.changedTouches[i];
            let t = this.touches.get(touch.identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(touch.identifier, t);
            }
            touch.isEndEvent = false;
            touch.handled = false;
            t.isStartEvent = true;
            t.isMoveEvent = true;
            t.position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.changedTouches[i].pageX - this._canvas.offsetLeft, e.changedTouches[i].pageY - this._canvas.offsetTop);
        }
    }
    mouseXY(e) {
        this.isMouseMoveEvent = true;
        this._position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.pageX - this._canvas.offsetLeft, e.pageY - this._canvas.offsetTop);
    }
    touchXY(e) {
        e.preventDefault();
        for (let i = 0, len = e.changedTouches.length; i < len; i++) {
            let t = this.touches.get(e.changedTouches[i].identifier);
            if (t === undefined) {
                t = new Touch();
                this.touches.set(e.changedTouches[i].identifier, t);
            }
            t.isMoveEvent = true;
            t.position = new engine_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](e.changedTouches[i].pageX - this._canvas.offsetLeft, e.changedTouches[i].pageY - this._canvas.offsetTop);
        }
    }
}


/***/ }),

/***/ "./src/engine/io/Timing.ts":
/*!*********************************!*\
  !*** ./src/engine/io/Timing.ts ***!
  \*********************************/
/*! exports provided: Timing, TimingListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timing", function() { return Timing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimingListener", function() { return TimingListener; });
class Timing {
    constructor() {
        this.loopStart = 0;
        this.loopTime = 0;
        this.beginStart = 0;
        this.beginTime = 0;
        this.updateStart = 0;
        this.updateTime = 0;
        this.drawStart = 0;
        this.drawTime = 0;
        this.endStart = 0;
        this.endTime = 0;
        this.slowDown = 0;
        this.fps = 0;
        this.updateSteps = 0;
        this.mainLoopTimestamp = 0;
        this.delta = 0;
        this.deltaS = 0;
    }
}
class TimingListener extends Timing {
    setEvents(io) {
        io.onBeginStart.push(this.onBeginStart.bind(this), this);
        io.onBeginEnd.push(this.onBeginEnd.bind(this), this);
        io.onUpdateStart.push(this.onUpdateStart.bind(this), this);
        io.onUpdateEnd.push(this.onUpdateEnd.bind(this), this);
        io.onDrawStart.push(this.onDrawStart.bind(this), this);
        io.onDrawEnd.push(this.onDrawEnd.bind(this), this);
        io.onEndStart.push(this.onEndStart.bind(this), this);
        io.onEndEnd.push(this.onEndEnd.bind(this), this);
    }
    onBeginStart(timestamp, delta) {
        this.mainLoopTimestamp = timestamp;
        this.loopStart = Date.now();
        this.beginStart = Date.now();
        this.updateSteps = MainLoop.getNumUpdateSteps();
        this.delta = delta;
        this.deltaS = delta / 1000;
    }
    onBeginEnd() {
        this.delay((Date.now() - this.beginStart) * this.slowDown);
        this.beginTime = Date.now() - this.beginStart;
    }
    onUpdateStart(delta) {
        this.updateStart = Date.now();
        this.delta = delta;
        this.deltaS = delta / 1000;
    }
    onUpdateEnd() {
        this.delay((Date.now() - this.updateStart) * this.slowDown);
        this.updateTime = Date.now() - this.updateStart;
    }
    onDrawStart() {
        this.drawStart = Date.now();
    }
    onDrawEnd() {
        this.delay((Date.now() - this.drawStart) * this.slowDown);
        this.drawTime = Date.now() - this.drawStart;
    }
    onEndStart(fps) {
        this.endStart = Date.now();
        this.fps = fps;
    }
    onEndEnd() {
        this.delay((Date.now() - this.endStart) * this.slowDown);
        this.endTime = Date.now() - this.endStart;
        this.loopTime = Date.now() - this.loopStart;
    }
    delay(time) {
        if (time <= 0)
            return;
        let start = Date.now();
        let now = start;
        while (true) {
            now = Date.now();
            if (now - start > time)
                break;
        }
    }
}


/***/ }),

/***/ "./src/engine/transform/Bounds.ts":
/*!****************************************!*\
  !*** ./src/engine/transform/Bounds.ts ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Bounds; });
/* harmony import */ var _util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");



class Bounds {
    constructor(...dimensions) {
        this._dimensions = [];
        this._referenceWidth = undefined;
        this._targetAspectRatio = undefined;
        this._minDimension = undefined;
        this._maxDimension = undefined;
        this._transform = null;
        this._cachedDimension = new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0);
        this._onResize = new _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this._dirty = true;
        this.calculating = false;
        this.calculationFailed = false;
        this._dimensions = dimensions;
    }
    ;
    get transform() { return this._transform; }
    set transform(val) { this._transform = val; }
    get dirty() { return this._dirty; }
    set dirty(val) { this._dirty = val; }
    get cachedDimension() { return this._cachedDimension; }
    set cachedDimension(val) { this._cachedDimension = val; }
    get onResize() { return this._onResize; }
    get devicePixelRatio() { return window.devicePixelRatio; }
    get parentBounds() {
        if (this.transform)
            if (this.transform.parent)
                return this.transform.parent.bounds;
        return null;
    }
    get targetAspectRatio() { return this._targetAspectRatio; }
    set targetAspectRatio(aspectRatio) { this._targetAspectRatio = aspectRatio; }
    get maxDimension() { return this._maxDimension; }
    set maxDimension(val) { this._maxDimension = val; }
    get minDimension() { return this._minDimension; }
    set minDimension(val) { this._minDimension = val; }
    addDimension(dim) {
        this._dimensions.push(dim);
        if (this.transform.gameObject.created) {
            if (this.hasResized())
                this._onChange();
        }
        return dim;
    }
    clearDimensions() {
        this._dimensions = [];
        if (this.hasResized())
            this._onChange();
    }
    get dimensions() { return this._dimensions; }
    get dimension() {
        if (!(this.dirty))
            return this._cachedDimension;
        this.calculationFailed = false;
        let tmp = this._calculateDimension();
        this.dirty = this.calculationFailed;
        if (this.calculationFailed)
            this.transform.positioningIsDirty();
        this._cachedDimension = tmp;
        return this._cachedDimension;
    }
    get referenceWidth() {
        if (this._referenceWidth !== undefined)
            return this._referenceWidth;
        if (this.parentBounds)
            return this.parentBounds.referenceWidth;
        return undefined;
    }
    set referenceWidth(referenceWidth) { this._referenceWidth = referenceWidth; }
    get referenceHeight() {
        if (this._referenceWidth !== undefined)
            return this.referenceWidth * this.dimension.aspect;
        if (this.parentBounds)
            return this.parentBounds.referenceHeight;
        return undefined;
    }
    get referenceScale() {
        if (this._referenceWidth !== undefined)
            return this.dimension.pixelWidth(this.parentBounds) / this._referenceWidth;
        if (this.parentBounds)
            return this.parentBounds.referenceScale;
        return 0;
    }
    destroy() {
        this.onResize.removeAll();
        this._dimensions.forEach(d => d.destroy());
    }
    _limitDimension(dimension) {
        let nWidth = dimension.width;
        let nHeight = dimension.height;
        if (this.minDimension) {
            if (this.minDimension.pixelWidth(this.parentBounds))
                nWidth = Math.max(nWidth, this.minDimension.pixelWidth(this.parentBounds));
            if (this.minDimension.pixelHeight(this.parentBounds))
                nHeight = Math.max(nHeight, this.minDimension.pixelHeight(this.parentBounds));
        }
        if (this.maxDimension) {
            if (this.maxDimension.pixelWidth(this.parentBounds))
                nWidth = Math.min(nWidth, this.maxDimension.pixelWidth(this.parentBounds));
            if (this.maxDimension.pixelHeight(this.parentBounds))
                nHeight = Math.min(nHeight, this.maxDimension.pixelHeight(this.parentBounds));
        }
        if (this.targetAspectRatio) {
            if (nHeight < nWidth * this.targetAspectRatio)
                nWidth = nHeight * (1 / this.targetAspectRatio);
            else
                nHeight = nWidth * this.targetAspectRatio;
        }
        return new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](nWidth, nHeight);
    }
    _calculateDimension() {
        this.calculating = true;
        let width = 0;
        let height = 0;
        let dim = null;
        if (this.transform)
            this._dimensions.forEach(d => {
                dim = d.asSimplePixelDimension(this.parentBounds);
                if ((dim.width === undefined) || (dim.height === undefined))
                    this.calculationFailed = true;
                else {
                    width += dim.width;
                    height += dim.height;
                }
            });
        let result = this._limitDimension(new _dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](width, height));
        this.calculating = false;
        return result;
    }
    hasResized() {
        if (this.dirty)
            return true;
        let dim = this._calculateDimension();
        return (!_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(dim, this._cachedDimension));
    }
    hasResizedAutoUpdate() {
        if (this.dirty)
            return true;
        let dim = this._calculateDimension();
        let r = (!_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(dim, this._cachedDimension));
        if (r)
            this._cachedDimension = dim;
        return r;
    }
    _onChange() {
        if (this.transform) {
            this.transform.recalculate();
            _util_Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this.onResize);
        }
    }
    checkForUpdatedDimensions() {
        let updated = false;
        let d;
        for (let i = 0; i < this._dimensions.length; i++) {
            d = this._dimensions[i];
            if (d.updated) {
                updated = true;
                break;
            }
            if (d instanceof _dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_2__["default"])
                if (!(d.previousDimension) || !(_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"].equals(d.dimensionDontUpdatePrevious(this.transform.bounds), d.previousDimension))) {
                    updated = true;
                    break;
                }
        }
        if (updated) {
            this._onChange();
            this.dimensions.forEach(d => d.updated = false);
        }
    }
}


/***/ }),

/***/ "./src/engine/transform/Position.ts":
/*!******************************************!*\
  !*** ./src/engine/transform/Position.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Position; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./translation/ConditionalTranslation */ "./src/engine/transform/translation/ConditionalTranslation.ts");
/* harmony import */ var _translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _translation_AdjacentTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./translation/AdjacentTranslation */ "./src/engine/transform/translation/AdjacentTranslation.ts");




class Position {
    constructor(...Translations) {
        this._transform = null;
        this._resetDrawPos = false;
        this._cachedAbsolutePosition = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._cachedDrawPosition = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._drawCacheDirty = true;
        this._absoluteCacheDirty = true;
        this._translations = Translations;
    }
    get transform() { return this._transform; }
    set transform(val) { this._transform = val; }
    get resetDrawPos() { return this._resetDrawPos; }
    set resetDrawPos(val) { this._resetDrawPos = val; }
    get drawCacheDirty() { return this._drawCacheDirty; }
    set drawCacheDirty(val) { this._drawCacheDirty = val; }
    get absoluteCacheDirty() { return this._absoluteCacheDirty; }
    set absoluteCacheDirty(val) { this._absoluteCacheDirty = val; }
    get translations() { return this._translations; }
    addTranslation(...translations) {
        if (translations.length > 1)
            translations.forEach(t => this.addTranslation(t));
        else {
            let translation = translations[0];
            let found = false;
            if (translation.preserve)
                this._translations.forEach(t => {
                    if (!t.preserve)
                        if ((t.constructor === translation.constructor) && (_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(t.anchor, translation.anchor))) {
                            if (t instanceof _translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_2__["default"]) {
                                let rb1 = t.referenceBounds;
                                let rb2 = translation.referenceBounds;
                                if (rb1 === rb2) {
                                    found = true;
                                    t.position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](t.position.x + translation.position.x, t.position.y + translation.position.y);
                                }
                            }
                            else if ((t instanceof _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__["default"]) || (t instanceof _translation_AdjacentTranslation__WEBPACK_IMPORTED_MODULE_3__["default"])) { }
                            else {
                                found = true;
                                t.position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](t.position.x + translation.position.x, t.position.y + translation.position.y);
                            }
                        }
                });
            if (!found)
                this._translations.push(translation);
            if (this.transform.gameObject.created)
                if (this.hasMoved())
                    this._onChange();
        }
    }
    clearTranslations() {
        this._translations = [];
        if (this.hasMoved())
            this._onChange();
    }
    absolutePositionTopLeft() {
        if (!(this.absoluteCacheDirty))
            return this._cachedAbsolutePosition;
        let tmp = this._calcuateAbsolutePosition();
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(tmp, this._cachedAbsolutePosition)) {
            if (this.transform)
                this.transform.positioningIsDirty();
        }
        else
            this.absoluteCacheDirty = false;
        this._cachedAbsolutePosition = tmp;
        return this._cachedAbsolutePosition;
    }
    drawPositionTopLeft() {
        if (this._resetDrawPos)
            return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        if (!(this._drawCacheDirty))
            return this._cachedDrawPosition;
        let tmp = this._calculateDrawPosition();
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(tmp, this._cachedDrawPosition)) {
            if (this.transform)
                this.transform.positioningIsDirty();
        }
        else
            this._drawCacheDirty = false;
        this._cachedDrawPosition = tmp;
        return this._cachedDrawPosition;
    }
    destroy() {
        this._translations.forEach(t => t.destroy());
    }
    checkForUpdatedTranslations() {
        let updated = false;
        let t;
        for (let i = 0; i < this._translations.length; i++) {
            t = this._translations[i];
            if (t.updated) {
                updated = true;
                break;
            }
            if (t instanceof _translation_ConditionalTranslation__WEBPACK_IMPORTED_MODULE_1__["default"])
                if ((!(t.previousAbsolutePosition)) || (!(_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(t.absolutePositionDontUpdatePrevious(this.transform.bounds), t.previousAbsolutePosition)))) {
                    updated = true;
                    break;
                }
        }
        if (updated) {
            this._onChange();
            this._translations.forEach(d => d.updated = false);
        }
    }
    get position() { return this.absolutePositionTopLeft(); }
    get drawPosition() { return this.drawPositionTopLeft(); }
    hasMoved() {
        if (this.absoluteCacheDirty)
            return true;
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this._calcuateAbsolutePosition(), this._cachedAbsolutePosition));
    }
    hasMovedAutoUpdate() {
        if (this.absoluteCacheDirty)
            return true;
        let oldCache = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](this._cachedAbsolutePosition.x, this._cachedAbsolutePosition.y);
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this.absolutePositionTopLeft(), oldCache));
    }
    hasMovedDrawAutoUpdate() {
        if (this.drawCacheDirty)
            return true;
        let oldCache = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](this._cachedDrawPosition.x, this._cachedDrawPosition.y);
        return (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(this.drawPositionTopLeft(), oldCache));
    }
    _onChange() {
        if (this.transform)
            this.transform.recalculate();
    }
    _calcuateAbsolutePosition() {
        let tmpPos;
        let x = 0;
        let y = 0;
        this._translations.forEach(t => {
            if (this.transform) {
                tmpPos = t.absolutePositionTopLeft(this.transform.bounds);
                x += tmpPos.x;
                y += tmpPos.y;
            }
        });
        if (this.transform)
            if (this.transform.parent)
                if (this.transform.parent.hasPosition()) {
                    tmpPos = this.transform.parent.getCanonicalPosition();
                    x += tmpPos.x;
                    y += tmpPos.y;
                }
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x, y);
    }
    _calculateDrawPosition() {
        if (this._resetDrawPos)
            return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        let tmpPos;
        let x = 0;
        let y = 0;
        this._translations.forEach(t => {
            if (this.transform) {
                tmpPos = t.absolutePositionTopLeft(this.transform.bounds);
                x += tmpPos.x;
                y += tmpPos.y;
            }
        });
        if (this.transform)
            if (this.transform.parent)
                if (this.transform.parent.hasPosition()) {
                    tmpPos = this.transform.parent.getDrawPosition();
                    x += tmpPos.x;
                    y += tmpPos.y;
                }
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x, y);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/ConditionalDimension.ts":
/*!****************************************************************!*\
  !*** ./src/engine/transform/dimension/ConditionalDimension.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ConditionalDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class ConditionalDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(conditionalFunction) {
        super(0, 0);
        this._conditionalFunction = conditionalFunction;
    }
    get previousDimension() { return this._previousDimension; }
    pixelWidth(bounds) { return this._conditionalDim(bounds).width; }
    pixelHeight(bounds) { return this._conditionalDim(bounds).height; }
    _conditionalDim(bounds) {
        let dim = null;
        if (bounds)
            dim = bounds.dimension;
        this._previousDimension = this._conditionalFunction(dim);
        return this._previousDimension;
    }
    dimensionDontUpdatePrevious(bounds) {
        return this._conditionalFunction(bounds.dimension);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/Dimension.ts":
/*!*****************************************************!*\
  !*** ./src/engine/transform/dimension/Dimension.ts ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Dimension; });
class Dimension {
    constructor(width, height) {
        this._updated = false;
        this._preserve = false;
        this._width = width;
        this._height = height;
    }
    markAsUpdated() { this.updated = true; }
    destroy() { }
    get updated() { return this._updated; }
    set updated(val) { this._updated = val; }
    get width() { return this._width; }
    set width(val) {
        if (val !== this.width)
            this.updated = true;
        this._width = val;
    }
    get height() { return this._height; }
    set height(val) {
        if (val !== this._height)
            this.updated = true;
        this._height = val;
    }
    pixelWidth(bounds) { return this.width; }
    pixelHeight(bounds) { return this.height; }
    physicalPixelWidth(bounds) { return this.pixelWidth(bounds) * bounds.devicePixelRatio; }
    physicalPixelHeight(bounds) { return this.pixelHeight(bounds) * bounds.devicePixelRatio; }
    asSimplePixelDimension(bounds) { return new Dimension(this.pixelWidth(bounds), this.pixelHeight(bounds)); }
    get aspect() { return this.height / this.width; }
    get preserve() { return this._preserve; }
    set preserve(val) { this._preserve = val; }
    static add(a, b) {
        return new Dimension(a.width + b.width, a.height + b.height);
    }
    static equals(a, b) {
        return (a.width === b.width) && (a.height === b.height);
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/PixelDimension.ts":
/*!**********************************************************!*\
  !*** ./src/engine/transform/dimension/PixelDimension.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PixelDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class PixelDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    pixelWidth(bounds) { return this.width; }
    pixelHeight(bounds) { return this.height; }
}


/***/ }),

/***/ "./src/engine/transform/dimension/ProportionalDimension.ts":
/*!*****************************************************************!*\
  !*** ./src/engine/transform/dimension/ProportionalDimension.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ProportionalDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class ProportionalDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(width, height, referenceBounds) {
        super(width, height);
        if (referenceBounds) {
            this._referenceBounds = referenceBounds;
            this._referenceBounds.onResize.push(this.markAsUpdated.bind(this), this);
        }
    }
    destroy() {
        if (this._referenceBounds)
            this._referenceBounds.onResize.unregister(this);
    }
    pixelWidth(bounds) {
        if (this._referenceBounds) {
            if (this._referenceBounds.calculating)
                return this.width * this._referenceBounds.cachedDimension.width;
            else
                return this.width * this._referenceBounds.dimension.width;
        }
        else if (bounds)
            return this.width * bounds.dimension.width;
        return 0;
    }
    pixelHeight(bounds) {
        if (this._referenceBounds) {
            if (this._referenceBounds.calculating)
                return this.height * this._referenceBounds.cachedDimension.height;
            else
                return this.height * this._referenceBounds.dimension.height;
        }
        else if (bounds)
            return this.height * bounds.dimension.height;
        return 0;
    }
}


/***/ }),

/***/ "./src/engine/transform/dimension/RelativeDimension.ts":
/*!*************************************************************!*\
  !*** ./src/engine/transform/dimension/RelativeDimension.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RelativeDimension; });
/* harmony import */ var _Dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Dimension */ "./src/engine/transform/dimension/Dimension.ts");

class RelativeDimension extends _Dimension__WEBPACK_IMPORTED_MODULE_0__["default"] {
    pixelWidth(bounds) {
        if (bounds)
            return this.width * bounds.referenceScale;
        return undefined;
    }
    pixelHeight(bounds) {
        if (bounds)
            return this.height * bounds.referenceScale;
        return undefined;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/AdjacentTranslation.ts":
/*!*****************************************************************!*\
  !*** ./src/engine/transform/translation/AdjacentTranslation.ts ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AdjacentTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");


class AdjacentTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(target, offset) {
        super(0, 0, new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0));
        this.target = target;
        this.offset = offset;
    }
    absolutePosition(bounds) {
        let container = bounds.transform.parent;
        let newPos = null;
        let tlPos = _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"].minus(this.target.position.absolutePositionTopLeft(), container.position.absolutePositionTopLeft());
        if (bounds.dimension.height + this.offset < tlPos.y)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x, tlPos.y - this.offset - bounds.dimension.height);
        else if (bounds.dimension.width + this.offset < tlPos.x)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x - this.offset - bounds.dimension.width, tlPos.y);
        else if (bounds.dimension.height + this.offset + tlPos.y < container.bounds.dimension.height)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x, tlPos.y + this.target.bounds.dimension.height + this.offset);
        else if (bounds.dimension.width + this.offset + tlPos.x < container.bounds.dimension.width)
            newPos = new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](tlPos.x + this.target.bounds.dimension.width + this.offset, tlPos.y);
        return newPos;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/ConditionalTranslation.ts":
/*!********************************************************************!*\
  !*** ./src/engine/transform/translation/ConditionalTranslation.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ConditionalTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");


class ConditionalTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(conditionalFunction, anchor) {
        if (anchor instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            super(0, 0, anchor);
        }
        else if (typeof anchor === "boolean") {
            super(0, 0);
        }
        else
            super(0, 0);
        this._conditionalFunction = conditionalFunction;
    }
    get previousAbsolutePosition() {
        return this._previousAbsolutePosition;
    }
    absolutePosition(bounds) {
        let pDim = null;
        if (bounds.parentBounds)
            pDim = bounds.parentBounds.dimension;
        this._previousAbsolutePosition = this._conditionalFunction(bounds.transform, pDim);
        return this._previousAbsolutePosition;
    }
    absolutePositionDontUpdatePrevious(bounds) {
        return this._conditionalFunction(bounds.transform, bounds.parentBounds.dimension);
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/PixelTranslation.ts":
/*!**************************************************************!*\
  !*** ./src/engine/transform/translation/PixelTranslation.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PixelTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");

class PixelTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    absolutePosition(bounds) {
        return this.position;
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/ProportionalTranslation.ts":
/*!*********************************************************************!*\
  !*** ./src/engine/transform/translation/ProportionalTranslation.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ProportionalTranslation; });
/* harmony import */ var _Translation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Translation */ "./src/engine/transform/translation/Translation.ts");
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Bounds */ "./src/engine/transform/Bounds.ts");



class ProportionalTranslation extends _Translation__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(x, y, anchor, referenceBounds) {
        if (x instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            if (y instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                super(x, y);
                if (anchor instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = anchor;
            }
            else {
                super(x);
                if (y instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = y;
            }
        }
        else if ((typeof (x) === "number") && (typeof (y) === "number")) {
            if (anchor instanceof _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                super(x, y, anchor);
                if (referenceBounds)
                    this._referenceBounds = referenceBounds;
            }
            else {
                super(x, y);
                if (anchor instanceof _Bounds__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this._referenceBounds = anchor;
            }
        }
        if (this._referenceBounds)
            this._referenceBounds.onResize.push(this.markAsUpdated.bind(this), this);
    }
    get referenceBounds() { return this._referenceBounds; }
    absolutePosition(bounds) {
        let dim = null;
        if (this._referenceBounds)
            dim = this._referenceBounds.dimension;
        else if (bounds.parentBounds)
            dim = bounds.parentBounds.dimension;
        else
            return new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](0, 0);
        let x = this.position.x * dim.width;
        let y = this.position.y * dim.height;
        return new _util_Point__WEBPACK_IMPORTED_MODULE_1__["default"](x, y);
    }
    destroy() {
        if (this._referenceBounds)
            this._referenceBounds.onResize.unregister(this);
    }
}


/***/ }),

/***/ "./src/engine/transform/translation/Translation.ts":
/*!*********************************************************!*\
  !*** ./src/engine/transform/translation/Translation.ts ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Translation; });
/* harmony import */ var _util_Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/Point */ "./src/engine/util/Point.ts");

class Translation {
    constructor(x, y, anchor) {
        this._anchor = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0);
        this._updated = false;
        this._preserve = false;
        if (x instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            this._position = x;
            if (y instanceof _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"])
                this.anchor = y;
        }
        else {
            if ((typeof (x) === "number") && (typeof (y) === "number"))
                this._position = new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](x || 0, y || 0);
            if (anchor)
                this.anchor = anchor;
        }
    }
    get updated() { return this._updated; }
    set updated(val) { this._updated = val; }
    markAsUpdated() { this.updated = true; }
    get position() { return this._position; }
    set position(val) {
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(val, this.position))
            this.markAsUpdated();
        this._position = val;
    }
    get preserve() { return this._preserve; }
    set preserve(val) { this._preserve = val; }
    get anchor() { return this._anchor; }
    set anchor(val) {
        if (!_util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].equals(val, this.anchor))
            this.markAsUpdated();
        this._anchor = val;
    }
    anchorOffset(bounds) {
        let dim = bounds.dimension;
        return new _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"](dim.width * this.anchor.x, dim.height * this.anchor.y);
    }
    absolutePositionTopLeft(bounds) { return _util_Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(this.absolutePosition(bounds), this.anchorOffset(bounds)); }
    destroy() { }
}


/***/ }),

/***/ "./src/engine/util/Event.ts":
/*!**********************************!*\
  !*** ./src/engine/util/Event.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Event; });
class Pair {
    constructor(key, value) {
        this.key = key;
        this.value = value;
    }
}
class DuplicateMap {
    constructor() {
        this.entries = [];
    }
    get length() { return this.entries.length; }
    push(key, value) { this.entries.push(new Pair(key, value)); }
    delete(key, value) {
        let newEntries = [];
        this.entries.forEach(x => {
            if (x.key !== key)
                newEntries.push(x);
            else if ((value) && (x.value !== value))
                newEntries.push(x);
        });
        this.entries = newEntries;
    }
    deleteValue(value) {
        let newEntries = [];
        this.entries.forEach(x => {
            if (x.value !== value)
                newEntries.push(x);
        });
        this.entries = newEntries;
    }
    clear() {
        this.entries = [];
    }
    forEach(f) {
        this.entries.forEach(f);
    }
}
class Event {
    constructor() {
        this._callbacks = new DuplicateMap();
    }
    call(...args) {
        for (let i = 0, len = this._callbacks.entries.length; i < len; i++)
            this._callbacks.entries[i].value(...args);
    }
    push(callback, creator) {
        this._callbacks.push(creator, callback);
        return this;
    }
    unregister(creator) {
        this._callbacks.delete(creator);
    }
    removeAll() {
        this._callbacks.clear();
    }
    static link(source, dest, creator) {
        if (source && dest)
            source.push(dest.call.bind(dest), creator);
    }
    static call(event, ...args) {
        if (event)
            event.call.bind(event)(...args);
    }
}


/***/ }),

/***/ "./src/engine/util/ObserverVariable.ts":
/*!*********************************************!*\
  !*** ./src/engine/util/ObserverVariable.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ObserverVariable; });
/* harmony import */ var _Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Event */ "./src/engine/util/Event.ts");

class ObserverVariable {
    constructor(value) {
        this._value = value;
        this._onUpdate = new _Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    get onUpdate() { return this._onUpdate; }
    get value() { return this._value; }
    set value(val) {
        let update = (val !== this._value);
        this._value = val;
        if (update)
            _Event__WEBPACK_IMPORTED_MODULE_0__["default"].call(this.onUpdate, val);
    }
    clear() {
        this._onUpdate.removeAll();
    }
}


/***/ }),

/***/ "./src/engine/util/Point.ts":
/*!**********************************!*\
  !*** ./src/engine/util/Point.ts ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point; });
class Point {
    constructor(x, y) {
        this._x = x || 0;
        this._y = y || 0;
    }
    get x() { return this._x; }
    get y() { return this._y; }
    get magnitude() { return Math.sqrt(this._x * this._x + this._y * this._y); }
    get isZero() { return (this.x === 0) && (this.y === 0); }
    static add(a, b) {
        let x = a.x + b.x;
        let y = a.y + b.y;
        return new Point(x, y);
    }
    static minus(a, b) {
        if (!b) {
            return this.minus(new Point(0, 0), a);
        }
        let x = a.x - b.x;
        let y = a.y - b.y;
        return new Point(x, y);
    }
    static multiply(p, s) {
        if (s instanceof Point)
            return new Point(p.x * s.x, p.y * s.y);
        else
            return new Point(p.x * s, p.y * s);
    }
    static dotProduct(p, s) {
        return (p.x * s.x + p.y * s.y);
    }
    static divide(p, s) {
        let x = p.x / s;
        let y = p.y / s;
        return new Point(x, y);
    }
    static crossProduct(p, s) {
        return p.x * s.y - p.y * s.x;
    }
    static equals(a, b) {
        return ((a.x === b.x) && (a.y === b.y));
    }
    static distance(a, b) {
        let x = a.x - b.x;
        let y = a.y - b.y;
        return Math.sqrt(x * x + y * y);
    }
    rotate(angle) {
        let x = Math.cos(angle) * this._x + -Math.sin(angle) * this._y;
        let y = Math.sin(angle) * this._x + Math.cos(angle) * this._y;
        return new Point(x, y);
    }
    closestPoint(points) {
        let smallestDistance = undefined;
        let winner;
        points.forEach(p => {
            let d = Point.minus(p, this).magnitude;
            if ((smallestDistance === undefined) || (d < smallestDistance)) {
                smallestDistance = d;
                winner = p;
            }
        });
        return winner;
    }
    get normalised() {
        if ((this.x === this.y) || (this.x === 0) || (this.y === 0)) {
            let magnitude = this.magnitude;
            return new Point(this.x / magnitude, this.y / magnitude);
        }
        else
            throw new Error("Not implemented yet");
    }
    static angleBetween(a, b) {
        return Math.atan2(b.y, b.x) - Math.atan2(a.y, a.x);
    }
    projectionIn(vector) {
        return Point.dotProduct(this, vector.normalised);
    }
    static angleToUnitVector(angle) {
        return new Point(Math.cos(angle), Math.sin(angle));
    }
    asAngle() {
        return Math.atan2(this.x, this.y);
    }
}


/***/ }),

/***/ "./src/engine/util/Point3.ts":
/*!***********************************!*\
  !*** ./src/engine/util/Point3.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Point3; });
class Point3 {
    constructor(x, y, z) {
        if (Array.isArray(x)) {
            this._x = x[0];
            this._y = x[1];
            this._z = x[2];
        }
        else if (x instanceof Point3) {
            this._x = x.x;
            this._y = x.y;
            this._z = x.z;
        }
        else {
            this._x = x || 0;
            this._y = y || 0;
            this._z = z || 0;
        }
    }
    get x() { return this._x; }
    get y() { return this._y; }
    get z() { return this._z; }
    set x(val) { this._x = val; }
    set y(val) { this._y = val; }
    set z(val) { this._z = val; }
    equals(b) {
        return ((this.x === b.x) && (this.y === b.y) && (this.z === b.z));
    }
    static equals(a, b) {
        return ((a.x === b.x) && (a.y === b.y) && (a.z === b.z));
    }
    static minus(a, b) {
        if (!b) {
            return this.minus(new Point3(0, 0, 0), a);
        }
        let x = a.x - b.x;
        let y = a.y - b.y;
        let z = a.z - b.z;
        return new Point3(x, y, z);
    }
    minus(a) {
        let x = this.x - a.x;
        let y = this.y - a.y;
        let z = this.z - a.z;
        return new Point3(x, y, z);
    }
    plus(a) {
        let x = this.x + a.x;
        let y = this.y + a.y;
        let z = this.z + a.z;
        return new Point3(x, y, z);
    }
    multiply(s) {
        if (s instanceof Point3) {
            let x = this.x * s.x;
            let y = this.y * s.y;
            let z = this.z * s.z;
            return new Point3(x, y, z);
        }
        else {
            let x = this.x * s;
            let y = this.y * s;
            let z = this.z * s;
            return new Point3(x, y, z);
        }
    }
    get normalised() {
        if (((this.x === this.y) || (this.x === 0) || (this.y === 0)) && ((this.y === this.z) || (this.y === 0) || (this.z === 0))) {
            let magnitude = this.magnitude;
            return new Point3(this.x / magnitude, this.y / magnitude, this.z / magnitude);
        }
        else
            throw new Error("Not implemented yet");
    }
    get magnitude() {
        return Math.sqrt((this.x * this.x) + (this.y * this.y) + (this.z * this.z));
    }
}


/***/ }),

/***/ "./src/engine/util/PolyShape.ts":
/*!**************************************!*\
  !*** ./src/engine/util/PolyShape.ts ***!
  \**************************************/
/*! exports provided: PolyShape, ConvexPolygon, PolyLine, PolyEdge, PolyRect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyShape", function() { return PolyShape; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ConvexPolygon", function() { return ConvexPolygon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyLine", function() { return PolyLine; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyEdge", function() { return PolyEdge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PolyRect", function() { return PolyRect; });
/* harmony import */ var _Point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _gameobject_PolygonCollision__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gameobject/PolygonCollision */ "./src/engine/gameobject/PolygonCollision.ts");


class PolyShape {
    get points() { return this._points; }
    get edges() {
        let e = [];
        for (let i = 0; i < this.points.length - 1; i++) {
            e.push(new PolyEdge([this.points[i], this.points[i + 1]]));
        }
        e.push(new PolyEdge([this.points[this.points.length - 1], this.points[0]]));
        return e;
    }
    constructor(points) {
        this._points = points;
    }
    centerPoint() {
        let xTotal = 0;
        let yTotal = 0;
        this.points.forEach(p => {
            xTotal += p.x;
            yTotal += p.y;
        });
        return new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](xTotal / this.points.length, yTotal / this.points.length);
    }
    maximumProjectionOnVector(vector) {
        let currentMax = undefined;
        let leadingPoint = null;
        let unitVector = vector.normalised;
        this.points.forEach(p => {
            let proj = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(p, unitVector);
            if ((currentMax === undefined) || (proj > currentMax)) {
                leadingPoint = p;
                currentMax = proj;
            }
        });
        return leadingPoint;
    }
}
class ConvexPolygon extends PolyShape {
    constructor() {
        super(...arguments);
        this._clockwise = true;
    }
    get clockwise() { return this._clockwise; }
    set clockwise(val) { this._clockwise = val; }
    clone(newPoints) {
        let p = new ConvexPolygon(newPoints);
        p.clockwise = this.clockwise;
        return p;
    }
    intersects(other) {
        this.points.forEach(p => { if (other.containsPoint(p))
            return true; });
        other.points.forEach(p => { if (this.containsPoint(p))
            return true; });
        return false;
    }
    contains(other) {
        other.points.forEach(p => { if (!(this.containsPoint(p)))
            return false; });
        return true;
    }
    intersectionsWithEdge(start, end) {
        let intersections = [];
        this.edges.forEach(e => {
            let point = e.pointOfIntersectionWithEdge(start, end);
            if (point)
                intersections.push(new _gameobject_PolygonCollision__WEBPACK_IMPORTED_MODULE_1__["Intersection"](point, e));
        });
        return intersections;
    }
    containsPoint(point, y) {
        let x = 0;
        if (point instanceof _Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            y = point.y;
            x = point.x;
        }
        else
            x = point;
        this.edges.forEach(e => {
            if (!(this.rightOfEdge(x, y, e))
                || (!(this.clockwise) && !(this.leftOfEdge(x, y, e)))) {
                return false;
            }
        });
        return true;
    }
    rightOfEdge(px, py, e) {
        let grad = (e[1].y - e[0].y) / (e[1].x - e[0].x);
        if (grad === Infinity)
            return px <= e[0].x;
        if (grad === -Infinity)
            return px >= e[0].x;
        let intersection = e[0].y - (grad * e[0].x);
        let expectedY = (px * grad + intersection);
        if (e[1].x > e[0].x)
            return (py >= expectedY);
        if (e[1].x < e[0].x)
            return (py <= expectedY);
    }
    leftOfEdge(px, py, e) {
        let grad = (e[1].y - e[0].y) / (e[1].x - e[0].x);
        if (grad === Infinity) {
            if (e[0].y > e[1].y)
                return px <= e[0].x;
            if (e[0].y < e[1].y)
                return px >= e[0].x;
        }
        let intersection = e[0].y - (grad * e[0].x);
        let expectedY = (px * grad + intersection);
        if (e[1].x > e[0].x)
            return (py <= expectedY);
        if (e[1].x < e[0].x)
            return (py >= expectedY);
    }
}
class PolyLine extends PolyShape {
    clone() {
        let p = new PolyLine(this.points);
        return p;
    }
}
class PolyEdge extends PolyLine {
    constructor(points) {
        if (points.length !== 2)
            throw new Error("PolyEdge expects a points array of exactly 2");
        super(points);
    }
    get vector() { return _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(this.points[1], this.points[0]); }
    pointOfIntersectionWithEdge(edge, end) {
        let p;
        let r;
        if (edge instanceof PolyEdge) {
            p = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](edge.points[0].x, edge.points[0].y);
            r = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](edge.points[1].x, edge.points[1].y);
        }
        else if (edge instanceof _Point__WEBPACK_IMPORTED_MODULE_0__["default"]) {
            p = edge;
            r = end;
        }
        r = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(r, p);
        let q = new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](this.points[0].x, this.points[0].y);
        let s = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](this.points[1].x, this.points[1].y), q);
        let qmp = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(q, p);
        let pmq = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].minus(p, q);
        let rxs = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(r, s);
        let t = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(qmp, s) / rxs;
        let u = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(pmq, r) / _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(s, r);
        let pmqxr = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].crossProduct(pmq, r);
        if ((rxs === 0) && (pmqxr === 0)) {
            let rrs = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].divide(r, _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(r, r));
            let t0 = _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(pmq, rrs);
            let t1 = t0 + _Point__WEBPACK_IMPORTED_MODULE_0__["default"].dotProduct(s, rrs);
            if (((t0 >= 0 && t0 <= 1)) || ((t1 >= 0) && (t1 <= 1)) || ((t0 <= 0) && (t1 >= 0)) || ((t0 >= 1) && (t1 <= 0))) {
                console.log("Colinear and overlapping");
                return null;
            }
            else {
                return null;
            }
        }
        else if ((rxs === 0) && (pmqxr !== 0)) {
            return null;
        }
        else if ((rxs !== 0) && (t >= 0) && (t <= 1) && (u >= 0) && (u <= 1)) {
            return _Point__WEBPACK_IMPORTED_MODULE_0__["default"].add(p, _Point__WEBPACK_IMPORTED_MODULE_0__["default"].multiply(r, t));
        }
        else {
            return null;
        }
    }
}
class PolyRect extends ConvexPolygon {
    constructor(points) {
        if (!points)
            super([new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1), new _Point__WEBPACK_IMPORTED_MODULE_0__["default"](0, 1)]);
        else {
            if (points.length !== 4)
                throw new Error("PolyRect expects a points array of exactly 4");
            super(points);
        }
    }
    containsPoint(x, y) {
        return ((x > this.points[0]) && (x < this.points[1].x) && (y > this.points[0].y) && (y < this.points[3].y));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/GameOverMenu.ts":
/*!************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/GameOverMenu.ts ***!
  \************************************************************/
/*! exports provided: GameOverMenu, GameOverMenuListener, GameOverMenuController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenu", function() { return GameOverMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenuListener", function() { return GameOverMenuListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameOverMenuController", function() { return GameOverMenuController; });
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/RelativeDimension */ "./src/engine/transform/dimension/RelativeDimension.ts");









class GameOverMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["Frame"] {
    constructor(position, bounds, listener, controller, gameModel) {
        super(position, bounds, listener, controller);
        this.gameModel = gameModel;
    }
    create() {
        this.transform.bounds.referenceWidth = 320;
        let bg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), "black"));
        bg.opacity = 0.5;
        let tbg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_4__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_8__["default"](100, 50)), "black"));
        tbg.opacity = 0.9;
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_0__["default"]("You have died", context2D, "white", 20, "serif");
        let text = tbg.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5)))));
    }
}
class GameOverMenuListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameListener"] {
}
class GameOverMenuController extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameController"] {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/IntroFrame.ts":
/*!**********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/IntroFrame.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return IntroFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _MainFrame__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MainFrame */ "./src/examples/classic-rpg-interface/MainFrame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_TreeUtils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/TreeUtils */ "./src/engine/TreeUtils.ts");
/* harmony import */ var engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/ui/LoadingBar */ "./src/engine/gameobject/ui/LoadingBar.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var _MainMenuButton__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./MainMenuButton */ "./src/examples/classic-rpg-interface/MainMenuButton.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");














class IntroFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor() {
        super(...arguments);
        this.started = false;
    }
    create() {
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("RPG Alpha", context2D, "white", 48, "serif", 1.4);
        let titleText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.3, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5)))));
        titleText.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 10;
        };
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("Start Game", context2D, "white", 32, "serif");
        let startText = tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))));
        startText.canvasFunction = (ctx) => {
            ctx.shadowColor = "black";
            ctx.shadowOffsetX = 2;
            ctx.shadowOffsetY = 2;
            ctx.shadowBlur = 10;
        };
        this.button = this.addChild(new _MainMenuButton__WEBPACK_IMPORTED_MODULE_12__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.7, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__["default"](300, 50)), startText));
        this.loadingBar = this.addChild(new engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_8__["default"](100, 10)), "white", "grey"));
        tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_1__["default"]("Loading textures", context2D, "white", 8, "serif", 1.5);
        this.loadingText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0, 10), new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0)))));
        this.mainFrame = this.addChild(new _MainFrame__WEBPACK_IMPORTED_MODULE_5__["MainFrame"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__["default"](1, 1)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameController"]()));
        this.mainFrame.precreate = true;
        this.button.onClick.push(() => {
            this.mainFrame.open();
            this.button.interactable = false;
            this.started = true;
        }, this);
        this.button.setInteractable(false);
    }
    update() {
        if (!(this.started)) {
            let stats = engine_TreeUtils__WEBPACK_IMPORTED_MODULE_9__["TreeUtils"].subtreeLoadStats(this.mainFrame);
            this.loadingBar.setProportion(stats.assetsProportion);
            if (this.mainFrame.subtreeLoaded) {
                this.button.setInteractable(true);
                this.loadingBar.visible = false;
                this.loadingText.visible = false;
            }
        }
    }
    onOpen() {
        this.opacity = 0.01;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_13__["default"](this, "opacity", 1, 1000)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/Launcher.ts":
/*!********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/Launcher.ts ***!
  \********************************************************/
/*! exports provided: Run */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Run", function() { return Run; });
/* harmony import */ var Launcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! Launcher */ "./src/Launcher.ts");
/* harmony import */ var engine_io_IO__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/io/IO */ "./src/engine/io/IO.ts");
/* harmony import */ var engine_io_Loader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/io/Loader */ "./src/engine/io/Loader.ts");
/* harmony import */ var engine_io_Timing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/io/Timing */ "./src/engine/io/Timing.ts");
/* harmony import */ var _IntroFrame__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./IntroFrame */ "./src/examples/classic-rpg-interface/IntroFrame.ts");





class Run extends Launcher__WEBPACK_IMPORTED_MODULE_0__["Launcher"] {
    constructor() {
        super(...arguments);
        this._rootGameObjectType = _IntroFrame__WEBPACK_IMPORTED_MODULE_4__["default"];
    }
    _createInterfaces(canvas) {
        let io = new engine_io_IO__WEBPACK_IMPORTED_MODULE_1__["default"]();
        io.addInterface(new engine_io_Loader__WEBPACK_IMPORTED_MODULE_2__["default"](""), "loader");
        io.addInterface(new engine_io_Timing__WEBPACK_IMPORTED_MODULE_3__["TimingListener"](), "timing");
        return this._addMouse(this._addKeyboard(io), canvas);
    }
}
let l = new Run(document.querySelector("#gameTarget"));
l.create();
l.start();


/***/ }),

/***/ "./src/examples/classic-rpg-interface/LoadingStatusFrame.ts":
/*!******************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/LoadingStatusFrame.ts ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LoadingStatusFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class LoadingStatusFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.backgroundColour));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/MainFrame.ts":
/*!*********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/MainFrame.ts ***!
  \*********************************************************/
/*! exports provided: randomColour, MainFrame */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "randomColour", function() { return randomColour; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MainFrame", function() { return MainFrame; });
/* harmony import */ var _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core-ui-components/CharacterMenu */ "./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts");
/* harmony import */ var _core_ui_components_Map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core-ui-components/Map */ "./src/examples/classic-rpg-interface/core-ui-components/Map.ts");
/* harmony import */ var _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GameOverMenu */ "./src/examples/classic-rpg-interface/GameOverMenu.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./core-ui-components/MiniMapFrame */ "./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts");
/* harmony import */ var _UIModel__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./UIModel */ "./src/examples/classic-rpg-interface/UIModel.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! engine/transform/dimension/RelativeDimension */ "./src/engine/transform/dimension/RelativeDimension.ts");
/* harmony import */ var engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! engine/transform/dimension/ConditionalDimension */ "./src/engine/transform/dimension/ConditionalDimension.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var _core_ui_components_TabListMenu__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./core-ui-components/TabListMenu */ "./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts");
/* harmony import */ var _WorldFrame__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./WorldFrame */ "./src/examples/classic-rpg-interface/WorldFrame.ts");
/* harmony import */ var _core_ui_components_PartyStatusMenu__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./core-ui-components/PartyStatusMenu */ "./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts");
/* harmony import */ var engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! engine/gameobject/context2d/DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var _core_ui_components_ActionBarMenu__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./core-ui-components/ActionBarMenu */ "./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts");
/* harmony import */ var _core_ui_components_DetailMenuFrame__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./core-ui-components/DetailMenuFrame */ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts");
/* harmony import */ var _LoadingStatusFrame__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./LoadingStatusFrame */ "./src/examples/classic-rpg-interface/LoadingStatusFrame.ts");
/* harmony import */ var _model_GameModel__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./model/GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _model_PartyModel__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./model/PartyModel */ "./src/examples/classic-rpg-interface/model/PartyModel.ts");
/* harmony import */ var _model_world_WorldModel__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./model/world/WorldModel */ "./src/examples/classic-rpg-interface/model/world/WorldModel.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var _data__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./data */ "./src/examples/classic-rpg-interface/data.ts");
/* harmony import */ var _ToolTip__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./ToolTip */ "./src/examples/classic-rpg-interface/ToolTip.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_gameobject_ui_MouseDragTrigger__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! engine/gameobject/ui/MouseDragTrigger */ "./src/engine/gameobject/ui/MouseDragTrigger.ts");




































let randomColour = function () {
    return "#" + Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "" +
        Math.floor(Math.random() * 10) + "";
};

class TestFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["Frame"] {
    constructor(position, bounds, listener, controller, ...args) {
        super(position, bounds, listener, controller);
    }
    create() {
        let color = randomColour();
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_15__["DebugRect"](color, 10));
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_16__["default"](this.listener.constructor.name, context2D, color, 12, "sans-serif");
        this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5)))));
    }
}
class MainFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["Frame"] {
    gameOver() {
        this.showGameOverMenu();
    }
    create() {
        this.gameModel = new _model_GameModel__WEBPACK_IMPORTED_MODULE_28__["default"](new _model_GameModel__WEBPACK_IMPORTED_MODULE_28__["GameModelListener"](), new _model_PartyModel__WEBPACK_IMPORTED_MODULE_29__["default"](), new _model_world_WorldModel__WEBPACK_IMPORTED_MODULE_30__["default"](), new _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["default"](), _data__WEBPACK_IMPORTED_MODULE_32__["gameData"]);
        this.gameModel.create();
        this.gameModel.player.onUpdate.push(((val) => { if (val)
            this.gameOver(); }).bind(this), this);
        let map = new _core_ui_components_Map__WEBPACK_IMPORTED_MODULE_1__["default"](this.gameModel);
        this.addChild(map);
        this.uiModel = new _UIModel__WEBPACK_IMPORTED_MODULE_12__["default"](this.gameModel, map);
        this.transform.bounds.referenceWidth = 320;
        let actionBarHeight = 42;
        let partyStatusMenuWidth = 42;
        let charMenuMaxWidth = 500;
        let characterMenu = new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_18__["default"](320, 120)), new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["CharacterMenuListener"](), new _core_ui_components_CharacterMenu__WEBPACK_IMPORTED_MODULE_0__["CharacterMenuController"](), this.uiModel, this.gameModel);
        characterMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](charMenuMaxWidth, 170);
        this.characterMenu = characterMenu;
        let tabListMenu = new _core_ui_components_TabListMenu__WEBPACK_IMPORTED_MODULE_21__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_18__["default"](320, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._tabListHeightConditional.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        this.tabMenu = tabListMenu;
        tabListMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](charMenuMaxWidth, undefined);
        let detailMenu = new _core_ui_components_DetailMenuFrame__WEBPACK_IMPORTED_MODULE_26__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, tabListMenu.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_RelativeDimension__WEBPACK_IMPORTED_MODULE_18__["default"](320, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._detailMenuHeightConditional.bind(this)), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, tabListMenu.transform.bounds)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        detailMenu.transform.bounds.maxDimension = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](charMenuMaxWidth, undefined);
        let minimap = new _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._miniMapDimConditional.bind(this))), new _core_ui_components_MiniMapFrame__WEBPACK_IMPORTED_MODULE_11__["MiniMapFrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel, this.gameModel);
        let partyStatusMenu = new _core_ui_components_PartyStatusMenu__WEBPACK_IMPORTED_MODULE_23__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0)), new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, minimap.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._partyStatsWidthConditional.bind(this)), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, this.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, characterMenu.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, tabListMenu.transform.bounds), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, minimap.transform.bounds)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        let actionBarMenu = new _core_ui_components_ActionBarMenu__WEBPACK_IMPORTED_MODULE_25__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._actionBarHeightConditional.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel);
        let worldFrame = new _WorldFrame__WEBPACK_IMPORTED_MODULE_22__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, actionBarMenu.transform.bounds)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](0, -1, actionBarMenu.transform.bounds), new engine_transform_dimension_ConditionalDimension__WEBPACK_IMPORTED_MODULE_19__["default"](this._worldFrameConditionalHeight.bind(this))), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.gameModel, this.uiModel);
        let loadingStatusFrame = new _LoadingStatusFrame__WEBPACK_IMPORTED_MODULE_27__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 2)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), this.uiModel, this.gameModel);
        let wbb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__["GridBuilder"]();
        wbb.pushCell(detailMenu);
        wbb.pushCell(tabListMenu);
        wbb.pushCell(characterMenu);
        wbb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_13__["GridOrientation"].Vertical, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 1)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_17__["default"](0, -2)));
        this.addChild(worldFrame);
        let uiBuffer = this.addChild(new engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_24__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1))));
        uiBuffer.addChild(wbb.grid);
        uiBuffer.addChild(partyStatusMenu);
        uiBuffer.addChild(actionBarMenu);
        this.addChild(minimap);
        this.addChild(loadingStatusFrame);
        loadingStatusFrame.open();
        this.createTriggers(worldFrame);
        characterMenu.open();
        tabListMenu.open();
        detailMenu.open();
        worldFrame.open();
        partyStatusMenu.open();
        actionBarMenu.open();
        this.uiModel.tooltip.onUpdate.push(this.updateTooltip.bind(this), this);
    }
    showGameOverMenu() {
        let gameOverMenu = this.addChild(new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenu"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1)), new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenuListener"](), new _GameOverMenu__WEBPACK_IMPORTED_MODULE_2__["GameOverMenuController"](), this.gameModel));
        gameOverMenu.open();
    }
    createTriggers(worldViewArea) {
        let worldDrag = worldViewArea.addChild(new engine_gameobject_ui_MouseDragTrigger__WEBPACK_IMPORTED_MODULE_35__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_6__["default"](1, 1))));
        worldDrag.minDistance = new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](15, 15);
        worldDrag.onDrag.push((vector, mouse, touch, touchID) => {
            let doubleTouch = worldDrag.touchCount > 1;
            if (this.uiModel.dragging !== null || (Math.abs(vector.y) > Math.abs(vector.x))) {
                if ((vector.y > 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].North || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].South))
                    this.uiModel.dragDown(-vector.y / this.transform.bounds.dimension.height, doubleTouch);
                else if ((vector.y < 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].South || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].North))
                    this.uiModel.dragUp(vector.y / this.transform.bounds.dimension.height, doubleTouch);
            }
            if (this.uiModel.dragging !== null || (Math.abs(vector.y) < Math.abs(vector.x))) {
                if ((vector.x > 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].East || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].West))
                    this.uiModel.dragRight(vector.x / this.transform.bounds.dimension.width, doubleTouch);
                else if ((vector.x < 0) && (this.uiModel.dragging === null || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].West || this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].East))
                    this.uiModel.dragLeft(-vector.x / this.transform.bounds.dimension.width, doubleTouch);
            }
            this._lastDragVector = vector;
        }, this);
        worldDrag.onEndDrag.push(((mouse) => {
            if (this.uiModel.dragging !== null) {
                if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].South && this._lastDragVector.y > 0)
                    this.uiModel.endDragUp(worldDrag.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].North && this._lastDragVector.y < 0)
                    this.uiModel.endDragDown(worldDrag.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].West && this._lastDragVector.x < 0)
                    this.uiModel.endDragLeft(worldDrag.touchCount);
                else if (this.uiModel.dragging === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_31__["Facing"].East && this._lastDragVector.x > 0)
                    this.uiModel.endDragRight(worldDrag.touchCount);
                else
                    this.uiModel.endDragReset();
            }
        }).bind(this), this);
        let kt = this.addChild(new engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["default"]());
        kt.getKeyEvent("w", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyW.bind(this.uiModel), this);
        kt.getKeyEvent("d", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyD.bind(this.uiModel), this);
        kt.getKeyEvent("a", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyA.bind(this.uiModel), this);
        kt.getKeyEvent("d", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyDUp.bind(this.uiModel), this);
        kt.getKeyEvent("a", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyAUp.bind(this.uiModel), this);
        kt.getKeyEvent("s", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyS.bind(this.uiModel), this);
        kt.getKeyEvent("q", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyQ.bind(this.uiModel), this);
        kt.getKeyEvent("e", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyE.bind(this.uiModel), this);
        kt.getKeyEvent("PageUp", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyPgUp.bind(this.uiModel), this);
        kt.getKeyEvent("PageDown", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyDown).push(this.uiModel.keyPgDown.bind(this.uiModel), this);
        kt.getKeyEvent("e", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyE.bind(this.uiModel), this);
        kt.getKeyEvent("t", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyT.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowUp", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyUp.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowRight", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyRight.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowDown", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyDown.bind(this.uiModel), this);
        kt.getKeyEvent("ArrowLeft", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyLeft.bind(this.uiModel), this);
        kt.getKeyEvent("0", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.key0.bind(this.uiModel), this);
        kt.getKeyEvent("1", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.key1.bind(this.uiModel), this);
        kt.getKeyEvent("o", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyO.bind(this.uiModel), this);
        kt.getKeyEvent(".", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyRightChevron.bind(this.uiModel), this);
        kt.getKeyEvent(",", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyLeftChevron.bind(this.uiModel), this);
        kt.getKeyEvent("-", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyMinus.bind(this.uiModel), this);
        kt.getKeyEvent("_", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyUnderscore.bind(this.uiModel), this);
        kt.getKeyEvent("=", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyEquals.bind(this.uiModel), this);
        kt.getKeyEvent("+", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyPlus.bind(this.uiModel), this);
        kt.getKeyEvent("n", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_9__["KeyTriggerEvents"].onKeyUp).push(this.uiModel.keyN.bind(this.uiModel), this);
    }
    updateTooltip(text) {
        if (text) {
            if (this.tooltip)
                this.tooltip.requestRemoval();
            this.tooltip = this.addChild(new _ToolTip__WEBPACK_IMPORTED_MODULE_33__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](200, 40)), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameListener"](), new engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_3__["FrameController"](), text));
            this.tooltip.open();
        }
        else {
            if (this.tooltip) {
                let tooltip = this.tooltip;
                tooltip.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_34__["default"](600)).onComplete.push(() => tooltip.onClosing(), this);
            }
        }
    }
    onOpen() {
        this.opacity = 0.01;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_10__["default"](this, "opacity", 1, 1000)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
    _actionBarHeightConditional(dim) {
        if (dim.width < 500)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 42);
        else {
            let prop = (dim.width - 500) * 0.1;
            prop = Math.min(prop, 22);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 42 + prop);
        }
    }
    _partyStatsWidthConditional(dim) {
        if (dim.width < 500)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](42, 0);
        else {
            let prop = (dim.width - 500) * 0.2;
            prop = Math.min(prop, 54);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](42 + prop, 0);
        }
    }
    _miniMapDimConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](130, 130);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 80);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](120 + prop, 120 + prop);
        }
    }
    _worldFrameConditionalHeight(dim) {
        if (dim.width < 800)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, -this.characterMenu.transform.bounds.dimension.height);
        else
            return new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_20__["default"](0, 0);
    }
    _tabListHeightConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 48);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 26);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 48 + prop);
        }
    }
    _detailMenuHeightConditional(dim) {
        if (dim.width < 320)
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 110);
        else {
            let prop = (dim.width - 320) * 0.2;
            prop = Math.min(prop, 160);
            return new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_14__["default"](0, 110 + prop);
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/MainMenuButton.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/MainMenuButton.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MainMenuButton; });
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/RoundedRect */ "./src/engine/gameobject/context2d/RoundedRect.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");





class MainMenuButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_0__["default"] {
    create() {
        this._createButtonContents();
        super.create();
    }
    setInteractable(val) {
        this.interactable = val;
        this.content.opacity = val ? 1 : 0.5;
    }
    _createButtonContents() {
        let roundedness = 2;
        this.backgroundRect = this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "grey", undefined, 2, roundedness));
        this.setHoverRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "grey", "grey", 0, roundedness)));
        this.setPressedRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "red", "red", 0, roundedness)));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/ToolTip.ts":
/*!*******************************************************!*\
  !*** ./src/examples/classic-rpg-interface/ToolTip.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ToolTip; });
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");










class ToolTip extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_7__["Frame"] {
    constructor(position, bounds, listener, controller, text) {
        super(position, bounds, listener, controller);
        this.text = text;
    }
    create() {
        this.transform.bounds.referenceWidth = 320;
        let bg = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_0__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), "black"));
        bg.opacity = 0.9;
        let button = this.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1))));
        button.onClick.push(this.close.bind(this), this);
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__["default"](this.text, context2D, "white", 20, "serif");
        let text = bg.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5)))));
    }
    onOpen() {
        this.opacity = 0;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__["default"](this, "opacity", 1, 500)).onComplete.push(this.ready.bind(this), this);
    }
    onReady() {
        this.opacity = 1;
    }
    onClosing() {
        this.opacity = 1;
        this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_8__["default"](this, "opacity", 0, 500)).onComplete.push(this.close.bind(this), this);
    }
    onClose() {
        this.opacity = 0;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/UIModel.ts":
/*!*******************************************************!*\
  !*** ./src/examples/classic-rpg-interface/UIModel.ts ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UIModel; });
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var _MainFrame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MainFrame */ "./src/examples/classic-rpg-interface/MainFrame.ts");
/* harmony import */ var _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./model/CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/context2d/Sprite */ "./src/engine/gameobject/context2d/Sprite.ts");
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./model/action/InitiativeModel */ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var _model_Status__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./model/Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _core_ui_components_DetailMenuModel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./core-ui-components/DetailMenuModel */ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts");
/* harmony import */ var assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! assets/rpg/ui/nexticon-green.png */ "./src/assets/rpg/ui/nexticon-green.png");
/* harmony import */ var assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! assets/rpg/ui/nexticon-yellow.png */ "./src/assets/rpg/ui/nexticon-yellow.png");
/* harmony import */ var assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! assets/rpg/ui/nexticon-red.png */ "./src/assets/rpg/ui/nexticon-red.png");
/* harmony import */ var assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! assets/rpg/ui/status-slow.png */ "./src/assets/rpg/ui/status-slow.png");
/* harmony import */ var assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! assets/rpg/ui/status-dead.png */ "./src/assets/rpg/ui/status-dead.png");
/* harmony import */ var assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! assets/rpg/ui/status-torch-light.png */ "./src/assets/rpg/ui/status-torch-light.png");
/* harmony import */ var assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _model_action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./model/action/spells/TorchLight */ "./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts");
/* harmony import */ var _model_world_NPCModel__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./model/world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _model_world_WorldObjectModel__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./model/world/WorldObjectModel */ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts");
/* harmony import */ var _model_world_WallModel__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./model/world/WallModel */ "./src/examples/classic-rpg-interface/model/world/WallModel.ts");
/* harmony import */ var _model_world_DoorModel__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./model/world/DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");




























class UIModel {
    constructor(gameModel, map) {
        this.onCharacterSelected = new engine_util_Event__WEBPACK_IMPORTED_MODULE_9__["default"]();
        this.currentDetailMenu = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__["default"](null);
        this.backgroundColour = "#f3e7d7";
        this.holdDuration = 200;
        this.zoomHoldDuration = 100;
        this.dragging = null;
        this._vDragDistance = 0;
        this._vDragRequired = 0.1;
        this.gameModel = gameModel;
        this.map = map;
        this.gameModel.initiative.waitingCharacter.onUpdate.push(() => {
            this.currentDetailMenu.value = null;
            this.onCharacterSelected.call();
        }, this);
        this.tooltip = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_14__["default"](null);
    }
    get selectedCharacter() { return this.gameModel.initiative.waitingCharacter.value; }
    get mapRotation() { return this.gameModel.player.rotation; }
    dragDown(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._positionAtDragStart = this.gameModel.player.position;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._dragStartedAsDoubleTouch = true;
                }
                if (this.gameModel.player.canFly)
                    this.gameModel.slideUpward(distance * 3);
                else {
                    this._vDragDistance += distance;
                    if (this._vDragDistance >= this._vDragRequired) {
                        this.gameModel.jump();
                        this._vDragDistance = 0;
                    }
                }
            }
            else
                this.gameModel.slideForward(distance * 3);
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__["Facing"].South;
        }
    }
    dragUp(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._positionAtDragStart = this.gameModel.player.position;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._dragStartedAsDoubleTouch = true;
                }
                let cell = this.gameModel.world.currentLevel.value.cells[this.gameModel.player.position.x][this.gameModel.player.position.y][this.gameModel.player.position.z];
                if (this.gameModel.player.canFly && cell.floorWall.passable)
                    this.gameModel.slideDownward(distance * 3);
                else if (!cell.floorWall.passable) {
                    this._vDragDistance -= distance;
                    if (this._vDragDistance <= -this._vDragRequired) {
                        this.gameModel.crouch();
                        this._vDragDistance = 0;
                    }
                }
            }
            else
                this.gameModel.slideBackward(distance * 3);
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__["Facing"].North;
        }
    }
    dragLeft(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._facingAtDragStart = this.gameModel.player.facing;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._positionAtDragStart = this.gameModel.player.position;
                    this._dragStartedAsDoubleTouch = true;
                }
                this.gameModel.slideRight(-distance * 3);
            }
            else
                this.gameModel.rotateRight(-distance * (Math.PI / 2));
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__["Facing"].West;
        }
    }
    dragRight(distance, doubleTouch) {
        distance = Math.min(distance, 0.1);
        if (!this.zoomedView) {
            if (this.dragging === null)
                this._facingAtDragStart = this.gameModel.player.facing;
            if (doubleTouch) {
                if (this.dragging === null) {
                    this._positionAtDragStart = this.gameModel.player.position;
                    this._dragStartedAsDoubleTouch = true;
                }
                this.gameModel.slideLeft(-distance * 3);
            }
            else
                this.gameModel.rotateLeft(-distance * (Math.PI / 2));
            this.dragging = _model_PlayerModel__WEBPACK_IMPORTED_MODULE_27__["Facing"].East;
        }
    }
    endDragDown(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position))
                this.gameModel.moveForward();
            else if (this._dragStartedAsDoubleTouch) {
                if (this.gameModel.player.canFly && this._positionAtDragStart.equals(this.gameModel.player.position))
                    this.gameModel.hoverUp();
                else
                    this.gameModel.jump();
            }
            this.endDragReset();
        }
    }
    endDragUp(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position))
                this.gameModel.moveBackward();
            else if (this._dragStartedAsDoubleTouch) {
                let cell = this.gameModel.world.currentLevel.value.cells[this.gameModel.player.position.x][this.gameModel.player.position.y][this.gameModel.player.position.z];
                if (this.gameModel.player.canFly && cell.floorWall.passable && this._positionAtDragStart.equals(this.gameModel.player.position))
                    this.gameModel.hoverDown();
                else
                    this.gameModel.crouch();
            }
            this.endDragReset();
        }
    }
    endDragLeft(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._facingAtDragStart === this.gameModel.player.facing)
                this.gameModel.player.facing = (this.gameModel.player.facing + 8 - 1) % 8;
            else if (this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position)) {
                this.gameModel.strafeLeft();
            }
            this.endDragReset();
        }
    }
    endDragRight(touchCount) {
        if (touchCount === 0) {
            if (!this._dragStartedAsDoubleTouch && this._facingAtDragStart === this.gameModel.player.facing)
                this.gameModel.player.facing = (this.gameModel.player.facing + 1) % 8;
            else if (this._dragStartedAsDoubleTouch && this._positionAtDragStart.equals(this.gameModel.player.position)) {
                this.gameModel.strafeRight();
            }
            this.endDragReset();
        }
    }
    endDragReset() {
        if (!this.zoomedView) {
            this.gameModel.resetRotation();
            this.gameModel.resetPosition();
        }
        this.dragging = null;
        this._vDragDistance = 0;
        this._dragStartedAsDoubleTouch = false;
    }
    keyW() { if (!this.zoomedView)
        this.gameModel.moveForward(); }
    keyA(delta) { if (!this.zoomedView)
        this.gameModel.turnLeft(); }
    keyD(delta) { if (!this.zoomedView)
        this.gameModel.turnRight(); }
    keyAUp() { if (!this.zoomedView)
        this.gameModel.resetRotation(); }
    keyDUp() { if (!this.zoomedView)
        this.gameModel.resetRotation(); }
    keyS() { if (!this.zoomedView)
        this.gameModel.moveBackward(); }
    keyQ() { if (!this.zoomedView)
        this.gameModel.strafeLeft(); }
    keyE() { if (!this.zoomedView)
        this.gameModel.strafeRight(); }
    keyR() {
        let target = this.gameModel.world.currentLevel.value.npcs[0];
        let action = this.gameModel.initiative.waitingCharacter.value.availableActions(target)[0];
        this.gameModel.performAction(target, action);
    }
    keyT() {
        this.gameModel.castSpell(new _model_action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_22__["default"]("Torch Light", null, this.gameModel), null);
    }
    keyUp() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallFront(); }
    keyRight() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallRight(); }
    keyDown() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallBehind(); }
    keyLeft() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallLeft(); }
    key1() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallAbove(); }
    key0() { if (this.gameModel.player.canLevelEdit)
        this.gameModel.toggleWallBelow(); }
    keyPgUp() { if (this.gameModel.player.canFly)
        if (!this.zoomedView)
            this.gameModel.hoverUp(); }
    keyPgDown() { if (this.gameModel.player.canFly)
        if (!this.zoomedView)
            this.gameModel.hoverDown(); }
    keyO() { this.gameModel.save(); }
    keyRightChevron() {
        if (this.gameModel.world.currentLevelID < this.gameModel.world.levels.length - 1)
            this.gameModel.switchLevel(this.gameModel.world.levels[this.gameModel.world.currentLevelID + 1]);
    }
    keyLeftChevron() {
        if (this.gameModel.world.currentLevelID > 0)
            this.gameModel.switchLevel(this.gameModel.world.levels[this.gameModel.world.currentLevelID - 1]);
    }
    keyMinus() {
        this.gameModel.currentPaintID--;
    }
    keyEquals() {
        this.gameModel.currentPaintID++;
    }
    keyUnderscore() {
        this.gameModel.currentPaintID -= 10;
    }
    keyPlus() {
        this.gameModel.currentPaintID += 10;
    }
    keyN() {
        console.log(this.gameModel.player.position);
    }
    worldClick(target) {
        if (this.tooltip.value !== null)
            this.tooltip.value = null;
        else if (this.currentDetailMenu.value !== null)
            this.currentDetailMenu.value = null;
        else {
            let actionResult;
            if (this.gameModel.initiative.playerCanAct) {
                if ((this.gameModel.player.canLevelEdit) && (target instanceof _model_world_WallModel__WEBPACK_IMPORTED_MODULE_25__["default"])) {
                    this.gameModel.paintWall(target);
                }
                else if (target instanceof _model_world_NPCModel__WEBPACK_IMPORTED_MODULE_23__["default"] || target instanceof _model_world_WorldObjectModel__WEBPACK_IMPORTED_MODULE_24__["default"] || target instanceof _model_world_DoorModel__WEBPACK_IMPORTED_MODULE_26__["default"]) {
                    let actions = this.gameModel.initiative.waitingCharacter.value.availableActions(target);
                    if (actions.length > 0)
                        actionResult = this.gameModel.performAction(target, actions[0]);
                }
            }
            if (actionResult)
                this.gameModel.applyActionResult(actionResult);
        }
    }
    worldHold(zoomView, mouse) {
        this.zoomedView = true;
        zoomView(mouse);
    }
    worldReleaseHold(unzoomView) {
        this.zoomedView = false;
        unzoomView();
    }
    clickCharacterPortrait(c) {
        if (this.gameModel.initiative.waitingCharacter.value !== c)
            this.gameModel.switchCharacter(c);
        else {
            this.currentDetailMenu.value = null;
        }
    }
    holdCharacterPortrait(c) {
        this.tooltip.value = c.fullName;
    }
    releaseHold() {
        this.tooltip.value = null;
    }
    clickQuickItemsTabButton() {
        if (this.currentDetailMenu.value === null)
            this.setDetailMenu();
        else if (this.currentDetailMenu.value.spellList)
            this.setDetailMenu();
        else
            this.hideDetailMenu();
    }
    holdQuickItemsTabButton() {
        this.tooltip.value = "Quick items";
    }
    clickSpellListTabButton(l) {
        if (this.currentDetailMenu.value === null)
            this.setDetailMenu(l);
        else if (this.currentDetailMenu.value.spellList !== l)
            this.setDetailMenu(l);
        else
            this.hideDetailMenu();
    }
    holdSpellListTabButton(l) {
        this.tooltip.value = l.name + " spells";
    }
    clickSpellButton(s) {
        if (s.test(this.selectedCharacter, null)) {
            if (s.requireTarget)
                this.acquireTarget(s);
            else
                this.gameModel.castSpell(s, null);
            this.currentDetailMenu.value = null;
        }
    }
    holdSpellButton(s) {
        this.tooltip.value = s.name;
    }
    holdStatusIcon(status) {
        this.tooltip.value = status.name;
    }
    holdMiniMap() {
        this.tooltip.value = "Date/Time";
    }
    holdLevelNameText() {
        this.tooltip.value = this.gameModel.world.currentLevel.value.name;
    }
    holdCharacterSheetMenuIcon() {
        this.tooltip.value = "Show character sheets";
    }
    acquireTarget(spell) {
    }
    getCharacterPortraitImage(position, bounds, characterModel) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.portraits[characterModel.characterData.portrait].filename);
    }
    getCharacterSelectedHighlight(position, bounds, characterModel) {
        let sh = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["OutlineRect"](position, bounds, "yellow", 2);
        sh.visible = this.selectedCharacter === characterModel;
        this.onCharacterSelected.push((() => sh.visible = this.selectedCharacter === characterModel).bind(this), this);
        return sh;
    }
    getCharacterNextHighlight(position, bounds, characterModel) {
        let group = new engine_GameObject__WEBPACK_IMPORTED_MODULE_6__["default"](position, bounds);
        let g = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_green_png__WEBPACK_IMPORTED_MODULE_16___default.a);
        let y = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_yellow_png__WEBPACK_IMPORTED_MODULE_17___default.a);
        let r = new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), assets_rpg_ui_nexticon_red_png__WEBPACK_IMPORTED_MODULE_18___default.a);
        group.addChild(g);
        group.addChild(y);
        group.addChild(r);
        this.gameModel.initiative.combatState.onUpdate.push((val) => {
            g.visible = false;
            y.visible = false;
            r.visible = false;
            if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
                g.visible = true;
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
                y.visible = true;
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
                r.visible = true;
            group.requestDraw();
        }, this);
        g.visible = false;
        y.visible = false;
        r.visible = false;
        if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
            g.visible = true;
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
            y.visible = true;
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
            r.visible = true;
        this.gameModel.initiative.waitingCharacter.onUpdate.push(((val) => group.visible = val === characterModel).bind(this), this);
        group.visible = this.gameModel.initiative.waitingCharacter.value === characterModel;
        return group;
    }
    getCharacterWaitingHighlight(position, bounds, characterModel) {
        let group = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](position, bounds, "green");
        this.gameModel.initiative.combatState.onUpdate.push((val) => {
            if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
                group.fillStyle = "green";
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
                group.fillStyle = "yellow";
            else if (val === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
                group.fillStyle = "red";
            group.requestDraw();
        }, this);
        if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Green)
            group.fillStyle = "green";
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Yellow)
            group.fillStyle = "yellow";
        else if (this.gameModel.initiative.combatState.value === _model_action_InitiativeModel__WEBPACK_IMPORTED_MODULE_7__["CombatState"].Red)
            group.fillStyle = "red";
        this.gameModel.initiative.waitingCharacters.onUpdate.push(((val) => group.visible = val.indexOf(characterModel) !== -1).bind(this), this);
        group.visible = this.gameModel.initiative.waitingCharacters.value.indexOf(characterModel) !== -1;
        return group;
    }
    getCharacterHitFilter(position, bounds, characterModel) {
        let hitFilter = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](position, bounds, "red");
        hitFilter.opacity = 0.5;
        hitFilter.visible = false;
        characterModel.onTakeDamage.push(() => {
            hitFilter.visible = true;
            hitFilter.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__["default"](300)).onComplete.push(() => hitFilter.visible = false, this);
        }, this);
        return hitFilter;
    }
    getCharacterHPBar(position, bounds, characterModel) {
        let parent = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["Rect"](position, bounds, "black", "#f3e7d7", 1);
        let hpProportion = new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1);
        hpProportion.preserve = true;
        let child = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_12__["default"](0.5, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0), hpProportion), "green");
        child.transform.fixed = false;
        characterModel.hitpoints.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        characterModel.maxHitpoints.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        characterModel.healthState.onUpdate.push(this.updateHPState.bind(this, characterModel, child, hpProportion), this);
        parent.addChild(child);
        return parent;
    }
    getCharacterManaBar(position, bounds, characterModel) {
        let parent = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["Rect"](position, bounds, "black", "#f3e7d7", 1);
        let manaProportion = new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](0, 1);
        manaProportion.preserve = true;
        let child = new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_11__["default"](0.5, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_12__["default"](0.5, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 0), manaProportion), "blue");
        child.transform.fixed = false;
        parent.addChild(child);
        return parent;
    }
    getStatusIcon(position, bounds, status) {
        let filename;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].Dead)
            filename = assets_rpg_ui_status_dead_png__WEBPACK_IMPORTED_MODULE_20___default.a;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].Slow)
            filename = assets_rpg_ui_status_slow_png__WEBPACK_IMPORTED_MODULE_19___default.a;
        if (status.statusType === _model_Status__WEBPACK_IMPORTED_MODULE_13__["StatusType"].TorchLight)
            filename = assets_rpg_ui_status_torch_light_png__WEBPACK_IMPORTED_MODULE_21___default.a;
        if (filename)
            return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, filename);
        return new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_2__["OutlineRect"](position, bounds, Object(_MainFrame__WEBPACK_IMPORTED_MODULE_3__["randomColour"])(), 1);
    }
    updateHPState(characterModel, hpBar, hpProportion) {
        if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Normal) {
            hpProportion.height = Math.max(0, characterModel.hitpoints.value / characterModel.maxHitpoints.value);
            if (hpProportion.height < 0.33)
                hpBar.fillStyle = "red";
            else if (hpProportion.height < 0.5)
                hpBar.fillStyle = "yellow";
            else
                hpBar.fillStyle = "green";
        }
        else if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Unconsious) {
            hpProportion.height = Math.min(1, -characterModel.hitpoints.value / characterModel.maxHitpoints.value);
            hpBar.fillStyle = "grey";
        }
        else {
            hpProportion.height = 1;
            hpBar.fillStyle = undefined;
        }
        hpBar.requestDraw();
    }
    updateManaState(characterModel, manaBar, manaProportion) {
        manaProportion.height = Math.max(0, characterModel.mana / characterModel.maxMana);
        manaBar.fillStyle = "blue";
        if (characterModel.healthState.value === _model_CharacterModel__WEBPACK_IMPORTED_MODULE_4__["HealthState"].Dead) {
            manaProportion.height = 1;
            manaBar.fillStyle = "black";
        }
        manaBar.requestDraw();
    }
    getCharacterTabs(characterModel) {
        return [];
    }
    getCharacterSheetMenuIcon(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.charSheetIcon);
    }
    getQuickItemTabIcon(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.quickItemTabIcon);
    }
    getSpellListTabIcon(position, bounds, spellList) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, spellList.icon);
    }
    setDetailMenu(spellList) {
        this.currentDetailMenu.value = new _core_ui_components_DetailMenuModel__WEBPACK_IMPORTED_MODULE_15__["default"](spellList);
    }
    hideDetailMenu() {
        this.currentDetailMenu.value = null;
    }
    getSpellIcon(position, bounds, spell) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, spell.icon);
    }
    getAnimWaitHourglass(position, bounds) {
        return new engine_gameobject_context2d_Sprite__WEBPACK_IMPORTED_MODULE_5__["default"](position, bounds, this.gameModel.data.ui.hourglassIcon);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/WorldFrame.ts":
/*!**********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/WorldFrame.ts ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_Text__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/Text */ "./src/engine/gameobject/ui/Text.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");
/* harmony import */ var engine_TreeUtils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/TreeUtils */ "./src/engine/TreeUtils.ts");
/* harmony import */ var _sceneview_Scene__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sceneview/Scene */ "./src/examples/classic-rpg-interface/sceneview/Scene.ts");
/* harmony import */ var engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! engine/gameobject/ui/LoadingBar */ "./src/engine/gameobject/ui/LoadingBar.ts");
/* harmony import */ var engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! engine/gameobject/ui/KeyTrigger */ "./src/engine/gameobject/ui/KeyTrigger.ts");
















class WorldFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, gameModel, uiModel) {
        super(position, bounds, listener, controller);
        this.defaultFOV = 52;
        this.changingScene = true;
        this.gameModel = gameModel;
        this.uiModel = uiModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), "black"));
        this._createMouseTriggers();
        this._createHUD();
        this._createThreeBuffer();
        this.gameModel.listener.onSwitchLevel.push(this._switchLevel.bind(this), this);
        this.gameModel.infoText.onUpdate.push(this._updateInfoText.bind(this), this);
        let kt = this.addChild(new engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__["default"]());
        kt.getKeyEvent("m", engine_gameobject_ui_KeyTrigger__WEBPACK_IMPORTED_MODULE_15__["KeyTriggerEvents"].onKeyUp).push(() => console.log(this.threeBuffer.renderer.info), this);
    }
    update() {
        if (this.changingScene) {
            let stats = engine_TreeUtils__WEBPACK_IMPORTED_MODULE_12__["TreeUtils"].subtreeLoadStats(this.threeBuffer);
            this.loadingBar.setProportion(stats.assetsProportion);
            if (this.threeBuffer.subtreeLoaded) {
                this._levelLoaded();
                this.changingScene = false;
            }
        }
    }
    _switchLevel() {
        this.changingScene = true;
        this._createThreeBuffer();
        this.threeBuffer.visible = false;
        this.loadingBar.visible = true;
    }
    _levelLoaded() {
        this.loadingBar.visible = false;
        this.threeBuffer.visible = true;
    }
    _createThreeBuffer() {
        if (this.threeBuffer)
            this.threeBuffer.requestRemoval();
        this.threeBuffer = this.addChild(new _sceneview_Scene__WEBPACK_IMPORTED_MODULE_13__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), this.gameModel));
        this.threeBuffer.fieldOfView = this.defaultFOV;
        this.threeBuffer.requestDraw();
        engine_TreeUtils__WEBPACK_IMPORTED_MODULE_12__["TreeUtils"].moveChildToLast(this, this.threeBuffer);
    }
    _createMouseTriggers() {
        let worldClick = this.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1))));
        worldClick.onClick.push(this._worldClick.bind(this), this);
    }
    _createHUD() {
        this.infoText = this.addChild(new engine_gameobject_ui_Text__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.8, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](), "", "white", 12, "serif", 1.5));
        this.crosshair = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__["default"](3, 3)), "white"));
        this.crosshair.visible = false;
        this.loadingBar = this.addChild(new engine_gameobject_ui_LoadingBar__WEBPACK_IMPORTED_MODULE_14__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__["default"](100, 10)), "white", "grey"));
    }
    _updateInfoText(val) {
        this.infoText.text = val;
        this.infoText.opacity = 1;
        this.infoText.visible = true;
        if (this.infoTextWait)
            this.infoTextWait.requestRemoval();
        this.infoTextWait = this.infoText.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_10__["default"](3000));
        this.infoTextWait.onComplete.push(() => {
            this.infoTextWait = this.infoText.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_11__["default"](this.infoText, "opacity", 0, 1000));
            this.infoTextWait.onComplete.push(() => this.infoText.visible = false, this);
        }, this);
    }
    _worldClick(mouse) {
        let offset = this._getMouseOffset(mouse);
        let raycaster = new THREE.Raycaster();
        raycaster.setFromCamera(new THREE.Vector2(offset.x, offset.y), this.threeBuffer.camera);
        let intersects = raycaster.intersectObjects(this.threeBuffer.scene.children);
        if (intersects.length > 0) {
            let go = intersects[0].object.userData.gameObject;
            if (go)
                this.uiModel.worldClick(go.model);
        }
    }
    _getMouseOffset(mouse) {
        let mousePos = engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"].minus(mouse.position, this.transform.getCanonicalPosition());
        let x = (mousePos.x / this.transform.bounds.dimension.width) * 2 - 1;
        let y = -((mousePos.y / this.transform.bounds.dimension.height) * 2 - 1);
        return new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](x, y);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/ActionBarMenu.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionBarMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");










class ActionBarMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), "#f3e7d7"));
        let shadow = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0, 1)), "black"));
        shadow.opacity = 0.3;
        this.addChild(this.createCharacterSheetMenuIcon());
        this.levelNameText = this.addChild(this.createLevelNameText());
        this.uiModel.gameModel.world.currentLevel.onUpdate.push(((val) => {
            this.levelNameText.text = val.name;
        }).bind(this), this);
    }
    createCharacterSheetMenuIcon() {
        let csmi = this.uiModel.getCharacterSheetMenuIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 1), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_5__["default"](64, 0)));
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdCharacterSheetMenuIcon.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        csmi.addChild(holdTrigger);
        return csmi;
    }
    createLevelNameText() {
        let canvas = document.createElement('canvas');
        let context2D = canvas.getContext("2d");
        let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_6__["default"](this.uiModel.gameModel.world.currentLevel.value.name, context2D, "black", 10, "sans-serif", 1.2);
        let levelNameText = this.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_8__["default"](0.5, 0.5)))));
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_9__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdLevelNameText.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        levelNameText.addChild(holdTrigger);
        return levelNameText;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/CharacterMenu.ts ***!
  \********************************************************************************/
/*! exports provided: default, CharacterMenuListener, CharacterMenuController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CharacterMenu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterMenuListener", function() { return CharacterMenuListener; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterMenuController", function() { return CharacterMenuController; });
/* harmony import */ var _PortraitButton__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PortraitButton */ "./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts");
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");







class CharacterMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_6__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), this.uiModel.backgroundColour));
        this.createMenu();
    }
    static recursePrint(self, padding) {
        console.log(" ".repeat(padding) + self.typeName);
        self.children.forEach(x => CharacterMenu.recursePrint(x, padding + 4));
    }
    createMenu() {
        this.portraits = this.createPortraits();
        for (let i = 0; i < this.portraits.length; i++) {
            let p = this.addChild(this.portraits[i]);
            p.transform.position.addTranslation(new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_4__["default"](i * 0.25, 0));
            p.transform.bounds.addDimension(new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0.25, 1));
        }
    }
    createPortraits() {
        let portraits = [];
        this.gameModel.party.characters.forEach((c) => {
            let p = new _PortraitButton__WEBPACK_IMPORTED_MODULE_0__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](), c, this.uiModel);
            p.onClick.push(this.uiModel.clickCharacterPortrait.bind(this.uiModel, c), this);
            portraits.push(p);
        });
        return portraits;
    }
}
class CharacterMenuListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameListener"] {
}
class CharacterMenuController extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_1__["FrameController"] {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/DetailMenuFrame.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DetailMenuFrame; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/ui/TextBuilder */ "./src/engine/gameobject/ui/TextBuilder.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");













class DetailMenuFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        this.uiModel.currentDetailMenu.onUpdate.push(this.createDetailMenu.bind(this), this);
        this.createDetailMenu();
    }
    createDetailMenu() {
        let w = this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_12__["default"](0));
        if (this.menu)
            w.onComplete.push(this.requestRemoval.bind(this.menu), this);
        w.onComplete.push((() => { if (this.menu)
            this.menu.visible = true; }).bind(this), this);
        let detailMenuModel = this.uiModel.currentDetailMenu.value;
        if (detailMenuModel) {
            let container = this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_3__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.backgroundColour));
            container.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1))));
            container.opacity = 0.8;
            let canvas = document.createElement('canvas');
            let context2D = canvas.getContext("2d");
            let tb = new engine_gameobject_ui_TextBuilder__WEBPACK_IMPORTED_MODULE_5__["default"](detailMenuModel.title, context2D, "black", 12, "sans-serif");
            container.addChild(tb.buildText(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](10, 4, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0, 0)))));
            if (detailMenuModel.spellList) {
                let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_8__["GridBuilder"]();
                detailMenuModel.spellList.spells.forEach(s => {
                    let icon = this.uiModel.getSpellIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), s);
                    let b = new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0.2, 1, this.transform.bounds), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_9__["default"](0, -20)), icon);
                    b.onClick.push(this.uiModel.clickSpellButton.bind(this.uiModel, s), this);
                    gb.pushCell(b);
                    let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration));
                    holdTrigger.onHold.push(this.uiModel.holdSpellButton.bind(this.uiModel, s), this);
                    holdTrigger.onHold.push(b.reset.bind(b), this);
                    holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
                    b.addChild(holdTrigger);
                });
                gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_8__["GridOrientation"].Horizontal, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 20)));
                container.addChild(gb.grid);
            }
            this.menu = container;
            this.menu.visible = false;
        }
        this.requestDraw();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/DetailMenuModel.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DetailMenuModel; });
class DetailMenuModel {
    constructor(spellList) {
        this.spellList = spellList;
        if (!spellList)
            this.title = "Quick Items";
        else {
            this.title = spellList.name;
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/Map.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/Map.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Map; });
/* harmony import */ var engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/context2d/DrawBuffer */ "./src/engine/gameobject/context2d/DrawBuffer.ts");
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/context2d/Circle */ "./src/engine/gameobject/context2d/Circle.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_context2d_Triangle__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/context2d/Triangle */ "./src/engine/gameobject/context2d/Triangle.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! engine/gameobject/anim/ValueTween */ "./src/engine/gameobject/anim/ValueTween.ts");













class Map extends engine_gameobject_context2d_DrawBuffer__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameModel) {
        let w = gameModel.world.currentLevel.value.width;
        let h = gameModel.world.currentLevel.value.depth;
        super(null, new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](w * 100, h * 100)));
        this.cellSize = 100;
        this.edgeWidth = this.cellSize / 10;
        this.gameModel = gameModel;
        this.npcIcons = [];
        this.currentMapY = undefined;
    }
    create() {
        super.create();
        this.gameModel.listener.onMove.push(this.updatePlayer.bind(this), this);
        this.gameModel.listener.onTurn.push(this.updatePlayer.bind(this), this);
        this.gameModel.listener.onWorldChange.push(this.updateMapVisibility.bind(this), this);
        this.gameModel.listener.onSwitchLevel.push(this.recreateMap.bind(this), this);
        this.recreateMap();
    }
    recreateMap() {
        this.levelModel = this.gameModel.world.currentLevel.value;
        this.createMap(this.levelModel);
        this.createNPCs(this.levelModel);
        this.updatePlayer();
    }
    createNPC(npc) {
        let npcIcon = this.addChild(new engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_4__["FillCircle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize / 4, this.cellSize / 4)), undefined));
        this.npcIcons.forEach(n => n.requestRemoval());
        this.npcIcons.push(npcIcon);
        npc.alive.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        npc.position.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        npc.looted.onUpdate.push(this.updateNPC.bind(this, npc, npcIcon), this);
        this.updateNPC(npc, npcIcon);
    }
    updateNPC(npc, npcIcon) {
        if (npc.looted.value)
            npcIcon.visible = false;
        else {
            npcIcon.transform.position.clearTranslations();
            npcIcon.transform.position.addTranslation(new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"]((npc.position.value.x + 0.5) * this.cellSize, (npc.position.value.z + 0.5) * this.cellSize, new engine_util_Point__WEBPACK_IMPORTED_MODULE_9__["default"](0.5, 0.5)));
            let colour = npc.hostile ? "red" : "green";
            if (!(npc.alive.value))
                colour = "blue";
            npcIcon.fillStyle = colour;
            npcIcon.requestDraw();
        }
    }
    createNPCs(level) {
        level.npcs.forEach(n => this.createNPC(n));
    }
    updatePlayer() {
        this.playerIcon.transform.position.clearTranslations();
        this.playerIcon.transform.position.addTranslation(new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"]((this.gameModel.player.position.x + 0.5) * this.cellSize, (this.gameModel.player.position.z + 0.5) * this.cellSize, new engine_util_Point__WEBPACK_IMPORTED_MODULE_9__["default"](0.5, 0.5)));
        if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].North)
            this.playerIcon.transform.rotation = 0;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].NorthEast)
            this.playerIcon.transform.rotation = Math.PI / 4;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].East)
            this.playerIcon.transform.rotation = Math.PI / 2;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].SouthEast)
            this.playerIcon.transform.rotation = 3 * (Math.PI / 4);
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].South)
            this.playerIcon.transform.rotation = Math.PI;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].SouthWest)
            this.playerIcon.transform.rotation = -3 * (Math.PI / 4);
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].West)
            this.playerIcon.transform.rotation = -Math.PI / 2;
        else if (this.gameModel.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_11__["Facing"].NorthWest)
            this.playerIcon.transform.rotation = -Math.PI / 4;
        if (this.gameModel.player.position.y !== this.currentMapY) {
            this.switchToLayer(this.gameModel.player.position.y);
        }
    }
    switchToLayer(y) {
        this.mapLayers.forEach((l, i) => {
            if (i === y) {
                if (l.opacity !== 1)
                    this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 1, 300));
            }
            else if ((i === y - 1) || (i === y + 1)) {
                if (l.opacity !== 0.5)
                    this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 0.5, 300));
            }
            else if (l.opacity !== 0)
                this.addChild(new engine_gameobject_anim_ValueTween__WEBPACK_IMPORTED_MODULE_12__["default"](l, "opacity", 0, 300));
        });
        this.currentMapY = y;
    }
    updateMapVisibility() {
        for (let y = 0; y < this.levelModel.height; y++)
            for (let x = 0; x < this.levelModel.width; x++)
                for (let z = 0; z < this.levelModel.depth; z++)
                    this.mapCells[x][y][z].visible = !(this.levelModel.cells[x][y][z].walls[4].hidden.value);
    }
    createMap(level) {
        this.mapCells = new Array(level.width);
        for (let i = 0; i < level.width; i++) {
            this.mapCells[i] = new Array(level.height);
            for (let j = 0; j < level.height; j++) {
                this.mapCells[i][j] = new Array(level.depth);
            }
        }
        let layers = [];
        for (let y = 0; y < level.height; y++) {
            let l = new engine_GameObject__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_7__["default"](1, 1)));
            for (let x = 0; x < level.width; x++) {
                for (let z = 0; z < level.depth; z++) {
                    let r = l.addChild(this.createRect(x, z, level.cells[x][y][z]));
                    if (level.cells[x][y][z].walls[4].hidden.value)
                        r.visible = false;
                    this.mapCells[x][y][z] = r;
                }
            }
            l.opacity = 0;
            layers.push(this.addChild(l));
        }
        if (this.mapLayers)
            this.mapLayers.forEach(l => l.requestRemoval());
        this.mapLayers = layers;
        if (this.playerIcon)
            this.playerIcon.requestRemoval();
        this.playerIcon = this.addChild(new engine_gameobject_context2d_Triangle__WEBPACK_IMPORTED_MODULE_10__["FillTriangle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize / 2, this.cellSize / 2)), "black"));
    }
    createRect(x, z, cell) {
        return new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_8__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_5__["default"](new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](x * this.cellSize + this.edgeWidth / 2, z * this.cellSize + this.edgeWidth / 2)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_2__["default"](this.cellSize - this.edgeWidth, this.cellSize - this.edgeWidth)), "white");
    }
    destroy() {
        super.destroy();
        this.gameModel.listener.onMove.unregister(this);
        this.gameModel.listener.onTurn.unregister(this);
        this.gameModel.listener.onWorldChange.unregister(this);
        this.gameModel.listener.onSwitchLevel.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts":
/*!*******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/MiniMapFrame.ts ***!
  \*******************************************************************************/
/*! exports provided: default, MiniMapFrameListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MiniMapFrame; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MiniMapFrameListener", function() { return MiniMapFrameListener; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/dimension/Dimension */ "./src/engine/transform/dimension/Dimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/context2d/Circle */ "./src/engine/gameobject/context2d/Circle.ts");
/* harmony import */ var engine_gameobject_context2d_BufferClone__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/context2d/BufferClone */ "./src/engine/gameobject/context2d/BufferClone.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");












class MiniMapFrame extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel, gameModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
        this.gameModel = gameModel;
    }
    create() {
        let miniMap = this.addChild(this.createMiniMap());
        let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), this.uiModel.holdDuration));
        holdTrigger.onHold.push(this.uiModel.holdMiniMap.bind(this.uiModel), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
    }
    mapClip(ctx, pos, dim) {
        ctx.translate(pos.x + dim.width / 2, pos.y + dim.height / 2);
        ctx.rotate(this.uiModel.mapRotation.y);
        ctx.translate(-(pos.x + dim.width / 2), -(pos.y + dim.height / 2));
        ctx.arc(pos.x + dim.width / 2, pos.y + dim.height / 2, Math.min(dim.width, dim.height) / 2, 0, 2 * Math.PI);
    }
    setMapOriginAndArea(bufferClone) {
        let levelDim = new engine_transform_dimension_Dimension__WEBPACK_IMPORTED_MODULE_1__["default"](this.gameModel.world.currentLevel.value.width, this.gameModel.world.currentLevel.value.depth);
        let cellSize = 100;
        let radius = 5;
        bufferClone.origin = new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_9__["default"]((this.gameModel.player.position.x + 0.5 - radius) * cellSize, (this.gameModel.player.position.z + 0.5 - radius) * cellSize);
        bufferClone.area = new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__["default"](cellSize * radius * 2, cellSize * radius * 2);
    }
    createMiniMap() {
        let mapArea = new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)));
        mapArea.onClick.push(() => this.listener.onMapClick.call(), this);
        let mapBackground = mapArea.addChild(new engine_gameobject_context2d_Circle__WEBPACK_IMPORTED_MODULE_5__["FillCircle"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), "grey"));
        mapBackground.opacity = 0.5;
        let mapCircle = mapArea.addChild(new engine_gameobject_context2d_BufferClone__WEBPACK_IMPORTED_MODULE_6__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_8__["default"](1, 1)), this.uiModel.map));
        this.setMapOriginAndArea(mapCircle);
        mapCircle.clipFunction = this.mapClip.bind(this);
        this.gameModel.listener.onMove.push(this.setMapOriginAndArea.bind(this, mapCircle), this);
        this.gameModel.listener.onSwitchLevel.push(this.setMapOriginAndArea.bind(this, mapCircle), this);
        return mapArea;
    }
}
class MiniMapFrameListener extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["FrameListener"] {
    constructor() {
        super(...arguments);
        this.onMapClick = new engine_util_Event__WEBPACK_IMPORTED_MODULE_10__["default"]();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts":
/*!**********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/PartyStatusMenu.ts ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PartyStatusMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var _StatusList__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StatusList */ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts");





class PartyStatusMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this._uiModel = uiModel;
    }
    create() {
        this.list = this.addChild(this.createList());
        this._uiModel.gameModel.party.statuses.onUpdate.push(() => {
            this.list.requestRemoval();
            this.list = this.addChild(this.createList());
        }, this);
    }
    createList() {
        return new _StatusList__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), this._uiModel.gameModel.party.statuses.value, this._uiModel);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts":
/*!*********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/PortraitButton.ts ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PortraitButton; });
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");
/* harmony import */ var engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/PixelTranslation */ "./src/engine/transform/translation/PixelTranslation.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var _StatusList__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./StatusList */ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_gameobject_Clip__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/Clip */ "./src/engine/gameobject/Clip.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");












class PortraitButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"] {
    constructor(position, bounds, characterModel, uiModel) {
        super(position, bounds);
        this._isSelected = false;
        this._isWaiting = false;
        this.characterModel = characterModel;
        this.uiModel = uiModel;
    }
    get filename() { return this.characterModel.portraitType.filename; }
    get isSelected() { return this._isSelected; }
    get isWaiting() { return this._isWaiting; }
    set isSelected(val) {
        this._isSelected = val;
        this.selectedHighlight.visible = val;
    }
    set isWaiting(val) {
        this._isWaiting = val;
        this.waitingHighlight.visible = val;
    }
    create() {
        super.create();
        this.waitingHighlight = this.addChild(this.uiModel.getCharacterWaitingHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.selectedHighlight = this.addChild(this.uiModel.getCharacterSelectedHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.portrait = this.uiModel.getCharacterPortraitImage(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel);
        let clip = new engine_gameobject_Clip__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)));
        clip.setClip = (ctx) => {
            let pos = clip.transform.getDrawPosition();
            let dim = clip.transform.getDimension();
            this._drawEllipse(ctx, pos.x - dim.width * 0.05, pos.y - dim.height * 0.05, dim.width * 1.1, dim.height * 1.1);
            ctx.clip();
        };
        this.addChild(clip);
        clip.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_9__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), "black"));
        clip.addChild(this.portrait);
        this.portrait.opacity = 0.7;
        this.uiModel.gameModel.initiative.waitingCharacters.onUpdate.push((val) => {
            if (val.indexOf(this.characterModel) !== -1)
                this.portrait.opacity = 1;
            else
                this.portrait.opacity = 0.6;
        }, this);
        this.nextHighlight = this.addChild(this.uiModel.getCharacterNextHighlight(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0.5, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0.5, 0))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0.5, 0.15)), this.characterModel));
        this.hitFilter = this.portrait.addChild(this.uiModel.getCharacterHitFilter(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.characterModel));
        this.hpBar = this.addChild(this.uiModel.getCharacterHPBar(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](0, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](0, 0.5)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](2, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](8, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0.75)), this.characterModel));
        this.manaBar = this.addChild(this.uiModel.getCharacterManaBar(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](1, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0.5)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](-2, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](8, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0.75)), this.characterModel));
        let statusList = this.addChild(new _StatusList__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_3__["default"](1, 0, new engine_util_Point__WEBPACK_IMPORTED_MODULE_4__["default"](1, 0)), new engine_transform_translation_PixelTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](-16, 0)), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_7__["default"](32, 0), new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](0, 1)), this.characterModel.statuses, this.uiModel));
        let holdTrigger = this.addChild(new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_11__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_0__["default"](1, 1)), this.uiModel.holdDuration));
        holdTrigger.onHold.push(this.uiModel.holdCharacterPortrait.bind(this.uiModel, this.characterModel), this);
        holdTrigger.onHold.push(this.reset.bind(this), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
    }
    _drawEllipse(ctx, x, y, w, h) {
        var kappa = .5522848, ox = (w / 2) * kappa, oy = (h / 2) * kappa, xe = x + w, ye = y + h, xm = x + w / 2, ym = y + h / 2;
        ctx.beginPath();
        ctx.moveTo(x, ym);
        ctx.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);
        ctx.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);
        ctx.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);
        ctx.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts":
/*!*****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/StatusList.ts ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return StatusList; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");









class StatusList extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, statuses, uiModel) {
        super(position, bounds);
        this.statuses = statuses;
        this.uiModel = uiModel;
    }
    create() {
        let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__["GridBuilder"]();
        for (let i = this.statuses.length - 1; i >= 0; i--) {
            let icon = this.uiModel.getStatusIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1, this.transform.bounds)), this.statuses[i]);
            icon.transform.bounds.targetAspectRatio = 1;
            gb.pushCell(icon);
            icon.addChild(new engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1))));
            let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_7__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_4__["default"](1, 1)), this.uiModel.holdDuration);
            holdTrigger.onHold.push(this.uiModel.holdStatusIcon.bind(this.uiModel, this.statuses[i]), this);
            holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
            icon.addChild(holdTrigger);
        }
        gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_1__["GridOrientation"].Vertical, new engine_transform_Position__WEBPACK_IMPORTED_MODULE_3__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](0, 1))));
        this.addChild(gb.grid);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TabButton; });
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/context2d/RoundedRect */ "./src/engine/gameobject/context2d/RoundedRect.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/ui/Button */ "./src/engine/gameobject/ui/Button.ts");





class TabButton extends engine_gameobject_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"] {
    constructor(position, bounds, tabIcon) {
        super(position, bounds);
        this.tabIcon = tabIcon;
    }
    create() {
        let bg = this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "#f3e7d7", 0, 10));
        this.setHoverRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "white", 0, 10)));
        this.setPressedRect(this.addChild(new engine_gameobject_context2d_RoundedRect__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_0__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_3__["default"](1, 1)), undefined, "white", 0, 10)));
        super.create();
        this.addChild(this.tabIcon);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/core-ui-components/TabListMenu.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TabListMenu; });
/* harmony import */ var engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/Frame */ "./src/engine/gameobject/Frame.ts");
/* harmony import */ var engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/transform/Bounds */ "./src/engine/transform/Bounds.ts");
/* harmony import */ var engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/transform/Position */ "./src/engine/transform/Position.ts");
/* harmony import */ var engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/ui/GridLayout */ "./src/engine/gameobject/ui/GridLayout.ts");
/* harmony import */ var engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/transform/dimension/PixelDimension */ "./src/engine/transform/dimension/PixelDimension.ts");
/* harmony import */ var engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/transform/dimension/ProportionalDimension */ "./src/engine/transform/dimension/ProportionalDimension.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/transform/translation/ProportionalTranslation */ "./src/engine/transform/translation/ProportionalTranslation.ts");
/* harmony import */ var _TabButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TabButton */ "./src/examples/classic-rpg-interface/core-ui-components/TabButton.ts");
/* harmony import */ var engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! engine/gameobject/context2d/Rect */ "./src/engine/gameobject/context2d/Rect.ts");
/* harmony import */ var engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! engine/gameobject/ui/PressHoldTrigger */ "./src/engine/gameobject/ui/PressHoldTrigger.ts");











class TabListMenu extends engine_gameobject_Frame__WEBPACK_IMPORTED_MODULE_0__["Frame"] {
    constructor(position, bounds, listener, controller, uiModel) {
        super(position, bounds, listener, controller);
        this.uiModel = uiModel;
    }
    create() {
        this.addChild(new engine_gameobject_context2d_Rect__WEBPACK_IMPORTED_MODULE_9__["FillRect"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0, 1, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0, 1))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 0), new engine_transform_dimension_PixelDimension__WEBPACK_IMPORTED_MODULE_4__["default"](0, 10)), this.uiModel.backgroundColour));
        this.uiModel.onCharacterSelected.push(this.createMenu.bind(this), this);
        if (this.uiModel.selectedCharacter)
            this.createMenu();
    }
    createMenu() {
        if (this.grid)
            this.grid.requestRemoval();
        if (this.uiModel.selectedCharacter) {
            let gb = new engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__["GridBuilder"]();
            let tabs = this.createTabs();
            for (let i = 0; i < tabs.length; i++) {
                gb.pushCell(tabs[i]);
            }
            gb.fixLayer(engine_gameobject_ui_GridLayout__WEBPACK_IMPORTED_MODULE_3__["GridOrientation"].Horizontal);
            this.grid = this.addChild(gb.grid);
        }
        else {
            this.grid = this.addChild(this.uiModel.getAnimWaitHourglass(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](1, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](1, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1))));
            this.grid.transform.bounds.targetAspectRatio = 1;
        }
    }
    createTabs() {
        let tabs = [];
        let tab = this.createTabButton(this.uiModel.getQuickItemTabIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0.7, 0.7))));
        tabs.push(tab);
        tab.onClick.push(this.uiModel.clickQuickItemsTabButton.bind(this.uiModel), this);
        let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), this.uiModel.holdDuration);
        holdTrigger.onHold.push(this.uiModel.holdQuickItemsTabButton.bind(this.uiModel), this);
        holdTrigger.onHold.push(tab.reset.bind(tab), this);
        holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
        tab.addChild(holdTrigger);
        this.uiModel.selectedCharacter.spellLists.forEach(l => {
            let tab = this.createTabButton(this.uiModel.getSpellListTabIcon(new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](new engine_transform_translation_ProportionalTranslation__WEBPACK_IMPORTED_MODULE_7__["default"](0.5, 0.5, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](0.5, 0.5))), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](0.7, 0.7)), l));
            tabs.push(tab);
            tab.onClick.push(this.uiModel.clickSpellListTabButton.bind(this.uiModel, l), this);
            let holdTrigger = new engine_gameobject_ui_PressHoldTrigger__WEBPACK_IMPORTED_MODULE_10__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1)), this.uiModel.holdDuration);
            holdTrigger.onHold.push(this.uiModel.holdSpellListTabButton.bind(this.uiModel, l), this);
            holdTrigger.onHold.push(tab.reset.bind(tab), this);
            holdTrigger.onReleaseHold.push(this.uiModel.releaseHold.bind(this.uiModel), this);
            tab.addChild(holdTrigger);
        });
        return tabs;
    }
    createTabButton(child) {
        let tab = new _TabButton__WEBPACK_IMPORTED_MODULE_8__["default"](new engine_transform_Position__WEBPACK_IMPORTED_MODULE_2__["default"](), new engine_transform_Bounds__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_transform_dimension_ProportionalDimension__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1, this.transform.bounds)), child);
        tab.transform.bounds.targetAspectRatio = 1;
        tab.addChild(child);
        return tab;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/data.ts":
/*!****************************************************!*\
  !*** ./src/examples/classic-rpg-interface/data.ts ***!
  \****************************************************/
/*! exports provided: TextureEmpty, gameData, GameData, SkyboxData, PortraitData, WallData, WallDetailsData, WorldObjectData, NPCData, ActionData, LevelData, PartyData, CharacterData, PlayerData, UIData, ItemData, WeaponItemData, SpellListData, DoorData, LevelDoorData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gameData", function() { return gameData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameData", function() { return GameData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SkyboxData", function() { return SkyboxData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PortraitData", function() { return PortraitData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WallData", function() { return WallData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WallDetailsData", function() { return WallDetailsData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WorldObjectData", function() { return WorldObjectData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NPCData", function() { return NPCData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ActionData", function() { return ActionData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelData", function() { return LevelData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PartyData", function() { return PartyData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CharacterData", function() { return CharacterData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlayerData", function() { return PlayerData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIData", function() { return UIData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ItemData", function() { return ItemData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeaponItemData", function() { return WeaponItemData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpellListData", function() { return SpellListData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DoorData", function() { return DoorData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LevelDoorData", function() { return LevelDoorData; });
/* harmony import */ var assets_rpg_portrait_1p_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! assets/rpg/portrait/1p.png */ "./src/assets/rpg/portrait/1p.png");
/* harmony import */ var assets_rpg_portrait_1p_png__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_1p_png__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var assets_rpg_portrait_2p_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! assets/rpg/portrait/2p.png */ "./src/assets/rpg/portrait/2p.png");
/* harmony import */ var assets_rpg_portrait_2p_png__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_2p_png__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var assets_rpg_portrait_3p_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! assets/rpg/portrait/3p.png */ "./src/assets/rpg/portrait/3p.png");
/* harmony import */ var assets_rpg_portrait_3p_png__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_3p_png__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var assets_rpg_portrait_4p_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! assets/rpg/portrait/4p.png */ "./src/assets/rpg/portrait/4p.png");
/* harmony import */ var assets_rpg_portrait_4p_png__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_4p_png__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! assets/rpg/portrait/5p.png */ "./src/assets/rpg/portrait/5p.png");
/* harmony import */ var assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! assets/rpg/portrait/6p.png */ "./src/assets/rpg/portrait/6p.png");
/* harmony import */ var assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! assets/rpg/portrait/7p.png */ "./src/assets/rpg/portrait/7p.png");
/* harmony import */ var assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! assets/rpg/portrait/8p.png */ "./src/assets/rpg/portrait/8p.png");
/* harmony import */ var assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! assets/rpg/portrait/9p.png */ "./src/assets/rpg/portrait/9p.png");
/* harmony import */ var assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! assets/rpg/portrait/10p.png */ "./src/assets/rpg/portrait/10p.png");
/* harmony import */ var assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! assets/rpg/portrait/11p.png */ "./src/assets/rpg/portrait/11p.png");
/* harmony import */ var assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! assets/rpg/portrait/12p.png */ "./src/assets/rpg/portrait/12p.png");
/* harmony import */ var assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! assets/rpg/portrait/13p.png */ "./src/assets/rpg/portrait/13p.png");
/* harmony import */ var assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! assets/rpg/portrait/14p.png */ "./src/assets/rpg/portrait/14p.png");
/* harmony import */ var assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! assets/rpg/textures/empty.png */ "./src/assets/rpg/textures/empty.png");
/* harmony import */ var assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14__);
/* harmony reexport (default from non-harmony) */ __webpack_require__.d(__webpack_exports__, "TextureEmpty", function() { return assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a; });
/* harmony import */ var assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! assets/rpg/textures/4-arch.png */ "./src/assets/rpg/textures/4-arch.png");
/* harmony import */ var assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! assets/rpg/textures/Battered Red Clover.jpg */ "./src/assets/rpg/textures/Battered Red Clover.jpg");
/* harmony import */ var assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! assets/rpg/textures/Granite Wall.jpg */ "./src/assets/rpg/textures/Granite Wall.jpg");
/* harmony import */ var assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! assets/rpg/textures/Segmented Stone Wall.jpg */ "./src/assets/rpg/textures/Segmented Stone Wall.jpg");
/* harmony import */ var assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! assets/rpg/textures/Samaris Metal.jpg */ "./src/assets/rpg/textures/Samaris Metal.jpg");
/* harmony import */ var assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! assets/rpg/textures/Palace Floor.jpg */ "./src/assets/rpg/textures/Palace Floor.jpg");
/* harmony import */ var assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! assets/rpg/textures/Smudged Dirt.jpg */ "./src/assets/rpg/textures/Smudged Dirt.jpg");
/* harmony import */ var assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! assets/rpg/textures/Carved Sandstone.jpg */ "./src/assets/rpg/textures/Carved Sandstone.jpg");
/* harmony import */ var assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! assets/rpg/textures/Asylum Cell Orange.jpg */ "./src/assets/rpg/textures/Asylum Cell Orange.jpg");
/* harmony import */ var assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23__);
/* harmony import */ var assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! assets/rpg/textures/Council Chamber.jpg */ "./src/assets/rpg/textures/Council Chamber.jpg");
/* harmony import */ var assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24__);
/* harmony import */ var assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! assets/rpg/textures/Samaris.jpg */ "./src/assets/rpg/textures/Samaris.jpg");
/* harmony import */ var assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! assets/rpg/textures/Slime Wall.jpg */ "./src/assets/rpg/textures/Slime Wall.jpg");
/* harmony import */ var assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! assets/rpg/textures/Dark Gray Marble.jpg */ "./src/assets/rpg/textures/Dark Gray Marble.jpg");
/* harmony import */ var assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27__);
/* harmony import */ var assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! assets/rpg/textures/Glassy Pink Marble.jpg */ "./src/assets/rpg/textures/Glassy Pink Marble.jpg");
/* harmony import */ var assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28__);
/* harmony import */ var assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! assets/rpg/textures/Smashed Gray Marble.jpg */ "./src/assets/rpg/textures/Smashed Gray Marble.jpg");
/* harmony import */ var assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29__);
/* harmony import */ var assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! assets/rpg/textures/Dead Caves.jpg */ "./src/assets/rpg/textures/Dead Caves.jpg");
/* harmony import */ var assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30__);
/* harmony import */ var assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! assets/rpg/textures/Fen Stone.jpg */ "./src/assets/rpg/textures/Fen Stone.jpg");
/* harmony import */ var assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31__);
/* harmony import */ var assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! assets/rpg/textures/Brown Qussair Granite.jpg */ "./src/assets/rpg/textures/Brown Qussair Granite.jpg");
/* harmony import */ var assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! assets/rpg/textures/Rough Orthoclase.jpg */ "./src/assets/rpg/textures/Rough Orthoclase.jpg");
/* harmony import */ var assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! assets/rpg/textures/Midnight Stone.jpg */ "./src/assets/rpg/textures/Midnight Stone.jpg");
/* harmony import */ var assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34__);
/* harmony import */ var assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! assets/rpg/textures/Weedy Lawn.jpg */ "./src/assets/rpg/textures/Weedy Lawn.jpg");
/* harmony import */ var assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! assets/rpg/textures/Moss Cushions.jpg */ "./src/assets/rpg/textures/Moss Cushions.jpg");
/* harmony import */ var assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36__);
/* harmony import */ var assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! assets/rpg/textures/Forest Floor.jpg */ "./src/assets/rpg/textures/Forest Floor.jpg");
/* harmony import */ var assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37__);
/* harmony import */ var assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! assets/rpg/textures/Weeds and Gravel.jpg */ "./src/assets/rpg/textures/Weeds and Gravel.jpg");
/* harmony import */ var assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38__);
/* harmony import */ var assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! assets/rpg/textures/Mossy Rock.jpg */ "./src/assets/rpg/textures/Mossy Rock.jpg");
/* harmony import */ var assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Door (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Door (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Wall (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Window (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg */ "./src/assets/rpg/textures/Cottage 1 - Window 2 (FL 2+).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44__);
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg */ "./src/assets/rpg/textures/Cottage 1 - Door 2 (FL 1).jpg");
/* harmony import */ var assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45__);
/* harmony import */ var assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! assets/rpg/textures/Sandy Lichen Brick.jpg */ "./src/assets/rpg/textures/Sandy Lichen Brick.jpg");
/* harmony import */ var assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46__);
/* harmony import */ var assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! assets/rpg/textures/Straw Roof.jpg */ "./src/assets/rpg/textures/Straw Roof.jpg");
/* harmony import */ var assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47__);
/* harmony import */ var assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! assets/rpg/textures/Straw Roof Interior.jpg */ "./src/assets/rpg/textures/Straw Roof Interior.jpg");
/* harmony import */ var assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_east.png */ "./src/assets/rpg/skybox/clouds1/clouds1_east.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_west.png */ "./src/assets/rpg/skybox/clouds1/clouds1_west.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_up.png */ "./src/assets/rpg/skybox/clouds1/clouds1_up.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_down.png */ "./src/assets/rpg/skybox/clouds1/clouds1_down.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_north.png */ "./src/assets/rpg/skybox/clouds1/clouds1_north.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53__);
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! assets/rpg/skybox/clouds1/clouds1_south.png */ "./src/assets/rpg/skybox/clouds1/clouds1_south.png");
/* harmony import */ var assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54__);
/* harmony import */ var assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! assets/rpg/npcs/ukobach-test.png */ "./src/assets/rpg/npcs/ukobach-test.png");
/* harmony import */ var assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55__);
/* harmony import */ var assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! assets/rpg/npcs/buer-test.png */ "./src/assets/rpg/npcs/buer-test.png");
/* harmony import */ var assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56__);
/* harmony import */ var assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! assets/rpg/npcs/skull-crossbones.png */ "./src/assets/rpg/npcs/skull-crossbones.png");
/* harmony import */ var assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57__);
/* harmony import */ var assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! assets/rpg/npcs/fancy-dress-12.png */ "./src/assets/rpg/npcs/fancy-dress-12.png");
/* harmony import */ var assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58__);
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! assets/rpg/textures/Antediluvian Door.png */ "./src/assets/rpg/textures/Antediluvian Door.png");
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59__);
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! assets/rpg/textures/Antediluvian Door-alphamap.png */ "./src/assets/rpg/textures/Antediluvian Door-alphamap.png");
/* harmony import */ var assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60__);
/* harmony import */ var assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! assets/rpg/levels/large-house.json */ "./src/assets/rpg/levels/large-house.json");
var assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61___namespace = /*#__PURE__*/__webpack_require__.t(/*! assets/rpg/levels/large-house.json */ "./src/assets/rpg/levels/large-house.json", 1);
/* harmony import */ var assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! assets/rpg/levels/open-country.json */ "./src/assets/rpg/levels/open-country.json");
var assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62___namespace = /*#__PURE__*/__webpack_require__.t(/*! assets/rpg/levels/open-country.json */ "./src/assets/rpg/levels/open-country.json", 1);
/* harmony import */ var assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! assets/rpg/spells/beautiful-bird.jpg */ "./src/assets/rpg/spells/beautiful-bird.jpg");
/* harmony import */ var assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63__);
/* harmony import */ var assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! assets/rpg/ui/hourglass.png */ "./src/assets/rpg/ui/hourglass.png");
/* harmony import */ var assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64__);
/* harmony import */ var assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! assets/rpg/ui/charsheet-icon.png */ "./src/assets/rpg/ui/charsheet-icon.png");
/* harmony import */ var assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65__);
/* harmony import */ var assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! assets/rpg/ui/earth-spell-tab.png */ "./src/assets/rpg/ui/earth-spell-tab.png");
/* harmony import */ var assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66__);
/* harmony import */ var assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! assets/rpg/ui/air-spell-tab.png */ "./src/assets/rpg/ui/air-spell-tab.png");
/* harmony import */ var assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67__);
/* harmony import */ var assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! assets/rpg/ui/fire-spell-tab.png */ "./src/assets/rpg/ui/fire-spell-tab.png");
/* harmony import */ var assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68__);
/* harmony import */ var assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! assets/rpg/ui/water-spell-tab.png */ "./src/assets/rpg/ui/water-spell-tab.png");
/* harmony import */ var assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69__);
/* harmony import */ var assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! assets/rpg/ui/quick-items-tab.png */ "./src/assets/rpg/ui/quick-items-tab.png");
/* harmony import */ var assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70___default = /*#__PURE__*/__webpack_require__.n(assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70__);








































































let gameData = {
    skyboxes: [{ xPos: assets_rpg_skybox_clouds1_clouds1_east_png__WEBPACK_IMPORTED_MODULE_49___default.a, xNeg: assets_rpg_skybox_clouds1_clouds1_west_png__WEBPACK_IMPORTED_MODULE_50___default.a, yPos: assets_rpg_skybox_clouds1_clouds1_up_png__WEBPACK_IMPORTED_MODULE_51___default.a, yNeg: assets_rpg_skybox_clouds1_clouds1_down_png__WEBPACK_IMPORTED_MODULE_52___default.a, zPos: assets_rpg_skybox_clouds1_clouds1_north_png__WEBPACK_IMPORTED_MODULE_53___default.a, zNeg: assets_rpg_skybox_clouds1_clouds1_south_png__WEBPACK_IMPORTED_MODULE_54___default.a }],
    portraits: [{ filename: assets_rpg_portrait_1p_png__WEBPACK_IMPORTED_MODULE_0___default.a },
        { filename: assets_rpg_portrait_2p_png__WEBPACK_IMPORTED_MODULE_1___default.a },
        { filename: assets_rpg_portrait_3p_png__WEBPACK_IMPORTED_MODULE_2___default.a },
        { filename: assets_rpg_portrait_4p_png__WEBPACK_IMPORTED_MODULE_3___default.a },
        { filename: assets_rpg_portrait_5p_png__WEBPACK_IMPORTED_MODULE_4___default.a },
        { filename: assets_rpg_portrait_6p_png__WEBPACK_IMPORTED_MODULE_5___default.a },
        { filename: assets_rpg_portrait_7p_png__WEBPACK_IMPORTED_MODULE_6___default.a },
        { filename: assets_rpg_portrait_8p_png__WEBPACK_IMPORTED_MODULE_7___default.a },
        { filename: assets_rpg_portrait_9p_png__WEBPACK_IMPORTED_MODULE_8___default.a },
        { filename: assets_rpg_portrait_10p_png__WEBPACK_IMPORTED_MODULE_9___default.a },
        { filename: assets_rpg_portrait_11p_png__WEBPACK_IMPORTED_MODULE_10___default.a },
        { filename: assets_rpg_portrait_12p_png__WEBPACK_IMPORTED_MODULE_11___default.a },
        { filename: assets_rpg_portrait_13p_png__WEBPACK_IMPORTED_MODULE_12___default.a },
        { filename: assets_rpg_portrait_14p_png__WEBPACK_IMPORTED_MODULE_13___default.a }],
    walls: [{ filename: assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a, passable: true, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Samaris_Metal_jpg__WEBPACK_IMPORTED_MODULE_19___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_empty_png__WEBPACK_IMPORTED_MODULE_14___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_Granite_Wall_jpg__WEBPACK_IMPORTED_MODULE_17___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_Battered_Red_Clover_jpg__WEBPACK_IMPORTED_MODULE_16___default.a, passable: false, normalMap: "", transparent: false, repeat: [1, 1] },
        { filename: assets_rpg_textures_4_arch_png__WEBPACK_IMPORTED_MODULE_15___default.a, passable: true, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Segmented_Stone_Wall_jpg__WEBPACK_IMPORTED_MODULE_18___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Palace_Floor_jpg__WEBPACK_IMPORTED_MODULE_20___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Smudged_Dirt_jpg__WEBPACK_IMPORTED_MODULE_21___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Carved_Sandstone_jpg__WEBPACK_IMPORTED_MODULE_22___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Asylum_Cell_Orange_jpg__WEBPACK_IMPORTED_MODULE_23___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Council_Chamber_jpg__WEBPACK_IMPORTED_MODULE_24___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Samaris_jpg__WEBPACK_IMPORTED_MODULE_25___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Slime_Wall_jpg__WEBPACK_IMPORTED_MODULE_26___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Dark_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_27___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Glassy_Pink_Marble_jpg__WEBPACK_IMPORTED_MODULE_28___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Smashed_Gray_Marble_jpg__WEBPACK_IMPORTED_MODULE_29___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Dead_Caves_jpg__WEBPACK_IMPORTED_MODULE_30___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Fen_Stone_jpg__WEBPACK_IMPORTED_MODULE_31___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Brown_Qussair_Granite_jpg__WEBPACK_IMPORTED_MODULE_32___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Rough_Orthoclase_jpg__WEBPACK_IMPORTED_MODULE_33___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Midnight_Stone_jpg__WEBPACK_IMPORTED_MODULE_34___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Weedy_Lawn_jpg__WEBPACK_IMPORTED_MODULE_35___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Moss_Cushions_jpg__WEBPACK_IMPORTED_MODULE_36___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Forest_Floor_jpg__WEBPACK_IMPORTED_MODULE_37___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Weeds_and_Gravel_jpg__WEBPACK_IMPORTED_MODULE_38___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Mossy_Rock_jpg__WEBPACK_IMPORTED_MODULE_39___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Door_FL_1_jpg__WEBPACK_IMPORTED_MODULE_40___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Wall_FL_1_jpg__WEBPACK_IMPORTED_MODULE_41___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Wall_FL_2_jpg__WEBPACK_IMPORTED_MODULE_42___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Window_FL_2_jpg__WEBPACK_IMPORTED_MODULE_43___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Window_2_FL_2_jpg__WEBPACK_IMPORTED_MODULE_44___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Cottage_1_Door_2_FL_1_jpg__WEBPACK_IMPORTED_MODULE_45___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Sandy_Lichen_Brick_jpg__WEBPACK_IMPORTED_MODULE_46___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Straw_Roof_jpg__WEBPACK_IMPORTED_MODULE_47___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] },
        { filename: assets_rpg_textures_Straw_Roof_Interior_jpg__WEBPACK_IMPORTED_MODULE_48___default.a, passable: false, normalMap: "", transparent: true, repeat: [1, 1] }],
    doors: [{ filename: assets_rpg_textures_Antediluvian_Door_png__WEBPACK_IMPORTED_MODULE_59___default.a, alphaMap: assets_rpg_textures_Antediluvian_Door_alphamap_png__WEBPACK_IMPORTED_MODULE_60___default.a, normalMap: "" }],
    objects: [{ name: "Chest", filename: "assets/rpg/Basic RPG Item Free/Metal Case_01.png" },
        { name: "Lever", filename: "rpg/object/3.png" },
        { name: "Button", filename: "rpg/object/4.png" }],
    npcs: [{
            name: "Ukobach",
            filename: assets_rpg_npcs_ukobach_test_png__WEBPACK_IMPORTED_MODULE_55___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.5,
            hp: "3d8+3",
            loot: "3d4",
            hostile: true,
            actions: [{ name: "Sword", type: "attack", range: 1, damage: "2d6", toHit: "3", recovery: "2" },
                { name: "Bow", type: "attack", range: 6, damage: "1d4", toHit: "3", recovery: "10" }]
        },
        {
            name: "Buer",
            filename: assets_rpg_npcs_buer_test_png__WEBPACK_IMPORTED_MODULE_56___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.8,
            hp: "6d8+6",
            loot: "6d8",
            hostile: true,
            actions: [{ name: "Bite", type: "attack", range: 1, damage: "2d8", toHit: "4", recovery: "3" }]
        },
        {
            name: "Fancy Dress 12",
            filename: assets_rpg_npcs_fancy_dress_12_png__WEBPACK_IMPORTED_MODULE_58___default.a,
            deadTexture: assets_rpg_npcs_skull_crossbones_png__WEBPACK_IMPORTED_MODULE_57___default.a,
            scale: 0.6,
            hp: "2d6",
            loot: "3d4",
            hostile: false,
            actions: []
        }],
    equipment: [{ type: "weapon", name: "Sword", damage: "2d6", toHit: 4, range: 1 },
        { type: "weapon", name: "Bow", damage: "1d8", toHit: 4, range: 6 }],
    ui: { hourglassIcon: assets_rpg_ui_hourglass_png__WEBPACK_IMPORTED_MODULE_64___default.a, charSheetIcon: assets_rpg_ui_charsheet_icon_png__WEBPACK_IMPORTED_MODULE_65___default.a, quickItemTabIcon: assets_rpg_ui_quick_items_tab_png__WEBPACK_IMPORTED_MODULE_70___default.a },
    levels: [{
            name: "Dungeon", width: 2, height: 1, depth: 2,
            walls: [0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0,
                0, 0, 0, 0, 1, 0],
            doors: [],
            objects: [],
            npcs: [],
            startingPosition: [0, 0, 0],
            startingFacing: 1,
            outside: false,
            skybox: 0
        },
        {
            name: "Open Country", width: 10, height: 2, depth: 8,
            walls: assets_rpg_levels_open_country_json__WEBPACK_IMPORTED_MODULE_62__,
            doors: [{ type: 0, position: [6, 0, 5, 0], target: [2, 3, 1, 4, 0], openAngle: undefined }],
            objects: [],
            npcs: [],
            startingPosition: [8, 0, 7],
            startingFacing: 0,
            outside: true,
            skybox: 0
        },
        {
            name: "House of Vahs", width: 7, depth: 5, height: 3,
            walls: assets_rpg_levels_large_house_json__WEBPACK_IMPORTED_MODULE_61__,
            doors: [{ type: 0, position: [2, 1, 3, 0], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [3, 1, 4, 1], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [3, 1, 4, 2], target: [1, 6, 0, 5, 4], openAngle: undefined },
                { type: 0, position: [4, 1, 2, 1], target: undefined, openAngle: Math.PI / 2 },
                { type: 0, position: [4, 1, 2, 3], target: undefined, openAngle: Math.PI / 2 }],
            objects: [],
            npcs: [],
            startingPosition: [3, 1, 4],
            startingFacing: 0,
            outside: false,
            skybox: undefined
        }],
    party: {
        characters: [{
                name: "Torwyn", title: "Squire", portrait: 10, equipment: [0, 1], level: 1, xp: 0, hp: 24, maxHP: 24, mana: 0, maxMana: 0,
                spellLists: []
            },
            {
                name: "Amelar", title: "Acolyte", portrait: 1, equipment: [], level: 1, xp: 0, hp: 14, maxHP: 14, mana: 8, maxMana: 8,
                spellLists: [{ list: 2, spells: [0] }]
            },
            {
                name: "Garn", title: "Pickpocket", portrait: 5, equipment: [], level: 1, xp: 0, hp: 12, maxHP: 12, mana: 0, maxMana: 0,
                spellLists: []
            },
            {
                name: "Melystra", title: "Apprentice", portrait: 3, equipment: [], level: 1, xp: 0, hp: 8, maxHP: 8, mana: 12, maxMana: 12,
                spellLists: [{ list: 0, spells: [0] },
                    { list: 1, spells: [0] },
                    { list: 2, spells: [0, 1] },
                    { list: 3, spells: [] }]
            }
        ],
        gold: 0
    },
    player: { position: undefined, facing: 0, level: 1 },
    spellLists: [{ name: "Earth", spells: [{ name: "Level Editing", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }], icon: assets_rpg_ui_earth_spell_tab_png__WEBPACK_IMPORTED_MODULE_66___default.a },
        { name: "Air", spells: [{ name: "Fly", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }], icon: assets_rpg_ui_air_spell_tab_png__WEBPACK_IMPORTED_MODULE_67___default.a },
        { name: "Fire", icon: assets_rpg_ui_fire_spell_tab_png__WEBPACK_IMPORTED_MODULE_68___default.a, spells: [{ name: "Fire Bolt", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }, { name: "Torch Light", icon: assets_rpg_spells_beautiful_bird_jpg__WEBPACK_IMPORTED_MODULE_63___default.a }] },
        { name: "Water", spells: [], icon: assets_rpg_ui_water_spell_tab_png__WEBPACK_IMPORTED_MODULE_69___default.a }]
};

class GameData {
}
class SkyboxData {
}
class PortraitData {
}
class WallData {
}
class WallDetailsData {
}
class WorldObjectData {
}
class NPCData {
}
class ActionData {
}
class LevelData {
}
class PartyData {
}
class CharacterData {
}
class PlayerData {
}
class UIData {
}
;
class ItemData {
}
class WeaponItemData extends ItemData {
}
class SpellListData {
}
class DoorData {
}
class LevelDoorData {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/ActorModel.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/ActorModel.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActorModel; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class ActorModel {
    constructor() {
        this.onTakeDamage = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
    }
    rollInitiative() {
        return Math.round(Math.random() * 5);
    }
    takeDamage(damage) {
        this.hitpoints.value -= damage;
        this.checkHealthState();
        this.onTakeDamage.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/CharacterModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/CharacterModel.ts ***!
  \********************************************************************/
/*! exports provided: HealthState, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HealthState", function() { return HealthState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CharacterModel; });
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var _EquipmentModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EquipmentModel */ "./src/examples/classic-rpg-interface/model/EquipmentModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _action_LootActionModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action/LootActionModel */ "./src/examples/classic-rpg-interface/model/action/LootActionModel.ts");
/* harmony import */ var _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./action/AttackActionModel */ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var _SpellList__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SpellList */ "./src/examples/classic-rpg-interface/model/SpellList.ts");
/* harmony import */ var _action_OpenDoorActionModel__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./action/OpenDoorActionModel */ "./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts");








var HealthState;
(function (HealthState) {
    HealthState[HealthState["Normal"] = 0] = "Normal";
    HealthState[HealthState["Unconsious"] = 1] = "Unconsious";
    HealthState[HealthState["Dead"] = 2] = "Dead";
})(HealthState || (HealthState = {}));
class CharacterModel extends _ActorModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameData, data) {
        super();
        this.unlockedActions = [];
        this.statuses = [];
        this.spellLists = [];
        this.characterData = data;
        this.portraitType = gameData.portraits[data.portrait];
    }
    get fullName() { return this.characterData.name + " the " + this.characterData.title; }
    save(gameData, characterData) {
        characterData.hp = this.hitpoints.value;
        characterData.mana = this.mana;
        characterData.maxHP = this.maxHitpoints.value;
        characterData.maxMana = this.maxMana;
        characterData.level = this.level;
        characterData.xp = this.xp;
        characterData.portrait = gameData.portraits.indexOf(this.portraitType);
    }
    get statusText() {
        if (this.healthState.value === HealthState.Normal)
            return "Good";
        if (this.healthState.value === HealthState.Unconsious)
            return "Unconsious";
        if (this.healthState.value === HealthState.Dead)
            return "Dead";
    }
    getPosition() { return this.gameModel.player.position; }
    create(gameModel) {
        this.equipmentModel = new _EquipmentModel__WEBPACK_IMPORTED_MODULE_1__["default"]();
        this.maxHitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.characterData.maxHP);
        this.hitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.characterData.hp);
        this.gameModel = gameModel;
        this.healthState = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](HealthState.Normal);
        this.checkHealthState(false);
        this.mana = this.characterData.mana;
        this.maxMana = this.characterData.maxMana;
        this.level = this.characterData.level;
        this.xp = this.characterData.xp;
        this.characterData.spellLists.forEach(l => {
            let spells = [];
            l.spells.forEach(s => {
                let spellData = this.gameModel.data.spellLists[l.list].spells[s];
                spells.push(_SpellList__WEBPACK_IMPORTED_MODULE_6__["default"].getSpell(spellData.name, spellData.icon, this.gameModel));
            });
            let sl = new _SpellList__WEBPACK_IMPORTED_MODULE_6__["default"](this.gameModel.data.spellLists[l.list].name, spells, this.gameModel.data.spellLists[l.list].icon);
            this.spellLists.push(sl);
        });
        this.equipmentModel.create(this.characterData.equipment, gameModel);
        if (this.equipmentModel.equipedWeapon) {
            let weapon = this.equipmentModel.equipedWeapon.itemData;
            this.unlockedActions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__["default"](this.gameModel, this.equipmentModel.equipedWeapon.name, weapon.damage, weapon.range));
        }
        else
            this.unlockedActions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_4__["default"](this.gameModel, "Unarmed", "1d4", 1));
        this.unlockedActions.push(new _action_LootActionModel__WEBPACK_IMPORTED_MODULE_3__["default"](this.gameModel));
        this.unlockedActions.push(new _action_OpenDoorActionModel__WEBPACK_IMPORTED_MODULE_7__["default"](this.gameModel));
        this.hitpoints.onUpdate.push(this.checkHealthState.bind(this), this);
    }
    checkHealthState(updateParty) {
        if (this.hitpoints.value <= 0)
            this.healthState.value = HealthState.Unconsious;
        if (this.hitpoints.value <= -this.maxHitpoints.value) {
            this.healthState.value = HealthState.Dead;
            this.statuses.push(new _Status__WEBPACK_IMPORTED_MODULE_5__["default"](_Status__WEBPACK_IMPORTED_MODULE_5__["StatusType"].Dead));
        }
        if (updateParty || updateParty === undefined)
            this.gameModel.party.checkHealthState();
    }
    availableActions(target) {
        return this.unlockedActions.filter(a => a.test(this, target));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/EquipmentModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/EquipmentModel.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EquipmentModel; });
/* harmony import */ var _ItemModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ItemModel */ "./src/examples/classic-rpg-interface/model/ItemModel.ts");

class EquipmentModel {
    constructor() {
        this.equipment = [];
    }
    create(equipmentIDs, gameModel) {
        this.gameModel = gameModel;
        equipmentIDs.forEach(id => {
            this.equipment.push(new _ItemModel__WEBPACK_IMPORTED_MODULE_0__["default"](gameModel.data.equipment[id]));
        });
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/GameModel.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/GameModel.ts ***!
  \***************************************************************/
/*! exports provided: default, GameModelListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GameModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GameModelListener", function() { return GameModelListener; });
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var _PlayerModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var _action_InitiativeModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action/InitiativeModel */ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");





class GameModel {
    constructor(listener, party, world, player, data) {
        this.spellLists = [];
        this.infoText = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"]("");
        this._currentPaintID = 0;
        this.listener = listener;
        this.data = data;
        this.party = party;
        this.world = world;
        this.player = player;
        this.initiative = new _action_InitiativeModel__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get currentPaintID() { return this._currentPaintID; }
    set currentPaintID(val) {
        this._currentPaintID = val % this.data.walls.length;
        if (this._currentPaintID < 0)
            this._currentPaintID = this.data.walls.length + this.currentPaintID;
    }
    create() {
        this.party.create(this.data, this);
        this.world.create(this);
        this.player.create(this, this.data);
        this.initiative.create(this, this.party, this.world.currentLevel.value, this.data);
    }
    save() {
        this.world.save(this.data);
        this.party.save(this.data);
        this.player.save(this.data);
        console.log(JSON.stringify(this.data.levels[this.world.currentLevelID].walls));
    }
    turnLeft() {
        if (this.initiative.playerCanTurn)
            this.player.turnLeft();
    }
    rotateLeft(angle) {
        if (this.initiative.playerCanTurn)
            this.player.rotateLeft(angle);
    }
    rotateRight(angle) {
        if (this.initiative.playerCanTurn)
            this.player.rotateRight(angle);
    }
    jump() {
        console.log("jump");
    }
    crouch() {
        console.log("crouch");
    }
    slideRight(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideRight(distance);
    }
    slideLeft(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideRight(-distance);
    }
    slideUpward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideUpward(distance);
    }
    slideDownward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideUpward(-distance);
    }
    slideForward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideForward(distance);
    }
    slideBackward(distance) {
        if (this.initiative.playerCanMove)
            this.player.slideForward(-distance);
    }
    turnRight() {
        if (this.initiative.playerCanTurn)
            this.player.turnRight();
    }
    resetRotation() {
        this.listener.onTurn.call();
    }
    resetPosition() {
        this.listener.onMove.call();
    }
    strafeLeft() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.strafeLeft();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    strafeRight() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.strafeRight();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    moveForward() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.moveForward();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    moveBackward() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.moveBackward();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    hoverUp() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.hoverUp();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    hoverDown() {
        if (this.initiative.playerCanMove) {
            let start = this.player.position;
            this.player.hoverDown();
            let end = this.player.position;
            if (!(start.equals(end)))
                this.initiative.moveParty(start, end);
        }
    }
    castSpell(spell, target) {
        let source = this.initiative.waitingCharacter.value;
        if (spell.test(source, target)) {
            let result = this.performAction(target, spell);
            if (result) {
                result.apply();
            }
        }
    }
    switchLevel(level, position, facing) {
        this.listener.onExitLevel.call();
        this.world.currentLevel.value = level;
        if (position)
            this.player.position = position;
        else
            this.player.position = level.startingPosition;
        if (facing)
            this.player.facing = facing;
        else
            this.player.facing = level.startingFacing;
        this.player.updateRotationToMatchFacing();
        this.listener.onSwitchLevel.call();
    }
    openDoor(door) {
        if (door.targetLevel !== undefined)
            this.switchLevel(this.world.levels[door.targetLevel], door.targetPosition, door.targetFacing);
        else
            door.changeOpenState();
    }
    toggleWallAbove() {
        this.toggleWall(5);
    }
    toggleWallBelow() {
        this.toggleWall(4);
    }
    toggleWallFront() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(3);
    }
    toggleWallBehind() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(1);
    }
    toggleWallLeft() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(0);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(2);
    }
    toggleWallRight() {
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].North)
            this.toggleWall(1);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].East)
            this.toggleWall(2);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].South)
            this.toggleWall(3);
        if (this.player.facing === _PlayerModel__WEBPACK_IMPORTED_MODULE_1__["Facing"].West)
            this.toggleWall(0);
    }
    toggleWall(id) {
        if (id === 0)
            this._toggleWall2(0, 2, 0, 0, -1);
        else if (id === 1)
            this._toggleWall2(1, 3, 1, 0, 0);
        else if (id === 2)
            this._toggleWall2(2, 0, 0, 0, 1);
        else if (id === 3)
            this._toggleWall2(3, 1, -1, 0, 0);
        else if (id === 4)
            this._toggleWall2(4, 5, 0, -1, 0);
        else if (id === 5)
            this._toggleWall2(5, 4, 0, 1, 0);
    }
    _toggleWall2(id, idCell2, x, y, z) {
        let currentCell = this.world.currentLevel.value.cells[this.player.position.x][this.player.position.y][this.player.position.z];
        currentCell.walls[id].hidden.value = !currentCell.walls[id].hidden.value;
        if ((this.player.position.x + x >= 0) && (this.player.position.x + x < this.world.currentLevel.value.width))
            if ((this.player.position.y + y >= 0) && (this.player.position.y + y < this.world.currentLevel.value.height))
                if ((this.player.position.z + z >= 0) && (this.player.position.z + z < this.world.currentLevel.value.depth)) {
                    let cell2 = this.world.currentLevel.value.cells[this.player.position.x + x][this.player.position.y + y][this.player.position.z + z];
                    cell2.walls[idCell2].hidden.value = currentCell.walls[id].hidden.value;
                }
        this.listener.onWorldChange.call();
    }
    paintWall(wallModel) {
        wallModel.wallData.value = this.data.walls[this.currentPaintID];
    }
    switchCharacter(character) {
        if (this.initiative.playerCanAct)
            this.initiative.switchCharacter(character);
    }
    performAction(target, action) {
        if (this.initiative.playerCanAct) {
            let source = this.initiative.waitingCharacter.value;
            let result = action.perform(source, target);
            this.initiative.performedAction(source, result);
            return result;
        }
        return null;
    }
    npcPerformAction(source, target, action) {
        if (this.initiative.npcsToAct.value.indexOf(source) !== -1) {
            let result = action.perform(source, target);
            this.initiative.performedAction(source, result);
            return result;
        }
        return null;
    }
    npcDelay(npc, time) {
        if (!npc)
            throw new Error("Cannot delay null NPC");
        this.initiative.npcDelay(npc, time);
    }
    applyActionResult(actionResult) {
        actionResult.apply();
    }
    travelTo(level) {
        this.world.switchToLevel(level);
        this.player.position = level.startingPosition;
        this.player.facing = level.startingFacing;
        this.initiative.create(this, this.party, this.world.currentLevel.value, this.data);
    }
    static rollDice(diceSpec) {
        let parts = diceSpec.split("+");
        let sum = 0;
        parts.forEach(p => {
            sum += GameModel.rollSimpleDice(p);
        });
        return sum;
    }
    static rollSimpleDice(simpleDiceSpec) {
        let parts = simpleDiceSpec.split("d");
        if (parts.length === 1)
            return parseInt(parts[0]);
        let total = 0;
        for (let i = 0; i < parseInt(parts[0]); i++)
            total += Math.round(Math.random() * (parseInt(parts[1]) - 1)) + 1;
        return total;
    }
    isWithinMelee(source, target) {
        let distance = engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__["default"].minus(target, source).magnitude;
        if (distance <= 1)
            return true;
        return false;
    }
}
class GameModelListener {
    constructor() {
        this.onMove = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onTurn = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onWorldChange = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onExitLevel = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
        this.onSwitchLevel = new engine_util_Event__WEBPACK_IMPORTED_MODULE_3__["default"]();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/ItemModel.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/ItemModel.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ItemModel; });
class ItemModel {
    get name() { return this.itemData.name; }
    get type() { return this.itemData.type; }
    constructor(itemData) {
        this.itemData = itemData;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/PartyModel.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/PartyModel.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PartyModel; });
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class PartyModel {
    create(data, gameModel) {
        this.gameModel = gameModel;
        this.characters = [];
        data.party.characters.forEach(c => this.characters.push(new _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"](data, c)));
        this.characters.forEach(c => c.create(gameModel));
        this.gold = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](data.party.gold);
        this.statuses = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"]([]);
    }
    save(data) {
        data.party.gold = this.gold.value;
        let characters = [];
        this.characters.forEach(c => {
            c.save(data, c.characterData);
            characters.push(c.characterData);
        });
        data.party.characters = characters;
    }
    gainGold(increment) {
        this.gold.value += increment;
        this.gameModel.infoText.value = "You gained " + increment + " gp";
    }
    checkHealthState() {
        let livingChars = this.characters.filter(c => c.healthState.value === _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["HealthState"].Normal);
        if (livingChars.length === 0) {
            this.partyDead = true;
            this.gameModel.player.gameOver = true;
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/PlayerModel.ts":
/*!*****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/PlayerModel.ts ***!
  \*****************************************************************/
/*! exports provided: Facing, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Facing", function() { return Facing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PlayerModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Status */ "./src/examples/classic-rpg-interface/model/Status.ts");
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");



var Facing;
(function (Facing) {
    Facing[Facing["North"] = 0] = "North";
    Facing[Facing["NorthEast"] = 1] = "NorthEast";
    Facing[Facing["East"] = 2] = "East";
    Facing[Facing["SouthEast"] = 3] = "SouthEast";
    Facing[Facing["South"] = 4] = "South";
    Facing[Facing["SouthWest"] = 5] = "SouthWest";
    Facing[Facing["West"] = 6] = "West";
    Facing[Facing["NorthWest"] = 7] = "NorthWest";
})(Facing || (Facing = {}));
class PlayerModel {
    constructor() {
        this.yOffset = 0;
        this.animating = false;
        this._gameOver = false;
        this.canMove = true;
        this.canTurn = true;
        this.onUpdate = new engine_util_Event__WEBPACK_IMPORTED_MODULE_2__["default"]();
    }
    get rotation() { return this._rotation; }
    set rotation(val) { this._rotation = val; this.onUpdate.call(); }
    get finePosition() { return this._finePosition; }
    set finePosition(val) { this._finePosition = val; this.onUpdate.call(); }
    get gridPositionWithOffset() {
        let ppos = this.position;
        let pos = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](ppos.x, ppos.y + this.yOffset, ppos.z);
        return pos;
    }
    get gameOver() { return this._gameOver; }
    set gameOver(val) { this._gameOver = val; this.onUpdate.call(); }
    get canFly() {
        if (this.gameModel.party.statuses.value.filter(s => s.statusType === _Status__WEBPACK_IMPORTED_MODULE_1__["StatusType"].Flying).length >= 1)
            return true;
        return false;
    }
    get canLevelEdit() {
        if (this.gameModel.party.statuses.value.filter(s => s.statusType === _Status__WEBPACK_IMPORTED_MODULE_1__["StatusType"].LevelEdit).length >= 1)
            return true;
        return false;
    }
    get canAct() { return !(this.animating); }
    create(gameModel, data) {
        this.gameModel = gameModel;
        this.facing = data.player.facing;
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, 0);
        if (data.player.position)
            this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](data.player.position[0], data.player.position[1], data.player.position[2]);
        else
            this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](gameModel.world.currentLevel.value.startingPosition);
    }
    save(data) {
        data.player.position = [this.position.x, this.position.y, this.position.z];
        data.player.facing = this.facing;
        data.player.level = this.gameModel.world.levels.indexOf(this.gameModel.world.currentLevel.value);
    }
    updateRotationToMatchFacing() {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, this.facing * Math.PI / 4, 0);
        this.onUpdate.call();
    }
    turnRight() {
        if (this.facing === Facing.North)
            this.facing = Facing.NorthEast;
        else if (this.facing === Facing.NorthEast)
            this.facing = Facing.East;
        else if (this.facing === Facing.East)
            this.facing = Facing.SouthEast;
        else if (this.facing === Facing.SouthEast)
            this.facing = Facing.South;
        else if (this.facing === Facing.South)
            this.facing = Facing.SouthWest;
        else if (this.facing === Facing.SouthWest)
            this.facing = Facing.West;
        else if (this.facing === Facing.West)
            this.facing = Facing.NorthWest;
        else if (this.facing === Facing.NorthWest)
            this.facing = Facing.North;
        this.gameModel.listener.onTurn.call();
    }
    turnLeft() {
        if (this.facing === Facing.North)
            this.facing = Facing.NorthWest;
        else if (this.facing === Facing.NorthEast)
            this.facing = Facing.North;
        else if (this.facing === Facing.East)
            this.facing = Facing.NorthEast;
        else if (this.facing === Facing.SouthEast)
            this.facing = Facing.East;
        else if (this.facing === Facing.South)
            this.facing = Facing.SouthEast;
        else if (this.facing === Facing.SouthWest)
            this.facing = Facing.South;
        else if (this.facing === Facing.West)
            this.facing = Facing.SouthWest;
        else if (this.facing === Facing.NorthWest)
            this.facing = Facing.West;
        this.gameModel.listener.onTurn.call();
    }
    rotateLeft(angle) {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.rotation.x, (this.rotation.y + angle) % (Math.PI * 2), this.rotation.z);
        let y = Math.round(7 - (this.rotation.y / (Math.PI / 4)));
        this.facing = (y + 1) % 8;
        this.onUpdate.call();
    }
    canMoveInFacing(facing) {
        if (facing === Facing.North)
            return this.canMoveNorth();
        if (facing === Facing.NorthEast)
            return this.canMoveNorthEast();
        if (facing === Facing.East)
            return this.canMoveEast();
        if (facing === Facing.SouthEast)
            return this.canMoveSouthEast();
        if (facing === Facing.South)
            return this.canMoveSouth();
        if (facing === Facing.SouthWest)
            return this.canMoveSouthWest();
        if (facing === Facing.West)
            return this.canMoveWest();
        if (facing === Facing.NorthWest)
            return this.canMoveNorthWest();
    }
    oppositeFacing(facing) {
        if (facing === Facing.North)
            return Facing.South;
        if (facing === Facing.NorthEast)
            return Facing.SouthWest;
        if (facing === Facing.East)
            return Facing.West;
        if (facing === Facing.SouthEast)
            return Facing.NorthWest;
        if (facing === Facing.South)
            return Facing.North;
        if (facing === Facing.SouthWest)
            return Facing.NorthEast;
        if (facing === Facing.West)
            return Facing.East;
        if (facing === Facing.NorthWest)
            return Facing.SouthEast;
    }
    facingToUnitVector(facing) {
        if (facing === Facing.North)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, -1);
        if (facing === Facing.NorthEast)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, -1);
        if (facing === Facing.East)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, 0);
        if (facing === Facing.SouthEast)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](1, 0, 1);
        if (facing === Facing.South)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](0, 0, 1);
        if (facing === Facing.SouthWest)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, 1);
        if (facing === Facing.West)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, 0);
        if (facing === Facing.NorthWest)
            return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](-1, 0, -1);
    }
    slideUpward(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        if ((distance > 0 && this.canMoveUpward()) || (distance < 0 && this.canMoveDownward()))
            this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y + distance, this.finePosition.z);
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    slideRight(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        let facing = (this.facing + 2) % 8;
        if ((distance > 0 && this.canMoveInFacing(facing)) || (distance < 0 && this.canMoveInFacing(this.oppositeFacing(facing))))
            this.finePosition = this.facingToUnitVector(facing).normalised.multiply(distance).plus(this.finePosition);
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    slideForward(distance) {
        let polarity = 1;
        if (distance < 0)
            polarity = -1;
        let diagonalComponent = Math.sqrt((distance * distance) / 2) * polarity;
        if ((distance > 0 && this.canMoveInFacing(this.facing)) || (distance < 0 && this.canMoveInFacing(this.oppositeFacing(this.facing))))
            this.finePosition = this.facingToUnitVector(this.facing).normalised.multiply(distance).plus(this.finePosition);
        else {
            if (this.facing === Facing.NorthEast) {
                if ((distance > 0 && this.canMoveNorth() && !this.canMoveEast()) || (distance < 0 && this.canMoveSouth() && !this.canMoveWest()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z - distance);
                else if ((distance > 0 && this.canMoveEast() && !this.canMoveNorth()) || (distance < 0 && this.canMoveWest() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x + distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.SouthEast) {
                if ((distance > 0 && this.canMoveSouth() && !this.canMoveEast()) || (distance < 0 && this.canMoveNorth() && !this.canMoveWest()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z + distance);
                else if ((distance > 0 && this.canMoveEast() && !this.canMoveSouth()) || (distance < 0 && this.canMoveWest() && !this.canMoveNorth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x + distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.SouthWest) {
                if ((distance > 0 && this.canMoveSouth() && !this.canMoveWest()) || (distance < 0 && this.canMoveNorth() && !this.canMoveEast()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z + distance);
                else if ((distance > 0 && this.canMoveWest() && !this.canMoveSouth()) || (distance < 0 && this.canMoveEast() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x - distance, this.finePosition.y, this.finePosition.z);
            }
            else if (this.facing === Facing.NorthWest) {
                if ((distance > 0 && this.canMoveNorth() && !this.canMoveWest()) || (distance < 0 && this.canMoveSouth() && !this.canMoveEast()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x, this.finePosition.y, this.finePosition.z - distance);
                else if ((distance > 0 && this.canMoveWest() && !this.canMoveNorth()) || (distance < 0 && this.canMoveEast() && !this.canMoveSouth()))
                    this.finePosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.finePosition.x - distance, this.finePosition.y, this.finePosition.z);
            }
        }
        this._checkForGridPositionChange();
        this.onUpdate.call();
    }
    _checkForGridPositionChange() {
        let rx = Math.round(this.finePosition.x);
        let ry = Math.round(this.finePosition.y);
        let rz = Math.round(this.finePosition.z);
        if (rx === this.position.x - 1)
            this.moveWest();
        if (rx == this.position.x + 1)
            this.moveEast();
        if (rz === this.position.z + 1)
            this.moveSouth();
        if (rz === this.position.z - 1)
            this.moveNorth();
    }
    rotateRight(angle) {
        this.rotation = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.rotation.x, (this.rotation.y - angle) % (Math.PI * 2), this.rotation.z);
        let y = Math.round(7 - (this.rotation.y / (Math.PI / 4)));
        this.facing = (y + 1) % 8;
        this.onUpdate.call();
    }
    moveForward() {
        if (this.facing === Facing.North)
            this.moveNorth();
        if (this.facing === Facing.NorthEast)
            this.moveNorthEast();
        if (this.facing === Facing.East)
            this.moveEast();
        if (this.facing === Facing.SouthEast)
            this.moveSouthEast();
        if (this.facing === Facing.South)
            this.moveSouth();
        if (this.facing === Facing.SouthWest)
            this.moveSouthWest();
        if (this.facing === Facing.West)
            this.moveWest();
        if (this.facing === Facing.NorthWest)
            this.moveNorthWest();
    }
    moveBackward() {
        if (this.facing === Facing.North)
            this.moveSouth();
        if (this.facing === Facing.NorthEast)
            this.moveSouthWest();
        if (this.facing === Facing.East)
            this.moveWest();
        if (this.facing === Facing.SouthEast)
            this.moveNorthWest();
        if (this.facing === Facing.South)
            this.moveNorth();
        if (this.facing === Facing.SouthWest)
            this.moveNorthEast();
        if (this.facing === Facing.West)
            this.moveEast();
        if (this.facing === Facing.NorthWest)
            this.moveSouthEast();
    }
    strafeLeft() {
        if (this.facing === Facing.North)
            this.moveWest();
        if (this.facing === Facing.NorthEast)
            this.moveNorthWest();
        if (this.facing === Facing.East)
            this.moveNorth();
        if (this.facing === Facing.SouthEast)
            this.moveNorthEast();
        if (this.facing === Facing.South)
            this.moveEast();
        if (this.facing === Facing.SouthWest)
            this.moveSouthEast();
        if (this.facing === Facing.West)
            this.moveSouth();
        if (this.facing === Facing.NorthWest)
            this.moveSouthWest();
    }
    strafeRight() {
        if (this.facing === Facing.North)
            this.moveEast();
        if (this.facing === Facing.NorthEast)
            this.moveSouthEast();
        if (this.facing === Facing.East)
            this.moveSouth();
        if (this.facing === Facing.SouthEast)
            this.moveSouthWest();
        if (this.facing === Facing.South)
            this.moveWest();
        if (this.facing === Facing.SouthWest)
            this.moveNorthWest();
        if (this.facing === Facing.West)
            this.moveNorth();
        if (this.facing === Facing.NorthWest)
            this.moveNorthEast();
    }
    hoverUp() {
        if (this.position.y < this.gameModel.world.currentLevel.value.levelType.height - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y + 1][this.position.z];
            if (cell.walls[5].passable)
                this.move(0, 1, 0);
        }
    }
    hoverDown() {
        if (this.position.y > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y - 1][this.position.z];
            if (cell.walls[4].passable)
                this.move(0, -1, 0);
        }
    }
    moveNorth() {
        if (this.canMoveNorth()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(0, cell.exitOffsetN, -1);
        }
    }
    canMoveUpward() {
        let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
        if (cell.ceilingWall.passable)
            return true;
        return false;
    }
    canMoveDownward() {
        if (this.position.y > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if (cell.floorWall.passable)
                return true;
        }
        return false;
    }
    canMoveNorth() {
        if (this.position.z > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.walls[0].passable) || (cell.exitOffsetN !== 0))
                return true;
        }
        return false;
    }
    moveNorthEast() {
        if (this.canMoveNorthEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, -1);
        }
        else {
            let n = this.canMoveNorth();
            let e = this.canMoveEast();
            if (n && !e)
                this.moveNorth();
            if (e && !n)
                this.moveEast();
        }
    }
    canMoveNorthEast() {
        if (this.canMoveNorth() && this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetN === cell.exitOffsetE) && (this.eastCell().northWall.passable) && (this.northCell().eastWall.passable))
                return true;
        }
        return false;
    }
    moveEast() {
        if (this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, 0);
        }
    }
    canMoveEast() {
        if (this.position.x < this.gameModel.world.currentLevel.value.levelType.width - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if (cell.walls[1].passable || cell.exitOffsetE !== 0)
                return true;
        }
        return false;
    }
    northCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z - 1];
    }
    northEastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z - 1];
    }
    eastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z];
    }
    southEastCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x + 1][this.position.y][this.position.z + 1];
    }
    southCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z + 1];
    }
    southWestCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z + 1];
    }
    westCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z];
    }
    northWestCell() {
        return this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z - 1];
    }
    moveSouthEast() {
        if (this.canMoveSouthEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(1, cell.exitOffsetE, 1);
        }
        else {
            let s = this.canMoveSouth();
            let e = this.canMoveEast();
            if (s && !e)
                this.moveSouth();
            if (e && !s)
                this.moveEast();
        }
    }
    canMoveSouthEast() {
        if (this.canMoveSouth() && this.canMoveEast()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetS === cell.exitOffsetE) && (this.southCell().eastWall.passable) && (this.eastCell().southWall.passable))
                return true;
        }
        return false;
    }
    moveSouth() {
        if (this.canMoveSouth()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(0, cell.exitOffsetS, 1);
        }
    }
    canMoveSouth() {
        if (this.position.z < this.gameModel.world.currentLevel.value.levelType.depth - 1) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z + 1];
            if (cell.walls[2].passable || cell.exitOffsetS !== 0)
                return true;
        }
        return false;
    }
    moveSouthWest() {
        if (this.canMoveSouthWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, 1);
        }
        else {
            let s = this.canMoveSouth();
            let w = this.canMoveWest();
            if (s && !w)
                this.moveSouth();
            if (w && !s)
                this.moveWest();
        }
    }
    canMoveSouthWest() {
        if (this.canMoveSouth() && this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetS === cell.exitOffsetW) && (this.southCell().westWall.passable) && (this.westCell().southWall.passable))
                return true;
        }
        return false;
    }
    moveWest() {
        if (this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, 0);
        }
    }
    canMoveWest() {
        if (this.position.x > 0) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            let newcell = this.gameModel.world.currentLevel.value.cells[this.position.x - 1][this.position.y][this.position.z];
            if (cell.walls[3].passable || cell.exitOffsetW !== 0)
                return true;
        }
        return false;
    }
    moveNorthWest() {
        if (this.canMoveNorthWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            this.move(-1, cell.exitOffsetE, -1);
        }
        else {
            let n = this.canMoveNorth();
            let w = this.canMoveWest();
            if (n && !w)
                this.moveNorth();
            if (w && !n)
                this.moveWest();
        }
    }
    canMoveNorthWest() {
        if (this.canMoveNorth() && this.canMoveWest()) {
            let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
            if ((cell.exitOffsetN === cell.exitOffsetW) && (this.northCell().westWall.passable) && (this.westCell().northWall.passable))
                return true;
        }
        return false;
    }
    move(x, y, z) {
        this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](this.position.x + x, this.position.y + y, this.position.z + z);
        let cell = this.gameModel.world.currentLevel.value.cells[this.position.x][this.position.y][this.position.z];
        this.yOffset = cell.midHeight;
        this.gameModel.listener.onMove.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/Spell.ts":
/*!***********************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/Spell.ts ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Spell; });
/* harmony import */ var _action_ActionModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action/ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");

class Spell extends _action_ActionModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, requireTarget) {
        super();
        this.name = name;
        this.requireTarget = requireTarget;
        this.icon = icon;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/SpellList.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/SpellList.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SpellList; });
/* harmony import */ var _action_spells_FireBolt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action/spells/FireBolt */ "./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts");
/* harmony import */ var _action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./action/spells/TorchLight */ "./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts");
/* harmony import */ var _action_spells_LevelEditing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action/spells/LevelEditing */ "./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts");
/* harmony import */ var _action_spells_Fly__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action/spells/Fly */ "./src/examples/classic-rpg-interface/model/action/spells/Fly.ts");




class SpellList {
    constructor(name, spells, icon) {
        this.spells = [];
        this.name = name;
        this.spells = spells;
        this.icon = icon;
    }
    static getSpell(name, icon, gameModel) {
        if (name === "Fire Bolt")
            return new _action_spells_FireBolt__WEBPACK_IMPORTED_MODULE_0__["default"](name, icon);
        if (name === "Torch Light")
            return new _action_spells_TorchLight__WEBPACK_IMPORTED_MODULE_1__["default"](name, icon, gameModel);
        if (name === "Level Editing")
            return new _action_spells_LevelEditing__WEBPACK_IMPORTED_MODULE_2__["default"](name, icon, gameModel);
        if (name === "Fly")
            return new _action_spells_Fly__WEBPACK_IMPORTED_MODULE_3__["default"](name, icon, gameModel);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/Status.ts":
/*!************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/Status.ts ***!
  \************************************************************/
/*! exports provided: StatusType, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StatusType", function() { return StatusType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Status; });
var StatusType;
(function (StatusType) {
    StatusType[StatusType["Dead"] = 0] = "Dead";
    StatusType[StatusType["TorchLight"] = 1] = "TorchLight";
    StatusType[StatusType["Slow"] = 2] = "Slow";
    StatusType[StatusType["Flying"] = 3] = "Flying";
    StatusType[StatusType["LevelEdit"] = 4] = "LevelEdit";
})(StatusType || (StatusType = {}));
class Status {
    get name() {
        if (this.statusType === StatusType.Dead)
            return "Dead";
        if (this.statusType === StatusType.TorchLight)
            return "Torch Light";
        if (this.statusType === StatusType.Slow)
            return "Slow";
        if (this.statusType === StatusType.Flying)
            return "Flying";
        if (this.statusType === StatusType.LevelEdit)
            return "Level Editing";
    }
    constructor(statusType) {
        this.statusType = statusType;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts":
/*!************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/ActionModel.ts ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionModel; });
class ActionModel {
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionResultModel; });
/* harmony import */ var engine_util_Event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Event */ "./src/engine/util/Event.ts");

class ActionResultModel {
    constructor(recoveryTime) {
        this.recoveryTime = 0;
        this.onApply = new engine_util_Event__WEBPACK_IMPORTED_MODULE_0__["default"]();
        this.recoveryTime = recoveryTime;
    }
    apply() {
        this.onApply.call();
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AttackActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");







class AttackActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_3__["default"] {
    constructor(gameModel, name, damageSpec, range) {
        super();
        this.gameModel = gameModel;
        this.name = name;
        this.damageSpec = damageSpec;
        this.range = range;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _ActorModel__WEBPACK_IMPORTED_MODULE_5__["default"])
            r.onApply.push(() => {
                let damage = _GameModel__WEBPACK_IMPORTED_MODULE_4__["default"].rollDice(this.damageSpec);
                if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                    this.gameModel.infoText.value = "You did " + damage + " damage";
                target.takeDamage(damage);
            }, this);
        return r;
    }
    test(source, target) {
        if (target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) {
            if (!(target.alive.value))
                return false;
            if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_6__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.range)
                return true;
        }
        return false;
    }
    recoveryTime(source) {
        return Math.round(Math.random() * 10);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/InitiativeModel.ts ***!
  \****************************************************************************/
/*! exports provided: CombatState, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CombatState", function() { return CombatState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return InitiativeModel; });
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");



var CombatState;
(function (CombatState) {
    CombatState[CombatState["Green"] = 0] = "Green";
    CombatState[CombatState["Yellow"] = 1] = "Yellow";
    CombatState[CombatState["Red"] = 2] = "Red";
})(CombatState || (CombatState = {}));
class InitiativeModel {
    constructor() {
        this.initiativeOrder = [];
        this.npcsToAct = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"]([]);
    }
    get playerCanAct() {
        return (!this.partyModel.partyDead && this.gameModel.player.canAct && this.npcsToAct.value.length === 0 && this.waitingCharacter.value !== null);
    }
    get playerCanMove() {
        return (!this.partyModel.partyDead && this.gameModel.player.canMove && this.npcsToAct.value.length === 0 && this.waitingCharacter.value !== null);
    }
    get playerCanTurn() {
        return (!this.partyModel.partyDead && this.gameModel.player.canTurn);
    }
    create(gameModel, partyModel, levelModel, data) {
        this.gameModel = gameModel;
        this.partyModel = partyModel;
        partyModel.characters.forEach(c => {
            this.initiativeOrder.push({ number: c.rollInitiative(), actor: c });
        });
        levelModel.npcs.forEach(n => {
            this.initiativeOrder.push({ number: n.rollInitiative(), actor: n });
        });
        this.sortInitiativeOrder();
        this.waitingCharacters = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.getWaitingCharacters());
        this.waitingCharacter = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.getWaitingCharacter());
        this.combatState = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_2__["default"](this.getCombatState());
        this.afterChangeUpdate();
    }
    switchCharacter(character) {
        let characters = [];
        let delayUntil;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === character) {
                delayUntil = this.initiativeOrder[i].number;
                break;
            }
            else if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                characters.push(this.initiativeOrder[i].actor);
            }
        }
        characters.forEach(c => this.delayActorUntil(c, delayUntil));
        this.afterChangeUpdate();
    }
    moveParty(start, end) {
        if (this.combatState.value === CombatState.Red)
            this.delayPartyUntilLastMember(this.gameModel.party.moveRecoveryTime);
        this.afterChangeUpdate();
    }
    performedAction(actor, result) {
        this.delayActor(actor, result.recoveryTime);
        this.afterChangeUpdate();
    }
    npcDelay(npc, time) {
        this.delayActor(npc, time);
        this.afterChangeUpdate();
    }
    npcDied(npc) {
        this.initiativeOrder = this.initiativeOrder.filter(r => r.actor !== npc);
        this.afterChangeUpdate();
    }
    afterChangeUpdate() {
        if (this.partyModel.partyDead) {
            this.waitingCharacters.value = [];
            this.waitingCharacter.value = null;
        }
        else {
            this.sortInitiativeOrder();
            this.fillNPCsToActArray();
            this.combatState.value = this.getCombatState();
            this.updateWaitingCharacters();
        }
    }
    updateWaitingCharacters() {
        this.waitingCharacters.value = this.getWaitingCharacters();
        if (this.waitingCharacters.value.length > 0)
            this.waitingCharacter.value = this.waitingCharacters.value[0];
        else
            this.waitingCharacter.value = null;
    }
    getWaitingCharacters() {
        let characters = [];
        let charsToDelay = [];
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                if (this.initiativeOrder[i].actor.healthState.value === _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["HealthState"].Normal)
                    characters.push(this.initiativeOrder[i].actor);
                else
                    charsToDelay.push(this.initiativeOrder[i].actor);
            }
            else
                break;
        }
        charsToDelay.forEach(c => this.delayActor(c, 1));
        this.sortInitiativeOrder();
        this.fillNPCsToActArray();
        return characters;
    }
    getWaitingCharacter() {
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"])
                return this.initiativeOrder[i].actor;
            else
                return null;
        }
    }
    waitingActor() {
        if (this.initiativeOrder.length > 0)
            return this.initiativeOrder[0].actor;
        return null;
    }
    delayPartyUntilLastMember(additionalDelay) {
        let foundCharacters = 0;
        let delayUntil;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            let actor = this.initiativeOrder[i].actor;
            if (actor instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_0__["default"]) {
                foundCharacters++;
                if (foundCharacters === this.partyModel.characters.length) {
                    delayUntil = this.initiativeOrder[i].number;
                    break;
                }
            }
        }
        this.partyModel.characters.forEach(c => this.delayActorUntil(c, delayUntil + additionalDelay));
    }
    getCombatState() {
        let inMelee = false;
        let aliveNPC = false;
        this.gameModel.world.currentLevel.value.npcs.forEach(npc => {
            if ((npc.alive.value) && (npc.hostile)) {
                if (this.gameModel.isWithinMelee(npc.getPosition(), this.gameModel.player.position))
                    inMelee = true;
                aliveNPC = true;
            }
        });
        if (inMelee)
            return CombatState.Red;
        if (aliveNPC)
            return CombatState.Yellow;
        return CombatState.Green;
    }
    fillNPCsToActArray() {
        this.npcsToAct.value = [];
        for (let i = 0; i < this.initiativeOrder.length; i++)
            if (this.initiativeOrder[i].actor instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) {
                let npc = this.initiativeOrder[i].actor;
                this.npcsToAct.value.push(npc);
            }
            else
                break;
        this.npcsToAct.onUpdate.call();
    }
    delayActorUntil(actor, time) {
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === actor) {
                this.initiativeOrder.splice(i, 1);
                break;
            }
        }
        if (!actor)
            throw new Error("Delay until actor is null");
        this.initiativeOrder.push({ number: time, actor: actor });
    }
    delayActor(actor, time) {
        let currentPosition = 0;
        for (let i = 0; i < this.initiativeOrder.length; i++) {
            if (this.initiativeOrder[i].actor === actor) {
                currentPosition = this.initiativeOrder[i].number;
                this.initiativeOrder.splice(i, 1);
                break;
            }
        }
        if (!actor)
            throw new Error("Delay  actor is null");
        this.initiativeOrder.push({ number: currentPosition + time, actor: actor });
    }
    sortInitiativeOrder() {
        this.initiativeOrder.sort((a, b) => a.number - b.number);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/LootActionModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/LootActionModel.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LootActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../world/NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");





class LootActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_2__["default"] {
    constructor(gameModel) {
        super();
        this.lootDistance = 3;
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"])
            r.onApply.push(() => {
                this.gameModel.party.gainGold(_GameModel__WEBPACK_IMPORTED_MODULE_3__["default"].rollDice(target.lootSpec));
                target.looted.value = true;
            }, this);
        return r;
    }
    test(source, target) {
        if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_4__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.lootDistance)
            if ((target instanceof _world_NPCModel__WEBPACK_IMPORTED_MODULE_1__["default"]) && (!target.alive.value))
                return true;
        return false;
    }
    recoveryTime(source) {
        return 0;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/OpenDoorActionModel.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return OpenDoorActionModel; });
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _ActionModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ActionModel */ "./src/examples/classic-rpg-interface/model/action/ActionModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../world/DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");




class OpenDoorActionModel extends _ActionModel__WEBPACK_IMPORTED_MODULE_1__["default"] {
    constructor(gameModel) {
        super();
        this.reach = 1;
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let r = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_0__["default"](this.recoveryTime(source));
        if (target instanceof _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__["default"])
            r.onApply.push(() => {
                this.gameModel.openDoor(target);
            }, this);
        return r;
    }
    test(source, target) {
        if (target instanceof _world_DoorModel__WEBPACK_IMPORTED_MODULE_3__["default"])
            if (!(target.locked))
                if (engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"].minus(target.getPosition(), source.getPosition()).magnitude <= this.reach)
                    return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/FireBolt.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FireBolt; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");



class FireBolt extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon) {
        super(name, icon, true);
    }
    perform(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) {
            source.mana--;
        }
        return new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
    }
    test(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) {
            if (source.mana >= 1) {
                if (!(target))
                    return true;
                else {
                    return true;
                }
            }
        }
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/Fly.ts":
/*!***********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/Fly.ts ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Fly; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class Fly extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, gameModel) {
        super(name, icon, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                source.mana -= 8;
            this.gameModel.party.statuses.value.push(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].Flying));
            this.gameModel.party.statuses.onUpdate.call(this.gameModel.party.statuses.value);
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if ((source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) && (source.mana >= 8))
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts":
/*!********************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/LevelEditing.ts ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LevelEditing; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class LevelEditing extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, gameModel) {
        super(name, icon, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            this.gameModel.party.statuses.value.push(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].LevelEdit));
            this.gameModel.party.statuses.onUpdate.call(this.gameModel.party.statuses.value);
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts":
/*!******************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/action/spells/TorchLight.ts ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TorchLight; });
/* harmony import */ var _Spell__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Spell */ "./src/examples/classic-rpg-interface/model/Spell.ts");
/* harmony import */ var _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ActionResultModel */ "./src/examples/classic-rpg-interface/model/action/ActionResultModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var _Status__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Status */ "./src/examples/classic-rpg-interface/model/Status.ts");




class TorchLight extends _Spell__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(name, icon, gameModel) {
        super(name, icon, false);
        this.gameModel = gameModel;
    }
    perform(source, target) {
        let result = new _ActionResultModel__WEBPACK_IMPORTED_MODULE_1__["default"](this.recoveryTime(source));
        result.onApply.push((() => {
            if (source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"])
                source.mana--;
            this.gameModel.party.statuses.value.push(new _Status__WEBPACK_IMPORTED_MODULE_3__["default"](_Status__WEBPACK_IMPORTED_MODULE_3__["StatusType"].TorchLight));
            this.gameModel.party.statuses.onUpdate.call(this.gameModel.party.statuses.value);
        }).bind(this), this);
        return result;
    }
    test(source, target) {
        if ((source instanceof _CharacterModel__WEBPACK_IMPORTED_MODULE_2__["default"]) && (source.mana >= 1))
            return true;
        return false;
    }
    recoveryTime(source) {
        return 1;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/CellModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/CellModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CellModel; });
/* harmony import */ var _WallModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WallModel */ "./src/examples/classic-rpg-interface/model/world/WallModel.ts");

class CellModel {
    constructor(data, wallTypes) {
        this.walls = [];
        this.midHeight = 0;
        this.exitOffsetN = 0;
        this.exitOffsetE = 0;
        this.exitOffsetS = 0;
        this.exitOffsetW = 0;
        while (wallTypes.length < 6)
            wallTypes.push(0);
        wallTypes.forEach(type => {
            if (typeof type === "number")
                this.walls.push(new _WallModel__WEBPACK_IMPORTED_MODULE_0__["default"](data.walls[type]));
            else
                this.walls.push(new _WallModel__WEBPACK_IMPORTED_MODULE_0__["default"](data.walls[type.t], type));
        });
        if (this.walls[4].details) {
            this.midHeight = this.walls[4].details.mid || 0;
            this.exitOffsetN = this.walls[4].details.n || 0;
            this.exitOffsetE = this.walls[4].details.e || 0;
            this.exitOffsetS = this.walls[4].details.s || 0;
            this.exitOffsetW = this.walls[4].details.w || 0;
        }
    }
    get northWall() { return this.walls[0]; }
    get eastWall() { return this.walls[1]; }
    get southWall() { return this.walls[2]; }
    get westWall() { return this.walls[3]; }
    get floorWall() { return this.walls[4]; }
    get ceilingWall() { return this.walls[5]; }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/DoorModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DoorModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class DoorModel {
    constructor(gameData, levelDoorData) {
        this.targetLevel = undefined;
        this.isOpen = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](false);
        this.doorData = gameData.doors[levelDoorData.type];
        this.position = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](levelDoorData.position.slice(0, 3));
        this.wall = levelDoorData.position[3];
        if (levelDoorData.target) {
            this.targetLevel = levelDoorData.target[0];
            this.targetPosition = new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](levelDoorData.target.slice(1, 4));
            let f = levelDoorData.target[4];
            this.targetFacing = f;
        }
        else {
            this.openAngle = levelDoorData.openAngle;
        }
    }
    get filename() { return this.doorData.filename; }
    get normalMap() { return this.doorData.normalMap || null; }
    get locked() { return false; }
    get opens() { return this.targetLevel === undefined; }
    create(levelModel) {
        this.levelModel = levelModel;
        let cell = levelModel.cells[this.position.x][this.position.y][this.position.z];
        let wall = cell.walls[this.wall];
        if (this.opens)
            wall.alphaMap = this.doorData.alphaMap;
        wall.passable = this.isOpen.value;
    }
    getPosition() { return this.position; }
    changeOpenState() {
        this.isOpen.value = !this.isOpen.value;
        let cell = this.levelModel.cells[this.position.x][this.position.y][this.position.z];
        let wall = cell.walls[this.wall];
        wall.passable = this.isOpen.value;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/LevelModel.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/LevelModel.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LevelModel; });
/* harmony import */ var _CellModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CellModel */ "./src/examples/classic-rpg-interface/model/world/CellModel.ts");
/* harmony import */ var _WorldObjectModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WorldObjectModel */ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts");
/* harmony import */ var _NPCModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NPCModel */ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _DoorModel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DoorModel */ "./src/examples/classic-rpg-interface/model/world/DoorModel.ts");





class LevelModel {
    get name() { return this.levelType.name; }
    get width() { return this.levelType.width; }
    get height() { return this.levelType.height; }
    get depth() { return this.levelType.depth; }
    get startingPosition() { return new engine_util_Point3__WEBPACK_IMPORTED_MODULE_3__["default"](this.levelType.startingPosition[0], this.levelType.startingPosition[1], this.levelType.startingPosition[2]); }
    get startingFacing() { return this.levelType.startingFacing; }
    get outside() { return this.levelType.outside; }
    get skyboxID() { return this.levelType.skybox; }
    create(gameModel, level) {
        this.levelType = level;
        this.cells = this.createCells(gameModel.data, level);
        this.doors = this.createDoors(gameModel.data, level);
        this.objects = this.createObjects(gameModel.data, level);
        this.npcs = this.createNPCs(gameModel, level);
    }
    save(gameData, level) {
        let newWalls = [];
        for (let y = 0; y < this.height; y++)
            for (let z = 0; z < this.depth; z++)
                for (let x = 0; x < this.width; x++) {
                    this.cells[x][y][z].walls.forEach(w => {
                        if (w.details) {
                            if (w.hidden.value)
                                newWalls.push(0);
                            else {
                                w.details.t = gameData.walls.indexOf(w.wallData.value);
                                newWalls.push(w.details);
                            }
                        }
                        else {
                            if (w.hidden.value)
                                newWalls.push(0);
                            else
                                newWalls.push(gameData.walls.indexOf(w.wallData.value));
                        }
                    });
                }
        level.walls = newWalls;
        let npcs = [];
        this.npcs.forEach(n => {
            let id = gameData.npcs.indexOf(n.npcType);
            npcs.push({ type: id, position: [n.position.value.x, n.position.value.y, n.position.value.z] });
        });
        level.npcs = npcs;
        let objects = [];
        this.objects.forEach(o => {
            let id = gameData.objects.indexOf(o.objectType);
            objects.push({ type: id, position: [o.position.value.x, o.position.value.y, o.position.value.z] });
        });
        level.objects = objects;
    }
    createDoors(data, level) {
        let doors = [];
        for (let i = 0; i < level.doors.length; i++) {
            let door = new _DoorModel__WEBPACK_IMPORTED_MODULE_4__["default"](data, level.doors[i]);
            door.create(this);
            doors.push(door);
        }
        return doors;
    }
    createObjects(data, level) {
        let objects = [];
        for (let i = 0; i < level.objects.length; i++) {
            let obj = new _WorldObjectModel__WEBPACK_IMPORTED_MODULE_1__["default"](data, level.objects[i].type, level.objects[i].position);
            obj.create();
            objects.push(obj);
        }
        return objects;
    }
    createNPCs(gameModel, level) {
        let npcs = [];
        for (let i = 0; i < level.npcs.length; i++) {
            let npc = new _NPCModel__WEBPACK_IMPORTED_MODULE_2__["default"](gameModel, level.npcs[i].type, level.npcs[i].position);
            npc.create();
            npcs.push(npc);
        }
        return npcs;
    }
    createCells(data, level) {
        let rows = [];
        for (let i = 0; i < level.width; i++) {
            let layers = [];
            for (let h = 0; h < level.height; h++) {
                let col = [];
                for (let j = 0; j < level.depth; j++) {
                    let start = (h * level.width * level.depth * 6) + (j * level.width * 6) + i * 6;
                    let wallSubset = level.walls.slice(start, start + 6);
                    col.push(new _CellModel__WEBPACK_IMPORTED_MODULE_0__["default"](data, wallSubset));
                }
                layers.push(col);
            }
            rows.push(layers);
        }
        return rows;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/NPCModel.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/NPCModel.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NPCModel; });
/* harmony import */ var _ActorModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ActorModel */ "./src/examples/classic-rpg-interface/model/ActorModel.ts");
/* harmony import */ var _GameModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GameModel */ "./src/examples/classic-rpg-interface/model/GameModel.ts");
/* harmony import */ var _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../action/AttackActionModel */ "./src/examples/classic-rpg-interface/model/action/AttackActionModel.ts");
/* harmony import */ var _CharacterModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../CharacterModel */ "./src/examples/classic-rpg-interface/model/CharacterModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");






class NPCModel extends _ActorModel__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(gameModel, type, position) {
        super();
        this.alive = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](true);
        this.performingAction = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](null);
        this.delaying = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](false);
        this.looted = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](false);
        this.gameModel = gameModel;
        this.npcType = gameModel.data.npcs[type];
        this.position = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](new engine_util_Point3__WEBPACK_IMPORTED_MODULE_5__["default"](position));
    }
    get name() { return this.npcType.name; }
    get filename() { return this.npcType.filename; }
    get hpSpec() { return this.npcType.hp; }
    get lootSpec() { return this.npcType.loot; }
    get hostile() { return this.npcType.hostile; }
    get deadTexture() { return this.npcType.deadTexture; }
    getPosition() { return this.position.value; }
    create() {
        this.maxHitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](_GameModel__WEBPACK_IMPORTED_MODULE_1__["default"].rollDice(this.hpSpec));
        this.hitpoints = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_4__["default"](this.maxHitpoints.value);
        this.actions = [];
        this.npcType.actions.forEach(a => {
            if (a.type === "attack")
                this.actions.push(new _action_AttackActionModel__WEBPACK_IMPORTED_MODULE_2__["default"](this.gameModel, a.name, a.damage, a.range));
        });
    }
    checkHealthState() {
        if (this.hitpoints.value <= 0) {
            this.alive.value = false;
            this.gameModel.initiative.npcDied(this);
        }
    }
    act() {
        let found = false;
        let target;
        while (!found) {
            let r = Math.round(Math.random() * (this.gameModel.party.characters.length - 1));
            target = this.gameModel.party.characters[r];
            if (target.healthState.value !== _CharacterModel__WEBPACK_IMPORTED_MODULE_3__["HealthState"].Dead)
                found = true;
        }
        let availableActions = this.actions.filter(a => a.test(this, target));
        if (availableActions.length > 0) {
            let result = this.gameModel.npcPerformAction(this, target, availableActions[0]);
            this.performingAction.value = result;
        }
        else
            this.delaying.value = true;
    }
    applyActionResult(actionResult) {
        if (this.performingAction.value) {
            this.gameModel.applyActionResult(actionResult);
            this.performingAction.value = null;
        }
        else {
            this.delaying.value = false;
            this.gameModel.npcDelay(this, 1);
        }
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WallModel.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WallModel.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WallModel; });
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");
/* harmony import */ var examples_classic_rpg_interface_data__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! examples/classic-rpg-interface/data */ "./src/examples/classic-rpg-interface/data.ts");


class WallModel {
    get filename() { return this.wallData.value.filename; }
    get passable() { return this._passable || this.hidden.value; }
    set passable(val) { this._passable = val; }
    get create() { return this.wallData.value.filename !== examples_classic_rpg_interface_data__WEBPACK_IMPORTED_MODULE_1__["TextureEmpty"]; }
    get normalMap() { return (this.wallData.value.normalMap || undefined); }
    getPosition() { return null; }
    constructor(wallData, details) {
        this.wallData = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"](wallData);
        this.hidden = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_0__["default"](!(this.create));
        this.details = details;
        this._passable = wallData.passable;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WorldModel.ts":
/*!**********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WorldModel.ts ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldModel; });
/* harmony import */ var _LevelModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LevelModel */ "./src/examples/classic-rpg-interface/model/world/LevelModel.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class WorldModel {
    get currentLevelID() { return this.levels.indexOf(this.currentLevel.value); }
    create(gameModel) {
        this.levels = [];
        gameModel.data.levels.forEach(l => {
            let level = new _LevelModel__WEBPACK_IMPORTED_MODULE_0__["default"]();
            this.levels.push(level);
            level.create(gameModel, l);
        });
        this.currentLevel = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](this.levels[gameModel.data.player.level]);
    }
    save(data) {
        this.levels.forEach(l => {
            l.save(data, l.levelType);
        });
    }
    switchToLevel(level) {
        this.currentLevel.value = level;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts":
/*!****************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/model/world/WorldObjectModel.ts ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldObjectModel; });
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/util/ObserverVariable */ "./src/engine/util/ObserverVariable.ts");


class WorldObjectModel {
    get name() { return this.objectType.name; }
    get filename() { return this.objectType.filename; }
    constructor(data, type, position) {
        this.objectType = data.objects[type];
        this.position = new engine_util_ObserverVariable__WEBPACK_IMPORTED_MODULE_1__["default"](new engine_util_Point3__WEBPACK_IMPORTED_MODULE_0__["default"](position));
    }
    create() {
    }
    getPosition() { return this.position.value; }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Door.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Door.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Door; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_gameobject_anim_WrappingValueTween__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/anim/WrappingValueTween */ "./src/engine/gameobject/anim/WrappingValueTween.ts");
/* harmony import */ var _GeomLoader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GeomLoader */ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts");
/* harmony import */ var _MaterialLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MaterialLoader */ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");







class Door extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this._turnAnims = [];
        this.model = model;
    }
    load({ loader: loader }) {
        this.geom = this.addAsset(_GeomLoader__WEBPACK_IMPORTED_MODULE_3__["default"].getSharedPlaneGeom(loader));
        this.material = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_4__["default"].getSharedMaterialAsset(loader, this.model.filename, this.model.normalMap, null, new engine_util_Point__WEBPACK_IMPORTED_MODULE_5__["default"](1, 1), true, true));
        return ((this.material !== null) && (this.geom !== null));
    }
    create() {
        let mesh = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.geom.asset, this.material.asset);
        mesh.mesh.position.x = this.model.position.x;
        mesh.mesh.position.y = this.model.position.y;
        mesh.mesh.position.z = this.model.position.z;
        if (this.model.wall === 0) {
            mesh.mesh.position.z -= 0.49;
        }
        if (this.model.wall === 1) {
            mesh.mesh.position.x += 0.49;
            mesh.mesh.rotation.y -= Math.PI / 2;
        }
        if (this.model.wall === 2) {
            mesh.mesh.position.z += 0.49;
            mesh.mesh.rotation.y += Math.PI;
        }
        if (this.model.wall === 3) {
            mesh.mesh.position.x -= 0.49;
            mesh.mesh.rotation.y += Math.PI / 2;
        }
        this.mesh = this.addChild(mesh);
        this.model.isOpen.onUpdate.push(this.changeOpenState.bind(this), this);
        this.mesh.mesh.userData = { gameObject: this };
    }
    changeOpenState(open) {
        if (this.model.wall === 0)
            this.setRotation(open ? this.model.openAngle : 0, 500);
        if (this.model.wall === 1)
            this.setRotation(open ? this.model.openAngle - Math.PI / 2 : -Math.PI / 2, 500);
        if (this.model.wall === 2)
            this.setRotation(open ? this.model.openAngle + Math.PI : Math.PI, 500);
        if (this.model.wall === 3)
            this.setRotation(open ? this.model.openAngle + Math.PI / 2 : Math.PI / 2, 500);
    }
    setRotation(y, time) {
        this._turnAnims.forEach(a => a.requestRemoval());
        this._turnAnims = [];
        let w = this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_6__["default"](time));
        w.onStep.push(this.rotateAboutPoint.bind(this, new THREE.Vector3(0, 0, 0), new THREE.Vector3(0, 1, 0), (this.mesh.mesh.rotation.y - y) / time, false), this);
        this._turnAnims.push(w);
    }
    rotateAboutPoint(point, axis, theta, pointIsWorld) {
        if (pointIsWorld)
            this.mesh.mesh.parent.localToWorld(this.mesh.mesh.position);
        this.mesh.mesh.position.sub(point);
        this.mesh.mesh.position.applyAxisAngle(axis, theta);
        this.mesh.mesh.position.add(point);
        if (pointIsWorld) {
            this.mesh.mesh.parent.worldToLocal(this.mesh.mesh.position);
        }
        this.mesh.mesh.rotateOnAxis(axis, theta);
        this.requestDraw();
    }
    addTurnAnim(object, varName, target, time) {
        this._turnAnims.push(this.addChild(new engine_gameobject_anim_WrappingValueTween__WEBPACK_IMPORTED_MODULE_2__["default"](object, varName, target, time, Math.PI * 2)));
        let a = this._turnAnims[this._turnAnims.length - 1];
        a.onComplete.push((() => {
            this._turnAnims.splice(this._turnAnims.indexOf(a), 1);
        }).bind(this), this);
        return a;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts":
/*!********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return GeomLoader; });
class GeomLoader {
    static getSharedPlaneGeom(loader) {
        let geomAsset = loader.getSharedAsset("#planeGeom");
        if (!(geomAsset.loaded)) {
            geomAsset.set(new THREE.PlaneGeometry(1, 1));
            geomAsset.loaded = true;
        }
        return geomAsset;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts":
/*!************************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MaterialLoader; });
class MaterialLoader {
    static getSharedMaterialAsset(loader, filename, normalMap, alphaMap, repeat, transparent, twosides) {
        normalMap = normalMap || null;
        alphaMap = alphaMap || null;
        let name = filename + "#mat" + (normalMap !== null ? "#normal=" + normalMap : "") + (alphaMap !== null ? "#alpha=" + alphaMap : "");
        let materialAsset = loader.getSharedAsset(name);
        if (!(materialAsset.loaded)) {
            let material = MaterialLoader.loadMaterial(loader, filename, normalMap, alphaMap, repeat, transparent, twosides);
            if (!(material))
                return null;
            materialAsset.set(material);
            materialAsset.loaded = true;
        }
        return materialAsset;
    }
    static getTextureAsset(loader, filename, repeat) {
        let textureAsset = loader.getSharedAsset(filename);
        if (!(textureAsset.asset)) {
            let texture = new THREE.TextureLoader().load(filename, ((texture) => {
                if ((repeat.x !== 1) || (repeat.y !== 1)) {
                    texture.wrapS = texture.wrapT = THREE.RepeatWrapping;
                    texture.offset.set(0, 0);
                    texture.repeat.set(repeat.x, repeat.y);
                }
                textureAsset.loaded = true;
            }).bind(this));
            textureAsset.set(texture);
        }
        return textureAsset;
    }
    static loadMaterial(loader, filename, normalMap, alphaMap, repeat, transparent, twosides) {
        let normalMapAsset;
        let alphaMapAsset;
        let mapAsset = MaterialLoader.getTextureAsset(loader, filename, repeat);
        if (normalMap !== null)
            normalMapAsset = MaterialLoader.getTextureAsset(loader, normalMap, repeat);
        if (alphaMap !== null)
            alphaMapAsset = MaterialLoader.getTextureAsset(loader, alphaMap, repeat);
        if (!(mapAsset.loaded))
            return null;
        if ((normalMap !== null) && (!normalMapAsset.loaded))
            return null;
        if ((alphaMap !== null) && (!alphaMapAsset.loaded))
            return null;
        let material;
        transparent = (alphaMap !== null) || transparent;
        if (normalMap)
            material = new THREE.MeshStandardMaterial({ map: mapAsset.asset,
                normalMap: normalMapAsset.asset,
                normalScale: new THREE.Vector2(1, 1),
                roughness: 1,
                transparent: transparent });
        else
            material = new THREE.MeshLambertMaterial({ map: mapAsset.asset, transparent: transparent });
        if (alphaMap)
            material.alphaMap = alphaMapAsset.asset;
        if (twosides)
            material.side = THREE.DoubleSide;
        return material;
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/NPC.ts":
/*!*************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/NPC.ts ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return NPC; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");



class NPC extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this.centered = true;
        this.offsetSet = false;
        this.model = model;
    }
    load({ loader: loader }) {
        let texture = loader.getSharedAsset(this.model.filename + "#tex");
        if (!(texture.asset))
            texture.set(new THREE.TextureLoader().load(this.model.filename, (() => { texture.loaded = true; })));
        this.addAsset(texture);
        let deadTexture = loader.getSharedAsset(this.model.deadTexture + "#tex");
        if (!(deadTexture.asset))
            deadTexture.set(new THREE.TextureLoader().load(this.model.deadTexture, (() => { deadTexture.loaded = true; })));
        this.addAsset(deadTexture);
        return true;
    }
    scaleMesh(texture, scale) {
        let width = texture.image.naturalWidth;
        let height = texture.image.naturalHeight;
        let aspect = height / width;
        let x;
        let y;
        if (width > height) {
            x = scale;
            y = x * aspect;
        }
        else {
            y = scale;
            x = y / aspect;
        }
        let geom = new THREE.PlaneBufferGeometry(x, y, 0);
        let material = new THREE.MeshLambertMaterial({ map: texture, fog: true, transparent: true, });
        let mesh = new THREE.Mesh(geom, material);
        return mesh;
    }
    create() {
        this.mesh = this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.scaleMesh(this.getAsset(this.model.filename + "#tex"), this.model.npcType.scale)));
        this.mesh.mesh.userData = { gameObject: this };
        this.model.alive.onUpdate.push(this.updateAlive.bind(this), this);
        this.updateAlive(this.model.alive.value);
        this.model.position.onUpdate.push(this.updatePosition.bind(this), this);
        this.updatePosition(this.model.position.value);
        this.model.performingAction.onUpdate.push(this.updatePerformingAction.bind(this), this);
        this.model.delaying.onUpdate.push(this.updateDelaying.bind(this), this);
        this.model.hitpoints.onUpdate.push(this.hpChanged.bind(this), this);
        this.model.looted.onUpdate.push(this.lootedChanged.bind(this), this);
        this.oldHP = this.model.hitpoints.value;
    }
    lootedChanged(val) {
        if (val) {
            this.mesh.mesh.visible = false;
            this.requestDraw();
        }
    }
    hpChanged(val) {
        if (val < this.oldHP) {
            this.mesh.mesh.material.color.setHex(0xff6666);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](100)).onComplete.push(() => {
                this.mesh.mesh.material.color.setHex(0xffffff);
                this.requestDraw();
            }, this);
            this.requestDraw();
        }
        this.oldHP = val;
    }
    updatePerformingAction(val) {
        if (val) {
            this.mesh.mesh.material.color.setHex(0xffff00);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](300)).onComplete.push(this.model.applyActionResult.bind(this.model, val), this);
        }
        else
            this.mesh.mesh.material.color.setHex(0xffffff);
        this.requestDraw();
    }
    updateDelaying(val) {
        if (val) {
            this.mesh.mesh.material.color.setHex(0xffff00);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_2__["default"](300)).onComplete.push(this.model.applyActionResult.bind(this.model), this);
        }
        else
            this.mesh.mesh.material.color.setHex(0xffffff);
        this.requestDraw();
    }
    updateAlive(val) {
        if (!(val)) {
            this.mesh.mesh = this.scaleMesh(this.getAsset(this.model.deadTexture + "#tex"), 0.2);
            this.mesh.mesh.userData = { gameObject: this };
            this.updatePosition(this.model.position.value);
        }
        this.requestDraw();
    }
    updatePosition(val) {
        this.mesh.mesh.position.x = val.x;
        this.mesh.mesh.position.y = val.y - (1 - this.model.npcType.scale) / 2;
        this.mesh.mesh.position.z = val.z;
        this.requestDraw();
    }
    update() {
        if (this.camera) {
            this.mesh.mesh.lookAt(this.camera.position.x, this.mesh.mesh.position.y, this.camera.position.z);
            if (this.mesh.mesh.position.distanceTo(this.camera.position) < 0.5) {
                if (!(this.offsetSet) && (this.centered)) {
                    this.updatePosition(this.model.position.value);
                    let offset = 0.1;
                    let direction = this.camera.getWorldDirection();
                    this.mesh.mesh.position.add(direction.multiplyScalar(0.33));
                    this.mesh.mesh.position.add(direction.applyAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2).multiplyScalar(3 * offset));
                }
                this.offsetSet = true;
            }
            else if (this.mesh.mesh.position.distanceTo(this.camera.position) >= 1) {
                if (this.offsetSet) {
                    this.updatePosition(this.model.position.value);
                    this.offsetSet = false;
                }
            }
        }
    }
    destroy() {
        super.destroy();
        this.model.alive.onUpdate.unregister(this);
        this.model.position.onUpdate.unregister(this);
        this.model.performingAction.onUpdate.unregister(this);
        this.model.delaying.onUpdate.unregister(this);
        this.model.hitpoints.onUpdate.unregister(this);
        this.model.looted.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Player.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Player.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Player; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");
/* harmony import */ var _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../model/PlayerModel */ "./src/examples/classic-rpg-interface/model/PlayerModel.ts");
/* harmony import */ var engine_gameobject_anim_Point3Tween__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! engine/gameobject/anim/Point3Tween */ "./src/engine/gameobject/anim/Point3Tween.ts");
/* harmony import */ var engine_gameobject_anim_WrappingPoint3Tween__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! engine/gameobject/anim/WrappingPoint3Tween */ "./src/engine/gameobject/anim/WrappingPoint3Tween.ts");






class Player extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    get animating() { return (this._turnAnim && !this._turnAnim.complete) || (this._moveAnim && !this._moveAnim.complete); }
    constructor(threeBuffer, gameModel) {
        super(null);
        this.threeBuffer = threeBuffer;
        this.player = gameModel.player;
        this.gameModel = gameModel;
    }
    create() {
        this.gameModel.listener.onMove.push(this.updatePosition.bind(this), this);
        this.gameModel.listener.onTurn.push(this.updateRotation.bind(this), this);
        this.player.onUpdate.push((() => {
            this.threeBuffer.camera.rotation.x = this.player.rotation.x;
            this.threeBuffer.camera.rotation.y = this.player.rotation.y;
            this.threeBuffer.camera.rotation.z = this.player.rotation.z;
            this.threeBuffer.camera.position.x = this.player.finePosition.x;
            this.threeBuffer.camera.position.y = this.player.finePosition.y;
            this.threeBuffer.camera.position.z = this.player.finePosition.z;
            this.threeBuffer.requestDraw();
        }).bind(this), this);
        this.updatePosition(false);
        this.updateRotation(false);
    }
    toggleLight(show) {
        if (show) {
            if (!this.playerLight)
                this.playerLight = new THREE.PointLight(0xffffff, 1, 5.5, 1);
            this.threeBuffer.camera.add(this.playerLight);
        }
        else {
            if (this.playerLight)
                this.threeBuffer.camera.remove(this.playerLight);
        }
    }
    updatePosition(animate) {
        if (animate === undefined)
            animate = true;
        this._setPlayerPosition(this.player.gridPositionWithOffset, animate, 500);
    }
    updateRotation(animate) {
        if (animate === undefined)
            animate = true;
        let time = 300;
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].North)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].NorthEast)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 4, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].East)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 2, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].SouthEast)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -3 * (Math.PI / 4), 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].South)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].SouthWest)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 3 * (Math.PI / 4), 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].West)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 2, 0), animate, time);
        if (this.player.facing === _model_PlayerModel__WEBPACK_IMPORTED_MODULE_3__["Facing"].NorthWest)
            this._setPlayerRotation(new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 4, 0), animate, time);
    }
    _setPlayerPosition(position, animate, time) {
        if (this._moveAnim)
            this._moveAnim.requestRemoval();
        if (animate) {
            this.player.canMove = false;
            this._moveAnim = this.addChild(new engine_gameobject_anim_Point3Tween__WEBPACK_IMPORTED_MODULE_4__["default"](this.player, "finePosition", new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](position.x, position.y, position.z), time));
            this._moveAnim.onComplete.push(this._updateAnimating.bind(this), this);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__["default"](time / 2)).onComplete.push(() => this.player.canMove = true, this);
        }
        else
            this.player.finePosition = position;
        this._updateAnimating();
    }
    _setPlayerRotation(rotation, animate, time) {
        if (this._turnAnim)
            this._turnAnim.requestRemoval();
        this._turnAnim = null;
        if (animate) {
            this.player.canTurn = false;
            this._turnAnim = this.addChild(new engine_gameobject_anim_WrappingPoint3Tween__WEBPACK_IMPORTED_MODULE_5__["default"](this.player, "rotation", new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](rotation.x, rotation.y, rotation.z), time, new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](Math.PI * 2, Math.PI * 2, Math.PI * 2)));
            this._turnAnim.onComplete.push(this._updateAnimating.bind(this), this);
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_1__["default"](time / 2)).onComplete.push(() => this.player.canTurn = true, this);
        }
        else
            this.player.rotation = rotation;
        this._updateAnimating();
    }
    _updateAnimating() {
        this.player.animating = this.animating;
    }
    destroy() {
        super.destroy();
        if (this._moveAnim)
            this._moveAnim.requestRemoval();
        if (this._turnAnim)
            this._turnAnim.requestRemoval();
        this.player.onUpdate.unregister(this);
        this.gameModel.listener.onMove.unregister(this);
        this.gameModel.listener.onTurn.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Scene.ts":
/*!***************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Scene.ts ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Scene; });
/* harmony import */ var engine_gameobject_ThreeBuffer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/gameobject/ThreeBuffer */ "./src/engine/gameobject/ThreeBuffer.ts");
/* harmony import */ var _WorldCell__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WorldCell */ "./src/examples/classic-rpg-interface/sceneview/WorldCell.ts");
/* harmony import */ var _WorldObject__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./WorldObject */ "./src/examples/classic-rpg-interface/sceneview/WorldObject.ts");
/* harmony import */ var _NPC__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NPC */ "./src/examples/classic-rpg-interface/sceneview/NPC.ts");
/* harmony import */ var _Player__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Player */ "./src/examples/classic-rpg-interface/sceneview/Player.ts");
/* harmony import */ var _Skybox__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Skybox */ "./src/examples/classic-rpg-interface/sceneview/Skybox.ts");
/* harmony import */ var _Door__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Door */ "./src/examples/classic-rpg-interface/sceneview/Door.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");








class Scene extends engine_gameobject_ThreeBuffer__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(position, bounds, gameModel) {
        super(position, bounds);
        this.gameModel = gameModel;
    }
    create() {
        super.create();
        this.gameModel.initiative.npcsToAct.onUpdate.push(this._runNPCs.bind(this), this);
        this.createLevel();
    }
    createLevel() {
        this.scene.background = new THREE.Color(0x0000ff);
        if (this.gameModel.world.currentLevel.value.outside) {
            let fogColor = new THREE.Color(0xffffff);
            let light = new THREE.AmbientLight(0xffffff, 1);
            this.scene.add(light);
        }
        this.scene.add(new THREE.AmbientLight(0xffffff, 0.05));
        this.cells = this._getWorldCells();
        this.cells.forEach(c => {
            this.addChild(c);
            c.active = false;
        });
        this.doors = this._getDoors();
        this.doors.forEach(d => this.addChild(d));
        this.objects = this._getWorldObjects();
        this.objects.forEach(o => this.addChild(o));
        this.npcs = this._getNPCs();
        this.npcs.forEach(n => this.addChild(n));
        this.npcs.forEach(n => n.camera = this.camera);
        if (this.gameModel.world.currentLevel.value.skyboxID !== undefined) {
            let skyboxData = this.gameModel.data.skyboxes[this.gameModel.world.currentLevel.value.skyboxID];
            this.skybox = this.addChild(new _Skybox__WEBPACK_IMPORTED_MODULE_5__["default"](skyboxData));
        }
        this.player = this.addChild(new _Player__WEBPACK_IMPORTED_MODULE_4__["default"](this, this.gameModel));
        if (!(this.gameModel.world.currentLevel.value.outside))
            this.player.toggleLight(true);
        this._runNPCs();
        this.requestDraw();
    }
    mergeWallGeometry() {
        var mergeGeom = new THREE.Geometry();
        let materialList = [];
        let i = 0;
        this.cells.forEach((c) => {
            c.children.forEach((child) => {
                if ((child.mesh) && (child.model.create)) {
                    mergeGeom.merge(child.mesh.mesh.geometry, child.mesh.mesh.matrix, i);
                    child.mesh.mesh.parent.remove(child.mesh.mesh);
                    materialList.push(child.mesh.mesh.material);
                    i++;
                }
            });
        });
        this.cells.forEach((c) => c.requestRemoval());
        this.cells = [];
        mergeGeom.mergeVertices();
        let mesh = new THREE.Mesh(mergeGeom, materialList);
        this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_7__["default"](mesh));
    }
    _getWorldCells() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let cells = [];
        levelModel.cells.forEach((row, x) => {
            row.forEach((layer, y) => {
                layer.forEach((col, z) => cells.push(new _WorldCell__WEBPACK_IMPORTED_MODULE_1__["default"](x, y, z, col)));
            });
        });
        return cells;
    }
    _getWorldObjects() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let objects = [];
        levelModel.objects.forEach((o, x) => {
            objects.push(new _WorldObject__WEBPACK_IMPORTED_MODULE_2__["default"](o));
        });
        return objects;
    }
    _getDoors() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let doors = [];
        levelModel.doors.forEach((d, x) => {
            doors.push(new _Door__WEBPACK_IMPORTED_MODULE_6__["default"](d));
        });
        return doors;
    }
    _getNPCs() {
        let levelModel = this.gameModel.world.currentLevel.value;
        let npcs = [];
        levelModel.npcs.forEach((npc, x) => {
            npcs.push(new _NPC__WEBPACK_IMPORTED_MODULE_3__["default"](npc));
        });
        return npcs;
    }
    _runNPCs() {
        let toAct = [];
        this.gameModel.initiative.npcsToAct.value.forEach(npc => toAct.push(npc));
        toAct.forEach((npc) => npc.act());
    }
    destroy() {
        this.gameModel.initiative.npcsToAct.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Skybox.ts":
/*!****************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Skybox.ts ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Skybox; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_Asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/Asset */ "./src/engine/Asset.ts");



class Skybox extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(skyboxData) {
        super(null);
        this._loadedTextures = 0;
        this.skyboxData = skyboxData;
    }
    load({ loader: loader }) {
        let a = new engine_Asset__WEBPACK_IMPORTED_MODULE_2__["default"]("#textureArray", null, false);
        let xPos = new THREE.TextureLoader().load(this.skyboxData.xPos, this.checkTextureLoaded.bind(this, a));
        let xNeg = new THREE.TextureLoader().load(this.skyboxData.xNeg, this.checkTextureLoaded.bind(this, a));
        let yPos = new THREE.TextureLoader().load(this.skyboxData.yPos, this.checkTextureLoaded.bind(this, a));
        let yNeg = new THREE.TextureLoader().load(this.skyboxData.yNeg, this.checkTextureLoaded.bind(this, a));
        let zPos = new THREE.TextureLoader().load(this.skyboxData.zPos, this.checkTextureLoaded.bind(this, a));
        let zNeg = new THREE.TextureLoader().load(this.skyboxData.zNeg, this.checkTextureLoaded.bind(this, a));
        a.set([xPos, xNeg, yPos, yNeg, zPos, zNeg]);
        this.addAsset(a);
        this.loader = loader;
        this.addGeomAsset(loader);
        return true;
    }
    addGeomAsset(loader) {
        let geomAsset = loader.getSharedAsset("#skyboxGeom");
        if (!(geomAsset.loaded)) {
            geomAsset.set(new THREE.CubeGeometry(1000, 1000, 1000, 1, 1, 1));
            geomAsset.loaded = true;
        }
        this.addAsset(geomAsset);
        return true;
    }
    checkTextureLoaded(a) {
        this._loadedTextures++;
        if (this._loadedTextures === 6)
            a.loaded = true;
    }
    create() {
        let textures = this.getAsset("#textureArray");
        var materialArray = [];
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[0], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[1], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[2], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[3], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[4], fog: false }));
        materialArray.push(new THREE.MeshBasicMaterial({ map: textures[5], fog: false }));
        for (var i = 0; i < 6; i++)
            materialArray[i].side = THREE.BackSide;
        var skyboxGeom = this.loader.getSharedAsset("#skyboxGeom").asset;
        var skybox = new THREE.Mesh(skyboxGeom, materialArray);
        this.addChild(new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](skybox));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/Wall.ts":
/*!**************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/Wall.ts ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Wall; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");
/* harmony import */ var engine_Asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/Asset */ "./src/engine/Asset.ts");
/* harmony import */ var engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! engine/gameobject/anim/Wait */ "./src/engine/gameobject/anim/Wait.ts");
/* harmony import */ var _GeomLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GeomLoader */ "./src/examples/classic-rpg-interface/sceneview/GeomLoader.ts");
/* harmony import */ var _MaterialLoader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MaterialLoader */ "./src/examples/classic-rpg-interface/sceneview/MaterialLoader.ts");
/* harmony import */ var engine_util_Point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! engine/util/Point */ "./src/engine/util/Point.ts");







class Wall extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(wallType, position, rotation) {
        super(null);
        this.model = wallType;
        this._position = position;
        this._rotation = rotation;
    }
    load({ loader: loader }) {
        this.loader = loader;
        if (this.model.details)
            this.geom = this.addAsset(this.createSlopedWallGeom(this.model));
        else
            this.geom = this.addAsset(_GeomLoader__WEBPACK_IMPORTED_MODULE_4__["default"].getSharedPlaneGeom(loader));
        this.material = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_5__["default"].getSharedMaterialAsset(loader, this.model.filename, this.model.normalMap, this.model.alphaMap, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](this.model.wallData.value.repeat[0], this.model.wallData.value.repeat[1]), this.model.wallData.value.transparent, false));
        return ((this.material !== null) && (this.geom !== null));
    }
    create() {
        this.mesh = this.addChild(this.createMesh());
        this.mesh.mesh.userData = { gameObject: this };
        this.model.hidden.onUpdate.push(this.updateWall.bind(this), this);
        this.model.wallData.onUpdate.push(this.changeWallType.bind(this), this);
        this.updateWall();
    }
    updateWall() {
        this.mesh.mesh.visible = !this.model.hidden.value;
        this.requestDraw();
    }
    changeWallType() {
        let matAsset = this.addAsset(_MaterialLoader__WEBPACK_IMPORTED_MODULE_5__["default"].getSharedMaterialAsset(this.loader, this.model.filename, this.model.normalMap, this.model.alphaMap, new engine_util_Point__WEBPACK_IMPORTED_MODULE_6__["default"](this.model.wallData.value.repeat[0], this.model.wallData.value.repeat[1]), this.model.wallData.value.transparent, false));
        if ((matAsset) && (matAsset.loaded)) {
            this.material = matAsset;
            if (!(this.mesh))
                this.mesh = this.addChild(this.createMesh());
            else
                this.mesh.mesh.material = this.material.asset;
            this.requestDraw();
        }
        else
            this.addChild(new engine_gameobject_anim_Wait__WEBPACK_IMPORTED_MODULE_3__["default"](100)).onComplete.push((() => this.changeWallType()).bind(this), this);
    }
    createMesh() {
        let wall = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](this.geom.asset, this.material.asset);
        wall.mesh.position.x = this._position.x;
        wall.mesh.position.y = this._position.y;
        wall.mesh.position.z = this._position.z;
        wall.mesh.rotation.x = this._rotation.x;
        wall.mesh.rotation.y = this._rotation.y;
        wall.mesh.rotation.z = this._rotation.z;
        return wall;
    }
    createSlopedWallGeom(wallModel) {
        var geom = new THREE.Geometry();
        geom.vertices.push(new THREE.Vector3(-0.5, 0.5, wallModel.details.nw));
        geom.vertices.push(new THREE.Vector3(0.5, 0.5, wallModel.details.ne));
        geom.vertices.push(new THREE.Vector3(0.5, -0.5, wallModel.details.se));
        geom.vertices.push(new THREE.Vector3(-0.5, -0.5, wallModel.details.sw));
        geom.vertices.push(new THREE.Vector3(0, 0, wallModel.details.mid));
        geom.faces.push(new THREE.Face3(0, 4, 1));
        geom.faces.push(new THREE.Face3(2, 1, 4));
        geom.faces.push(new THREE.Face3(2, 4, 3));
        geom.faces.push(new THREE.Face3(3, 4, 0));
        let uv = geom.faceVertexUvs[0];
        uv.push([], [], [], []);
        uv[0][0] = new THREE.Vector2(0, 0);
        uv[0][1] = new THREE.Vector2(0.5, 0.5);
        uv[0][2] = new THREE.Vector2(1, 0);
        uv[1][0] = new THREE.Vector2(1, 1);
        uv[1][1] = new THREE.Vector2(1, 0);
        uv[1][2] = new THREE.Vector2(0.5, 0.5);
        uv[2][0] = new THREE.Vector2(1, 1);
        uv[2][1] = new THREE.Vector2(0.5, 0.5);
        uv[2][2] = new THREE.Vector2(0, 1);
        uv[3][0] = new THREE.Vector2(0, 1);
        uv[3][1] = new THREE.Vector2(0.5, 0.5);
        uv[3][2] = new THREE.Vector2(0, 0);
        geom.computeFaceNormals();
        return new engine_Asset__WEBPACK_IMPORTED_MODULE_2__["default"]("#slopedGeom", geom, true);
    }
    destroy() {
        this.model.hidden.onUpdate.unregister(this);
        this.model.wallData.onUpdate.unregister(this);
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/WorldCell.ts":
/*!*******************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/WorldCell.ts ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldCell; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var _Wall__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Wall */ "./src/examples/classic-rpg-interface/sceneview/Wall.ts");
/* harmony import */ var engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! engine/util/Point3 */ "./src/engine/util/Point3.ts");



class WorldCell extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(x, y, z, model) {
        super(null);
        this.x = x;
        this.y = y;
        this.z = z;
        this.model = model;
    }
    create() {
        this.group = new THREE.Group();
        this.group.position.set(new THREE.Vector3(this.x, this.y, this.z));
        this.createWalls();
    }
    createWalls() {
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[0], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0, this.z - 0.5), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, 0, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[1], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0.5, this.y + 0, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, -Math.PI / 2, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[2], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0, this.z + 0.5), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[3], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x - 0.5, this.y + 0, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](0, Math.PI / 2, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[4], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y - 0.5, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](-Math.PI / 2, 0, 0)));
        this.addChild(new _Wall__WEBPACK_IMPORTED_MODULE_1__["default"](this.model.walls[5], new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](this.x + 0, this.y + 0.5, this.z + 0), new engine_util_Point3__WEBPACK_IMPORTED_MODULE_2__["default"](Math.PI / 2, 0, 0)));
    }
}


/***/ }),

/***/ "./src/examples/classic-rpg-interface/sceneview/WorldObject.ts":
/*!*********************************************************************!*\
  !*** ./src/examples/classic-rpg-interface/sceneview/WorldObject.ts ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return WorldObject; });
/* harmony import */ var engine_GameObject__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! engine/GameObject */ "./src/engine/GameObject.ts");
/* harmony import */ var engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! engine/gameobject/ThreeMesh */ "./src/engine/gameobject/ThreeMesh.ts");


class WorldObject extends engine_GameObject__WEBPACK_IMPORTED_MODULE_0__["default"] {
    constructor(model) {
        super(null);
        this.model = model;
    }
    create() {
        let geom = new THREE.PlaneGeometry(1, 1, 0);
        let texture = new THREE.TextureLoader().load(this.model.filename, (() => { this.requestDraw(); }).bind(this));
        let material = new THREE.MeshBasicMaterial({ map: texture });
        let mesh = new engine_gameobject_ThreeMesh__WEBPACK_IMPORTED_MODULE_1__["default"](geom, material);
        mesh.mesh.position.x = this.model.position[0];
        mesh.mesh.position.y = this.model.position[1];
        mesh.mesh.position.z = this.model.position[2];
        this.mesh = this.addChild(mesh);
    }
}


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0xhdW5jaGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL25wY3MvYnVlci10ZXN0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9ucGNzL2ZhbmN5LWRyZXNzLTEyLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9ucGNzL3NrdWxsLWNyb3NzYm9uZXMucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL25wY3MvdWtvYmFjaC10ZXN0LnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC8xMHAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzExcC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvMTJwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC8xM3AucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzE0cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvMXAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzJwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC8zcC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvNHAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzVwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC82cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvcG9ydHJhaXQvN3AucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3BvcnRyYWl0LzhwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9wb3J0cmFpdC85cC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV9kb3duLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX2Vhc3QucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfbm9ydGgucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfc291dGgucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfdXAucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfd2VzdC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvc3BlbGxzL2JlYXV0aWZ1bC1iaXJkLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy80LWFyY2gucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0FudGVkaWx1dmlhbiBEb29yLWFscGhhbWFwLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9BbnRlZGlsdXZpYW4gRG9vci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQXN5bHVtIENlbGwgT3JhbmdlLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9CYXR0ZXJlZCBSZWQgQ2xvdmVyLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Ccm93biBRdXNzYWlyIEdyYW5pdGUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0NhcnZlZCBTYW5kc3RvbmUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0NvdHRhZ2UgMSAtIERvb3IgKEZMIDEpLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBEb29yIDIgKEZMIDEpLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXYWxsIChGTCAxKS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gV2FsbCAoRkwgMispLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXaW5kb3cgKEZMIDIrKS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQ290dGFnZSAxIC0gV2luZG93IDIgKEZMIDIrKS5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvQ291bmNpbCBDaGFtYmVyLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9EYXJrIEdyYXkgTWFyYmxlLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9EZWFkIENhdmVzLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9GZW4gU3RvbmUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL0ZvcmVzdCBGbG9vci5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvR2xhc3N5IFBpbmsgTWFyYmxlLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9HcmFuaXRlIFdhbGwuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL01pZG5pZ2h0IFN0b25lLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Nb3NzIEN1c2hpb25zLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9Nb3NzeSBSb2NrLmpwZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy90ZXh0dXJlcy9QYWxhY2UgRmxvb3IuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1JvdWdoIE9ydGhvY2xhc2UuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NhbWFyaXMgTWV0YWwuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NhbWFyaXMuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NhbmR5IExpY2hlbiBCcmljay5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU2VnbWVudGVkIFN0b25lIFdhbGwuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NsaW1lIFdhbGwuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NtYXNoZWQgR3JheSBNYXJibGUuanBnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3RleHR1cmVzL1NtdWRnZWQgRGlydC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU3RyYXcgUm9vZiBJbnRlcmlvci5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvU3RyYXcgUm9vZi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvV2VlZHMgYW5kIEdyYXZlbC5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvV2VlZHkgTGF3bi5qcGciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdGV4dHVyZXMvZW1wdHkucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL2Fpci1zcGVsbC10YWIucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL2NoYXJzaGVldC1pY29uLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9lYXJ0aC1zcGVsbC10YWIucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL2ZpcmUtc3BlbGwtdGFiLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9ob3VyZ2xhc3MucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL25leHRpY29uLWdyZWVuLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9uZXh0aWNvbi1yZWQucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL25leHRpY29uLXllbGxvdy5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvcXVpY2staXRlbXMtdGFiLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3JwZy91aS9zdGF0dXMtZGVhZC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvc3RhdHVzLXNsb3cucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvcnBnL3VpL3N0YXR1cy10b3JjaC1saWdodC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9ycGcvdWkvd2F0ZXItc3BlbGwtdGFiLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0Fzc2V0LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvR2FtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL0dhbWVPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9UcmFuc2Zvcm0udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9UcmVlVXRpbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L0NsaXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L0NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L1BvbHlnb25Db2xsaXNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L1RocmVlQnVmZmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9UaHJlZU1lc2gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L1RpbWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9hbmltL0FuaW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9Qb2ludDNUd2Vlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9Ud2Vlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV3JhcHBpbmdQb2ludDNUd2Vlbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XcmFwcGluZ1ZhbHVlVHdlZW4udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9CdWZmZXJDbG9uZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0J1ZmZlcmVkLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvQ2lyY2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvRHJhd0J1ZmZlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9Sb290LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUm91bmRlZFJlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9TaGFwZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1Nwcml0ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1RyaWFuZ2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL0NsaWNrVHJpZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2dhbWVvYmplY3QvdWkvRGVidWdQYW5lLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9HcmlkTGF5b3V0LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9LZXlUcmlnZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9Mb2FkaW5nQmFyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9Nb3VzZURyYWdUcmlnZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvZ2FtZW9iamVjdC91aS9Nb3VzZVRyaWdnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL1ByZXNzSG9sZFRyaWdnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvaW8vSU8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS9pby9LZXlib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2lvL0xvYWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL2lvL01vdXNlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvaW8vVGltaW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL0JvdW5kcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vQ29uZGl0aW9uYWxEaW1lbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUmVsYXRpdmVEaW1lbnNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vQWRqYWNlbnRUcmFuc2xhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Db25kaXRpb25hbFRyYW5zbGF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vVHJhbnNsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuZ2luZS91dGlsL0V2ZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdXRpbC9Qb2ludC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5naW5lL3V0aWwvUG9pbnQzLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmdpbmUvdXRpbC9Qb2x5U2hhcGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9HYW1lT3Zlck1lbnUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9JbnRyb0ZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvTGF1bmNoZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9Mb2FkaW5nU3RhdHVzRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9NYWluRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9NYWluTWVudUJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL1Rvb2xUaXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9VSU1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvV29ybGRGcmFtZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9BY3Rpb25CYXJNZW51LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL0NoYXJhY3Rlck1lbnUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9jb3JlLXVpLWNvbXBvbmVudHMvRGV0YWlsTWVudUZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL0RldGFpbE1lbnVNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9NYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9jb3JlLXVpLWNvbXBvbmVudHMvTWluaU1hcEZyYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL1BhcnR5U3RhdHVzTWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9Qb3J0cmFpdEJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9TdGF0dXNMaXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvY29yZS11aS1jb21wb25lbnRzL1RhYkJ1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2NvcmUtdWktY29tcG9uZW50cy9UYWJMaXN0TWVudS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL2RhdGEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9BY3Rvck1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvQ2hhcmFjdGVyTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9FcXVpcG1lbnRNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL0dhbWVNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL0l0ZW1Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL1BhcnR5TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9QbGF5ZXJNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL1NwZWxsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvU3BlbGxMaXN0LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvU3RhdHVzLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0FjdGlvbk1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0FjdGlvblJlc3VsdE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0F0dGFja0FjdGlvbk1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL0luaXRpYXRpdmVNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL2FjdGlvbi9Mb290QWN0aW9uTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vT3BlbkRvb3JBY3Rpb25Nb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL2FjdGlvbi9zcGVsbHMvRmlyZUJvbHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9tb2RlbC9hY3Rpb24vc3BlbGxzL0ZseS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL2FjdGlvbi9zcGVsbHMvTGV2ZWxFZGl0aW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvYWN0aW9uL3NwZWxscy9Ub3JjaExpZ2h0LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvQ2VsbE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvRG9vck1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvTGV2ZWxNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL3dvcmxkL05QQ01vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvV2FsbE1vZGVsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvbW9kZWwvd29ybGQvV29ybGRNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL21vZGVsL3dvcmxkL1dvcmxkT2JqZWN0TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvRG9vci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL3NjZW5ldmlldy9HZW9tTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L01hdGVyaWFsTG9hZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L05QQy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZXMvY2xhc3NpYy1ycGctaW50ZXJmYWNlL3NjZW5ldmlldy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvU2NlbmUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvU2t5Ym94LnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L1dhbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V4YW1wbGVzL2NsYXNzaWMtcnBnLWludGVyZmFjZS9zY2VuZXZpZXcvV29ybGRDZWxsLnRzIiwid2VicGFjazovLy8uL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2Uvc2NlbmV2aWV3L1dvcmxkT2JqZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUEwQyxnQ0FBZ0M7QUFDMUU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRUFBd0Qsa0JBQWtCO0FBQzFFO0FBQ0EseURBQWlELGNBQWM7QUFDL0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUF5QyxpQ0FBaUM7QUFDMUUsd0hBQWdILG1CQUFtQixFQUFFO0FBQ3JJO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUNBQTJCLDBCQUEwQixFQUFFO0FBQ3ZELHlDQUFpQyxlQUFlO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDhEQUFzRCwrREFBK0Q7O0FBRXJIO0FBQ0E7OztBQUdBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUNsRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBK0I7QUFFcUI7QUFDUztBQUMvQjtBQUNtQjtBQUNKO0FBQ1M7QUFDTjtBQUNFO0FBQ3VCO0FBQ25DO0FBVS9CLE1BQWUsUUFBUTtJQVMxQixJQUFJLGNBQWMsS0FBSyxPQUFPLElBQUksQ0FBQyxlQUFlLENBQUMs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REFBTSxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDeEMsT0FBTyxFQUFFLENBQUM7SUFDZCxDQUFDO0NBQ0o7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNuSUQsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1QiwwQzs7Ozs7Ozs7Ozs7QUNBeEMsaUJBQWlCLHFCQUF1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LEVBQUU7O1lBRS9CLElBQUksR0FBRyxJQUFJLG1EQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTFCLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUM1QixJQUFJLElBQUksR0FBRyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDNUIsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ2QsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQ2QsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7WUFDckQsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3JELENBQUMsR0FBRyxJQUFJLENBQUM7UUFDYixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUN0RCxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDdEQsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUNiLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFZLEVBQUUsQ0FB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QUcsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzFCLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUM5QixPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsU0FBUyxDQUFDLEtBQUs7UUFFWCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3JCLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztRQUNsRSxJQUFJLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDbEUsSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBRWxFLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDaEYsSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUNoRixJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsV0FB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RUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakIsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3BCO0lBQ0wsQ0FBQztJQUVELElBQUksQ0FBQyxLQUFhLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkMsSUFBSSxDQUFDLEtBQWEsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUM7SUFDbEMsSUFBSSxDQUFDLEtBQWEsT0FBTyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUM7SUFDbEMsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUM3QixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBQztJQUM1QixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsRUFBQztJQUU1QixNQUFNLENBQUMsQ0FBUztRQUVaLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQVMsRUFBRSxDQUFTO1FBRTlCLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzdELENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSyxDQUFD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Q0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6SCxTQUFTLENBQUMsV0FBVyxHQUFHLElBQUkseURBQUssQ0FBQyxFQUFFLEVBQUMsRUFBRSxDQUFDLENBQUM7UUFFekMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFBRTtZQUVwRCxJQUFJLFdBQVcsR0FBRyxTQUFTLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztZQUMzQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxLQUFLLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQy9FO2dCQUNJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxLQUFLLDBEQUFNLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxLQUFLLDBEQUFNLENBQUMsS0FBSyxDQUFDO29CQUN0SSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQztxQkFDdEYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxLQUFLLENBQUM7b0JBQzNJLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQzthQUMzRjtZQUNELElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFDL0U7Z0JBQ0ksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLENBQUM7b0JBQ3BJLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztxQkFDckYsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLENBQUM7b0JBQ3pJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO2FBQzdGO1lBQ0QsSUFBSSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUM7UUFDbEMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ1QsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFO1lBRWhDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssSUFBSSxFQUNsQztnQkFDSSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxLQUFLLDBEQUFNLENBQUMsS0FBSyxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxHQUFHLENBQUM7b0JBQ3BFLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztxQkFDNUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsS0FBSywwREFBTSxDQUFDLEtBQUssSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsR0FBRyxDQUFDO29CQUN6RSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7cUJBQzlDLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEtBQUssMERBQU0sQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztvQkFDeEUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO3FCQUM5QyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxLQUFLLDBEQUFNLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxHQUFHLENBQUM7b0JBQ3hFLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQzs7b0JBRWhELElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLENBQUM7YUFDbkM7UUFDTCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFckIsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLHVFQUFVLEVBQUUsQ0FBQyxDQUFDO1FBQ3pDLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRWpHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBR2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ2pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsUUFBUSxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3pHLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLGdGQUFnQixDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRS9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3RHLEVBQUUsQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzVHLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRS9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQy9GLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXpHLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ25HLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxFQUFFLGdGQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENB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LENBQUMsQ0FBQztJQUM3RCxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVO1FBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUQsSUFBSTtRQUVBLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdELElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxRixJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUNELElBQUk7UUFFQSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLHdFQUFVLENBQUMsYUFBYSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDeEYsQ0FBQztJQUVELEtBQUssS0FBSyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQVk7UUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRixRQUFRLEtBQUssSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZO1FBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEYsT0FBTyxLQUFLLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWTtRQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDeEYsT0FBTyxLQUFLLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsWUFBWTtRQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RGLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFlBQVk7UUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNwRixJQUFJLEtBQUssSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxZQUFZO1FBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFlLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFFcEYsT0FBTyxLQUFLLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsTUFBTTtRQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVTtZQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQy9GLFNBQVMsS0FBSyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU07UUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVU7WUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUVuRyxJQUFJLEtBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDakMsZUFBZTtRQUVYLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUMsQ0FBQztZQUMxRSxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsY0FBYyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkcsQ0FBQztJQUNELGNBQWM7UUFFVixJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMs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RSxTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDO2dCQUN6SCxVQUFVLEVBQUUsRUFBRTthQUNqQjtZQUNEO2dCQUNJLElBQUksRUFBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDO2dCQUNySCxVQUFVLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQzthQUN6QztZQUNEO2dCQUNJLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDO2dCQUN0SCxVQUFVLEVBQUUsRUFBRTthQUNqQjtZQUNEO2dCQUNJLElBQUksRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsRUFBRSxF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QU0sQ0FBQyxRQUFRLENBQUM7WUFDL0IsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQzdDO0lBQ0wsQ0FBQztJQUVELFdBQVc7UUFFUCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxFQUNqQztZQUNJLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDMUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFDL0IsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQzdDO0lBQ0wsQ0FBQztJQUVELFdBQVc7UUFFUCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxFQUNqQztZQUNJLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDMUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUM7WUFDL0IsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDcEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQzdDO0lBQ0wsQ0FBQztJQUVELFlBQVk7UUFFUixJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsYUFBYSxFQUNqQztZQUNJLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFB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QyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLElBQUk7WUFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsY0FBYztRQUVWLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxLQUFLO1lBQ25DLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLElBQUk7WUFDbEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsS0FBSztZQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxJQUFJO1lBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0IsQ0FBQztJQUVELGVBQWU7UUFFWCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsS0FBSztZQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssbURBQU0sQ0FBQyxJQUFJO1lBQ2xDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdkIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxtREFBTSxDQUFDLEtBQUs7WUFDbkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLG1EQUFNLENBQUMsSUFBSTtZQUNsQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCxVQUFVLENBQUMsRUFBRTtRQUVULElBQUksRUFBRSxLQUFLLENBQUM7WUFDUixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2pDLElBQUksRUFBRSxLQUFLLENBQUM7WUFDYixJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzthQUNoQyxJQUFJLEVBQUUsS0FBSyxDQUFDO1lBQ2IsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDaEMsSUFBSSxFQUFFLEtBQUssQ0FBQztZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDakMsSUFBSSxFQUFFLEtBQUssQ0FBQztZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7YUFDakMsSUFBSSxFQUFFLEtBQUssQ0FBQztZQUNiLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFFTyxZQUFZLENBQUMsRUFBVSxFQUFFLE9BQWUsRUFBRSxDQUFTLEVBQUUsQ0FBUyxFQUFFLENBQVM7UUFFN0UsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5SCxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDekUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7WUFDcEcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7Z0JBQ3JHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQ3hHO29CQUNJLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzlILEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7aUJBQzFFO1FBQ1QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVELFNBQVMsQ0FBQyxTQUFvQjtRQUsxQixTQUFTLENBQUMsUUFBUSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDcEUsQ0FBQztJQUVELGVBQWUsQ0FBQyxTQUF5QjtRQUVyQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsWUFBWTtZQUM1QixJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQXlCLEVBQUUsTUFBbUI7UUFFeEQsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksRUFDaEM7WUFDSSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQztZQUNwRCxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDaEQsT0FBTyxNQUFNLENBQUM7U0FDakI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsZ0JBQWdCLENBQUMsTUFBZ0IsRUFBRSxNQUF5QixFQUFFLE1BQW1CO1FBRTdFLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFDMUQ7WUFDSSxJQUFJLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQztZQUM1QyxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsQ0FBQyxNQUFNLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDaEQsT0FBTyxNQUFNLENBQUM7U0FDakI7UUFDRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsUUFBUSxDQUFDLEdBQWEsRUFBRSxJQUFZO1FBRWhDLElBQUksQ0FBQyxHQUFHO1lBQ0osTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBRUQsaUJBQWlCLENBQUMsWUFBK0I7UUFFN0MsWUFBWSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxRQUFRLENBQUMsS0FBaUI7UUFFdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDO1FBQzlDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxjQUFjLENBQUM7UUFDMUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2RixDQUFDO0lBRUQsTUFBTSxDQUFDLFFBQVEsQ0FBQyxRQUFnQjtRQUk1QixJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hDLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztRQUNaLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFFVixHQUFHLElBQUksU0FBUyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztRQUNQLE9BQU8sR0FBRztJQUNkLENBQUM7SUFFTyxNQUFNLENBQUMsY0FBYyxDQUFDLGNBQXNCO1FBRWhELElBQUksS0FBSyxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUM7WUFDbEIsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2QsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUU7WUFDakMsS0FBSyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2xFLE9BQU8sS0FBSyxDQUFDO0lBQ2pCLENBQUM7SUFFRCxhQUFhLENBQUMsTUFBYyxFQUFFLE1BQWM7UUFFeEMsSUFBSSxRQUFRLEdBQUcsMERBQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQztRQUN0RCxJQUFJLFFBQVEsSUFBSSxDQUFDO1lBQ2IsT0FBTyxJQUFJLENBQUM7UUFDaEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztDQUNKO0FBR00sTUFBTSxpQkFBaUI7SUFBOUI7UUFFSSxXQUFNLEdBQVUsSUFBSSx5REFBSyxFQUFFLENBQUM7UUFDNUIsV0FBTSxHQUFVLElBQUkseURBQUssRUFBRSxDQUFDO1FBQzVCLGtCQUFhLEdBQVUsSUFBSSx5REFBSyxFQUFFLENBQUM7UUFDbkMsZ0JBQVcsR0FBVSxJQUFJLHlEQUFLLEVBQUUsQ0FBQztRQUNqQyxrQkFBYSxHQUFVLElBQUkseURBQUssRUFBRSxDQUFDO0lBQ3ZDLENBQUM7Q0FBQTs7Ozs7Ozs7Ozs7OztBQzdiRDtBQUFBO0FBQWUsTUFBTSxTQUFTO0lBSTFCLElBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLElBQUksSUFBSSxLQUFLLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBRXpDLFlBQVksUUFBa0I7UUFFMUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDN0IsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDYkQ7QUFBQTtBQUFBO0FBQUE7QUFBK0Q7QUFHSDtBQUk3QyxNQUFNLFVBQVU7SUFTM0IsTUFBTSxDQUFDLElBQWMsRUFBRSxTQUFvQjtRQUV2QyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLHVEQUFjLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksb0VBQWdCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRCxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksb0VBQWdCLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELElBQUksQ0FBQyxJQUFjO1FBRWYsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7UUFDbEMsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBRXBCLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUM7WUFDN0IsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDckMsQ0FBQyxDQUFDLENBQUM7UUFDUCxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDdkMsQ0FBQztJQUVELFFBQVEsQ0FBQyxTQUFpQjtRQUV0QixJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssSUFBSSxTQUFTLENBQUM7UUFDN0IsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsS0FBSyxHQUFHLGFBQWEsR0FBRSxTQUFTLEdBQUMsS0FBSyxDQUFDO0lBQ25FLENBQUM7SUFFRCxnQkFBZ0I7UUFFWixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsS0FBSyxLQUFLLDJEQUFXLENBQUMsTUFBTSxDQUFDO1FBQ3pGLElBQUksV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQzVCO1lBQ0ksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7WUFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztTQUN6QztJQUNMLENBQUM7Q0FFSjs7Ozs7Ozs7Ozs7OztBQ25ERDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBd0M7QUFDTTtBQUNSO0FBR3RDLElBQVksTUFBOEU7QUFBMUYsV0FBWSxNQUFNO0lBQUcscUNBQUs7SUFBRSw2Q0FBUztJQUFFLG1DQUFJO0lBQUUsNkNBQVM7SUFBRSxxQ0FBSztJQUFFLDZDQUFTO0lBQUUsbUNBQUk7SUFBRSw2Q0FBUztBQUFBLENBQUMsRUFBOUUsTUFBTSxLQUFOLE1BQU0sUUFBd0U7QUFFM0UsTUFBTSxXQUFXO0lBQWhDO1FBSUksWUFBTyxHQUFXLENBQUMsQ0FBQztRQUVwQixjQUFTLEdBQVksS0FBSyxDQUFDO1FBQ25CLGNBQVMsR0FBYSxLQUFLLENBQUM7UUFDcEMsWUFBTyxHQUFZLElBQUksQ0FBQztRQUN4QixZQUFPLEdBQVksSUFBSSxDQUFDO1FBR3hCLGFBQVEsR0FBVSxJQUFJLHlEQUFLLEVBQUUsQ0FBQztJQStuQmxDLENBQUM7SUE3bkJHLElBQUksUUFBUSxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDekMsSUFBSSxRQUFRLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFDO0lBRWhFLElBQUksWUFBWSxLQUFLLE9BQU8sSUFBSSxDQUFDLGFBQWEsR0FBQztJQUMvQyxJQUFJLFlBQVksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUM7SUFFeEUsSUFBSSxzQkFBc0I7UUFFdEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN6QixJQUFJLEdBQUcsR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELElBQUksUUFBUSxLQUFLLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFDekMsSUFBSSxRQUFRLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFDO0lBRWhFLElBQUksTUFBTTtRQUNOLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxLQUFLLGtEQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUM7WUFDL0YsT0FBTyxJQUFJLENBQUM7UUFDaEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUNELElBQUksWUFBWTtRQUNaLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxLQUFLLGtEQUFVLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUM7WUFDbEcsT0FBTyxJQUFJLENBQUM7UUFDaEIsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUNELElBQUksTUFBTSxLQUFLLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFMUMsTUFBTSxDQUFDLFNBQW9CLEVBQUMsSUFBYztRQUV0QyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVE7WUFDcEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7WUFFcEcsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLDBEQUFNLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLGdCQUFnQixDQUFDO0lBQ3ZGLENBQUM7SUFFRCxJQUFJLENBQUMsSUFBYztRQUVmLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JHLENBQUM7SUFFRCwyQkFBMkI7UUFFdkIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxNQUFNLEdBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDdEQsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsU0FBUztRQUVMLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7YUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQzthQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7YUFDMUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQ2pDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQzthQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO2FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUNoQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7YUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUMvQixJQUFJLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDMUMsQ0FBQztJQUVELFFBQVE7UUFFSixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUM7YUFDMUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ2hDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQzthQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO2FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUNqQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7YUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ3JDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQzthQUMxQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDO2FBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFFOUIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQzFDLENBQUM7SUFFRCxVQUFVLENBQUMsS0FBYTtRQUVwQixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxHQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3BHLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUdwRCxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQztRQUczQixJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3hCLENBQUM7SUFJRCxlQUFlLENBQUMsTUFBYztRQUUxQixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUN2QixPQUFPLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUMvQixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ25DLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ3RCLE9BQU8sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzlCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQzNCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7UUFDbkMsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDdkIsT0FBTyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7UUFDL0IsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUNuQyxJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUN0QixPQUFPLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUM5QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxjQUFjLENBQUMsTUFBYztRQUV6QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUN2QixPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDeEIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQzVCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ3RCLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQztRQUN2QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDNUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDdkIsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ3hCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQzNCLE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUM1QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsSUFBSTtZQUN0QixPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDdkIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxrQkFBa0IsQ0FBQyxNQUFjO1FBRTdCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQ3ZCLE9BQU8sSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDdEIsT0FBTyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUM3QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxLQUFLO1lBQ3ZCLE9BQU8sSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0IsSUFBSSxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDM0IsT0FBTyxJQUFJLDBEQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlCLElBQUksTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQ3RCLE9BQU8sSUFBSSwwREFBTSxDQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUMzQixPQUFPLElBQUksMERBQU0sQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUVuQyxDQUFDO0lBRUQsV0FBVyxDQUFDLFFBQWdCO1FBRXhCLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLFFBQVEsR0FBRyxDQUFDO1lBQ1osUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWxCLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDbEYsSUFBSSxDQUFDLFlBQVksR0FBSSxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxFQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFNUcsSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsVUFBVSxDQUFDLFFBQWdCO1FBRXZCLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLFFBQVEsR0FBRyxDQUFDO1lBQ1osUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWxCLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNySCxJQUFJLENBQUMsWUFBWSxHQUFJLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7UUFFL0csSUFBSSxDQUFDLDJCQUEyQixFQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRUQsWUFBWSxDQUFDLFFBQWdCO1FBRXpCLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNqQixJQUFJLFFBQVEsR0FBRyxDQUFDO1lBQ1osUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsR0FBQyxRQUFRLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUM7UUFFcEUsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQy9ILElBQUksQ0FBQyxZQUFZLEdBQUksSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7YUFFcEg7WUFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVMsRUFDcEM7Z0JBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDNUgsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7cUJBQ3hHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ2pJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2hIO2lCQUNJLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUyxFQUN6QztnQkFDSSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO29CQUMzSCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQztxQkFDeEcsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBRyxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQztvQkFDaEksSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDaEg7aUJBQ0ksSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTLEVBQ3pDO2dCQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7b0JBQzVILElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDO3FCQUN4RyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO29CQUNqSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxRQUFRLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNoSDtpQkFDSSxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVMsRUFDekM7Z0JBQ0ksSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztvQkFDM0gsSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUM7cUJBQ3hHLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUcsQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7b0JBQ2hJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLFFBQVEsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ2hIO1NBQ0o7UUFDRCxJQUFJLENBQUMsMkJBQTJCLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFTywyQkFBMkI7UUFFL0IsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3pDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6QyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekMsSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDekIsQ0FBQztJQUVELFdBQVcsQ0FBQyxLQUFhO1FBRXJCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEcsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBR3BELElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDO1FBRzNCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFeEIsQ0FBQztJQUVELFdBQVc7UUFFUCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDM0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFlBQVk7UUFFUixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNwQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDM0IsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFVBQVU7UUFFTixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDM0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELFdBQVc7UUFFUCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLEtBQUs7WUFDNUIsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQ3BCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDekIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJO1lBQzNCLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLFNBQVM7WUFDaEMsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsS0FBSztZQUM1QixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxTQUFTO1lBQ2hDLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQztRQUN6QixJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUk7WUFDM0IsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLENBQUMsU0FBUztZQUNoQyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELE9BQU87UUFFSCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQ2hGO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDaEgsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVE7Z0JBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUN4QjtJQUNMLENBQUM7SUFFRCxTQUFTO1FBRUwsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQ3ZCO1lBQ0ksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQzNHLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDaEgsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVE7Z0JBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3pCO0lBQ0wsQ0FBQztJQUVELFNBQVM7UUFFTCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFDdkI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJ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QyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMzRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsS0FBSyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUM7Z0JBQ3ZILE9BQU8sSUFBSSxDQUFDO1NBQ25CO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVELFNBQVM7UUFFTCxJQUFJLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFDdkI7WUFDSSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDM0csSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDLENBQUMsQ0FBQztTQUNuQztJQUNMLENBQUM7SUFFRCxZQUFZO1FBRVIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxFQUM3RTtZQUNJLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJ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TWxDLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQ2pDLENBQUM7SUFFRCxJQUFJLENBQUMsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFzQjtRQUV0QyxJQUFJLENBQUMsR0FBRyxJQUFJLG9EQUFLLENBQUMsZUFBZSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUNoRCxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0RyxJQUFJLElBQUksR0FBRyxJQUFJLEtBQUssQ0FBQyxhQUFhLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxJQUFJLEVB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QUFFLENBQUM7UUFFaEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDckUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3BFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsQ0FBQyxHQUFHLEVBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBQyxDQUFDLEdBQUcsRUFBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBRWpFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFeEMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3RDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1FBQzFCLE9BQU8sSUFBSSxvREFBSyxDQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEQsQ0FBQztJQUVELE9BQU87UUFFSCxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVDLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEQsQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDM0hEO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBMkM7QUFDakI7QUFDYztBQUd6QixNQUFNLFNBQVUsU0FBUSx5REFBVTtJQVE3QyxZQUFZLENBQVMsRUFBQyxDQUFTLEVBQUMsQ0FBUyxFQUFFLEtBQWdCO1FBRXZELEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNaLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1gsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDWCxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNYLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxNQUFNO1FBRUYsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDdkIsQ0FBQztJQVFELFdBQVc7UUFHSCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksNkNBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFcEgsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLDZDQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUU3SCxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksNkNBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsRUFBRSxJQUFJLDBEQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRTFILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSw2Q0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDO1FBRTVILElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSw2Q0FBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksMERBQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFM0gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLDZDQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSwwREFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEksQ0FBQztDQUNKOzs7Ozs7Ozs7Ozs7O0FDcEREO0FBQUE7QUFBQTtBQUFBO0FBQTJDO0FBQ1M7QUFHckMsTUFBTSxXQUFZLFNBQVEseURBQVU7SUFLL0MsWUFBWSxLQUF1QjtRQUUvQixLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDWixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBRUQsTUFBTTtRQUVGLElBQUksSUFBSSxHQUFHLElBQUksS0FBSyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzVDLElBQUksT0FBTyxHQUFHLElBQUksS0FBSyxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsRUFBRSxHQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQzdHLElBQUksUUFBUSxHQUFHLElBQUksS0FBSyxDQUFDLGlCQUFpQixDQUFDLEVBQUMsR0FBRyxFQUFFLE9BQU8sRUFBQyxDQUFDLENBQUM7UUFDM0QsSUFBSSxJQUFJLEdBQUcsSUFBSSxtRUFBUyxDQUFDLElBQUksRUFBQyxRQUFRLENBQUMsQ0FBQztRQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDcEMsQ0FBQztDQUVKIiwiZmlsZSI6ImdhbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9leGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvTGF1bmNoZXIudHNcIik7XG4iLCJpbXBvcnQgR2FtZSBmcm9tIFwiZW5naW5lL0dhbWVcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFJvb3QgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9Sb290XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBJTyBmcm9tIFwiZW5naW5lL2lvL0lPXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgeyBLZXlib2FyZExpc3RlbmVyIH0gZnJvbSBcImVuZ2luZS9pby9LZXlib2FyZFwiO1xuaW1wb3J0IHsgTW91c2VMaXN0ZW5lciB9IGZyb20gXCJlbmdpbmUvaW8vTW91c2VcIjtcbmltcG9ydCB7IFRpbWluZ0xpc3RlbmVyIH0gZnJvbSBcImVuZ2luZS9pby9UaW1pbmdcIjtcbmltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuXG5kZWNsYXJlIHZhciBNYWluTG9vcDogYW55O1xuZGVjbGFyZSB2YXIgYWRkUmVzaXplTGlzdGVuZXI6IGFueTtcbmRlY2xhcmUgdmFyIHJlbW92ZVJlc2l6ZUxpc3RlbmVyOiBhbnk7XG5cbi8qKlxuICogVGhlIGV4dGVybmFsIGZhY2luZyBjbGFzcyB0aGF0IGNyZWF0ZXMgYSBHYW1lIG9iamVjdC4gR2FtZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgY2xhc3NcbiAqIGFuZCBzZXQgdGhlIF9yb290R2FtZU9iamVjdFR5cGUgdmFyaWFibGUuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMYXVuY2hlclxue1xuICAgIHByb3RlY3RlZCBfZ2FtZTogR2FtZTtcbiAgICBwcm90ZWN0ZWQgX3Jvb3RHYW1lT2JqZWN0OiBHYW1lT2JqZWN0XG4gICAgcHJvdGVjdGVkIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50XG4gICAgcHJvdGVjdGVkIF9jb250YWluZXI6IEhUTUxFbGVtZW50O1xuICAgIHByb3RlY3RlZCBfY2FudmFzTmFtZTogc3RyaW5nXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVkOiBib29sZWFuO1xuXG4gICAgZ2V0IHJvb3RHYW1lT2JqZWN0KCkgeyByZXR1cm4gdGhpcy5fcm9vdEdhbWVPYmplY3Q7fVxuICAgIGdldCBjYW52YXMoKSB7IHJldHVybiB0aGlzLl9jYW52YXM7IH1cbiAgICBnZXQgY29udGFpbmVyKCkgeyByZXR1cm4gdGhpcy5fY29udGFpbmVyOyB9XG4gICAgZ2V0IGNhbnZhc05hbWUoKSB7IHJldHVybiB0aGlzLl9jYW52YXNOYW1lOyB9XG4gICAgZ2V0IGNyZWF0ZWQoKSB7IHJldHVybiB0aGlzLl9jcmVhdGVkOyB9XG5cbiAgICBwcm90ZWN0ZWQgX3Jlc2l6ZUZ1bmN0aW9uOiAoKSA9PiB2b2lkXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgUm9vdEdhbWVPYmplY3QgdG8gbG9hZC4gRWFjaCBnYW1lIHNob3VsZCBvdmVybG9hZCB0aGlzIGluIGl0c1xuICAgICAqIG93biBsYXVuY2hlci5cbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgX3Jvb3RHYW1lT2JqZWN0VHlwZTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgZ2FtZSBsYXVuY2hlclxuICAgICAqIEBwYXJhbSBjb250YWluZXIgVGhlIERPTSBvYmplY3QgdG8gcGFyZW50IHRoZSBjYW52YXMgdG9cbiAgICAgKiBAcGFyYW0gY2FudmFzTmFtZSBUaGUgbmFtZSBvZiB0aGUgY2FudmFzLCBkZWZhdWx0cyB0byBcImdhbWVDYW52YXNcIlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNhbnZhc05hbWU/OiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuX2NhbnZhc05hbWUgPSBjYW52YXNOYW1lIHx8IFwiZ2FtZUNhbnZhc1wiO1xuICAgIH0gXG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2NyZWF0ZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIEdhbWU6IGFscmVhZHkgY3JlYXRlZFwiKTtcbiAgICAgICAgdGhpcy5fcm9vdEdhbWVPYmplY3QgPSB0aGlzLl9jcmVhdGVSb290R2FtZU9iamVjdCh0aGlzLl9yb290R2FtZU9iamVjdFR5cGUsIHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9ICh0aGlzLl9yb290R2FtZU9iamVjdCBhcyBSb290PEdhbWVPYmplY3Q+KS5jYW52YXM7XG4gICAgICAgIHRoaXMuX2dhbWUgPSB0aGlzLl9jcmVhdGVHYW1lKHRoaXMuY2FudmFzLCB0aGlzLl9yb290R2FtZU9iamVjdCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XG4gICAgICAgIHRoaXMuX3Jlc2l6ZUZ1bmN0aW9uID0gKCgpID0+ICh0aGlzLl9yb290R2FtZU9iamVjdCBhcyBSb290PEdhbWVPYmplY3Q+KS5yZXNpemVUb09uVXBkYXRlKG5ldyBEaW1lbnNpb24odGhpcy5fY29udGFpbmVyLm9mZnNldFdpZHRoLCB0aGlzLl9jb250YWluZXIub2Zmc2V0SGVpZ2h0KSkpLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHN0YXJ0KCkgXG4gICAge1xuICAgICAgICBhZGRSZXNpemVMaXN0ZW5lcih0aGlzLl9jb250YWluZXIsIHRoaXMuX3Jlc2l6ZUZ1bmN0aW9uKTtcbiAgICAgICAgdGhpcy5fZ2FtZS5zdGFydCgpO1xuICAgIH1cblxuICAgIHN0b3AoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZ2FtZS5zdG9wKCk7XG4gICAgICAgIHJlbW92ZVJlc2l6ZUxpc3RlbmVyKHRoaXMuX2NvbnRhaW5lciwgdGhpcy5fcmVzaXplRnVuY3Rpb24pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfY3JlYXRlR2FtZShjYW52YXMsIHJvb3RHYW1lT2JqZWN0LCk6IEdhbWVcbiAgICB7XG4gICAgICAgIGxldCBnYW1lID0gbmV3IEdhbWUocm9vdEdhbWVPYmplY3QsIHRoaXMuX2NyZWF0ZUludGVyZmFjZXMoY2FudmFzKSwgTWFpbkxvb3ApO1xuICAgICAgICBnYW1lLmNyZWF0ZSgpO1xuICAgICAgICByZXR1cm4gZ2FtZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2NyZWF0ZUludGVyZmFjZXMoY2FudmFzPyA6IEhUTUxDYW52YXNFbGVtZW50KTogSU9cbiAgICB7XG4gICAgICAgIGxldCBpbyA9IG5ldyBJTygpO1xuICAgICAgICB0aGlzLl9hZGRUaW1pbmcoaW8pO1xuICAgICAgICB0aGlzLl9hZGRMb2FkZXIoaW8pO1xuICAgICAgICByZXR1cm4gaW87XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVSb290R2FtZU9iamVjdChyb290VHlwZSwgY29udGFpbmVyKTogUm9vdDxhbnk+XG4gICAge1xuICAgICAgICBsZXQgcm9vdEdhbWVPYmplY3QgPSBuZXcgUm9vdChyb290VHlwZSwgbmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IERpbWVuc2lvbihjb250YWluZXIub2Zmc2V0V2lkdGgsIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQpKSwgbmV3IEZyYW1lTGlzdGVuZXIoKSwgbmV3IEZyYW1lQ29udHJvbGxlcigpKTtcbiAgICAgICAgcm9vdEdhbWVPYmplY3QuY3JlYXRlQ2FudmFzKHRoaXMuX2NhbnZhc05hbWUpO1xuICAgICAgICByb290R2FtZU9iamVjdC50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbnNbMF0gPSBuZXcgRGltZW5zaW9uKGNvbnRhaW5lci5vZmZzZXRXaWR0aCwgY29udGFpbmVyLm9mZnNldEhlaWdodCk7XG4gICAgICAgIHJvb3RHYW1lT2JqZWN0LnJlc2l6ZUNhbnZhcyhyb290R2FtZU9iamVjdC50cmFuc2Zvcm0uZ2V0RGltZW5zaW9uKCksIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgcm9vdEdhbWVPYmplY3QudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgIHJldHVybiByb290R2FtZU9iamVjdDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2FkZEtleWJvYXJkKGlvOiBJTyk6IElPXG4gICAge1xuICAgICAgICBsZXQga2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmRMaXN0ZW5lcigpO1xuICAgICAgICBrZXlib2FyZC5jcmVhdGUoKTtcbiAgICAgICAgaW8uYWRkSW50ZXJmYWNlKGtleWJvYXJkLCBcImtleWJvYXJkXCIpO1xuICAgICAgICByZXR1cm4gaW87XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9hZGRNb3VzZShpbzogSU8sIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpOiBJT1xuICAgIHtcbiAgICAgICAgbGV0IG1vdXNlID0gbmV3IE1vdXNlTGlzdGVuZXIoKTtcbiAgICAgICAgbW91c2UuYWRkVG8oZG9jdW1lbnQsIGNhbnZhcyk7XG4gICAgICAgIGlvLmFkZEludGVyZmFjZShtb3VzZSwgXCJtb3VzZVwiKTtcbiAgICAgICAgcmV0dXJuIGlvO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBfYWRkVGltaW5nKGlvOiBJTyk6IElPXG4gICAge1xuICAgICAgICBpby5hZGRJbnRlcmZhY2UobmV3IFRpbWluZ0xpc3RlbmVyKCksIFwidGltaW5nXCIpO1xuICAgICAgICByZXR1cm4gaW87XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9hZGRMb2FkZXIoaW86IElPKTogSU9cbiAgICB7XG4gICAgICAgIGlvLmFkZEludGVyZmFjZShuZXcgTG9hZGVyKCksIFwibG9hZGVyXCIpO1xuICAgICAgICByZXR1cm4gaW87XG4gICAgfVxufSIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFjMzMyMDI0MDU1MTAyZjdlYTVkODc1MDY1YzQxMmJjLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ0MWRhZGFiNjQ5OGVmMmQ4ZmE0MDkzZTI4NTZmNTQwLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjdjM2QwZjhkNTU2NzlmMjdkODE5MmYwNjg1MTU5ZmU1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjBmNWExMWU3YzRkNjhkODhmNTk1ODc4M2I5MmZmMThhLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjlhNjUyMmU0NDIzMzAzOWZlZjU0MGEwYjAwMDAxMGVhLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFkMjU3ZDdlNDNjZThlYjlmMzllMzhhYjk1NzI1ZWVlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI5YjgxMTYzNGVkNDZjNmY4NjZmMDM2MjEwYzE3M2Y4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImIzNzZjYTUyMTljOGMxODFiZjFlYzQyYWE4NmE4MmVjLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc5ZjVkMTlmZTg0MDg3YmUwMzNhOGYzYjRkNTk5Y2Y2LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI2NWJmNTFhYTg3OTZkMTNiNDQ5ZDQxMDEwYzQyNDQ4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImYyMWVkMDlmMWM3OGVmNDc0NGM2NWRiNWQ4ODZiODVhLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjA4YjAzYzQzM2IyYzg0MTI3NDA1NDRiMDc2NTdmYmM0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjcwMDZiN2MwZTU0ZTA0Mjk1ZDk4MGM0YTAyM2Q0ZGQ0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImJkMmM4NzM1MTE1YzRlNjA3N2JlMjliZDM4Yjk2YjQ4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjJmMTMxZDRlNDc5YjJjMThjZTc0OGRlYTJhNGFiMjlmLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjg4ODg1MzAwOWQ0NjQ2YTlhMDExZWE5NjM0MGU1Mjk0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjAxNWFkNmViZWYyNDJiYThlM2IyMTk3ZDBhNjc2MGZmLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjRjOThkYmFhZDE3OGE2MzI5NDU2NTA0Y2NiNjMwYjkzLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjYyM2JhY2U2ODc1ZGRjY2VjODI4ZmYyZTY0NDViMGQ2LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImM5NjAzMzMzZjFiYjIwZTgyYmM2ODJlYmY5M2IyYzNiLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImUzZGIyNzIxOWIzNDBlMDc0ODkwYWQ0MGIxZWRmN2I1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjJjZTRlZWE2Mjg4Y2JlMWEwMDFjZGIxOGQ5OGZiMzZlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImMwZmZkOGI4NTBmNjNmYTI1MGE4YmQ5MDY3MmYxZTc2LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjE5YTMxNjZjZTlmNjA4ZTQ4YzkwYzE3NzZhYjc2YjczLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQxYzAwMjRlN2UwNzBmNzE1NmJlY2EwOTBmYmExY2M4LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ3MDUzNmIwMGIzYzFlOTY3MDg1Zjk4ODg4Zjc4YTkyLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjNhMjFiYmIxZTFhMTk1NzAwZjQ5NGZhZTliMmU1MTIwLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjBmYmVhYmE3MGM4ZWRmNWJiZDE0NmJlM2RlNDc3MzU1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFmODA2YWUwNmU4Y2MxYWViMGZhMDZhOGI0Zjc4NTU0LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjYyZjFiZDMxMDkyNzdiNjkzOTIzYzFlZjJmMGI3ZjMwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc5YTY2YmZmNDJiMzdhYzRhM2FjMWZkYjI2ZDg1NjJlLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY4OWNiMmFlMzRlMDViZGFlY2U2MjgwNjAyOTE0ZDQ3LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjcxM2Q2OWYyZmEwMDQxYWI3Y2JkYmZjNjJhZGRjNjkwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjI0ZjFiNzU3OTFmYWI4YmQ0NjA2ZmQyZDM0NjdmNzkzLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImYxNjE5NDFmNWM3ZWU0NTYzMzI3MjQyNjJmMGFjNTg4LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc2YjMyZjVjOGExMTg4ZjQ5M2FmMDRiYzdkZTc5NjAxLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFhZmIwODYwMzFmOGVmMDhlYWE3YjVjNzFjZjM0Mjg2LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjhhODNmYzIzYzdhNTM0Y2JiN2ZjY2Y2MmIzNWUwNTRjLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImExMmUwYzRlNGU4ZjdlNzIwY2RhY2I5YjRlMzJlMDcwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImVlZTg5NGU3OTk2NjMwNzJhNjQ4ZDUyMmQ4MjMyYjAzLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjU3YzI2NmM0YjI5NGY5MzUwODUzYWUxYTY3YjBhOTgzLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQ5ODQ2OWRjZTc4YmZjNjhmNzczNzY2MDk5YmIwNjg3LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjVlNTM3OTNkNWY3M2UxYmQzMmMxMWI4ZmZhYjI5NzVlLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjVkMjRhOGMxY2Y4Y2E0YzZlNmZiNDJlYzVkMGYxZTg2LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjc3ZmEzYTkwYzg3MzU4M2JmOTdmZDAzMTQyYTRmODc3LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjAwZGQ0MjMxZGJjYTAzNWM2OTljNzRkMGE1MjlmZTU0LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjdhZTM1YTVkYmUyYzllNDk0MTViODRjZjJkMDc0YWMwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjM1OTIxNGNjNmNmMzk2MTYwOTgzZjcyNTFlZWNhZGE1LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjUzZDY4M2VhMDc4YTZjOWQ2ZWM4N2QyZTI0Y2VhYWRkLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQ3NjU3YWU1MWUwYjBkMzllNGI2NzY4YTlkOTMxODIxLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFiYmVkNjIzNDMzNjA0NTcxYWVmN2U2MDRlYWFlMzU4LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY1ZDNjMzliMzdlMTZlODM3OTNmYjEyYzQ5MjViYjM0LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImVhYjhlYmQ4YjM1NWQxNDQyN2M0OWNlYmQzZWU0YjE1LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjhjN2IwZGE3YmZlZTA0YzBiYWQ1N2Y3OTFiNzI3Njg2LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImFmNThmMmJlYWVhOGNhNDVlNDNhZmNlODkxMDBjNmM4LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjliNWExNTIyMWJmYWM3YTE1MWRhY2I3YmQyMjU5NzRkLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImU2MGZkM2UyZjlmNDIxNWI3N2ViOTQ3ODdmMTFiOGZiLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjU0ODNjNzMwZGYzZDlmYjU2NzRhMWM2OTM0NzRkNjEwLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImZhNDY3OWY2ZjZmODQ3NzMwYjhhNTBiNDRhNjZiNWNlLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjgyMmUwOWNjMGU1NGRkMDI1ODMzYTc3YzQyMzk1NDdjLmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjg1NjY1ZjVmY2YwMzJjZWFhNzU2Y2ZiZWE1MzgyMDI3LmpwZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjAzNGJkYTA5NzgwMjMwN2I3YWU1OGMyNzViN2E4NDUzLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImU3MmFiMzA4ZjljZDVjZDEyYzUzY2Y1Y2UwNWI4YWE5LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjBmMmNjZGM4NDgyMGIxMjU4YTM0YmQwNGRkOTg3YmU1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ4OTg3ZGVhODQ5YWJkNmE0NWNkYTQwZjZlNTBmZTIwLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY3YmEyOGM4MWQ3NzI2OThjZGE4ZDQwMWQ5MWRjMzU0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjI3OTY4Mzg5YjdjZjI1ODc3MDcwNWMxN2IyMGI4MTJlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImNkZmYyM2QwM2U0OTg2MzM0YTdjMzQ5YTgyZjQ4OGU5LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImEzNzFmOWM3MDc3MDYwYTVhNDI4YzZlNTU5MmNlY2IxLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjFmYjllZTgyMjY5MzY1MDY0NjZjOGZhMGM3NThkN2M0LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImMxMDUzMjI3ZTNjM2MzMTIyMGNhYWNhNTI0MGExOWQ3LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImEwYjE2NWRhOGQ0YzAwZDE1ZDY2MDQ2MmQzYjU3ZWI4LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjJhNzZmM2NmMTZlOTVlNGU5ZDk4NTI0MmJlYWJmYWZiLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjgzYjJjZjgwMjA2NmFlYjlkOTdlNThkMDIzMTcyZjJhLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjVjNWU3YjJmZjJkODMwZjkwN2M3YWM3MThlYzc3YmIxLnBuZ1wiOyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzc2V0PFQ+XG57XG4gICAgcHJpdmF0ZSBfZmlsZW5hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIF9hc3NldDogVDtcbiAgICBwcml2YXRlIF9sb2FkZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihmaWxlbmFtZTogc3RyaW5nLCBhc3NldDogVCwgbG9hZGVkOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgICAgICAgdGhpcy5fYXNzZXQgPSBhc3NldDtcbiAgICAgICAgdGhpcy5fbG9hZGVkID0gbG9hZGVkO1xuICAgIH1cblxuICAgIGdldCBmaWxlbmFtZSgpIHsgcmV0dXJuIHRoaXMuX2ZpbGVuYW1lOyB9XG5cbiAgICBnZXQgYXNzZXQoKTogVCB7IHJldHVybiB0aGlzLl9hc3NldDsgfVxuXG4gICAgZ2V0IGxvYWRlZCgpIHsgcmV0dXJuIHRoaXMuX2xvYWRlZDsgfVxuXG4gICAgc2V0IGxvYWRlZCh2YWwpIHsgdGhpcy5fbG9hZGVkID0gdmFsOyB9XG5cbiAgICBzZXQoYXNzZXQ6IFQpIHsgdGhpcy5fYXNzZXQgPSBhc3NldDsgfVxufVxuIiwiaW1wb3J0IEV2ZW50IGZyb20gXCIuL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBJTyBmcm9tIFwiLi9pby9JT1wiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4vR2FtZU9iamVjdFwiO1xuXG4vKipcbiogR2FtZSBpcyB0aGUgdG9wLWxldmVsIG9iamVjdCB3aGljaCByZXByZXNlbnRzIGFuZCBydW5zIGEgZ2FtZSBpbiB0aGUgZW5naW5lLlxuKiBJdCBwcm92aWRlcyB0aGUgaW50ZXJmYWNlIGJldHdlZW4gdGhlIEdhbWVPYmplY3QgdHJlZSwgdGhlIG1haW4gbG9vcCwgYW5kIHRoZVxuKiBpbnRlcmZhY2VzLiBJdCB0YWtlcyBlYWNoIG9mIHRoZXNlIGFzIGFuIGFyZ3VtZW50LiBJdCByZWdpc3RlcnMgaXRzZWxmIHdpdGhcbiogdGhlIHN1cHBsaWVkIG1haW4gbG9vcCBvYmplY3QsIGFuZCBpbiB0dXJuIGNhbGxzIHRoZSBtYWluIGxvb3AgZnVuY3Rpb25zIG9uXG4qIHRoZSBnYW1lIG9iamVjdCB0cmVlLCBwYXNzaW5nIGFsb25nIHRoZSBpbnRlcmZhY2VzLlxuKiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lXG57XG4gICAgcHJpdmF0ZSBfcm9vdEdhbWVPYmplY3Q6IEdhbWVPYmplY3Q7XG4gICAgcHJpdmF0ZSBfaW86IElPO1xuICAgIHByaXZhdGUgX21haW5Mb29wO1xuICAgIHByaXZhdGUgX2NyZWF0ZWQ6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAqIENyZWF0ZSBhIGdhbWUgZGVmaW5lZCBieSBhIGdpdmVuIHJvb3RHYW1lT2JqZWN0LlxuICAgICogQHBhcmFtIHJvb3RHYW1lT2JqZWN0IHRoZSByb290IG9mIHRoZSBHYW1lT2JqZWN0IHRyZWUgd2hpY2ggc2hvdWxkIGJlIGFcbiAgICAqIFJvb3RHYW1lT2JqZWN0LiBUaGUgbWFpbiBsb29wIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIG9uIHRoaXMgb2JqZWN0LlxuICAgICogQHBhcmFtIGlvIHRoZSBpbnRlcmZhY2VzIGNvbnRhaW5lZCB3aXRoaW4gYW4gSU8gb2JqZWN0XG4gICAgKiBAcGFyYW0gbWFpbkxvb3AgYSBNYWluTG9vcCBvYmplY3QgdGhhdCBwcm92aWRlcyBhbiBpbnRlcmZhY2UgdG8gcmVnaXN0ZXJcbiAgICAqIGNhbGxiYWNrcyBmb3IgdGhlIGZvdXIgcGFydHMgb2YgdGhlIG1haW4gbG9vcDogYmVnaW4sIHVwZGF0ZSwgZHJhdywgYW5kIGVuZC5cbiAgICAqKi9cbiAgICBjb25zdHJ1Y3Rvcihyb290R2FtZU9iamVjdDogR2FtZU9iamVjdCwgaW86IElPLCBtYWluTG9vcClcbiAgICB7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0ID0gcm9vdEdhbWVPYmplY3Q7XG4gICAgICAgIHRoaXMuX2lvID0gaW87XG4gICAgICAgIHRoaXMuX21haW5Mb29wID0gbWFpbkxvb3A7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBSZWdpc3RlcnMgdGhlIEdhbWUgb2JqZWN0IHdpdGggdGhlIE1haW5Mb29wIHN1cHBsaWVkIGluIHRoZSBjb25zdHJ1Y3RvcixcbiAgICAqIHNvIHRoYXQgdGhlIGdhbWUgaXMgcmVhZHkgdG8gc3RhcnQuIEFsc28gY2FsbHMgdGhlIGBjcmVhdGVgIG1ldGhvZCBvbmNlIG9uXG4gICAgKiB0aGUgR2FtZU9iZWN0IHRyZWUgYW5kIHN1cHBsaWVkIElPIG9iamVjdC4gVGhlIGBjcmVhdGVgIG1ldGhvZCB3aWxsIHRyaWdnZXJcbiAgICAqIHRoZSBsb2FkaW5nIG9mIGZpbGVzIG5lZWRlZCBieSB0aGUgY3VycmVudCBHYW1lT2JqZWN0IHRyZWUgKHRob3NlIHRoYXRcbiAgICAqIGFyZSBjcmVhdGVkIGluIHRoZSBmaXJzdCBjYWxsIHRvIGBjcmVhdGVgKSwgYW5kIHNvIGl0IG1ha2VzIHNlbnNlIHRvIGNhbGxcbiAgICAqIHRoaXMgYXMgZWFybHkgYXMgcG9zc2libGUsIHBvc3NpYmx5IGluIGFkdmFuY2Ugb2YgbmVlZGluZyB0byBzdGFydCB0aGUgZ2FtZS5cbiAgICAqL1xuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fY3JlYXRlZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgR2FtZTogYWxyZWFkeSBjcmVhdGVkXCIpO1xuICAgICAgICB0aGlzLl9pby5jcmVhdGUoKTtcbiAgICAgICAgdGhpcy5fcm9vdEdhbWVPYmplY3QuZG9DcmVhdGUodGhpcy5faW8uaW50ZXJmYWNlcyk7XG4gICAgICAgIHRoaXMuX21haW5Mb29wLnNldEJlZ2luKHRoaXMuX2JlZ2luLmJpbmQodGhpcykpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRVcGRhdGUodGhpcy5fdXBkYXRlLmJpbmQodGhpcykpXG4gICAgICAgICAgICAgICAgICAgIC5zZXREcmF3KHRoaXMuX2RyYXcuYmluZCh0aGlzKSlcbiAgICAgICAgICAgICAgICAgICAgLnNldEVuZCh0aGlzLl9lbmQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogU3RhcnQgdGhlIG1haW4gbG9vcCBydW5uaW5nIGFuZCB0aHVzIHRoZSBnYW1lIGVuZ2luZSBhbmQgdGhlIGdhbWUuIGFsc29cbiAgICAqIHRlbGxzIHRoZSBpbnRlcmZhY2VzIHRoYXQgdGhlIGdhbWUgaGFzIHN0YXJ0ZWQuXG4gICAgKi9cbiAgICBzdGFydCgpXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uU3RhcnQpO1xuICAgICAgICB0aGlzLl9tYWluTG9vcC5zdGFydCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogU3RvcCB0aGUgbWFpbiBsb29wIHJ1bm5pbmcgYW5kIHRodXMgdGhlIGdhbWUgZW5naW5lIGFuZCB0aGUgZ2FtZS4gYWxzb1xuICAgICogdGVsbHMgdGhlIGludGVyZmFjZXMgdGhhdCB0aGUgZ2FtZSBoYXMgc3RvcHBlZC5cbiAgICAqL1xuICAgIHN0b3AoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbWFpbkxvb3Auc3RvcCgpO1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uU3RvcCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9iZWdpbih0aW1lc3RhbXA6IG51bWJlciwgZGVsdGE6IG51bWJlcilcbiAgICB7XG4gICAgICAgIEV2ZW50LmNhbGwodGhpcy5faW8ub25CZWdpblN0YXJ0LCB0aW1lc3RhbXAsIGRlbHRhKTtcbiAgICAgICAgdGhpcy5fcm9vdEdhbWVPYmplY3QuZG9CZWdpbih0aGlzLl9pby5pbnRlcmZhY2VzKTtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vbkJlZ2luRW5kKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX3VwZGF0ZShkZWx0YTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgRXZlbnQuY2FsbCh0aGlzLl9pby5vblVwZGF0ZVN0YXJ0LCBkZWx0YSk7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0LmRvVXBkYXRlKHRoaXMuX2lvLmludGVyZmFjZXMpO1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uVXBkYXRlRW5kKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2RyYXcoaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIEV2ZW50LmNhbGwodGhpcy5faW8ub25EcmF3U3RhcnQpO1xuICAgICAgICB0aGlzLl9yb290R2FtZU9iamVjdC5kb0RyYXcobnVsbCk7Ly9pbnRlcnBvbGF0aW9uUGVyY2VudGFnZSk7XG4gICAgICAgIEV2ZW50LmNhbGwodGhpcy5faW8ub25EcmF3RW5kKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2VuZChmcHM6IG51bWJlciwgcGFuaWM6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uRW5kU3RhcnQsIGZwcyk7XG4gICAgICAgIHRoaXMuX3Jvb3RHYW1lT2JqZWN0LmRvRW5kKHRoaXMuX2lvLmludGVyZmFjZXMpO1xuICAgICAgICBFdmVudC5jYWxsKHRoaXMuX2lvLm9uRW5kRW5kKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBBc3NldCBmcm9tIFwiLi9Bc3NldFwiO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi9UcmFuc2Zvcm1cIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgeyBUcmVlVXRpbHMgfSBmcm9tIFwiLi9UcmVlVXRpbHNcIjtcblxuLyoqXG4qIFRoZSBHYW1lT2JqZWN0IGlzIHRoZSBjb3JlIG9mIHRoZSBnYW1lIGVuZ2luZSBhbmQgcmVwcmVzZW50cyBhbnl0aGluZyBpbiB0aGVcbiogZ2FtZSB0aGF0IHNob3VsZCBiZSB1cGRhdGVkIG9yIGRyYXduIG9yIHVzZWQgYXMgYSBub2RlIGZvciB0aGUgbGF5b3V0IHN5c3RlbS5cbiogR2FtZU9iamVjdHMgZm9ybSBhIHRyZWUuIEVhY2ggR2FtZU9iamVjdCBjYW4gaGF2ZSBjaGlsZHJlbi4gVGhlIG1haW4gbG9vcFxuKiBtZXRob2RzIGFyZSBjYWxsZWQgcmVjdXNpdmVseSBkb3duIHRocm91Z2ggdGhpcyB0cmVlLiBUaGUgbGF5b3V0IG9mIEdhbWVPYmplY3RzXG4qIHdvcmtzIHJlY3Vyc2l2ZWx5IHVwIHRocm91Z2ggdGhpcyB0cmVlLlxuKiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBfdHJhbnNmb3JtOiBUcmFuc2Zvcm07XG4gICAgcHJpdmF0ZSBfY2hpbGRyZW46IEdhbWVPYmplY3RbXSA9IFtdO1xuICAgIHByaXZhdGUgX2Fzc2V0czogQXNzZXQ8T2JqZWN0PltdID0gW107XG4gICAgcHJpdmF0ZSBfcGFyZW50OiBHYW1lT2JqZWN0ID0gbnVsbDtcblxuICAgIHByaXZhdGUgX2NyZWF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9ydW5Mb2FkOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfYWN0aXZlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9pbnRlcmFjdGFibGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX3JhbkJlZ2luOiBib29sZWFuID0gZmFsc2U7IC8vVE9ETzogbG9vayBpbnRvIHdoZXRoZXIgdGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBqdXN0IGNoZWNraW5nIGBfY3JlYXRlZGAuXG4gICAgcHJpdmF0ZSBfbmFtZTogc3RyaW5nID0gbnVsbDtcbiAgICBwcml2YXRlIF92aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9vcGFjaXR5OiBudW1iZXIgPSAxO1xuICAgIHByaXZhdGUgX2lnbm9yZURyYXdDdWxsOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfb25EZXN0cm95OiBFdmVudDtcbiAgICBwcml2YXRlIF9wcmVjcmVhdGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICogQ29uc3RydWN0IGEgR2FtZU9iamVjdCB3aXRoIHRoZSBzdXBwbGllZCBwb3NpdGlvbiBhbmQgYm91bmRzLiBUaGlzXG4gICAgKiBpcyBhbiBlbXB0eSBHYW1lT2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBub2RlIGZvciB0aGUgbGF5b3V0IHN5c3RlbSBvclxuICAgICogY2FuIGJlIGV4dGVuZGVkIGJ5IG90aGVyIGNsYXNzZXMgdG8gcHJvdmlkZSBmdW5jdGlvbmFsaXR5IG9yIGRyYXdpbmcuIElmXG4gICAgKiB0aGUgc3VwcGxpZWQgcG9zaXRpb24gaXMgbnVsbCwgdGhlIEdhbWVPYmplY3Qgc2l0cyBvdXRzaWRlIHRoZSBtYWluXG4gICAgKiBkcmF3aW5nIGhlaXJhcmNoeS5cbiAgICAqIEBwYXJhbSBwb3NpdGlvbiBhIFBvc2l0aW9uIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIHRoaXMgR2FtZU9iamVjdHNcbiAgICAqIGluIHRoZSBnYW1lIHdvcmxkLlxuICAgICogQHBhcmFtIGJvdW5kcyBhIEJvdW5kcyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBib3VuZGluZyBzaXplIG9mIHRoaXMgR2FtZU9iamVjdFxuICAgICogaW4gdGhlIGdhbWUgd29ybGQuXG4gICAgKiovXG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtOiBUcmFuc2Zvcm0pXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcylcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24gfCBUcmFuc2Zvcm0sIGJvdW5kcz86IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHRoaXMuX29uRGVzdHJveSA9IG5ldyBFdmVudCgpO1xuICAgICAgICBpZiAocG9zaXRpb24gaW5zdGFuY2VvZiBQb3NpdGlvbilcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IG5ldyBUcmFuc2Zvcm0ocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybSA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm0pXG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm0uc2V0R2FtZU9iamVjdCh0aGlzKTsgXG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgcGFyZW50IEdhbWVPYmplY3QgaW4gdGhlIEdhbWVPYmplY3QgdHJlZS4gQSBHYW1lT2JqZWN0IG9ubHkgaGFzIGFcbiAgICAqIHBhcmVudCBpZiBpdCBoYXMgYmVlbiBhZGRlZCBhcyBhIGNoaWxkIHRvIGFub3RoZXIgR2FtZU9iamVjdC4gR2FtZU9iamVjdHNcbiAgICAqIHRoYXQgc3RhbmQgb3V0c2lkZSB0aGUgR2FtZU9iamVjdCB0cmVlIGRvIG5vdCBoYXZlIHBhcmVudHMuIEEgR2FtZU9iamVjdFxuICAgICogY2FuIG9ubHkgaGF2ZSBhIHNpbmdsZSBwYXJlbnQsIGFuZCBzaG91bGQgbm90IGRvbWluYXRlIGl0cyBwYXJlbnQgYXMgYVxuICAgICogY2hpbGQuXG4gICAgKi9cbiAgICBnZXQgcGFyZW50KCk6IEdhbWVPYmplY3QgeyByZXR1cm4gdGhpcy5fcGFyZW50OyB9XG4gICAgc2V0IHBhcmVudCh2YWw6IEdhbWVPYmplY3QpIHsgdGhpcy5fcGFyZW50ID0gdmFsOyB9XG5cbiAgICBnZXQgdHJhbnNmb3JtKCkgeyByZXR1cm4gdGhpcy5fdHJhbnNmb3JtOyB9XG5cbiAgICAvKipcbiAgICAqIEFuIGlkZW50aWZpY2F0aW9uIHN0cmluZyBmb3IgcmVmZXJlbmNpbmcgcGFydGljdWxhciBnYW1lIG9iamVjdHMgaW4gdGhlXG4gICAgKiB0cmVlLiBPcHRpb25hbCwgYnV0IGNhbiBwcm92ZSB1c2VmdWwgd2hlbiBhbm90aGVyIG9iamVjdCBuZWVkcyB0byBnYWluIGFcbiAgICAqIHJlZmVyZW5jZSB0byBhIHBhcnRpY3VsYXIgR2FtZU9iamVjdC5cbiAgICAqL1xuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7IHJldHVybiB0aGlzLl9uYW1lOyB9XG4gICAgc2V0IG5hbWUodmFsOiBzdHJpbmcpIHsgdGhpcy5fbmFtZSA9IHZhbDt9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIEdhbWVPYmplY3RzIGhhcyBubyBtb3JlIGFzc2V0cyB0byBsb2FkLlxuICAgICovXG4gICAgZ2V0IGxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnJ1bkxvYWQgJiYgdGhpcy5hc3NldHMuZXZlcnkoeCA9PiB4LmxvYWRlZCA9PT0gdHJ1ZSkpOyB9XG5cbiAgICBnZXQgc3VidHJlZUxvYWRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmxvYWRlZCAmJiAodGhpcy5fY2hpbGRyZW4uZXZlcnkoeCA9PiB4LnN1YnRyZWVMb2FkZWQpKSk7IH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBgbG9hZGAgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCBvbmNlLiBUaGlzIHNob3VsZCBtZWFuXG4gICAgKiB0aGF0IGFueSByZXNvdXJjZXMgaGF2ZSBiZWd1biBsb2FkaW5nLCBldmVuIGlmIGxvYWRpbmcgaXMgbm90IGNvbXBsZXRlLlxuICAgICovXG4gICAgZ2V0IHJ1bkxvYWQoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9ydW5Mb2FkOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYGNyZWF0ZWAgbWV0aG9kIGhhcyBiZWVuIGNhbGxlZCBvbmNlLiBUaGlzIHNob3VsZCBtZWFuc1xuICAgICogdGhhdCB0aGUgR2FtZU9iamVjdCBpcyByZWFkeSB0byB1c2UgYW5kIGhhdmUgbWFpbiBsb29wIG1ldGhvZHMsIGVnLiB1cGRhdGUsXG4gICAgKiBkcmF3IGNhbGxlZC5cbiAgICAqL1xuICAgIGdldCBjcmVhdGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fY3JlYXRlZDsgfVxuXG4gICAgZ2V0IGFzc2V0cygpOiBBc3NldDxPYmplY3Q+W10geyByZXR1cm4gdGhpcy5fYXNzZXRzOyB9XG5cbiAgICAvKipcbiAgICAqIFJldHVybnMgdGhlIEdhbWVPYmplY3RzIGltbWVkaWF0ZWx5IGRvbWluYXRlZCBieSB0aGlzIG9uZSBpbiB0aGUgR2FtZU9iamVjdFxuICAgICogdHJlZS4gQ2hpbGRyZW4gY2FuIGJlIGFkZGVkIHVzaW5nIHRoZSBgYWRkQ2hpbGRgIG1ldGhvZCwgb3IgcmVtb3ZlZCB3aXRoXG4gICAgKiB0aGUgYHJlbW92ZUNoaWxkYCBtZXRob2QuIE90aGVyd2lzZSwgdGhpcyBhcnJheSBzaG91bGQgbm90IGJlIGRpcmVjdGx5XG4gICAgKiBtb2RpZmllZC5cbiAgICAqL1xuICAgIGdldCBjaGlsZHJlbigpOiBHYW1lT2JqZWN0W10geyByZXR1cm4gdGhpcy5fY2hpbGRyZW47IH1cblxuICAgIC8qKiBEZXRlcm1pbmVzIHdoZXRoZXIgYmVnaW4oKSwgdXBkYXRlKCksIG9yIGVuZCgpIGlzIGNhbGxlZCBvbiB0aGlzIGdhbWUgb2JqZWN0IG9yIGl0cyBjaGlsZHJlbiAgKi9cbiAgICBzZXQgYWN0aXZlKHZhbDogYm9vbGVhbikgeyB0aGlzLl9hY3RpdmUgPSB2YWw7fVxuICAgIGdldCBhY3RpdmUoKTogYm9vbGVhbiB7IHJldHVybiB0aGlzLl9hY3RpdmU7IH1cblxuICAgIC8qKlxuICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBHYW1lT2JqZWN0IHN1YnRyZWUgc2hvdWxkIGFjY2VwdCBhbnkgaW50ZXJhY3Rpb25cbiAgICAqIHdpdGggdGhlIHBsYXllci4gR2FtZU9iamVjdHMgdGhhdCBwcm92aWRlIHVzZXIgaW50ZXJmYWNlcyBzaG91bGQgcmVzZXBjdFxuICAgICogdGhpcyB2YWx1ZS5cbiAgICAqL1xuICAgIHNldCBpbnRlcmFjdGFibGUodmFsOiBib29sZWFuKSB7IHRoaXMuX2ludGVyYWN0YWJsZSA9IHZhbDt9XG4gICAgZ2V0IGludGVyYWN0YWJsZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2ludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaW50ZXJhY3RhYmxlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZXMgd2hldGhlciB0aGlzIEdhbWVPYmplY3Qgc3VidHJlZSBzaG91bGQgYmUgdmlzaWJsZSwgaWUuIGRyYXduLiBUaGlzXG4gICAgKiBkZXRlcm1pbmVzIHdoZXRoZXIgZHJhdygpIGlzIGNhbGxlZCBvbiB0aGlzIGdhbWUgb2JqZWN0IG9yIGl0cyBjaGlsZHJlbi4gQXNcbiAgICAqIHJlcXVlc3REcmF3KCkgb25seSB3b3JrcyBpZiB0aGUgb2JqZWN0IGlzIHZpc2libGUsIGhlcmUgd2UgZW5zdXJlIHRvIGNhbGwgaXRcbiAgICAqIHdoaWxlIHZpc2libGUgaXMgdHJ1ZS5cbiAgICAqL1xuICAgIHNldCB2aXNpYmxlKHZhbDogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlICE9PSB2YWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdmFsKSAgXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHZhbDtcbiAgICAgICAgICAgIGlmICh2YWwpXG4gICAgICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB2aXNpYmxlKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fdmlzaWJsZTsgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgb3BhY2l0eSwgb3IgYWxwaGEgdmFsdWUsIG9mIHRoaXMgR2FtZU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuLiBBIHZhbHVlXG4gICAgKiBiZXR3ZWVuIDAtMS4gVGhlIG9wYWNpdHkgd2l0aCB3aGljaCBhbiBvYmplY3QgaXMgZHJhd24gaXMgY2FsY3VsYXRlZCBieVxuICAgICogbXVsdGlwbHlpbmcgdGhpcyB2YWx1ZSByZWN1cnNpdmV5IHVwIHRoZSB0cmVlLiBUaHVzIGEgb2JqZWN0IHdpdGggb3BhY2l0eVxuICAgICogMC41IGluIGEgcGFyZW50IG9mIG9wYWNpdHkgMC41IGlzIGRyYXduIHdpdGggYW4gb3BhY2l0eSBvZiAwLjI1LlxuICAgICovXG4gICAgZ2V0IG9wYWNpdHkoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX29wYWNpdHk7IH1cbiAgICBzZXQgb3BhY2l0eSh2YWw6IG51bWJlcikgeyB0aGlzLl9vcGFjaXR5ID0gdmFsOyB9XG5cblxuICAgIGdldCBvbkRlc3Ryb3koKSB7IHJldHVybiB0aGlzLl9vbkRlc3Ryb3k7IH1cblxuICAgIC8qKiBJZiB0aGlzIGlzIHNldCB0byB0cnVlLCBkb0NyZWF0ZSB3aWxsIGJlIHJ1biByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhpc1xuICAgICAqIEdhbWVPYmplY3QgaXMgYWN0aXZlLiBTZXQgdG8gdHJ1ZSB0byBnZXQgaW5hY3RpdmUgb2JqZWN0cyAoZWcuIGNsb3NlZCBmcmFtZXMpXG4gICAgICogdG8gY3JlYXRlIHRoZW1zZWx2ZXMgcmVhZHkgZm9yIHVzZS5cbiAgICAgKi9cbiAgICBnZXQgcHJlY3JlYXRlKCkgeyByZXR1cm4gdGhpcy5fcHJlY3JlYXRlOyB9XG4gICAgc2V0IHByZWNyZWF0ZSh2YWwpIHsgdGhpcy5fcHJlY3JlYXRlID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAqIEFkZCBhIEdhbWVPYmplY3QgaW50byB0aGUgR2FtZU9iamVjdCB0cmVlIGFzIGEgY2hpbGQgb2YgdGhpcyBHYW1lT2JqZWN0LlxuICAgICogVGhpcyBzZXRzIHRoZSBgcGFyZW50YCB2YWx1ZSBmb3IgdGhlIG5ldyBjaGlsZC4gQSBHYW1lT2JqZWN0IHNob3VsZCBvbmx5XG4gICAgKiBldmVyIGJlIHRoZSBjaGlsZCBvZiBhIHNpbmdsZSBHYW1lT2JqZWN0IGF0IGEgdGltZS5cbiAgICAqIEBwYXJhbSBjaGlsZCB0aGUgR2FtZU9iamVjdCB0byBjaGlsZCB0byB0aGlzIG9uZVxuICAgICovXG4gICAgYWRkQ2hpbGQ8VCBleHRlbmRzIEdhbWVPYmplY3Q+KGNoaWxkOiBUKTogVFxuICAgIHtcbiAgICAgICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgICAgICAgdGhpcy5fY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICAgIC8vaWYgKGNoaWxkLnRyYW5zZm9ybSlcbiAgICAgICAgLy8gICAgY2hpbGQudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhc3NldCB3aXRoIHRoZSBwcm92aWRlZCBmaWxlbmFtZSwgd2hpY2ggaXMgb2YgdGhlIGdpdmVuIHR5cGUsXG4gICAgICogaWYgaXQgaGFzIGJlZW4gYWRkZWQgdG8gdGhpcyBHYW1lT2JqZWN0LiBUaGlzIHNob3VsZCBob2xkIHRoZSBsb2FkZWQgYXNzZXRcbiAgICAgKiAoc28gbG9uZyBhcyBpdCBpcyBub3QgY2FsbGVkIGJlZm9yZSBvciBpbnNpZGUgbG9hZCgpKS4gVGhlIFxuICAgICAqIEBwYXJhbSBmaWxlbmFtZSB0aGUgZmlsZW5hbWUgb2YgdGhlIGFzc2V0IHRoYXQgaGFzIGJlZW4gYWRkZWRcbiAgICAgKi9cbiAgICBnZXRBc3NldDxUPihmaWxlbmFtZTogc3RyaW5nKTogVFxuICAgIHtcbiAgICAgICAgbGV0IGFzc2V0c1dpdGhGaWxlbmFtZSA9IHRoaXMuYXNzZXRzLmZpbHRlcih4ID0+IHguZmlsZW5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICAgICAgaWYgKGFzc2V0c1dpdGhGaWxlbmFtZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgcmV0dXJuIGFzc2V0c1dpdGhGaWxlbmFtZVswXS5hc3NldCBhcyBUO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBhc3NldCBmb3VuZCB3aXRoIHRoYXQgbmFtZSBvbiBnYW1lb2JqZWN0XCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogUmVjdXJzaXZlbHkgY2FsbCBgbG9hZGAgb24gdGhpcyBHYW1lT2JqZWN0IGFuZCBpdHMgc3VidHJlZS5cbiAgICAqIEBwYXJhbSBhcmdzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIGxvYWQoKVxuICAgICoqL1xuICAgIGRvTG9hZChpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgaWYgKCEodGhpcy5fcnVuTG9hZCkpXG4gICAgICAgICAgICB0aGlzLl9ydW5Mb2FkID0gdGhpcy5sb2FkKGludGVyZmFjZXMpO1xuICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0xvYWQoaW50ZXJmYWNlcyk7XG4gICAgfVxuXG4gICAgbG9hZChpbnRlcmZhY2VzKTogYm9vbGVhbiB7IHJldHVybiB0cnVlOyB9XG5cbiAgICAvKipcbiAgICAqIEFkZHMgdGhlIHByb3ZpZGVkIGFzc2V0IHRvIHRoaXMgR2FtZU9iamVjdCBpZiBub3QgYSBkdXBsaWNhdGUgZmlsZW5hbWVcbiAgICAqIEBwYXJhbSBhc3NldCB0aGUgYXNzZXQgcHJvdmlkZWQgYnkgdGhlIExvYWRlclxuICAgICoqL1xuICAgIGFkZEFzc2V0PFQ+KGFzc2V0OiBBc3NldDxUPik6IEFzc2V0PFQ+XG4gICAge1xuICAgICAgICBpZiAoYXNzZXQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMuYXNzZXRzLmZpbHRlcih4ID0+IHguZmlsZW5hbWUgPT09IGFzc2V0LmZpbGVuYW1lKS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB0aGlzLmFzc2V0cy5wdXNoKGFzc2V0KTtcbiAgICAgICAgcmV0dXJuIGFzc2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGludGVyZmFjZXMgdG8gcGFzcyB0byBjaGlsZHJlbi4gT3ZlcnJpZGUgdGhpcyBpbiBvcmRlciB0byBhZGRcbiAgICAgKiB0aGluZ3MgdG8gdGhlIGludGVyZmFjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIGludGVyZmFjZXMgXG4gICAgICovXG4gICAgaW50ZXJmYWNlcyhpbnRlcmZhY2VzKSB7IHJldHVybiBpbnRlcmZhY2VzOyB9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGBjcmVhdGVgIHRocm91Z2ggdGhlIHRyZWUgb2YgR2FtZU9iamVjdHMuIElmIGEgR2FtZU9iamVjdHNcbiAgICAqIGhhcyBub3QgYmVlbiBsb2FkZWQgKGllLiBsb2FkKCkgaGFzIG5vdCBiZWVuIHJ1biksIHRoZW4gY2FsbCBsb2FkIGluc3RlYWQuXG4gICAgKiBAcGFyYW0gYXJncyB0aGUgaW50ZXJmYWNlcyB0byBtYWtlIGF2YWlsYWJsZSB0byBsb2FkKClcbiAgICAqL1xuICAgIGRvQ3JlYXRlKGludGVyZmFjZXMpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3J1bkxvYWQpXG4gICAgICAgICAgICB0aGlzLmRvTG9hZChpbnRlcmZhY2VzKTtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY3JlYXRlZFRoaXNSdW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5jcmVhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRUaGlzUnVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZShpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0NyZWF0ZSh0aGlzLmludGVyZmFjZXMoaW50ZXJmYWNlcykpO1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY3JlYXRlZFRoaXNSdW4pXG4gICAgICAgICAgICAgICAgdGhpcy5hZnRlckNyZWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlKGludGVyZmFjZXMpOiB2b2lkIHsgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGRvQ3JlYXRlKCkgaGFzIGJlZW4gY2FsbGVkIG9uIHRoaXMgb2JqZWN0IGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuLlxuICAgICAqIE5vdGUgdGhhdCBjaGlsZHJlbiBtYXkgbm90IGJlIGNyZWF0ZWQgaWYgdGhleSBhcmUgd2FpdGluZyBmb3IgYW4gYXNzZXRzXG4gICAgICogdG8gbG9hZC5cbiAgICAgKi9cbiAgICBhZnRlckNyZWF0ZSgpOiB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGJlZ2luKCkgdGhyb3VnaCB0aGUgdHJlZSBvZiBHYW1lT2JqZWN0cy4gR2FtZU9iamVjdHMgbXVzdFxuICAgICogZmlyc3QgaGF2ZSBiZWVuIGNyZWF0ZWQuIElmIGEgR2FtZU9iamVjdCBoYXMgbm90IGJlZW4gY3JlYXRlZCwgdGhpcyBjYWxsc1xuICAgICogZG9DcmVhdGUoKSB3aGljaCBjYW4gaW4gdHVybiBjYWxsIGRvTG9hZCgpLiBJZiBhIEdhbWVPYmplY3QgaXMgY3JlYXRlZFxuICAgICogaW1tZWRpYXRlbHkgKGllLiB0aGVyZSBpcyBubyBsb2FkIHdhaXQpLCBiZWdpbigpIHdpbGwgYmUgY2FsbGVkIGltbWVkaWF0ZWx5LlxuICAgICpcbiAgICAqIEBwYXJhbSBpbnRlcmZhY2VzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIGJlZ2luKClcbiAgICAqL1xuICAgIGRvQmVnaW4oaW50ZXJmYWNlcyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jcmVhdGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuX3J1bkJlZ2luKGludGVyZmFjZXMpO1xuICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvQ3JlYXRlKGludGVyZmFjZXMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jcmVhdGVkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ydW5CZWdpbihpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9wcmVjcmVhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZG9DcmVhdGUoaW50ZXJmYWNlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9ydW5CZWdpbihpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgdGhpcy5iZWdpbihpbnRlcmZhY2VzKTtcbiAgICAgICAgdGhpcy5fcmFuQmVnaW4gPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0JlZ2luKHRoaXMuaW50ZXJmYWNlcyhpbnRlcmZhY2VzKSk7XG4gICAgfVxuXG4gICAgYmVnaW4oaW50ZXJmYWNlcyk6IHZvaWQgeyB9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIHVwZGF0ZSB0aHJvdWdoIHRoZSB0cmVlIG9mIEdhbWVPYmplY3RzLiBJbiBvcmRlciBmb3JcbiAgICAqIEdhbWVPYmplY3RzIHRvIGJlIHVwZGF0ZWQsIHRoZXkgbXVzdCBoYXZlIGJlZW4gY3JlYXRlZC4gSWYgYSBHYW1lT2JqZWN0c1xuICAgICogaGFzIG5vdCBiZWVuIGNyZWF0ZWQsIHRoaXMgY2FsbHMgZG9DcmVhdGUoKS5cbiAgICAqIEBwYXJhbSBpbnRlcmZhY2VzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIHVwZGF0ZSgpXG4gICAgKi9cbiAgICBkb1VwZGF0ZShpbnRlcmZhY2VzKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybSlcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zZm9ybS51cGRhdGUoKTtcbiAgICAgICAgaWYgKHRoaXMuX3JhbkJlZ2luKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKGxldCBpPXRoaXMuX2NoaWxkcmVuLmxlbmd0aC0xO2k+PTA7aS0tKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbltpXSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZG9VcGRhdGUodGhpcy5pbnRlcmZhY2VzKGludGVyZmFjZXMpKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGludGVyZmFjZXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlKGludGVyZmFjZXMpOiB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGRyYXcgdGhyb3VnaCB0aGUgdHJlZSBvZiBHYW1lT2JqZWN0cy4gSW4gb3JkZXIgZm9yXG4gICAgKiBHYW1lT2JqZWN0cyB0byBiZSBkcmF3biwgdGhleSBtdXN0IGhhdmUgYmVlbiBjcmVhdGVkIGFuZCBiZSB2aXNpYmxlLlxuICAgICogQHBhcmFtIGNvbnRleHQyRCB0aGUgaW50ZXJmYWNlIHRvIGNhbGwgZHJhd2luZyBjb21tYW5kcyB0aHJvdWdoXG4gICAgKi9cbiAgICBkb0RyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdlYkdMPzogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLl9jcmVhdGVkKSAmJiAodGhpcy5fdmlzaWJsZSkgJiYgKHRoaXMuX3RyYW5zZm9ybSkgJiYgKHRoaXMuX29wYWNpdHkgPiAwKSAmJiAodGhpcy5fdHJhbnNmb3JtLmhhc1Bvc2l0aW9uKCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcm90YXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zZm9ybS5yb3RhdGlvbiAlIDIqTWF0aC5QSSAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByb3RhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gdGhpcy5fdHJhbnNmb3JtLmdldERyYXdQb3NpdGlvbigwLjUsMC41KTtcbiAgICAgICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQyRC50cmFuc2xhdGUocG9zLngsIHBvcy55KVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5yb3RhdGUodGhpcy5fdHJhbnNmb3JtLnJvdGF0aW9uKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0MkQudHJhbnNsYXRlKC1wb3MueCwgLXBvcy55KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHN0YXJ0aW5nT3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBpZiAoY29udGV4dDJEKVxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nT3BhY2l0eSA9IHRoaXMuX3NldERyYXdpbmdPcGFjaXR5KGNvbnRleHQyRCk7XG4gICAgICAgICAgICB0aGlzLmRyYXcoY29udGV4dDJELCB3ZWJHTCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTAsIGxlbiA9IHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtpPGxlbjtpKyspXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZG9EcmF3KGNvbnRleHQyRCwgd2ViR0wpO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQyRClcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRpbmdPcGFjaXR5ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQyRC5nbG9iYWxBbHBoYSA9IHN0YXJ0aW5nT3BhY2l0eTtcbiAgICAgICAgICAgIGlmIChyb3RhdGVkKVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9zZXREcmF3aW5nT3BhY2l0eShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX29wYWNpdHkgIT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbCA9IGNvbnRleHQyRC5nbG9iYWxBbHBoYTtcbiAgICAgICAgICAgIGNvbnRleHQyRC5nbG9iYWxBbHBoYSA9IGNvbnRleHQyRC5nbG9iYWxBbHBoYSAqIHRoaXMuX29wYWNpdHk7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIEdhbWVPYmplY3RzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBkcmF3IHRoZW1zZWx2ZXMgdG8gdGhlXG4gICAgKiBwcm92aWRlZCBkcmF3aW5nIGNvbnRleHQuIFRoaXMgaXMgY2FsbGVkIG9uY2UgcGVyIGZyYW1lIG9uIGFsbCBjcmVhdGVkXG4gICAgKiBHYW1lT2JqZWN0cyB0aGF0IGFyZSBub3QgdmlzaWJsZSAob3IgdGhlIGRlc2VuZGFudCBvZiBhIHZpc2libGUgR2FtZU9iamVjdCkuXG4gICAgKiovXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2ViR0w/OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpOiB2b2lkIHt9XG5cbiAgICAvKipcbiAgICAqIFJlY3Vyc2l2ZWx5IGNhbGxzIGVuZCB0aHJvdWdoIHRoZSB0cmVlIG9mIEdhbWVPYmplY3RzLiBPbmx5IEdhbWVPYmplY3RzXG4gICAgKiB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIGhhdmUgZW5kIGNhbGxlZC5cbiAgICAqIEBwYXJhbSBhcmdzIHRoZSBpbnRlcmZhY2VzIHRvIG1ha2UgYXZhaWxhYmxlIHRvIGVuZCgpXG4gICAgKi9cbiAgICBkb0VuZChpbnRlcmZhY2VzKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JhbkJlZ2luKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmVuZChpbnRlcmZhY2VzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2hpbGRyZW4ubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGlsZHJlbltpXS5kb0VuZCh0aGlzLmludGVyZmFjZXMoaW50ZXJmYWNlcykpO1xuICAgICAgICAgICAgdGhpcy5fcmFuQmVnaW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZChpbnRlcmZhY2VzKTogdm9pZCB7fVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGUgdGhhdCBhbnkgYnVmZmVyZWQgcmVuZGVycyB0aGF0IGluY2x1ZGUgdGhpcyBHYW1lT2JqZWN0IGFyZSBvdXRkYXRlZCBhbmRcbiAgICAgKiBkcmF3KCkgc2hvdWxkIGJlIGNhbGxlZC4gVGhpcyBpcyBwYXNzZWQgdXAgdGhlIGhlaXJhcmNoeSBhbmQgb25seSBhY3RlZCB1cG9uIGJ5XG4gICAgICogR2FtZU9iamVjdHMgdGhhdCBtYW5hZ2UgcmVuZGVyaW5nIGNvbnRleHRzLlxuICAgICAqL1xuICAgIHJlcXVlc3REcmF3KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlKVxuICAgICAgICAgICAgaWYgKHRoaXMuX3BhcmVudClcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmRyYXdDdWxsZWQpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnQucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBvYmplY3Qgc2hvdWxkIGJlIGRyYXdDdWxsZWQsIGllLiBub3QgZHJhd24vbm90IGZpcmUgcmVxdWVzdERyYXdzXG4gICAgICogYmVjYXVzZSBpdCBkb2VzIG5vdCBvdmVybGFwIGl0J3MgcGFyZW50LiBUbyBjaGFuZ2UgdGhpcyBiZWhhdmlvdXIgQHNlZSBpZ25vcmVEcmF3Q3VsbFxuICAgICAqL1xuICAgIGdldCBkcmF3Q3VsbGVkKCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmlnbm9yZURyYXdDdWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoKHRoaXMuX3RyYW5zZm9ybSkgJiYgKHRoaXMuX3BhcmVudCkgJiYgKHRoaXMuX3BhcmVudC5jcmVhdGVkKSAmJiAodGhpcy5fcGFyZW50LnRyYW5zZm9ybSkpXG4gICAgICAgICAgICByZXR1cm4gIShUcmFuc2Zvcm0ub3ZlcmxhcHModGhpcy5fdHJhbnNmb3JtLCB0aGlzLl9wYXJlbnQudHJhbnNmb3JtKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCeSBkZWZhdWx0IG9iamVjdHMgYXJlIERyYXdDdWxsZWQ6IHRoZXkgYXJlIG9ubHkgZHJhd24gd2hlbiB0aGV5IG92ZXJsYXBcbiAgICAgKiB0aGVpciBwYXJlbnQgR2FtZU9iamVjdCdzIFRyYW5zZm9ybS4gQHNlZSBkcmF3Q3VsbGVkLiBTZXQgaWdub3JlRHJhd0N1bGwgdG8gdHJ1ZSB0byBvdmVycmlkZSB0aGlzXG4gICAgICogYmVoYXZpb3VyLlxuICAgICAqL1xuICAgIGdldCBpZ25vcmVEcmF3Q3VsbCgpIHsgcmV0dXJuIHRoaXMuX2lnbm9yZURyYXdDdWxsOyB9XG4gICAgc2V0IGlnbm9yZURyYXdDdWxsKHZhbCkgeyB0aGlzLl9pZ25vcmVEcmF3Q3VsbCA9IHZhbDsgfVxuXG4gICAgLyoqXG4gICAgKiBSZW1vdmVzIHRoaXMgR2FtZU9iamVjdCBmcm9tIGl0cyBwYXJlbnQgaW4gdGhlIEdhbWVPYmplY3QgdHJlZS5cbiAgICAqL1xuICAgIHJlcXVlc3RSZW1vdmFsKCk6IHZvaWQgeyB0aGlzLl9wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7IH1cblxuICAgIC8qKlxuICAgICogUmVtb3ZlcyBhIGNoaWxkIEdhbWVPYmplY3QgZnJvbSB0aGlzIEdhbWVPYmplY3Qgc28gdGhhdCB0aGUgY2hpbGQgaXMgbm9cbiAgICAqIGxvbmdlciBpbiB0aGUgR2FtZU9iamVjdCB0cmVlIGFuZCBjYWxscyBgZGVzdHJveWAgb24gaXQuXG4gICAgKiBAcGFyYW0gY2hpbGQgdGhlIEdhbWVPYmplY3QgdG8gcmVtb3ZlLCB3aGljaCBtdXN0IGJlIGEgY2hpbGQgb2YgVGhpc1xuICAgICogR2FtZU9iamVjdC5cbiAgICAqL1xuICAgIHJlbW92ZUNoaWxkKGNoaWxkOiBHYW1lT2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5fY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICB0aGlzLl9jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBjaGlsZC5kb0Rlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBkb0Rlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaT0wLCBsZW4gPSB0aGlzLl9jaGlsZHJlbi5sZW5ndGg7aTxsZW47aSsrKVxuICAgICAgICAgICAgdGhpcy5fY2hpbGRyZW5baV0uZG9EZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLl90cmFuc2Zvcm0pXG4gICAgICAgICAgICB0aGlzLl90cmFuc2Zvcm0uZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fb25EZXN0cm95LmNhbGwoKTtcbiAgICB9XG4gICAgXG4gICAgZGVzdHJveSgpIHsgfVxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gIGZyb20gXCIuL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCB7IFBvbHlTaGFwZSwgUG9seVJlY3QgfSBmcm9tIFwiLi91dGlsL1BvbHlTaGFwZVwiO1xuXG4vKipcbiAqIEEgVHJhbnNmb3JtIHJlcHJlc2VudHMgdGhlIGdhbWUtd29ybGQgZXh0ZW5zaW9uIG9mIGEgR2FtZU9iamVjdCwgaW5jbHVkaW5nIGV2ZXJ5dGhpbmdcbiAqIHJlcXVpcmVkIHRvIGtub3cgd2hlcmUgaXQgaXMgYW5kIHdoYXQgYXJlYSBpdCBvY2N1cGllcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhbnNmb3JtXG57XG4gICAgcHJvdGVjdGVkIF9nYW1lT2JqZWN0OiBHYW1lT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfcG9zaXRpb246IFBvc2l0aW9uO1xuICAgIHByb3RlY3RlZCBfYm91bmRzOiBCb3VuZHM7XG5cbiAgICBwcml2YXRlIF9maXhlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgcHJpdmF0ZSBfcG9zaXRpb25pbmdEaXJ0eTogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9yb3RhdGlvbjogbnVtYmVyID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiBhIFBvc2l0aW9uIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIHRoaXMgVHJhbnNmb3JtXG4gICAgICogaW4gdGhlIGdhbWUgd29ybGQuXG4gICAgICogQHBhcmFtIGJvdW5kcyBhIEJvdW5kcyBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBib3VuZGluZyBzaXplIG9mIHRoaXMgVHJhbnNmb3JtXG4gICAgICogaW4gdGhlIGdhbWUgd29ybGQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IGJvdW5kcztcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24pXG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi50cmFuc2Zvcm0gPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5ib3VuZHMpXG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMudHJhbnNmb3JtID0gdGhpcztcblxuICAgICAgICBpZiAoKCF0aGlzLmJvdW5kcykgJiYgKHRoaXMucG9zaXRpb24pKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBnYW1lIG9iamVjdCB3aXRoIGEgbm9uLW51bGwgUG9zaXRpb24gbXVzdCBoYXZlIGEgbm9uLW51bGwgQm91bmRzXCIpO1xuICAgIH1cblxuICAgIGdldCBnYW1lT2JqZWN0KCkgeyByZXR1cm4gdGhpcy5fZ2FtZU9iamVjdDsgfVxuICAgIHNldCBnYW1lT2JqZWN0KHZhbCkgeyB0aGlzLl9nYW1lT2JqZWN0ID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAqIFRoZSBQb3NpdGlvbiByZXByZXNlbnRpbmcgdGhlIGxvY2F0aW9uIG9mIHRoZSBHYW1lT2JqZWN0IGluIHRoZSBnYW1lIHNwYWNlLlxuICAgICovXG4gICAgZ2V0IHBvc2l0aW9uKCk6IFBvc2l0aW9uIHsgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uOyB9XG4gICAgXG4gICAgLyoqXG4gICAgKiBUaGUgQm91bmRzIHJlcHJlc2VudGluZyB0aGUgYm91bmRpbmcgc2l6ZSBvZiB0aGUgR2FtZU9iamVjdC5cbiAgICAqL1xuICAgIGdldCBib3VuZHMoKTogQm91bmRzIHsgcmV0dXJuIHRoaXMuX2JvdW5kczsgfVxuXG4gICAgZ2V0IGZpeGVkKCkgeyByZXR1cm4gdGhpcy5fZml4ZWQ7IH1cbiAgICBzZXQgZml4ZWQodmFsKSB7IHRoaXMuX2ZpeGVkID0gdmFsOyB9XG5cbiAgICBnZXQgcG9zaXRpb25pbmdEaXJ0eSgpIHsgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uaW5nRGlydHk7IH1cbiAgICBwb3NpdGlvbmluZ0lzRGlydHkoKSB7IHRoaXMuX3Bvc2l0aW9uaW5nRGlydHkgPSB0cnVlOyB9XG5cbiAgICBnZXQgcGFyZW50KCk6IFRyYW5zZm9ybVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU9iamVjdClcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVPYmplY3QucGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdhbWVPYmplY3QucGFyZW50LnRyYW5zZm9ybTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0IHJvdGF0aW9uKCkgeyByZXR1cm4gdGhpcy5fcm90YXRpb247IH1cbiAgICBzZXQgcm90YXRpb24odmFsKSB7IHRoaXMuX3JvdGF0aW9uID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGNhbm9uaWNhbCAoaWUuIG5vdCB0aGUgZHJhdykgcG9zaXRpb24gb2YgdGhlIHRvcCBsZWZ0IG9mIHRoZSB0cmFuc2Zvcm0uXG4gICAgICogT3B0aW9uYWxseSBhY2NlcHRzIGFuIGFuY2hvciBpbiB0aGUgZm9ybSBvZiB0aGUgcG9pbnQuIElmIHNldCwgd2lsbCByZXR1cm4gdGhlIHBvc2l0aW9uXG4gICAgICogb2YgdGhlIGFuY2hvci4gKDAsMCkgaXMgdG9wIGxlZnQuICgxLDEpIGlzIGJvdHRvbSByaWdodC5cbiAgICAgKiBAcGFyYW0gcG9pbnRcbiAgICAgKi9cbiAgICBnZXRDYW5vbmljYWxQb3NpdGlvbihwb2ludD86IFBvaW50IHwgbnVtYmVyLCB5PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghcG9pbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24uYWJzb2x1dGVQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgdGwgPSB0aGlzLnBvc2l0aW9uLmFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgICAgICAgICAgbGV0IGRpbSA9IHRoaXMuYm91bmRzLmRpbWVuc2lvbjtcblxuICAgICAgICAgICAgICAgIGlmIChwb2ludCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRsLnggKyBkaW0ud2lkdGgqcG9pbnQueCwgdGwueSArIGRpbS5oZWlnaHQqcG9pbnQueSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRsLnggKyBkaW0ud2lkdGgqcG9pbnQsIHRsLnkgKyBkaW0uaGVpZ2h0KnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGdldERyYXdQb3NpdGlvbihwb2ludD86IFBvaW50IHwgbnVtYmVyLCB5PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghcG9pbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB0bCA9IHRoaXMucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICAgICAgICAgIGxldCBkaW0gPSB0aGlzLmJvdW5kcy5kaW1lbnNpb247XG5cbiAgICAgICAgICAgICAgICBpZiAocG9pbnQgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0bC54ICsgZGltLndpZHRoKnBvaW50LngsIHRsLnkgKyBkaW0uaGVpZ2h0KnBvaW50LnkpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0bC54ICsgZGltLndpZHRoKnBvaW50LCB0bC55ICsgZGltLmhlaWdodCp5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBnZXREaW1lbnNpb24oKSB7IHJldHVybiB0aGlzLmJvdW5kcy5kaW1lbnNpb247IH1cblxuICAgIHNldEdhbWVPYmplY3QodmFsKSB7IHRoaXMuZ2FtZU9iamVjdCA9IHZhbDsgfVxuXG4gICAgaGFzUG9zaXRpb24oKSB7IHJldHVybiB0aGlzLnBvc2l0aW9uICE9PSBudWxsOyB9XG5cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLnBvc2l0aW9uaW5nRGlydHkpIHx8ICghKHRoaXMuZml4ZWQpKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucG9zaXRpb24pXG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5jaGVja0ZvclVwZGF0ZWRUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kcylcbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kcy5jaGVja0ZvclVwZGF0ZWREaW1lbnNpb25zKCk7XG4gICAgICAgICAgICB0aGlzLl9wb3NpdGlvbmluZ0RpcnR5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWN1cnNpdmVseSBjYWxsZWQgdGhyb3VnaCBkZXNjZW5kYW50cyB0byBzYXkgdGhhdCB0aGUgdHJhbnNmb3JtIG9mIHRoaXNcbiAgICAgKiBvciBhIHBhcmVudCBHYW1lT2JqZWN0IGhhcyBjaGFuZ2VkLiBXaGVuIHRoZSBkaW1lbnNpb24gb2YgYSBwYXJlbnQncyBib3VuZHNcbiAgICAgKiBoYXMgY2hhbmdlZCBpdCBtZWFucyB0aGF0IHRoZSBkaW1lbnNpb24gb2YgdGhlIGNoaWxkIG1heSBoYXZlIGNoYW5nZWQgYW5kIHRodXNcbiAgICAgKiBuZWVkcyB0byBiZSByZWNhbGN1bGF0ZWQuXG4gICAgICovXG4gICAgcmVjYWxjdWxhdGUoZXhjbHVkZURyYXdDYWNoZT86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcG9zaXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uLmFic29sdXRlQ2FjaGVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIShleGNsdWRlRHJhd0NhY2hlKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbi5kcmF3Q2FjaGVEaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2JvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmdhbWVPYmplY3QuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIShleGNsdWRlRHJhd0NhY2hlKSlcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QucmVxdWVzdERyYXcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmdhbWVPYmplY3QuY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7IGlmIChjaGlsZC50cmFuc2Zvcm0pIGNoaWxkLnRyYW5zZm9ybS5yZWNhbGN1bGF0ZShleGNsdWRlRHJhd0NhY2hlKSB9ICk7XG4gICAgfVxuXG4gICAgc3RhdGljIG92ZXJsYXBzKGE6IFRyYW5zZm9ybSwgYjogVHJhbnNmb3JtKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IGFQb3M7XG4gICAgICAgIGxldCBiUG9zO1xuICAgICAgICBpZihhLnBvc2l0aW9uKVxuICAgICAgICAgICAgYVBvcyA9IGEuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYVBvcyA9IG5ldyBQb2ludCgwLDApO1xuXG4gICAgICAgIGlmIChiLnBvc2l0aW9uKVxuICAgICAgICAgICAgYlBvcyA9IGIuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBiUG9zID0gbmV3IFBvaW50KDAsMCk7XG5cbiAgICAgICAgbGV0IGFEaW0gPSBhLmdldERpbWVuc2lvbigpO1xuICAgICAgICBsZXQgYkRpbSA9IGIuZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIGxldCB4ID0gZmFsc2U7XG4gICAgICAgIGxldCB5ID0gZmFsc2U7XG4gICAgICAgIGlmICgoYVBvcy54ID49IGJQb3MueCkgJiYgKGFQb3MueCA8PSBiUG9zLnggKyBiRGltLndpZHRoKSlcbiAgICAgICAgICAgIHggPSB0cnVlO1xuICAgICAgICBpZiAoKGFQb3MueCA8PSBiUG9zLngpICYmIChhUG9zLnggKyBhRGltLndpZHRoID49IGJQb3MueCkpXG4gICAgICAgICAgICB4ID0gdHJ1ZTtcbiAgICAgICAgaWYgKChhUG9zLnkgPj0gYlBvcy55KSAmJiAoYVBvcy55IDw9IGJQb3MueSArIGJEaW0uaGVpZ2h0KSlcbiAgICAgICAgICAgIHkgPSB0cnVlO1xuICAgICAgICBpZiAoKGFQb3MueSA8PSBiUG9zLnkpICYmIChhUG9zLnkgKyBhRGltLmhlaWdodCA+PSBiUG9zLnkpKVxuICAgICAgICAgICAgeSA9IHRydWU7XG4gICAgICAgIHJldHVybiB4ICYmIHk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNvbnRhaW5zKGE6IFRyYW5zZm9ybSwgYjogVHJhbnNmb3JtKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgbGV0IGFQb3MgPSBhLmdldENhbm9uaWNhbFBvc2l0aW9uKCk7XG4gICAgICAgIGxldCBiUG9zID0gYi5nZXRDYW5vbmljYWxQb3NpdGlvbigpO1xuICAgICAgICBsZXQgYURpbSA9IGEuZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIGxldCBiRGltID0gYi5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgbGV0IHggPSBmYWxzZTtcbiAgICAgICAgbGV0IHkgPSBmYWxzZTtcbiAgICAgICAgaWYgKChiUG9zLnggPj0gYVBvcy54KSAmJiAoYlBvcy54ICsgYkRpbS53aWR0aCA8PSBhUG9zLnggKyBhRGltLndpZHRoKSlcbiAgICAgICAgICAgIHggPSB0cnVlO1xuICAgICAgICBpZiAoKGJQb3MueSA+PSBhUG9zLnkpICYmIChiUG9zLnkgKyBiRGltLndpZHRoIDw9IGFQb3MueSArIGFEaW0uaGVpZ2h0KSlcbiAgICAgICAgICAgIHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4geCAmJiB5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdXBwbGllZCBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhpc1xuICAgICogZ2FtZSBvYmplY3QgaW4gdGhlIGdhbWUgc3BhY2UuXG4gICAgKi9cbiAgICBjb250YWluc1BvaW50KHBvaW50OiBQb2ludCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGxldCBvZmZzZXQgID0gdGhpcy5wb3NpdGlvbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICBsZXQgZGltZW5zaW9uID0gdGhpcy5ib3VuZHMuZGltZW5zaW9uO1xuICAgICAgICByZXR1cm4gVHJhbnNmb3JtLmluRGltZW5zaW9uKHBvaW50LCBkaW1lbnNpb24sIG9mZnNldCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHMpXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5kZXN0cm95KCk7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGluRGltZW5zaW9uKHBvaW50OiBQb2ludCwgZGltZW5zaW9uOiBEaW1lbnNpb24sIG9mZnNldDogUG9pbnQpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoKHBvaW50LnggPj0gb2Zmc2V0LngpICYmIChwb2ludC55ID49IG9mZnNldC55KSlcbiAgICAgICAgICAgIGlmICgocG9pbnQueCA8PSBvZmZzZXQueCArIGRpbWVuc2lvbi53aWR0aCkgJiYgKHBvaW50LnkgPD0gb2Zmc2V0LnkgKyBkaW1lbnNpb24uaGVpZ2h0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgcG9seXNoYXBlIGFuZCByZXR1cm5zIGEgcG9seXNoYXBlIHRoYXQgaGFzIGJlZW4gdHJhbnNsYXRlZCBieSB0aGUgcG9zaXRpb24gb2YgdGhpcyB0cmFuc2Zvcm0gYW5kXG4gICAgICogc2NhbGVkIGJ5IHRoZSBkaW1lbnNpb25zIG9mIHRoaXMgdHJhbnNmb3JtLiBTbyBhIGNvb3JkIG9mICgwLDApIGluIHRoZSBwb2x5c2hhcGUgYmVjb21lcyB0aGUgY2Fub25pY2FsXG4gICAgICogcG9zaXRpb24gb2YgdGhlIHRvcCBsZWZ0IG9mIHRoZSB0cmFuc2Zvcm0sIGFuZCBhIGNvb3JkIG9mICgxLDEpIGJlY29tZXMgdGhlIGNhbm9uaWNhbCBwb3NpdGlvbiBvZiB0aGVcbiAgICAgKiBib3R0b20gcmlnaHQgb2YgdGhlIHRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0gcG9seXNoYXBlXG4gICAgICogQHJldHVybnMgYSBwb2x5c2hhcGUgb2YgdGhlIHNhbWUgdHlwZVxuICAgICAqL1xuICAgIGNvbnRleHR1YWxpc2VQb2x5c2hhcGU8VCBleHRlbmRzIFBvbHlTaGFwZT4ocG9seXNoYXBlOiBUKTogVFxuICAgIHtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMuZ2V0RGltZW5zaW9uKCk7XG4gICAgICAgIGxldCBwb2ludHMgPSBbXTtcbiAgICAgICAgbGV0IHggPSB0cnVlO1xuICAgICAgICBwb2x5c2hhcGUucG9pbnRzLmZvckVhY2gocCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKG5ldyBQb2ludChwLnggKiBkaW0ud2lkdGggKyBwb3MueCwgcC55KmRpbS5oZWlnaHQgKyBwb3MueSkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgbGV0IHAgPSBwb2x5c2hhcGUuY2xvbmUocG9pbnRzKVxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICBnZXRDYW5vbmljYWxSZWN0KCk6IFBvbHlSZWN0XG4gICAge1xuICAgICAgICBsZXQgcG9zID0gdGhpcy5nZXRDYW5vbmljYWxQb3NpdGlvbigpO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2x5UmVjdChbbmV3IFBvaW50KHBvcy54LCBwb3MueSksIG5ldyBQb2ludChwb3MueCtkaW0ud2lkdGgsIHBvcy55KSwgbmV3IFBvaW50KHBvcy54K2RpbS53aWR0aCwgcG9zLnkrZGltLmhlaWdodCksIG5ldyBQb2ludChwb3MueCwgcG9zLnkrZGltLmhlaWdodCldKVxuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgeyB0b3RhbG1lbSwgbG9hZGF2ZyB9IGZyb20gXCJvc1wiO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgVHJlZVV0aWxzXG57XG4gICAgLyoqXG4gICAgKiBSZWN1cnNpdmVseSBzZWFjaCB0aHJvdWdoIHRoaXMgR2FtZU9iamVjdCBzdWJ0cmVlIGFuZCByZXR1cm4gYSBsaXN0IG9mXG4gICAgKiBHYW1lT2JqZWN0cyB0aGF0IGFyZSBhbiBpbnN0YW5jZSBvZiB0aGUgcHJvdmlkZSB0eXBlXG4gICAgKiBAcGFyYW0gdHlwZSBhIGxpc3Qgb2YgR2FtZU9iamVjdHMgb2YgdGhpcyB0eXBlIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAqL1xuICAgIHN0YXRpYyBmaW5kQ2hpbGRyZW5PZlR5cGUocGFyZW50OiBHYW1lT2JqZWN0LCB0eXBlLCByZWN1cnNpdmU6IGJvb2xlYW4pOiBHYW1lT2JqZWN0W11cbiAgICB7XG4gICAgICAgIHJlY3Vyc2l2ZSA9IHJlY3Vyc2l2ZSB8fCBmYWxzZTtcbiAgICAgICAgbGV0IHJlc3VsdHM6IEdhbWVPYmplY3RbXSA9IFtdO1xuICAgICAgICBmb3IobGV0IGk9MDtpPHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocGFyZW50LmNoaWxkcmVuW2ldIGluc3RhbmNlb2YgdHlwZSlcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocGFyZW50LmNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIGlmIChyZWN1cnNpdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkUmVzdWx0ID0gVHJlZVV0aWxzLmZpbmRDaGlsZHJlbk9mVHlwZShwYXJlbnQuY2hpbGRyZW5baV0sdHlwZSwgcmVjdXJzaXZlKTtcbiAgICAgICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5jb25jYXQoY2hpbGRSZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IHNlYWNoIHRocm91Z2ggdGhpcyBHYW1lT2JqZWN0IHN1YnRyZWUgYW5kIHJldHVybiBhIGxpc3Qgb2ZcbiAgICAgKiBHYW1lT2JqZWN0cyB0aGF0IGhhdmUgYSBwcm92aWRlZCBuYW1lLlxuICAgICAqIEBwYXJhbSBuYW1lIGEgbGlzdCBvZiBHYW1lT2JqZWN0cyB3aXRoIHRoaXMgbmFtZSB3aWxsIGJlIHJldHVybmVkXG4gICAgICovXG4gICAgc3RhdGljIGZpbmRDaGlsZHJlbldpdGhOYW1lKHBhcmVudDogR2FtZU9iamVjdCwgbmFtZTogc3RyaW5nLCByZWN1cnNpdmU6IGJvb2xlYW4pOiBHYW1lT2JqZWN0W11cbiAgICB7XG4gICAgICAgIHJlY3Vyc2l2ZSA9IHJlY3Vyc2l2ZSB8fCBmYWxzZTtcbiAgICAgICAgbGV0IHJlc3VsdHM6IEdhbWVPYmplY3RbXSA9IFtdO1xuICAgICAgICBmb3IobGV0IGk9MDtpPHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoKHBhcmVudC5jaGlsZHJlbltpXS5uYW1lKSAmJiAocGFyZW50LmNoaWxkcmVuW2ldLm5hbWUgPT09IG5hbWUpKVxuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChwYXJlbnQuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgaWYgKHJlY3Vyc2l2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRSZXN1bHQgPSBUcmVlVXRpbHMuZmluZENoaWxkcmVuV2l0aE5hbWUocGFyZW50LmNoaWxkcmVuW2ldLG5hbWUsIHJlY3Vyc2l2ZSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuY29uY2F0KGNoaWxkUmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG5cbiAgICBzdGF0aWMgbW92ZUNoaWxkVG9GaXJzdChwYXJlbnQ6IEdhbWVPYmplY3QsIGNoaWxkOiBHYW1lT2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCksIDEpO1xuICAgICAgICBwYXJlbnQuY2hpbGRyZW4udW5zaGlmdChjaGlsZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1vdmVDaGlsZFRvTGFzdChwYXJlbnQ6IEdhbWVPYmplY3QsIGNoaWxkOiBHYW1lT2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCksIDEpO1xuICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHN1YnRyZWVMb2FkU3RhdHMocm9vdDogR2FtZU9iamVjdCk6IFN1YnRyZWVMb2FkU3RhdHNcbiAgICB7XG4gICAgICAgIGxldCByID0gVHJlZVV0aWxzLl9zdWJ0cmVlTG9hZFN0YXRzSW5uZXIocm9vdCk7XG4gICAgICAgIHJldHVybiBuZXcgU3VidHJlZUxvYWRTdGF0cyhyWzBdLCByWzFdLCByWzJdLCByWzNdKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHN0YXRpYyBfc3VidHJlZUxvYWRTdGF0c0lubmVyKHJvb3Q6IEdhbWVPYmplY3QpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgbGV0IHRvdGFsID0gMTtcbiAgICAgICAgbGV0IGxvYWRlZCA9IHJvb3QubG9hZGVkID8gMSA6IDA7XG4gICAgICAgIGxldCBhc3NldHNUb3RhbCA9IHJvb3QuYXNzZXRzLmxlbmd0aDtcbiAgICAgICAgbGV0IGFzc2V0c0xvYWRlZCA9IHJvb3QuYXNzZXRzLmZpbHRlcihhID0+IGEubG9hZGVkKS5sZW5ndGg7XG4gICAgICAgIHJvb3QuY2hpbGRyZW4uZm9yRWFjaChjID0+IFxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBsZXQgciA9IFRyZWVVdGlscy5fc3VidHJlZUxvYWRTdGF0c0lubmVyKGMpO1xuICAgICAgICAgICAgICAgIHRvdGFsICs9IHJbMF07XG4gICAgICAgICAgICAgICAgbG9hZGVkICs9IHJbMV07XG4gICAgICAgICAgICAgICAgYXNzZXRzVG90YWwgKz0gclsyXTtcbiAgICAgICAgICAgICAgICBhc3NldHNMb2FkZWQgKz0gclszXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW3RvdGFsLCBsb2FkZWQsIGFzc2V0c1RvdGFsLCBhc3NldHNMb2FkZWRdO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1YnRyZWVMb2FkU3RhdHNcbntcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIGxvYWRlZDogbnVtYmVyO1xuICAgIGFzc2V0c1RvdGFsOiBudW1iZXI7XG4gICAgYXNzZXRzTG9hZGVkOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0b3RhbDogbnVtYmVyLCBsb2FkZWQ6IG51bWJlciwgYXNzZXRzVG90YWw6IG51bWJlciwgYXNzZXRzTG9hZGVkOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnRvdGFsID0gdG90YWw7XG4gICAgICAgIHRoaXMubG9hZGVkID0gbG9hZGVkO1xuICAgICAgICB0aGlzLmFzc2V0c1RvdGFsID0gYXNzZXRzVG90YWw7XG4gICAgICAgIHRoaXMuYXNzZXRzTG9hZGVkID0gYXNzZXRzTG9hZGVkO1xuICAgIH1cblxuICAgIGdldCBwcm9wb3J0aW9uKCkgeyByZXR1cm4gdGhpcy5sb2FkZWQvdGhpcy50b3RhbDsgfVxuICAgIGdldCBhc3NldHNQcm9wb3J0aW9uKCkgeyByZXR1cm4gdGhpcy5hc3NldHNMb2FkZWQvdGhpcy5hc3NldHNUb3RhbDsgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDbGlwIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByaXZhdGUgX3NldENsaXA6IChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdm9pZDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHNldENsaXA/OiAoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHZvaWQpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fc2V0Q2xpcCA9IHNldENsaXA7XG4gICAgfVxuXG4gICAgc2V0IHNldENsaXAodmFsKSB7IHRoaXMuX3NldENsaXAgPSB2YWw7IH1cbiAgICBcbiAgICBkb0RyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICB0aGlzLl9zZXRDbGlwKGNvbnRleHQyRCk7XG4gICAgICAgIHN1cGVyLmRvRHJhdyhjb250ZXh0MkQpO1xuICAgICAgICBjb250ZXh0MkQucmVzdG9yZSgpO1xuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuXG4vKipcbiAqIFRoZSBDb21wb25lbnQgYSBraW5kIG9mIEdhbWVPYmplY3QgdGhhdCBjYW4gYmUgY29udHJvbGxlZCBpbmRpcmVjdGx5XG4gKiB0aHJvdWdoIGEgQHNlZSBDb21wb25lbnRMaXN0ZW5lciBhbmQgYSBAc2VlIENvbXBvbmVudENvbnRyb2xsZXIuIENvbXBvbmVudHMgYXJlXG4gKiB0byBsZXQgb25lIHRpZ2h0bHktY291cGxlZCBzdWJ0cmVlIG9mIEdhbWVPYmplY3RzIHRvIGludGVyYWN0IHdpdGhcbiAqIGFub3RoZXIgd2l0aCBtaW5pbWFsIGNvdXBsaW5nLiBCZWNhdXNlIG9ubHkgdGhlIGxpc3RlbmVyIGFuZCBjb250cm9sbGVyXG4gKiAod2hpY2ggY2FuIGJlIGdyb3VwZWQgYXMgYSBAc2VlIENvbXBvbmVudEludGVyZmFjZSkgbmVlZCB0byBiZSBwYXNzZWQgYXJvdW5kLFxuICogdGhlIENvbXBvbmVudCBpdHNlbGYgY2FuIGJlIGRlc3Ryb3llZCwgYW5kIGV2ZW4gcmVwbGFjZWQgd2l0aCBhbm90aGVyIGNvbXBhdGFibGVcbiAqIENvbXBvbmVudC5cbiAqIFxuICogRm9yIGV4YW1wbGUsIGEgdXNlciBpbnRlcmZhY2UgcGFuZWwgbWF5IGJlIGltcGxlbWVudGVkIGFzIGEgQ29tcG9uZW50IHdoaWNoXG4gKiBjb250YWlucyBhIHN1YnRyZWUgb2YgbWFueSBHYW1lT2JqZWN0cyBjb250cm9sbGluZyBob3cgaXQgaXMgZHJhd24sIHVwZGF0ZWQsXG4gKiBldGMuIFRoZSBDb21wb25lbnQsIHRocm91Z2ggaXRzIGxpc3RuZXIgYW5kIGNvbnRyb2xsZXIgb2ZmZXJzIGEgc2V0IG9mIGV2ZW50c1xuICogdGhhdCBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBjb21wb25lbnQgYW5kIHJlY2lldmUgc2lnbmFscyBiYWNrIGZyb20gaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21wb25lbnQ8TCBleHRlbmRzIENvbXBvbmVudExpc3RlbmVyLCBDIGV4dGVuZHMgQ29tcG9uZW50Q29udHJvbGxlcj4gZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkNvbXBvbmVudFwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX2xpc3RlbmVyOiBMO1xuICAgIHByb3RlY3RlZCBfY29udHJvbGxlcjogQztcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBsaXN0ZW5lcjogTCwgY29udHJvbGxlcjogQylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG5cbiAgICBhZnRlckNyZWF0ZSgpIHsgdGhpcy5saW5rKHRoaXMuY29udHJvbGxlcik7IH1cblxuICAgIGdldCBsaXN0ZW5lcigpOiBMIHsgcmV0dXJuIHRoaXMuX2xpc3RlbmVyOyB9XG4gICAgZ2V0IGNvbnRyb2xsZXIoKTogQyB7IHJldHVybiB0aGlzLl9jb250cm9sbGVyOyB9XG5cbiAgICBkZXN0cm95KCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy51bmxpbmsodGhpcy5jb250cm9sbGVyKTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3lGcm9tQ29udHJvbGxlcigpXG4gICAge1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgfVxuXG4gICAgbGluayhjb250cm9sbGVyOiBDKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29udHJvbGxlci5vbkRlc3Ryb3kucHVzaCh0aGlzLmRlc3Ryb3kuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdW5saW5rKGNvbnRyb2xsZXI6IEMpOiB2b2lkXG4gICAge1xuICAgICAgICBjb250cm9sbGVyLm9uRGVzdHJveS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBuZXdJbnRlcmZhY2UoKTogQ29tcG9uZW50SW50ZXJmYWNlPENvbXBvbmVudExpc3RlbmVyLCBDb21wb25lbnRDb250cm9sbGVyPiB7IHJldHVybiBuZXcgQ29tcG9uZW50SW50ZXJmYWNlKG5ldyBDb21wb25lbnRMaXN0ZW5lcigpLCBuZXcgQ29tcG9uZW50Q29udHJvbGxlcigpKTsgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50TGlzdGVuZXIge31cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudENvbnRyb2xsZXIgaW1wbGVtZW50cyBJdGVyYXRvcjxFdmVudD5cbntcbiAgICBwcml2YXRlIF9jb3VudGVyID0gMDtcbiAgICBwcm90ZWN0ZWQgX29uRGVzdHJveSA9IG5ldyBFdmVudCgpO1xuXG4gICAgZ2V0IG9uRGVzdHJveSgpIHsgcmV0dXJuIHRoaXMuX29uRGVzdHJveTsgfVxuXG4gICAgbmV4dCgpOiBJdGVyYXRvclJlc3VsdDxFdmVudD4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogdGhpcy5vbkRlc3Ryb3lcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudEludGVyZmFjZTxMIGV4dGVuZHMgQ29tcG9uZW50TGlzdGVuZXIsIEMgZXh0ZW5kcyBDb21wb25lbnRDb250cm9sbGVyPlxue1xuICAgIHByb3RlY3RlZCBfbGlzdGVuZXI6IEw7XG4gICAgcHJvdGVjdGVkIF9jb250cm9sbGVyOiBDO1xuXG4gICAgY29uc3RydWN0b3IobGlzdGVuZXI6IEwsIGNvbnRyb2xsZXI6IEMpXG4gICAge1xuICAgICAgICB0aGlzLl9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG5cbiAgICBnZXQgbGlzdGVuZXIoKTogTCB7IHJldHVybiB0aGlzLl9saXN0ZW5lcjsgfVxuICAgIGdldCBjb250cm9sbGVyKCk6IEMgeyByZXR1cm4gdGhpcy5fY29udHJvbGxlcjsgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb25lbnRDb250cm9sbGVyLCBDb21wb25lbnRJbnRlcmZhY2UsIENvbXBvbmVudExpc3RlbmVyIH0gZnJvbSBcIi4vQ29tcG9uZW50XCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcIi4uL3V0aWwvRXZlbnRcIjsgXG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuXG5leHBvcnQgY2xhc3MgRnJhbWU8RkwgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyLCBGQyBleHRlbmRzIEZyYW1lQ29udHJvbGxlcj4gZXh0ZW5kcyBDb21wb25lbnQ8RkwsIEZDPlxue1xuICAgIHByb3RlY3RlZCBfY2hpbGRGcmFtZUNvbnRyb2xsZXJzOiBGcmFtZUNvbnRyb2xsZXJbXSA9IFtdO1xuICAgIHByb3RlY3RlZCBfaXNPcGVuOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9hd2FpdGluZ09wZW46IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGxpc3RlbmVyOiBGTCwgY29udHJvbGxlcjogRkMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBldmVudExvZ2dlci5hZGRWYXJpYWJsZVBhdGhzKFwibGlzdGVuZXIub25PcGVuXCIsIFwibGlzdGVuZXIub25PcGVuXCIsIFwibGlzdGVuZXIub25SZWFkeVwiLCBcImxpc3RlbmVyLm9uQ2xvc2luZ1wiLCBcImxpc3RlbmVyLm9uQ2xvc2VcIiwgXCJjb250cm9sbGVyLm9uT3BlblwiLCBcImNvbnRyb2xsZXIub25SZWFkeVwiLCBcImNvbnRyb2xsZXIub25DbG9zaW5nXCIsIFwiY29udHJvbGxlci5vbkNsb3NlXCIpO1xuICAgIH0qL1xuXG4gICAgZ2V0IGF3YWl0aW5nT3BlbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2F3YWl0aW5nT3BlbjsgfVxuXG4gICAgZ2V0IGlzT3BlbigpOiBib29sZWFuIHsgcmV0dXJuIHRoaXMuX2lzT3BlbjsgfVxuICAgIHNldCBpc09wZW4odmFsKSB7IHRoaXMuX2lzT3BlbiA9IHZhbDsgfVxuXG4gICAgYWRkRnJhbWUoZnJhbWUpXG4gICAge1xuICAgICAgICB0aGlzLm9uQWRkRnJhbWUoZnJhbWUpO1xuICAgICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuXG4gICAgb25BZGRGcmFtZShmcmFtZSk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX2NoaWxkRnJhbWVDb250cm9sbGVycy5wdXNoKGZyYW1lLmNvbnRyb2xsZXIpO1xuICAgIH1cblxuICAgIHN3aXRjaFRvRnJhbWUoZnJhbWVDb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIpOiB2b2lkXG4gICAge1xuICAgICAgICBFdmVudC5jYWxsKGZyYW1lQ29udHJvbGxlci5vbk9wZW4pO1xuICAgIH1cblxuICAgIGFmdGVyQ3JlYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmFmdGVyQ3JlYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLmF3YWl0aW5nT3BlbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICAgICAgICB0aGlzLl9hd2FpdGluZ09wZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uT3BlbiguLi5hcmdzKTogdm9pZCB7IH1cblxuICAgIG9wZW4oLi4uYXJncyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vbk9wZW4oLi4uYXJncyk7XG4gICAgICAgICAgICAvL3RoaXMuZG9SZWNyZWF0ZSguLi5hcmdzKTtcbiAgICAgICAgICAgIEV2ZW50LmNhbGwodGhpcy5saXN0ZW5lci5vbk9wZW4sIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2F3YWl0aW5nT3BlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVhZHkoLi4uYXJncylcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5vblJlYWR5KC4uLmFyZ3MpO1xuICAgICAgICAgICAgRXZlbnQuY2FsbCh0aGlzLmxpc3RlbmVyLm9uUmVhZHksIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5pc09wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2F3YWl0aW5nT3BlbiA9IHRydWU7XG4gICAgfVxuXG4gICAgb25SZWFkeSguLi5hcmdzKSB7IH1cbiAgICBvbkNsb3NpbmcoLi4uYXJncykgeyB0aGlzLmNsb3NlKCk7IH1cblxuICAgIG9uQ2xvc2UoLi4uYXJncykgeyB9XG5cbiAgICBjbG9zZSguLi5hcmdzKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLmlzT3BlbikgJiYgKHRoaXMuY3JlYXRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9uQ2xvc2UoLi4uYXJncyk7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAvL3RoaXMuZG9EZWNyZWF0ZSguLi5hcmdzKTtcbiAgICAgICAgICAgIEV2ZW50LmNhbGwodGhpcy5saXN0ZW5lci5vbkNsb3NlLCAgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKmRlY3JlYXRlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgIH0qL1xuXG4gICAgbGluayhjb250cm9sbGVyOiBGQyk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLmxpbmsoY29udHJvbGxlcik7XG4gICAgICAgIGNvbnRyb2xsZXIub25PcGVuLnB1c2godGhpcy5vcGVuLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uUmVhZHkucHVzaCh0aGlzLm9uUmVhZHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25DbG9zaW5nLnB1c2godGhpcy5vbkNsb3NpbmcuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25DbG9zZS5wdXNoKHRoaXMuY2xvc2UuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25BZGRGcmFtZS5wdXNoKHRoaXMub25BZGRGcmFtZS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICB1bmxpbmsoY29udHJvbGxlcjogRkMpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci51bmxpbmsoY29udHJvbGxlcik7XG4gICAgICAgIGNvbnRyb2xsZXIub25PcGVuLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIGNvbnRyb2xsZXIub25SZWFkeS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uQ2xvc2luZy51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICBjb250cm9sbGVyLm9uQ2xvc2UudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgY29udHJvbGxlci5vbkFkZEZyYW1lLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkZyYW1lXCI7IH1cblxuICAgIHN0YXRpYyBuZXdJbnRlcmZhY2UoKTogQ29tcG9uZW50SW50ZXJmYWNlPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj4geyByZXR1cm4gbmV3IENvbXBvbmVudEludGVyZmFjZShuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCkpOyB9XG59XG5cbmV4cG9ydCBjbGFzcyBGcmFtZUxpc3RlbmVyIGV4dGVuZHMgQ29tcG9uZW50TGlzdGVuZXJcbntcbiAgICBwcml2YXRlIF9vbk9wZW46IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25SZWFkeTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICBwcml2YXRlIF9vbkNsb3Npbmc6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25DbG9zZTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcblxuICAgIGdldCBvbk9wZW4oKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25PcGVuOyB9XG4gICAgZ2V0IG9uUmVhZHkoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25SZWFkeTsgfVxuICAgIGdldCBvbkNsb3NpbmcoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zaW5nOyB9XG4gICAgZ2V0IG9uQ2xvc2UoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zZTsgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBGcmFtZUNvbnRyb2xsZXIgZXh0ZW5kcyBDb21wb25lbnRDb250cm9sbGVyXG57XG4gICAgcHJpdmF0ZSBfb25PcGVuOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByaXZhdGUgX29uUmVhZHk6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25DbG9zaW5nOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByaXZhdGUgX29uQ2xvc2U6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgcHJpdmF0ZSBfb25BZGRGcmFtZTogRXZlbnQgPSBuZXcgRXZlbnQoKTtcblxuICAgIGdldCBvbk9wZW4oKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25PcGVuOyB9XG4gICAgZ2V0IG9uUmVhZHkoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25SZWFkeTsgfVxuICAgIGdldCBvbkNsb3NpbmcoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zaW5nOyB9XG4gICAgZ2V0IG9uQ2xvc2UoKTogRXZlbnQgeyByZXR1cm4gdGhpcy5fb25DbG9zZTsgfVxuICAgIGdldCBvbkFkZEZyYW1lKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uQWRkRnJhbWU7IH1cbn1cbiIsImltcG9ydCB7IENvbnZleFBvbHlnb24sIFBvbHlFZGdlIH0gZnJvbSBcIi4uL3V0aWwvUG9seVNoYXBlXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uL3V0aWwvUG9pbnRcIjtcblxuZXhwb3J0IGNsYXNzIEludGVyc2VjdGlvblxue1xuICAgIHBvaW50OiBQb2ludDtcbiAgICBlZGdlOiBQb2x5RWRnZTtcbiAgICBwcml2YXRlIF9kZXB0aDogbnVtYmVyO1xuICAgIHByaXZhdGUgX3Byb3BvcnRpb25PZkRpc3BsYWNlbWVudEludGVyc2VjdGluZzogbnVtYmVyO1xuXG4gICAgZ2V0IGRlcHRoKCkgeyByZXR1cm4gdGhpcy5fZGVwdGg7IH1cbiAgICBnZXQgcHJvcG9ydGlvbk9mRGlzcGFjZW1lbnRJbnRlcnNlY3RpbmcoKSB7IHJldHVybiB0aGlzLl9wcm9wb3J0aW9uT2ZEaXNwbGFjZW1lbnRJbnRlcnNlY3Rpbmc7IH1cbiAgICBzZXQgZGVwdGgodmFsKSB7IHRoaXMuX2RlcHRoID0gdmFsOyB9XG4gICAgc2V0IHByb3BvcnRpb25PZkRpc3BhY2VtZW50SW50ZXJzZWN0aW5nKHZhbCkgeyB0aGlzLl9wcm9wb3J0aW9uT2ZEaXNwbGFjZW1lbnRJbnRlcnNlY3RpbmcgPSB2YWw7IH1cblxuICAgIGFuZ2xlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb2ludDogUG9pbnQsIGVkZ2U6IFBvbHlFZGdlKVxuICAgIHtcbiAgICAgICAgdGhpcy5wb2ludCA9IHBvaW50O1xuICAgICAgICB0aGlzLmVkZ2UgPSBlZGdlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9seWdvbkNvbGxpc2lvblxue1xuICAgIHByaXZhdGUgX3BvbHlnb24xOiBDb252ZXhQb2x5Z29uO1xuICAgIHByaXZhdGUgX3BvbHlnb24yOiBDb252ZXhQb2x5Z29uO1xuXG4gICAgY29uc3RydWN0b3IocG9seWdvbjE6IENvbnZleFBvbHlnb24sIHBvbHlnb24yOiBDb252ZXhQb2x5Z29uKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcG9seWdvbjEgPSBwb2x5Z29uMTtcbiAgICAgICAgdGhpcy5fcG9seWdvbjIgPSBwb2x5Z29uMjtcbiAgICB9XG4gICAgXG4gICAgaW50ZXJzZWN0cygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcG9seWdvbjEuaW50ZXJzZWN0cyh0aGlzLl9wb2x5Z29uMik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBtaW5pbXVtIHByb2plY3Rpb24sIHRoZSB2ZWN0b3IgdGhhdCBjYW4gc2VwYXJhdGUgdGhlIHR3byBvYmplY3RzXG4gICAgICogd2l0aCB0aGUgc2hvcnRlc3QgcG9zc2libGUgbW92ZW1lbnQuXG4gICAgICovXG4gICAgZ2V0UHJvamVjdGlvbigpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IGF4ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX3BvbHlnb24xLmVkZ2VzLmZvckVhY2goZSA9PiBheGVzLmFkZChlLnZlY3Rvci5yb3RhdGUoTWF0aC5QSS8yKS5ub3JtYWxpc2VkKSlcbiAgICAgICAgdGhpcy5fcG9seWdvbjIuZWRnZXMuZm9yRWFjaChlID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBuZXdBeGlzID0gZS52ZWN0b3Iucm90YXRlKE1hdGguUEkvMikubm9ybWFsaXNlZDtcbiAgICAgICAgICAgICAgICBsZXQgZHVwbGljYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXhlcy5mb3JFYWNoKGEgPT4gXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKFBvaW50LmVxdWFscyhhLCBuZXdBeGlzKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCEoZHVwbGljYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgYXhlcy5hZGQobmV3QXhpcylcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBwMU1heERpc3BsYWNlbWVudFBlckF4aXMgPSBbXTtcbiAgICAgICAgbGV0IHAxTWluRGlzcGxhY2VtZW50UGVyQXhpcyA9IFtdO1xuICAgICAgICBsZXQgcDJNYXhEaXNwbGFjZW1lbnRQZXJBeGlzID0gW107XG4gICAgICAgIGxldCBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXMgPSBbXTtcbiAgICAgICAgYXhlcy5mb3JFYWNoKChhLCBpKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgbGV0IHAxID0gdGhpcy5fcG9seWdvbjEucG9pbnRzLm1hcCh4ID0+IHgucHJvamVjdGlvbkluKGEpKTtcbiAgICAgICAgICAgIGxldCBwMiA9IHRoaXMuX3BvbHlnb24yLnBvaW50cy5tYXAoeCA9PiB4LnByb2plY3Rpb25JbihhKSk7XG4gICAgICAgICAgICBwMU1heERpc3BsYWNlbWVudFBlckF4aXMucHVzaChNYXRoLm1heCguLi5wMSkpO1xuICAgICAgICAgICAgcDFNaW5EaXNwbGFjZW1lbnRQZXJBeGlzLnB1c2goTWF0aC5taW4oLi4ucDEpKTtcbiAgICAgICAgICAgIHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpcy5wdXNoKE1hdGgubWF4KC4uLnAyKSk7XG4gICAgICAgICAgICBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXMucHVzaChNYXRoLm1pbiguLi5wMikpO1xuICAgICAgICAgICAgaWYgKCEoKHAxTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSA+IHAyTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXSkgJiYgKHAxTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXSA8IHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGF4aXM6IFBvaW50O1xuICAgICAgICBsZXQgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGF4ZXMuZm9yRWFjaCgoYXgsaSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGEgPSBwMU1heERpc3BsYWNlbWVudFBlckF4aXNbaV0gLSBwMk1pbkRpc3BsYWNlbWVudFBlckF4aXNbaV07XG4gICAgICAgICAgICBsZXQgYiA9IHAyTWF4RGlzcGxhY2VtZW50UGVyQXhpc1tpXSAtIHAxTWluRGlzcGxhY2VtZW50UGVyQXhpc1tpXTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhhKSA8PSBNYXRoLmFicyhiKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHZhbHVlID09PSB1bmRlZmluZWQpIHx8IHZhbHVlID4gTWF0aC5hYnMoYSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBheGlzID0gUG9pbnQubWludXMoYXhlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWF0aC5hYnMoYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCkgfHwgdmFsdWUgPiBNYXRoLmFicyhiKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF4aXMgPSBheGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1hdGguYWJzKGIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgcmV0dXJuIFBvaW50Lm11bHRpcGx5KGF4aXMsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vR2V0IGF4aXMgcGVycGVuZGljdWxhciB0byBlYWNoIGVkZ2VcbiAgICAgICAgLy9DaGVjayBlYWNoIGF4aXMgdG8gc2VlIHRvIHdoYXQgZGVncmVlIHRoZSBzaGFwZXMgb3ZlcmxhcCBvbiB0aGF0IGF4aXNcbiAgICAgICAgLy9UaGVuIHlvdSBrbm93IGhvdyBmYXIgYmFjayB0byBwdXNoIHRoZSBvYmplY3QsIGFuZCBpbiB3aGF0IGRpcmVjdGlvbi5cblxuICAgICAgICAvL21vcmU6IGh0dHA6Ly93d3cubWV0YW5ldHNvZnR3YXJlLmNvbS90ZWNobmlxdWUvdHV0b3JpYWxBLmh0bWxcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgcG9pbnQgYXQgd2hpY2ggdGhlIHR3byBwb2x5Y29ucyBjb2xsaWRlZCBiYXNlZCBvbiB0aGUgdmVsb2NpdGllcyBvZiB0aGUgb2JqZWN0c1xuICAgICAqIChhbmQgcG9zc2libHkgdGhlaXIgYWNjZWxlcmF0aW9ucyE/KVxuICAgICAqL1xuICAgIGdldEludGVyc2VjdGlvbihwb2x5Z29uMURpc3BsYWNlbWVudDogUG9pbnQpOiBJbnRlcnNlY3Rpb25cbiAgICB7XG4gICAgICAgIGlmIChwb2x5Z29uMURpc3BsYWNlbWVudC5pc1plcm8pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICBsZXQgbGVhZGluZ1BvaW50ID0gdGhpcy5fcG9seWdvbjEubWF4aW11bVByb2plY3Rpb25PblZlY3Rvcihwb2x5Z29uMURpc3BsYWNlbWVudCk7XG4gICAgICAgIGxldCBzdGFydCA9IFBvaW50Lm1pbnVzKGxlYWRpbmdQb2ludCwgcG9seWdvbjFEaXNwbGFjZW1lbnQpO1xuICAgICAgICBsZXQgaW50ZXJzZWN0aW9ucyA9IHRoaXMuX3BvbHlnb24yLmludGVyc2VjdGlvbnNXaXRoRWRnZShzdGFydCxsZWFkaW5nUG9pbnQpO1xuXG4gICAgICAgIGxldCBzbWFsbGVzdERpc3RhbmNlOiBudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBmaXJzdEludGVyc2VjdGlvbjogSW50ZXJzZWN0aW9uO1xuICAgICAgICBpbnRlcnNlY3Rpb25zLmZvckVhY2goaSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBkID0gUG9pbnQubWludXMoaS5wb2ludCxzdGFydCkubWFnbml0dWRlO1xuICAgICAgICAgICAgICAgIGlmICgoc21hbGxlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkKSB8fCAoZCA8IHNtYWxsZXN0RGlzdGFuY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaXN0YW5jZSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0SW50ZXJzZWN0aW9uID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIGlmIChmaXJzdEludGVyc2VjdGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgZmlyc3RJbnRlcnNlY3Rpb24uZGVwdGggPSBQb2ludC5taW51cyhsZWFkaW5nUG9pbnQsIGZpcnN0SW50ZXJzZWN0aW9uLnBvaW50KS5tYWduaXR1ZGU7XG4gICAgICAgICAgICBmaXJzdEludGVyc2VjdGlvbi5wcm9wb3J0aW9uT2ZEaXNwYWNlbWVudEludGVyc2VjdGluZyA9IGZpcnN0SW50ZXJzZWN0aW9uLmRlcHRoL3BvbHlnb24xRGlzcGxhY2VtZW50Lm1hZ25pdHVkZTtcbiAgICAgICAgICAgIGxldCBldiA9IGZpcnN0SW50ZXJzZWN0aW9uLmVkZ2UudmVjdG9yO1xuICAgICAgICAgICAgZmlyc3RJbnRlcnNlY3Rpb24uYW5nbGUgPSBQb2ludC5hbmdsZUJldHdlZW4ocG9seWdvbjFEaXNwbGFjZW1lbnQsIGV2KTtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdEludGVyc2VjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cblxuXG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcIi4uL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGhyZWVCdWZmZXIgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJvdGVjdGVkIF9zY2VuZTtcbiAgICBwcm90ZWN0ZWQgX2NhbWVyYTtcbiAgICBwcm90ZWN0ZWQgX3JlbmRlcmVyO1xuICAgIHByb3RlY3RlZCBfY2FudmFzO1xuXG4gICAgcHJvdGVjdGVkIF9kcmF3UmVxdWVzdGVkOiBib29sZWFuO1xuICAgIHByb3RlY3RlZCBfY2FtZXJhVXBkYXRlUmVxdWlyZWQ6IGJvb2xlYW47XG4gICAgcHJvdGVjdGVkIF9vbGREaW1lbnNpb246IFBpeGVsRGltZW5zaW9uO1xuICAgIGRlYnVnRGlzYWJsZUNhY2hlOiBib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIF9waXhlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9maWVsZE9mVmlldzogbnVtYmVyID0gNzU7XG4gICAgcHJvdGVjdGVkIF9uZWFyQ2xpcDogbnVtYmVyID0gMC4xO1xuICAgIHByb3RlY3RlZCBfZmFyQ2xpcDogbnVtYmVyID0gMTAwMDtcblxuICAgIHByb3RlY3RlZCBfaGFzQWxwaGFDaGFuZWw6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCBzY2VuZSgpIHsgcmV0dXJuIHRoaXMuX3NjZW5lOyB9XG4gICAgZ2V0IGNhbWVyYSgpIHsgcmV0dXJuIHRoaXMuX2NhbWVyYTsgfVxuICAgIGdldCBjYW52YXMoKSB7IHJldHVybiB0aGlzLl9jYW52YXM7IH1cbiAgICBnZXQgcmVuZGVyZXIoKSB7IHJldHVybiB0aGlzLl9yZW5kZXJlcjsgfVxuXG4gICAgZ2V0IGZpZWxkT2ZWaWV3KCkgeyByZXR1cm4gdGhpcy5fZmllbGRPZlZpZXc7IH1cbiAgICBzZXQgZmllbGRPZlZpZXcodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmllbGRPZlZpZXcgPSB2YWw7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgbmVhckNsaXAoKSB7IHJldHVybiB0aGlzLl9uZWFyQ2xpcDsgfVxuICAgIHNldCBuZWFyQ2xpcCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9uZWFyQ2xpcCA9IHZhbDtcbiAgICAgICAgdGhpcy5fY2FtZXJhVXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldCBmYXJDbGlwKCkgeyByZXR1cm4gdGhpcy5fZmFyQ2xpcDsgfVxuICAgIHNldCBmYXJDbGlwKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZhckNsaXAgPSB2YWw7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2NhbWVyYUFzcGVjdEZ1bmN0aW9uOiAod2lkdGg6bnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4gbnVtYmVyID0gKHdpZHRoLCBoZWlnaHQpID0+IHdpZHRoL2hlaWdodDtcbiAgICBnZXQgY2FtZXJhQXNwZWN0RnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9jYW1lcmFBc3BlY3RGdW5jdGlvbjsgfVxuICAgIHNldCBjYW1lcmFBc3BlY3RGdW5jdGlvbih2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9jYW1lcmFBc3BlY3RGdW5jdGlvbiA9IHZhbDtcbiAgICAgICAgdGhpcy5fY2FtZXJhVXBkYXRlUmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xuICAgICAgICB0aGlzLl9yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYWxwaGE6IHRoaXMuX2hhc0FscGhhQ2hhbmVsIH0pO1xuICAgICAgICB0aGlzLl9jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEodGhpcy5fZmllbGRPZlZpZXcsIDEsIHRoaXMuX25lYXJDbGlwLCB0aGlzLl9mYXJDbGlwKTtcbiAgICAgICAgdGhpcy5fc2NlbmUuYWRkKHRoaXMuX2NhbWVyYSk7XG4gICAgICAgIHRoaXMucmVzaXplQ2FudmFzKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24sIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5fY2FudmFzID0gdGhpcy5fcmVuZGVyZXIuZG9tRWxlbWVudDtcbiAgICAgICAgdGhpcy5jYW1lcmFVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBpbnRlcmZhY2VzKGludGVyZmFjZXMpXG4gICAge1xuICAgICAgICBpbnRlcmZhY2VzW1widGhyZWVQYXJlbnRcIl0gPSB0aGlzLnNjZW5lO1xuICAgICAgICByZXR1cm4gaW50ZXJmYWNlcztcbiAgICB9XG5cbiAgICBjYW1lcmFVcGRhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FtZXJhLmFzcGVjdCA9IHRoaXMuY2FtZXJhQXNwZWN0RnVuY3Rpb24odGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi53aWR0aCwgdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9jYW1lcmEuZm92ID0gdGhpcy5fZmllbGRPZlZpZXc7XG4gICAgICAgIHRoaXMuX2NhbWVyYS5uZWFyQ2xpcCA9IHRoaXMuX25lYXJDbGlwO1xuICAgICAgICB0aGlzLl9jYW1lcmEuZmFyQ2xpcCA9IHRoaXMuX2ZhckNsaXA7XG4gICAgICAgIHRoaXMuX2NhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICAgIHRoaXMuX2NhbWVyYVVwZGF0ZVJlcXVpcmVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzaXplQ2FudmFzKGRpbTogRGltZW5zaW9uLCBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9waXhlbFJhdGlvID0gZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIuc2V0U2l6ZShkaW0ud2lkdGggKiB0aGlzLl9waXhlbFJhdGlvLCBkaW0uaGVpZ2h0ICogdGhpcy5fcGl4ZWxSYXRpbyk7XG4gICAgICAgIHRoaXMuX29sZERpbWVuc2lvbiA9IG5ldyBEaW1lbnNpb24oZGltLndpZHRoLCBkaW0uaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2hhc1Jlc2l6ZWQoKVxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIHJldHVybiAoKHRoaXMuX29sZERpbWVuc2lvbi53aWR0aCAhPT0gZGltLndpZHRoKSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLl9vbGREaW1lbnNpb24uaGVpZ2h0ICE9PSBkaW0uaGVpZ2h0KSlcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgX2hhc0RldmljZVBpeGVsUmF0aW9DaGFuZ2VkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9waXhlbFJhdGlvICE9PSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICB9XG5cbiAgICBiZWdpbigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5faGFzUmVzaXplZCgpIHx8IHRoaXMuX2hhc0RldmljZVBpeGVsUmF0aW9DaGFuZ2VkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplQ2FudmFzKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24sIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhVXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fY2FtZXJhVXBkYXRlUmVxdWlyZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhVXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZWJ1Z0Rpc2FibGVDYWNoZSlcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgaWYgKGNvbnRleHQyRClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2RyYXdSZXF1ZXN0ZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyKHRoaXMuX3NjZW5lLCB0aGlzLl9jYW1lcmEpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRleHQyRC5kcmF3SW1hZ2UodGhpcy5fY2FudmFzLCAwLDAsIE1hdGgucm91bmQoZGltLndpZHRoKSAqIHRoaXMuX3BpeGVsUmF0aW8sIE1hdGgucm91bmQoZGltLmhlaWdodCkgKiB0aGlzLl9waXhlbFJhdGlvLCBNYXRoLnJvdW5kKHBvcy54KSwgTWF0aC5yb3VuZChwb3MueSksIE1hdGgucm91bmQoZGltLndpZHRoKSwgTWF0aC5yb3VuZChkaW0uaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0RHJhdygpXG4gICAge1xuICAgICAgICB0aGlzLl9kcmF3UmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zY2VuZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZGlzcG9zZSgpO1xuICAgICAgICAvL3RoaXMuZGlzcG9zZUhpZXJhcmNoeSh0aGlzLnNjZW5lLCB0aGlzLmRpc3Bvc2VOb2RlKTtcbiAgICB9XG5cbiAgICBkaXNwb3NlTm9kZShub2RlKVxuICAgIHtcbiAgICAgICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobm9kZS5nZW9tZXRyeSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBub2RlLmdlb21ldHJ5LmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsIGluc3RhbmNlb2YgVEhSRUUuTWVzaEZhY2VNYXRlcmlhbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubWF0ZXJpYWwubWF0ZXJpYWxzLmZvckVhY2goKG10cmwsIGlkeCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10cmwubWFwKSAgICAgICAgICAgbXRybC5tYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdHJsLmxpZ2h0TWFwKSAgICAgIG10cmwubGlnaHRNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdHJsLmJ1bXBNYXApICAgICAgIG10cmwuYnVtcE1hcC5kaXNwb3NlICgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG10cmwubm9ybWFsTWFwKSAgICAgbXRybC5ub3JtYWxNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdHJsLnNwZWN1bGFyTWFwKSAgIG10cmwuc3BlY3VsYXJNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtdHJsLmVudk1hcCkgICAgICAgIG10cmwuZW52TWFwLmRpc3Bvc2UgKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG10cmwuZGlzcG9zZSAoKTsgICAgLy8gZGlzcG9zZXMgYW55IHByb2dyYW1zIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWF0ZXJpYWxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsLm1hcCkgICAgICAgICAgbm9kZS5tYXRlcmlhbC5tYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwubGlnaHRNYXApICAgICBub2RlLm1hdGVyaWFsLmxpZ2h0TWFwLmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsLmJ1bXBNYXApICAgICAgbm9kZS5tYXRlcmlhbC5idW1wTWFwLmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsLm5vcm1hbE1hcCkgICAgbm9kZS5tYXRlcmlhbC5ub3JtYWxNYXAuZGlzcG9zZSAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubWF0ZXJpYWwuc3BlY3VsYXJNYXApICBub2RlLm1hdGVyaWFsLnNwZWN1bGFyTWFwLmRpc3Bvc2UgKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm1hdGVyaWFsLmVudk1hcCkgICAgICAgbm9kZS5tYXRlcmlhbC5lbnZNYXAuZGlzcG9zZSAoKTtcblxuICAgICAgICAgICAgICAgICAgICBub2RlLm1hdGVyaWFsLmRpc3Bvc2UgKCk7ICAgLy8gZGlzcG9zZXMgYW55IHByb2dyYW1zIGFzc29jaWF0ZWQgd2l0aCB0aGUgbWF0ZXJpYWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkaXNwb3NlSGllcmFyY2h5KG5vZGUsIGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VIaWVyYXJjaHkoY2hpbGQsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vR2FtZU9iamVjdFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaHJlZU1lc2ggZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBfbWVzaDtcbiAgICBwcml2YXRlIF9tZXNoVXBkYXRlZDtcbiAgICBfbmV3TWVzaDtcblxuICAgIGdldCBtZXNoKCkgeyByZXR1cm4gdGhpcy5fbWVzaDsgfVxuICAgIHNldCBtZXNoKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX25ld01lc2ggPSB2YWw7XG4gICAgICAgIHRoaXMuX21lc2hVcGRhdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNoLCBtYXRlcmlhbD8pXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgaWYgKG1hdGVyaWFsKVxuICAgICAgICAgICAgdGhpcy5fbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG1lc2gsIG1hdGVyaWFsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fbWVzaCA9IG1lc2g7XG4gICAgfVxuXG4gICAgY3JlYXRlKHt0aHJlZVBhcmVudDogdGhyZWVQYXJlbnR9KVxuICAgIHtcbiAgICAgICAgdGhyZWVQYXJlbnQuYWRkKHRoaXMuX21lc2gpO1xuICAgIH1cblxuICAgIHVwZGF0ZSh7dGhyZWVQYXJlbnQ6IHRocmVlUGFyZW50fSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tZXNoVXBkYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyZWVQYXJlbnQucmVtb3ZlKHRoaXMubWVzaCk7XG4gICAgICAgICAgICB0aGlzLl9tZXNoID0gdGhpcy5fbmV3TWVzaDtcbiAgICAgICAgICAgIHRoaXMuX25ld01lc2ggPSBudWxsO1xuICAgICAgICAgICAgdGhyZWVQYXJlbnQuYWRkKHRoaXMuX21lc2gpO1xuICAgICAgICAgICAgdGhpcy5fbWVzaFVwZGF0ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGludGVyZmFjZXMoaW50ZXJmYWNlcylcbiAgICB7XG4gICAgICAgIGludGVyZmFjZXNbXCJ0aHJlZVBhcmVudFwiXSA9IHRoaXMubWVzaDtcbiAgICAgICAgcmV0dXJuIGludGVyZmFjZXM7XG4gICAgfVxufVxuIiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uL0dhbWVPYmplY3RcIjtcblxuZXhwb3J0IGNsYXNzIFRpbWVyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJUaW1lclwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX3RpbWUgPSAwO1xuICAgIHByb3RlY3RlZCBfc3RhcnRUaW1lID0gMDtcbiAgICBwcm90ZWN0ZWQgX3ByZXZpb3VzVGltZSA9IDA7XG4gICAgcHJvdGVjdGVkIF90aW1lT3V0Q2FsbGJhY2tzID0gW107XG4gICAgcHJvdGVjdGVkIF9ydW5uaW5nID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF90aW1lT3V0Q2FsbGJhY2s7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsLCBudWxsKTtcbiAgICB9XG5cbiAgICBnZXQgdGltZSgpIHsgcmV0dXJuIHRoaXMuX3RpbWU7IH1cbiAgICBzZXQgdGltZSh2YWwpIHsgdGhpcy5fdGltZSA9IHZhbDsgfVxuICAgIFxuICAgIGdldCBydW5uaW5nKCkgeyByZXR1cm4gdGhpcy5fcnVubmluZzsgfVxuXG4gICAgYWRkVGltZU91dENhbGxiYWNrKHRpbWUsIGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGltZU91dENhbGxiYWNrcy5wdXNoKG5ldyBUaW1lT3V0Q2FsbGJhY2sodGltZSwgY2FsbGJhY2spKTtcbiAgICB9XG5cbiAgICBzdGFydCgpXG4gICAge1xuICAgICAgICB0aGlzLl9ydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gMDtcbiAgICAgICAgdGhpcy50aW1lID0gMDtcbiAgICB9XG5cbiAgICBwYXVzZSgpIHtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gdGhpcy50aW1lO1xuICAgICAgICB0aGlzLl9ydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzdW1lKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuX3J1bm5pbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGJlZ2luKHt0aW1pbmc6IHR9KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aW1lID0gKERhdGUubm93KCkgLSB0aGlzLl9zdGFydFRpbWUpICsgdGhpcy5fcHJldmlvdXNUaW1lO1xuICAgICAgICAgICAgdGhpcy5fdGltZU91dENhbGxiYWNrcy5mb3JFYWNoKHggPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aW1lID4geC50aW1lKVxuICAgICAgICAgICAgICAgICAgICB4LmNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBWYXJpYWJsZUxvZ2dlci5hZGRWYXJpYWJsZVBhdGhzKFwidGltZVwiLFwicnVubmluZ1wiKTtcbiAgICB9Ki9cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVPdXRDYWxsYmFja1xue1xuICAgIHRpbWU7XG4gICAgY2FsbGJhY2s7XG5cbiAgICBjb25zdHJ1Y3Rvcih0aW1lLCBjYWxsYmFjaylcbiAgICB7XG4gICAgICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB9XG59IiwiaW1wb3J0IEV2ZW50IGZyb20gXCIuLi8uLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRpb24gZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJpdmF0ZSBfZG9uZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX29uQ29tcGxldGU6IEV2ZW50O1xuICAgIHByaXZhdGUgX29uU3RlcDogRXZlbnQ7XG5cbiAgICBjb25zdHJ1Y3RvcigpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsLCBudWxsKTtcbiAgICAgICAgdGhpcy5fb25Db21wbGV0ZSA9IG5ldyBFdmVudCgpO1xuICAgICAgICB0aGlzLl9vblN0ZXAgPSBuZXcgRXZlbnQoKTtcbiAgICB9XG5cbiAgICBnZXQgZG9uZSgpIHsgcmV0dXJuIHRoaXMuX2RvbmU7IH1cblxuICAgIGdldCBvbkNvbXBsZXRlKCkgeyByZXR1cm4gdGhpcy5fb25Db21wbGV0ZTsgfVxuICAgIHNldCBvbkNvbXBsZXRlKHZhbCkgeyB0aGlzLl9vbkNvbXBsZXRlID0gdmFsOyB9XG5cbiAgICBnZXQgb25TdGVwKCkgeyByZXR1cm4gdGhpcy5fb25TdGVwOyB9XG4gICAgc2V0IG9uU3RlcCh2YWwpIHsgdGhpcy5fb25TdGVwID0gdmFsOyB9XG5cbiAgICB1cGRhdGUoLi4uYXJncylcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5kb25lKVxuICAgICAgICAgICAgdGhpcy5vblN0ZXAuY2FsbCgpO1xuICAgIH1cblxuICAgIGNvbXBsZXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2RvbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuY2FsbCgpO1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFR3ZWVuIGZyb20gXCIuL1R3ZWVuXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCIuLi8uLi91dGlsL1BvaW50M1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludDNUd2VlbiBleHRlbmRzIFR3ZWVuXG57XG4gICAgaW5jcmVtZW50KGRlbHRhKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ggPSAoKHRoaXMudGFyZ2V0VmFsdWUueCAtIHRoaXMuY3VycmVudFZhbHVlLngpL3RoaXMudGltZVJlbWFpbmluZykqZGVsdGEgKyB0aGlzLmN1cnJlbnRWYWx1ZS54O1xuICAgICAgICBsZXQgbmV3WSA9ICgodGhpcy50YXJnZXRWYWx1ZS55IC0gdGhpcy5jdXJyZW50VmFsdWUueSkvdGhpcy50aW1lUmVtYWluaW5nKSpkZWx0YSArIHRoaXMuY3VycmVudFZhbHVlLnk7XG4gICAgICAgIGxldCBuZXdaID0gKCh0aGlzLnRhcmdldFZhbHVlLnogLSB0aGlzLmN1cnJlbnRWYWx1ZS56KS90aGlzLnRpbWVSZW1haW5pbmcpKmRlbHRhICsgdGhpcy5jdXJyZW50VmFsdWUuejtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50VmFsdWUueCA8IHRoaXMudGFyZ2V0VmFsdWUueClcbiAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1pbih0aGlzLnRhcmdldFZhbHVlLngsIG5ld1gpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRWYWx1ZS54ID4gdGhpcy50YXJnZXRWYWx1ZS54KVxuICAgICAgICAgICAgbmV3WCA9IE1hdGgubWF4KHRoaXMudGFyZ2V0VmFsdWUueCwgbmV3WCk7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlLnkgPCB0aGlzLnRhcmdldFZhbHVlLnkpXG4gICAgICAgICAgICBuZXdZID0gTWF0aC5taW4odGhpcy50YXJnZXRWYWx1ZS55LCBuZXdZKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdXJyZW50VmFsdWUueSA+IHRoaXMudGFyZ2V0VmFsdWUueSlcbiAgICAgICAgICAgIG5ld1kgPSBNYXRoLm1heCh0aGlzLnRhcmdldFZhbHVlLnksIG5ld1kpO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWYWx1ZS56IDwgdGhpcy50YXJnZXRWYWx1ZS56KVxuICAgICAgICAgICAgbmV3WiA9IE1hdGgubWluKHRoaXMudGFyZ2V0VmFsdWUueiwgbmV3Wik7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudFZhbHVlLnkgPiB0aGlzLnRhcmdldFZhbHVlLnkpXG4gICAgICAgICAgICBuZXdaID0gTWF0aC5tYXgodGhpcy50YXJnZXRWYWx1ZS56LCBuZXdaKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ldyBQb2ludDMobmV3WCwgbmV3WSwgbmV3Wik7XG4gICAgfVxuXG4gICAgZ2V0IHJlYWNoZWRUYXJnZXQoKTogYm9vbGVhbiB7IHJldHVybiBQb2ludDMuZXF1YWxzKHRoaXMuY3VycmVudFZhbHVlLCB0aGlzLnRhcmdldFZhbHVlKTsgfVxufVxuIiwiaW1wb3J0IEFuaW1hdGlvbiBmcm9tIFwiLi9BbmltYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgVHdlZW4gZXh0ZW5kcyBBbmltYXRpb25cbntcbiAgICBwcm90ZWN0ZWQgX29iamVjdDogT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfc3RhcnRWYWx1ZTogYW55O1xuICAgIHByb3RlY3RlZCBfdmFyaWFibGVOYW1lOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF90YXJnZXRWYWx1ZTogYW55O1xuICAgIHByb3RlY3RlZCBfdGltZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfdGltZVJlbWFpbmluZzogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfcmVxdWVzdERyYXdPbkNoYW5nZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBhbnksIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIGlmIChvYmplY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29iamVjdCA9IG9iamVjdFxuICAgICAgICAgICAgdGhpcy5fc3RhcnRWYWx1ZSA9IG9iamVjdFt2YXJpYWJsZU5hbWVdO1xuICAgICAgICAgICAgdGhpcy5fdmFyaWFibGVOYW1lID0gdmFyaWFibGVOYW1lO1xuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0VmFsdWUgPSB0YXJnZXRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWUgPSB0aW1lO1xuICAgICAgICAgICAgdGhpcy5fdGltZVJlbWFpbmluZyA9IHRpbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgb2JqZWN0KCkgeyByZXR1cm4gdGhpcy5fb2JqZWN0OyB9XG4gICAgZ2V0IHZhcmlhYmxlTmFtZSgpIHsgcmV0dXJuIHRoaXMuX3ZhcmlhYmxlTmFtZTsgfVxuICAgIGdldCBzdGFydFZhbHVlKCkgeyByZXR1cm4gdGhpcy5fc3RhcnRWYWx1ZTsgfVxuICAgIGdldCB0YXJnZXRWYWx1ZSgpIHsgcmV0dXJuIHRoaXMuX3RhcmdldFZhbHVlOyB9XG4gICAgZ2V0IGN1cnJlbnRWYWx1ZSgpIHsgcmV0dXJuIHRoaXMub2JqZWN0W3RoaXMudmFyaWFibGVOYW1lXTsgfVxuICAgIHNldCBjdXJyZW50VmFsdWUodmFsKSB7IHRoaXMub2JqZWN0W3RoaXMudmFyaWFibGVOYW1lXSA9IHZhbDsgfVxuICAgIGdldCB0aW1lKCkgeyByZXR1cm4gdGhpcy5fdGltZTsgfVxuICAgIGdldCB0aW1lUmVtYWluaW5nKCkgeyByZXR1cm4gdGhpcy5fdGltZVJlbWFpbmluZzsgfVxuICAgIGdldCByZXF1ZXN0RHJhd09uQ2hhbmdlKCkgeyByZXR1cm4gdGhpcy5fcmVxdWVzdERyYXdPbkNoYW5nZTsgfVxuICAgIHNldCByZXF1ZXN0RHJhd09uQ2hhbmdlKHZhbCkgeyB0aGlzLl9yZXF1ZXN0RHJhd09uQ2hhbmdlID0gdmFsOyB9XG5cbiAgICB1cGRhdGUoe3RpbWluZzp0fSlcbiAgICB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgICAgICBpZiAoIXRoaXMuZG9uZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVxdWVzdERyYXdPbkNoYW5nZSlcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lUmVtYWluaW5nIC09IHQuZGVsdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGltZVJlbWFpbmluZyA8PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy50YXJnZXRWYWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnQodC5kZWx0YSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhY2hlZFRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgaW5jcmVtZW50KGRlbHRhKTogdm9pZFxuICAgIGFic3RyYWN0IGdldCByZWFjaGVkVGFyZ2V0KCk6IGJvb2xlYW5cbn1cbiIsImltcG9ydCBUd2VlbiBmcm9tIFwiLi9Ud2VlblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWYWx1ZVR3ZWVuIGV4dGVuZHMgVHdlZW5cbntcblxuICAgIGdldCByYXRlKCk6IGFueVxuICAgIHsgXG4gICAgICAgIGlmICh0aGlzLnRpbWVSZW1haW5pbmcgPD0gMClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICByZXR1cm4gKCh0aGlzLnRhcmdldFZhbHVlLXRoaXMuY3VycmVudFZhbHVlKSAvIHRoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG4gICAgaW5jcmVtZW50KGRlbHRhKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ZhbCA9IHRoaXMuY3VycmVudFZhbHVlICsgKHRoaXMucmF0ZSAqIGRlbHRhKTtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSlcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gTWF0aC5taW4obmV3VmFsLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1heChuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgIH1cblxuICAgIGdldCByZWFjaGVkVGFyZ2V0KCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5jdXJyZW50VmFsdWUgPT09IHRoaXMudGFyZ2V0VmFsdWU7IH1cblxufSIsImltcG9ydCBBbmltYXRpb24gZnJvbSBcIi4vQW5pbWF0aW9uXCI7XG5pbXBvcnQgeyBUaW1pbmcgfSBmcm9tIFwiLi4vLi4vaW8vVGltaW5nXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhaXQgZXh0ZW5kcyBBbmltYXRpb25cbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiV2FpdFwiOyB9XG5cbiAgICBwcml2YXRlIF90aW1lOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBfdGltZVJlbWFpbmluZzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHRpbWUgaW4gbWlsbGlzZWNvbmRzXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgICAgIHRoaXMuX3RpbWVSZW1haW5pbmcgPSB0aW1lO1xuICAgIH1cblxuICAgIGdldCB0aW1lKCkgeyByZXR1cm4gdGhpcy5fdGltZTsgfVxuICAgIGdldCB0aW1lUmVtYWluaW5nKCkgeyByZXR1cm4gdGhpcy5fdGltZVJlbWFpbmluZzsgfVxuXG4gICAgdXBkYXRlKHt0aW1pbmc6dH0gOiB7IHRpbWluZzogVGltaW5nIH0pXG4gICAge1xuICAgICAgICBzdXBlci51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5fdGltZVJlbWFpbmluZyAtPSB0LmRlbHRhO1xuICAgICAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nIDw9IDApXG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfVxufSIsImltcG9ydCBUd2VlbiBmcm9tIFwiLi9Ud2VlblwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludDNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV3JhcHBpbmdQb2ludDNUd2VlbiBleHRlbmRzIFR3ZWVuXG57XG4gICAgcHJvdGVjdGVkIF93cmFwVmFsdWU6IFBvaW50MztcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBQb2ludDMsIHRpbWU6IG51bWJlciwgd3JhcFZhbHVlOiBQb2ludDMpXG4gICAge1xuICAgICAgICBzdXBlcihvYmplY3QsIHZhcmlhYmxlTmFtZSwgdGFyZ2V0VmFsdWUsIHRpbWUpO1xuICAgICAgICB0aGlzLl93cmFwVmFsdWUgPSB3cmFwVmFsdWU7XG4gICAgfVxuXG4gICAgc2hvcnRlc3REaXN0YW5jZURpbShheDogbnVtYmVyLCBieDogbnVtYmVyLCBseDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKGF4ID09PSBieClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBsZXQgd3JhcHggPSAoYXggPCBieCkgPyAoKGx4IC0gYngpICsgYXgpIDogKChseCAtIGF4KSArIGJ4KTtcbiAgICAgICAgbGV0IHN0cmFpZ2h0eCA9IE1hdGguYWJzKGJ4IC0gYXgpO1xuXG4gICAgICAgIGlmIChzdHJhaWdodHggPCB3cmFweClcbiAgICAgICAgICAgIHJldHVybiBieCAtIGF4O1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChheCA8IGJ4KVxuICAgICAgICAgICAgICAgIHJldHVybiAtd3JhcHg7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyYXB4O1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBnZXQgcmF0ZSgpOiBhbnlcbiAgICB7IFxuICAgICAgICBsZXQgeCA9IHRoaXMuc2hvcnRlc3REaXN0YW5jZURpbSh0aGlzLmN1cnJlbnRWYWx1ZS54LCB0aGlzLnRhcmdldFZhbHVlLngsIHRoaXMuX3dyYXBWYWx1ZS54KTtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnNob3J0ZXN0RGlzdGFuY2VEaW0odGhpcy5jdXJyZW50VmFsdWUueSwgdGhpcy50YXJnZXRWYWx1ZS55LCB0aGlzLl93cmFwVmFsdWUueSk7XG4gICAgICAgIGxldCB6ID0gdGhpcy5zaG9ydGVzdERpc3RhbmNlRGltKHRoaXMuY3VycmVudFZhbHVlLnosIHRoaXMudGFyZ2V0VmFsdWUueiwgdGhpcy5fd3JhcFZhbHVlLnopO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4L3RoaXMudGltZVJlbWFpbmluZyx5L3RoaXMudGltZVJlbWFpbmluZyx6L3RoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG5cbiAgICBpbmNyZW1lbnREaW0oY3gsIHR4LCByeCwgbmV3WClcbiAgICB7XG4gICAgICAgIGlmICgoY3ggPCB0eCkgJiYgKHJ4ID4gMCkpXG4gICAgICAgICAgICBuZXdYID0gTWF0aC5taW4odHgsIG5ld1gpO1xuICAgICAgICBpZiAoKGN4IDwgdHgpICYmIChyeCA8IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3WCA8IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1pbihuZXdYLCB0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKGN4ID4gdHgpICYmIChyeCA+IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3WCA+IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIG5ld1ggPSBNYXRoLm1heChuZXdYLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoY3ggPiB0eCkgJiYgKHJ4IDwgMCkpXG4gICAgICAgICAgICBuZXdYID0gTWF0aC5tYXgodHgsIG5ld1gpO1xuICAgICAgICByZXR1cm4gbmV3WDtcbiAgICB9XG5cbiAgICBpbmNyZW1lbnQoZGVsdGEpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgcmF0ZSA9IHRoaXMucmF0ZTtcbiAgICAgICAgbGV0IG5ld1ggPSAocmF0ZS54KmRlbHRhICsgdGhpcy5jdXJyZW50VmFsdWUueCkldGhpcy5fd3JhcFZhbHVlLng7XG4gICAgICAgIGxldCBuZXdZID0gKHJhdGUueSpkZWx0YSArIHRoaXMuY3VycmVudFZhbHVlLnkpJXRoaXMuX3dyYXBWYWx1ZS55O1xuICAgICAgICBsZXQgbmV3WiA9IChyYXRlLnoqZGVsdGEgKyB0aGlzLmN1cnJlbnRWYWx1ZS56KSV0aGlzLl93cmFwVmFsdWUuejtcblxuICAgICAgICBuZXdYID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueCwgdGhpcy50YXJnZXRWYWx1ZS54LCByYXRlLngsIG5ld1gpO1xuICAgICAgICBuZXdZID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueSwgdGhpcy50YXJnZXRWYWx1ZS55LCByYXRlLnksIG5ld1kpO1xuICAgICAgICBuZXdaID0gdGhpcy5pbmNyZW1lbnREaW0odGhpcy5jdXJyZW50VmFsdWUueiwgdGhpcy50YXJnZXRWYWx1ZS56LCByYXRlLnosIG5ld1opO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gbmV3IFBvaW50MyhuZXdYLCBuZXdZLCBuZXdaKTtcbiAgICB9XG5cbiAgICBnZXQgcmVhY2hlZFRhcmdldCgpOiBib29sZWFuIHsgcmV0dXJuIFBvaW50My5lcXVhbHModGhpcy5jdXJyZW50VmFsdWUsIHRoaXMudGFyZ2V0VmFsdWUpOyB9XG59XG4iLCJpbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiLi9WYWx1ZVR3ZWVuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdyYXBwaW5nVmFsdWVUd2VlbiBleHRlbmRzIFZhbHVlVHdlZW5cbntcbiAgICBwcm90ZWN0ZWQgX3dyYXBWYWx1ZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfZGlyZWN0aW9uSXNVcDogYm9vbGVhbjtcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCwgdmFyaWFibGVOYW1lOiBzdHJpbmcsIHRhcmdldFZhbHVlOiBudW1iZXIsIHRpbWU6IG51bWJlciwgd3JhcFZhbHVlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihvYmplY3QsIHZhcmlhYmxlTmFtZSwgdGFyZ2V0VmFsdWUsIHRpbWUpO1xuICAgICAgICB0aGlzLl93cmFwVmFsdWUgPSB3cmFwVmFsdWU7XG4gICAgICAgIGxldCB3cmFwcGluZyA9IE1hdGguYWJzKHRoaXMuc3RhcnRWYWx1ZSAtIHRoaXMudGFyZ2V0VmFsdWUpID4gdGhpcy5fd3JhcFZhbHVlLzI7XG4gICAgICAgIGxldCB1cHdhcmRzID0gdGhpcy5zdGFydFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZVxuICAgICAgICB0aGlzLl9kaXJlY3Rpb25Jc1VwID0gKCh1cHdhcmRzICYmICF3cmFwcGluZykgfHwgKCF1cHdhcmRzICYmIHdyYXBwaW5nKSk7XG4gICAgfVxuXG4gICAgc2hvcnRlc3REaXN0YW5jZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy50YXJnZXRWYWx1ZSA9PT0gdGhpcy5jdXJyZW50VmFsdWUpXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbklzVXAgJiYgKHRoaXMudGFyZ2V0VmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRWYWx1ZSArIHRoaXMuX3dyYXBWYWx1ZSAtIHRoaXMuY3VycmVudFZhbHVlXG4gICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb25Jc1VwICYmICh0aGlzLnRhcmdldFZhbHVlID4gdGhpcy5jdXJyZW50VmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0VmFsdWUgLSB0aGlzLmN1cnJlbnRWYWx1ZVxuICAgICAgICBpZiAoIXRoaXMuX2RpcmVjdGlvbklzVXAgJiYgKHRoaXMudGFyZ2V0VmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXRWYWx1ZSAtIHRoaXMuY3VycmVudFZhbHVlXG4gICAgICAgIGlmICghdGhpcy5fZGlyZWN0aW9uSXNVcCAmJiAodGhpcy50YXJnZXRWYWx1ZSA+IHRoaXMuY3VycmVudFZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldFZhbHVlIC0gKHRoaXMuY3VycmVudFZhbHVlK3RoaXMuX3dyYXBWYWx1ZSlcbiAgICB9XG5cbiAgICBnZXQgcmF0ZSgpOiBhbnlcbiAgICB7IFxuICAgICAgICBpZiAodGhpcy50aW1lUmVtYWluaW5nIDw9IDApXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgcmV0dXJuICh0aGlzLnNob3J0ZXN0RGlzdGFuY2UoKSAvIHRoaXMudGltZVJlbWFpbmluZyk7XG4gICAgfVxuXG4gICAgaW5jcmVtZW50KGRlbHRhKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld1ZhbCA9IHRoaXMuY3VycmVudFZhbHVlICsgKHRoaXMucmF0ZSAqIGRlbHRhKTtcblxuICAgICAgICBpZiAoKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSkgJiYgKHRoaXMuX2RpcmVjdGlvbklzVXApKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1pbihuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgICAgICBlbHNlIGlmICgodGhpcy5jdXJyZW50VmFsdWUgPiB0aGlzLnRhcmdldFZhbHVlKSAmJiAodGhpcy5fZGlyZWN0aW9uSXNVcCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuZXdWYWwgJSB0aGlzLl93cmFwVmFsdWUgPCB0aGlzLmN1cnJlbnRWYWx1ZSlcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IE1hdGgubWluKG5ld1ZhbCwgdGhpcy50YXJnZXRWYWx1ZSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBuZXdWYWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHRoaXMuY3VycmVudFZhbHVlIDwgdGhpcy50YXJnZXRWYWx1ZSkgJiYgISh0aGlzLl9kaXJlY3Rpb25Jc1VwKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG5ld1ZhbCAlIHRoaXMuX3dyYXBWYWx1ZSA+IHRoaXMuY3VycmVudFZhbHVlKVxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gTWF0aC5tYXgobmV3VmFsLCB0aGlzLnRhcmdldFZhbHVlKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IG5ld1ZhbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodGhpcy5jdXJyZW50VmFsdWUgPiB0aGlzLnRhcmdldFZhbHVlKSAmJiAhKHRoaXMuX2RpcmVjdGlvbklzVXApKVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBNYXRoLm1heChuZXdWYWwsIHRoaXMudGFyZ2V0VmFsdWUpO1xuICAgIH1cblxuXG59IiwiaW1wb3J0IERyYXdCdWZmZXIgZnJvbSBcIi4vRHJhd0J1ZmZlclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyQ2xvbmUgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkJ1ZmZlckNsb25lXCI7IH1cblxuICAgIHByaXZhdGUgX2RyYXdCdWZmZXI6IERyYXdCdWZmZXI7XG4gICAgcHJpdmF0ZSBfY2xpcEZ1bmN0aW9uOiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKSA9PiB2b2lkO1xuXG4gICAgZ2V0IGNsaXBGdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2NsaXBGdW5jdGlvbjsgfVxuICAgIHNldCBjbGlwRnVuY3Rpb24odmFsKSB7IHRoaXMuX2NsaXBGdW5jdGlvbiA9IHZhbDsgfVxuXG4gICAgcHJpdmF0ZSBfb3JpZ2luOiBUcmFuc2xhdGlvbiA9IG5ldyBQaXhlbFRyYW5zbGF0aW9uKDAsMCk7XG4gICAgcHJpdmF0ZSBfYXJlYTogRGltZW5zaW9uID0gbnVsbDtcblxuICAgIGdldCBvcmlnaW4oKSB7IHJldHVybiB0aGlzLl9vcmlnaW47fVxuICAgIHNldCBvcmlnaW4odmFsKSB7IHRoaXMuX29yaWdpbiA9IHZhbDt9XG5cbiAgICBnZXQgYXJlYSgpIHsgcmV0dXJuIHRoaXMuX2FyZWE7fVxuICAgIHNldCBhcmVhKHZhbCkgeyB0aGlzLl9hcmVhID0gdmFsO31cblxuICAgIGdldCBkcmF3QnVmZmVyKCkgeyByZXR1cm4gdGhpcy5fZHJhd0J1ZmZlcjsgfVxuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgZHJhd0J1ZmZlcjogRHJhd0J1ZmZlciwgY2xpcEZ1bmN0aW9uPzogKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3M6IFBvaW50LCBkaW06IERpbWVuc2lvbikgPT4gdm9pZClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpXG4gICAgICAgIHRoaXMuX2RyYXdCdWZmZXIgPSBkcmF3QnVmZmVyO1xuICAgICAgICB0aGlzLl9jbGlwRnVuY3Rpb24gPSBjbGlwRnVuY3Rpb247XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fZHJhd0J1ZmZlcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBkcmF3IGJ1ZmZlcmNsb25lIGJlY2F1c2UgdGhlIHByb3ZpZGVkIERyYXdCdWZmZXIgaXMgbnVsbFwiKTtcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIGxldCBkYkRpbSA9IHRoaXMuX2RyYXdCdWZmZXIuY2FudmFzVXNlZERpbWVuc2lvbjtcblxuICAgICAgICBpZiAodGhpcy5fY2xpcEZ1bmN0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb250ZXh0MkQuc2F2ZSgpO1xuICAgICAgICAgICAgdGhpcy5fY2xpcEZ1bmN0aW9uKGNvbnRleHQyRCwgcG9zLCBkaW0pXG4gICAgICAgICAgICBjb250ZXh0MkQuY2xpcCgpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBsZXQgc291cmNlRGltID0gZGJEaW07XG4gICAgICAgIGlmICh0aGlzLmFyZWEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZURpbSA9IHRoaXMuYXJlYS5hc1NpbXBsZVBpeGVsRGltZW5zaW9uKHRoaXMudHJhbnNmb3JtLmJvdW5kcyk7XG4gICAgICAgICAgICBzb3VyY2VEaW0gPSBuZXcgRGltZW5zaW9uKHNvdXJjZURpbS53aWR0aCp0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbywgc291cmNlRGltLmhlaWdodCp0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG9yaWcgPSB0aGlzLm9yaWdpbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCh0aGlzLmRyYXdCdWZmZXIudHJhbnNmb3JtLmJvdW5kcyk7XG5cbiAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLl9kcmF3QnVmZmVyLmNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnLnggKiB0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnLnkgKiB0aGlzLmRyYXdCdWZmZXIucGl4ZWxSYXRpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VEaW0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlRGltLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MueCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MueSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW0ud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltLmhlaWdodCk7XG4gICAgICAgIGlmICh0aGlzLl9jbGlwRnVuY3Rpb24pXG4gICAgICAgICAgICBjb250ZXh0MkQucmVzdG9yZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEcmF3QnVmZmVyIGZyb20gXCIuL0RyYXdCdWZmZXJcIjtcbmltcG9ydCB7IE91dGxpbmVSZWN0IH0gZnJvbSBcIi4vUmVjdFwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uL0NvbXBvbmVudFwiO1xuaW1wb3J0IHsgRnJhbWUgfSBmcm9tIFwiLi4vRnJhbWVcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnVmZmVyZWQ8VCBleHRlbmRzIEdhbWVPYmplY3Q+IGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfY29uc3RydWN0b3JBcmdzOiBhbnlbXTtcbiAgICBwcm90ZWN0ZWQgX3R5cGU6IChuZXcgKC4uLmFyZ3MpID0+IFQpO1xuICAgIHByb3RlY3RlZCBfaW5uZXI6IFQ7XG4gICAgcHJvdGVjdGVkIF9idWZmZXI6IERyYXdCdWZmZXI7XG5cbiAgICBwcm90ZWN0ZWQgX2RlYnVnT3V0bGluZTogT3V0bGluZVJlY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlOiAobmV3ICguLi5hcmdzKSA9PiBUKSwgLi4uY29uc3RydWN0b3JBcmdzKVxuICAgIHtcbiAgICAgICAgbGV0IGFyZzEgPSBjb25zdHJ1Y3RvckFyZ3Muc2hpZnQoKTtcbiAgICAgICAgaWYgKGFyZzEgaW5zdGFuY2VvZiBQb3NpdGlvbilcbiAgICAgICAgICAgIHN1cGVyKGFyZzEsIGNvbnN0cnVjdG9yQXJncy5zaGlmdCgpIGFzIEJvdW5kcylcbiAgICAgICAgZWxzZSBpZiAoYXJnMSBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgIHN1cGVyKG51bGwsIGFyZzEpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjcmVhdGUgYSBCdWZmZXJlZDxHYW1lT2JqZWN0PiB0aGF0IGxhY2tzIGEgYm91bmRzLiBEcmF3QnVmZmVycyByZXF1aXJlIGEgQm91bmRzXCIpO1xuICAgICAgICB0aGlzLl9jb25zdHJ1Y3RvckFyZ3MgPSBjb25zdHJ1Y3RvckFyZ3M7XG4gICAgICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuXG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IG5ldyBEcmF3QnVmZmVyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpO1xuICAgICAgICB0aGlzLl9pbm5lciA9IG5ldyB0aGlzLl90eXBlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIC4uLnRoaXMuX2NvbnN0cnVjdG9yQXJncyk7XG4gICAgfVxuXG4gICAgZ2V0IGlubmVyKCkgeyByZXR1cm4gdGhpcy5faW5uZXI7IH1cbiAgICBnZXQgYnVmZmVyKCkgeyByZXR1cm4gdGhpcy5fYnVmZmVyOyB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9idWZmZXIpO1xuICAgICAgICB0aGlzLl9idWZmZXIuYWRkQ2hpbGQodGhpcy5faW5uZXIpO1xuICAgICAgICAvL3RoaXMuX2RlYnVnT3V0bGluZSA9IHRoaXMuYWRkQ2hpbGQ8T3V0bGluZVJlY3Q+KG5ldyBPdXRsaW5lUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcInJlZFwiLDUpKTtcblxuICAgICAgICBpZiAodGhpcy5pbm5lciBpbnN0YW5jZW9mIENvbXBvbmVudClcbiAgICAgICAgICAgIHRoaXMuaW5uZXIuY29udHJvbGxlci5vbkRlc3Ryb3kucHVzaCgoKCkgPT4geyB0aGlzLnJlcXVlc3RSZW1vdmFsKCk7fSkuYmluZCh0aGlzKSwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuaW5uZXIgaW5zdGFuY2VvZiBGcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbkNsb3NlLnB1c2goKCgpID0+IHsgdGhpcy52aXNpYmxlID0gZmFsc2U7IHRoaXMuYWN0aXZlID0gZmFsc2U7IH0pLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbk9wZW4ucHVzaCgoKCkgPT4geyB0aGlzLnZpc2libGUgPSB0cnVlOyB0aGlzLmFjdGl2ZSA9IHRydWU7IH0pLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5pbm5lci5pc09wZW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuaW5uZXIgaW5zdGFuY2VvZiBDb21wb25lbnQpXG4gICAgICAgICAgICB0aGlzLmlubmVyLmNvbnRyb2xsZXIub25EZXN0cm95LnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmlubmVyIGluc3RhbmNlb2YgRnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW5uZXIubGlzdGVuZXIub25DbG9zZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5pbm5lci5saXN0ZW5lci5vbk9wZW4udW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXcoKVxuICAgIHtcbiAgICAgICAgLy90aGlzLl9kZWJ1Z091dGxpbmUub3BhY2l0eSA9IDA7XG4gICAgICAgIC8qaWYgKHRoaXMuYnVmZmVyLmRyYXdSZXF1ZXN0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnT3V0bGluZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIHRoaXMuX2RlYnVnT3V0bGluZS5zdHJva2VTdHlsZSA9IFwiI1wiICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjkpICsgXCJcIiArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KSArIFwiXCIgK01hdGgucm91bmQoTWF0aC5yYW5kb20oKSo5KTtcbiAgICAgICAgfSovXG4gICAgfVxufSIsImltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgU2hhcGUgZnJvbSBcIi4vU2hhcGVcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcblxuZXhwb3J0IGNsYXNzIENpcmNsZSBleHRlbmRzIFNoYXBlXG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkNpcmNsZVwiOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBmaWxsU3R5bGU6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmZpbGxTdHlsZSlcbiAgICAgICAgICAgIHRoaXMuZmlsbGVkKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuICAgICAgICBpZiAoKHRoaXMubGluZVdpZHRoID4gMCkgJiYgKHRoaXMuc3Ryb2tlU3R5bGUpKVxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuXG4gICAgfVxuXG4gICAgb3V0bGluZShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBsZXQgcmFkRGltID0gbmV3IERpbWVuc2lvbihNYXRoLm1heCgwLCBkaW0ud2lkdGgtdGhpcy5saW5lV2lkdGgpLCBNYXRoLm1heCgwLCBkaW0uaGVpZ2h0LXRoaXMubGluZVdpZHRoKSlcbiAgICAgICAgY29udGV4dDJELnN0cm9rZVN0eWxlID0gdGhpcy5zdHJva2VTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmxpbmVXaWR0aCA9IHRoaXMubGluZVdpZHRoO1xuICAgICAgICBjb250ZXh0MkQuYmVnaW5QYXRoKClcbiAgICAgICAgY29udGV4dDJELmFyYyhwb3MueCArIGRpbS53aWR0aC8yLCBwb3MueSArIGRpbS5oZWlnaHQvMiwgTWF0aC5taW4ocmFkRGltLndpZHRoLCByYWREaW0uaGVpZ2h0KS8yLCAwLCAyKk1hdGguUEkpO1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlKCk7XG4gICAgfVxuXG4gICAgZmlsbGVkKGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3M6IFBvaW50LCBkaW06IERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGNvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcbiAgICAgICAgY29udGV4dDJELmJlZ2luUGF0aCgpXG4gICAgICAgIGNvbnRleHQyRC5hcmMocG9zLnggKyBkaW0ud2lkdGgvMiwgcG9zLnkgKyBkaW0uaGVpZ2h0LzIsIE1hdGgubWluKGRpbS53aWR0aCwgZGltLmhlaWdodCkvMiwgMCwgMipNYXRoLlBJKTtcbiAgICAgICAgY29udGV4dDJELmZpbGwoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaWxsQ2lyY2xlIGV4dGVuZHMgQ2lyY2xlXG57XG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgZmlsbFN0eWxlOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCB1bmRlZmluZWQsIGZpbGxTdHlsZSwgMCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3V0bGluZUNpcmNsZSBleHRlbmRzIENpcmNsZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0cm9rZVN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgc3Ryb2tlU3R5bGUsIHVuZGVmaW5lZCwgbGluZVdpZHRoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi8uLi9UcmFuc2Zvcm1cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYXdCdWZmZXIgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJvdGVjdGVkIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gbnVsbDtcbiAgICBwcm90ZWN0ZWQgX2NvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0gbnVsbDtcbiAgICBwcm90ZWN0ZWQgX2RyYXdSZXF1ZXN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgX2JhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfb2xkRGltZW5zaW9uOiBEaW1lbnNpb247XG4gICAgcHJvdGVjdGVkIF9waXhlbFJhdGlvOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9oYXNBbHBoYUNoYW5uZWw6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLy8gRGVjbGFyZWQgaGVyZSBzbyB3ZSBkb24ndCBuZWVkIHRvIHJlZGVjbGFyZSBpbiBkcmF3IGxvb3BcbiAgICBwcml2YXRlIF9fcG9zOiBQb2ludDtcbiAgICBwcml2YXRlIF9fZGltOiBEaW1lbnNpb247XG5cbiAgICBwcm90ZWN0ZWQgX2ltYWdlRGF0YSA9IG51bGw7XG4gICAgcHJvdGVjdGVkIHN0YXRpYyByZWFkb25seSBtaW5DYW52YXNTaXplID0gMjU2OyAvLyBiaWcgZW5vdWdoIHRvIHRyaWdnZXIgaGFyZHdhcmUgYWNjZWxsZXJhdGlvbiBvbiBzb21lIGJyb3dzZXJzIChDaHJvbWUpXG4gICAgZGVidWdEaXNhYmxlQ2FjaGUgPSBmYWxzZTtcblxuICAgIHByb3RlY3RlZCBfZm9yZ2V0SW50ZXJuYWxzT25EcmF3OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9jYW52YXNEcmF3Rml4ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJEcmF3QnVmZmVyXCI7IH1cblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uPzogUG9zaXRpb24sIGJvdW5kcz86IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHN1cGVyKG5ldyBEcmF3VHJhbnNmb3JtKHBvc2l0aW9uLCBib3VuZHMpKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uKVxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ucmVzZXREcmF3UG9zID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgZm9yZ2V0SW50ZXJuYWxzT25EcmF3KCkgeyByZXR1cm4gdGhpcy5fZm9yZ2V0SW50ZXJuYWxzT25EcmF3OyB9XG4gICAgc2V0IGZvcmdldEludGVybmFsc09uRHJhdyh2YWwpIHsgdGhpcy5fZm9yZ2V0SW50ZXJuYWxzT25EcmF3ID0gdmFsOyB9XG5cbiAgICBnZXQgY2FudmFzRHJhd0ZpeGVkKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzRHJhd0ZpeGVkOyB9XG5cbiAgICBnZXQgY2FudmFzKCkgeyByZXR1cm4gdGhpcy5fY2FudmFzOyB9XG4gICAgZ2V0IGNvbnRleHQyRCgpIHsgcmV0dXJuIHRoaXMuX2NvbnRleHQyRDsgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBkaW1lbnNpb24gb2YgdGhlIHVzZWQgYXJlYSBvZiB0aGUgY2FudmFzIChtYXkgZGlmZmVyIGZyb20gYWN0dWFsIGNhbnZhcyBzaXplIGR1ZSB0byBoYXJkd2FyZSBvcHRpbWlzYXRpb24pICAqL1xuICAgIGdldCBjYW52YXNVc2VkRGltZW5zaW9uKCkgeyByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKE1hdGguY2VpbCh0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoICogdGhpcy5waXhlbFJhdGlvKSwgTWF0aC5jZWlsKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICogdGhpcy5waXhlbFJhdGlvKSk7IH1cbiAgICBnZXQgYmFja2dyb3VuZENvbG9yKCkgeyByZXR1cm4gdGhpcy5fYmFja2dyb3VuZENvbG9yOyB9XG4gICAgc2V0IGJhY2tncm91bmRDb2xvcih2YWwpIHsgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gdmFsOyB9XG4gICAgZ2V0IHBpeGVsUmF0aW8oKSB7IHJldHVybiB0aGlzLl9waXhlbFJhdGlvOyB9XG4gICAgZ2V0IGhhc0FscGhhQ2hhbm5lbCgpIHsgcmV0dXJuIHRoaXMuX2hhc0FscGhhQ2hhbm5lbDsgfVxuICAgIHNldCBoYXNBbHBoYUNoYW5uZWwodmFsKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLl9oYXNBbHBoYUNoYW5uZWwgIT09IHZhbCkgJiYgKHRoaXMuX2NhbnZhcykpXG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0MkQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IHZhbH0pO1xuICAgICAgICB0aGlzLl9oYXNBbHBoYUNoYW5uZWwgPSB2YWw7IFxuICAgIH1cbiAgICBnZXQgZHJhd1JlcXVlc3RlZCgpIHsgcmV0dXJuIHRoaXMuX2RyYXdSZXF1ZXN0ZWQ7IH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9jcmVhdGVEcmF3QnVmZmVyKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9jcmVhdGVEcmF3QnVmZmVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLl9jb250ZXh0MkQgPSB0aGlzLl9jYW52YXMuZ2V0Q29udGV4dCgnMmQnLCB7YWxwaGE6IHRoaXMuaGFzQWxwaGFDaGFubmVsfSk7XG4gICAgICAgIHRoaXMucmVzaXplQ2FudmFzKHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24sIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHJlc2l6ZUNhbnZhcyhkaW06IERpbWVuc2lvbiwgZGV2aWNlUGl4ZWxSYXRpbzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcGl4ZWxSYXRpbyA9IGRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gTWF0aC5tYXgoZGltLndpZHRoICogdGhpcy5waXhlbFJhdGlvLCBEcmF3QnVmZmVyLm1pbkNhbnZhc1NpemUpO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSAgTWF0aC5tYXgoZGltLmhlaWdodCAqIHRoaXMucGl4ZWxSYXRpbywgRHJhd0J1ZmZlci5taW5DYW52YXNTaXplKTtcbiAgICAgICAgdGhpcy5fb2xkRGltZW5zaW9uID0gbmV3IERpbWVuc2lvbihkaW0ud2lkdGgsIGRpbS5oZWlnaHQpO1xuICAgICAgICB0aGlzLl9jb250ZXh0MkQuc2V0VHJhbnNmb3JtKDEsMCwwLDEsMCwwKTtcbiAgICAgICAgdGhpcy5fY29udGV4dDJELnNjYWxlKHRoaXMucGl4ZWxSYXRpbywgdGhpcy5waXhlbFJhdGlvKTtcbiAgICB9XG5cbiAgICBjbGVhcigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kQ29sb3IpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5maWxsUmVjdCgwLCAwLCB0aGlzLl9jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsUmF0aW8sIHRoaXMuX2NhbnZhcy5oZWlnaHQgLyB0aGlzLnBpeGVsUmF0aW8pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGggLyB0aGlzLnBpeGVsUmF0aW8sIHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMucGl4ZWxSYXRpbyk7XG4gICAgfVxuXG4gICAgZG9EcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLmNyZWF0ZWQpICYmICh0aGlzLnZpc2libGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnRpbmdPcGFjaXR5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHRoaXMub3BhY2l0eSAhPT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGFydGluZ09wYWNpdHkgPSBjb250ZXh0MkQuZ2xvYmFsQWxwaGE7XG4gICAgICAgICAgICAgICAgY29udGV4dDJELmdsb2JhbEFscGhhID0gY29udGV4dDJELmdsb2JhbEFscGhhICogdGhpcy5vcGFjaXR5O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHRoaXMuX2RyYXdSZXF1ZXN0ZWQpICYmICghKHRoaXMuX2NhbnZhc0RyYXdGaXhlZCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKHggPT4geC5kb0RyYXcodGhpcy5fY29udGV4dDJEKSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ZvcmdldEludGVybmFsc09uRHJhdylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjID0+IHRoaXMucmVtb3ZlQ2hpbGQoYykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYW52YXNEcmF3Rml4ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbilcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXcoY29udGV4dDJEKTtcblxuICAgICAgICAgICAgaWYgKHN0YXJ0aW5nT3BhY2l0eSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRleHQyRC5nbG9iYWxBbHBoYSA9IHN0YXJ0aW5nT3BhY2l0eTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgcHJvdGVjdGVkIF9oYXNSZXNpemVkKClcbiAgICB7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuICAgICAgICByZXR1cm4gKCh0aGlzLl9vbGREaW1lbnNpb24ud2lkdGggIT09IGRpbS53aWR0aCkgfHxcbiAgICAgICAgICAgICAgICAodGhpcy5fb2xkRGltZW5zaW9uLmhlaWdodCAhPT0gZGltLmhlaWdodCkpXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9oYXNEZXZpY2VQaXhlbFJhdGlvQ2hhbmdlZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGl4ZWxSYXRpbyAhPT0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgfVxuXG4gICAgYmVnaW4oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1Jlc2l6ZWQoKSB8fCB0aGlzLl9oYXNEZXZpY2VQaXhlbFJhdGlvQ2hhbmdlZCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUNhbnZhcyh0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLCB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZWJ1Z0Rpc2FibGVDYWNoZSlcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICBkcmF3KGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKVxuICAgIHtcbiAgICAgICAgaWYgKGNvbnRleHQyRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ucmVzZXREcmF3UG9zID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9fcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICAgICAgdGhpcy5fX2RpbSA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5yZXNldERyYXdQb3MgPSB0cnVlO1xuICAgICAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLl9jYW52YXMsIDAsMCwgTWF0aC5yb3VuZCh0aGlzLl9fZGltLndpZHRoKSAqIHRoaXMucGl4ZWxSYXRpbywgTWF0aC5yb3VuZCh0aGlzLl9fZGltLmhlaWdodCkgKiB0aGlzLnBpeGVsUmF0aW8sIE1hdGgucm91bmQodGhpcy5fX3Bvcy54KSwgTWF0aC5yb3VuZCh0aGlzLl9fcG9zLnkpLCBNYXRoLnJvdW5kKHRoaXMuX19kaW0ud2lkdGgpLCBNYXRoLnJvdW5kKHRoaXMuX19kaW0uaGVpZ2h0KSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0RHJhdygpXG4gICAge1xuICAgICAgICB0aGlzLl9kcmF3UmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cblxuXG4gICAgLyppbnN0cnVtZW50KGxldmVsOiBudW1iZXIsIFZhcmlhYmxlTG9nZ2VyOiBWYXJpYWJsZUxvZ2dlciwgZXZlbnRMb2dnZXI6IFRlbGVtZXRyeUV2ZW50TG9nZ2VyKVxuICAgIHtcbiAgICAgICAgc3VwZXIuaW5zdHJ1bWVudChsZXZlbCwgVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyKTtcbiAgICAgICAgaWYgKGxldmVsID09PSBJbnN0cnVtZW50TGV2ZWwuRlVMTClcbiAgICAgICAgICAgIFZhcmlhYmxlTG9nZ2VyLmFkZFZhcmlhYmxlUGF0aHMoXCJfZHJhd1JlcXVlc3RlZFwiLFwiX2JhY2tpbmdTdG9yZVJhdGlvXCIsXCJfYmFja2dyb3VuZENvbG9yXCIsXCJfb2xkRGltZW5zaW9uXCIsXCJkZWJ1Z0Rpc2FibGVDYWNoZVwiKTtcbiAgICB9Ki9cbn1cblxuY2xhc3MgRHJhd1RyYW5zZm9ybSBleHRlbmRzIFRyYW5zZm9ybVxue1xuICAgIHJlY2FsY3VsYXRlKGV4Y2x1ZGVEcmF3Q2FjaGU/OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKCEoZXhjbHVkZURyYXdDYWNoZSkpXG4gICAgICAgICAgICBpZiAoISh0aGlzLmJvdW5kcy5oYXNSZXNpemVkQXV0b1VwZGF0ZSgpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wb3NpdGlvbilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5kcmF3Q2FjaGVEaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZXhjbHVkZURyYXdDYWNoZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3VwZXIuZ2FtZU9iamVjdC5yZXF1ZXN0RHJhdygpOyAvLyBUaGUgY2hpbGRyZW4gb2YgdGhpcyBEcmF3QnVmZmVyIHdpbGwgbm90IGNhbGwgcmVxdWVzdERyYXcsIGJ1dCB3ZSBrbm93IHRoaXMgZHJhd0J1ZmZlciBuZWVkcyB0byBiZSByZWRyYXduXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIucmVjYWxjdWxhdGUoZXhjbHVkZURyYXdDYWNoZSk7XG4gICAgfVxufSIsImltcG9ydCBTaGFwZSBmcm9tIFwiLi9TaGFwZVwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0IGV4dGVuZHMgU2hhcGVcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiUmVjdFwiOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBmaWxsU3R5bGU6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmZpbGxTdHlsZSlcbiAgICAgICAgICAgIHRoaXMuZmlsbGVkKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuICAgICAgICBpZiAoKHRoaXMubGluZVdpZHRoID4gMCkgJiYgKHRoaXMuc3Ryb2tlU3R5bGUpKVxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuXG4gICAgfVxuXG4gICAgb3V0bGluZShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgICBjb250ZXh0MkQubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKVxuICAgICAgICBjb250ZXh0MkQucmVjdChwb3MueCArIHRoaXMubGluZVdpZHRoLzIsIHBvcy55ICsgdGhpcy5saW5lV2lkdGgvMiwgZGltLndpZHRoLXRoaXMubGluZVdpZHRoLCBkaW0uaGVpZ2h0LXRoaXMubGluZVdpZHRoKTtcbiAgICAgICAgY29udGV4dDJELnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGZpbGxlZChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKVxuICAgICAgICBjb250ZXh0MkQuZmlsbFJlY3QocG9zLngsIHBvcy55LCBkaW0ud2lkdGgsIGRpbS5oZWlnaHQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGxSZWN0IGV4dGVuZHMgUmVjdFxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGZpbGxTdHlsZTogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgdW5kZWZpbmVkLCBmaWxsU3R5bGUsIDApO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE91dGxpbmVSZWN0IGV4dGVuZHMgUmVjdFxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0cm9rZVN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgc3Ryb2tlU3R5bGUsIHVuZGVmaW5lZCwgbGluZVdpZHRoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWJ1Z1JlY3QgZXh0ZW5kcyBPdXRsaW5lUmVjdFxue1xuICAgIGNvbnN0cnVjdG9yKGNvbG91cjogc3RyaW5nLCBsaW5lV2lkdGg6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIGNvbG91ciwgbGluZVdpZHRoKVxuICAgIH1cbn0iLCJpbXBvcnQgRHJhd0J1ZmZlciBmcm9tIFwiLi9EcmF3QnVmZmVyXCI7XG5pbXBvcnQgRGVidWdQYW5lIGZyb20gXCIuLi91aS9EZWJ1Z1BhbmVcIjtcbmltcG9ydCBCdWZmZXJlZCBmcm9tIFwiLi9CdWZmZXJlZFwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCB7IEZyYW1lIH0gZnJvbSBcIi4uL0ZyYW1lXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJvb3Q8VCBleHRlbmRzIEdhbWVPYmplY3Q+IGV4dGVuZHMgRHJhd0J1ZmZlclxue1xuICAgIHByb3RlY3RlZCBfcmVzaXplVGFyZ2V0OiBEaW1lbnNpb247XG4gICAgcHJvdGVjdGVkIF9jb25zdHJ1Y3RvckFyZ3M6IGFueVtdO1xuICAgIHByb3RlY3RlZCBfdHlwZTtcblxuICAgIHByb3RlY3RlZCBfaW5uZXI6IFQ7XG4gICAgcHJvdGVjdGVkIF9idWZmZXJlZDogQnVmZmVyZWQ8VD47XG5cbiAgICBwcml2YXRlIF9kZWJ1Z1BhbmU6IGJvb2xlYW47XG4gICAgZ2V0IGRlYnVnUGFuZSgpIHsgcmV0dXJuIHRoaXMuX2RlYnVnUGFuZTsgfVxuICAgIHNldCBkZWJ1Z1BhbmUodmFsKSB7IHRoaXMuX2RlYnVnUGFuZSA9IHZhbDsgfVxuXG4gICAgY29uc3RydWN0b3IodHlwZTogKG5ldyAoLi4uYXJncykgPT4gVCksIC4uLmNvbnN0cnVjdG9yQXJncylcbiAgICB7XG4gICAgICAgIGxldCBhcmcxID0gY29uc3RydWN0b3JBcmdzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChhcmcxIGluc3RhbmNlb2YgUG9zaXRpb24pXG4gICAgICAgICAgICBzdXBlcihhcmcxLCBjb25zdHJ1Y3RvckFyZ3Muc2hpZnQoKSBhcyBCb3VuZHMpXG4gICAgICAgIGVsc2UgaWYgKGFyZzEgaW5zdGFuY2VvZiBCb3VuZHMpXG4gICAgICAgICAgICBzdXBlcihudWxsLCBhcmcxKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgQnVmZmVyZWQ8R2FtZU9iamVjdD4gdGhhdCBsYWNrcyBhIGJvdW5kcy4gRHJhd0J1ZmZlcnMgcmVxdWlyZSBhIEJvdW5kc1wiKTtcbiAgICAgICAgdGhpcy5fY29uc3RydWN0b3JBcmdzID0gY29uc3RydWN0b3JBcmdzO1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcblxuICAgICAgICB0aGlzLl9idWZmZXJlZCA9IG5ldyBCdWZmZXJlZDxUPih0aGlzLl90eXBlLCBuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCAuLi50aGlzLl9jb25zdHJ1Y3RvckFyZ3MpO1xuICAgICAgICB0aGlzLl9pbm5lciA9IHRoaXMuX2J1ZmZlcmVkLmlubmVyO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhbnZhcyhuYW1lOiBzdHJpbmcpXG4gICAge1xuICAgICAgICB0aGlzLl9jcmVhdGVEcmF3QnVmZmVyKCk7XG4gICAgICAgIHRoaXMuX2NhbnZhcy5pZCA9IG5hbWU7XG4gICAgICAgIC8vIElmIG5lZWRlZCB0byBmb2N1cyB0aGUgY2FudmFzOlxuICAgICAgICAvLyB0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiwgXCIxXCIpO1xuICAgICAgICAvLyB0aGlzLl9jYW52YXMuZm9jdXMoKTtcbiAgICB9XG5cbiAgICByZXNpemVUb09uVXBkYXRlKGRpbWVuc2lvbjogRGltZW5zaW9uKSB7IHRoaXMuX3Jlc2l6ZVRhcmdldCA9IGRpbWVuc2lvbjsgfVxuXG4gICAgcmVzaXplQ2FudmFzKGRpbTogRGltZW5zaW9uLCBkZXZpY2VQaXhlbFJhdGlvOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlci5yZXNpemVDYW52YXMoZGltLCBkZXZpY2VQaXhlbFJhdGlvKTtcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUud2lkdGggPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoICsgJ3B4JztcbiAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuaGVpZ2h0ID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQgKyAncHgnO1xuICAgIH1cblxuICAgIC8vT3ZlcnJpZGUgdGhpcyBzbyB3ZSBkbyBubyByZS1jcmVhdGUgdGhlIGNhbnZhc1xuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgIC8vIGlmICghdGhpcy5iYWNrZ3JvdW5kQ29sb3IpIFxuICAgICAgICAvLyAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgdGhpcy5oYXNBbHBoYUNoYW5uZWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLl9idWZmZXJlZCk7XG4gICAgfVxuXG4gICAgYWZ0ZXJDcmVhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWdQYW5lKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZGVidWdQYW5lID0gdGhpcy5fYnVmZmVyZWQuYnVmZmVyLmFkZENoaWxkKG5ldyBEZWJ1Z1BhbmUobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpO1xuICAgICAgICAgICAgZGVidWdQYW5lLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGRlYnVnUGFuZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLl9idWZmZXJlZC5idWZmZXIuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICAgIHRoaXMuX2J1ZmZlcmVkLmJ1ZmZlci5oYXNBbHBoYUNoYW5uZWwgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5faW5uZXIgaW5zdGFuY2VvZiBGcmFtZSlcbiAgICAgICAgICAgIHRoaXMuX2lubmVyLm9wZW4oKTtcbiAgICB9XG5cbiAgICBiZWdpbigpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVzaXplVGFyZ2V0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuY2xlYXJEaW1lbnNpb25zKClcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5hZGREaW1lbnNpb24odGhpcy5fcmVzaXplVGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5yZWNhbGN1bGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmJlZ2luKCk7XG4gICAgfVxuXG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIlJvb3RcIjsgfVxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBTaGFwZSBmcm9tIFwiLi9TaGFwZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3VuZGVkUmVjdCBleHRlbmRzIFNoYXBlXG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIlJvdW5kZWRSZWN0XCI7IH1cbiAgICBcbiAgICBwcm90ZWN0ZWQgX3JhZGl1czogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgc3Ryb2tlU3R5bGU6IHN0cmluZywgZmlsbFN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyLCByYWRpdXM6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLnN0cm9rZVN0eWxlID0gc3Ryb2tlU3R5bGU7XG4gICAgICAgIHRoaXMuZmlsbFN0eWxlID0gZmlsbFN0eWxlO1xuICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcbiAgICAgICAgdGhpcy5fcmFkaXVzID0gcmFkaXVzO1xuICAgIH1cblxuICAgIGRyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgICBjb250ZXh0MkQubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGNvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmZpbGxTdHlsZTtcblxuICAgICAgICBsZXQgcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICBsZXQgZGltID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgbGV0IGZpbGxlZCA9ICh0aGlzLmZpbGxTdHlsZSAhPT0gdW5kZWZpbmVkKTtcbiAgICAgICAgbGV0IHN0cm9rZSA9ICh0aGlzLnN0cm9rZVN0eWxlICE9PSB1bmRlZmluZWQpO1xuICAgICAgICB0aGlzLnJvdW5kUmVjdChjb250ZXh0MkQsIHBvcy54LCBwb3MueSwgZGltLndpZHRoLCBkaW0uaGVpZ2h0LCB0aGlzLl9yYWRpdXMsIGZpbGxlZCwgc3Ryb2tlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBbY29kZSBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMzY4MTE4XVxuICAgICAqIERyYXdzIGEgcm91bmRlZCByZWN0YW5nbGUgdXNpbmcgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBJZiB5b3Ugb21pdCB0aGUgbGFzdCB0aHJlZSBwYXJhbXMsIGl0IHdpbGwgZHJhdyBhIHJlY3RhbmdsZVxuICAgICAqIG91dGxpbmUgd2l0aCBhIDUgcGl4ZWwgYm9yZGVyIHJhZGl1c1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCBUaGUgdG9wIGxlZnQgeCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgVGhlIHRvcCBsZWZ0IHkgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtyYWRpdXMgPSA1XSBUaGUgY29ybmVyIHJhZGl1czsgSXQgY2FuIGFsc28gYmUgYW4gb2JqZWN0IFxuICAgICAqICAgICAgICAgICAgICAgICB0byBzcGVjaWZ5IGRpZmZlcmVudCByYWRpaSBmb3IgY29ybmVyc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXVzLnRsID0gMF0gVG9wIGxlZnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3JhZGl1cy50ciA9IDBdIFRvcCByaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcmFkaXVzLmJyID0gMF0gQm90dG9tIHJpZ2h0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtyYWRpdXMuYmwgPSAwXSBCb3R0b20gbGVmdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ZpbGwgPSBmYWxzZV0gV2hldGhlciB0byBmaWxsIHRoZSByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbc3Ryb2tlID0gdHJ1ZV0gV2hldGhlciB0byBzdHJva2UgdGhlIHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgICByb3VuZFJlY3QoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgcmFkaXVzLCBmaWxsOiBib29sZWFuLCBzdHJva2U6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHN0cm9rZSA9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc3Ryb2tlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJhZGl1cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IDU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByYWRpdXMgPSB7dGw6IHJhZGl1cywgdHI6IHJhZGl1cywgYnI6IHJhZGl1cywgYmw6IHJhZGl1c307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFJhZGl1cyA9IHt0bDogMCwgdHI6IDAsIGJyOiAwLCBibDogMH07XG4gICAgICAgICAgICBmb3IgKHZhciBzaWRlIGluIGRlZmF1bHRSYWRpdXMpIHtcbiAgICAgICAgICAgIHJhZGl1c1tzaWRlXSA9IHJhZGl1c1tzaWRlXSB8fCBkZWZhdWx0UmFkaXVzW3NpZGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgcmFkaXVzLnRsLCB5KTtcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgd2lkdGggLSByYWRpdXMudHIsIHkpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4ICsgd2lkdGgsIHksIHggKyB3aWR0aCwgeSArIHJhZGl1cy50cik7XG4gICAgICAgIGN0eC5saW5lVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0IC0gcmFkaXVzLmJyKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCArIHdpZHRoLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGggLSByYWRpdXMuYnIsIHkgKyBoZWlnaHQpO1xuICAgICAgICBjdHgubGluZVRvKHggKyByYWRpdXMuYmwsIHkgKyBoZWlnaHQpO1xuICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyh4LCB5ICsgaGVpZ2h0LCB4LCB5ICsgaGVpZ2h0IC0gcmFkaXVzLmJsKTtcbiAgICAgICAgY3R4LmxpbmVUbyh4LCB5ICsgcmFkaXVzLnRsKTtcbiAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oeCwgeSwgeCArIHJhZGl1cy50bCwgeSk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cm9rZSkge1xuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCIuLi8uLi9HYW1lT2JqZWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXBlIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJTaGFwZVwiOyB9XG5cbiAgICBwcml2YXRlIF9zdHJva2VTdHlsZTogc3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgX2ZpbGxTdHlsZTogc3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIHByaXZhdGUgX2xpbmVXaWR0aDogbnVtYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb24sIGJvdW5kcylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpXG4gICAgfVxuXG4gICAgZ2V0IHN0cm9rZVN0eWxlKCkgeyByZXR1cm4gdGhpcy5fc3Ryb2tlU3R5bGU7IH1cbiAgICBnZXQgZmlsbFN0eWxlKCkgeyByZXR1cm4gdGhpcy5fZmlsbFN0eWxlOyB9XG4gICAgZ2V0IGxpbmVXaWR0aCgpIHsgcmV0dXJuIHRoaXMuX2xpbmVXaWR0aDsgfVxuXG4gICAgc2V0IHN0cm9rZVN0eWxlKHZhbCkgeyB0aGlzLl9zdHJva2VTdHlsZSA9IHZhbDsgfVxuICAgIHNldCBsaW5lV2lkdGgodmFsKSB7IHRoaXMuX2xpbmVXaWR0aCA9IHZhbDsgfVxuICAgIHNldCBmaWxsU3R5bGUodmFsKSB7IHRoaXMuX2ZpbGxTdHlsZSA9IHZhbDsgfVxuXG4gICAgLyppbnN0cnVtZW50KGxldmVsOiBudW1iZXIsIFZhcmlhYmxlTG9nZ2VyOiBWYXJpYWJsZUxvZ2dlciwgZXZlbnRMb2dnZXI6IFRlbGVtZXRyeUV2ZW50TG9nZ2VyKVxuICAgIHtcbiAgICAgICAgc3VwZXIuaW5zdHJ1bWVudChsZXZlbCwgVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyKTtcbiAgICAgICAgaWYgKGxldmVsID09PSBJbnN0cnVtZW50TGV2ZWwuRlVMTClcbiAgICAgICAgICAgIFZhcmlhYmxlTG9nZ2VyLmFkZFZhcmlhYmxlUGF0aHMoXCJfc3Ryb2tlU3R5bGVcIixcIl9maWxsU3R5bGVcIixcIl9saW5lV2lkdGhcIik7XG4gICAgfSovXG59XG4iLCJpbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBMb2FkZXIgZnJvbSBcImVuZ2luZS9pby9Mb2FkZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3ByaXRlIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJTcHJpdGVcIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9maWxlbmFtZXM6IHN0cmluZ1tdO1xuICAgIHByb3RlY3RlZCBfaW1nOiBIVE1MSW1hZ2VFbGVtZW50O1xuICAgIHByb3RlY3RlZCBfbG9hZGVkRFBSOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCAuLi5maWxlbmFtZXM6IHN0cmluZ1tdKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgICAgIHRoaXMuX2ZpbGVuYW1lcyA9IGZpbGVuYW1lcztcbiAgICAgICAgdGhpcy5faW1nID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZXQgZmlsZW5hbWVzKCkgeyByZXR1cm4gdGhpcy5fZmlsZW5hbWVzOyB9XG5cbiAgICBsb2FkKHtsb2FkZXI6bH0gOiB7bG9hZGVyOiBMb2FkZXJ9KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbG9hZGVkRFBSID0gTWF0aC5taW4oTWF0aC5jZWlsKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSwgdGhpcy5maWxlbmFtZXMubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5hZGRBc3NldChsLmxvYWRJbWFnZSh0aGlzLmZpbGVuYW1lc1t0aGlzLl9sb2FkZWREUFItMV0sIChhc3NldCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW1nID0gdGhpcy5nZXRBc3NldDxIVE1MSW1hZ2VFbGVtZW50Pih0aGlzLmZpbGVuYW1lc1t0aGlzLl9sb2FkZWREUFItMV0pO1xuICAgIH1cblxuICAgIGRyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICBsZXQgcG9zID0gdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24uZHJhd1Bvc2l0aW9uVG9wTGVmdCgpO1xuICAgICAgICBsZXQgZGltID0gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgY29udGV4dDJELmRyYXdJbWFnZSh0aGlzLl9pbWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMCwwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2ltZy5uYXR1cmFsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW1nLm5hdHVyYWxIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zLngsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zLnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGltLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpbS5oZWlnaHQpO1xuICAgICAgICAvLyBQb3RlbnRpYWwgdG8gdXNlIHBhdHRlcm5zIHRvIG1ha2UgdGlsaW5nIGltYWdlIHRvIFRyYW5zbGF0aW9uIGRpbWVuc2lvbiBlYXN5XG4gICAgICAgIC8vbGV0IHBhdHRlcm4gPSBjb250ZXh0MkQuY3JlYXRlUGF0dGVybih0aGlzLmdldEFzc2V0KHRoaXMuZmlsZW5hbWUpLCBcInJlcGVhdFwiKTtcbiAgICAgICAgLy9jb250ZXh0MkQuZmlsbFN0eWxlID0gcGF0dGVybjtcbiAgICAgICAgLy9jb250ZXh0MkQuZmlsbFJlY3QocG9zLngsIHBvcy55LCB0aGlzLlRyYW5zbGF0aW9uLmRpbWVuc2lvbi53aWR0aCwgdGhpcy5UcmFuc2xhdGlvbi5kaW1lbnNpb24uaGVpZ2h0KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBTaGFwZSBmcm9tIFwiLi9TaGFwZVwiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuXG5leHBvcnQgY2xhc3MgVHJpYW5nbGUgZXh0ZW5kcyBTaGFwZVxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJUcmlhbmdsZVwiOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBzdHJva2VTdHlsZTogc3RyaW5nLCBmaWxsU3R5bGU6IHN0cmluZywgbGluZVdpZHRoOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5zdHJva2VTdHlsZSA9IHN0cm9rZVN0eWxlO1xuICAgICAgICB0aGlzLmZpbGxTdHlsZSA9IGZpbGxTdHlsZTtcbiAgICAgICAgdGhpcy5saW5lV2lkdGggPSBsaW5lV2lkdGg7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5kcmF3UG9zaXRpb25Ub3BMZWZ0KCk7XG4gICAgICAgIGxldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmZpbGxTdHlsZSlcbiAgICAgICAgICAgIHRoaXMuZmlsbGVkKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuICAgICAgICBpZiAoKHRoaXMubGluZVdpZHRoID4gMCkgJiYgKHRoaXMuc3Ryb2tlU3R5bGUpKVxuICAgICAgICAgICAgdGhpcy5vdXRsaW5lKGNvbnRleHQyRCwgcG9zLCBkaW0pO1xuXG4gICAgfVxuXG4gICAgb3V0bGluZShjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZVN0eWxlO1xuICAgICAgICBjb250ZXh0MkQubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKVxuICAgICAgICBsZXQgbmV3UG9zID0gUG9pbnQuYWRkKHBvcywgbmV3IFBvaW50KDAuNzUqdGhpcy5saW5lV2lkdGgsMC43NSp0aGlzLmxpbmVXaWR0aCkpO1xuICAgICAgICBsZXQgbmV3RGltID0gRGltZW5zaW9uLmFkZChkaW0sIG5ldyBEaW1lbnNpb24oLXRoaXMubGluZVdpZHRoKjEuNSwgLXRoaXMubGluZVdpZHRoKjEuNSkpO1xuICAgICAgICB0aGlzLl9kcmF3UGF0aChjb250ZXh0MkQsIG5ld1BvcywgbmV3RGltKTtcbiAgICAgICAgY29udGV4dDJELnN0cm9rZSgpO1xuICAgIH1cblxuICAgIGZpbGxlZChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQuZmlsbFN0eWxlID0gdGhpcy5maWxsU3R5bGU7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKVxuICAgICAgICB0aGlzLl9kcmF3UGF0aChjb250ZXh0MkQsIHBvcywgZGltKTtcbiAgICAgICAgY29udGV4dDJELmZpbGwoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9kcmF3UGF0aChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zOiBQb2ludCwgZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBjb250ZXh0MkQudHJhbnNsYXRlKHBvcy54LCBwb3MueSk7XG4gICAgICAgIGNvbnRleHQyRC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dDJELm1vdmVUbygwLjUqZGltLndpZHRoLCAwKTtcbiAgICAgICAgY29udGV4dDJELmxpbmVUbyhkaW0ud2lkdGgsIGRpbS5oZWlnaHQpO1xuICAgICAgICBjb250ZXh0MkQubGluZVRvKDAsZGltLmhlaWdodCk7XG4gICAgICAgIGNvbnRleHQyRC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY29udGV4dDJELnRyYW5zbGF0ZSgtcG9zLngsIC1wb3MueSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmlsbFRyaWFuZ2xlIGV4dGVuZHMgVHJpYW5nbGVcbntcbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBmaWxsU3R5bGU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIHVuZGVmaW5lZCwgZmlsbFN0eWxlLCAwKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBPdXRsaW5lVHJpYW5nbGUgZXh0ZW5kcyBUcmlhbmdsZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIHN0cm9rZVN0eWxlOiBzdHJpbmcsIGxpbmVXaWR0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgc3Ryb2tlU3R5bGUsIHVuZGVmaW5lZCwgbGluZVdpZHRoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQ2xpY2tUcmlnZ2VyIGZyb20gXCIuL0NsaWNrVHJpZ2dlclwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgeyBNb3VzZSwgVG91Y2ggfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENsaWNrVHJpZ2dlclxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJCdXR0b25cIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9jb250ZW50OiBHYW1lT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfaG92ZXJSZWN0OiBHYW1lT2JqZWN0O1xuICAgIHByb3RlY3RlZCBfcHJlc3NlZFJlY3Q6IEdhbWVPYmplY3Q7XG5cbiAgICBwcm90ZWN0ZWQgX2J1dHRvblJlc2V0OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjb250ZW50PzogR2FtZU9iamVjdClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gY29udGVudDtcbiAgICB9XG5cbiAgICBnZXQgY29udGVudCgpIHsgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7IH1cblxuICAgIGdldCBob3ZlclJlY3QoKSB7IHJldHVybiB0aGlzLl9ob3ZlclJlY3Q7IH1cbiAgICBnZXQgcHJlc3NlZFJlY3QoKSB7IHJldHVybiB0aGlzLl9wcmVzc2VkUmVjdDsgfVxuXG4gICAgc2V0SG92ZXJSZWN0KHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2hvdmVyUmVjdCA9IHZhbDtcbiAgICAgICAgdGhpcy5faG92ZXJSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBzZXRQcmVzc2VkUmVjdCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9wcmVzc2VkUmVjdCA9IHZhbDtcbiAgICAgICAgdGhpcy5fcHJlc3NlZFJlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJlc2V0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyUmVjdClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMucHJlc3NlZFJlY3QpXG4gICAgICAgICAgICB0aGlzLnByZXNzZWRSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB0aGlzLl9idXR0b25SZXNldCA9IHRydWU7XG4gICAgfVxuXG4gICAgZGVjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJSZWN0KVxuICAgICAgICAgICAgdGhpcy5ob3ZlclJlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5wcmVzc2VkUmVjdClcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZFJlY3QudmlzaWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fY29udGVudClcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHttb3VzZTptfSlcbiAgICB7XG4gICAgICAgIGlmICgodGhpcy5pbnRlcmFjdGFibGUpICYmICghbS5oYW5kbGVkKSlcbiAgICAgICAgICAgIHRoaXMuY2hlY2tNb3VzZUFjdGlvbnMobSk7XG4gICAgfVxuXG4gICAgb25Nb3VzZUNsaWNrKG06IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fYnV0dG9uUmVzZXQpXG4gICAgICAgICAgICBzdXBlci5vbk1vdXNlQ2xpY2sobSwgdG91Y2gsIHRvdWNoSUQpO1xuICAgICAgICBtLnNldEhhbmRsZWQodG91Y2gpO1xuICAgIH1cblxuICAgIG9uTW91c2VNb3ZlKG06IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIG0uc2V0SGFuZGxlZCh0b3VjaCk7XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24obTogTW91c2UpXG4gICAge1xuICAgICAgICB0aGlzLl9idXR0b25SZXNldCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5wcmVzc2VkUmVjdClcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZFJlY3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyUmVjdClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgbS5zZXRIYW5kbGVkKCk7XG4gICAgfVxuXG4gICAgb25Nb3VzZVVwKG06IE1vdXNlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucHJlc3NlZFJlY3QpXG4gICAgICAgICAgICB0aGlzLnByZXNzZWRSZWN0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJSZWN0KVxuICAgICAgICAgICAgdGhpcy5ob3ZlclJlY3QudmlzaWJsZSA9IHRydWU7XG4gICAgICAgIG0uc2V0SGFuZGxlZCgpO1xuICAgIH1cblxuICAgIG9uTW91c2VFbnRlcihtOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhvdmVyUmVjdClcbiAgICAgICAgICAgIHRoaXMuaG92ZXJSZWN0LnZpc2libGUgPSB0cnVlO1xuICAgICAgICBtLnNldEhhbmRsZWQoKTtcbiAgICB9XG5cbiAgICBvbk1vdXNlTGVhdmUobTogTW91c2UpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ob3ZlclJlY3QpXG4gICAgICAgICAgICB0aGlzLmhvdmVyUmVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnByZXNzZWRSZWN0KVxuICAgICAgICAgICAgdGhpcy5wcmVzc2VkUmVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIC8qaW5zdHJ1bWVudChsZXZlbDogbnVtYmVyLCBWYXJpYWJsZUxvZ2dlcjogVmFyaWFibGVMb2dnZXIsIGV2ZW50TG9nZ2VyOiBUZWxlbWV0cnlFdmVudExvZ2dlcilcbiAgICB7XG4gICAgICAgIHN1cGVyLmluc3RydW1lbnQobGV2ZWwsIFZhcmlhYmxlTG9nZ2VyLCBldmVudExvZ2dlcik7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gSW5zdHJ1bWVudExldmVsLkZVTEwpXG4gICAgICAgICAgICBWYXJpYWJsZUxvZ2dlci5hZGRWYXJpYWJsZVBhdGgoXCJkaXNhYmxlZFwiKTtcbiAgICB9Ki9cbn1cbiIsImltcG9ydCBNb3VzZVRyaWdnZXIgZnJvbSBcIi4vTW91c2VUcmlnZ2VyXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgeyBNb3VzZSwgVG91Y2ggfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWNrVHJpZ2dlciBleHRlbmRzIE1vdXNlVHJpZ2dlclxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJDbGlja1RyaWdnZXJcIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9vbkNsaWNrOiBFdmVudDtcbiAgICBvbmx5SWZVbmhhbmRsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fb25DbGljayA9IG5ldyBFdmVudCgpO1xuICAgIH1cblxuICAgIGdldCBvbkNsaWNrKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uQ2xpY2s7IH1cblxuICAgIG9uTW91c2VDbGljayhtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCEodGhpcy5vbmx5SWZVbmhhbmRsZWQgJiYgdG91Y2guaGFuZGxlZCkpXG4gICAgICAgICAgICBFdmVudC5jYWxsKHRoaXMub25DbGljaywgbW91c2UpO1xuICAgIH1cbn0iLCJpbXBvcnQgVGV4dCBmcm9tIFwiLi9UZXh0XCI7XG5pbXBvcnQgS2V5VHJpZ2dlciwgeyBLZXlUcmlnZ2VyRXZlbnRzIH0gZnJvbSBcIi4vS2V5VHJpZ2dlclwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCIuLi8uLi91dGlsL1BvaW50XCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVidWdQYW5lIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJEZWJ1Z1BhbmVcIjsgfVxuXG4gICAgdGltaW5nVGV4dDogVGV4dDtcbiAgICBiZWdpblRpbWU6IG51bWJlcjtcbiAgICBkcmF3VGltZTogbnVtYmVyO1xuICAgIGVuZFRpbWU6IG51bWJlcjtcbiAgICB1cGRhdGVUaW1lOiBudW1iZXI7XG4gICAgYXZlcmFnZVN0ZXBzOiBudW1iZXI7XG4gICAgbG9vcFRpbWU6IG51bWJlcjtcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnRpbWluZ1RleHQgPSB0aGlzLmFkZENoaWxkKG5ldyBUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgbmV3IFBvaW50KDAsMSkpLCBuZXcgUGl4ZWxUcmFuc2xhdGlvbigwLC01KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcygpLCBcIkZQUzpcIiwgXCJibGFja1wiLCAxMiwgXCJzZXJpZlwiKSkgYXMgVGV4dDtcblxuICAgICAgICB0aGlzLmJlZ2luVGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kcmF3VGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuYXZlcmFnZVN0ZXBzICA9IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQga3QgPSB0aGlzLmFkZENoaWxkKG5ldyBLZXlUcmlnZ2VyKCkpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIlRhYlwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5UHJlc3MpLnB1c2goKCkgPT4gdGhpcy52aXNpYmxlID0gISh0aGlzLnZpc2libGUpICwgdGhpcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHt0aW1pbmc6dCwga2V5Ym9hcmQ6a30pXG4gICAge1xuICAgICAgICB0aGlzLmJlZ2luVGltZSA9IHRoaXMucnVubmluZ0F2ZXJhZ2UodGhpcy5iZWdpblRpbWUsIHQuYmVnaW5UaW1lLCB0LmZwcyk7Ly8gQXZlcmFnZXMgb3ZlciAxIHNlY29uZCBvZiBlbGFwc2VkIHRpbWVcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLnVwZGF0ZVRpbWUsIHQudXBkYXRlVGltZSwgdC5mcHMqdC51cGRhdGVTdGVwcyk7XG4gICAgICAgIHRoaXMuZHJhd1RpbWUgPSB0aGlzLnJ1bm5pbmdBdmVyYWdlKHRoaXMuZHJhd1RpbWUsIHQuZHJhd1RpbWUsIHQuZnBzKTtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLmVuZFRpbWUsIHQuZW5kVGltZSwgdC5mcHMpO1xuICAgICAgICB0aGlzLmxvb3BUaW1lID0gdGhpcy5ydW5uaW5nQXZlcmFnZSh0aGlzLmxvb3BUaW1lLCB0Lmxvb3BUaW1lLCB0LmZwcyk7XG4gICAgICAgIHRoaXMuYXZlcmFnZVN0ZXBzID0gIHRoaXMucnVubmluZ0F2ZXJhZ2UodGhpcy5hdmVyYWdlU3RlcHMsIHQudXBkYXRlU3RlcHMsIHQuZnBzKTtcblxuICAgICAgICB0aGlzLnRpbWluZ1RleHQudGV4dCA9ICAgICAoXCJGUFM6IFwiICsgdC5mcHMpLnN1YnN0cmluZygwLDcpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgQmVnaW46IFwiICsgdGhpcy5iZWdpblRpbWUpLnN1YnN0cmluZygwLDE0KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIiAgIERyYXc6IFwiICsgdGhpcy5kcmF3VGltZSkuc3Vic3RyaW5nKDAsMTMpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgVXBkYXRlOiBcIiArIHRoaXMudXBkYXRlVGltZSkuc3Vic3RyaW5nKDAsMTUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgKFN0ZXBzOiBcIiArIHRoaXMuYXZlcmFnZVN0ZXBzKS5zdWJzdHJpbmcoMCwxNSkgKyBcIikgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCIgICBFbmQ6IFwiICsgdGhpcy5lbmRUaW1lKS5zdWJzdHJpbmcoMCwxMikgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCIgICBMb29wOiBcIiArIHRoaXMubG9vcFRpbWUpLnN1YnN0cmluZygwLDEzKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcIiAgIChDYWxjdWxhdGVkIEZQUzogXCIgKyBNYXRoLnJvdW5kKDEwMDAvdGhpcy5sb29wVGltZSkpLnN1YnN0cmluZygwLDIzKSArIFwiKVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiICAgKFJhdGU6IFwiICsgMTAwLyh0LnNsb3dEb3duKzEpKS5zdWJzdHJpbmcoMCwxMykgKyBcIiUpXCI7XG5cbiAgICAgICAgaWYgKHRoaXMuaW50ZXJhY3RhYmxlKVxuICAgICAgICAgICAgay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5mb3JFYWNoKGtleSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiLVwiKVxuICAgICAgICAgICAgICAgICAgICB0LnNsb3dEb3duKys7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoa2V5ID09PSBcIitcIilcbiAgICAgICAgICAgICAgICAgICAgdC5zbG93RG93biA9IE1hdGgubWF4KDAsIHQuc2xvd0Rvd24tMSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBydW5uaW5nQXZlcmFnZSh2YWw6IG51bWJlciwgbmV3VmFsOiBudW1iZXIsIGxlbmd0aDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCF2YWwpXG4gICAgICAgICAgICByZXR1cm4gbmV3VmFsO1xuICAgICAgICByZXR1cm4gKHZhbCAqIChsZW5ndGgtMSkgKyBuZXdWYWwpL2xlbmd0aFxuICAgIH1cbn1cbiIsImltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IENvbmRpdGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL0NvbmRpdGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9kaW1lbnNpb24vRGltZW5zaW9uXCI7XG5cbmV4cG9ydCBlbnVtIEdyaWRPcmllbnRhdGlvbiB7IFZlcnRpY2FsLCBIb3Jpem9udGFsIH1cblxuLyoqXG4gKiBHcmlkTGF5b3V0cyBzaG91bGQgYmUgdXNlZCBpbiBtb3N0IHNpdHVhdGlvbnMgd2hlcmUgYSBHYW1lT2JqZWN0IGNoYW5nZXMgc2l6ZSBcbiAqIGJhc2VkIG9uIGl0cyBjaGlsZHJlbiwgaS5lLiBpdCBoYXMgUHJvcG9ydGlvbmFsRGltZW5zaW9ucyB0aGF0IHBvaW50IGRvd24gdGhlXG4gKiB0cmVlIGluc3RlYWQgb2YgdXAgaXQuIEEgR2FtZU9iamVjdCB0aGF0IHByb3ZpZGVzIGFkZGl0aW9uYWwgZnVuY3Rpb25hbGl5IGFzXG4gKiBhIHdyYXBwZXIgYXJvdW5kIGEgR3JpZExheW91dCBzaG91bGQgZXh0ZW5kIHRoaXMgY2xhc3Mgc28gdGhhdCBpdCB0b28gd2lsbFxuICogaGF2ZSBpdHMgYm91bmRzIGNvcnJlY3RseSBzZXQuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRMYXlvdXQgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgZ2V0IHR5cGVOYW1lKCk6IHN0cmluZyB7IHJldHVybiBcIkdyaWRMYXlvdXRcIjsgfVxuXG4gICAgcHJvdGVjdGVkIF9jZWxsczogR2FtZU9iamVjdFtdO1xuICAgIHByb3RlY3RlZCBfb3JpZW50YXRpb246IEdyaWRPcmllbnRhdGlvbjtcbiAgICBwcm90ZWN0ZWQgX3BhZGRpbmc6IG51bWJlciA9IDA7XG4gICAgcHJvdGVjdGVkIF9yZWxhdGl2ZVBhZGRpbmc6IG51bWJlciA9IDA7XG5cbiAgICBnZXQgbWlkZGxlWSgpIHsgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbCA/IHRoaXMuX3BhZGRpbmcgOiAwOyB9XG4gICAgZ2V0IG1pZGRsZVgoKSB7IHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSBHcmlkT3JpZW50YXRpb24uSG9yaXpvbnRhbCA/IHRoaXMuX3BhZGRpbmcgOiAwOyB9XG5cbiAgICBnZXQgY2VsbHMoKSB7IHJldHVybiB0aGlzLl9jZWxsczsgfVxuICAgIGdldCBvcmllbnRhdGlvbigpIHsgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uOyB9XG5cbiAgICBjb25kaXRpb25hbERpbWVuc2lvbjogQ29uZGl0aW9uYWxEaW1lbnNpb247XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBjZWxsczogR2FtZU9iamVjdFtdLCBvcmllbnRhdGlvbjogR3JpZE9yaWVudGF0aW9uKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcylcbiAgICAgICAgdGhpcy5fY2VsbHMgPSBjZWxscztcbiAgICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBHcmlkT3JpZW50YXRpb24uSG9yaXpvbnRhbClcbiAgICAgICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaCgoYyxpKSA9PlxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqPTA7ajxpO2orKylcbiAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDEsIDAsIHRoaXMuY2VsbHNbal0udHJhbnNmb3JtLmJvdW5kcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLlZlcnRpY2FsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+XG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGo9MDtqPGk7aisrKVxuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgdGhpcy5jZWxsc1tqXS50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb25kaXRpb25hbERpbWVuc2lvbiA9IHRoaXMudHJhbnNmb3JtLmJvdW5kcy5hZGREaW1lbnNpb24obmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX2RpbWVuc2lvbkZ1bmN0aW9uLmJpbmQodGhpcykpKTtcblxuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goYyA9PiBjLnRyYW5zZm9ybS5ib3VuZHMub25SZXNpemUucHVzaCh0aGlzLmNvbmRpdGlvbmFsRGltZW5zaW9uLm1hcmtBc1VwZGF0ZWQuYmluZCh0aGlzKSwgdGhpcykpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGMgPT4gYy50cmFuc2Zvcm0uYm91bmRzLm9uUmVzaXplLnVucmVnaXN0ZXIodGhpcykpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goYyA9PiB0aGlzLmFkZENoaWxkKGMpKTtcbiAgICB9XG5cbiAgICBhZGRDZWxsKG5ld0NlbGw6IEdhbWVPYmplY3QsIGluZGV4PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBpbmRleCA9IHRoaXMuY2VsbHMubGVuZ3RoO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ld0NlbGwpO1xuXG4gICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICBsZXQgbWlkZGxlWSA9IHRoaXMubWlkZGxlWTtcblxuICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLlZlcnRpY2FsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLCAxLCBjLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwgMSwgbmV3Q2VsbC50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYLCBtaWRkbGVZKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChpIDwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigxLCAwLCBjLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwgMCwgbmV3Q2VsbC50cmFuc2Zvcm0uYm91bmRzKSk7XG4gICAgICAgICAgICAgICAgICAgIGMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKG1pZGRsZVgsIG1pZGRsZVkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jZWxscy5zcGxpY2UoaW5kZXgsIDAsIG5ld0NlbGwpO1xuICAgICAgICBuZXdDZWxsLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYKmluZGV4LCBtaWRkbGVZKmluZGV4KSk7XG4gICAgICAgIG5ld0NlbGwudHJhbnNmb3JtLmJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMuY29uZGl0aW9uYWxEaW1lbnNpb24ubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb25pbmdJc0RpcnR5KCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2VsbChpbmRleDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKChpbmRleCA+PSAwKSAmJiAoaW5kZXggPCB0aGlzLmNlbGxzLmxlbmd0aCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICAgICAgbGV0IG1pZGRsZVkgPSB0aGlzLm1pZGRsZVk7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuY2VsbHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbClcbiAgICAgICAgICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goKGMsaSkgPT4gXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsIC0xLCBjZWxsLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbigtbWlkZGxlWCwgLW1pZGRsZVkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gR3JpZE9yaWVudGF0aW9uLkhvcml6b250YWwpXG4gICAgICAgICAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKChjLGkpID0+IFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiBpbmRleClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKC0xLCAwLCBjZWxsLnRyYW5zZm9ybS5ib3VuZHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKC1taWRkbGVYLCAtbWlkZGxlWSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNlbGxzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBjZWxsLnRyYW5zZm9ybS5ib3VuZHMub25SZXNpemUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgICAgIGNlbGwucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIF9kaW1lbnNpb25GdW5jdGlvbihkaW06IERpbWVuc2lvbik6IFBpeGVsRGltZW5zaW9uXG4gICAge1xuICAgICAgICBsZXQgZGltczogRGltZW5zaW9uW10gPSBbXTtcbiAgICAgICAgdGhpcy5jZWxscy5mb3JFYWNoKGMgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGltcy5wdXNoKGMudHJhbnNmb3JtLmJvdW5kcy5jYWxjdWxhdGluZyA/IGMudHJhbnNmb3JtLmJvdW5kcy5jYWNoZWREaW1lbnNpb246IGMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGxldCBtaWRkbGVYID0gdGhpcy5taWRkbGVYO1xuICAgICAgICBsZXQgbWlkZGxlWSA9IHRoaXMubWlkZGxlWTtcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5Ib3Jpem9udGFsKVxuICAgICAgICAgICAgZGltcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgIHdpZHRoICs9IGMud2lkdGggKyBtaWRkbGVYO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgYy5oZWlnaHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbClcbiAgICAgICAgICAgIGRpbXMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjLndpZHRoKTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gYy5oZWlnaHQgKyBtaWRkbGVZO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbih3aWR0aCAtIG1pZGRsZVgsIGhlaWdodCAtIG1pZGRsZVkpO1xuICAgIH1cblxuICAgIGFkZFBpeGVsUGFkZGluZyhwYWRkaW5nOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFkZGluZztcbiAgICAgICAgbGV0IG1pZGRsZVggPSB0aGlzLm1pZGRsZVg7XG4gICAgICAgIGxldCBtaWRkbGVZID0gdGhpcy5taWRkbGVZO1xuXG4gICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaCgoYyxpKSA9PlxuICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICBjLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbihtaWRkbGVYKmksIG1pZGRsZVkqaSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdyaWRCdWlsZGVyXG57XG4gICAgcHJvdGVjdGVkIF9ncmlkOiBHcmlkTGF5b3V0O1xuICAgIHByb3RlY3RlZCBfbmV3Q2VsbHM6IEdhbWVPYmplY3RbXSA9IFtdO1xuXG4gICAgZ2V0IGdyaWQoKTogR3JpZExheW91dCB7IHJldHVybiB0aGlzLl9ncmlkOyB9XG5cbiAgICBwdXNoQ2VsbDxUIGV4dGVuZHMgR2FtZU9iamVjdD4obmV3Q2VsbDogVCwgaW5kZXg/OiBudW1iZXIpOiBUXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fbmV3Q2VsbHMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9uZXdDZWxscy5zcGxpY2UoaW5kZXgsIDAsIG5ld0NlbGwpO1xuICAgICAgICByZXR1cm4gbmV3Q2VsbDtcbiAgICB9XG5cbiAgICBmaXhMYXllcihvcmllbnRhdGlvbjogR3JpZE9yaWVudGF0aW9uLCBwb3NpdGlvbj86IFBvc2l0aW9uLCBib3VuZHM/OiBCb3VuZHMpXG4gICAge1xuICAgICAgICB0aGlzLl9ncmlkID0gbmV3IEdyaWRMYXlvdXQocG9zaXRpb24gfHwgbmV3IFBvc2l0aW9uKCksIGJvdW5kcyB8fCBuZXcgQm91bmRzKCksIHRoaXMuX25ld0NlbGxzLCBvcmllbnRhdGlvbik7XG4gICAgICAgIHRoaXMuX25ld0NlbGxzID0gW3RoaXMuX2dyaWRdXG4gICAgfVxufVxuXG4iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi8uLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgeyBLZXlib2FyZCB9IGZyb20gXCIuLi8uLi9pby9LZXlib2FyZFwiO1xuXG5leHBvcnQgZW51bSBLZXlUcmlnZ2VyRXZlbnRzIHsgb25LZXlQcmVzcywgb25LZXlEb3duLCBvbktleVVwIH1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2V5VHJpZ2dlciBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiS2V5VHJpZ2dlclwiOyB9XG5cbiAgICBwcm90ZWN0ZWQgX2tleXMgPSBbXVxuXG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgc3VwZXIobnVsbCwgbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGtleWNvZGUgXG4gICAgICogQHBhcmFtIHRyaWdnZXIgb3B0aW9uYWwsIGRlZmF1bHRzIHRvIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duXG4gICAgICogQHJldHVybiBhbiBldmVudCB3aGljaCBpcyBjYWxsZWQgd2hlbiB0aGUga2V5IHRyaWdnZXIgZXZlbnQgaGFwcGVuc1xuICAgICAqL1xuICAgIGdldEtleUV2ZW50KGtleWNvZGU6IHN0cmluZywgdHJpZ2dlcj86IEtleVRyaWdnZXJFdmVudHMpOiBFdmVudFxuICAgIHtcbiAgICAgICAgaWYgKCF0cmlnZ2VyKVxuICAgICAgICAgICAgdHJpZ2dlciA9IEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duO1xuICAgICAgICB0aGlzLl9rZXlzLmZvckVhY2goeCA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZigoeC5rZXljb2RlID09PSBrZXljb2RlKSAmJiAoeC50cmlnZ2VyID09PSB0cmlnZ2VyKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHguZXZlbnQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICAgICAgdGhpcy5fa2V5cy5wdXNoKHtrZXljb2RlOiBrZXljb2RlLCB0cmlnZ2VyOiB0cmlnZ2VyLCBldmVudDogZXZlbnR9KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBrZXljb2RlIFxuICAgICAqIEBwYXJhbSB0cmlnZ2VyXG4gICAgICogQHJldHVybiB0cnVlIGlmIGFuIGV2ZW50IHdhcyByZW1vdmVkLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICByZW1vdmVLZXlFdmVudChrZXljb2RlOiBzdHJpbmcsIHRyaWdnZXI6IEtleVRyaWdnZXJFdmVudHMpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgdG9SZW1vdmUgPSB0aGlzLl9rZXlzLmZpbHRlcih4ID0+ICh4LmtleWNvZGUgPT09IGtleWNvZGUpICYmICh4LnRyaWdnZXIgPT09IHRyaWdnZXIpKTtcbiAgICAgICAgaWYgKHRvUmVtb3ZlLmxlbmd0aCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvUmVtb3ZlLmZvckVhY2goeCA9PiB0aGlzLl9rZXlzLnNwbGljZSh0aGlzLl9rZXlzLmluZGV4T2YoeCksIDEpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBiZWdpbih7a2V5Ym9hcmQ6a30gOiB7a2V5Ym9hcmQ6IEtleWJvYXJkfSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHRoaXMuX2tleXMuZm9yRWFjaCh4PT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoeC50cmlnZ2VyID09PSBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoay5pc0tleVVwKHgua2V5Y29kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB4LmV2ZW50LmNhbGwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoeC50cmlnZ2VyID09PSBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrLmlzS2V5RG93bih4LmtleWNvZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICB4LmV2ZW50LmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5pbmRleE9mKHgua2V5Y29kZSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgeC5ldmVudC5jYWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHgudHJpZ2dlciA9PT0gS2V5VHJpZ2dlckV2ZW50cy5vbktleVByZXNzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoay5rZXlQcmVzc2VzVGhpc1VwZGF0ZS5pbmRleE9mKHgua2V5Y29kZSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgeC5ldmVudC5jYWxsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiLi4vLi4vR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiLi4vY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nQmFyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByb3RlY3RlZCBfYmdDb2xvdXI6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX2ZnQ29sb3VyOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9wcm9wb3J0aW9uRGltZW5zaW9uOiBQcm9wb3J0aW9uYWxEaW1lbnNpb247XG4gICAgcHJvdGVjdGVkIF9pbm5lckJhcjogRmlsbFJlY3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBiZ0NvbG91cjogc3RyaW5nLCBmZ0NvbG91cjogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcylcbiAgICAgICAgdGhpcy5fYmdDb2xvdXIgPSBiZ0NvbG91cjtcbiAgICAgICAgdGhpcy5fZmdDb2xvdXIgPSBmZ0NvbG91cjtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5fYmdDb2xvdXIpKTtcbiAgICAgICAgdGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbiA9IG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwxKTtcbiAgICAgICAgdGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbi5wcmVzZXJ2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2lubmVyQmFyID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHModGhpcy5fcHJvcG9ydGlvbkRpbWVuc2lvbiksIHRoaXMuX2ZnQ29sb3VyKSk7XG4gICAgfVxuXG4gICAgc2V0UHJvcG9ydGlvbihwcm9wb3J0aW9uOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9wcm9wb3J0aW9uRGltZW5zaW9uLndpZHRoID0gcHJvcG9ydGlvbjtcbiAgICAgICAgdGhpcy5faW5uZXJCYXIudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgIH1cblxufSIsImltcG9ydCBNb3VzZVRyaWdnZXIgZnJvbSBcIi4vTW91c2VUcmlnZ2VyXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgeyBNb3VzZSwgVG91Y2ggfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5cbmNsYXNzIFRvdWNoRHJhZ0RhdGFcbntcbiAgICBkcmFnU3RhcnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBsYXN0UG9zOiBQb2ludDtcbiAgICBkcmFnZ2luZyA9IGZhbHNlO1xuICAgIG1pbkRpc3RhbmNlUGFzc2VkOiBib29sZWFuID0gZmFsc2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vdXNlRHJhZ1RyaWdnZXIgZXh0ZW5kcyBNb3VzZVRyaWdnZXJcbntcbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiTW91c2VEcmFnVHJpZ2dlclwiOyB9XG5cbiAgICBwcml2YXRlIF90b3VjaGVzOiBNYXA8bnVtYmVyLCBUb3VjaERyYWdEYXRhPiA9IG5ldyBNYXAoKTtcbiAgICBcbiAgICBwcm90ZWN0ZWQgX2RyYWdTdGFydCA9IG5ldyBQb2ludCgwLDApO1xuICAgIHByb3RlY3RlZCBfbGFzdFBvczogUG9pbnQ7XG4gICAgcHJvdGVjdGVkIF9kcmFnZ2luZyA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfb25EcmFnOiBFdmVudDtcbiAgICBwcm90ZWN0ZWQgX29uRW5kRHJhZzogRXZlbnQ7XG5cbiAgICBnZXQgb25EcmFnKCkgeyByZXR1cm4gdGhpcy5fb25EcmFnOyB9XG4gICAgZ2V0IG9uRW5kRHJhZygpIHsgcmV0dXJuIHRoaXMuX29uRW5kRHJhZzsgfVxuICAgIGdldCB0b3VjaENvdW50KCkgeyByZXR1cm4gdGhpcy5fdG91Y2hlcy5zaXplOyB9XG5cbiAgICBwcm90ZWN0ZWQgX21pbkRpc3RhbmNlUGFzc2VkOiBib29sZWFuID0gZmFsc2U7XG4gICAgbWluRGlzdGFuY2U6IG51bWJlciB8IFBvaW50ID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fb25EcmFnID0gbmV3IEV2ZW50KCk7XG4gICAgICAgIHRoaXMuX29uRW5kRHJhZyA9IG5ldyBFdmVudCgpO1xuICAgIH1cblxuICAgIHVwZGF0ZSh7bW91c2U6bX0pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbnRlcmFjdGFibGUpXG4gICAgICAgICAgICB0aGlzLmNoZWNrTW91c2VBY3Rpb25zKG0pO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fdG91Y2hlcy5mb3JFYWNoKHQgPT4gXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0LmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHQubWluRGlzdGFuY2VQYXNzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vbkVuZERyYWcuY2FsbChtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VEb3duKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRvdWNoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9kcmFnU3RhcnQgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MgPSB0aGlzLl9kcmFnU3RhcnQ7XG4gICAgICAgICAgICB0aGlzLl9kcmFnZ2luZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdG91Y2hEcmFnRGF0YSA9IHRoaXMuX3RvdWNoZXMuZ2V0KHRvdWNoSUQpO1xuICAgICAgICAgICAgaWYgKHRvdWNoRHJhZ0RhdGEgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhID0gbmV3IFRvdWNoRHJhZ0RhdGEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3VjaGVzLnNldCh0b3VjaElELCB0b3VjaERyYWdEYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEuZHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5kcmFnU3RhcnQgPSB0b3VjaC5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEubGFzdFBvcyA9IHRvdWNoRHJhZ0RhdGEuZHJhZ1N0YXJ0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZVVwKG1vdXNlOiBNb3VzZSwgdG91Y2g6IFRvdWNoLCB0b3VjaElEOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIXRvdWNoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZHJhZ2dpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmREcmFnLmNhbGwobW91c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRvdWNoRHJhZ0RhdGEgPSB0aGlzLl90b3VjaGVzLmdldCh0b3VjaElEKTtcbiAgICAgICAgICAgIGlmICh0b3VjaERyYWdEYXRhKVxuICAgICAgICAgICAgICAgIHRoaXMuX3RvdWNoZXMuZGVsZXRlKHRvdWNoSUQpO1xuICAgICAgICAgICAgaWYgKHRvdWNoRHJhZ0RhdGEgJiYgdG91Y2hEcmFnRGF0YS5kcmFnZ2luZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMub25FbmREcmFnLmNhbGwobW91c2UsIHRvdWNoLCB0b3VjaElEKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VMZWF2ZShtb3VzZTogTW91c2UsIHRvdWNoOiBUb3VjaCwgdG91Y2hJRDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCF0b3VjaClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm9uRW5kRHJhZy5jYWxsKG1vdXNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3VjaERyYWdEYXRhID0gdGhpcy5fdG91Y2hlcy5nZXQodG91Y2hJRCk7XG4gICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RvdWNoZXMuZGVsZXRlKHRvdWNoSUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vbkVuZERyYWcuY2FsbChtb3VzZSwgdG91Y2gsIHRvdWNoSUQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZU1vdmUobW91c2U6IE1vdXNlLCB0b3VjaDogVG91Y2gsIHRvdWNoSUQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghdG91Y2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kcmFnZ2luZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX21pbkRpc3RhbmNlUGFzc2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHZlY3RvciA9IFBvaW50Lm1pbnVzKHRoaXMuX2xhc3RQb3MsIHRoaXMuX2RyYWdTdGFydCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWluRGlzdGFuY2UgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChNYXRoLmFicyh2ZWN0b3IueCkgPiB0aGlzLm1pbkRpc3RhbmNlLngpIHx8IChNYXRoLmFicyh2ZWN0b3IueSkgPiB0aGlzLm1pbkRpc3RhbmNlLnkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2ZWN0b3IubWFnbml0dWRlID4gdGhpcy5taW5EaXN0YW5jZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21pbkRpc3RhbmNlUGFzc2VkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZy5jYWxsKFBvaW50Lm1pbnVzKHRoaXMuX2xhc3RQb3MsIG1vdXNlLnBvc2l0aW9uKSwgbW91c2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xhc3RQb3MgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3VjaERyYWdEYXRhID0gdGhpcy5fdG91Y2hlcy5nZXQodG91Y2hJRCk7XG4gICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YSAmJiB0b3VjaERyYWdEYXRhLmRyYWdnaW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2ZWN0b3IgPSBQb2ludC5taW51cyh0b3VjaERyYWdEYXRhLmxhc3RQb3MsIHRvdWNoRHJhZ0RhdGEuZHJhZ1N0YXJ0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5taW5EaXN0YW5jZSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKE1hdGguYWJzKHZlY3Rvci54KSA+IHRoaXMubWluRGlzdGFuY2UueCkgfHwgKE1hdGguYWJzKHZlY3Rvci55KSA+IHRoaXMubWluRGlzdGFuY2UueSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmVjdG9yLm1hZ25pdHVkZSA+IHRoaXMubWluRGlzdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoRHJhZ0RhdGEubWluRGlzdGFuY2VQYXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodG91Y2hEcmFnRGF0YS5taW5EaXN0YW5jZVBhc3NlZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkRyYWcuY2FsbChQb2ludC5taW51cyh0b3VjaERyYWdEYXRhLmxhc3RQb3MsIHRvdWNoLnBvc2l0aW9uKSwgbW91c2UsIHRvdWNoLCB0b3VjaElEKTtcbiAgICAgICAgICAgICAgICB0b3VjaERyYWdEYXRhLmxhc3RQb3MgPSB0b3VjaC5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgQm91bmRzIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCB7IE1vdXNlLCBUb3VjaCB9IGZyb20gXCIuLi8uLi9pby9Nb3VzZVwiO1xuXG5jbGFzcyBUb3VjaERhdGFcbntcbiAgICBpbkJvdW5kczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGNsaWNrU3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHRvRGVzdHJveTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW91c2VUcmlnZ2VyIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIGdldCB0eXBlTmFtZSgpOiBzdHJpbmcgeyByZXR1cm4gXCJNb3VzZVRyaWdnZXJcIjsgfVxuXG4gICAgcHJpdmF0ZSBfbW91c2VJbkJvdW5kczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2NsaWNrU3RhcnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHRvdWNoZXM6IE1hcDxudW1iZXIsIFRvdWNoRGF0YT4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKHttb3VzZTptfSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmludGVyYWN0YWJsZSlcbiAgICAgICAgICAgIHRoaXMuY2hlY2tNb3VzZUFjdGlvbnMobSk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICogQ2hlY2sgZm9yIGEgc2V0IG9mIG1vdXNlIGV2ZW50cyBnaXZlbiB0aGUgcHJvdmlkZWQgbW91c2UgaW50ZXJmYWNlIGFuZFxuICAgICogY2FsbCB0aGUgYG9uTW91c2UuLi5gIG1vdXNlIGV2ZW50IG1ldGhvZHMgb24gdGhpcyBHYW1lT2JqZWN0LlxuICAgICogQHBhcmFtIG1vdXNlIHRoZSBNb3VzZSBvYmplY3QgdG8gY2hlY2tcbiAgICAqL1xuICAgIGNoZWNrTW91c2VBY3Rpb25zKG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5jb250YWluc1BvaW50KG1vdXNlLnBvc2l0aW9uKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9tb3VzZUluQm91bmRzKVxuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZUVudGVyKG1vdXNlKTtcbiAgICAgICAgICAgIHRoaXMuX21vdXNlSW5Cb3VuZHMgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlSG92ZXIobW91c2UpO1xuICAgICAgICAgICAgaWYgKG1vdXNlLmlzTW91c2VNb3ZlRXZlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlTW92ZShtb3VzZSk7XG4gICAgICAgICAgICAgICAgaWYgKG1vdXNlLmlzRG93bilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlRHJhZyhtb3VzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW91c2UuaXNNb3VzZURvd25FdmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbGlja1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZURvd24obW91c2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vdXNlLmlzTW91c2VVcEV2ZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZVVwKG1vdXNlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2xpY2tTdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VDbGljayhtb3VzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbW91c2VJbkJvdW5kcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZShtb3VzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW91c2VJbkJvdW5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0aGlzLl9jbGlja1N0YXJ0ZWQpICYmIChtb3VzZS5pc01vdXNlVXBFdmVudCkpXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xpY2tTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja1RvdWNoQWN0aW9ucyhtb3VzZSk7XG4gICAgfVxuXG4gICAgY2hlY2tUb3VjaEFjdGlvbnMobW91c2U6IE1vdXNlKVxuICAgIHtcbiAgICAgICAgdGhpcy50b3VjaGVzLmZvckVhY2godG91Y2ggPT4gdG91Y2gudG9EZXN0cm95ID0gdHJ1ZSk7XG4gICAgICAgIG1vdXNlLnRvdWNoZXMuZm9yRWFjaCgodCwgaykgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0b3VjaCA9IHRoaXMudG91Y2hlcy5nZXQoayk7XG4gICAgICAgICAgICBpZiAodG91Y2ggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3VjaCA9IG5ldyBUb3VjaERhdGEoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoZXMuc2V0KGssIHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvdWNoLnRvRGVzdHJveSA9IGZhbHNlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0uY29udGFpbnNQb2ludCh0LnBvc2l0aW9uKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRvdWNoLmluQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VFbnRlcihtb3VzZSwgdCwgayk7XG4gICAgICAgICAgICAgICAgdG91Y2guaW5Cb3VuZHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZUhvdmVyKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICBpZiAodC5pc1N0YXJ0RXZlbnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5jbGlja1N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VEb3duKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHQuaXNNb3ZlRXZlbnQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VNb3ZlKG1vdXNlLCB0LCBrKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vdXNlLmlzRG93bilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25Nb3VzZURyYWcobW91c2UsIHQsIGspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodC5pc0VuZEV2ZW50KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAobW91c2UsIHQsIGspO1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pbkJvdW5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guY2xpY2tTdGFydGVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VDbGljayhtb3VzZSwgdCwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3VjaC5jbGlja1N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodG91Y2guaW5Cb3VuZHMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZShtb3VzZSwgdCwgayk7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoLmluQm91bmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgodG91Y2guY2xpY2tTdGFydGVkKSAmJiAodC5pc0VuZEV2ZW50KSlcbiAgICAgICAgICAgICAgICAgICAgdG91Y2guY2xpY2tTdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdG9SZW1vdmUgPSBbXTtcbiAgICAgICAgdGhpcy50b3VjaGVzLmZvckVhY2goKHRvdWNoLCBrZXkpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0b3VjaC50b0Rlc3Ryb3kpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guaW5Cb3VuZHMpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW91c2VMZWF2ZShtb3VzZSwgbnVsbCwga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdG9SZW1vdmUucHVzaChrZXkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHRvUmVtb3ZlLmZvckVhY2gociA9PiB0aGlzLnRvdWNoZXMuZGVsZXRlKHIpKTtcbiAgICB9XG5cbiAgICBvbk1vdXNlSG92ZXIobW91c2U6IE1vdXNlLCB0b3VjaD86IFRvdWNoLCB0b3VjaElEPzogbnVtYmVyKSB7fVxuICAgIG9uTW91c2VNb3ZlKG1vdXNlOiBNb3VzZSwgdG91Y2g/OiBUb3VjaCwgdG91Y2hJRD86IG51bWJlcikge31cbiAgICBvbk1vdXNlRG93bihtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG4gICAgb25Nb3VzZVVwKG1vdXNlOiBNb3VzZSwgdG91Y2g/OiBUb3VjaCwgdG91Y2hJRD86IG51bWJlcikge31cbiAgICBvbk1vdXNlRHJhZyhtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG4gICAgb25Nb3VzZUxlYXZlKG1vdXNlOiBNb3VzZSwgdG91Y2g/OiBUb3VjaCwgdG91Y2hJRD86IG51bWJlcikge31cbiAgICBvbk1vdXNlRW50ZXIobW91c2U6IE1vdXNlLCB0b3VjaD86IFRvdWNoLCB0b3VjaElEPzogbnVtYmVyKSB7fVxuICAgIG9uTW91c2VDbGljayhtb3VzZTogTW91c2UsIHRvdWNoPzogVG91Y2gsIHRvdWNoSUQ/OiBudW1iZXIpIHt9XG59IiwiaW1wb3J0IE1vdXNlVHJpZ2dlciBmcm9tIFwiLi9Nb3VzZVRyaWdnZXJcIjtcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSBcIi4uLy4uL2lvL01vdXNlXCI7XG5pbXBvcnQgeyBUaW1lciB9IGZyb20gXCIuLi9UaW1lclwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCIuLi8uLi91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVzc0hvbGRUcmlnZ2VyIGV4dGVuZHMgTW91c2VUcmlnZ2VyXG57XG4gICAgcHJpdmF0ZSBfaG9sZFRpbWU6IG51bWJlcjtcbiAgICBwcml2YXRlIF90aW1lcjogVGltZXI7XG4gICAgcHJpdmF0ZSBfb25Ib2xkOiBFdmVudDtcbiAgICBwcml2YXRlIF9vblJlbGVhc2VIb2xkOiBFdmVudDtcbiAgICBwcml2YXRlIF9ob2xkRXZlbnRGaXJlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGhvbGRUaW1lOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5faG9sZFRpbWUgPSBob2xkVGltZTtcbiAgICAgICAgdGhpcy5fb25Ib2xkID0gbmV3IEV2ZW50KCk7XG4gICAgICAgIHRoaXMuX29uUmVsZWFzZUhvbGQgPSBuZXcgRXZlbnQoKTtcbiAgICB9XG5cbiAgICBnZXQgb25Ib2xkKCkgeyByZXR1cm4gdGhpcy5fb25Ib2xkOyB9XG4gICAgZ2V0IG9uUmVsZWFzZUhvbGQoKSB7IHJldHVybiB0aGlzLl9vblJlbGVhc2VIb2xkOyB9XG4gICAgZ2V0IGhvbGRUaW1lKCkgeyByZXR1cm4gdGhpcy5faG9sZFRpbWU7IH1cbiAgICBzZXQgaG9sZFRpbWUodmFsKSB7IHRoaXMuX2hvbGRUaW1lID0gdmFsOyB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGltZXIgPSB0aGlzLmFkZENoaWxkKG5ldyBUaW1lcigpKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoYXJncylcbiAgICB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZShhcmdzKTtcbiAgICAgICAgaWYgKCghdGhpcy5faG9sZEV2ZW50RmlyZWQpICYmICh0aGlzLl90aW1lci50aW1lID49IHRoaXMuX2hvbGRUaW1lKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25Ib2xkLmNhbGwoYXJncy5tb3VzZSk7XG4gICAgICAgICAgICB0aGlzLl90aW1lci5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5faG9sZEV2ZW50RmlyZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZU1vdmUobW91c2U6IE1vdXNlKVxuICAgIHtcbiAgICAgICAgaWYgKCEobW91c2UuaGFuZGxlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RpbWVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlRG93bihtb3VzZTogTW91c2UpXG4gICAge1xuICAgICAgICBpZiAoIShtb3VzZS5oYW5kbGVkKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGltZXIuc3RhcnQoKVxuICAgICAgICAgICAgdGhpcy5faG9sZEV2ZW50RmlyZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VVcChtb3VzZTogTW91c2UpXG4gICAge1xuICAgICAgICB0aGlzLl90aW1lci5wYXVzZSgpO1xuICAgICAgICBpZiAodGhpcy5faG9sZEV2ZW50RmlyZWQpXG4gICAgICAgICAgICB0aGlzLm9uUmVsZWFzZUhvbGQuY2FsbChtb3VzZSk7XG4gICAgfVxuXG4gICAgb25Nb3VzZUxlYXZlKG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbWVyLnBhdXNlKCk7XG4gICAgICAgIGlmICh0aGlzLl9ob2xkRXZlbnRGaXJlZClcbiAgICAgICAgICAgIHRoaXMub25SZWxlYXNlSG9sZC5jYWxsKG1vdXNlKTtcbiAgICB9XG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcIi4uLy4uL0dhbWVPYmplY3RcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uLy4uL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcIi4vVGV4dEJ1aWxkZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dCBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBwcm90ZWN0ZWQgX2NvbG9yOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9mb250RmFjZTogc3RyaW5nO1xuICAgIHByb3RlY3RlZCBfc2l6ZTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfcmVjYWxjdWxhdGVUZXh0Qm91bmRzOiBib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIF9saW5lU3BhY2luZzogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfY2VudGVyZWQ6IGJvb2xlYW47XG5cbiAgICBwcm90ZWN0ZWQgX3dpZHRocyA9IFtdO1xuICAgIHByb3RlY3RlZCBfd2lkZXN0OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9saW5lcyA9IFtdO1xuXG4gICAgcHJvdGVjdGVkIF9jb3VudExpbmVzID0gMDtcblxuICAgIHByb3RlY3RlZCBfY2FudmFzRnVuY3Rpb246IChjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdm9pZCA9IG51bGw7XG5cbiAgICBnZXQgdHlwZU5hbWUoKTogc3RyaW5nIHsgcmV0dXJuIFwiVGV4dFwiOyB9XG4gICAgXG4gICAgZ2V0IGNvbG9yKCkgeyByZXR1cm4gdGhpcy5fY29sb3I7IH1cbiAgICBzZXQgY29sb3IodmFsKSB7IHRoaXMuX2NvbG9yID0gdmFsOyB9XG5cbiAgICBnZXQgZm9udEZhY2UoKSB7IHJldHVybiB0aGlzLl9mb250RmFjZTsgfVxuICAgIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy5fc2l6ZTsgfVxuXG4gICAgZ2V0IGxpbmVTcGFjaW5nKCkgIHtyZXR1cm4gdGhpcy5fbGluZVNwYWNpbmc7IH1cbiAgICBzZXQgbGluZVNwYWNpbmcodmFsKSB7IHRoaXMuX2xpbmVTcGFjaW5nID0gdmFsOyB9XG5cbiAgICBnZXQgY2VudGVyZWQoKSB7IHJldHVybiB0aGlzLl9jZW50ZXJlZDsgfVxuICAgIHNldCBjZW50ZXJlZCh2YWwpIHsgdGhpcy5fY2VudGVyZWQgPSB2YWw7IH1cblxuICAgIHNldCB0ZXh0KHZhbDogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGluZXMgPSB2YWwuc3BsaXQoXCJcXG5cIik7XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICAgICAgdGhpcy5fcmVjYWxjdWxhdGVUZXh0Qm91bmRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXQgbGluZXMoKSB7IHJldHVybiB0aGlzLl9saW5lczsgfVxuICAgIHNldCBsaW5lcyh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9saW5lcyA9IHZhbDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB0aGlzLl9yZWNhbGN1bGF0ZVRleHRCb3VuZHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGdldCBjYW52YXNGdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuX2NhbnZhc0Z1bmN0aW9uOyB9XG4gICAgc2V0IGNhbnZhc0Z1bmN0aW9uKHZhbCkgeyB0aGlzLl9jYW52YXNGdW5jdGlvbiA9IHZhbDsgfVxuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgbGluZXM6IHN0cmluZ1tdIHwgc3RyaW5nLCBjb2xvcjogc3RyaW5nLCBzaXplOiBudW1iZXIsIGZvbnQ6IHN0cmluZywgbGluZVNwYWNpbmc/OiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5fZm9udEZhY2UgPSBmb250O1xuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgaWYgKHR5cGVvZihsaW5lcykgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB0aGlzLl9saW5lcyA9IFtsaW5lc107XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2xpbmVzID0gbGluZXM7XG4gICAgICAgIHRoaXMuX2xpbmVTcGFjaW5nID0gbGluZVNwYWNpbmcgfHwgMTtcbiAgICB9XG5cbiAgICBtZWFzdXJlVGV4dEZvckJvdW5kcyhjb250ZXh0MkQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRClcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5jbGVhckRpbWVuc2lvbnMoKTtcbiAgICAgICAgbGV0IHRiID0gbmV3IFRleHRCdWlsZGVyKHRoaXMubGluZXMsIGNvbnRleHQyRCwgdGhpcy5jb2xvciwgdGhpcy5zaXplLCB0aGlzLmZvbnRGYWNlLCB0aGlzLmxpbmVTcGFjaW5nKVxuICAgICAgICB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuYWRkRGltZW5zaW9uKHRiLnRleHREaW1lbnNpb24oKSk7XG4gICAgICAgIHRoaXMuX3JlY2FsY3VsYXRlVGV4dEJvdW5kcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGRyYXcoY29udGV4dDJEOiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW52YXNGdW5jdGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgY29udGV4dDJELnNhdmUoKTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzRnVuY3Rpb24oY29udGV4dDJEKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQyRC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjb250ZXh0MkQuZm9udCA9IHRoaXMuc2l6ZSArIFwicHQgXCIgKyB0aGlzLmZvbnRGYWNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZWNhbGN1bGF0ZVRleHRCb3VuZHMpXG4gICAgICAgICAgICB0aGlzLm1lYXN1cmVUZXh0Rm9yQm91bmRzKGNvbnRleHQyRCk7XG4gICAgICAgICBcbiAgICAgICAgbGV0IHBvcyA9IHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmRyYXdQb3NpdGlvblRvcExlZnQoKTtcbiAgICAgICAgbGV0IHlQb3MgPSAwO1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5fbGluZXMubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2VudGVyZWQpXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gKHRoaXMuX3dpZGVzdC10aGlzLl93aWR0aHNbaV0pLzI7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgY29udGV4dDJELmZpbGxUZXh0KHRoaXMuX2xpbmVzW2ldLCBwb3MueCArIG9mZnNldCwgcG9zLnkgKyB5UG9zICsgdGhpcy5zaXplKTtcbiAgICAgICAgICAgIHlQb3MgKz0gdGhpcy5fc2l6ZSAqIHRoaXMuX2xpbmVTcGFjaW5nO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLmNhbnZhc0Z1bmN0aW9uKVxuICAgICAgICAgICAgY29udGV4dDJELnJlc3RvcmUoKTtcbiAgICB9XG5cbiAgIFxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vLi4vdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFRleHQgZnJvbSBcIi4vVGV4dFwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCIuLi8uLi90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRCdWlsZGVyXG57XG4gICAgcHJvdGVjdGVkIF9saW5lcyA9IFtdO1xuICAgIHByb3RlY3RlZCBfY29sb3I6IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX2ZvbnRGYWNlOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9zaXplOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9saW5lU3BhY2luZzogbnVtYmVyO1xuXG4gICAgcHJvdGVjdGVkIF9jZW50ZXJlZDogYm9vbGVhbjtcblxuICAgIHByb3RlY3RlZCBfd2lkdGhzID0gW107XG4gICAgcHJvdGVjdGVkIF93aWRlc3Q6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX2NvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gICAgcHJvdGVjdGVkIF90YXJnZXRXaWR0aDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfY291bnRMaW5lcyA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcihsaW5lczogc3RyaW5nW10gfCBzdHJpbmcsIGNvbnRleHQyRDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjb2xvcjogc3RyaW5nLCBzaXplOiBudW1iZXIsIGZvbnQ6IHN0cmluZywgbGluZVNwYWNpbmc/OiBudW1iZXIsIHRhcmdldFdpZHRoPzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZihsaW5lcykgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB0aGlzLl9saW5lcyA9IFtsaW5lc107XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuX2xpbmVzID0gbGluZXM7XG4gICAgICAgIHRoaXMuX2NvbnRleHQyRCA9IGNvbnRleHQyRDtcbiAgICAgICAgdGhpcy5fY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5fZm9udEZhY2UgPSBmb250O1xuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5fbGluZVNwYWNpbmcgPSBsaW5lU3BhY2luZyB8fCAxO1xuICAgICAgICB0aGlzLl90YXJnZXRXaWR0aCA9IHRhcmdldFdpZHRoIHx8IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBnZXQgY29sb3IoKSB7IHJldHVybiB0aGlzLl9jb2xvcjsgfVxuICAgIHNldCBjb2xvcih2YWwpIHsgdGhpcy5fY29sb3IgPSB2YWw7IH1cblxuICAgIGdldCBmb250RmFjZSgpIHsgcmV0dXJuIHRoaXMuX2ZvbnRGYWNlOyB9XG4gICAgZ2V0IHNpemUoKSB7IHJldHVybiB0aGlzLl9zaXplOyB9XG5cbiAgICBnZXQgbGluZVNwYWNpbmcoKSAge3JldHVybiB0aGlzLl9saW5lU3BhY2luZzsgfVxuICAgIHNldCBsaW5lU3BhY2luZyh2YWwpIHsgdGhpcy5fbGluZVNwYWNpbmcgPSB2YWw7IH1cblxuICAgIGdldCBjZW50ZXJlZCgpIHsgcmV0dXJuIHRoaXMuX2NlbnRlcmVkOyB9XG4gICAgc2V0IGNlbnRlcmVkKHZhbCkgeyB0aGlzLl9jZW50ZXJlZCA9IHZhbDsgfVxuXG4gICAgc2V0IHRleHQodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGluZXMgPSB2YWwuc3BsaXQoXCJcXG5cIik7XG4gICAgfVxuXG4gICAgZ2V0IGxpbmVzKCkgeyByZXR1cm4gdGhpcy5fbGluZXM7IH1cbiAgICBzZXQgbGluZXModmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGluZXMgPSB2YWw7XG4gICAgfVxuXG4gICAgYnVpbGRUZXh0KHBvc2l0aW9uKTogVGV4dFxuICAgIHtcbiAgICAgICAgbGV0IHRleHREaW0gPSB0aGlzLnRleHREaW1lbnNpb24oKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0KHBvc2l0aW9uLCBuZXcgQm91bmRzKHRleHREaW0pLCB0aGlzLmxpbmVzLCB0aGlzLmNvbG9yLCB0aGlzLnNpemUsIHRoaXMuZm9udEZhY2UsIHRoaXMubGluZVNwYWNpbmcpO1xuICAgIH1cblxuICAgIHRleHREaW1lbnNpb24oKTogUGl4ZWxEaW1lbnNpb25cbiAgICB7XG4gICAgICAgIGxldCBscyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0V2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHQyRC5mb250ID0gdGhpcy5zaXplICsgJ3B0ICcgKyB0aGlzLmZvbnRGYWNlO1xuICAgICAgICAgICAgdGhpcy5saW5lcy5mb3JFYWNoKGwgPT4gbHMgPSBscy5jb25jYXQodGhpcy5fZ2V0V3JhcHBlZExpbmVzKHRoaXMuX2NvbnRleHQyRCwgbCwgdGhpcy5fdGFyZ2V0V2lkdGgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgbHMgPSB0aGlzLmxpbmVzO1xuXG4gICAgICAgIHRoaXMuX2NvbnRleHQyRC5mb250ID0gdGhpcy5zaXplICsgXCJwdCBcIiArIHRoaXMuZm9udEZhY2U7XG4gICAgICAgIGxldCB3aWRlc3QgPSAwO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICAgICAgbGV0IHdpZHRocyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTxscy5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aWR0aHNbaV0gPSB0aGlzLl9jb250ZXh0MkQubWVhc3VyZVRleHQobHNbaV0pLndpZHRoO1xuICAgICAgICAgICAgd2lkZXN0ID0gTWF0aC5tYXgod2lkZXN0LHdpZHRoc1tpXSk7XG4gICAgICAgICAgICBpZiAoaSA9PT0gbHMubGVuZ3RoLTEpXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMuc2l6ZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gdGhpcy5zaXplICogdGhpcy5saW5lU3BhY2luZztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGluZXMgPSBscztcbiAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbih3aWRlc3QsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgLy8gYmFzZWQgb24gaHR0cHM6Ly93d3cuaHRtbDVjYW52YXN0dXRvcmlhbHMuY29tL3R1dG9yaWFscy9odG1sNS1jYW52YXMtd3JhcC10ZXh0LXR1dG9yaWFsL1xuICAgIHByb3RlY3RlZCBfZ2V0V3JhcHBlZExpbmVzKGNvbnRleHQsIHRleHQ6IHN0cmluZywgbWF4V2lkdGg6IG51bWJlcik6IHN0cmluZ1tdXG4gICAge1xuICAgICAgICB2YXIgd29yZHMgPSB0ZXh0LnNwbGl0KCcgJyk7XG4gICAgICAgIHZhciBsaW5lID0gJyc7XG4gICAgICAgIGxldCBsaW5lcyA9IFtdO1xuXG4gICAgICAgIGZvcih2YXIgbiA9IDA7IG4gPCB3b3Jkcy5sZW5ndGg7IG4rKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRlc3RMaW5lID0gbGluZSArIHdvcmRzW25dO1xuICAgICAgICAgICAgdmFyIG1ldHJpY3MgPSBjb250ZXh0Lm1lYXN1cmVUZXh0KHRlc3RMaW5lKTtcbiAgICAgICAgICAgIHZhciB0ZXN0V2lkdGggPSBtZXRyaWNzLndpZHRoO1xuICAgICAgICAgICAgaWYgKHRlc3RXaWR0aCA+IG1heFdpZHRoICYmIG4gPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vbGluZXMucHVzaChsaW5lLnRyaW1SaWdodCgpKTtcbiAgICAgICAgICAgICAgICBsaW5lID0gd29yZHNbbl0gKyAnICc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbGluZSA9IHRlc3RMaW5lICsgJyAnO1xuICAgICAgICB9XG4gICAgICAgIC8vbGluZXMucHVzaChsaW5lLnRyaW1SaWdodCgpKTtcblxuICAgICAgICByZXR1cm4gbGluZXM7XG4gICAgfVxufSIsImltcG9ydCBFdmVudCBmcm9tIFwiZW5naW5lL3V0aWwvRXZlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSU9cbntcbiAgICBvblN0YXJ0ID0gbmV3IEV2ZW50KCk7XG4gICAgb25TdG9wID0gbmV3IEV2ZW50KCk7XG4gICAgb25CZWdpblN0YXJ0ID0gbmV3IEV2ZW50KCk7IC8vIHRpbWVzdGFtcCwgZGVsdGFcbiAgICBvbkJlZ2luRW5kID0gbmV3IEV2ZW50KCk7XG4gICAgb25VcGRhdGVTdGFydCA9IG5ldyBFdmVudCgpO1xuICAgIG9uVXBkYXRlRW5kID0gbmV3IEV2ZW50KCk7XG4gICAgb25EcmF3U3RhcnQgPSBuZXcgRXZlbnQoKTtcbiAgICBvbkRyYXdFbmQgPSBuZXcgRXZlbnQoKTtcbiAgICBvbkVuZFN0YXJ0ID0gbmV3IEV2ZW50KCk7IC8vIGZwc1xuICAgIG9uRW5kRW5kID0gbmV3IEV2ZW50KCk7XG4gICAgX2ludGVyZmFjZXMgPSB7fVxuICAgIF9pZnM6IElPSW50ZXJmYWNlW10gPSBbXTtcblxuICAgIGdldCBpbnRlcmZhY2VzKCkgeyByZXR1cm4gdGhpcy5faW50ZXJmYWNlczsgfVxuXG4gICAgYWRkSW50ZXJmYWNlKGluZjogSU9JbnRlcmZhY2UsIG5hbWU6IHN0cmluZylcbiAgICB7XG4gICAgICAgIHRoaXMuX2ludGVyZmFjZXNbbmFtZV0gPSBpbmY7XG4gICAgICAgIHRoaXMuX2lmcy5wdXNoKGluZik7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkgeyB0aGlzLl9pZnMuZm9yRWFjaCh4ID0+IHguc2V0RXZlbnRzKHRoaXMpKTsgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElPSW50ZXJmYWNlXG57XG4gICAgc2V0RXZlbnRzKElPOiBJTyk6IHZvaWQ7XG59IiwiaW1wb3J0IHsgSU9JbnRlcmZhY2UgfSBmcm9tIFwiLi9JT1wiO1xuXG5leHBvcnQgY2xhc3MgS2V5Ym9hcmQgXG57XG4gICAgcHJvdGVjdGVkIF9rZXlzRG93bjogc3RyaW5nW10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgX2tleXNVcDogc3RyaW5nW10gPSBbXTtcbiAgICBwcm90ZWN0ZWQgX2tleVByZXNzZXNUaGlzVXBkYXRlOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgZ2V0IGtleVByZXNzZXNUaGlzVXBkYXRlKCkgeyByZXR1cm4gdGhpcy5fa2V5UHJlc3Nlc1RoaXNVcGRhdGU7IH1cbiAgICBnZXQga2V5c0Rvd24oKSB7IHJldHVybiB0aGlzLl9rZXlzRG93bjsgfVxuICAgIGdldCBrZXlzVXAoKSB7IHJldHVybiB0aGlzLl9rZXlzVXA7IH1cblxuICAgIGlzS2V5VXAoa2V5VmFsdWU6IHN0cmluZykgeyByZXR1cm4gdGhpcy5rZXlzVXAuaW5kZXhPZihrZXlWYWx1ZSkgPj0gMDsgfVxuXG4gICAgaXNLZXlEb3duKGtleVZhbHVlOiBzdHJpbmcpIHsgcmV0dXJuIHRoaXMua2V5c0Rvd24uaW5kZXhPZihrZXlWYWx1ZSkgPj0gMDsgfVxuXG4gICAga2V5UHJpb3JpdHkoa2V5YTogc3RyaW5nLCBrZXliOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c0Rvd24uaW5kZXhPZihrZXlhKSA+IHRoaXMua2V5c0Rvd24uaW5kZXhPZihrZXliKTsgfVxuXG4gICAgZ2V0IGtleSgpIHsgcmV0dXJuIHRoaXMua2V5c0Rvd25bdGhpcy5rZXlzRG93bi5sZW5ndGgtMV07IH1cbn1cblxuZXhwb3J0IGNsYXNzIEtleWJvYXJkTGlzdGVuZXIgZXh0ZW5kcyBLZXlib2FyZCBpbXBsZW1lbnRzIElPSW50ZXJmYWNlIFxue1xuICAgIHByaXZhdGUgX3N3aXRjaEJ1ZmZlcjogYm9vbGVhbjtcbiAgICBwcml2YXRlIF9idWZmZXIyOiBzdHJpbmdbXTtcblxuICAgIHNldEV2ZW50cyhpbylcbiAgICB7XG4gICAgICAgIGlvLm9uQmVnaW5TdGFydC5wdXNoKHRoaXMub25CZWdpblN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgICBpby5vbkJlZ2luRW5kLnB1c2godGhpcy5vbkJlZ2luRW5kLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLm9uS2V5RG93bi5iaW5kKHRoaXMpLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMub25LZXlVcC5iaW5kKHRoaXMpLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIHRoaXMub25LZXlQcmVzcy5iaW5kKHRoaXMpLCB0cnVlKTtcbiAgICB9XG5cbiAgICBvbktleURvd24oZXZlbnQpXG4gICAge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMua2V5c0Rvd24uaW5kZXhPZihldmVudC5rZXkpID09PSAtMSlcbiAgICAgICAgICAgIHRoaXMua2V5c0Rvd24ucHVzaChldmVudC5rZXkpO1xuICAgIH1cblxuICAgIG9uS2V5VXAoZXZlbnQpXG4gICAge1xuICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMua2V5c1VwLmluZGV4T2YoZXZlbnQua2V5KSA9PT0gLTEpXG4gICAgICAgICAgICB0aGlzLmtleXNVcC5wdXNoKGV2ZW50LmtleSk7XG4gICAgfVxuXG4gICAgb25LZXlQcmVzcyhldmVudClcbiAgICB7XG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5fc3dpdGNoQnVmZmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoISh0aGlzLl9idWZmZXIyLmluZGV4T2YoZXZlbnQua2V5KSA+PSAwKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIyLnB1c2goZXZlbnQua2V5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBpZiAoISh0aGlzLmtleVByZXNzZXNUaGlzVXBkYXRlLmluZGV4T2YoZXZlbnQua2V5KSA+PSAwKSlcbiAgICAgICAgICAgICAgICB0aGlzLmtleVByZXNzZXNUaGlzVXBkYXRlLnB1c2goZXZlbnQua2V5KTtcbiAgICB9XG5cbiAgICBvbkJlZ2luU3RhcnQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYnVmZmVyMiA9IFtdOyBcbiAgICAgICAgdGhpcy5fc3dpdGNoQnVmZmVyID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBvbkJlZ2luRW5kKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIyLmxlbmd0aCA+IDApXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLl9idWZmZXIyKTtcbiAgICAgICAgdGhpcy5fa2V5UHJlc3Nlc1RoaXNVcGRhdGUgPSB0aGlzLl9idWZmZXIyLnNsaWNlKCk7XG4gICAgICAgIHRoaXMuX3N3aXRjaEJ1ZmZlciA9IGZhbHNlO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5fa2V5c0Rvd24gPSB0aGlzLmtleXNEb3duLmZpbHRlcih4ID0+IHRoaXMua2V5c1VwLmluZGV4T2YoeCkgPCAwICk7XG4gICAgICAgIHRoaXMuX2tleXNVcCA9IFtdO1xuICAgIH1cbn1cbiIsImltcG9ydCBBc3NldCBmcm9tIFwiLi4vQXNzZXRcIjtcbmltcG9ydCBJTywgeyBJT0ludGVyZmFjZSB9IGZyb20gXCIuL0lPXCI7XG5cbmRlY2xhcmUgdmFyIEZvbnRGYWNlT2JzZXJ2ZXI6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGVyIGltcGxlbWVudHMgSU9JbnRlcmZhY2VcbntcbiAgICBwcm90ZWN0ZWQgX2Fzc2V0c0ZvbGRlcjogc3RyaW5nID0gXCIuL2Fzc2V0cy9cIjtcblxuICAgIHByb3RlY3RlZCBfc2hhcmVkQXNzZXRzOiBBc3NldDxPYmplY3Q+W10gPSBbXVxuXG4gICAgY29uc3RydWN0b3IoYXNzZXRzRm9sZGVyPzogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgaWYgKGFzc2V0c0ZvbGRlciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy5fYXNzZXRzRm9sZGVyID0gYXNzZXRzRm9sZGVyO1xuICAgIH1cblxuICAgIGdldCBhc3NldHNGb2xkZXIoKSB7IHJldHVybiB0aGlzLl9hc3NldHNGb2xkZXJ9XG5cbiAgICBnZXRTaGFyZWRBc3NldChmaWxlbmFtZTogc3RyaW5nKTogQXNzZXQ8YW55PlxuICAgIHtcbiAgICAgICAgbGV0IGV4aXN0aW5nID0gdGhpcy5fc2hhcmVkQXNzZXRzLmZpbHRlcihhID0+IGEuZmlsZW5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdbMF07XG4gICAgICAgIGxldCBhID0gbmV3IEFzc2V0KGZpbGVuYW1lLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX3NoYXJlZEFzc2V0cy5wdXNoKGEpO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgICBsb2FkSW1hZ2UoZmlsZW5hbWU6IHN0cmluZywgb25lcnJvcjogKGFzc2V0OiBBc3NldDxIVE1MSW1hZ2VFbGVtZW50PikgPT4gdm9pZCk6IEFzc2V0PEhUTUxJbWFnZUVsZW1lbnQ+XG4gICAge1xuICAgICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgbGV0IGFzc2V0ID0gbmV3IEFzc2V0PEhUTUxJbWFnZUVsZW1lbnQ+KGZpbGVuYW1lLCBpbWFnZSwgZmFsc2UpO1xuICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLmFzc2V0c0ZvbGRlciArIGZpbGVuYW1lO1xuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFzc2V0LmxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIGltYWdlLm9uZXJyb3IgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICBvbmVycm9yKGFzc2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNzZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBMb2FkcyBhIGZvbnQgZnJvbSBmaWxlLlxuICAgICogTXVsdGlwbGUgZmlsZW5hbWUgYXJndW1lbnRzIGNhbiBiZSBwcm92aWRlZCBzbyBsb25nIGFzIHRoZSBuYW1lcyBhcmUgaWRlbnRpY2FsXG4gICAgKiBleGNlcHQgZm9yIGRpZmZlcmluZyBmaWxlIGV4dGVuc2lvbnMuIFRoZSBmaWxlIGV4dGVuc2lvbiBwcm92aWRlcyB0aGUgZm9ybWF0XG4gICAgKiBmb3IgbG9hZGluZyB0aGUgZm9udC4gVGhlIGZpcnN0IGZpbGV0eXBlIGlzIHByZWZlcnJlZCBmb3IgbG9hZGluZywgYnV0IGlmXG4gICAgKiB1bnN1cHBvcnRlZCBvdGhlciB2ZXJzaW9ucyB3aWxsIGJlIGF0dGVtcHRlZC5cbiAgICAqIEBwYXJhbSB7Kn0gbG9hZGVyIFxuICAgICogQHBhcmFtIHsqfSBmaWxlbmFtZXMgXG4gICAgKi9cbiAgICBsb2FkRm9udCguLi5maWxlbmFtZXM6IHN0cmluZ1tdKTogQXNzZXQ8c3RyaW5nPlxuICAgIHtcbiAgICAgICAgbGV0IHQgPSBcIlwiO1xuICAgICAgICBsZXQgbmFtZTogc3RyaW5nID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGZpbGVuYW1lcy5mb3JFYWNoKGYgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBmaWxlcGF0aCA9IGYuc3BsaXQoXCIvXCIpO1xuICAgICAgICAgICAgbGV0IHN0cmluZ0NvbXBvbmVudHMgPSBmaWxlcGF0aFtmaWxlcGF0aC5sZW5ndGgtMV0uc3BsaXQoXCIuXCIpO1xuICAgICAgICAgICAgaWYgKHN0cmluZ0NvbXBvbmVudHMubGVuZ3RoICE9PSAyKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZvbnQgbmFtZXMgbXVzdCBiZSBzdXBwbGllZCBpbiB0aGUgZm9ybWF0IFxcXCI8cGF0aC10by1maWxlPi88bmFtZT4uPGZvcm1hdD5cXFwiXCIpO1xuICAgICAgICAgICAgbGV0IGZvbnROYW1lID0gc3RyaW5nQ29tcG9uZW50c1swXTtcbiAgICAgICAgICAgIGlmICghbmFtZSlcbiAgICAgICAgICAgICAgICBuYW1lID0gZm9udE5hbWU7XG4gICAgICAgICAgICBpZiAobmFtZSAhPT0gZm9udE5hbWUpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWxsIGZvbnQgZm9ybWF0IHZhcmlhbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBmaWxlbmFtZSBleGNsdWRpbmcgZXh0ZW5zaW9uXCIpO1xuICAgICAgICAgICAgbGV0IGZvcm1hdCA9IHN0cmluZ0NvbXBvbmVudHNbMV07XG4gICAgICAgICAgICB0ICs9IFwiXFxuICAgIHNyYzogdXJsKCdcIiArIHRoaXMuYXNzZXRzRm9sZGVyICsgZiArIFwiJykgZm9ybWF0KCdcIitmb3JtYXQrXCInKTtcIjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdCA9ICBcIkBmb250LWZhY2Uge1xcblxcXG4gICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IFwiICsgbmFtZSArIFwiO1wiICsgdDtcbiAgICAgICAgdCArPSBcIlxcbn1cIjtcblxuICAgICAgICBsZXQgbmV3U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICBuZXdTdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0KSk7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobmV3U3R5bGUpO1xuXG4gICAgICAgIGxldCBuYW1lUGx1c0V4dCA9IGZpbGVuYW1lc1swXS5zcGxpdChcIi9cIikucG9wKCk7XG4gICAgICAgIGxldCBhc3NldE5hbWUgPSBuYW1lUGx1c0V4dC5zcGxpdChcIi5cIilbMF07XG5cbiAgICAgICAgbGV0IGZvbnQgPSBuZXcgRm9udEZhY2VPYnNlcnZlcihuYW1lKTtcbiAgICAgICAgbGV0IGFzc2V0ID0gbmV3IEFzc2V0PHN0cmluZz4oYXNzZXROYW1lLCBuYW1lLCBmYWxzZSk7XG4gICAgICAgIGZvbnQubG9hZCgpLnRoZW4oKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgYXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBsb2FkaW5nIGZvbnRcIik7XG4gICAgICAgICAgICBhc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGFzc2V0O1xuICAgIH1cblxuICBzZXRFdmVudHMoaW86IElPKSB7IH1cblxufVxuIiwiaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IElPLCB7IElPSW50ZXJmYWNlIH0gZnJvbSBcIi4vSU9cIjtcblxuZXhwb3J0IGNsYXNzIE1vdXNlXG57XG5cbiAgICByZWFkb25seSB0b3VjaGVzOiBNYXA8bnVtYmVyLCBUb3VjaD4gPSBuZXcgTWFwPG51bWJlciwgVG91Y2g+KCk7XG5cbiAgICBwcm90ZWN0ZWQgX2lzRG93bjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByb3RlY3RlZCBfcG9zaXRpb246IFBvaW50ID0gbmV3IFBvaW50KDAsMCk7XG4gICAgcHJvdGVjdGVkIF9jYW52YXM6IEhUTUxDYW52YXNFbGVtZW50ID0gbnVsbDtcbiAgICBwcm90ZWN0ZWQgX2lzTW91c2VEb3duRXZlbnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcm90ZWN0ZWQgX2lzTW91c2VVcEV2ZW50OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9pc01vdXNlTW92ZUV2ZW50OiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJvdGVjdGVkIF9oYW5kbGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgaXNEb3duKCkgeyByZXR1cm4gdGhpcy5faXNEb3duOyB9XG4gICAgZ2V0IHBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5fcG9zaXRpb247IH1cbiAgICBnZXQgaXNNb3VzZURvd25FdmVudCgpIHsgcmV0dXJuIHRoaXMuX2lzTW91c2VEb3duRXZlbnQ7IH1cbiAgICBnZXQgaXNNb3VzZVVwRXZlbnQoKSB7IHJldHVybiB0aGlzLl9pc01vdXNlVXBFdmVudDsgfVxuICAgIGdldCBpc01vdXNlTW92ZUV2ZW50KCkgeyByZXR1cm4gdGhpcy5faXNNb3VzZU1vdmVFdmVudDsgfVxuICAgIGdldCBoYW5kbGVkKCkgeyByZXR1cm4gdGhpcy5faGFuZGxlZDsgfVxuICAgIHNldEhhbmRsZWQodG91Y2g/OiBUb3VjaClcbiAgICB7IFxuICAgICAgaWYgKHRvdWNoKVxuICAgICAgICB0b3VjaC5oYW5kbGVkID0gdHJ1ZTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhpcy5faGFuZGxlZCA9IHRydWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVG91Y2hcbntcbiAgICBwb3NpdGlvbjogUG9pbnQ7XG4gICAgaXNTdGFydEV2ZW50OiBib29sZWFuID0gZmFsc2U7XG4gICAgaXNFbmRFdmVudDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzTW92ZUV2ZW50OiBib29sZWFuID0gZmFsc2U7XG4gICAgaGFuZGxlZDogYm9vbGVhbiA9IGZhbHNlO1xufVxuXG5leHBvcnQgY2xhc3MgTW91c2VMaXN0ZW5lciBleHRlbmRzIE1vdXNlIGltcGxlbWVudHMgSU9JbnRlcmZhY2VcbntcbiAgLy8gTmVlZCB0byByZS1kZWNsYXJlIGdldHRlcnMgYXMgc3VwZXItY2xhc3MgdmVyc2lvbnMgYXJlIG5vdCBjYWxsZWQgKGZvciBzb21lIHJlYXNvbilcbiAgZ2V0IGlzRG93bigpIHsgcmV0dXJuIHRoaXMuX2lzRG93bjsgfVxuICBzZXQgaXNEb3duKHZhbCkgeyB0aGlzLl9pc0Rvd24gPSB2YWw7IH1cbiAgZ2V0IGlzTW91c2VEb3duRXZlbnQoKSB7IHJldHVybiB0aGlzLl9pc01vdXNlRG93bkV2ZW50OyB9XG4gIHNldCBpc01vdXNlRG93bkV2ZW50KHZhbCkgeyB0aGlzLl9pc01vdXNlRG93bkV2ZW50ID0gdmFsOyB9XG4gIGdldCBpc01vdXNlVXBFdmVudCgpIHsgcmV0dXJuIHRoaXMuX2lzTW91c2VVcEV2ZW50OyB9XG4gIHNldCBpc01vdXNlVXBFdmVudCh2YWwpIHsgdGhpcy5faXNNb3VzZVVwRXZlbnQgPSB2YWw7IH1cbiAgZ2V0IGlzTW91c2VNb3ZlRXZlbnQoKSB7IHJldHVybiB0aGlzLl9pc01vdXNlTW92ZUV2ZW50OyB9XG4gIHNldCBpc01vdXNlTW92ZUV2ZW50KHZhbCkgeyB0aGlzLl9pc01vdXNlTW92ZUV2ZW50ID0gdmFsOyB9XG5cbiAgc2V0RXZlbnRzKGlvOiBJTykgeyBpby5vblVwZGF0ZUVuZC5wdXNoKHRoaXMub25VcGRhdGVFbmQuYmluZCh0aGlzKSwgdGhpcyk7IH1cblxuICBhZGRUbyhkb2M6IEhUTUxEb2N1bWVudCwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudClcbiAge1xuICAgIHRoaXMuX2NhbnZhcyA9IGNhbnZhcztcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93bi5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZVhZLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy50b3VjaFN0YXJ0LmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLnRvdWNoWFkuYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLnRvdWNoRW5kLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICBkb2MuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm1vdXNlVXAuYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgIGRvYy5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLCB0aGlzLnRvdWNoRW5kLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIG9uVXBkYXRlRW5kKClcbiAge1xuICAgIHRoaXMuaXNNb3VzZURvd25FdmVudCA9IGZhbHNlO1xuICAgIHRoaXMuaXNNb3VzZVVwRXZlbnQgPSBmYWxzZTtcbiAgICB0aGlzLmlzTW91c2VNb3ZlRXZlbnQgPSBmYWxzZTtcbiAgICB0aGlzLl9oYW5kbGVkID0gZmFsc2U7XG4gICAgbGV0IHRvUmVtb3ZlID0gW11cbiAgICB0aGlzLnRvdWNoZXMuZm9yRWFjaCgodG91Y2gsIGtleSkgPT5cbiAgICAgIHtcbiAgICAgICAgdG91Y2guaXNTdGFydEV2ZW50ID0gZmFsc2U7XG4gICAgICAgIHRvdWNoLmlzRW5kRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgdG91Y2guaXNNb3ZlRXZlbnQgPSBmYWxzZTtcbiAgICAgICAgdG91Y2guaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodG91Y2guaXNFbmRFdmVudClcbiAgICAgICAgICB0b1JlbW92ZS5wdXNoKGtleSlcbiAgICAgIH0pO1xuICAgICAgdG9SZW1vdmUuZm9yRWFjaChyID0+IHRoaXMudG91Y2hlcy5kZWxldGUocikpO1xuICB9XG5cbiAgbW91c2VVcChlKVxuICB7XG4gICAgdGhpcy5pc0Rvd24gPSBmYWxzZTtcbiAgICB0aGlzLmlzTW91c2VVcEV2ZW50ID0gdHJ1ZTtcbiAgICB0aGlzLm1vdXNlWFkoZSk7XG4gIH1cblxuICB0b3VjaEVuZChlKVxuICB7XG4gICAgZm9yIChsZXQgaT0wLGxlbj1lLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpPGxlbjtpKyspXG4gICAge1xuICAgICAgbGV0IHQgPSB0aGlzLnRvdWNoZXMuZ2V0KGUuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcik7XG4gICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKVxuICAgICAge1xuICAgICAgICB0ID0gbmV3IFRvdWNoKCk7XG4gICAgICAgIHRoaXMudG91Y2hlcy5zZXQoZS5jaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyLCB0KTtcbiAgICAgIH1cbiAgICAgIHQuaXNFbmRFdmVudCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgbW91c2VEb3duKGUpXG4gIHtcbiAgICB0aGlzLmlzRG93biA9IHRydWU7XG4gICAgdGhpcy5pc01vdXNlRG93bkV2ZW50ID0gdHJ1ZTtcbiAgICB0aGlzLm1vdXNlWFkoZSk7XG4gIH1cblxuICB0b3VjaFN0YXJ0KGUpXG4gIHtcbiAgICBmb3IgKGxldCBpPTAsbGVuPWUuY2hhbmdlZFRvdWNoZXMubGVuZ3RoO2k8bGVuO2krKylcbiAgICB7XG4gICAgICBsZXQgdG91Y2ggPSBlLmNoYW5nZWRUb3VjaGVzW2ldO1xuICAgICAgbGV0IHQgPSB0aGlzLnRvdWNoZXMuZ2V0KHRvdWNoLmlkZW50aWZpZXIpO1xuICAgICAgaWYgKHQgPT09IHVuZGVmaW5lZClcbiAgICAgIHtcbiAgICAgICAgdCA9IG5ldyBUb3VjaCgpO1xuICAgICAgICB0aGlzLnRvdWNoZXMuc2V0KHRvdWNoLmlkZW50aWZpZXIsIHQpO1xuICAgICAgfVxuICAgICAgdG91Y2guaXNFbmRFdmVudCA9IGZhbHNlO1xuICAgICAgdG91Y2guaGFuZGxlZCA9IGZhbHNlO1xuICAgICAgdC5pc1N0YXJ0RXZlbnQgPSB0cnVlO1xuICAgICAgdC5pc01vdmVFdmVudCA9IHRydWU7XG4gICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KGUuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVggLSB0aGlzLl9jYW52YXMub2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY2hhbmdlZFRvdWNoZXNbaV0ucGFnZVkgLSB0aGlzLl9jYW52YXMub2Zmc2V0VG9wKTtcbiAgICB9XG4gIH1cblxuICBtb3VzZVhZKGUpXG4gIHtcbiAgICB0aGlzLmlzTW91c2VNb3ZlRXZlbnQgPSB0cnVlO1xuICAgIHRoaXMuX3Bvc2l0aW9uID0gbmV3IFBvaW50KGUucGFnZVggLSB0aGlzLl9jYW52YXMub2Zmc2V0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnBhZ2VZIC0gdGhpcy5fY2FudmFzLm9mZnNldFRvcCk7XG4gIH1cblxuICB0b3VjaFhZKGUpXG4gIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZm9yIChsZXQgaT0wLGxlbj1lLmNoYW5nZWRUb3VjaGVzLmxlbmd0aDtpPGxlbjtpKyspXG4gICAge1xuICAgICAgbGV0IHQgPSB0aGlzLnRvdWNoZXMuZ2V0KGUuY2hhbmdlZFRvdWNoZXNbaV0uaWRlbnRpZmllcik7XG4gICAgICBpZiAodCA9PT0gdW5kZWZpbmVkKVxuICAgICAge1xuICAgICAgICB0ID0gbmV3IFRvdWNoKCk7XG4gICAgICAgIHRoaXMudG91Y2hlcy5zZXQoZS5jaGFuZ2VkVG91Y2hlc1tpXS5pZGVudGlmaWVyLCB0KTtcbiAgICAgIH1cbiAgICAgIHQuaXNNb3ZlRXZlbnQgPSB0cnVlO1xuICAgICAgdC5wb3NpdGlvbiA9IG5ldyBQb2ludChlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VYIC0gdGhpcy5fY2FudmFzLm9mZnNldExlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmNoYW5nZWRUb3VjaGVzW2ldLnBhZ2VZIC0gdGhpcy5fY2FudmFzLm9mZnNldFRvcCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgSU8sIHsgSU9JbnRlcmZhY2UgfSBmcm9tIFwiLi9JT1wiO1xuZGVjbGFyZSB2YXIgTWFpbkxvb3A6IGFueTtcblxuZXhwb3J0IGNsYXNzIFRpbWluZ1xue1xuICAgIGxvb3BTdGFydCA9IDA7XG4gICAgbG9vcFRpbWUgPSAwO1xuICAgIGJlZ2luU3RhcnQgPSAwO1xuICAgIGJlZ2luVGltZSA9IDA7XG4gICAgdXBkYXRlU3RhcnQgPSAwO1xuICAgIHVwZGF0ZVRpbWUgPSAwO1xuICAgIGRyYXdTdGFydCA9IDA7XG4gICAgZHJhd1RpbWUgPSAwO1xuICAgIGVuZFN0YXJ0ID0gMDtcbiAgICBlbmRUaW1lID0gMDtcbiAgICBzbG93RG93biA9IDA7XG4gICAgZnBzID0gMDtcbiAgICB1cGRhdGVTdGVwcyA9IDA7XG4gICAgbWFpbkxvb3BUaW1lc3RhbXAgPSAwO1xuICAgIGRlbHRhID0gMDtcbiAgICAvKiBEZWx0YSB0aW1lIGluIHNlY29uZHMgKi9cbiAgICBkZWx0YVMgPSAwO1xufVxuXG5leHBvcnQgY2xhc3MgVGltaW5nTGlzdGVuZXIgZXh0ZW5kcyBUaW1pbmcgaW1wbGVtZW50cyBJT0ludGVyZmFjZVxue1xuICAgIHNldEV2ZW50cyhpbzogSU8pXG4gICAge1xuICAgICAgICBpby5vbkJlZ2luU3RhcnQucHVzaCh0aGlzLm9uQmVnaW5TdGFydC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25CZWdpbkVuZC5wdXNoKHRoaXMub25CZWdpbkVuZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25VcGRhdGVTdGFydC5wdXNoKHRoaXMub25VcGRhdGVTdGFydC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgaW8ub25VcGRhdGVFbmQucHVzaCh0aGlzLm9uVXBkYXRlRW5kLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkRyYXdTdGFydC5wdXNoKHRoaXMub25EcmF3U3RhcnQuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGlvLm9uRHJhd0VuZC5wdXNoKHRoaXMub25EcmF3RW5kLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkVuZFN0YXJ0LnB1c2godGhpcy5vbkVuZFN0YXJ0LmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBpby5vbkVuZEVuZC5wdXNoKHRoaXMub25FbmRFbmQuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25CZWdpblN0YXJ0KHRpbWVzdGFtcDogbnVtYmVyLCBkZWx0YTogbnVtYmVyKVxuICAgIHtcbiAgICAgIHRoaXMubWFpbkxvb3BUaW1lc3RhbXAgPSB0aW1lc3RhbXA7XG4gICAgICB0aGlzLmxvb3BTdGFydCA9IERhdGUubm93KCk7XG4gICAgICB0aGlzLmJlZ2luU3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy51cGRhdGVTdGVwcyA9IE1haW5Mb29wLmdldE51bVVwZGF0ZVN0ZXBzKCk7XG4gICAgICB0aGlzLmRlbHRhID0gZGVsdGE7XG4gICAgICB0aGlzLmRlbHRhUyA9IGRlbHRhLzEwMDA7XG4gICAgfVxuXG4gICAgb25CZWdpbkVuZCgpXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5KChEYXRlLm5vdygpLXRoaXMuYmVnaW5TdGFydCkqdGhpcy5zbG93RG93bik7XG4gICAgICAgIHRoaXMuYmVnaW5UaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMuYmVnaW5TdGFydDtcbiAgICB9XG5cbiAgICBvblVwZGF0ZVN0YXJ0KGRlbHRhOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5kZWx0YSA9IGRlbHRhO1xuICAgICAgICB0aGlzLmRlbHRhUyA9IGRlbHRhLzEwMDA7XG4gICAgfVxuXG4gICAgb25VcGRhdGVFbmQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWxheSgoRGF0ZS5ub3coKS10aGlzLnVwZGF0ZVN0YXJ0KSp0aGlzLnNsb3dEb3duKTtcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMudXBkYXRlU3RhcnQ7XG4gICAgfVxuXG4gICAgb25EcmF3U3RhcnQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kcmF3U3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIG9uRHJhd0VuZCgpXG4gICAge1xuICAgICAgICB0aGlzLmRlbGF5KChEYXRlLm5vdygpLXRoaXMuZHJhd1N0YXJ0KSp0aGlzLnNsb3dEb3duKTtcbiAgICAgICAgdGhpcy5kcmF3VGltZSA9IERhdGUubm93KCkgLSB0aGlzLmRyYXdTdGFydDtcbiAgICB9XG5cbiAgICBvbkVuZFN0YXJ0KGZwczogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbmRTdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xuICAgIH1cblxuICAgIG9uRW5kRW5kKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGVsYXkoKERhdGUubm93KCktdGhpcy5lbmRTdGFydCkqdGhpcy5zbG93RG93bik7XG4gICAgICAgIHRoaXMuZW5kVGltZSA9IERhdGUubm93KCkgLSB0aGlzLmVuZFN0YXJ0O1xuICAgICAgICB0aGlzLmxvb3BUaW1lID0gRGF0ZS5ub3coKSAtIHRoaXMubG9vcFN0YXJ0O1xuICAgIH1cblxuICAgIGRlbGF5KHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aW1lIDw9IDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBub3cgPSBzdGFydDtcbiAgICAgICAgd2hpbGUodHJ1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGlmIChub3cgLSBzdGFydCA+IHRpbWUpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgRXZlbnQgZnJvbSBcIi4uL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IENvbmRpdGlvbmFsRGltZW5zaW9uIGZyb20gXCIuL2RpbWVuc2lvbi9Db25kaXRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi4vVHJhbnNmb3JtXCI7XG5cbi8qKlxuICogQSBCb3VuZHMgaXMgYSBzaXplIG9yIGV4dGVuc2lvbiBpbiBnYW1lIHNwYWNlLCB1c3VhbGx5IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnRpY3VsYXIgXG4gKiBHYW1lT2JqZWN0LiBJdCBpcyBtYWRlIG9mIHRoZSBjb21iaW5hdGlvbiAgb2YgemVybyBvciBtb3JlIERpbWVuc2lvbnMsIHdoaWNoIGFyZSBhZGRlZCBcbiAqIHRvZ2V0aGVyIHRvIHJlc3VsdCBpbiB0aGUgZmluYWwgc2l6ZS4gSWYgYSBCb3VuZHMgaGFzIG5vIGRpbWVuc2lvbnMsIGl0IGhhcyBhIHNpemUgb2YgKDAsMCkuXG4gKiBGb3IgYSBHYW1lT2JqZWN0IHRvIGhhdmUgbm8gc2l6ZSAocmF0aGVyIHRoYW4gYSBzaXplIG9mIDApIGl0IHNob3VsZCBub3QgaGF2ZSBhIGJvdW5kcyAoaWUuXG4gKiBpdHMgYm91bmRzIHNob3VsZCBiZSBudWxsKS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm91bmRzXG57XG4gICAgcHJvdGVjdGVkIF9kaW1lbnNpb25zOiBEaW1lbnNpb25bXSA9IFtdO1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlV2lkdGg6IG51bWJlciA9IHVuZGVmaW5lZDtcbiAgICBwcm90ZWN0ZWQgX3RhcmdldEFzcGVjdFJhdGlvOiBudW1iZXIgPSB1bmRlZmluZWQ7XG4gICAgcHJvdGVjdGVkIF9taW5EaW1lbnNpb246IERpbWVuc2lvbiA9IHVuZGVmaW5lZDtcbiAgICBwcm90ZWN0ZWQgX21heERpbWVuc2lvbjogRGltZW5zaW9uID0gdW5kZWZpbmVkO1xuICAgIHByb3RlY3RlZCBfdHJhbnNmb3JtOiBUcmFuc2Zvcm0gPSBudWxsO1xuICAgIHByb3RlY3RlZCBfY2FjaGVkRGltZW5zaW9uOiBEaW1lbnNpb24gPSAgbmV3IERpbWVuc2lvbigwLDApOztcbiAgICBwcm90ZWN0ZWQgX29uUmVzaXplOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIHByb3RlY3RlZCBfZGlydHk6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY2FsY3VsYXRpbmcgPSBmYWxzZTtcbiAgICBjYWxjdWxhdGlvbkZhaWxlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoLi4uZGltZW5zaW9uczogRGltZW5zaW9uW10pXG4gICAge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zID0gZGltZW5zaW9ucztcbiAgICB9XG5cbiAgICBnZXQgdHJhbnNmb3JtKCk6IFRyYW5zZm9ybSB7IHJldHVybiB0aGlzLl90cmFuc2Zvcm07IH1cbiAgICBzZXQgdHJhbnNmb3JtKHZhbDogVHJhbnNmb3JtKSB7IHRoaXMuX3RyYW5zZm9ybSA9IHZhbDsgfVxuXG4gICAgZ2V0IGRpcnR5KCkgeyByZXR1cm4gdGhpcy5fZGlydHk7IH1cbiAgICBzZXQgZGlydHkodmFsKSB7IHRoaXMuX2RpcnR5ID0gdmFsOyB9XG5cbiAgICBnZXQgY2FjaGVkRGltZW5zaW9uKCkgeyByZXR1cm4gdGhpcy5fY2FjaGVkRGltZW5zaW9uOyB9XG4gICAgc2V0IGNhY2hlZERpbWVuc2lvbih2YWwpIHsgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gdmFsO31cblxuICAgIC8qKlxuICAgICAqIEFuIGV2ZW50IHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGJvdW5kcyBjaGFuZ2VzIHNpemUuXG4gICAgICovXG4gICAgZ2V0IG9uUmVzaXplKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uUmVzaXplOyB9XG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBwaHlzaWNhbCBwaXhlbHMgb24gdGhlIGRldmljZSBmb3IgZXZlcnkgc3RhbmRhcmQgcGl4ZWwuIFVzZWQgZm9yXG4gICAgICogY29udmVydGluZyBiZXR3ZWVuIHVuaXRzIGluIFBoeXNpY2FsUGl4ZWxzIGFuZCBQaXhlbHMuIEN1cnJlbnRseSBkaXJlY3RseSBtYWtlc1xuICAgICAqIGVuZ2luZS1leHRlcm5hbCBjYWxsIGluIG9yZGVyIHRvIHJlc3BvbmQgZHluYW1pY2FsbHkgdG8gY2hhbmdlcy5cbiAgICAgKi9cbiAgICBnZXQgZGV2aWNlUGl4ZWxSYXRpbygpOiBudW1iZXIgeyByZXR1cm4gd2luZG93LmRldmljZVBpeGVsUmF0aW87IH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJvdW5kcyBvbiB0aGUgcGFyZW50IHRvIHRoZSBhc3NvY2lhdGVkIEdhbWVPYmplY3QuIChpZS4gdGhlIEJvdW5kc1xuICAgICAqIHNjb3Bpbmcgb25lIGxldmUgaGlnaGllciBpbiB0aGUgR2FtZU9iamVjdCB0cmVlKVxuICAgICAqL1xuICAgIGdldCBwYXJlbnRCb3VuZHMoKTogQm91bmRzXG4gICAge1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50KVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wYXJlbnQuYm91bmRzO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXNwZWN0IHJhdGlvIHRoYXQgdGhlIHNpemUgb2YgdGhlIGJvdW5kcyB3aWxsIGZpdCB0by4gRGlzYWJsZWQgaWYgdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIGdldCB0YXJnZXRBc3BlY3RSYXRpbygpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5fdGFyZ2V0QXNwZWN0UmF0aW87IH1cblxuICAgIC8qKlxuICAgICogU2V0cyB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBCb3VuZHMgdG8gdGhlIGdpdmVuIHZhbHVlLiBUaGUgc2l6ZSBvZiB0aGUgQm91bmRzXG4gICAgKiBpcyBmb3JjZWQgdG8gb2JleSB0aGUgYXNwZWN0IHJhdGlvLCBpZiBzZXQuIFNldCB0byB1bmRlZmluZWQgdG8gZGlzYWJsZS5cbiAgICAqIEBwYXJhbSBhc3BlY3RSYXRpbyBhbiBhc3BlY3QgcmF0aW8gZXhwcmVzc2VkIGFzIGEgZGVjaW1hbCBudW1iZXIgKGhlaWdodC93aWR0aClcbiAgICAqL1xuICAgIHNldCB0YXJnZXRBc3BlY3RSYXRpbyhhc3BlY3RSYXRpbzogbnVtYmVyKSB7IHRoaXMuX3RhcmdldEFzcGVjdFJhdGlvID0gYXNwZWN0UmF0aW87IH1cblxuICAgIGdldCBtYXhEaW1lbnNpb24oKTogRGltZW5zaW9uIHsgcmV0dXJuIHRoaXMuX21heERpbWVuc2lvbjsgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkaW1lbnNpb24gKHdpZHRoIGFuZCBoZWlnaHQpIHRoYXQgdGhlIGJvdW5kcyBpcyBmb3JjZWQgbm90IHRvIGV4Y2VlZCxcbiAgICAgKiByZWdhcmRsZXNzIG9mIHRoZSBkaW1lbnNpb25zIGl0IGNvbnRhaW5zLlxuICAgICAqL1xuICAgIHNldCBtYXhEaW1lbnNpb24odmFsOiBEaW1lbnNpb24pIHsgdGhpcy5fbWF4RGltZW5zaW9uID0gdmFsOyB9XG4gICAgZ2V0IG1pbkRpbWVuc2lvbigpOiBEaW1lbnNpb24geyByZXR1cm4gdGhpcy5fbWluRGltZW5zaW9uOyB9XG4gICAgLyoqXG4gICAgICogVGhlIGRpbWVuc2lvbiAod2lkdGggYW5kIGhlaWdodCkgdGhhdCB0aGUgYm91bmRzIGlzIG11c3QgYWx3YXlzIGJlIGF0IGxlYXN0XG4gICAgICogYXMgYmlnIGFzLCByZWdhcmRsZXNzIG9mIHRoZSBkaW1lbnNpb25zIGl0IGNvbnRhaW5zLlxuICAgICAqL1xuICAgIHNldCBtaW5EaW1lbnNpb24odmFsOiBEaW1lbnNpb24pIHsgdGhpcy5fbWluRGltZW5zaW9uID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBkaW1lbnNpb24gdG8gdGhlIEJvdW5kcy4gQXV0b21hdGljYWxseSBjaGVja3Mgd2hldGhlciB0aGUgc2l6ZSBoYXMgY2hhbmdlZCxcbiAgICAgKiBhbmQgaWYgc28gY2xlYXJzIGNhY2hlZCBzaXplIHZhbHVlIGFuZCBjYWxscyBvblJlc2l6ZSBldmVudC5cbiAgICAgKiBAcGFyYW0gZGltIHRoZSBkaW1lbnNpb24gdG8gYWRkIFxuICAgICAqL1xuICAgIGFkZERpbWVuc2lvbjxUIGV4dGVuZHMgRGltZW5zaW9uPihkaW06IFQpOiBUXG4gICAge1xuICAgICAgICB0aGlzLl9kaW1lbnNpb25zLnB1c2goZGltKTtcbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLmdhbWVPYmplY3QuY3JlYXRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzUmVzaXplZCgpKVxuICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIGRpbWVuc2lvbnMgZnJvbSB0aGUgYm91bmRzLCByZXNldHRpbmcgdGhlIHNpemUgdG8gKDAsMCkuIENsZWFycyBjYWNoZWRcbiAgICAgKiBzaXplIHZhbHVlIGlmIHRoZSBzaXplIGhhcyBjaGFuZ2VkIGFuZCBjYWxscyBvblJlc2l6ZSBldmVudC5cbiAgICAgKi9cbiAgICBjbGVhckRpbWVuc2lvbnMoKTogdm9pZFxuICAgIHsgXG4gICAgICAgIHRoaXMuX2RpbWVuc2lvbnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVzaXplZCgpKVxuICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGFsbCBkaW1lbnNpb25zIHRoYXQgYXJlIGNvbWJpbmVkIGluIHRoaXMgQm91bmRzLlxuICAgICAqL1xuICAgIGdldCBkaW1lbnNpb25zKCk6IERpbWVuc2lvbltdIHsgcmV0dXJuIHRoaXMuX2RpbWVuc2lvbnM7IH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIEJvdW5kcyBzaXplIGFzIGEgc2luZ2xlIGRpbWVuc2lvbi4gSWYgdGhlIHNpemUgaGFzIG5vdCBjaGFuZ2VkLCBhIGNhY2hlZCB2ZXJzaW9uXG4gICAgICogaXMgcmV0dXJuZWQuIE90aGVyd2lzZSwgdGhlIHNpemUgaXMgY2FsY3VhbHRlZCBmcm9tIHRoZSBjb21iaW5hdGlvbiBvZiB0aGUgZGltZW5zaW9ucyBpbiB0aGVcbiAgICAgKiBCb3VuZHMuXG4gICAgICovXG4gICAgZ2V0IGRpbWVuc2lvbigpOiBEaW1lbnNpb25cbiAgICB7XG4gICAgICAgIGlmICghKHRoaXMuZGlydHkpKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZERpbWVuc2lvbjtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0aW9uRmFpbGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB0bXAgPSB0aGlzLl9jYWxjdWxhdGVEaW1lbnNpb24oKTtcbiAgICAgICAvKiBpZiAoIURpbWVuc2lvbi5lcXVhbHModG1wLCB0aGlzLl9jYWNoZWREaW1lbnNpb24pKSAgLy8gSWYgaXQgaGFzIGNoYW5nZWQsIGl0IG1pZ2h0IGNoYW5nZSBhZ2Fpbi5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UqL1xuICAgICAgICB0aGlzLmRpcnR5ID0gdGhpcy5jYWxjdWxhdGlvbkZhaWxlZDtcbiAgICAgICAgaWYgKHRoaXMuY2FsY3VsYXRpb25GYWlsZWQpXG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbmluZ0lzRGlydHkoKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gdG1wO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkRGltZW5zaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogVGhlIHJlZmVyZW5jZSB3aWR0aCBzcGVjaWZpZWQgZWl0aGVyIG9uIHRoaXMgQm91bmRzIG9yIG9uIHRoZSBuZWFyZXN0XG4gICAgKiBwYXJlbnQgQm91bmRzIHdpdGggYSBzcGVjaWZpZWQgcmVmZXJlbmNlIHdpZHRoLlxuICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZVdpZHRoKCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZVdpZHRoICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVmZXJlbmNlV2lkdGg7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudEJvdW5kcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudEJvdW5kcy5yZWZlcmVuY2VXaWR0aDtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gYSByZWZlcmVuY2Ugd2lkdGggdG8gdGhpcyBCb3VuZHMgdG8gc2NvcGUgb3ZlciBjaGlsZCBUcmFuc2xhdGlvbnMgb3IgRGltZW5zaW9uc1xuICAgICAqIHNwZWNpZmllZCBpbiByZWZlcmVuY2UgdW5pdHMuIFRvIHVuc2V0IGEgcmVmZXJlbmNlIHdpZHRoLCB0aGlzIHZhbHVlIHNob3VsZCBiZSBcbiAgICAgKiB1bmRlZmluZWQuXG4gICAgICovXG4gICAgc2V0IHJlZmVyZW5jZVdpZHRoKHJlZmVyZW5jZVdpZHRoOiBudW1iZXIpIHsgdGhpcy5fcmVmZXJlbmNlV2lkdGggPSByZWZlcmVuY2VXaWR0aDt9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoaXMgYm91bmRzIHNwZWNpZmllZCBpbiByZWZlcmVuY2UgdW5pdHMgcmVsYXRpdmUgZWl0aGVyIHRvXG4gICAgICogdGhlIHJlZmVyZW5jZSB3aWR0aCBvbiB0aGlzIEJvdW5kcyBvciBvbiB0aGUgc2NvcGluZyBCb3VuZHMuXG4gICAgICovXG4gICAgZ2V0IHJlZmVyZW5jZUhlaWdodCgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VXaWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlV2lkdGgqdGhpcy5kaW1lbnNpb24uYXNwZWN0O1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRCb3VuZHMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRCb3VuZHMucmVmZXJlbmNlSGVpZ2h0O1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBwaXhlbHMgcGVyIHVuaXQgb2YgdGhlIHNjb3BpbmcgcmVmZXJlbmNlIHdpZHRoLlxuICAgICAqL1xuICAgIGdldCByZWZlcmVuY2VTY2FsZSgpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VXaWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpL3RoaXMuX3JlZmVyZW5jZVdpZHRoO1xuICAgICAgICBpZiAodGhpcy5wYXJlbnRCb3VuZHMpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRCb3VuZHMucmVmZXJlbmNlU2NhbGU7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBDYWxscyBkZXN0cm95IG9uIGFsbCBjb250YWluZWQgZGltZW5zaW9ucywgYW5kIHVubGlua3MgZXZlbnRzLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5fZGltZW5zaW9ucy5mb3JFYWNoKGQgPT4gZC5kZXN0cm95KCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2xpbWl0RGltZW5zaW9uKGRpbWVuc2lvbjogRGltZW5zaW9uKTogRGltZW5zaW9uXG4gICAge1xuICAgICAgICBsZXQgbldpZHRoID0gZGltZW5zaW9uLndpZHRoO1xuICAgICAgICBsZXQgbkhlaWdodCA9IGRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIGlmICh0aGlzLm1pbkRpbWVuc2lvbilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMubWluRGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpKVxuICAgICAgICAgICAgICAgIG5XaWR0aCA9IE1hdGgubWF4KG5XaWR0aCwgdGhpcy5taW5EaW1lbnNpb24ucGl4ZWxXaWR0aCh0aGlzLnBhcmVudEJvdW5kcykpO1xuICAgICAgICAgICAgaWYgKHRoaXMubWluRGltZW5zaW9uLnBpeGVsSGVpZ2h0KHRoaXMucGFyZW50Qm91bmRzKSlcbiAgICAgICAgICAgICAgICBuSGVpZ2h0ID0gTWF0aC5tYXgobkhlaWdodCwgdGhpcy5taW5EaW1lbnNpb24ucGl4ZWxIZWlnaHQodGhpcy5wYXJlbnRCb3VuZHMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhEaW1lbnNpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heERpbWVuc2lvbi5waXhlbFdpZHRoKHRoaXMucGFyZW50Qm91bmRzKSlcbiAgICAgICAgICAgICAgICBuV2lkdGggPSBNYXRoLm1pbihuV2lkdGgsIHRoaXMubWF4RGltZW5zaW9uLnBpeGVsV2lkdGgodGhpcy5wYXJlbnRCb3VuZHMpKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1heERpbWVuc2lvbi5waXhlbEhlaWdodCh0aGlzLnBhcmVudEJvdW5kcykpXG4gICAgICAgICAgICAgICAgbkhlaWdodCA9IE1hdGgubWluKG5IZWlnaHQsIHRoaXMubWF4RGltZW5zaW9uLnBpeGVsSGVpZ2h0KHRoaXMucGFyZW50Qm91bmRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0QXNwZWN0UmF0aW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChuSGVpZ2h0IDwgbldpZHRoKnRoaXMudGFyZ2V0QXNwZWN0UmF0aW8pXG4gICAgICAgICAgICAgICAgbldpZHRoID0gbkhlaWdodCooMS90aGlzLnRhcmdldEFzcGVjdFJhdGlvKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBuSGVpZ2h0ID0gbldpZHRoKnRoaXMudGFyZ2V0QXNwZWN0UmF0aW87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEaW1lbnNpb24obldpZHRoLCBuSGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxjdWxhdGVEaW1lbnNpb24oKTogRGltZW5zaW9uXG4gICAge1xuICAgICAgICB0aGlzLmNhbGN1bGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgbGV0IHdpZHRoID0gMDtcbiAgICAgICAgbGV0IGhlaWdodCA9IDA7XG4gICAgICAgIGxldCBkaW0gPSBudWxsO1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICB0aGlzLl9kaW1lbnNpb25zLmZvckVhY2goZCA9PiBcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRpbSA9IGQuYXNTaW1wbGVQaXhlbERpbWVuc2lvbih0aGlzLnBhcmVudEJvdW5kcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoZGltLndpZHRoID09PSB1bmRlZmluZWQpIHx8IChkaW0uaGVpZ2h0ID09PSB1bmRlZmluZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGlvbkZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gZGltLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGRpbS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuX2xpbWl0RGltZW5zaW9uKG5ldyBEaW1lbnNpb24od2lkdGgsIGhlaWdodCkpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgaGFzUmVzaXplZCgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5fY2FsY3VsYXRlRGltZW5zaW9uKCk7XG4gICAgICAgIHJldHVybiAoIURpbWVuc2lvbi5lcXVhbHMoZGltLCB0aGlzLl9jYWNoZWREaW1lbnNpb24pKTtcbiAgICB9XG5cbiAgICBoYXNSZXNpemVkQXV0b1VwZGF0ZSgpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAodGhpcy5kaXJ0eSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgZGltID0gdGhpcy5fY2FsY3VsYXRlRGltZW5zaW9uKCk7XG4gICAgICAgIGxldCByID0gKCFEaW1lbnNpb24uZXF1YWxzKGRpbSwgdGhpcy5fY2FjaGVkRGltZW5zaW9uKSk7XG4gICAgICAgIGlmIChyKVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVkRGltZW5zaW9uID0gZGltO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9vbkNoYW5nZSgpOiB2b2lkXG4gICAge1xuICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgICAgICAgICBFdmVudC5jYWxsKHRoaXMub25SZXNpemUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tGb3JVcGRhdGVkRGltZW5zaW9ucygpOiB2b2lkXG4gICAge1xuICAgICAgICBsZXQgdXBkYXRlZCA9IGZhbHNlO1xuICAgICAgICBsZXQgZDogRGltZW5zaW9uO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLl9kaW1lbnNpb25zLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGQgPSB0aGlzLl9kaW1lbnNpb25zW2ldO1xuICAgICAgICAgICAgaWYgKGQudXBkYXRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkIGluc3RhbmNlb2YgQ29uZGl0aW9uYWxEaW1lbnNpb24pXG4gICAgICAgICAgICAgICAgaWYgKCEoZC5wcmV2aW91c0RpbWVuc2lvbikgfHwgIShEaW1lbnNpb24uZXF1YWxzKGQuZGltZW5zaW9uRG9udFVwZGF0ZVByZXZpb3VzKHRoaXMudHJhbnNmb3JtLmJvdW5kcyksIGQucHJldmlvdXNEaW1lbnNpb24pKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMuZm9yRWFjaChkID0+IGQudXBkYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tIFwiLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL3RyYW5zbGF0aW9uL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi90cmFuc2xhdGlvbi9Db25kaXRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi9UcmFuc2Zvcm1cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiLi90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IEFkamFjZW50VHJhbnNsYXRpb24gZnJvbSBcIi4vdHJhbnNsYXRpb24vQWRqYWNlbnRUcmFuc2xhdGlvblwiO1xuXG4vKlxuKiBBIFBvc2l0aW9uIGlzIGEgbG9jYXRpb24gaW4gZ2FtZSBzcGFjZSB0aGF0IGlzIHVzdWFsbHkgYXNzb2NpYXRlZCB3aXRoIGEgcGFydGljdWxhciBHYW1lT2JqZWN0LlxuKiBJdCBpcyBkZWZpbmVkIGJ5IHRoZSBjb21iaW5hdGlvbiBvZiBhIHNldCBvZiBUcmFuc2xhdGlvbnMgd2hpY2ggYXJlIGFkZGVkIHRvZ2V0aGVyLiBJdCBzdXBwbGllc1xuKiB0d28gbWV0aG9kcyBmb3IgZ2V0dGluZyB0aGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdCBhYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpIGFuZCBkcmF3UG9zaXRpb25Ub3BMZWZ0KCksXG4qIHRoZSBmaXJzdCBmb3IgdGhlIFwicmVhbFwiIHBvc2l0aW9uLCBhbmQgdGhlIHNlY29uZCByZWxhdGl2ZSB0byB0aGUgY2xvc2VzdCBzY29waW5nIERyYXdCdWZmZXIgKGllLlxuKiB3aGVyZSB0aGUgYXNzb2NpYXRlZCBnYW1lIG9iamVjdCBzaG91bGQgYmUgZHJhd24pLiBGb3IgYSBHYW1lT2JqZWN0IHRvIGhhdmUgbm8gcG9zaXRpb24gKGluc3RlYWRcbiogb2YgYSBwb3NpdGlvbiAoMCwwKSwgaXRzIFBvc2l0aW9uIHNob3VsZCBiZSBudWxsKS5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3NpdGlvblxue1xuICAgIHByaXZhdGUgX3RyYW5zbGF0aW9uczogVHJhbnNsYXRpb25bXTtcbiAgICBwcml2YXRlIF90cmFuc2Zvcm06IFRyYW5zZm9ybSA9IG51bGw7XG4gICAgcHJpdmF0ZSBfcmVzZXREcmF3UG9zOiBib29sZWFuID0gZmFsc2U7XG4gICAgcHJpdmF0ZSBfY2FjaGVkQWJzb2x1dGVQb3NpdGlvbjogUG9pbnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBwcml2YXRlIF9jYWNoZWREcmF3UG9zaXRpb246IFBvaW50ID0gbmV3IFBvaW50KDAsMCk7XG4gICAgcHJpdmF0ZSBfZHJhd0NhY2hlRGlydHk6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHByaXZhdGUgX2Fic29sdXRlQ2FjaGVEaXJ0eTogYm9vbGVhbiA9IHRydWU7XG4gICAvLyBwcml2YXRlIF9vbk1vdmU6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgICBjb25zdHJ1Y3RvciguLi5UcmFuc2xhdGlvbnM6IFRyYW5zbGF0aW9uW10pXG4gICAge1xuICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMgPSBUcmFuc2xhdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0IHRyYW5zZm9ybSgpOiBUcmFuc2Zvcm0geyByZXR1cm4gdGhpcy5fdHJhbnNmb3JtOyB9XG4gICAgc2V0IHRyYW5zZm9ybSh2YWwpIHsgdGhpcy5fdHJhbnNmb3JtID0gdmFsOyB9XG5cbiAgICBnZXQgcmVzZXREcmF3UG9zKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fcmVzZXREcmF3UG9zOyB9XG4gICAgc2V0IHJlc2V0RHJhd1Bvcyh2YWwpIHsgdGhpcy5fcmVzZXREcmF3UG9zID0gdmFsOyB9XG5cbiAgICBnZXQgZHJhd0NhY2hlRGlydHkoKSB7IHJldHVybiB0aGlzLl9kcmF3Q2FjaGVEaXJ0eTsgfVxuICAgIHNldCBkcmF3Q2FjaGVEaXJ0eSh2YWwpIHsgdGhpcy5fZHJhd0NhY2hlRGlydHkgPSB2YWw7IH1cbiAgICBcbiAgICBnZXQgYWJzb2x1dGVDYWNoZURpcnR5KCkgeyByZXR1cm4gdGhpcy5fYWJzb2x1dGVDYWNoZURpcnR5OyB9XG4gICAgc2V0IGFic29sdXRlQ2FjaGVEaXJ0eSh2YWwpIHsgdGhpcy5fYWJzb2x1dGVDYWNoZURpcnR5ID0gdmFsOyB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBUcmFuc2xhdGlvbnMgdGhhdCB0aGlzIFBvc2l0aW9uIGlzIHRoZSBjb21iaW5hdGlvbiBvZi5cbiAgICAgKi9cbiAgICBnZXQgdHJhbnNsYXRpb25zKCk6IFRyYW5zbGF0aW9uW10gIHsgcmV0dXJuIHRoaXMuX3RyYW5zbGF0aW9uczsgfVxuXG4gICAgLyoqXG4gICAgICogQW4gZXZlbnQgdGhhdCBpcyBjYWxsZWQgd2hlbmV2ZXIgdGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoaXMgUG9zaXRpb24gY2hhbmdlcy4gXG4gICAgICovXG4gICAvLyBnZXQgb25Nb3ZlKCk6IEV2ZW50IHsgcmV0dXJuIHRoaXMuX29uTW92ZTsgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgVHJhbnNsYXRpb24gdG8gdGhpcyBwb3NpdGlvbiAoaWUuIG1vdmUgdGhpcyBwb3NpdGlvbiBieSB0aGUgc3VwcGxpZWQgdHJhbmZvcm0pXG4gICAgICogQHBhcmFtIFRyYW5zbGF0aW9uIHRoZSBUcmFuc2xhdGlvbiB0byBhZGQgdG8gdGhlIHBvc2l0aW9uXG4gICAgICovXG4gICAgYWRkVHJhbnNsYXRpb24oLi4udHJhbnNsYXRpb25zOiBUcmFuc2xhdGlvbltdKTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9ucy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgdHJhbnNsYXRpb25zLmZvckVhY2godCA9PiB0aGlzLmFkZFRyYW5zbGF0aW9uKHQpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbnNbMF07XG4gICAgICAgICAgICBsZXQgZm91bmQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdGlvbi5wcmVzZXJ2ZSlcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaCh0ID0+IFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXQucHJlc2VydmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh0LmNvbnN0cnVjdG9yID09PSB0cmFuc2xhdGlvbi5jb25zdHJ1Y3RvcikgJiYgKFBvaW50LmVxdWFscyh0LmFuY2hvciwgdHJhbnNsYXRpb24uYW5jaG9yKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCBpbnN0YW5jZW9mIFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmIxID0gKHQgYXMgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24pLnJlZmVyZW5jZUJvdW5kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByYjIgPSAodHJhbnNsYXRpb24gYXMgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24pLnJlZmVyZW5jZUJvdW5kc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJiMSA9PT0gcmIyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KHQucG9zaXRpb24ueCArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLngsIHQucG9zaXRpb24ueSArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCh0IGluc3RhbmNlb2YgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbikgfHwgKHQgaW5zdGFuY2VvZiBBZGphY2VudFRyYW5zbGF0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnBvc2l0aW9uID0gbmV3IFBvaW50KHQucG9zaXRpb24ueCArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLngsIHQucG9zaXRpb24ueSArIHRyYW5zbGF0aW9uLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKCFmb3VuZClcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMucHVzaCh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0uZ2FtZU9iamVjdC5jcmVhdGVkKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc01vdmVkKCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIFRyYW5zbGF0aW9ucyBmcm9tIHRoaXMgcG9zaXRpb24uIFRoZSBwb3NpdGlvbiByZXZlcnRzIGJhY2sgdG8gdGhlIG9yaWdpbiAoMCwwKVxuICAgICAqIGJlY2F1c2UgaXQgaGFzIG5vIFRyYW5zbGF0aW9ucy4gQXV0b21hdGljYWxseSBjbGVhcnMgY2FjaGVkIHBvc2l0aW9uIGlmIHRoZSBvYmplY3QgbW92ZXNcbiAgICAgKiBhcyBhIHJlc3VsdCwgYW5kIHVwZGF0ZXMgdGhlIGFzc29pYXRlZCBHYW1lT2JqZWN0LlxuICAgICAqL1xuICAgIGNsZWFyVHJhbnNsYXRpb25zKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuX3RyYW5zbGF0aW9ucyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5oYXNNb3ZlZCgpKVxuICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHBvaW50IGluIGdhbWUgc3BhY2Ugb2YgdGhlIHRvcC1sZWZ0IHBvaW50IG9mIHRoZSBhc3NvY2lhdGVkIGdhbWUgb2JqZWN0LlxuICAgICAqL1xuICAgIGFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAoISh0aGlzLmFic29sdXRlQ2FjaGVEaXJ0eSkpXG4gICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb247XG4gICAgICAgIFxuICAgICAgICBsZXQgdG1wID0gdGhpcy5fY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCk7XG4gICAgICAgIGlmICghUG9pbnQuZXF1YWxzKHRtcCwgdGhpcy5fY2FjaGVkQWJzb2x1dGVQb3NpdGlvbikpICAgLy8gSWYgaXQgaGFzIGNoYW5nZWQsIGl0IG1pZ2h0IGNoYW5nZSBhZ2Fpbi5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uaW5nSXNEaXJ0eSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24gPSB0bXA7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRBYnNvbHV0ZVBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcG9pbnQgb2YgdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgYXNzb2NpYXRlZCBnYW1lIG9iamVjdCByZWxhdGl2ZSB0byB0aGVcbiAgICAgKiBjbG9zZXN0IHNjb3BpbmcgRHJhd0J1ZmZlci4gVGhpcyBpcyB0aGUgcG9pbnQgYXQgd2hpY2ggdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiB0aGUgXG4gICAgICogb2JqZWN0IHNob3VsZCBiZSBkcmF3biB0byB0aGUgRHJhd0J1ZmZlci5cbiAgICAgKi9cbiAgICBkcmF3UG9zaXRpb25Ub3BMZWZ0KCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVzZXREcmF3UG9zKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludCgwLDApO1xuXG4gICAgICAgIGlmICghKHRoaXMuX2RyYXdDYWNoZURpcnR5KSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWREcmF3UG9zaXRpb247XG4gICAgICAgIFxuICAgICAgICBsZXQgdG1wID0gdGhpcy5fY2FsY3VsYXRlRHJhd1Bvc2l0aW9uKCk7XG4gICAgICAgIGlmICghUG9pbnQuZXF1YWxzKHRtcCwgdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uKSkgICAvLyBJZiBpdCBoYXMgY2hhbmdlZCwgaXQgbWlnaHQgY2hhbmdlIGFnYWluLlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb25pbmdJc0RpcnR5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5fZHJhd0NhY2hlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uID0gdG1wO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkRHJhd1Bvc2l0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgYWxsIFRyYW5zbGF0aW9ucyBhbmQgcmVtb3ZlIGFsbCBldmVudCBjYWxsYmFja3MuIFxuICAgICAqL1xuICAgIGRlc3Ryb3koKTogdm9pZFxuICAgIHtcbiAgICAgICAvLyB0aGlzLm9uTW92ZS5yZW1vdmVBbGwoKTtcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRpb25zLmZvckVhY2godCA9PiB0LmRlc3Ryb3koKSk7XG4gICAgfVxuXG4gICAgY2hlY2tGb3JVcGRhdGVkVHJhbnNsYXRpb25zKClcbiAgICB7XG4gICAgICAgIGxldCB1cGRhdGVkID0gZmFsc2U7XG4gICAgICAgIGxldCB0OiBUcmFuc2xhdGlvbjtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5fdHJhbnNsYXRpb25zLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHQgPSB0aGlzLl90cmFuc2xhdGlvbnNbaV07XG4gICAgICAgICAgICBpZiAodC51cGRhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBDb25kaXRpb25hbFRyYW5zbGF0aW9uKVxuICAgICAgICAgICAgICAgIGlmICgoISh0LnByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbikpIHx8ICghKFBvaW50LmVxdWFscyh0LmFic29sdXRlUG9zaXRpb25Eb250VXBkYXRlUHJldmlvdXModGhpcy50cmFuc2Zvcm0uYm91bmRzKSx0LnByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbikpKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKCk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaChkID0+IGQudXBkYXRlZCA9IGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBwb3NpdGlvbigpIHsgcmV0dXJuIHRoaXMuYWJzb2x1dGVQb3NpdGlvblRvcExlZnQoKTsgfVxuICAgIGdldCBkcmF3UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLmRyYXdQb3NpdGlvblRvcExlZnQoKTsgfVxuXG4gICAgaGFzTW92ZWQoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiAoIVBvaW50LmVxdWFscyggdGhpcy5fY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCksIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24pKTtcbiAgICB9XG5cbiAgICBoYXNNb3ZlZEF1dG9VcGRhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuYWJzb2x1dGVDYWNoZURpcnR5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGxldCBvbGRDYWNoZSA9IG5ldyBQb2ludCh0aGlzLl9jYWNoZWRBYnNvbHV0ZVBvc2l0aW9uLngsIHRoaXMuX2NhY2hlZEFic29sdXRlUG9zaXRpb24ueSk7XG4gICAgICAgIHJldHVybiAoIVBvaW50LmVxdWFscyggdGhpcy5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpLCBvbGRDYWNoZSkpO1xuICAgIH1cblxuICAgIGhhc01vdmVkRHJhd0F1dG9VcGRhdGUoKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZHJhd0NhY2hlRGlydHkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0IG9sZENhY2hlID0gbmV3IFBvaW50KHRoaXMuX2NhY2hlZERyYXdQb3NpdGlvbi54LHRoaXMuX2NhY2hlZERyYXdQb3NpdGlvbi55KTtcbiAgICAgICAgcmV0dXJuICghUG9pbnQuZXF1YWxzKHRoaXMuZHJhd1Bvc2l0aW9uVG9wTGVmdCgpLCBvbGRDYWNoZSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX29uQ2hhbmdlKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJlY2FsY3VsYXRlKCk7XG4gICAgIC8vICAgRXZlbnQuY2FsbCh0aGlzLm9uTW92ZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2FsY3VhdGVBYnNvbHV0ZVBvc2l0aW9uKCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgdG1wUG9zOiBQb2ludDtcbiAgICAgICAgbGV0IHg6IG51bWJlciA9IDA7XG4gICAgICAgIGxldCB5OiBudW1iZXIgPSAwO1xuICAgICAgICB0aGlzLl90cmFuc2xhdGlvbnMuZm9yRWFjaCh0ID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9zID0gdC5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCh0aGlzLnRyYW5zZm9ybS5ib3VuZHMpXG4gICAgICAgICAgICAgICAgICAgIHggKz0gdG1wUG9zLng7XG4gICAgICAgICAgICAgICAgICAgIHkgKz0gdG1wUG9zLnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtKVxuICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudClcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50cmFuc2Zvcm0ucGFyZW50Lmhhc1Bvc2l0aW9uKCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0bXBQb3MgPSB0aGlzLnRyYW5zZm9ybS5wYXJlbnQuZ2V0Q2Fub25pY2FsUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgeCs9IHRtcFBvcy54O1xuICAgICAgICAgICAgICAgICAgICB5Kz0gdG1wUG9zLnk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jYWxjdWxhdGVEcmF3UG9zaXRpb24oKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZXNldERyYXdQb3MpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KDAsMCk7XG5cbiAgICAgICAgbGV0IHRtcFBvczogUG9pbnQ7XG4gICAgICAgIGxldCB4OiBudW1iZXIgPSAwO1xuICAgICAgICBsZXQgeTogbnVtYmVyID0gMDtcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRpb25zLmZvckVhY2godCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRtcFBvcyA9IHQuYWJzb2x1dGVQb3NpdGlvblRvcExlZnQodGhpcy50cmFuc2Zvcm0uYm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB4ICs9IHRtcFBvcy54O1xuICAgICAgICAgICAgICAgICAgICB5ICs9IHRtcFBvcy55O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybSlcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYW5zZm9ybS5wYXJlbnQpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNmb3JtLnBhcmVudC5oYXNQb3NpdGlvbigpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdG1wUG9zID0gdGhpcy50cmFuc2Zvcm0ucGFyZW50LmdldERyYXdQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB4Kz0gdG1wUG9zLng7XG4gICAgICAgICAgICAgICAgICAgIHkrPSB0bXBQb3MueTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LHkpO1xuICAgIH1cbn1cbiIsImltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLy4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSBkaW1lbnNpb24gdGhhdCBpcyBjYWxjdWxhdGVkIGFzIGEgZnVuY3Rpb24gb2YgaXRzIHBhcmVudCBkaW1lbnNpb24gdGhhdCBpcyBzdXBwbGllZFxuKiB3aGVuIGl0IGlzIGNvbnN0cnVjdGVkLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmRpdGlvbmFsRGltZW5zaW9uIGV4dGVuZHMgRGltZW5zaW9uXG57XG4gICAgcHJvdGVjdGVkIF9jb25kaXRpb25hbEZ1bmN0aW9uOiAoZGltZW5zaW9uOiBEaW1lbnNpb24pID0+IERpbWVuc2lvbjtcbiAgICBwcm90ZWN0ZWQgX3ByZXZpb3VzRGltZW5zaW9uOiBEaW1lbnNpb247XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uYWxGdW5jdGlvbiBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHBhcmVudCBkaW1lbnNpb24gYW5kIHJldHVybnMgYSBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb25hbEZ1bmN0aW9uOiAoZGltZW5zaW9uOiBEaW1lbnNpb24pID0+IERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIHN1cGVyKDAsMCk7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24gPSBjb25kaXRpb25hbEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGdldCBwcmV2aW91c0RpbWVuc2lvbigpIHsgcmV0dXJuIHRoaXMuX3ByZXZpb3VzRGltZW5zaW9uOyB9XG5cbiAgICBwaXhlbFdpZHRoKGJvdW5kczogQm91bmRzKSB7IHJldHVybiB0aGlzLl9jb25kaXRpb25hbERpbShib3VuZHMpLndpZHRoIH1cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcykgeyByZXR1cm4gdGhpcy5fY29uZGl0aW9uYWxEaW0oYm91bmRzKS5oZWlnaHQgfVxuXG4gICAgcHJvdGVjdGVkIF9jb25kaXRpb25hbERpbShib3VuZHM6IEJvdW5kcyk6IERpbWVuc2lvblxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IG51bGw7XG4gICAgICAgIGlmIChib3VuZHMpXG4gICAgICAgICAgICBkaW0gPSBib3VuZHMuZGltZW5zaW9uO1xuXG4gICAgICAgIHRoaXMuX3ByZXZpb3VzRGltZW5zaW9uID0gdGhpcy5fY29uZGl0aW9uYWxGdW5jdGlvbihkaW0pO1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJldmlvdXNEaW1lbnNpb247XG4gICAgfVxuXG4gICAgZGltZW5zaW9uRG9udFVwZGF0ZVByZXZpb3VzKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24oYm91bmRzLmRpbWVuc2lvbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi8uLi9Cb3VuZHNcIjtcblxuLyoqXG4qIEEgcGFpciBvZiB2YWx1ZXMgdGhhdCBkZXNjaWJlIHRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgR2FtZU9iamVjdC5cbiogQnkgZGVmYXVsdCwgdGhlc2UgdmFsdWVzIGFyZSBleHByZXNzZWQgaW4gYWJzb2x1dGUgKHBpeGVsKSB1bml0cy5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEaW1lbnNpb25cbntcbiAgICBwcm90ZWN0ZWQgX3dpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9oZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3VwZGF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByb3RlY3RlZCBfcHJlc2VydmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICogQ29uc3RydWN0IGEgRGltZW5zaW9uIHRvIHN0b3JlIGEgcGFpciBvZiB2YWx1ZXNcbiAgICAqIEBwYXJhbSB3aWR0aCB0aGUgd2lkdGggdmFsdWUgdG8gc3RvcmVcbiAgICAqIEBwYXJhbSBoZWlnaHQgdGhlIGhlaWdodCB2YWx1ZSB0byBzdG9yZVxuICAgICovXG4gICAgY29uc3RydWN0b3Iod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgfVxuXG4gICAgbWFya0FzVXBkYXRlZCgpIHsgdGhpcy51cGRhdGVkID0gdHJ1ZTsgfVxuICAgIGRlc3Ryb3koKSB7fVxuXG4gICAgLyogSGFzIHRoZSBkaW1lbnNpb24gdXBkYXRlZCBpdHNlbGYgYW5kIHRodXMgYW55IGNhY2hlZCB2YWx1ZSBpbmNsdWRpbmcgdGhpcyBkaW1lbnNpb24gbmVlZHMgdG8gYmUgcmVjYWxjdWxhdGVkPyAqL1xuICAgIGdldCB1cGRhdGVkKCk6IGJvb2xlYW4geyByZXR1cm4gdGhpcy5fdXBkYXRlZDsgfVxuICAgIHNldCB1cGRhdGVkKHZhbCkgeyB0aGlzLl91cGRhdGVkID0gdmFsOyB9XG5cbiAgICAvKiogQmFzZSB3aWR0aCBzdG9yZWQgaW4gdGhpcyBEaW1lbnNpb24gKi9cbiAgICBnZXQgd2lkdGgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3dpZHRoOyB9XG4gICAgc2V0IHdpZHRoKHZhbClcbiAgICB7IFxuICAgICAgICBpZiAodmFsICE9PSB0aGlzLndpZHRoKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqIEJhc2UgaGVpZ2h0IHN0b3JlZCBpbiB0aGlzIERpbWVuc2lvbiAqL1xuICAgIGdldCBoZWlnaHQoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX2hlaWdodDsgfVxuICAgIHNldCBoZWlnaHQodmFsKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbCAhPT0gdGhpcy5faGVpZ2h0KVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQWJzb2x1dGUgKHBpeGVsKSB3aWR0aCBvZiB0aGlzIGRpbWVuc2lvbiBpbiBkZXZpY2UtaW5kZXBlbmRhbnQgcGl4ZWxzXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgb2YgdGhlIHBhcmVudCB0byB0aGlzIGRpbWVuc2lvblxuICAgICovXG4gICAgcGl4ZWxXaWR0aChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLndpZHRoOyB9XG5cbiAgICAvKipcbiAgICAqIEFic29sdXRlIChwaXhlbCkgaGVpZ2h0IG9mIHRoaXMgZGltZW5zaW9uIGluIGRldmljZS1pbmRlcGVuZGFudCBwaXhlbHNcbiAgICAqIEBwYXJhbSBib3VuZHMgdGhlIGJvdW5kcyBvZiB0aGUgcGFyZW50IHRvIHRoaXMgZGltZW5zaW9uXG4gICAgKi9cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLmhlaWdodDsgfVxuXG4gICAgLyoqXG4gICAgKiBXaWR0aCBvZiB0aGlzIGRpbWVuc2lvbiBpbiBwaHlzaWNhbCBwaXhlbHNcbiAgICAqIEBwYXJhbSBib3VuZHMgdGhlIGJvdW5kcyBvZiB0aGUgcGFyZW50IHRvIHRoaXMgZGltZW5zaW9uXG4gICAgKi9cbiAgICBwaHlzaWNhbFBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5waXhlbFdpZHRoKGJvdW5kcykgKiBib3VuZHMuZGV2aWNlUGl4ZWxSYXRpbzsgfVxuXG4gICAgLyoqXG4gICAgKiBIZWlnaHQgb2YgdGhpcyBkaW1lbnNpb24gaW4gcGh5c2ljYWwgcGl4ZWxzXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgb2YgdGhlIHBhcmVudCB0byB0aGlzIGRpbWVuc2lvblxuICAgICovXG4gICAgcGh5c2ljYWxQaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcyk6IG51bWJlciB7IHJldHVybiB0aGlzLnBpeGVsSGVpZ2h0KGJvdW5kcykgKiBib3VuZHMuZGV2aWNlUGl4ZWxSYXRpbzsgfVxuXG4gICAgLyoqXG4gICAgKiBSZXRyaWV2ZSBhIERpbWVuc2lvbiB3aXRoIHRoZSBwaXhlbCB3aWR0aCBhbmQgaGVpZ2h0IGFzIHRoZSBiYXNlIHZhbHVlc1xuICAgICogQHBhcmFtIGJvdW5kcyB0aGUgYm91bmRzIG9mIHRoZSBwYXJlbnQgdG8gdGhpcyBkaW1lbnNpb25cbiAgICAqL1xuICAgIGFzU2ltcGxlUGl4ZWxEaW1lbnNpb24oYm91bmRzOiBCb3VuZHMpOiBEaW1lbnNpb24geyByZXR1cm4gbmV3IERpbWVuc2lvbih0aGlzLnBpeGVsV2lkdGgoYm91bmRzKSwgdGhpcy5waXhlbEhlaWdodChib3VuZHMpKSB9XG5cbiAgICAvKipcbiAgICAqIEFzcGVjdCByYXRpbyBiZXR3ZWVuIHdpZHRoIGFuZCBoZWlnaHQgZXhwcmVzc2VkIGFzIGEgZGVjaW1hbC4gQ2FsY3VsYXRlZFxuICAgICogYnk6IChoZWlnaHQgLyB3aWR0aClcbiAgICAqL1xuICAgIGdldCBhc3BlY3QoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuaGVpZ2h0L3RoaXMud2lkdGg7IH1cblxuICAgIC8qIFdoZXRoZXIgdGhpcyBvYmplY3Qgc2hvdWxkIGJlIGtlcHQgKGZvciB0d2VlbmluZywgZXRjKSBvciB3aGV0aGVyXG4gICAgaXQgY2FuIGJlIGNvbWJpbmVkIHdpdGggb3RoZXJzIGZvciBlZmZpY2llbmN5ICovXG4gICAgZ2V0IHByZXNlcnZlKCkgeyByZXR1cm4gdGhpcy5fcHJlc2VydmU7IH1cbiAgICBzZXQgcHJlc2VydmUodmFsKSB7IHRoaXMuX3ByZXNlcnZlID0gdmFsO31cblxuICAgIHN0YXRpYyBhZGQoYTogRGltZW5zaW9uLCBiOiBEaW1lbnNpb24pOiBEaW1lbnNpb25cbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRGltZW5zaW9uKGEud2lkdGggKyBiLndpZHRoLCBhLmhlaWdodCArIGIuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXF1YWxzKGE6IERpbWVuc2lvbiwgYjogRGltZW5zaW9uKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgcmV0dXJuIChhLndpZHRoID09PSBiLndpZHRoKSAmJiAoYS5oZWlnaHQgPT09IGIuaGVpZ2h0KTsgXG4gICAgfVxufVxuIiwiaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi9EaW1lbnNpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4vLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIHdpZHRoL2hlaWdodCBwYWlyIGV4cHJlc3NlZCBpbiBkZXZpY2UtaW5kZXBlbmRhbnQgcGl4ZWxzLlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBpeGVsRGltZW5zaW9uIGV4dGVuZHMgRGltZW5zaW9uXG57XG4gICAgcGl4ZWxXaWR0aChib3VuZHM6IEJvdW5kcykgeyByZXR1cm4gdGhpcy53aWR0aDsgfVxuICAgIHBpeGVsSGVpZ2h0KGJvdW5kczogQm91bmRzKSB7IHJldHVybiB0aGlzLmhlaWdodDsgfVxufVxuIiwiaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi9EaW1lbnNpb25cIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4vLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIHdpZHRoL2hlaWdodCBwYWlyIGRldGVybWluZWQgYXMgYSBwcm9wb3J0aW9uIG9mIHRoZSBwYXJlbnQgVHJhbnNsYXRpb24ncyBkaW1lbnNpb24uXG4qIENhbiBvcHRpb25hbGx5IGJlIGNvbnN0cnVjdGVkIHdpdGggYSBzcGVjaWZpZWQgcmVmZXJlbmNlIGJvdW5kcyB0byB1c2UgaW4gcGxhY2Ugb2ZcbiogcGFyZW50LlxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3BvcnRpb25hbERpbWVuc2lvbiBleHRlbmRzIERpbWVuc2lvblxue1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlQm91bmRzOiBCb3VuZHM7XG5cbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgcmVmZXJlbmNlQm91bmRzPzogQm91bmRzKVxuICAgIHtcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmIChyZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcyA9IHJlZmVyZW5jZUJvdW5kcztcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxuICAgIHBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fcmVmZXJlbmNlQm91bmRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhbGN1bGF0aW5nKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLndpZHRoICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhY2hlZERpbWVuc2lvbi53aWR0aDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aWR0aCAqIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5kaW1lbnNpb24ud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiBib3VuZHMuZGltZW5zaW9uLndpZHRoO1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBwaXhlbEhlaWdodChib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMuY2FsY3VsYXRpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmNhY2hlZERpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogdGhpcy5fcmVmZXJlbmNlQm91bmRzLmRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVpZ2h0ICogYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQ7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbiIsImltcG9ydCBEaW1lbnNpb24gZnJvbSBcIi4vRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCIuLy4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSB3aWR0aC9oZWlnaHQgcGFpciBkZXRlcm1pbmVkIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgcGFyZW50IFRyYW5zbGF0aW9uJ3Mgc2NhbGVcbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGl2ZURpbWVuc2lvbiBleHRlbmRzIERpbWVuc2lvblxue1xuICAgIHBpeGVsV2lkdGgoYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAoYm91bmRzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiBib3VuZHMucmVmZXJlbmNlU2NhbGU7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIFxuICAgIHBpeGVsSGVpZ2h0KGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgaWYgKGJvdW5kcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlaWdodCAqIGJvdW5kcy5yZWZlcmVuY2VTY2FsZTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgVHJhbnNsYXRpb24gZnJvbSBcIi4vVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5pbXBvcnQgVHJhbnNmb3JtIGZyb20gXCIuLi8uLi9UcmFuc2Zvcm1cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWRqYWNlbnRUcmFuc2xhdGlvbiBleHRlbmRzIFRyYW5zbGF0aW9uXG57XG4gICAgdGFyZ2V0OiBUcmFuc2Zvcm07XG4gICAgb2Zmc2V0OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICogQHBhcmFtIG9mZnNldCBwaXhlbHMgdG8gb2Zmc2V0IGZyb20gZWRnZSBvZiB0YXJnZXQsIGRlZmF1bHQgMFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldDogVHJhbnNmb3JtLCBvZmZzZXQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHN1cGVyKDAsIDAsIG5ldyBQb2ludCgwLDApKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAvL3RoaXMuYWx3YXlzVXBkYXRlID0gdHJ1ZTsgVE9ETyBSZXBsYWNlIHRoaXMgZnVuY3Rpb25hbGl0eVxuICAgIH1cblxuICAgIGFic29sdXRlUG9zaXRpb24oYm91bmRzOiBCb3VuZHMpXG4gICAge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gYm91bmRzLnRyYW5zZm9ybS5wYXJlbnQ7XG5cbiAgICAgICAgbGV0IG5ld1BvcyA9IG51bGw7XG4gICAgICAgIGxldCB0bFBvcyA9IFBvaW50Lm1pbnVzKHRoaXMudGFyZ2V0LnBvc2l0aW9uLmFic29sdXRlUG9zaXRpb25Ub3BMZWZ0KCksIGNvbnRhaW5lci5wb3NpdGlvbi5hYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdCgpKTtcbiAgICAgICAgaWYgKGJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICsgdGhpcy5vZmZzZXQgPCB0bFBvcy55KSAvL3dlIGhhdmUgc3BhY2UgYWJvdmVcbiAgICAgICAgICAgIG5ld1BvcyA9IG5ldyBQb2ludCh0bFBvcy54LCB0bFBvcy55IC0gdGhpcy5vZmZzZXQgLSBib3VuZHMuZGltZW5zaW9uLmhlaWdodCk7XG4gICAgICAgIGVsc2UgaWYgKGJvdW5kcy5kaW1lbnNpb24ud2lkdGggKyB0aGlzLm9mZnNldCA8IHRsUG9zLngpIC8vd2UgaGF2ZSBzcGFjZSBsZWZ0XG4gICAgICAgICAgICBuZXdQb3MgPSBuZXcgUG9pbnQodGxQb3MueCAtIHRoaXMub2Zmc2V0ICAtIGJvdW5kcy5kaW1lbnNpb24ud2lkdGgsIHRsUG9zLnkpO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMuZGltZW5zaW9uLmhlaWdodCArIHRoaXMub2Zmc2V0ICsgdGxQb3MueSA8IGNvbnRhaW5lci5ib3VuZHMuZGltZW5zaW9uLmhlaWdodCkgLy93ZSBoYXZlIHNwYWNlIGJlbG93XG4gICAgICAgICAgICBuZXdQb3MgPSBuZXcgUG9pbnQodGxQb3MueCwgdGxQb3MueSArIHRoaXMudGFyZ2V0LmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0ICsgdGhpcy5vZmZzZXQpO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMuZGltZW5zaW9uLndpZHRoICsgdGhpcy5vZmZzZXQgKyB0bFBvcy54IDwgY29udGFpbmVyLmJvdW5kcy5kaW1lbnNpb24ud2lkdGgpIC8vd2UgaGF2ZSBzcGFjZSByaWdodFxuICAgICAgICAgICAgbmV3UG9zID0gbmV3IFBvaW50KHRsUG9zLnggKyB0aGlzLnRhcmdldC5ib3VuZHMuZGltZW5zaW9uLndpZHRoICsgdGhpcy5vZmZzZXQsIHRsUG9zLnkpO1xuICAgICAgICByZXR1cm4gbmV3UG9zO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uLy4uL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uL0JvdW5kc1wiO1xuaW1wb3J0IERpbWVuc2lvbiBmcm9tIFwiLi4vZGltZW5zaW9uL0RpbWVuc2lvblwiO1xuaW1wb3J0IFRyYW5zZm9ybSBmcm9tIFwiLi4vLi4vVHJhbnNmb3JtXCI7XG5cbi8qKlxuKiBBIFRyYW5zbGF0aW9uIHdob3NlIHBvc2l0aW9uIGlzIGV4cHJlc3NlZCBhcyBhIHByb3ZpZGVkIGZ1bmN0aW9uIG9mIHRoZSBkaW1lbnNpb25zIG9mXG4qIGl0cyBwYXJlbnQuXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29uZGl0aW9uYWxUcmFuc2xhdGlvbiBleHRlbmRzIFRyYW5zbGF0aW9uXG57XG4gICAgcHJpdmF0ZSBfY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50O1xuICAgIHByaXZhdGUgX3ByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbjogUG9pbnQ7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uZGl0aW9uYWxGdW5jdGlvbiBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgdGhlIHBhcmVudCBkaW1lbnNpb24gYW5kIHJldHVybnMgYSBwb2ludFxuICAgICAqIEBwYXJhbSBhbmNob3IgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50LCBhbmNob3I/OiBQb2ludClcbiAgICBjb25zdHJ1Y3Rvcihjb25kaXRpb25hbEZ1bmN0aW9uOiAoZ2FtZU9iamVjdDogVHJhbnNmb3JtLCBwYXJlbnREaW1lbnNpb246IERpbWVuc2lvbikgPT4gUG9pbnQpXG4gICAgY29uc3RydWN0b3IoY29uZGl0aW9uYWxGdW5jdGlvbjogKGdhbWVPYmplY3Q6IFRyYW5zZm9ybSwgcGFyZW50RGltZW5zaW9uOiBEaW1lbnNpb24pID0+IFBvaW50LCBhbmNob3I/OiBQb2ludCB8IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoYW5jaG9yIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN1cGVyKDAsIDAsIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFuY2hvciA9PT0gXCJib29sZWFuXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN1cGVyKDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN1cGVyKDAsMCk7XG4gICAgICAgIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24gPSBjb25kaXRpb25hbEZ1bmN0aW9uO1xuICAgIH1cblxuICAgIGdldCBwcmV2aW91c0Fic29sdXRlUG9zaXRpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzQWJzb2x1dGVQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCBwRGltID0gbnVsbFxuICAgICAgICBpZiAoYm91bmRzLnBhcmVudEJvdW5kcylcbiAgICAgICAgICAgIHBEaW0gPSBib3VuZHMucGFyZW50Qm91bmRzLmRpbWVuc2lvbjtcbiAgICAgICAgdGhpcy5fcHJldmlvdXNBYnNvbHV0ZVBvc2l0aW9uID0gIHRoaXMuX2NvbmRpdGlvbmFsRnVuY3Rpb24oYm91bmRzLnRyYW5zZm9ybSwgcERpbSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmV2aW91c0Fic29sdXRlUG9zaXRpb247XG4gICAgfVxuXG4gICAgYWJzb2x1dGVQb3NpdGlvbkRvbnRVcGRhdGVQcmV2aW91cyhib3VuZHM6IEJvdW5kcylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25kaXRpb25hbEZ1bmN0aW9uKGJvdW5kcy50cmFuc2Zvcm0sIGJvdW5kcy5wYXJlbnRCb3VuZHMuZGltZW5zaW9uKTtcbiAgICB9XG5cbn1cbiIsImltcG9ydCBUcmFuc2xhdGlvbiBmcm9tIFwiLi9UcmFuc2xhdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBBIFRyYW5zbGF0aW9uIHdob3NlIHBvc2l0aW9uIGlzIGV4cHJlc3NlZCBhcyBhIGRldmljZS1pbmRlcGVuZGFudCBwaXhlbCB2YWx1ZS5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaXhlbFRyYW5zbGF0aW9uIGV4dGVuZHMgVHJhbnNsYXRpb25cbntcbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfVxufVxuIiwiaW1wb3J0IFRyYW5zbGF0aW9uIGZyb20gXCIuL1RyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcIi4uLy4uL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcIi4uL0JvdW5kc1wiO1xuXG4vKipcbiogQSBUcmFuc2xhdGlvbiB3aG9zZSBwb3NpdGlvbiBpcyBleHByZXNzZWQgYXMgYSBwcm9wb3J0aW9uIG9mIHRoZSBkaW1lbnNpb25zIG9mXG4qIGl0cyBwYXJlbnQuXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZXh0ZW5kcyBUcmFuc2xhdGlvblxue1xuICAgIHByb3RlY3RlZCBfcmVmZXJlbmNlQm91bmRzOiBCb3VuZHM7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9pbnQpXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvaW50LCBhbmNob3I6IFBvaW50KVxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb2ludCwgcmVmZXJlbmNlQm91bmRzOiBCb3VuZHMpXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvaW50LCBhbmNob3I6IFBvaW50LCByZWZlcmVuY2VCb3VuZHM6IEJvdW5kcylcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcilcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgYW5jaG9yOiBQb2ludClcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgcmVmZXJlbmNlQm91bmRzOiBCb3VuZHMpXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuY2hvcjogUG9pbnQsIHJlZmVyZW5jZUJvdW5kczogQm91bmRzKVxuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciB8IFBvaW50LCB5PzogbnVtYmVyIHwgUG9pbnQgfCBCb3VuZHMsIGFuY2hvcj86IFBvaW50IHwgQm91bmRzLCByZWZlcmVuY2VCb3VuZHM/OiBCb3VuZHMpXG4gICAge1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1cGVyKHgsIHkpXG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlQm91bmRzID0gYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1cGVyKHgpO1xuICAgICAgICAgICAgICAgIGlmICh5IGluc3RhbmNlb2YgQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VCb3VuZHMgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh0eXBlb2YoeCkgPT09IFwibnVtYmVyXCIpICYmICh0eXBlb2YoeSkgPT09IFwibnVtYmVyXCIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYW5jaG9yIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIoeCwgeSwgYW5jaG9yKTtcbiAgICAgICAgICAgICAgICBpZiAocmVmZXJlbmNlQm91bmRzKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VCb3VuZHMgPSByZWZlcmVuY2VCb3VuZHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VwZXIoeCwgeSk7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciBpbnN0YW5jZW9mIEJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVmZXJlbmNlQm91bmRzID0gYW5jaG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS5wdXNoKHRoaXMubWFya0FzVXBkYXRlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBnZXQgcmVmZXJlbmNlQm91bmRzKCkgeyByZXR1cm4gdGhpcy5fcmVmZXJlbmNlQm91bmRzOyB9XG5cbiAgICBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKVxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IG51bGw7XG4gICAgICAgIGlmICh0aGlzLl9yZWZlcmVuY2VCb3VuZHMpXG4gICAgICAgICAgICBkaW0gPSB0aGlzLl9yZWZlcmVuY2VCb3VuZHMuZGltZW5zaW9uO1xuICAgICAgICBlbHNlIGlmIChib3VuZHMucGFyZW50Qm91bmRzKVxuICAgICAgICAgICAgZGltID0gYm91bmRzLnBhcmVudEJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQoMCwwKTtcbiAgICAgICAgbGV0IHggPSB0aGlzLnBvc2l0aW9uLnggKiBkaW0ud2lkdGg7XG4gICAgICAgIGxldCB5ID0gdGhpcy5wb3NpdGlvbi55ICogZGltLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LHkpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmVyZW5jZUJvdW5kcylcbiAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUJvdW5kcy5vblJlc2l6ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cbn1cbiIsImltcG9ydCBQb2ludCBmcm9tIFwiLi4vLi4vdXRpbC9Qb2ludFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiLi4vQm91bmRzXCI7XG5cbi8qKlxuKiBSZXByZXNlbnRzIGEgVHJhbnNsYXRpb24uIFRoZSB1bml0cyBpbiB3aGljaCB0aGUgcG9zaXRpb24gaXMgZXhwcmVzc2VkIGluIGlzXG4qIGRldGVybWluZWQgYnkgc3ViY2xhc3Nlcy5cbiogQGFic3RyYWN0XG4qL1xuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgVHJhbnNsYXRpb25cbntcbiAgICBwcm90ZWN0ZWQgX2FuY2hvcjogUG9pbnQgPSBuZXcgUG9pbnQoMCwwKTtcbiAgICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBQb2ludCA9IG5ldyBQb2ludCgwLDApO1xuICAgIHByb3RlY3RlZCBfdXBkYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJvdGVjdGVkIF9wcmVzZXJ2ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIsIGFuY2hvcj86IFBvaW50KVxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb2ludCwgYW5jaG9yPzogUG9pbnQpXG4gICAgY29uc3RydWN0b3IoeDogbnVtYmVyIHwgUG9pbnQsIHk/OiBudW1iZXIgfCBQb2ludCwgYW5jaG9yPzogUG9pbnQpXG4gICAge1xuICAgICAgICBpZiAoeCBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgdGhpcy5fcG9zaXRpb24gPSB4O1xuICAgICAgICAgIGlmICh5IGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICAgIHRoaXMuYW5jaG9yID0geTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgodHlwZW9mKHgpID09PSBcIm51bWJlclwiKSAmJiAodHlwZW9mKHkpID09PSBcIm51bWJlclwiKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IG5ldyBQb2ludCh4IHx8IDAsIHkgfHwgMCk7XG4gICAgICAgICAgICBpZiAoYW5jaG9yKVxuICAgICAgICAgICAgICAgIHRoaXMuYW5jaG9yID0gYW5jaG9yXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgdXBkYXRlZCgpIHsgcmV0dXJuIHRoaXMuX3VwZGF0ZWQ7IH1cbiAgICBzZXQgdXBkYXRlZCh2YWwpIHsgdGhpcy5fdXBkYXRlZCA9IHZhbDt9XG4gICAgbWFya0FzVXBkYXRlZCgpIHsgdGhpcy51cGRhdGVkID0gdHJ1ZTsgfVxuXG4gICAgLyoqIFRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGluIHRoZSB1bml0cyBvZiB0aGUgVHJhbnNsYXRpb24gKi9cbiAgICBnZXQgcG9zaXRpb24oKSB7IHJldHVybiB0aGlzLl9wb3NpdGlvbjsgfVxuICAgIHNldCBwb3NpdGlvbih2YWw6IFBvaW50KVxuICAgIHtcbiAgICAgICAgaWYgKCFQb2ludC5lcXVhbHModmFsLCB0aGlzLnBvc2l0aW9uKSlcbiAgICAgICAgICAgIHRoaXMubWFya0FzVXBkYXRlZCgpO1xuICAgICAgICB0aGlzLl9wb3NpdGlvbiA9IHZhbDtcbiAgICB9XG5cbiAgICAvKiBXaGV0aGVyIHRoaXMgb2JqZWN0IHNob3VsZCBiZSBrZXB0IChmb3IgdHdlZW5pbmcsIGV0Yykgb3Igd2hldGhlclxuICAgIGl0IGNhbiBiZSBjb21iaW5lZCB3aXRoIG90aGVycyBmb3IgZWZmaWNpZW5jeSAqL1xuICAgIGdldCBwcmVzZXJ2ZSgpIHsgcmV0dXJuIHRoaXMuX3ByZXNlcnZlOyB9XG4gICAgc2V0IHByZXNlcnZlKHZhbCkgeyB0aGlzLl9wcmVzZXJ2ZSA9IHZhbDt9XG5cbiAgICAvKipcbiAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgZGltZW5zaW9uIG9mIHRoZVxuICAgICogVHJhbnNsYXRpb24uIDAsMCBpcyB0aGUgdG9wIGxlZnQuIDEsMSBpcyBib3R0b20gcmlnaHQuXG4gICAgKi9cbiAgICBnZXQgYW5jaG9yKCkgeyByZXR1cm4gdGhpcy5fYW5jaG9yOyB9XG4gICAgLyoqXG4gICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgYW5jaG9yIGFzIGEgcHJvcG9ydGlvbiBvZiB0aGUgZGltZW5zaW9uIG9mIHRoZVxuICAgICogVHJhbnNsYXRpb24uIDAsMCBpbmRpY2F0ZXMgdG9wIGxlZnQuIDEsMSBpbmRpY2F0ZXMgYm90dG9tIHJpZ2h0LlxuICAgICogQHBhcmFtIHZhbCBhIFBvaW50XG4gICAgKi9cbiAgICBzZXQgYW5jaG9yKHZhbDogUG9pbnQpXG4gICAge1xuICAgICAgICBpZiAoIVBvaW50LmVxdWFscyh2YWwsIHRoaXMuYW5jaG9yKSlcbiAgICAgICAgICAgIHRoaXMubWFya0FzVXBkYXRlZCgpO1xuICAgICAgICB0aGlzLl9hbmNob3IgPSB2YWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGFuY2hvciBpbiBhYnNvbHV0ZSAocGl4ZWwpIHVuaXRzIGZyb20gdGhlIHRvcCBsZWZ0IG9mXG4gICAgKiB0aGUgVHJhbnNsYXRpb24uXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhbmNob3JPZmZzZXQoYm91bmRzOiBCb3VuZHMpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IGRpbSA9IGJvdW5kcy5kaW1lbnNpb247XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoZGltLndpZHRoKnRoaXMuYW5jaG9yLngsIGRpbS5oZWlnaHQqdGhpcy5hbmNob3IueSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgKiBBIFBvaW50IGNvbnRhaW5pbmcgdGhlIGFic29sdXRlIHBpeGVsIHBvc2l0aW9uIG9mIHRoZSBUcmFuc2xhdGlvbidzIGFuY2hvclxuICAgICogQGFic3RyYWN0XG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhYnN0cmFjdCBhYnNvbHV0ZVBvc2l0aW9uKGJvdW5kczogQm91bmRzKTogUG9pbnRcblxuICAgIC8qKlxuICAgICogQSBQb2ludCBjb250YWluaW5nIHRoZSBhYnNvbHV0ZSBwaXhlbCBwb3NpdGlvbiBvZiB0aGUgdG9wIGxlZnQgY29ybmVyIG9mXG4gICAgKiB0aGUgVHJhbnNsYXRpb24uXG4gICAgKiBAcGFyYW0gYm91bmRzIHRoZSBib3VuZHMgd2hpY2ggY29udGFpbnMgdGhlIHBvc2l0aW9uXG4gICAgKi9cbiAgICBhYnNvbHV0ZVBvc2l0aW9uVG9wTGVmdChib3VuZHM6IEJvdW5kcyk6IFBvaW50IHsgcmV0dXJuIFBvaW50Lm1pbnVzKHRoaXMuYWJzb2x1dGVQb3NpdGlvbihib3VuZHMpLCB0aGlzLmFuY2hvck9mZnNldChib3VuZHMpKTsgfVxuXG4gICAgZGVzdHJveSgpOiB2b2lkIHsgfVxufVxuIiwiY2xhc3MgUGFpcjxULFU+IHtcbiAgICByZWFkb25seSBrZXkgOiBUO1xuICAgIHJlYWRvbmx5IHZhbHVlOiBVO1xuXG4gICAgY29uc3RydWN0b3Ioa2V5OiBULCB2YWx1ZTogVSlcbiAgICB7XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuIH0gXG5cbmNsYXNzIER1cGxpY2F0ZU1hcDxULFU+XG57XG4gICAgZW50cmllczogUGFpcjxULFU+W10gPSBbXTtcblxuICAgIGdldCBsZW5ndGgoKSB7IHJldHVybiB0aGlzLmVudHJpZXMubGVuZ3RoOyB9XG5cbiAgICBwdXNoKGtleSwgdmFsdWUpIHsgdGhpcy5lbnRyaWVzLnB1c2gobmV3IFBhaXIoa2V5LCB2YWx1ZSkpIH1cblxuICAgIGRlbGV0ZShrZXk6IFQsIHZhbHVlPzogVSlcbiAgICB7XG4gICAgICAgIGxldCBuZXdFbnRyaWVzOiBQYWlyPFQsVT5bXSA9IFtdO1xuICAgICAgICB0aGlzLmVudHJpZXMuZm9yRWFjaCh4ID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoeC5rZXkgIT09IGtleSlcbiAgICAgICAgICAgICAgICBuZXdFbnRyaWVzLnB1c2goeCk7XG4gICAgICAgICAgICBlbHNlIGlmICgodmFsdWUpICYmICh4LnZhbHVlICE9PSB2YWx1ZSkpXG4gICAgICAgICAgICAgICAgbmV3RW50cmllcy5wdXNoKHgpO1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLmVudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgIH1cblxuICAgIGRlbGV0ZVZhbHVlKHZhbHVlOiBVKVxuICAgIHtcbiAgICAgICAgbGV0IG5ld0VudHJpZXM6IFBhaXI8VCxVPltdID0gW107XG4gICAgICAgIHRoaXMuZW50cmllcy5mb3JFYWNoKHggPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh4LnZhbHVlICE9PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICBuZXdFbnRyaWVzLnB1c2goeCk7XG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgfVxuXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzID0gW107XG4gICAgfVxuXG4gICAgZm9yRWFjaChmKVxuICAgIHtcbiAgICAgICAgdGhpcy5lbnRyaWVzLmZvckVhY2goZik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudFxue1xuICAgIHByaXZhdGUgX2NhbGxiYWNrczogRHVwbGljYXRlTWFwPG9iamVjdCwgKC4uLmFyZ3MpID0+IHZvaWQ+ID0gbmV3IER1cGxpY2F0ZU1hcDxvYmplY3QsICguLi5hcmdzKSA9PiB2b2lkPigpO1xuXG4gICAgY2FsbCguLi5hcmdzKTogdm9pZFxuICAgIHsgXG4gICAgICAgIGZvciAobGV0IGk9MCwgbGVuID0gdGhpcy5fY2FsbGJhY2tzLmVudHJpZXMubGVuZ3RoO2k8bGVuO2krKylcbiAgICAgICAgICAgIHRoaXMuX2NhbGxiYWNrcy5lbnRyaWVzW2ldLnZhbHVlKC4uLmFyZ3MpOyBcbiAgICB9XG5cbiAgICBwdXNoKGNhbGxiYWNrOiAoLi4uYXJncykgPT4gdm9pZCwgY3JlYXRvcjogb2JqZWN0KTogRXZlbnRcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbGxiYWNrcy5wdXNoKGNyZWF0b3IsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdW5yZWdpc3RlcihjcmVhdG9yKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmRlbGV0ZShjcmVhdG9yKTtcbiAgICB9XG4gICAgXG4gICAgLypyZW1vdmUoY2FsbGJhY2s6ICguLi5hcmdzKSA9PiB2b2lkKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5fY2FsbGJhY2tzLmRlbGV0ZVZhbHVlKGNhbGxiYWNrKTtcbiAgICB9Ki9cblxuICAgIHJlbW92ZUFsbCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLl9jYWxsYmFja3MuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbGluayhzb3VyY2U6IEV2ZW50LCBkZXN0OiBFdmVudCwgY3JlYXRvcjogb2JqZWN0KTogdm9pZFxuICAgIHtcbiAgICAgICAgaWYgKHNvdXJjZSAmJiBkZXN0KVxuICAgICAgICAgICAgc291cmNlLnB1c2goZGVzdC5jYWxsLmJpbmQoZGVzdCksIGNyZWF0b3IpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjYWxsKGV2ZW50OiBFdmVudCwgLi4uYXJncyk6IHZvaWRcbiAgICB7XG4gICAgICAgIGlmIChldmVudClcbiAgICAgICAgICAgIGV2ZW50LmNhbGwuYmluZChldmVudCkoLi4uYXJncyk7XG4gICAgfVxuXG59XG4iLCJpbXBvcnQgRXZlbnQgZnJvbSBcIi4vRXZlbnRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT2JzZXJ2ZXJWYXJpYWJsZTxUPlxue1xuICAgIHByaXZhdGUgX3ZhbHVlOiBUO1xuICAgIHByaXZhdGUgX29uVXBkYXRlOiBFdmVudDtcblxuICAgIGNvbnN0cnVjdG9yKHZhbHVlOiBUKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUgPSBuZXcgRXZlbnQoKTtcbiAgICB9XG5cbiAgICBnZXQgb25VcGRhdGUoKSB7IHJldHVybiB0aGlzLl9vblVwZGF0ZTsgfVxuXG4gICAgZ2V0IHZhbHVlKCk6IFQgeyByZXR1cm4gdGhpcy5fdmFsdWU7IH1cbiAgICBzZXQgdmFsdWUodmFsKVxuICAgIHtcbiAgICAgICAgbGV0IHVwZGF0ZSA9ICh2YWwgIT09IHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWw7XG4gICAgICAgIGlmICh1cGRhdGUpXG4gICAgICAgICAgICBFdmVudC5jYWxsKHRoaXMub25VcGRhdGUsIHZhbCk7XG4gICAgfVxuXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUucmVtb3ZlQWxsKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgdGhyZWFkSWQgfSBmcm9tIFwid29ya2VyX3RocmVhZHNcIjtcblxuLyoqXG4qIEFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSBzaW1wbGUgMkQgY29vcmRpbmF0ZSwgMkQgdmVjdG9yLCBvciB4LXkgdmFsdWUgcGFpci5cbiovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludFxue1xuICAgIHByb3RlY3RlZCBfeDogbnVtYmVyO1xuICAgIHByb3RlY3RlZCBfeTogbnVtYmVyO1xuICAgIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5feCA9IHggfHwgMDtcbiAgICAgICAgdGhpcy5feSA9IHkgfHwgMDtcbiAgICB9XG5cbiAgICBnZXQgeCgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5feDsgfVxuICAgIGdldCB5KCk6IG51bWJlciB7IHJldHVybiB0aGlzLl95O31cblxuICAgIGdldCBtYWduaXR1ZGUoKTogbnVtYmVyIHsgcmV0dXJuIE1hdGguc3FydCh0aGlzLl94KnRoaXMuX3ggKyB0aGlzLl95KnRoaXMuX3kpOyB9XG5cbiAgICBnZXQgaXNaZXJvKCk6IGJvb2xlYW4geyByZXR1cm4gKHRoaXMueCA9PT0gMCkgJiYgKHRoaXMueSA9PT0gMCl9XG5cbiAgICBzdGF0aWMgYWRkKGE6IFBvaW50LCBiOiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgeCA9IGEueCArIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgKyBiLnk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWludXMoYTogUG9pbnQsIGI/OiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBpZiAoIWIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbnVzKG5ldyBQb2ludCgwLDApLCBhKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeCA9IGEueCAtIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgLSBiLnk7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbXVsdGlwbHkocDogUG9pbnQsIHM6IG51bWJlciB8IFBvaW50KTogUG9pbnRcbiAgICB7XG4gICAgICAgIGlmIChzIGluc3RhbmNlb2YgUG9pbnQpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHAueCAqIHMueCwgcC55ICogcy55KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludChwLnggKiBzLCBwLnkgKiBzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZG90UHJvZHVjdChwOiBQb2ludCwgczogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gKHAueCAqIHMueCArIHAueSAqIHMueSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGRpdmlkZShwOiBQb2ludCwgczogbnVtYmVyKTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCB4ID0gcC54IC8gcztcbiAgICAgICAgbGV0IHkgPSBwLnkgLyBzO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHgseSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNyb3NzUHJvZHVjdChwOiBQb2ludCwgczogUG9pbnQpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBwLnggKiBzLnkgLSBwLnkgKiBzLng7XG4gICAgfVxuXG4gICAgc3RhdGljIGVxdWFscyhhOiBQb2ludCwgYjogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gKChhLnggPT09IGIueCkgJiYgKGEueSA9PT0gYi55KSk7XG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgdGhlIHN0cmFpZ2h0IGxpbmUgZGlzdGFuY2UgYmV0d2VlbiB0d28gcG9pbnRzICoqL1xuICAgIHN0YXRpYyBkaXN0YW5jZShhOiBQb2ludCwgYjogUG9pbnQpXG4gICAge1xuICAgICAgICBsZXQgeCA9IGEueCAtIGIueDtcbiAgICAgICAgbGV0IHkgPSBhLnkgLSBiLnk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoeCp4ICsgeSp5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHBvaW50IHdoaWNoIGlzIHJvdGF0ZWQgY2xvY2t3aXNlIGFib3V0IHRoZSBvcmlnaW4uXG4gICAgICogUmVtZW1iZXIgdGhlIHkgYXhpcyBpcyBpbnZlcnRlZC5cbiAgICAgKiBAcGFyYW0gYW5nbGUgY2xvY2t3aXNlIGFuZ2xlIHRvIHJvdGF0ZSBieVxuICAgICAqL1xuICAgIHJvdGF0ZShhbmdsZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHggPSBNYXRoLmNvcyhhbmdsZSkgKiB0aGlzLl94ICsgLU1hdGguc2luKGFuZ2xlKSAqIHRoaXMuX3k7XG4gICAgICAgIGxldCB5ID0gTWF0aC5zaW4oYW5nbGUpICogdGhpcy5feCArIE1hdGguY29zKGFuZ2xlKSAqIHRoaXMuX3k7XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQoeCx5KTtcbiAgICB9XG5cbiAgICBjbG9zZXN0UG9pbnQocG9pbnRzOiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgbGV0IHNtYWxsZXN0RGlzdGFuY2U6IG51bWJlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHdpbm5lcjogUG9pbnQ7XG4gICAgICAgIHBvaW50cy5mb3JFYWNoKHAgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IFBvaW50Lm1pbnVzKHAsdGhpcykubWFnbml0dWRlO1xuICAgICAgICAgICAgICAgIGlmICgoc21hbGxlc3REaXN0YW5jZSA9PT0gdW5kZWZpbmVkKSB8fCAoZCA8IHNtYWxsZXN0RGlzdGFuY2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc21hbGxlc3REaXN0YW5jZSA9IGQ7XG4gICAgICAgICAgICAgICAgICAgIHdpbm5lciA9IHA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHdpbm5lcjtcbiAgICB9XG5cbiAgICBnZXQgbm9ybWFsaXNlZCgpOiBQb2ludFxuICAgIHtcbiAgICAgICAgaWYgKCh0aGlzLnggPT09IHRoaXMueSkgfHwgKCB0aGlzLnggPT09IDApIHx8ICh0aGlzLnkgPT09IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbWFnbml0dWRlID0gdGhpcy5tYWduaXR1ZGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueC9tYWduaXR1ZGUsIHRoaXMueS9tYWduaXR1ZGUpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkIHlldFwiKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYW5nbGVCZXR3ZWVuKGE6IFBvaW50LCBiOiBQb2ludCk6IG51bWJlclxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIoYi55LGIueCkgLSBNYXRoLmF0YW4yKGEueSxhLngpXG4gICAgICAgLy8gcmV0dXJuIFBvaW50LmRvdFByb2R1Y3QoYSxiKS8oYS5tYWduaXR1ZGUqYi5tYWduaXR1ZGUpXG4gICAgfVxuXG4gICAgcHJvamVjdGlvbkluKHZlY3RvcjogUG9pbnQpXG4gICAge1xuICAgICAgICByZXR1cm4gUG9pbnQuZG90UHJvZHVjdCh0aGlzLCB2ZWN0b3Iubm9ybWFsaXNlZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFuZ2xlVG9Vbml0VmVjdG9yKGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KE1hdGguY29zKGFuZ2xlKSwgTWF0aC5zaW4oYW5nbGUpKTtcbiAgICB9XG5cbiAgICBhc0FuZ2xlKClcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb2ludDNcbntcbiAgICBwcm90ZWN0ZWQgX3g6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3k6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3o6IG51bWJlcjtcbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIgfCBudW1iZXJbXSB8IFBvaW50MywgeT86IG51bWJlciwgej86IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHgpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl94ID0geFswXTtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB4WzFdO1xuICAgICAgICAgICAgdGhpcy5feiA9IHhbMl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoeCBpbnN0YW5jZW9mIFBvaW50MylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHgueDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB4Lnk7XG4gICAgICAgICAgICB0aGlzLl96ID0geC56O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5feCA9IHggfHwgMDtcbiAgICAgICAgICAgIHRoaXMuX3kgPSB5IHx8IDA7XG4gICAgICAgICAgICB0aGlzLl96ID0geiB8fCAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IHgoKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3g7IH1cbiAgICBnZXQgeSgpOiBudW1iZXIgeyByZXR1cm4gdGhpcy5feTt9XG4gICAgZ2V0IHooKTogbnVtYmVyIHsgcmV0dXJuIHRoaXMuX3o7fVxuICAgIHNldCB4KHZhbCkgeyB0aGlzLl94ID0gdmFsOyB9XG4gICAgc2V0IHkodmFsKSB7IHRoaXMuX3kgPSB2YWw7fVxuICAgIHNldCB6KHZhbCkgeyB0aGlzLl96ID0gdmFsO31cblxuICAgIGVxdWFscyhiOiBQb2ludDMpXG4gICAge1xuICAgICAgICByZXR1cm4gKCh0aGlzLnggPT09IGIueCkgJiYgKHRoaXMueSA9PT0gYi55KSAmJiAodGhpcy56ID09PSBiLnopKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZXF1YWxzKGE6IFBvaW50MywgYjogUG9pbnQzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICgoYS54ID09PSBiLngpICYmIChhLnkgPT09IGIueSkgJiYgKGEueiA9PT0gYi56KSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1pbnVzKGE6IFBvaW50MywgYj86IFBvaW50Myk6IFBvaW50M1xuICAgIHtcbiAgICAgICAgaWYgKCFiKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW51cyhuZXcgUG9pbnQzKDAsMCwwKSwgYSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHggPSBhLnggLSBiLng7XG4gICAgICAgIGxldCB5ID0gYS55IC0gYi55O1xuICAgICAgICBsZXQgeiA9IGEueiAtIGIuelxuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4LHkseik7XG4gICAgfVxuXG4gICAgbWludXMoYTogUG9pbnQzKTogUG9pbnQzXG4gICAge1xuICAgICAgICBsZXQgeCA9IHRoaXMueCAtIGEueDtcbiAgICAgICAgbGV0IHkgPSB0aGlzLnkgLSBhLnk7XG4gICAgICAgIGxldCB6ID0gdGhpcy56IC0gYS56XG4gICAgICAgIHJldHVybiBuZXcgUG9pbnQzKHgseSx6KTtcbiAgICB9XG5cbiAgICBwbHVzKGE6IFBvaW50Myk6IFBvaW50M1xuICAgIHtcbiAgICAgICAgbGV0IHggPSB0aGlzLnggKyBhLng7XG4gICAgICAgIGxldCB5ID0gdGhpcy55ICsgYS55O1xuICAgICAgICBsZXQgeiA9IHRoaXMueiArIGEuelxuICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh4LHkseik7XG4gICAgfVxuXG4gICAgbXVsdGlwbHkoczogUG9pbnQzIHwgbnVtYmVyKTogUG9pbnQzXG4gICAge1xuICAgICAgICBpZiAocyBpbnN0YW5jZW9mIFBvaW50MylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggKiBzLng7XG4gICAgICAgICAgICBsZXQgeSA9IHRoaXMueSAqIHMueTtcbiAgICAgICAgICAgIGxldCB6ID0gdGhpcy56ICogcy56O1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoeCx5LHopO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggKiBzO1xuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLnkgKiBzO1xuICAgICAgICAgICAgbGV0IHogPSB0aGlzLnogKiBzO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoeCx5LHopO1xuICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICB9XG5cbiAgICBnZXQgbm9ybWFsaXNlZCgpOiBQb2ludDNcbiAgICB7XG4gICAgICAgIGlmICgoKHRoaXMueCA9PT0gdGhpcy55KSB8fCAodGhpcy54ID09PSAwKSB8fCAodGhpcy55ID09PSAwKSkgJiYgKCh0aGlzLnkgPT09IHRoaXMueikgfHwgKHRoaXMueSA9PT0gMCkgfHwgKHRoaXMueiA9PT0gMCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbWFnbml0dWRlID0gdGhpcy5tYWduaXR1ZGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50Myh0aGlzLngvbWFnbml0dWRlLCB0aGlzLnkvbWFnbml0dWRlLCB0aGlzLnovbWFnbml0dWRlKVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCB5ZXRcIik7XG4gICAgfVxuXG4gICAgZ2V0IG1hZ25pdHVkZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KCh0aGlzLngqdGhpcy54KSArICh0aGlzLnkqdGhpcy55KSArICh0aGlzLnoqdGhpcy56KSk7XG4gICAgfVxuXG59IiwiaW1wb3J0IFBvaW50IGZyb20gXCIuL1BvaW50XCI7XG5pbXBvcnQgeyBJbnRlcnNlY3Rpb24gfSBmcm9tIFwiLi4vZ2FtZW9iamVjdC9Qb2x5Z29uQ29sbGlzaW9uXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQb2x5U2hhcGVcbntcbiAgICBwcml2YXRlIF9wb2ludHM6IFBvaW50W107XG5cbiAgICBnZXQgcG9pbnRzKCkgeyByZXR1cm4gdGhpcy5fcG9pbnRzOyB9XG5cbiAgICBnZXQgZWRnZXMoKTogUG9seUVkZ2VbXVxuICAgIHtcbiAgICAgICAgbGV0IGUgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnBvaW50cy5sZW5ndGgtMTtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGUucHVzaChuZXcgUG9seUVkZ2UoW3RoaXMucG9pbnRzW2ldLCB0aGlzLnBvaW50c1tpKzFdXSkpXG4gICAgICAgIH1cbiAgICAgICAgZS5wdXNoKG5ldyBQb2x5RWRnZShbdGhpcy5wb2ludHNbdGhpcy5wb2ludHMubGVuZ3RoLTFdLCB0aGlzLnBvaW50c1swXV0pKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocG9pbnRzOiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcG9pbnRzID0gcG9pbnRzO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGNsb25lKG5ld1BvaW50czogUG9pbnRbXSk7XG5cbiAgICBjZW50ZXJQb2ludCgpOiBQb2ludFxuICAgIHtcbiAgICAgICAgbGV0IHhUb3RhbCA9IDA7XG4gICAgICAgIGxldCB5VG90YWwgPSAwO1xuICAgICAgICB0aGlzLnBvaW50cy5mb3JFYWNoKHAgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgeFRvdGFsICs9IHAueDtcbiAgICAgICAgICAgIHlUb3RhbCArPSBwLnk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHhUb3RhbC90aGlzLnBvaW50cy5sZW5ndGgsIHlUb3RhbC90aGlzLnBvaW50cy5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwb2ludCB0aGF0IGlzIHRoZSBtYXhpbXVtIHBvaW50IG9mIHByb2plY3Rpb24gb24gdGhlIHByb3ZpZGVkXG4gICAgICogdmVjdG9yLiBUaGUgcG9pbnQgcmV0dXJuZWQgd2lsbCBiZSBvbmUgb2YgdGhlIHZlcnRleGVzIG9mIHRoZSBwb2x5Z29uLlxuICAgICAqIFdoZXJlIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgcG9pbnQgd2loIHRoZSBzYW1lIHByb2plY3Rpb24sIHRoZSBmaXJzdCB3aWxsXG4gICAgICogYmUgcmV0dXJuZWQuXG4gICAgICogQHBhcmFtIHZlY3RvclxuICAgICAqL1xuICAgIG1heGltdW1Qcm9qZWN0aW9uT25WZWN0b3IodmVjdG9yOiBQb2ludCk6IFBvaW50XG4gICAge1xuICAgICAgICBsZXQgY3VycmVudE1heCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGxlYWRpbmdQb2ludCA9IG51bGxcbiAgICAgICAgbGV0IHVuaXRWZWN0b3IgPSB2ZWN0b3Iubm9ybWFsaXNlZDtcbiAgICAgICAgdGhpcy5wb2ludHMuZm9yRWFjaChwID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHByb2ogPSBQb2ludC5kb3RQcm9kdWN0KHAsIHVuaXRWZWN0b3IpO1xuICAgICAgICAgICAgICAgIGlmICgoY3VycmVudE1heCA9PT0gdW5kZWZpbmVkKSB8fCAocHJvaiA+IGN1cnJlbnRNYXgpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGVhZGluZ1BvaW50ID0gcDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1heCA9IHByb2o7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsZWFkaW5nUG9pbnQ7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBDb252ZXhQb2x5Z29uIGV4dGVuZHMgUG9seVNoYXBlXG57XG4gICAgcHJpdmF0ZSBfY2xvY2t3aXNlOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIHBvaW50cyBvZiB0aGlzIHBvbHlnb24gYXJlIGxpc3RlZCBpbiBjbG9ja3dpc2Ugb3JkZXIsIGZhbHNlIGlmXG4gICAgICogdGhleSBhcmUgbGlzdGVkIGluIGFudGljbG9ja3dpc2Ugb3JkZXIuXG4gICAgICovXG4gICAgZ2V0IGNsb2Nrd2lzZSgpIHsgcmV0dXJuIHRoaXMuX2Nsb2Nrd2lzZTsgfVxuICAgIHNldCBjbG9ja3dpc2UodmFsKSB7IHRoaXMuX2Nsb2Nrd2lzZSA9IHZhbDsgfVxuXG4gICAgY2xvbmUobmV3UG9pbnRzOiBQb2ludFtdKTogQ29udmV4UG9seWdvblxuICAgIHtcbiAgICAgICAgbGV0IHAgPSBuZXcgQ29udmV4UG9seWdvbihuZXdQb2ludHMpO1xuICAgICAgICBwLmNsb2Nrd2lzZSA9IHRoaXMuY2xvY2t3aXNlO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiByZXR1cm5zIHRydWUgaWYgdGhlIHBvbHlnb24gaW50ZXJzZWN0cyB3aXRoIHRoZSBwcm92aWRlZCByZWN0XG4gICAgICogQHBhcmFtIHJlY3QgXG4gICAgICovXG4gICAgaW50ZXJzZWN0cyhvdGhlcjogQ29udmV4UG9seWdvbik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHRoaXMucG9pbnRzLmZvckVhY2gocCA9PiB7IGlmIChvdGhlci5jb250YWluc1BvaW50KHApKSByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgIG90aGVyLnBvaW50cy5mb3JFYWNoKHAgPT4geyBpZiAodGhpcy5jb250YWluc1BvaW50KHApKSByZXR1cm4gdHJ1ZTsgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb250YWlucyhvdGhlcjogQ29udmV4UG9seWdvbik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIG90aGVyLnBvaW50cy5mb3JFYWNoKHAgPT4geyBpZiAoISh0aGlzLmNvbnRhaW5zUG9pbnQocCkpKSByZXR1cm4gZmFsc2U7IH0pXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGludGVyc2VjdGlvbnNXaXRoRWRnZShzdGFydDogUG9pbnQsIGVuZDogUG9pbnQpOiBJbnRlcnNlY3Rpb25bXVxuICAgIHtcbiAgICAgICAgbGV0IGludGVyc2VjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5lZGdlcy5mb3JFYWNoKGUgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHBvaW50ID0gZS5wb2ludE9mSW50ZXJzZWN0aW9uV2l0aEVkZ2Uoc3RhcnQsZW5kKTtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQpXG4gICAgICAgICAgICAgICAgICAgIGludGVyc2VjdGlvbnMucHVzaChuZXcgSW50ZXJzZWN0aW9uKHBvaW50LGUpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiBpbnRlcnNlY3Rpb25zO1xuICAgIH1cblxuICAgIGNvbnRhaW5zUG9pbnQocG9pbnQ6IG51bWJlciB8IFBvaW50LCB5PzogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IHggPSAwO1xuICAgICAgICBpZiAocG9pbnQgaW5zdGFuY2VvZiBQb2ludClcbiAgICAgICAge1xuICAgICAgICAgICAgeSA9IHBvaW50Lnk7XG4gICAgICAgICAgICB4ID0gcG9pbnQueDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB4ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMuZWRnZXMuZm9yRWFjaChlID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghKHRoaXMucmlnaHRPZkVkZ2UoeCwgeSwgZSkpXG4gICAgICAgICAgICAgICAgfHwgKCEodGhpcy5jbG9ja3dpc2UpICYmICEodGhpcy5sZWZ0T2ZFZGdlKHgsIHksIGUpKSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmlnaHRPZkVkZ2UocHg6IG51bWJlciwgcHk6IG51bWJlciwgZTogUG9seUVkZ2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgZ3JhZCA9IChlWzFdLnktZVswXS55KS8oZVsxXS54LWVbMF0ueClcbiAgICAgICAgaWYgKGdyYWQgPT09IEluZmluaXR5KVxuICAgICAgICAgICAgcmV0dXJuIHB4IDw9IGVbMF0ueFxuICAgICAgICBpZiAoZ3JhZCA9PT0gLUluZmluaXR5KVxuICAgICAgICAgICAgcmV0dXJuIHB4ID49IGVbMF0ueFxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gZVswXS55IC0gKGdyYWQqZVswXS54KVxuICAgICAgICBsZXQgZXhwZWN0ZWRZID0gKHB4KmdyYWQgKyBpbnRlcnNlY3Rpb24pXG4gICAgICAgIGlmIChlWzFdLnggPiBlWzBdLngpXG4gICAgICAgICAgICByZXR1cm4gKHB5ID49IGV4cGVjdGVkWSlcbiAgICAgICAgaWYgKGVbMV0ueCA8IGVbMF0ueClcbiAgICAgICAgICAgIHJldHVybiAocHkgPD0gZXhwZWN0ZWRZKVxuICAgIH1cblxuICAgIGxlZnRPZkVkZ2UocHg6IG51bWJlciwgcHk6IG51bWJlciwgZTogUG9seUVkZ2UpOiBib29sZWFuXG4gICAge1xuICAgICAgICBsZXQgZ3JhZCA9IChlWzFdLnktZVswXS55KS8oZVsxXS54LWVbMF0ueClcbiAgICAgICAgaWYgKGdyYWQgPT09IEluZmluaXR5KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZVswXS55ID4gZVsxXS55KVxuICAgICAgICAgICAgICAgIHJldHVybiBweCA8PSBlWzBdLnggXG4gICAgICAgICAgICBpZiAoZVswXS55IDwgZVsxXS55KVxuICAgICAgICAgICAgICAgIHJldHVybiBweCA+PSBlWzBdLnhcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW50ZXJzZWN0aW9uID0gZVswXS55IC0gKGdyYWQqZVswXS54KVxuICAgICAgICBsZXQgZXhwZWN0ZWRZID0gKHB4KmdyYWQgKyBpbnRlcnNlY3Rpb24pXG4gICAgICAgIGlmIChlWzFdLnggPiBlWzBdLngpXG4gICAgICAgICAgICByZXR1cm4gKHB5IDw9IGV4cGVjdGVkWSlcbiAgICAgICAgaWYgKGVbMV0ueCA8IGVbMF0ueClcbiAgICAgICAgICAgIHJldHVybiAocHkgPj0gZXhwZWN0ZWRZKVxuICAgIH1cbn1cblxuLyoqXG4gKiBBbnkgbnVtYmVyIG9mIG5vZGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2x5TGluZSBleHRlbmRzIFBvbHlTaGFwZVxue1xuICAgIGNsb25lKCk6IFBvbHlMaW5lXG4gICAge1xuICAgICAgICBsZXQgcCA9IG5ldyBQb2x5TGluZSh0aGlzLnBvaW50cyk7XG4gICAgICAgIHJldHVybiBwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBPbmx5IHR3byBub2Rlc1xuICovXG5leHBvcnQgY2xhc3MgUG9seUVkZ2UgZXh0ZW5kcyBQb2x5TGluZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvaW50czogUG9pbnRbXSlcbiAgICB7XG4gICAgICAgIGlmIChwb2ludHMubGVuZ3RoICE9PSAyKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUG9seUVkZ2UgZXhwZWN0cyBhIHBvaW50cyBhcnJheSBvZiBleGFjdGx5IDJcIilcbiAgICAgICAgc3VwZXIocG9pbnRzKTtcbiAgICB9XG5cbiAgICBnZXQgdmVjdG9yKCkgeyByZXR1cm4gUG9pbnQubWludXModGhpcy5wb2ludHNbMV0sIHRoaXMucG9pbnRzWzBdKTsgfVxuXG4gICAgcG9pbnRPZkludGVyc2VjdGlvbldpdGhFZGdlKGVkZ2U6IFBvbHlFZGdlIHwgUG9pbnQsIGVuZD86IFBvaW50KTogUG9pbnRcbiAgICB7XG4gICAgICAgIGxldCBwOiBQb2ludDtcbiAgICAgICAgbGV0IHI6IFBvaW50O1xuICAgICAgICBpZiAoZWRnZSBpbnN0YW5jZW9mIFBvbHlFZGdlKVxuICAgICAgICB7XG4gICAgICAgICAgICBwID0gbmV3IFBvaW50KGVkZ2UucG9pbnRzWzBdLngsZWRnZS5wb2ludHNbMF0ueSk7XG4gICAgICAgICAgICByID0gbmV3IFBvaW50KGVkZ2UucG9pbnRzWzFdLngsZWRnZS5wb2ludHNbMV0ueSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZWRnZSBpbnN0YW5jZW9mIFBvaW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBwID0gZWRnZTtcbiAgICAgICAgICAgIHIgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgciA9IFBvaW50Lm1pbnVzKHIscCk7XG5cbiAgICAgICAgbGV0IHEgPSBuZXcgUG9pbnQodGhpcy5wb2ludHNbMF0ueCx0aGlzLnBvaW50c1swXS55KTtcbiAgICAgICAgbGV0IHMgPSBQb2ludC5taW51cyhuZXcgUG9pbnQodGhpcy5wb2ludHNbMV0ueCx0aGlzLnBvaW50c1sxXS55KSwgcSk7XG5cbiAgICAgICAgbGV0IHFtcDogUG9pbnQgPSBQb2ludC5taW51cyhxLCBwKTtcbiAgICAgICAgbGV0IHBtcTogUG9pbnQgPSBQb2ludC5taW51cyhwLCBxKTtcbiAgICAgICAgbGV0IHJ4czogbnVtYmVyID0gUG9pbnQuY3Jvc3NQcm9kdWN0KHIscylcblxuICAgICAgICBsZXQgdCA9IFBvaW50LmNyb3NzUHJvZHVjdChxbXAsIHMpIC8gcnhzO1xuICAgICAgICBsZXQgdSA9IFBvaW50LmNyb3NzUHJvZHVjdChwbXEsIHIpIC8gUG9pbnQuY3Jvc3NQcm9kdWN0KHMscik7XG4gICAgICAgIGxldCBwbXF4ciA9IFBvaW50LmNyb3NzUHJvZHVjdChwbXEscik7XG5cbiAgICAgICAgaWYgKChyeHMgPT09IDApICYmIChwbXF4ciA9PT0gMCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBycnM6IFBvaW50ID0gUG9pbnQuZGl2aWRlKHIsIFBvaW50LmRvdFByb2R1Y3QocixyKSk7XG4gICAgICAgICAgICBsZXQgdDA6IG51bWJlciA9IFBvaW50LmRvdFByb2R1Y3QocG1xLCBycnMpO1xuICAgICAgICAgICAgbGV0IHQxOiBudW1iZXIgPSB0MCArIFBvaW50LmRvdFByb2R1Y3QocywgcnJzKTtcbiAgICAgICAgICAgIGlmICgoKHQwID49IDAgJiYgdDAgPD0gMSkpIHx8ICgodDEgPj0gMCApICYmICh0MSA8PSAxKSkgfHwgKCh0MCA8PSAwKSAmJiAodDEgPj0gMCkpIHx8ICgodDAgPj0gMSkgJiYgKHQxIDw9IDApKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbGluZWFyIGFuZCBvdmVybGFwcGluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAvL2NvbGluZWFyIGFuZCBvdmVybGFwaW5nXG4gICAgICAgICAgICAgICAgLy9UT0RPOiB3b3JrIG91dCB3aGF0IHRvIGRvIGlmIHRoaXMgaXMgdGhlIGNhc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC8vICBjb25zb2xlLmxvZyhcIkNvbGluZWFyIGJ1dCBub3Qgb3ZlcmxhcHBpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocnhzID09PSAwKSAmJiAocG1xeHIgIT09IDApKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicGFyYWxsZWwgYW5kIG5vbi1pbnRlcnNlY3RpbmdcIilcbiAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBwYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKChyeHMgIT09IDApICYmICh0ID49IDApICYmICh0IDw9IDEpICYmICh1ID49IDApICYmICh1IDw9IDEpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwiaW50ZXJzZWN0aW9uXCIpXG4gICAgICAgICAgICByZXR1cm4gUG9pbnQuYWRkKHAsIFBvaW50Lm11bHRpcGx5KHIsdCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIm5vbi1wYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIG5vbi1wYXJhbGxlbCBhbmQgbm9uLWludGVyc2VjdGluZ1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUG9seVJlY3QgZXh0ZW5kcyBDb252ZXhQb2x5Z29uXG57XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFBvbHlSZWN0LCBpZiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZCwgcmV0dXJucyBhIDF4MSByZWN0IHdpdGggb3JpZ2luIDAsMFxuICAgICAqIEBwYXJhbSBjb29yZHMgYW4gYXJyYXkgb2YgbGVuZ3RoIDggd2l0aCBhbHRlcm5hdGluZyB4IHkgdmFsdWVzLCBtdXN0IGRlc2NyaWJlIHJlY3RhbmdsZVxuICAgICAqIHdpdGggbm8gcm90YXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwb2ludHM/OiBQb2ludFtdKVxuICAgIHtcbiAgICAgICAgaWYgKCFwb2ludHMpXG4gICAgICAgICAgICBzdXBlcihbbmV3IFBvaW50KDAsMCksIG5ldyBQb2ludCgxLDApLCBuZXcgUG9pbnQoMSwxKSwgbmV3IFBvaW50KDAsMSldKVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChwb2ludHMubGVuZ3RoICE9PSA0KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBvbHlSZWN0IGV4cGVjdHMgYSBwb2ludHMgYXJyYXkgb2YgZXhhY3RseSA0XCIpXG4gICAgICAgICAgICBzdXBlcihwb2ludHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29udGFpbnNQb2ludCh4OiBudW1iZXIgfCBQb2ludCwgeT86IG51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiAoKHggPiB0aGlzLnBvaW50c1swXSkgJiYgKCB4IDwgdGhpcy5wb2ludHNbMV0ueCkgJiYgKHkgPiB0aGlzLnBvaW50c1swXS55KSAmJiAoeSA8IHRoaXMucG9pbnRzWzNdLnkpKTtcbiAgICB9XG59IiwiaW1wb3J0IFRleHRCdWlsZGVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9UZXh0QnVpbGRlclwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCB7IEZyYW1lLCBGcmFtZUNvbnRyb2xsZXIsIEZyYW1lTGlzdGVuZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFJlbGF0aXZlRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9SZWxhdGl2ZURpbWVuc2lvblwiO1xuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJNZW51IGV4dGVuZHMgRnJhbWU8R2FtZU92ZXJNZW51TGlzdGVuZXIsIEdhbWVPdmVyTWVudUNvbnRyb2xsZXI+XG57XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBHYW1lT3Zlck1lbnVMaXN0ZW5lciwgY29udHJvbGxlcjogR2FtZU92ZXJNZW51Q29udHJvbGxlciwgZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5ib3VuZHMucmVmZXJlbmNlV2lkdGggPSAzMjA7XG4gICAgICAgIGxldCBiZyAgPSB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcImJsYWNrXCIpKTtcbiAgICAgICAgYmcub3BhY2l0eSA9IDAuNTtcblxuICAgICAgICBsZXQgdGJnICA9IHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSxuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUmVsYXRpdmVEaW1lbnNpb24oMTAwLDUwKSksIFwiYmxhY2tcIikpO1xuICAgICAgICB0Ymcub3BhY2l0eSA9IDAuOTtcblxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJZb3UgaGF2ZSBkaWVkXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCAyMCwgXCJzZXJpZlwiKTtcbiAgICAgICAgbGV0IHRleHQgPSB0YmcuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSxuZXcgUG9pbnQoMC41LDAuNSkpKSkpO1xuXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2FtZU92ZXJNZW51TGlzdGVuZXIgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyXG57XG5cbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVPdmVyTWVudUNvbnRyb2xsZXIgZXh0ZW5kcyBGcmFtZUNvbnRyb2xsZXJcbntcblxufSIsImltcG9ydCB7IEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciwgRnJhbWUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBUZXh0QnVpbGRlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dEJ1aWxkZXJcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgVGV4dCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dFwiO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSBcIi4vTWFpbkZyYW1lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgU3RhbmRhcmRCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1N0YW5kYXJkQnV0dG9uXCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCB7IFRyZWVVdGlscyB9IGZyb20gXCJlbmdpbmUvVHJlZVV0aWxzXCI7XG5pbXBvcnQgTG9hZGluZ0JhciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvTG9hZGluZ0JhclwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IE1haW5NZW51QnV0dG9uIGZyb20gXCIuL01haW5NZW51QnV0dG9uXCI7XG5pbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludHJvRnJhbWUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgbWFpbkZyYW1lOiBNYWluRnJhbWU7XG4gICAgYnV0dG9uOiBNYWluTWVudUJ1dHRvbjtcbiAgICBzdGFydGVkOiBib29sZWFuID0gZmFsc2U7XG4gICAgbG9hZGluZ0JhcjogTG9hZGluZ0JhcjtcbiAgICBsb2FkaW5nVGV4dDogVGV4dDtcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcihcIlJQRyBBbHBoYVwiLCBjb250ZXh0MkQsIFwid2hpdGVcIiwgNDgsIFwic2VyaWZcIiwgMS40KTtcbiAgICAgICAgbGV0IHRpdGxlVGV4dDogVGV4dCA9IHRoaXMuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuMywgbmV3IFBvaW50KDAuNSwwLjUpKSkpKTtcbiAgICAgICAgdGl0bGVUZXh0LmNhbnZhc0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJibGFja1wiXG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDEwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJTdGFydCBHYW1lXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCAzMiwgXCJzZXJpZlwiKTtcbiAgICAgICAgbGV0IHN0YXJ0VGV4dCA9IHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpKTtcbiAgICAgICAgc3RhcnRUZXh0LmNhbnZhc0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgY3R4LnNoYWRvd0NvbG9yID0gXCJibGFja1wiXG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93T2Zmc2V0WSA9IDI7XG4gICAgICAgICAgICBjdHguc2hhZG93Qmx1ciA9IDEwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uID0gdGhpcy5hZGRDaGlsZChuZXcgTWFpbk1lbnVCdXR0b24obmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC43LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMzAwLDUwKSksIHN0YXJ0VGV4dCkpO1xuXG4gICAgICAgIHRoaXMubG9hZGluZ0JhciA9IHRoaXMuYWRkQ2hpbGQobmV3IExvYWRpbmdCYXIobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC44LCBuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMTAwLDEwKSksIFwid2hpdGVcIiwgXCJncmV5XCIpKTtcbiAgICAgICAgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoXCJMb2FkaW5nIHRleHR1cmVzXCIsIGNvbnRleHQyRCwgXCJ3aGl0ZVwiLCA4LCBcInNlcmlmXCIsIDEuNSk7XG4gICAgICAgIHRoaXMubG9hZGluZ1RleHQgPSB0aGlzLmFkZENoaWxkKHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFBpeGVsVHJhbnNsYXRpb24oMCwxMCksIG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC44LCBuZXcgUG9pbnQoMC41LDApKSkpKTtcblxuICAgICAgICB0aGlzLm1haW5GcmFtZSA9IHRoaXMuYWRkQ2hpbGQobmV3IE1haW5GcmFtZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCkpKTtcbiAgICAgICAgdGhpcy5tYWluRnJhbWUucHJlY3JlYXRlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLmJ1dHRvbi5vbkNsaWNrLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tYWluRnJhbWUub3BlbigpO1xuICAgICAgICAgICAgdGhpcy5idXR0b24uaW50ZXJhY3RhYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy5idXR0b24uc2V0SW50ZXJhY3RhYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKCEodGhpcy5zdGFydGVkKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXRzID0gVHJlZVV0aWxzLnN1YnRyZWVMb2FkU3RhdHModGhpcy5tYWluRnJhbWUpO1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnNldFByb3BvcnRpb24oc3RhdHMuYXNzZXRzUHJvcG9ydGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy5tYWluRnJhbWUuc3VidHJlZUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbi5zZXRJbnRlcmFjdGFibGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmdUZXh0LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uT3BlbigpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAwLjAxO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMsIFwib3BhY2l0eVwiLCAxLCAxMDAwKSkub25Db21wbGV0ZS5wdXNoKHRoaXMucmVhZHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWFkeSgpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAxO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBMYXVuY2hlciB9IGZyb20gXCJMYXVuY2hlclwiO1xuaW1wb3J0IHsgTWFpbkZyYW1lIH0gZnJvbSBcIi4vTWFpbkZyYW1lXCI7XG5pbXBvcnQgSU8gZnJvbSBcImVuZ2luZS9pby9JT1wiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuaW1wb3J0IHsgVGltaW5nTGlzdGVuZXIgfSBmcm9tIFwiZW5naW5lL2lvL1RpbWluZ1wiO1xuaW1wb3J0IEludHJvRnJhbWUgZnJvbSBcIi4vSW50cm9GcmFtZVwiO1xuXG5leHBvcnQgY2xhc3MgUnVuIGV4dGVuZHMgTGF1bmNoZXJcbntcbiAgICBwcm90ZWN0ZWQgX3Jvb3RHYW1lT2JqZWN0VHlwZSA9IEludHJvRnJhbWU7XG5cbiAgICBwcm90ZWN0ZWQgX2NyZWF0ZUludGVyZmFjZXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCk6IElPXG4gICAge1xuICAgICAgICBsZXQgaW8gPSBuZXcgSU8oKTtcbiAgICAgICAgaW8uYWRkSW50ZXJmYWNlKG5ldyBMb2FkZXIoXCJcIiksIFwibG9hZGVyXCIpO1xuICAgICAgICBpby5hZGRJbnRlcmZhY2UobmV3IFRpbWluZ0xpc3RlbmVyKCksIFwidGltaW5nXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkTW91c2UodGhpcy5fYWRkS2V5Ym9hcmQoaW8pLCBjYW52YXMpO1xuICAgIH1cbn1cblxubGV0IGwgPSBuZXcgUnVuKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FtZVRhcmdldFwiKSk7XG5sLmNyZWF0ZSgpO1xubC5zdGFydCgpO1xuIiwiaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4vVUlNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZGluZ1N0YXR1c0ZyYW1lIGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgZ2FtZU1vZGVsIDogR2FtZU1vZGVsXG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIHVpTW9kZWw6IFVJTW9kZWwsIGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG4gICAgXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5iYWNrZ3JvdW5kQ29sb3VyKSlcbiAgICB9XG5cbn0iLCJpbXBvcnQgQ2hhcmFjdGVyTWVudSwgeyBDaGFyYWN0ZXJNZW51TGlzdGVuZXIsIENoYXJhY3Rlck1lbnVDb250cm9sbGVyIH0gZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0NoYXJhY3Rlck1lbnVcIjtcbmltcG9ydCBNYXAgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL01hcFwiO1xuaW1wb3J0IHsgR2FtZU92ZXJNZW51LCBHYW1lT3Zlck1lbnVMaXN0ZW5lciwgR2FtZU92ZXJNZW51Q29udHJvbGxlciB9IGZyb20gXCIuL0dhbWVPdmVyTWVudVwiO1xuaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBHZXN0dXJlVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvR2VzdHVyZVRyaWdnZXJcIjtcbmltcG9ydCBLZXlUcmlnZ2VyLCB7IEtleVRyaWdnZXJFdmVudHMgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvS2V5VHJpZ2dlclwiO1xuaW1wb3J0IFZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vVmFsdWVUd2VlblwiO1xuaW1wb3J0IE1pbmlNYXBGcmFtZSwgeyBNaW5pTWFwRnJhbWVMaXN0ZW5lciB9IGZyb20gXCIuL2NvcmUtdWktY29tcG9uZW50cy9NaW5pTWFwRnJhbWVcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuL1VJTW9kZWxcIjtcbmltcG9ydCB7IEdyaWRCdWlsZGVyLCBHcmlkT3JpZW50YXRpb24gfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvR3JpZExheW91dFwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IHsgRGVidWdSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUmVsYXRpdmVEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1JlbGF0aXZlRGltZW5zaW9uXCI7XG5pbXBvcnQgQ29uZGl0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL0NvbmRpdGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBUYWJMaXN0TWVudSBmcm9tIFwiLi9jb3JlLXVpLWNvbXBvbmVudHMvVGFiTGlzdE1lbnVcIjtcbmltcG9ydCBXb3JsZEZyYW1lIGZyb20gXCIuL1dvcmxkRnJhbWVcIjtcbmltcG9ydCBQYXJ0eVN0YXR1c01lbnUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL1BhcnR5U3RhdHVzTWVudVwiO1xuaW1wb3J0IEJ1ZmZlcmVkIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvQnVmZmVyZWRcIjtcbmltcG9ydCBEcmF3QnVmZmVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvRHJhd0J1ZmZlclwiO1xuaW1wb3J0IEFjdGlvbkJhck1lbnUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0FjdGlvbkJhck1lbnVcIjtcbmltcG9ydCBEZXRhaWxNZW51RnJhbWUgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0RldGFpbE1lbnVGcmFtZVwiO1xuaW1wb3J0IENvbmRpdGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vQ29uZGl0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IExvYWRpbmdTdGF0dXNGcmFtZSBmcm9tIFwiLi9Mb2FkaW5nU3RhdHVzRnJhbWVcIjtcbmltcG9ydCBHYW1lTW9kZWwsIHsgR2FtZU1vZGVsTGlzdGVuZXIgfSBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBQYXJ0eU1vZGVsIGZyb20gXCIuL21vZGVsL1BhcnR5TW9kZWxcIjtcbmltcG9ydCBXb3JsZE1vZGVsIGZyb20gXCIuL21vZGVsL3dvcmxkL1dvcmxkTW9kZWxcIjtcbmltcG9ydCBQbGF5ZXJNb2RlbCwgeyBGYWNpbmcgfSBmcm9tIFwiLi9tb2RlbC9QbGF5ZXJNb2RlbFwiO1xuaW1wb3J0IHsgZ2FtZURhdGEgfSBmcm9tIFwiLi9kYXRhXCI7XG5pbXBvcnQgVG9vbFRpcCBmcm9tIFwiLi9Ub29sVGlwXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBXYWl0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXRcIjtcbmltcG9ydCBNb3VzZURyYWdUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9Nb3VzZURyYWdUcmlnZ2VyXCI7XG5cbmxldCByYW5kb21Db2xvdXIgPSBmdW5jdGlvbigpOiBzdHJpbmdcbntcbiAgIHJldHVybiAgXCIjXCIrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKSArIFwiXCIgK1xuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApICsgXCJcIiArXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCkgKyBcIlwiICtcbiAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEwKSArIFwiXCIgK1xuICAgICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTApICsgXCJcIiArXG4gICAgICAgIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCkgKyBcIlwiXG59XG5leHBvcnQgeyByYW5kb21Db2xvdXIgfTtcblxuY2xhc3MgVGVzdEZyYW1lIGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgbGlzdGVuZXI6IEZyYW1lTGlzdGVuZXIsIGNvbnRyb2xsZXI6IEZyYW1lQ29udHJvbGxlciwgLi4uYXJncylcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IGNvbG9yID0gcmFuZG9tQ29sb3VyKCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IERlYnVnUmVjdChjb2xvciwgMTApKTtcblxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGxldCBjb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgICAgIGxldCB0YiA9IG5ldyBUZXh0QnVpbGRlcih0aGlzLmxpc3RlbmVyLmNvbnN0cnVjdG9yLm5hbWUsIGNvbnRleHQyRCwgY29sb3IsIDEyLCBcInNhbnMtc2VyaWZcIik7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGIuYnVpbGRUZXh0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSwgbmV3IFBvaW50KDAuNSwwLjUpKSkpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYWluRnJhbWUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLEZyYW1lQ29udHJvbGxlcj5cbntcbiAgICBjaGFyYWN0ZXJNZW51O1xuICAgIHRhYk1lbnU6IEdhbWVPYmplY3Q7XG4gICAgdWlNb2RlbDogVUlNb2RlbDtcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICB0b29sdGlwOiBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+O1xuXG4gICAgX2xhc3REcmFnVmVjdG9yOiBQb2ludDtcblxuICAgIGdhbWVPdmVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2hvd0dhbWVPdmVyTWVudSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IG5ldyBHYW1lTW9kZWwobmV3IEdhbWVNb2RlbExpc3RlbmVyKCksIG5ldyBQYXJ0eU1vZGVsKCksIG5ldyBXb3JsZE1vZGVsKCksIG5ldyBQbGF5ZXJNb2RlbCgpLCBnYW1lRGF0YSk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIub25VcGRhdGUucHVzaCgoKHZhbCkgPT4geyBpZiAodmFsKSB0aGlzLmdhbWVPdmVyKCk7IH0pLmJpbmQodGhpcyksdGhpcyk7XG5cbiAgICAgICAgbGV0IG1hcCA9IG5ldyBNYXAodGhpcy5nYW1lTW9kZWwpO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG1hcCk7XG4gICAgICAgIHRoaXMudWlNb2RlbCA9IG5ldyBVSU1vZGVsKHRoaXMuZ2FtZU1vZGVsLCBtYXApO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5yZWZlcmVuY2VXaWR0aCA9IDMyMDtcbiAgICAgICAgbGV0IGFjdGlvbkJhckhlaWdodCA9IDQyO1xuICAgICAgICBsZXQgcGFydHlTdGF0dXNNZW51V2lkdGggPSA0MjtcbiAgICAgICAgbGV0IGNoYXJNZW51TWF4V2lkdGggPSA1MDA7XG5cbiAgICAgICAgbGV0IGNoYXJhY3Rlck1lbnUgPSBuZXcgQ2hhcmFjdGVyTWVudShuZXcgUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUmVsYXRpdmVEaW1lbnNpb24oMzIwLDEyMCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ2hhcmFjdGVyTWVudUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDaGFyYWN0ZXJNZW51Q29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwsIHRoaXMuZ2FtZU1vZGVsKTtcbiAgICAgICAgY2hhcmFjdGVyTWVudS50cmFuc2Zvcm0uYm91bmRzLm1heERpbWVuc2lvbiA9IG5ldyBQaXhlbERpbWVuc2lvbihjaGFyTWVudU1heFdpZHRoLDE3MCk7XG4gICAgICAgIHRoaXMuY2hhcmFjdGVyTWVudSA9IGNoYXJhY3Rlck1lbnU7XG4gICAgICAgIGxldCB0YWJMaXN0TWVudSA9IG5ldyBUYWJMaXN0TWVudShuZXcgUG9zaXRpb24oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBSZWxhdGl2ZURpbWVuc2lvbigzMjAsMCksIG5ldyBDb25kaXRpb25hbERpbWVuc2lvbih0aGlzLl90YWJMaXN0SGVpZ2h0Q29uZGl0aW9uYWwuYmluZCh0aGlzKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwpO1xuICAgICAgICB0aGlzLnRhYk1lbnUgPSB0YWJMaXN0TWVudTtcbiAgICAgICAgdGFiTGlzdE1lbnUudHJhbnNmb3JtLmJvdW5kcy5tYXhEaW1lbnNpb24gPSBuZXcgUGl4ZWxEaW1lbnNpb24oY2hhck1lbnVNYXhXaWR0aCx1bmRlZmluZWQpO1xuICAgICAgICBsZXQgZGV0YWlsTWVudSA9IG5ldyBEZXRhaWxNZW51RnJhbWUobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLDEsdGFiTGlzdE1lbnUudHJhbnNmb3JtLmJvdW5kcykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFJlbGF0aXZlRGltZW5zaW9uKDMyMCwwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX2RldGFpbE1lbnVIZWlnaHRDb25kaXRpb25hbC5iaW5kKHRoaXMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLDEsdGFiTGlzdE1lbnUudHJhbnNmb3JtLmJvdW5kcykpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwpO1xuICAgICAgICBkZXRhaWxNZW51LnRyYW5zZm9ybS5ib3VuZHMubWF4RGltZW5zaW9uID0gbmV3IFBpeGVsRGltZW5zaW9uKGNoYXJNZW51TWF4V2lkdGgsdW5kZWZpbmVkKTtcbiAgICAgICAgbGV0IG1pbmltYXAgPSBuZXcgTWluaU1hcEZyYW1lKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLG5ldyBQb2ludCgxLDApKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBDb25kaXRpb25hbERpbWVuc2lvbih0aGlzLl9taW5pTWFwRGltQ29uZGl0aW9uYWwuYmluZCh0aGlzKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE1pbmlNYXBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRnJhbWVDb250cm9sbGVyKCksIHRoaXMudWlNb2RlbCwgdGhpcy5nYW1lTW9kZWwpO1xuXG4gICAgICAgIGxldCBwYXJ0eVN0YXR1c01lbnUgPSBuZXcgUGFydHlTdGF0dXNNZW51KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLCBuZXcgUG9pbnQoMSwwKSksIG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLCAxLCBtaW5pbWFwLnRyYW5zZm9ybS5ib3VuZHMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgQ29uZGl0aW9uYWxEaW1lbnNpb24odGhpcy5fcGFydHlTdGF0c1dpZHRoQ29uZGl0aW9uYWwuYmluZCh0aGlzKSksIG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwxLCB0aGlzLnRyYW5zZm9ybS5ib3VuZHMpLCBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsLTEsIGNoYXJhY3Rlck1lbnUudHJhbnNmb3JtLmJvdW5kcyksICBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsLTEsIHRhYkxpc3RNZW51LnRyYW5zZm9ybS5ib3VuZHMpLG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwtMSwgbWluaW1hcC50cmFuc2Zvcm0uYm91bmRzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUNvbnRyb2xsZXIoKSwgdGhpcy51aU1vZGVsKTtcblxuICAgICAgICBsZXQgYWN0aW9uQmFyTWVudSA9IG5ldyBBY3Rpb25CYXJNZW51KG5ldyBQb3NpdGlvbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IENvbmRpdGlvbmFsRGltZW5zaW9uKHRoaXMuX2FjdGlvbkJhckhlaWdodENvbmRpdGlvbmFsLmJpbmQodGhpcykpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lTGlzdGVuZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLCB0aGlzLnVpTW9kZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICBsZXQgd29ybGRGcmFtZSA9IG5ldyBXb3JsZEZyYW1lKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwxLCBhY3Rpb25CYXJNZW51LnRyYW5zZm9ybS5ib3VuZHMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSwgbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLC0xLCBhY3Rpb25CYXJNZW51LnRyYW5zZm9ybS5ib3VuZHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBDb25kaXRpb25hbERpbWVuc2lvbih0aGlzLl93b3JsZEZyYW1lQ29uZGl0aW9uYWxIZWlnaHQuYmluZCh0aGlzKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBGcmFtZUxpc3RlbmVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEZyYW1lQ29udHJvbGxlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLCB0aGlzLnVpTW9kZWwpO1xuXG4gICAgICAgIGxldCBsb2FkaW5nU3RhdHVzRnJhbWUgPSBuZXcgTG9hZGluZ1N0YXR1c0ZyYW1lKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwxLCBuZXcgUG9pbnQoMCwxKSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwwKSwgbmV3IFBpeGVsRGltZW5zaW9uKDAsMikpLCBuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCksIHRoaXMudWlNb2RlbCwgdGhpcy5nYW1lTW9kZWwpO1xuXG4gICAgICAgIGxldCB3YmIgPSBuZXcgR3JpZEJ1aWxkZXIoKVxuICAgICAgICB3YmIucHVzaENlbGwoZGV0YWlsTWVudSk7XG4gICAgICAgIHdiYi5wdXNoQ2VsbCh0YWJMaXN0TWVudSk7XG4gICAgICAgIHdiYi5wdXNoQ2VsbChjaGFyYWN0ZXJNZW51KTtcbiAgICAgICAgd2JiLmZpeExheWVyKEdyaWRPcmllbnRhdGlvbi5WZXJ0aWNhbCwgbmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMSwgbmV3IFBvaW50KDAuNSwxKSksIG5ldyBQaXhlbFRyYW5zbGF0aW9uKDAsLTIpKSk7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh3b3JsZEZyYW1lKTtcbiAgICAgICAgbGV0IHVpQnVmZmVyID0gdGhpcy5hZGRDaGlsZChuZXcgRHJhd0J1ZmZlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG4gICAgICAgIHVpQnVmZmVyLmFkZENoaWxkKHdiYi5ncmlkKTtcbiAgICAgICAgdWlCdWZmZXIuYWRkQ2hpbGQocGFydHlTdGF0dXNNZW51KTtcbiAgICAgICAgdWlCdWZmZXIuYWRkQ2hpbGQoYWN0aW9uQmFyTWVudSk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobWluaW1hcCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobG9hZGluZ1N0YXR1c0ZyYW1lKTtcbiAgICAgICAgbG9hZGluZ1N0YXR1c0ZyYW1lLm9wZW4oKTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVRyaWdnZXJzKHdvcmxkRnJhbWUpO1xuICAgICAgICBjaGFyYWN0ZXJNZW51Lm9wZW4oKTtcbiAgICAgICAgdGFiTGlzdE1lbnUub3BlbigpO1xuICAgICAgICBkZXRhaWxNZW51Lm9wZW4oKTtcbiAgICAgICAgd29ybGRGcmFtZS5vcGVuKCk7XG4gICAgICAgIHBhcnR5U3RhdHVzTWVudS5vcGVuKCk7XG4gICAgICAgIC8vbWluaW1hcC5vcGVuKCk7XG4gICAgICAgIGFjdGlvbkJhck1lbnUub3BlbigpO1xuXG4gICAgICAgIHRoaXMudWlNb2RlbC50b29sdGlwLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVUb29sdGlwLmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIHNob3dHYW1lT3Zlck1lbnUoKVxuICAgIHtcbiAgICAgICAgbGV0IGdhbWVPdmVyTWVudSA9IHRoaXMuYWRkQ2hpbGQobmV3IEdhbWVPdmVyTWVudShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBuZXcgR2FtZU92ZXJNZW51TGlzdGVuZXIoKSwgbmV3IEdhbWVPdmVyTWVudUNvbnRyb2xsZXIoKSwgdGhpcy5nYW1lTW9kZWwpKTtcbiAgICAgICAgZ2FtZU92ZXJNZW51Lm9wZW4oKTtcbiAgICB9ICAgXG5cbiAgICBjcmVhdGVUcmlnZ2Vycyh3b3JsZFZpZXdBcmVhKVxuICAgIHtcbiAgICAgICAgbGV0IHdvcmxkRHJhZyA9IHdvcmxkVmlld0FyZWEuYWRkQ2hpbGQobmV3IE1vdXNlRHJhZ1RyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpO1xuICAgICAgICB3b3JsZERyYWcubWluRGlzdGFuY2UgPSBuZXcgUG9pbnQoMTUsMTUpO1xuXG4gICAgICAgIHdvcmxkRHJhZy5vbkRyYWcucHVzaCgodmVjdG9yLCBtb3VzZSwgdG91Y2gsIHRvdWNoSUQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBkb3VibGVUb3VjaCA9IHdvcmxkRHJhZy50b3VjaENvdW50ID4gMTtcbiAgICAgICAgICAgIGlmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgIT09IG51bGwgfHwgKE1hdGguYWJzKHZlY3Rvci55KSA+IE1hdGguYWJzKHZlY3Rvci54KSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCh2ZWN0b3IueSA+IDApICYmICh0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IG51bGwgfHwgdGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuTm9ydGggfHwgdGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuU291dGgpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZHJhZ0Rvd24oLXZlY3Rvci55IC8gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQsIGRvdWJsZVRvdWNoKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgodmVjdG9yLnkgPCAwKSAmJiAodGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBudWxsIHx8IHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLlNvdXRoIHx8IHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLk5vcnRoKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmRyYWdVcCh2ZWN0b3IueSAvIHRoaXMudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24uaGVpZ2h0LCBkb3VibGVUb3VjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy51aU1vZGVsLmRyYWdnaW5nICE9PSBudWxsIHx8IChNYXRoLmFicyh2ZWN0b3IueSkgPCBNYXRoLmFicyh2ZWN0b3IueCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICgodmVjdG9yLnggPiAwKSAmJiAodGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBudWxsIHx8IHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLkVhc3QgfHwgdGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuV2VzdCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC5kcmFnUmlnaHQodmVjdG9yLnggLyB0aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoLCBkb3VibGVUb3VjaCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZlY3Rvci54IDwgMCkgJiYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gbnVsbCB8fCB0aGlzLnVpTW9kZWwuZHJhZ2dpbmcgPT09IEZhY2luZy5XZXN0IHx8IHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLkVhc3QpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZHJhZ0xlZnQoLXZlY3Rvci54IC8gdGhpcy50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi53aWR0aCwgZG91YmxlVG91Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbGFzdERyYWdWZWN0b3IgPSB2ZWN0b3I7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB3b3JsZERyYWcub25FbmREcmFnLnB1c2goKChtb3VzZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyAhPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuU291dGggJiYgdGhpcy5fbGFzdERyYWdWZWN0b3IueSA+IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC5lbmREcmFnVXAod29ybGREcmFnLnRvdWNoQ291bnQpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLk5vcnRoICYmIHRoaXMuX2xhc3REcmFnVmVjdG9yLnkgPCAwKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZW5kRHJhZ0Rvd24od29ybGREcmFnLnRvdWNoQ291bnQpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMudWlNb2RlbC5kcmFnZ2luZyA9PT0gRmFjaW5nLldlc3QgJiYgdGhpcy5fbGFzdERyYWdWZWN0b3IueCA8IDApXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC5lbmREcmFnTGVmdCh3b3JsZERyYWcudG91Y2hDb3VudCk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy51aU1vZGVsLmRyYWdnaW5nID09PSBGYWNpbmcuRWFzdCAmJiB0aGlzLl9sYXN0RHJhZ1ZlY3Rvci54ID4gMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51aU1vZGVsLmVuZERyYWdSaWdodCh3b3JsZERyYWcudG91Y2hDb3VudCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVpTW9kZWwuZW5kRHJhZ1Jlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmJpbmQodGhpcyksIHRoaXMpO1xuXG4gICAgICAgIGxldCBrdCA9IHRoaXMuYWRkQ2hpbGQobmV3IEtleVRyaWdnZXIoKSk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwid1wiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bikucHVzaCh0aGlzLnVpTW9kZWwua2V5Vy5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcImRcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleURvd24pLnB1c2godGhpcy51aU1vZGVsLmtleUQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJhXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlBLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG5cbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJkXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5RFVwLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiYVwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleUFVcC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuXG5cbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJzXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlTLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwicVwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5RG93bikucHVzaCh0aGlzLnVpTW9kZWwua2V5US5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcImVcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlFLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiUGFnZVVwXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlEb3duKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlQZ1VwLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiUGFnZURvd25cIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleURvd24pLnB1c2godGhpcy51aU1vZGVsLmtleVBnRG93bi5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuXG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiZVwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleUUuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJ0XCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5VC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuXG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiQXJyb3dVcFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleVVwLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiQXJyb3dSaWdodFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleVJpZ2h0LmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiQXJyb3dEb3duXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5RG93bi5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIkFycm93TGVmdFwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleUxlZnQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCIwXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5MC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIjFcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXkxLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG5cbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCJvXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5Ty5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIi5cIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlSaWdodENoZXZyb24uYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAga3QuZ2V0S2V5RXZlbnQoXCIsXCIsIEtleVRyaWdnZXJFdmVudHMub25LZXlVcCkucHVzaCh0aGlzLnVpTW9kZWwua2V5TGVmdENoZXZyb24uYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcblxuICAgICAgICBrdC5nZXRLZXlFdmVudChcIi1cIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlNaW51cy5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIl9cIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlVbmRlcnNjb3JlLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiPVwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleUVxdWFscy5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIitcIiwgS2V5VHJpZ2dlckV2ZW50cy5vbktleVVwKS5wdXNoKHRoaXMudWlNb2RlbC5rZXlQbHVzLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGt0LmdldEtleUV2ZW50KFwiblwiLCBLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2godGhpcy51aU1vZGVsLmtleU4uYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcblxuICAgIH1cblxuICAgIHVwZGF0ZVRvb2x0aXAodGV4dDogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgaWYgKHRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvb2x0aXApXG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSB0aGlzLmFkZENoaWxkKG5ldyBUb29sVGlwKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSwgbmV3IFBvaW50KDAuNSwwLjUpKSksIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKDIwMCw0MCkpLCBuZXcgRnJhbWVMaXN0ZW5lcigpLCBuZXcgRnJhbWVDb250cm9sbGVyKCksIHRleHQpKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcC5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy50b29sdGlwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB0b29sdGlwID0gdGhpcy50b29sdGlwO1xuICAgICAgICAgICAgICAgIHRvb2x0aXAuYWRkQ2hpbGQobmV3IFdhaXQoNjAwKSkub25Db21wbGV0ZS5wdXNoKCgpID0+IHRvb2x0aXAub25DbG9zaW5nKCksIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgICAgICBcbiAgICBvbk9wZW4oKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMC4wMTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgVmFsdWVUd2Vlbih0aGlzLCBcIm9wYWNpdHlcIiwgMSwgMTAwMCkpLm9uQ29tcGxldGUucHVzaCh0aGlzLnJlYWR5LmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIG9uUmVhZHkoKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9hY3Rpb25CYXJIZWlnaHRDb25kaXRpb25hbChkaW06IERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGlmIChkaW0ud2lkdGggPCA1MDApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDAsNDIpO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwcm9wID0gKGRpbS53aWR0aC01MDApKjAuMTtcbiAgICAgICAgICAgIHByb3AgPSBNYXRoLm1pbihwcm9wLDIyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMCw0MiArIHByb3ApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcGFydHlTdGF0c1dpZHRoQ29uZGl0aW9uYWwoZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBpZiAoZGltLndpZHRoIDwgNTAwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbig0MiwwKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IChkaW0ud2lkdGgtNTAwKSowLjI7XG4gICAgICAgICAgICBwcm9wID0gTWF0aC5taW4ocHJvcCw1NClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oNDIrcHJvcCwwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX21pbmlNYXBEaW1Db25kaXRpb25hbChkaW06IERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGlmIChkaW0ud2lkdGggPCAzMjApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDEzMCwxMzApO1xuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwcm9wID0gKGRpbS53aWR0aC0zMjApKjAuMjtcbiAgICAgICAgICAgIHByb3AgPSBNYXRoLm1pbihwcm9wLDgwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigxMjArcHJvcCwxMjArcHJvcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF93b3JsZEZyYW1lQ29uZGl0aW9uYWxIZWlnaHQoZGltOiBEaW1lbnNpb24pXG4gICAge1xuICAgICAgICBpZiAoZGltLndpZHRoPCA4MDApXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpeGVsRGltZW5zaW9uKDAsLXRoaXMuY2hhcmFjdGVyTWVudS50cmFuc2Zvcm0uYm91bmRzLmRpbWVuc2lvbi5oZWlnaHQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbmV3IERpbWVuc2lvbigwLDApO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3RhYkxpc3RIZWlnaHRDb25kaXRpb25hbChkaW06RGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgaWYgKGRpbS53aWR0aCA8IDMyMClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMCw0OClcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IChkaW0ud2lkdGgtMzIwKSowLjI7XG4gICAgICAgICAgICBwcm9wID0gTWF0aC5taW4ocHJvcCwyNilcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMCw0OCtwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2RldGFpbE1lbnVIZWlnaHRDb25kaXRpb25hbChkaW06RGltZW5zaW9uKVxuICAgIHtcbiAgICAgICAgaWYgKGRpbS53aWR0aCA8IDMyMClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGl4ZWxEaW1lbnNpb24oMCwxMTApXG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHByb3AgPSAoZGltLndpZHRoLTMyMCkqMC4yO1xuICAgICAgICAgICAgcHJvcCA9IE1hdGgubWluKHByb3AsMTYwKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQaXhlbERpbWVuc2lvbigwLDExMCtwcm9wKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuaW1wb3J0IFJvdW5kZWRSZWN0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUm91bmRlZFJlY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluTWVudUJ1dHRvbiBleHRlbmRzIEJ1dHRvblxue1xuICAgIGJhY2tncm91bmRSZWN0OiBSb3VuZGVkUmVjdDtcblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9jcmVhdGVCdXR0b25Db250ZW50cygpO1xuICAgICAgICBzdXBlci5jcmVhdGUoKTtcbiAgICB9XG5cbiAgICBzZXRJbnRlcmFjdGFibGUodmFsKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGFibGUgPSB2YWw7XG4gICAgICAgIHRoaXMuY29udGVudC5vcGFjaXR5ID0gdmFsID8gMSA6IDAuNTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVCdXR0b25Db250ZW50cygpXG4gICAge1xuICAgICAgICBsZXQgcm91bmRlZG5lc3MgPSAyO1xuICAgICAgICB0aGlzLmJhY2tncm91bmRSZWN0ID0gdGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgXCJncmV5XCIsIHVuZGVmaW5lZCwgMiwgcm91bmRlZG5lc3MpKTtcbiAgICAgICAgdGhpcy5zZXRIb3ZlclJlY3QodGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ3JleVwiLCBcImdyZXlcIiwgMCwgcm91bmRlZG5lc3MpKSk7XG4gICAgICAgIHRoaXMuc2V0UHJlc3NlZFJlY3QodGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWRcIiwgXCJyZWRcIiwgMCwgcm91bmRlZG5lc3MpKSk7XG4gICAgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1Byb3BvcnRpb25hbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgUmVsYXRpdmVEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1JlbGF0aXZlRGltZW5zaW9uXCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgeyBGcmFtZSwgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbFRpcCBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj5cbntcbiAgICB0ZXh0OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczogQm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB0ZXh0OiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcilcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0uYm91bmRzLnJlZmVyZW5jZVdpZHRoID0gMzIwO1xuICAgICAgICBsZXQgYmcgID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgXCJibGFja1wiKSk7XG4gICAgICAgIGJnLm9wYWNpdHkgPSAwLjk7XG4gICAgICAgIGxldCBidXR0b24gPSB0aGlzLmFkZENoaWxkKG5ldyBCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpO1xuICAgICAgICBidXR0b24ub25DbGljay5wdXNoKHRoaXMuY2xvc2UuYmluZCh0aGlzKSwgdGhpcyk7XG5cbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBsZXQgY29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgbGV0IHRiID0gbmV3IFRleHRCdWlsZGVyKHRoaXMudGV4dCwgY29udGV4dDJELCBcIndoaXRlXCIsIDIwLCBcInNlcmlmXCIpO1xuICAgICAgICBsZXQgdGV4dCA9IGJnLmFkZENoaWxkKHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsbmV3IFBvaW50KDAuNSwwLjUpKSkpKTtcbiAgICB9XG5cbiAgICBvbk9wZW4oKVxuICAgIHtcbiAgICAgICAgdGhpcy5vcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgVmFsdWVUd2Vlbih0aGlzLCBcIm9wYWNpdHlcIiwgMSwgNTAwKSkub25Db21wbGV0ZS5wdXNoKHRoaXMucmVhZHkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgb25SZWFkeSgpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAxO1xuICAgIH1cblxuICAgIG9uQ2xvc2luZygpXG4gICAge1xuICAgICAgICB0aGlzLm9wYWNpdHkgPSAxO1xuICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMsIFwib3BhY2l0eVwiLCAwLCA1MDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5jbG9zZS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBvbkNsb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMub3BhY2l0eSA9IDA7XG4gICAgfVxufSIsImltcG9ydCBNYXAgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL01hcFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCB7IEZpbGxSZWN0LCBPdXRsaW5lUmVjdCwgUmVjdCB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvUmVjdFwiO1xuaW1wb3J0IHsgcmFuZG9tQ29sb3VyIH0gZnJvbSBcIi4vTWFpbkZyYW1lXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwsIHsgSGVhbHRoU3RhdGUgfSBmcm9tIFwiLi9tb2RlbC9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IFNwcml0ZSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1Nwcml0ZVwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgU2hhcGUgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9TaGFwZVwiO1xuaW1wb3J0IHsgQ29tYmF0U3RhdGUgfSBmcm9tIFwiLi9tb2RlbC9hY3Rpb24vSW5pdGlhdGl2ZU1vZGVsXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiZW5naW5lL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBXYWl0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXRcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNUeXBlIH0gZnJvbSBcIi4vbW9kZWwvU3RhdHVzXCI7XG5pbXBvcnQgU3BlbGxMaXN0IGZyb20gXCIuL21vZGVsL1NwZWxsTGlzdFwiO1xuaW1wb3J0IE9ic2VydmVyVmFyaWFibGUgZnJvbSBcImVuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGVcIjtcbmltcG9ydCBEZXRhaWxNZW51TW9kZWwgZnJvbSBcIi4vY29yZS11aS1jb21wb25lbnRzL0RldGFpbE1lbnVNb2RlbFwiO1xuaW1wb3J0IFNwZWxsIGZyb20gXCIuL21vZGVsL1NwZWxsXCI7XG5pbXBvcnQgTmV4dEljb25HcmVlbiBmcm9tIFwiYXNzZXRzL3JwZy91aS9uZXh0aWNvbi1ncmVlbi5wbmdcIjtcbmltcG9ydCBOZXh0SWNvblllbGxvdyBmcm9tIFwiYXNzZXRzL3JwZy91aS9uZXh0aWNvbi15ZWxsb3cucG5nXCI7XG5pbXBvcnQgTmV4dEljb25SZWQgZnJvbSBcImFzc2V0cy9ycGcvdWkvbmV4dGljb24tcmVkLnBuZ1wiO1xuXG5pbXBvcnQgU3RhdHVzU2xvdyBmcm9tICBcImFzc2V0cy9ycGcvdWkvc3RhdHVzLXNsb3cucG5nXCI7XG5pbXBvcnQgU3RhdHVzU3RhcnMgZnJvbSAgXCJhc3NldHMvcnBnL3VpL3N0YXR1cy1zdGFycy5wbmdcIjtcbmltcG9ydCBTdGF0dXNEZWFkIGZyb20gIFwiYXNzZXRzL3JwZy91aS9zdGF0dXMtZGVhZC5wbmdcIjtcbmltcG9ydCBTdGF0dXNUb3JjaExpZ2h0IGZyb20gIFwiYXNzZXRzL3JwZy91aS9zdGF0dXMtdG9yY2gtbGlnaHQucG5nXCI7XG5pbXBvcnQgVG9yY2hMaWdodCBmcm9tIFwiLi9tb2RlbC9hY3Rpb24vc3BlbGxzL1RvcmNoTGlnaHRcIjtcbmltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi9tb2RlbC9hY3Rpb24vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi9tb2RlbC9hY3Rpb24vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi9tb2RlbC93b3JsZC9OUENNb2RlbFwiO1xuaW1wb3J0IFdvcmxkT2JqZWN0TW9kZWwgZnJvbSBcIi4vbW9kZWwvd29ybGQvV29ybGRPYmplY3RNb2RlbFwiO1xuaW1wb3J0IFdhbGxNb2RlbCBmcm9tIFwiLi9tb2RlbC93b3JsZC9XYWxsTW9kZWxcIjtcbmltcG9ydCB7IE1vdXNlIH0gZnJvbSBcImVuZ2luZS9pby9Nb3VzZVwiO1xuaW1wb3J0IERvb3JNb2RlbCBmcm9tIFwiLi9tb2RlbC93b3JsZC9Eb29yTW9kZWxcIjtcbmltcG9ydCB7IEZhY2luZyB9IGZyb20gXCIuL21vZGVsL1BsYXllck1vZGVsXCI7XG5pbXBvcnQgeyB0aW1pbmdTYWZlRXF1YWwgfSBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNb2RlbFxue1xuICAgIG1hcDogTWFwO1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuXG4gICAgb25DaGFyYWN0ZXJTZWxlY3RlZDogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbiAgICBjdXJyZW50RGV0YWlsTWVudTogT2JzZXJ2ZXJWYXJpYWJsZTxEZXRhaWxNZW51TW9kZWw+ID0gbmV3IE9ic2VydmVyVmFyaWFibGU8RGV0YWlsTWVudU1vZGVsPihudWxsKTtcblxuICAgIGJhY2tncm91bmRDb2xvdXI6IHN0cmluZyA9IFwiI2YzZTdkN1wiO1xuICAgIGhvbGREdXJhdGlvbjogbnVtYmVyID0gMjAwO1xuICAgIHpvb21Ib2xkRHVyYXRpb246IG51bWJlciA9IDEwMDtcbiAgICB0b29sdGlwOiBPYnNlcnZlclZhcmlhYmxlPHN0cmluZz47XG4gICAgem9vbWVkVmlldzogYm9vbGVhbjtcblxuICAgIGRyYWdnaW5nOiBGYWNpbmcgPSBudWxsO1xuICAgIHByaXZhdGUgX2ZhY2luZ0F0RHJhZ1N0YXJ0OiBGYWNpbmc7XG4gICAgcHJpdmF0ZSBfcG9zaXRpb25BdERyYWdTdGFydDogUG9pbnQzO1xuICAgIHByaXZhdGUgX3ZEcmFnRGlzdGFuY2U6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfdkRyYWdSZXF1aXJlZDogbnVtYmVyID0gMC4xO1xuICAgIHByaXZhdGUgX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGdhbWVNb2RlbDogR2FtZU1vZGVsLCBtYXA6IE1hcClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLm1hcCA9IG1hcFxuXG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci5vblVwZGF0ZS5wdXNoKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5vbkNoYXJhY3RlclNlbGVjdGVkLmNhbGwoKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHRoaXMudG9vbHRpcCA9IG5ldyBPYnNlcnZlclZhcmlhYmxlPHN0cmluZz4obnVsbCk7XG4gICAgfVxuXG5cbiAgICBnZXQgc2VsZWN0ZWRDaGFyYWN0ZXIoKSB7IHJldHVybiB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLndhaXRpbmdDaGFyYWN0ZXIudmFsdWU7IH1cblxuICAgIGdldCBtYXBSb3RhdGlvbigpIHsgcmV0dXJuIHRoaXMuZ2FtZU1vZGVsLnBsYXllci5yb3RhdGlvbjsgfVxuXG4gICAgZHJhZ0Rvd24oZGlzdGFuY2U6IG51bWJlciwgZG91YmxlVG91Y2g6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBkaXN0YW5jZSA9IE1hdGgubWluKGRpc3RhbmNlLCAwLjEpXG4gICAgICAgIGlmICghdGhpcy56b29tZWRWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0ID0gdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKGRvdWJsZVRvdWNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5GbHkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlVXB3YXJkKGRpc3RhbmNlKjMpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZEcmFnRGlzdGFuY2UgKz0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl92RHJhZ0Rpc3RhbmNlID49IHRoaXMuX3ZEcmFnUmVxdWlyZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmp1bXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZEcmFnRGlzdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlRm9yd2FyZChkaXN0YW5jZSozKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBGYWNpbmcuU291dGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmFnVXAoZGlzdGFuY2U6IG51bWJlciwgZG91YmxlVG91Y2g6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBkaXN0YW5jZSA9IE1hdGgubWluKGRpc3RhbmNlLCAwLjEpXG4gICAgICAgIGlmICghdGhpcy56b29tZWRWaWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0ID0gdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKGRvdWJsZVRvdWNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnhdW3RoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi55XVt0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24uel07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5GbHkgJiYgY2VsbC5mbG9vcldhbGwucGFzc2FibGUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlRG93bndhcmQoZGlzdGFuY2UqMyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNlbGwuZmxvb3JXYWxsLnBhc3NhYmxlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdkRyYWdEaXN0YW5jZSAtPSBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ZEcmFnRGlzdGFuY2UgPD0gLXRoaXMuX3ZEcmFnUmVxdWlyZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmNyb3VjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdkRyYWdEaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc2xpZGVCYWNrd2FyZChkaXN0YW5jZSozKTtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBGYWNpbmcuTm9ydGg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmFnTGVmdChkaXN0YW5jZTogbnVtYmVyLCBkb3VibGVUb3VjaDogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGRpc3RhbmNlID0gTWF0aC5taW4oZGlzdGFuY2UsIDAuMSlcbiAgICAgICAgaWYgKCF0aGlzLnpvb21lZFZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZhY2luZ0F0RHJhZ1N0YXJ0ID0gdGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZztcbiAgICAgICAgICAgIGlmIChkb3VibGVUb3VjaClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2luZyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQgPSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnNsaWRlUmlnaHQoLWRpc3RhbmNlKjMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnJvdGF0ZVJpZ2h0KC1kaXN0YW5jZSooTWF0aC5QSS8yKSk7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gRmFjaW5nLldlc3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZHJhZ1JpZ2h0KGRpc3RhbmNlOiBudW1iZXIsIGRvdWJsZVRvdWNoOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgZGlzdGFuY2UgPSBNYXRoLm1pbihkaXN0YW5jZSwgMC4xKVxuICAgICAgICBpZiAoIXRoaXMuem9vbWVkVmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgdGhpcy5fZmFjaW5nQXREcmFnU3RhcnQgPSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nO1xuICAgICAgICAgICAgaWYgKGRvdWJsZVRvdWNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnaW5nID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcG9zaXRpb25BdERyYWdTdGFydCA9IHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc2xpZGVMZWZ0KC1kaXN0YW5jZSozKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5yb3RhdGVMZWZ0KC1kaXN0YW5jZSooTWF0aC5QSS8yKSk7XG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gRmFjaW5nLkVhc3Q7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnRG93bih0b3VjaENvdW50OiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodG91Y2hDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2ggJiYgdGhpcy5fcG9zaXRpb25BdERyYWdTdGFydC5lcXVhbHModGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uKSlcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5tb3ZlRm9yd2FyZCgpO1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuRmx5ICYmIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQuZXF1YWxzKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmhvdmVyVXAoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmp1bXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5kRHJhZ1Jlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnVXAodG91Y2hDb3VudDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRvdWNoQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoICYmIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQuZXF1YWxzKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbikpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwubW92ZUJhY2t3YXJkKCk7XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLl9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2gpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnhdW3RoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi55XVt0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24uel07XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkZseSAmJiBjZWxsLmZsb29yV2FsbC5wYXNzYWJsZSAmJiB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0LmVxdWFscyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5ob3ZlckRvd24oKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmNyb3VjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmREcmFnUmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZERyYWdMZWZ0KHRvdWNoQ291bnQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICAodG91Y2hDb3VudCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9kcmFnU3RhcnRlZEFzRG91YmxlVG91Y2ggJiYgdGhpcy5fZmFjaW5nQXREcmFnU3RhcnQgPT09IHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcpXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9ICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nICsgOCAtMSkgJSA4O1xuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoICYmIHRoaXMuX3Bvc2l0aW9uQXREcmFnU3RhcnQuZXF1YWxzKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbikpXG4gICAgICAgICAgICB7ICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnN0cmFmZUxlZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZW5kRHJhZ1Jlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmREcmFnUmlnaHQodG91Y2hDb3VudDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRvdWNoQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoICYmIHRoaXMuX2ZhY2luZ0F0RHJhZ1N0YXJ0ID09PSB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcgPSAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyArIDEpICUgODtcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2RyYWdTdGFydGVkQXNEb3VibGVUb3VjaCAmJiB0aGlzLl9wb3NpdGlvbkF0RHJhZ1N0YXJ0LmVxdWFscyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pKVxuICAgICAgICAgICAgeyAgICBcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zdHJhZmVSaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmREcmFnUmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuZERyYWdSZXNldCgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuem9vbWVkVmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucmVzZXRSb3RhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucmVzZXRQb3NpdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl92RHJhZ0Rpc3RhbmNlID0gMDtcbiAgICAgICAgdGhpcy5fZHJhZ1N0YXJ0ZWRBc0RvdWJsZVRvdWNoID0gZmFsc2U7XG4gICAgfVxuXG4gICAga2V5VygpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLm1vdmVGb3J3YXJkKCk7IH1cbiAgICBrZXlBKGRlbHRhOiBudW1iZXIpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLnR1cm5MZWZ0KCk7IH1cbiAgICBrZXlEKGRlbHRhOiBudW1iZXIpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLnR1cm5SaWdodCgpOyB9XG4gICAga2V5QVVwKCkgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwucmVzZXRSb3RhdGlvbigpOyB9XG4gICAga2V5RFVwKCkgeyBpZiAoIXRoaXMuem9vbWVkVmlldykgdGhpcy5nYW1lTW9kZWwucmVzZXRSb3RhdGlvbigpOyB9XG4gICAga2V5UygpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLm1vdmVCYWNrd2FyZCgpOyB9XG4gICAga2V5USgpIHsgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLnN0cmFmZUxlZnQoKTsgfVxuICAgIGtleUUoKSB7IGlmICghdGhpcy56b29tZWRWaWV3KSB0aGlzLmdhbWVNb2RlbC5zdHJhZmVSaWdodCgpOyB9XG4gICAga2V5UigpXG4gICAgeyBcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5ucGNzWzBdOyAgICBcbiAgICAgICAgbGV0IGFjdGlvbiA9IHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZS5hdmFpbGFibGVBY3Rpb25zKHRhcmdldClbMF07XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBlcmZvcm1BY3Rpb24odGFyZ2V0LCBhY3Rpb24pO1xuICAgIH1cbiAgICBrZXlUKClcbiAgICB7IFxuICAgICAgICB0aGlzLmdhbWVNb2RlbC5jYXN0U3BlbGwobmV3IFRvcmNoTGlnaHQoXCJUb3JjaCBMaWdodFwiLCBudWxsLCB0aGlzLmdhbWVNb2RlbCksIG51bGwpO1xuICAgIH1cblxuICAgIGtleVVwKCkgeyBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkxldmVsRWRpdCkgdGhpcy5nYW1lTW9kZWwudG9nZ2xlV2FsbEZyb250KCk7IH1cbiAgICBrZXlSaWdodCgpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxSaWdodCgpOyB9XG4gICAga2V5RG93bigpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxCZWhpbmQoKTsgfVxuICAgIGtleUxlZnQoKSB7IGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuTGV2ZWxFZGl0KSB0aGlzLmdhbWVNb2RlbC50b2dnbGVXYWxsTGVmdCgpOyB9XG4gICAga2V5MSgpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxBYm92ZSgpOyB9XG4gICAga2V5MCgpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpIHRoaXMuZ2FtZU1vZGVsLnRvZ2dsZVdhbGxCZWxvdygpOyB9XG5cbiAgICBrZXlQZ1VwKCkgeyBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmNhbkZseSkgaWYgKCF0aGlzLnpvb21lZFZpZXcpIHRoaXMuZ2FtZU1vZGVsLmhvdmVyVXAoKTsgfVxuICAgIGtleVBnRG93bigpIHsgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5GbHkpIGlmICghdGhpcy56b29tZWRWaWV3KSB0aGlzLmdhbWVNb2RlbC5ob3ZlckRvd24oKTsgfVxuXG4gICAga2V5TygpIHsgdGhpcy5nYW1lTW9kZWwuc2F2ZSgpOyB9XG4gICAga2V5UmlnaHRDaGV2cm9uKClcbiAgICB7IFxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsSUQgPCB0aGlzLmdhbWVNb2RlbC53b3JsZC5sZXZlbHMubGVuZ3RoLTEpXG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5zd2l0Y2hMZXZlbCh0aGlzLmdhbWVNb2RlbC53b3JsZC5sZXZlbHNbdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsSUQrMV0pO1xuICAgIH1cbiAgICBrZXlMZWZ0Q2hldnJvbigpXG4gICAgeyBcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbElEID4gMClcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnN3aXRjaExldmVsKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmxldmVsc1t0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWxJRC0xXSk7XG4gICAgfVxuXG4gICAga2V5TWludXMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuY3VycmVudFBhaW50SUQtLTtcbiAgICB9XG4gICAga2V5RXF1YWxzKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmN1cnJlbnRQYWludElEKys7XG4gICAgfVxuICAgIGtleVVuZGVyc2NvcmUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuY3VycmVudFBhaW50SUQtPTEwO1xuICAgIH1cbiAgICBrZXlQbHVzKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmN1cnJlbnRQYWludElEKz0xMDtcbiAgICB9XG4gICAga2V5TigpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24pXG4gICAgfVxuXG4gICAgd29ybGRDbGljayh0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudG9vbHRpcC52YWx1ZSAhPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcC52YWx1ZSA9IG51bGw7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUgIT09IG51bGwpXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID0gbnVsbDtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgYWN0aW9uUmVzdWx0OiBBY3Rpb25SZXN1bHRNb2RlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLnBsYXllckNhbkFjdClcbiAgICAgICAgICAgIHsgICBcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5jYW5MZXZlbEVkaXQpICYmICh0YXJnZXQgaW5zdGFuY2VvZiBXYWxsTW9kZWwpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFpbnRXYWxsKHRhcmdldClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGFyZ2V0IGluc3RhbmNlb2YgTlBDTW9kZWwgfHwgdGFyZ2V0IGluc3RhbmNlb2YgV29ybGRPYmplY3RNb2RlbCB8fCB0YXJnZXQgaW5zdGFuY2VvZiBEb29yTW9kZWwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYWN0aW9ucyA9IHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZS5hdmFpbGFibGVBY3Rpb25zKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb25zLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25SZXN1bHQgPSB0aGlzLmdhbWVNb2RlbC5wZXJmb3JtQWN0aW9uKHRhcmdldCwgYWN0aW9uc1swXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGlvblJlc3VsdClcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5hcHBseUFjdGlvblJlc3VsdChhY3Rpb25SZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgd29ybGRIb2xkKHpvb21WaWV3OiAobW91c2UpID0+IHZvaWQsIG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIHRoaXMuem9vbWVkVmlldyA9IHRydWU7XG4gICAgICAgIHpvb21WaWV3KG1vdXNlKTtcbiAgICB9XG5cbiAgICB3b3JsZFJlbGVhc2VIb2xkKHVuem9vbVZpZXc6ICgpID0+IHZvaWQpXG4gICAge1xuICAgICAgICB0aGlzLnpvb21lZFZpZXcgPSBmYWxzZTtcbiAgICAgICAgdW56b29tVmlldygpO1xuICAgIH1cblxuICAgIGNsaWNrQ2hhcmFjdGVyUG9ydHJhaXQoYzogQ2hhcmFjdGVyTW9kZWwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlICE9PSBjKVxuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuc3dpdGNoQ2hhcmFjdGVyKGMpXG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBob2xkQ2hhcmFjdGVyUG9ydHJhaXQoYzogQ2hhcmFjdGVyTW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBjLmZ1bGxOYW1lO1xuICAgIH1cblxuICAgIHJlbGVhc2VIb2xkKClcbiAgICB7XG4gICAgICAgIHRoaXMudG9vbHRpcC52YWx1ZSA9IG51bGw7XG4gICAgfVxuXG4gICAgY2xpY2tRdWlja0l0ZW1zVGFiQnV0dG9uKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5zZXREZXRhaWxNZW51KCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUuc3BlbGxMaXN0KVxuICAgICAgICAgICAgdGhpcy5zZXREZXRhaWxNZW51KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuaGlkZURldGFpbE1lbnUoKTtcbiAgICAgICAgICAgICAgICBcbiAgICB9XG5cbiAgICBob2xkUXVpY2tJdGVtc1RhYkJ1dHRvbigpXG4gICAge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBcIlF1aWNrIGl0ZW1zXCI7XG4gICAgfVxuXG4gICAgY2xpY2tTcGVsbExpc3RUYWJCdXR0b24obDogU3BlbGxMaXN0KVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICB0aGlzLnNldERldGFpbE1lbnUobCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUuc3BlbGxMaXN0ICE9PSBsKVxuICAgICAgICAgICAgdGhpcy5zZXREZXRhaWxNZW51KGwpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmhpZGVEZXRhaWxNZW51KCk7XG4gICAgfVxuXG4gICAgaG9sZFNwZWxsTGlzdFRhYkJ1dHRvbihsOiBTcGVsbExpc3QpXG4gICAge1xuICAgICAgICB0aGlzLnRvb2x0aXAudmFsdWUgPSBsLm5hbWUgKyBcIiBzcGVsbHNcIjtcbiAgICB9XG5cbiAgICBjbGlja1NwZWxsQnV0dG9uKHM6IFNwZWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHMudGVzdCh0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyLCBudWxsKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHMucmVxdWlyZVRhcmdldClcbiAgICAgICAgICAgICAgICB0aGlzLmFjcXVpcmVUYXJnZXQocyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuY2FzdFNwZWxsKHMsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50RGV0YWlsTWVudS52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgaG9sZFNwZWxsQnV0dG9uKHM6IFNwZWxsKVxuICAgIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gcy5uYW1lO1xuICAgIH1cblxuICAgIGhvbGRTdGF0dXNJY29uKHN0YXR1czogU3RhdHVzKVxuICAgIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gc3RhdHVzLm5hbWU7XG4gICAgfVxuXG4gICAgaG9sZE1pbmlNYXAoKVxuICAgIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gXCJEYXRlL1RpbWVcIlxuICAgIH1cblxuICAgIGhvbGRMZXZlbE5hbWVUZXh0KClcbiAgICB7XG4gICAgICAgIHRoaXMudG9vbHRpcC52YWx1ZSA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5uYW1lXG4gICAgfVxuXG4gICAgaG9sZENoYXJhY3RlclNoZWV0TWVudUljb24oKVxuICAgIHtcbiAgICAgICAgdGhpcy50b29sdGlwLnZhbHVlID0gXCJTaG93IGNoYXJhY3RlciBzaGVldHNcIjtcbiAgICB9XG5cbiAgICBhY3F1aXJlVGFyZ2V0KHNwZWxsOiBTcGVsbClcbiAgICB7XG5cbiAgICB9XG5cbiAgICBnZXRDaGFyYWN0ZXJQb3J0cmFpdEltYWdlKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUocG9zaXRpb24sIGJvdW5kcywgdGhpcy5nYW1lTW9kZWwuZGF0YS5wb3J0cmFpdHNbY2hhcmFjdGVyTW9kZWwuY2hhcmFjdGVyRGF0YS5wb3J0cmFpdF0uZmlsZW5hbWUpO1xuICAgIH1cblxuICAgIGdldENoYXJhY3RlclNlbGVjdGVkSGlnaGxpZ2h0KHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IHNoID0gbmV3IE91dGxpbmVSZWN0KHBvc2l0aW9uLCBib3VuZHMsIFwieWVsbG93XCIsIDIpO1xuICAgICAgICBzaC52aXNpYmxlID0gdGhpcy5zZWxlY3RlZENoYXJhY3RlciA9PT0gY2hhcmFjdGVyTW9kZWw7XG4gICAgICAgIHRoaXMub25DaGFyYWN0ZXJTZWxlY3RlZC5wdXNoKCgoKSA9PiBzaC52aXNpYmxlID0gdGhpcy5zZWxlY3RlZENoYXJhY3RlciA9PT0gY2hhcmFjdGVyTW9kZWwpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICByZXR1cm4gc2g7XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVyTmV4dEhpZ2hsaWdodChwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbClcbiAgICB7XG4gICAgICAgIGxldCBncm91cCA9IG5ldyBHYW1lT2JqZWN0KHBvc2l0aW9uLCBib3VuZHMpXG4gICAgICAgIGxldCBnID0gbmV3IFNwcml0ZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBOZXh0SWNvbkdyZWVuKTtcbiAgICAgICAgbGV0IHkgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIE5leHRJY29uWWVsbG93KTtcbiAgICAgICAgbGV0IHIgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIE5leHRJY29uUmVkKTtcbiAgICAgICAgZ3JvdXAuYWRkQ2hpbGQoZyk7XG4gICAgICAgIGdyb3VwLmFkZENoaWxkKHkpO1xuICAgICAgICBncm91cC5hZGRDaGlsZChyKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS5vblVwZGF0ZS5wdXNoKCh2YWwpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBnLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIHkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5HcmVlbilcbiAgICAgICAgICAgICAgICBnLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5ZZWxsb3cpXG4gICAgICAgICAgICAgICAgeS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHZhbCA9PT0gQ29tYmF0U3RhdGUuUmVkKVxuICAgICAgICAgICAgICAgIHIudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBncm91cC5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgZy52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICByLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUuY29tYmF0U3RhdGUudmFsdWUgPT09IENvbWJhdFN0YXRlLkdyZWVuKVxuICAgICAgICAgICAgZy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuWWVsbG93KVxuICAgICAgICAgICAgeS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuUmVkKVxuICAgICAgICAgICAgci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLm9uVXBkYXRlLnB1c2goKCh2YWwpID0+IGdyb3VwLnZpc2libGUgPSB2YWwgPT09IGNoYXJhY3Rlck1vZGVsKS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgZ3JvdXAudmlzaWJsZSA9IHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZSA9PT0gY2hhcmFjdGVyTW9kZWw7XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBnZXRDaGFyYWN0ZXJXYWl0aW5nSGlnaGxpZ2h0KHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgXG4gICAgICAgIGxldCBncm91cCA9IG5ldyBGaWxsUmVjdChwb3NpdGlvbiwgYm91bmRzLCBcImdyZWVuXCIpXG4gICAgICAvLyAgbGV0IGcgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFdhaXRpbmdJY29uR3JlZW4pO1xuICAgICAgLy8gIGxldCB5ID0gbmV3IFNwcml0ZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBXYWl0aW5nSWNvblllbGxvdyk7XG4gICAgICAgIC8vbGV0IHIgPSBuZXcgU3ByaXRlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFdhaXRpbmdJY29uUmVkKTtcbiAgICAgICAvLyBncm91cC5hZGRDaGlsZChnKTtcbiAgICAgICAgLy9ncm91cC5hZGRDaGlsZCh5KTtcbiAgICAgICAvLyBncm91cC5hZGRDaGlsZChyKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS5vblVwZGF0ZS5wdXNoKCh2YWwpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgIC8vIGcudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAvLyB5LnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgLy8gci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5HcmVlbilcbiAgICAgICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcImdyZWVuXCJcbiAgICAgICAgICAgLy8gICAgIGcudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICBlbHNlIGlmICh2YWwgPT09IENvbWJhdFN0YXRlLlllbGxvdylcbiAgICAgICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcInllbGxvd1wiXG4gICAgICAgICAgICAvLyAgICB5LnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgZWxzZSBpZiAodmFsID09PSBDb21iYXRTdGF0ZS5SZWQpXG4gICAgICAgICAgICAgICAgZ3JvdXAuZmlsbFN0eWxlID0gXCJyZWRcIlxuICAgICAgICAgICAgLy8gICAgci52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdyb3VwLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgIC8vIGcudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgLy8gIHkudmlzaWJsZSA9IGZhbHNlO1xuICAgICAvLyAgIHIudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuR3JlZW4pXG4gICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcImdyZWVuXCJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuWWVsbG93KVxuICAgICAgICAgICAgZ3JvdXAuZmlsbFN0eWxlID0gXCJ5ZWxsb3dcIlxuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLmNvbWJhdFN0YXRlLnZhbHVlID09PSBDb21iYXRTdGF0ZS5SZWQpXG4gICAgICAgICAgICBncm91cC5maWxsU3R5bGUgPSBcInJlZFwiXG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3RlcnMub25VcGRhdGUucHVzaCgoKHZhbCkgPT4gZ3JvdXAudmlzaWJsZSA9IHZhbC5pbmRleE9mKGNoYXJhY3Rlck1vZGVsKSAhPT0gLTEpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBncm91cC52aXNpYmxlID0gdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVycy52YWx1ZS5pbmRleE9mKGNoYXJhY3Rlck1vZGVsKSAhPT0gLTE7XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG5cbiAgICBnZXRDaGFyYWN0ZXJIaXRGaWx0ZXIocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwpXG4gICAge1xuICAgICAgICBsZXQgaGl0RmlsdGVyID0gbmV3IEZpbGxSZWN0KHBvc2l0aW9uLCBib3VuZHMsIFwicmVkXCIpO1xuICAgICAgICBoaXRGaWx0ZXIub3BhY2l0eSA9IDAuNTtcbiAgICAgICAgaGl0RmlsdGVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgY2hhcmFjdGVyTW9kZWwub25UYWtlRGFtYWdlLnB1c2goKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaGl0RmlsdGVyLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgaGl0RmlsdGVyLmFkZENoaWxkKG5ldyBXYWl0KDMwMCkpLm9uQ29tcGxldGUucHVzaCgoKSA9PiBoaXRGaWx0ZXIudmlzaWJsZSA9IGZhbHNlLCB0aGlzKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBoaXRGaWx0ZXI7XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVySFBCYXIocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBjaGFyYWN0ZXJNb2RlbDogQ2hhcmFjdGVyTW9kZWwpXG4gICAge1xuICAgICAgICBsZXQgcGFyZW50ID0gbmV3IFJlY3QocG9zaXRpb24sIGJvdW5kcywgXCJibGFja1wiLCBcIiNmM2U3ZDdcIiwgMSk7XG4gICAgICAgIGxldCBocFByb3BvcnRpb24gPSBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMSk7XG4gICAgICAgIGhwUHJvcG9ydGlvbi5wcmVzZXJ2ZSA9IHRydWU7XG4gICAgICAgIGxldCBjaGlsZCA9IG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwxLCBuZXcgUG9pbnQoMC41LDEpKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDApLCBocFByb3BvcnRpb24pLCBcImdyZWVuXCIpO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uZml4ZWQgPSBmYWxzZTtcbiAgICAgICAgY2hhcmFjdGVyTW9kZWwuaGl0cG9pbnRzLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVIUFN0YXRlLmJpbmQodGhpcywgY2hhcmFjdGVyTW9kZWwsIGNoaWxkLCBocFByb3BvcnRpb24pLCB0aGlzKTtcbiAgICAgICAgY2hhcmFjdGVyTW9kZWwubWF4SGl0cG9pbnRzLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVIUFN0YXRlLmJpbmQodGhpcywgY2hhcmFjdGVyTW9kZWwsIGNoaWxkLCBocFByb3BvcnRpb24pLCB0aGlzKTtcbiAgICAgICAgY2hhcmFjdGVyTW9kZWwuaGVhbHRoU3RhdGUub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZUhQU3RhdGUuYmluZCh0aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIGhwUHJvcG9ydGlvbiksIHRoaXMpO1xuICAgICAgICBwYXJlbnQuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cblxuICAgIGdldENoYXJhY3Rlck1hbmFCYXIocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCAgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IHBhcmVudCA9IG5ldyBSZWN0KHBvc2l0aW9uLCBib3VuZHMsIFwiYmxhY2tcIiwgXCIjZjNlN2Q3XCIsIDEpO1xuICAgICAgICBsZXQgbWFuYVByb3BvcnRpb24gPSBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMSk7XG4gICAgICAgIG1hbmFQcm9wb3J0aW9uLnByZXNlcnZlID0gdHJ1ZTtcbiAgICAgICAgbGV0IGNoaWxkID0gbmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDEsIG5ldyBQb2ludCgwLjUsMSkpKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMCksIG1hbmFQcm9wb3J0aW9uKSwgXCJibHVlXCIpO1xuICAgICAgICBjaGlsZC50cmFuc2Zvcm0uZml4ZWQgPSBmYWxzZTtcbiAgICAgICAgLy9jaGFyYWN0ZXJNb2RlbC5tYW5hLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGV1cGRhdGVNYW5hU3RhdGVTdGF0ZS50aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIG1hbmFQcm9wb3J0aW9uKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgLy9jaGFyYWN0ZXJNb2RlbC5tYXhNYW5hLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVNYW5hU3RhdGUuYmluZCh0aGlzLCBjaGFyYWN0ZXJNb2RlbCwgY2hpbGQsIG1hbmFQcm9wb3J0aW9uKSwgdGhpcyk7XG4gICAgICAgIHBhcmVudC5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuXG4gICAgZ2V0U3RhdHVzSWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIHN0YXR1czogU3RhdHVzKVxuICAgIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lO1xuICAgICAgICBpZiAoc3RhdHVzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuRGVhZClcbiAgICAgICAgICAgIGZpbGVuYW1lID0gU3RhdHVzRGVhZFxuICAgICAgICBpZiAoc3RhdHVzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuU2xvdylcbiAgICAgICAgICAgIGZpbGVuYW1lID0gU3RhdHVzU2xvd1xuICAgICAgICBpZiAoc3RhdHVzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuVG9yY2hMaWdodClcbiAgICAgICAgICAgIGZpbGVuYW1lID0gU3RhdHVzVG9yY2hMaWdodFxuXG4gICAgICAgIGlmIChmaWxlbmFtZSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHBvc2l0aW9uLCBib3VuZHMsIGZpbGVuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5ldyBPdXRsaW5lUmVjdChwb3NpdGlvbiwgYm91bmRzLCByYW5kb21Db2xvdXIoKSwgMSlcbiAgICB9XG5cbiAgICB1cGRhdGVIUFN0YXRlKGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbCwgaHBCYXI6IFNoYXBlLCBocFByb3BvcnRpb246IFByb3BvcnRpb25hbERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIGlmIChjaGFyYWN0ZXJNb2RlbC5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuTm9ybWFsKVxuICAgICAgICB7XG4gICAgICAgICAgICBocFByb3BvcnRpb24uaGVpZ2h0ID0gTWF0aC5tYXgoMCxjaGFyYWN0ZXJNb2RlbC5oaXRwb2ludHMudmFsdWUvY2hhcmFjdGVyTW9kZWwubWF4SGl0cG9pbnRzLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChocFByb3BvcnRpb24uaGVpZ2h0IDwgMC4zMylcbiAgICAgICAgICAgICAgICBocEJhci5maWxsU3R5bGUgPSBcInJlZFwiO1xuICAgICAgICAgICAgZWxzZSBpZiAoaHBQcm9wb3J0aW9uLmhlaWdodCA8IDAuNSlcbiAgICAgICAgICAgICAgICBocEJhci5maWxsU3R5bGUgPSBcInllbGxvd1wiO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGhwQmFyLmZpbGxTdHlsZSA9IFwiZ3JlZW5cIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGFyYWN0ZXJNb2RlbC5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuVW5jb25zaW91cylcbiAgICAgICAge1xuICAgICAgICAgICAgaHBQcm9wb3J0aW9uLmhlaWdodCA9IE1hdGgubWluKDEsLWNoYXJhY3Rlck1vZGVsLmhpdHBvaW50cy52YWx1ZS9jaGFyYWN0ZXJNb2RlbC5tYXhIaXRwb2ludHMudmFsdWUpO1xuICAgICAgICAgICAgaHBCYXIuZmlsbFN0eWxlID0gXCJncmV5XCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBocFByb3BvcnRpb24uaGVpZ2h0ID0gMTtcbiAgICAgICAgICAgIGhwQmFyLmZpbGxTdHlsZSA9IHVuZGVmaW5lZFxuICAgICAgICB9XG5cbiAgICAgICAgaHBCYXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVNYW5hU3RhdGUoY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsLCBtYW5hQmFyOiBTaGFwZSwgbWFuYVByb3BvcnRpb246IFByb3BvcnRpb25hbERpbWVuc2lvbilcbiAgICB7XG4gICAgICAgIG1hbmFQcm9wb3J0aW9uLmhlaWdodCA9IE1hdGgubWF4KDAsY2hhcmFjdGVyTW9kZWwubWFuYS9jaGFyYWN0ZXJNb2RlbC5tYXhNYW5hKTtcbiAgICAgICAgbWFuYUJhci5maWxsU3R5bGUgPSBcImJsdWVcIjtcblxuICAgICAgICBpZiAoY2hhcmFjdGVyTW9kZWwuaGVhbHRoU3RhdGUudmFsdWUgPT09IEhlYWx0aFN0YXRlLkRlYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1hbmFQcm9wb3J0aW9uLmhlaWdodCA9IDE7XG4gICAgICAgICAgICBtYW5hQmFyLmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1hbmFCYXIucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cblxuICAgIGdldENoYXJhY3RlclRhYnMoY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsKTogR2FtZU9iamVjdFtdXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZ2V0Q2hhcmFjdGVyU2hlZXRNZW51SWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCB0aGlzLmdhbWVNb2RlbC5kYXRhLnVpLmNoYXJTaGVldEljb24pO1xuICAgIH1cblxuICAgIGdldFF1aWNrSXRlbVRhYkljb24ocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUocG9zaXRpb24sIGJvdW5kcywgdGhpcy5nYW1lTW9kZWwuZGF0YS51aS5xdWlja0l0ZW1UYWJJY29uKTtcbiAgICB9XG5cbiAgICBnZXRTcGVsbExpc3RUYWJJY29uKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgc3BlbGxMaXN0OiBTcGVsbExpc3QpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFNwcml0ZShwb3NpdGlvbiwgYm91bmRzLCBzcGVsbExpc3QuaWNvbik7XG4gICAgfVxuXG4gICAgc2V0RGV0YWlsTWVudShzcGVsbExpc3Q/OiBTcGVsbExpc3QpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlID0gbmV3IERldGFpbE1lbnVNb2RlbChzcGVsbExpc3QpO1xuICAgIH1cblxuICAgIGhpZGVEZXRhaWxNZW51KClcbiAgICB7XG4gICAgICAgIHRoaXMuY3VycmVudERldGFpbE1lbnUudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIGdldFNwZWxsSWNvbihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIHNwZWxsOiBTcGVsbClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHBvc2l0aW9uLCBib3VuZHMsIHNwZWxsLmljb24pO1xuICAgIH1cblxuICAgIGdldEFuaW1XYWl0SG91cmdsYXNzKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcylcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgU3ByaXRlKHBvc2l0aW9uLCBib3VuZHMsIHRoaXMuZ2FtZU1vZGVsLmRhdGEudWkuaG91cmdsYXNzSWNvbik7IFxuICAgIH1cbn0iLCJpbXBvcnQgeyBGcmFtZSwgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFRleHQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRcIjtcbmltcG9ydCBQcmVzc0hvbGRUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9QcmVzc0hvbGRUcmlnZ2VyXCI7XG5pbXBvcnQgQnV0dG9uIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9CdXR0b25cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBBbmltYXRpb24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vQW5pbWF0aW9uXCI7XG5pbXBvcnQgV2FpdCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XYWl0XCI7XG5pbXBvcnQgVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9WYWx1ZVR3ZWVuXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuL21vZGVsL0dhbWVNb2RlbFwiO1xuaW1wb3J0IHsgTW91c2UgfSBmcm9tIFwiZW5naW5lL2lvL01vdXNlXCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi9VSU1vZGVsXCI7XG5pbXBvcnQgeyBUcmVlVXRpbHMgfSBmcm9tIFwiZW5naW5lL1RyZWVVdGlsc1wiO1xuaW1wb3J0IFNjZW5lIGZyb20gXCIuL3NjZW5ldmlldy9TY2VuZVwiO1xuaW1wb3J0IExvYWRpbmdCYXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0xvYWRpbmdCYXJcIjtcbmltcG9ydCBLZXlUcmlnZ2VyLCB7IEtleVRyaWdnZXJFdmVudHMgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvS2V5VHJpZ2dlclwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JsZEZyYW1lIGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lcixGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgcHJpdmF0ZSBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBwcml2YXRlIHRocmVlQnVmZmVyOiBTY2VuZTtcbiAgICBwcml2YXRlIHVpTW9kZWw6IFVJTW9kZWw7XG5cbiAgICBwcml2YXRlIGRlZmF1bHRGT1YgPSA1MjtcbiAgICBcbiAgICBwcml2YXRlIGluZm9UZXh0OiBUZXh0O1xuICAgIHByaXZhdGUgY3Jvc3NoYWlyOiBHYW1lT2JqZWN0O1xuICAgIHByb3RlY3RlZCBpbmZvVGV4dFdhaXQ6IEFuaW1hdGlvbjtcblxuICAgIHByaXZhdGUgbG9hZGluZ0JhcjogTG9hZGluZ0JhcjtcbiAgICBwcml2YXRlIGNoYW5naW5nU2NlbmU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgbGlzdGVuZXI6IEZyYW1lTGlzdGVuZXIsIGNvbnRyb2xsZXI6IEZyYW1lQ29udHJvbGxlciwgZ2FtZU1vZGVsOiBHYW1lTW9kZWwsIHVpTW9kZWw6VUlNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgICAgIHRoaXMudWlNb2RlbCA9IHVpTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFwiYmxhY2tcIikpXG4gICAgICAgIHRoaXMuX2NyZWF0ZU1vdXNlVHJpZ2dlcnMoKTtcbiAgICAgICAgdGhpcy5fY3JlYXRlSFVEKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZVRocmVlQnVmZmVyKCk7XG5cbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Td2l0Y2hMZXZlbC5wdXNoKHRoaXMuX3N3aXRjaExldmVsLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5pbmZvVGV4dC5vblVwZGF0ZS5wdXNoKHRoaXMuX3VwZGF0ZUluZm9UZXh0LmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICBsZXQga3QgPSB0aGlzLmFkZENoaWxkKG5ldyBLZXlUcmlnZ2VyKCkpO1xuICAgICAgICBrdC5nZXRLZXlFdmVudChcIm1cIixLZXlUcmlnZ2VyRXZlbnRzLm9uS2V5VXApLnB1c2goKCkgPT4gY29uc29sZS5sb2codGhpcy50aHJlZUJ1ZmZlci5yZW5kZXJlci5pbmZvKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNoYW5naW5nU2NlbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdGF0cyA9IFRyZWVVdGlscy5zdWJ0cmVlTG9hZFN0YXRzKHRoaXMudGhyZWVCdWZmZXIpO1xuICAgICAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnNldFByb3BvcnRpb24oc3RhdHMuYXNzZXRzUHJvcG9ydGlvbik7XG4gICAgICAgICAgICBpZiAodGhpcy50aHJlZUJ1ZmZlci5zdWJ0cmVlTG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsTG9hZGVkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2luZ1NjZW5lID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9zd2l0Y2hMZXZlbCgpXG4gICAge1xuICAgICAgICB0aGlzLmNoYW5naW5nU2NlbmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jcmVhdGVUaHJlZUJ1ZmZlcigpO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nQmFyLnZpc2libGUgPSB0cnVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2xldmVsTG9hZGVkKClcbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGluZ0Jhci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMudGhyZWVCdWZmZXIudmlzaWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY3JlYXRlVGhyZWVCdWZmZXIoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudGhyZWVCdWZmZXIpXG4gICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLnJlcXVlc3RSZW1vdmFsKCk7XG4gICAgICAgIHRoaXMudGhyZWVCdWZmZXIgPSB0aGlzLmFkZENoaWxkKG5ldyBTY2VuZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLmdhbWVNb2RlbCkpO1xuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmZpZWxkT2ZWaWV3ID0gdGhpcy5kZWZhdWx0Rk9WO1xuICAgICAgICAvL2xldCBkaW0gPSB0aGlzLnRyYW5zZm9ybS5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgLy9sZXQgaEZPViA9IDIgKiBNYXRoLmF0YW4oIE1hdGgudGFuKCB0aGlzLnRocmVlQnVmZmVyLmZpZWxkT2ZWaWV3ICogTWF0aC5QSSAvIDE4MCAvIDIgKSAqIGRpbS5hc3BlY3QgKSAqIDE4MCAvIE1hdGguUEk7XG4gICAgICAgIC8vbGV0IHZGT1YgPSAgMipNYXRoLmF0YW4oTWF0aC50YW4oMzAqMC41KS9kaW0uYXNwZWN0KTtcbiAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5yZXF1ZXN0RHJhdygpO1xuICAgICAgICBUcmVlVXRpbHMubW92ZUNoaWxkVG9MYXN0KHRoaXMsIHRoaXMudGhyZWVCdWZmZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZU1vdXNlVHJpZ2dlcnMoKVxuICAgIHtcbiAgICAgICAgbGV0IHdvcmxkQ2xpY2s6IEJ1dHRvbiA9IHRoaXMuYWRkQ2hpbGQobmV3IEJ1dHRvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSlcbiAgICAgICAgd29ybGRDbGljay5vbkNsaWNrLnB1c2godGhpcy5fd29ybGRDbGljay5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgLypsZXQgd29ybGRIb2xkOiBQcmVzc0hvbGRUcmlnZ2VyID0gdGhpcy5hZGRDaGlsZChuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuem9vbUhvbGREdXJhdGlvbikpO1xuICAgICAgICB3b3JsZEhvbGQub25Ib2xkLnB1c2god29ybGRDbGljay5yZXNldC5iaW5kKHdvcmxkQ2xpY2spLCB0aGlzKTtcbiAgICAgICAgd29ybGRIb2xkLm9uSG9sZC5wdXNoKHRoaXMudWlNb2RlbC53b3JsZEhvbGQuYmluZCh0aGlzLnVpTW9kZWwsIHRoaXMuX3pvb21WaWV3LmJpbmQodGhpcykpLCB0aGlzKTtcbiAgICAgICAgd29ybGRIb2xkLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwud29ybGRSZWxlYXNlSG9sZC5iaW5kKHRoaXMudWlNb2RlbCwgdGhpcy5fdW56b29tVmlldy5iaW5kKHRoaXMpKSwgdGhpcyk7Ki9cbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVIVUQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbmZvVGV4dCA9IHRoaXMuYWRkQ2hpbGQobmV3IFRleHQobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMC44LCBuZXcgUG9pbnQoMC41LDAuNSkpKSxuZXcgQm91bmRzKCksIFwiXCIsIFwid2hpdGVcIiwgMTIsIFwic2VyaWZcIiwgMS41KSk7ICAgICAgICBcbiAgICAgICAgdGhpcy5jcm9zc2hhaXIgPSB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpLCBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbigzLDMpKSwgXCJ3aGl0ZVwiKSk7XG4gICAgICAgIHRoaXMuY3Jvc3NoYWlyLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nQmFyID0gdGhpcy5hZGRDaGlsZChuZXcgTG9hZGluZ0JhcihuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpLCBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbigxMDAsMTApKSwgXCJ3aGl0ZVwiLCBcImdyZXlcIikpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VwZGF0ZUluZm9UZXh0KHZhbDogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbmZvVGV4dC50ZXh0ID0gdmFsO1xuICAgICAgICB0aGlzLmluZm9UZXh0Lm9wYWNpdHkgPSAxO1xuICAgICAgICB0aGlzLmluZm9UZXh0LnZpc2libGUgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5pbmZvVGV4dFdhaXQpXG4gICAgICAgICAgICB0aGlzLmluZm9UZXh0V2FpdC5yZXF1ZXN0UmVtb3ZhbCgpO1xuICAgICAgICB0aGlzLmluZm9UZXh0V2FpdCA9IHRoaXMuaW5mb1RleHQuYWRkQ2hpbGQobmV3IFdhaXQoMzAwMCkpO1xuICAgICAgICB0aGlzLmluZm9UZXh0V2FpdC5vbkNvbXBsZXRlLnB1c2goKCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgdGhpcy5pbmZvVGV4dFdhaXQgPSB0aGlzLmluZm9UZXh0LmFkZENoaWxkKG5ldyBWYWx1ZVR3ZWVuKHRoaXMuaW5mb1RleHQsIFwib3BhY2l0eVwiLCAwLCAxMDAwKSk7XG4gICAgICAgICAgIHRoaXMuaW5mb1RleHRXYWl0Lm9uQ29tcGxldGUucHVzaCgoKSA9PiB0aGlzLmluZm9UZXh0LnZpc2libGUgPSBmYWxzZSwgdGhpcyk7XG4gICAgICAgIH0sIHRoaXMpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfd29ybGRDbGljayhtb3VzZTogTW91c2UpXG4gICAge1xuICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5fZ2V0TW91c2VPZmZzZXQobW91c2UpO1xuXG4gICAgICAgIGxldCByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XG4gICAgICAgIHJheWNhc3Rlci5zZXRGcm9tQ2FtZXJhKG5ldyBUSFJFRS5WZWN0b3IyKG9mZnNldC54LG9mZnNldC55KSwgdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEpO1xuICAgICAgICBsZXQgaW50ZXJzZWN0cyA9IHJheWNhc3Rlci5pbnRlcnNlY3RPYmplY3RzKHRoaXMudGhyZWVCdWZmZXIuc2NlbmUuY2hpbGRyZW4pO1xuICAgICAgICBpZiAoaW50ZXJzZWN0cy5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZ28gPSBpbnRlcnNlY3RzWzBdLm9iamVjdC51c2VyRGF0YS5nYW1lT2JqZWN0O1xuICAgICAgICAgICAgaWYgKGdvKVxuICAgICAgICAgICAgICAgIHRoaXMudWlNb2RlbC53b3JsZENsaWNrKGdvLm1vZGVsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2dldE1vdXNlT2Zmc2V0KG1vdXNlOiBNb3VzZSlcbiAgICB7XG4gICAgICAgIGxldCBtb3VzZVBvcyA9IFBvaW50Lm1pbnVzKG1vdXNlLnBvc2l0aW9uLCB0aGlzLnRyYW5zZm9ybS5nZXRDYW5vbmljYWxQb3NpdGlvbigpKTtcbiAgICAgICAgbGV0IHggPSAobW91c2VQb3MueC90aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLndpZHRoKSoyLTE7XG4gICAgICAgIGxldCB5ID0gLSgobW91c2VQb3MueS90aGlzLnRyYW5zZm9ybS5ib3VuZHMuZGltZW5zaW9uLmhlaWdodCkqMi0xKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh4LHkpO1xuICAgIH1cblxuICAgIC8qcHJpdmF0ZSBfem9vbVZpZXcobW91c2U6IE1vdXNlKVxuICAgIHtcbiAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMuX2dldE1vdXNlT2Zmc2V0KG1vdXNlKTtcbiAgICAgICAgbGV0IGhGT1YgPSAyICogTWF0aC5hdGFuKCBNYXRoLnRhbiggdGhpcy50aHJlZUJ1ZmZlci5maWVsZE9mVmlldyAqIE1hdGguUEkgLyAxODAgLyAyICkgKiB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5hc3BlY3QgKSAqIDE4MCAvIE1hdGguUEk7XG4gICAgICAgIGxldCBkZWdYID0gb2Zmc2V0LnggKiAoaEZPVi8yKVxuICAgICAgICBsZXQgcmFkWCA9IChkZWdYLzE4MCkgKiBNYXRoLlBJO1xuICAgICAgICBsZXQgZGVnWSA9IG9mZnNldC55ICogKHRoaXMudGhyZWVCdWZmZXIuZmllbGRPZlZpZXcvMilcbiAgICAgICAgbGV0IHJhZFkgPSAoZGVnWS8xODApICogTWF0aC5QSTtcblxuICAgICAgICB0aGlzLnRocmVlQnVmZmVyLnBsYXllci5zZXRDYW1lcmFSb3RhdGlvbih0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5yb3RhdGlvbi54ICsgcmFkWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEucm90YXRpb24ueSAtIHJhZFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnJvdGF0aW9uLnosIHRydWUsIDIwMCk7XG5cbiAgICAgICAgbGV0IHR3ZWVuID0gdGhpcy50aHJlZUJ1ZmZlci5hZGRDaGlsZChuZXcgVmFsdWVUd2Vlbih0aGlzLnRocmVlQnVmZmVyLCBcImZpZWxkT2ZWaWV3XCIsIDYwLCAyMDApKTtcbiAgICAgICAgdHdlZW4ub25Db21wbGV0ZS5wdXNoKCgoKSA9PiB0aGlzLmNyb3NzaGFpci52aXNpYmxlID0gdHJ1ZSkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdW56b29tVmlldygpXG4gICAge1xuICAgICAgICB0aGlzLmNyb3NzaGFpci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIGxldCB5ID0gdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEucm90YXRpb24ueTtcbiAgICAgICAgeSA9IChNYXRoLnJvdW5kKCh5LyhNYXRoLlBJLzIpKSklNCkqKE1hdGguUEkvMik7XG4gICAgICAgIHRoaXMudGhyZWVCdWZmZXIucGxheWVyLnNldENhbWVyYVJvdGF0aW9uKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnJvdGF0aW9uLnosIHRydWUsIDQwMCk7XG4gICAgICAgIHRoaXMudGhyZWVCdWZmZXIuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4odGhpcy50aHJlZUJ1ZmZlciwgXCJmaWVsZE9mVmlld1wiLCB0aGlzLmRlZmF1bHRGT1YsIDQwMCkpO1xuICAgIH0qL1xufVxuIiwiaW1wb3J0IHsgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyLCBGcmFtZSB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEZpbGxSZWN0IH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9SZWN0XCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBUZXh0QnVpbGRlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvVGV4dEJ1aWxkZXJcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFByZXNzSG9sZFRyaWdnZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1ByZXNzSG9sZFRyaWdnZXJcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFRleHQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWN0aW9uQmFyTWVudSBleHRlbmRzIEZyYW1lPEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlcj5cbntcbiAgICBwcml2YXRlIHVpTW9kZWw6IFVJTW9kZWxcbiAgICBwcml2YXRlIGxldmVsTmFtZVRleHQ6IFRleHQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIHVpTW9kZWw6IFVJTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudWlNb2RlbCA9IHVpTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFwiI2YzZTdkN1wiKSk7XG4gICAgICAgIGxldCBzaGFkb3cgPSB0aGlzLmFkZENoaWxkKG5ldyBGaWxsUmVjdChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAsMSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwwKSwgbmV3IFBpeGVsRGltZW5zaW9uKDAsMSkpLCBcImJsYWNrXCIpKTtcbiAgICAgICAgc2hhZG93Lm9wYWNpdHkgPSAwLjM7XG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZUNoYXJhY3RlclNoZWV0TWVudUljb24oKSk7XG4gICAgICAgIHRoaXMubGV2ZWxOYW1lVGV4dCA9IHRoaXMuYWRkQ2hpbGQodGhpcy5jcmVhdGVMZXZlbE5hbWVUZXh0KCkpO1xuICAgICAgICB0aGlzLnVpTW9kZWwuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC5vblVwZGF0ZS5wdXNoKCgodmFsKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxldmVsTmFtZVRleHQudGV4dCA9IHZhbC5uYW1lO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKVxuICAgIH1cblxuICAgIGNyZWF0ZUNoYXJhY3RlclNoZWV0TWVudUljb24oKTogR2FtZU9iamVjdFxuICAgIHtcbiAgICAgICAgbGV0IGNzbWkgPSB0aGlzLnVpTW9kZWwuZ2V0Q2hhcmFjdGVyU2hlZXRNZW51SWNvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMSksIG5ldyBQaXhlbERpbWVuc2lvbig2NCwwKSkpO1xuICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSBuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKTtcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRDaGFyYWN0ZXJTaGVldE1lbnVJY29uLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICAgICAgY3NtaS5hZGRDaGlsZChob2xkVHJpZ2dlcik7XG4gICAgICAgIHJldHVybiBjc21pO1xuICAgIH1cblxuICAgIGNyZWF0ZUxldmVsTmFtZVRleHQoKTogVGV4dFxuICAgIHtcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBsZXQgY29udGV4dDJEID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIodGhpcy51aU1vZGVsLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUubmFtZSwgY29udGV4dDJELCBcImJsYWNrXCIsIDEwLCBcInNhbnMtc2VyaWZcIiwgMS4yKTtcbiAgICAgICAgbGV0IGxldmVsTmFtZVRleHQgPSB0aGlzLmFkZENoaWxkKHRiLmJ1aWxkVGV4dChuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsIG5ldyBQb2ludCgwLjUsMC41KSkpKSk7XG5cbiAgICAgICAgbGV0IGhvbGRUcmlnZ2VyID0gbmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbik7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5ob2xkTGV2ZWxOYW1lVGV4dC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICBob2xkVHJpZ2dlci5vblJlbGVhc2VIb2xkLnB1c2godGhpcy51aU1vZGVsLnJlbGVhc2VIb2xkLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGxldmVsTmFtZVRleHQuYWRkQ2hpbGQoaG9sZFRyaWdnZXIpO1xuICAgICAgICByZXR1cm4gbGV2ZWxOYW1lVGV4dDtcbiAgICB9XG59IiwiaW1wb3J0IFBvcnRyYWl0QnV0dG9uIGZyb20gXCIuL1BvcnRyYWl0QnV0dG9uXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi4vbW9kZWwvQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCB7IEZyYW1lLCBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvRnJhbWVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi4vVUlNb2RlbFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVyTWVudSBleHRlbmRzIEZyYW1lPENoYXJhY3Rlck1lbnVMaXN0ZW5lciwgQ2hhcmFjdGVyTWVudUNvbnRyb2xsZXI+XG57XG4gICAgdWlNb2RlbDogVUlNb2RlbDtcbiAgICBnYW1lTW9kZWwgOiBHYW1lTW9kZWxcbiAgICBwb3J0cmFpdHM6IFBvcnRyYWl0QnV0dG9uW107XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBDaGFyYWN0ZXJNZW51TGlzdGVuZXIsIGNvbnRyb2xsZXI6IENoYXJhY3Rlck1lbnVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMsIGxpc3RlbmVyLCBjb250cm9sbGVyKTtcbiAgICAgICAgdGhpcy51aU1vZGVsID0gdWlNb2RlbDtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5iYWNrZ3JvdW5kQ29sb3VyKSk7XG4gICAgICAgIHRoaXMuY3JlYXRlTWVudSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZWN1cnNlUHJpbnQoc2VsZiwgcGFkZGluZylcbiAgICB7ICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coIFwiIFwiLnJlcGVhdChwYWRkaW5nKSArIHNlbGYudHlwZU5hbWUgKTtcbiAgICAgICAgc2VsZi5jaGlsZHJlbi5mb3JFYWNoKHggPT4gQ2hhcmFjdGVyTWVudS5yZWN1cnNlUHJpbnQoeCwgcGFkZGluZyArIDQpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNZW51KClcbiAgICB7XG4gICAgICAgIHRoaXMucG9ydHJhaXRzID0gdGhpcy5jcmVhdGVQb3J0cmFpdHMoKTtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5wb3J0cmFpdHMubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHAgPSB0aGlzLmFkZENoaWxkKHRoaXMucG9ydHJhaXRzW2ldKTtcbiAgICAgICAgICAgIHAudHJhbnNmb3JtLnBvc2l0aW9uLmFkZFRyYW5zbGF0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbihpKjAuMjUsMCkpO1xuICAgICAgICAgICAgcC50cmFuc2Zvcm0uYm91bmRzLmFkZERpbWVuc2lvbihuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAuMjUsMSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlUG9ydHJhaXRzKCk6IFBvcnRyYWl0QnV0dG9uW11cbiAgICB7XG4gICAgICAgIGxldCBwb3J0cmFpdHMgPSBbXTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuY2hhcmFjdGVycy5mb3JFYWNoKChjOiBDaGFyYWN0ZXJNb2RlbCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHAgPSBuZXcgUG9ydHJhaXRCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMoKSwgYywgdGhpcy51aU1vZGVsKTtcbiAgICAgICAgICAgIHAub25DbGljay5wdXNoKHRoaXMudWlNb2RlbC5jbGlja0NoYXJhY3RlclBvcnRyYWl0LmJpbmQodGhpcy51aU1vZGVsLCBjKSwgdGhpcyk7XG4gICAgICAgICAgICBwb3J0cmFpdHMucHVzaChwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHBvcnRyYWl0cztcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGFyYWN0ZXJNZW51TGlzdGVuZXIgZXh0ZW5kcyBGcmFtZUxpc3RlbmVyXG57XG5cbn1cblxuZXhwb3J0IGNsYXNzIENoYXJhY3Rlck1lbnVDb250cm9sbGVyIGV4dGVuZHMgRnJhbWVDb250cm9sbGVyXG57XG5cbn0iLCJpbXBvcnQgeyBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXIsIEZyYW1lIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi4vVUlNb2RlbFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgVGV4dEJ1aWxkZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1RleHRCdWlsZGVyXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgUGl4ZWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9QaXhlbFRyYW5zbGF0aW9uXCI7XG5pbXBvcnQgeyBHcmlkQnVpbGRlciwgR3JpZE9yaWVudGF0aW9uIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0dyaWRMYXlvdXRcIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuaW1wb3J0IFByZXNzSG9sZFRyaWdnZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1ByZXNzSG9sZFRyaWdnZXJcIjtcbmltcG9ydCBXYWl0IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dhaXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGV0YWlsTWVudUZyYW1lIGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWxcbiAgICBtZW51OiBHYW1lT2JqZWN0O1xuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6Qm91bmRzLCBsaXN0ZW5lcjogRnJhbWVMaXN0ZW5lciwgY29udHJvbGxlcjogRnJhbWVDb250cm9sbGVyLCB1aU1vZGVsOiBVSU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLnVpTW9kZWwuY3VycmVudERldGFpbE1lbnUub25VcGRhdGUucHVzaCh0aGlzLmNyZWF0ZURldGFpbE1lbnUuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlRGV0YWlsTWVudSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZURldGFpbE1lbnUoKVxuICAgIHtcbiAgICAgICAgbGV0IHcgPSB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KDApKTtcbiAgICAgICAgaWYgKHRoaXMubWVudSlcbiAgICAgICAgICAgIHcub25Db21wbGV0ZS5wdXNoKHRoaXMucmVxdWVzdFJlbW92YWwuYmluZCh0aGlzLm1lbnUpLCB0aGlzKTtcbiAgICAgICAgdy5vbkNvbXBsZXRlLnB1c2goKCgpID0+IHsgaWYgKHRoaXMubWVudSkgdGhpcy5tZW51LnZpc2libGUgPSB0cnVlOyB9KS5iaW5kKHRoaXMpLCB0aGlzKTtcblxuICAgICAgICBsZXQgZGV0YWlsTWVudU1vZGVsID0gdGhpcy51aU1vZGVsLmN1cnJlbnREZXRhaWxNZW51LnZhbHVlO1xuICAgICAgICBpZiAoZGV0YWlsTWVudU1vZGVsKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY29udGFpbmVyID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmJhY2tncm91bmRDb2xvdXIpKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZChuZXcgQnV0dG9uKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSkpKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5vcGFjaXR5ID0gMC44O1xuICAgICAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgbGV0IGNvbnRleHQyRCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgICAgICBsZXQgdGIgPSBuZXcgVGV4dEJ1aWxkZXIoZGV0YWlsTWVudU1vZGVsLnRpdGxlLCBjb250ZXh0MkQsIFwiYmxhY2tcIiwgMTIsIFwic2Fucy1zZXJpZlwiKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0Yi5idWlsZFRleHQobmV3IFBvc2l0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKDEwLDQsIG5ldyBQb2ludCgwLDApKSkpKTtcblxuICAgICAgICAgICAgaWYgKGRldGFpbE1lbnVNb2RlbC5zcGVsbExpc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGdiID0gbmV3IEdyaWRCdWlsZGVyKCk7XG4gICAgICAgICAgICAgICAgZGV0YWlsTWVudU1vZGVsLnNwZWxsTGlzdC5zcGVsbHMuZm9yRWFjaChzID0+IFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWNvbiA9IHRoaXMudWlNb2RlbC5nZXRTcGVsbEljb24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYiA9IG5ldyBCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLjIsIDEsIHRoaXMudHJhbnNmb3JtLmJvdW5kcyksIG5ldyBQaXhlbERpbWVuc2lvbigwLC0yMCkpLCBpY29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGIub25DbGljay5wdXNoKHRoaXMudWlNb2RlbC5jbGlja1NwZWxsQnV0dG9uLmJpbmQodGhpcy51aU1vZGVsLCBzKSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnYi5wdXNoQ2VsbChiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob2xkVHJpZ2dlciA9IHRoaXMuYWRkQ2hpbGQobmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRTcGVsbEJ1dHRvbi5iaW5kKHRoaXMudWlNb2RlbCwgcyksIHRoaXMpXG4gICAgICAgICAgICAgICAgICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaChiLnJlc2V0LmJpbmQoYiksIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9sZFRyaWdnZXIub25SZWxlYXNlSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5yZWxlYXNlSG9sZC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYi5hZGRDaGlsZChob2xkVHJpZ2dlcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGdiLmZpeExheWVyKEdyaWRPcmllbnRhdGlvbi5Ib3Jpem9udGFsLCBuZXcgUG9zaXRpb24obmV3IFBpeGVsVHJhbnNsYXRpb24oMCwyMCkpKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQoZ2IuZ3JpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubWVudSA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIHRoaXMubWVudS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cbn0iLCJpbXBvcnQgU3BlbGxMaXN0IGZyb20gXCIuLi9tb2RlbC9TcGVsbExpc3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGV0YWlsTWVudU1vZGVsXG57XG4gICAgdGl0bGU6IHN0cmluZ1xuICAgIHNwZWxsTGlzdDogU3BlbGxMaXN0XG5cbiAgICBjb25zdHJ1Y3RvcihzcGVsbExpc3Q/OiBTcGVsbExpc3QpXG4gICAge1xuICAgICAgICB0aGlzLnNwZWxsTGlzdCA9IHNwZWxsTGlzdDtcbiAgICAgICAgaWYgKCFzcGVsbExpc3QpIFxuICAgICAgICAgICAgdGhpcy50aXRsZSA9IFwiUXVpY2sgSXRlbXNcIjtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRpdGxlID0gc3BlbGxMaXN0Lm5hbWU7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vbW9kZWwvR2FtZU1vZGVsXCI7XG5pbXBvcnQgQ2VsbE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9DZWxsTW9kZWxcIjtcbmltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvTlBDTW9kZWxcIjtcbmltcG9ydCBEcmF3QnVmZmVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvRHJhd0J1ZmZlclwiO1xuaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgUGl4ZWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1BpeGVsRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IHsgRmlsbENpcmNsZSB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvQ2lyY2xlXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBQaXhlbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCB7IEZpbGxUcmlhbmdsZSB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvVHJpYW5nbGVcIjtcbmltcG9ydCB7IEZhY2luZyB9IGZyb20gXCIuLi9tb2RlbC9QbGF5ZXJNb2RlbFwiO1xuaW1wb3J0IFZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vVmFsdWVUd2VlblwiO1xuaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL0xldmVsTW9kZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwIGV4dGVuZHMgRHJhd0J1ZmZlclxue1xuICAgIHByb3RlY3RlZCBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBwcm90ZWN0ZWQgY2VsbFNpemU6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgZWRnZVdpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIGxldmVsTW9kZWw6IExldmVsTW9kZWw7XG5cbiAgICBwcm90ZWN0ZWQgY3VycmVudE1hcFk6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgcGxheWVySWNvbjogR2FtZU9iamVjdDtcbiAgICBwcm90ZWN0ZWQgbnBjSWNvbnM6IEdhbWVPYmplY3RbXTtcbiAgICBwcm90ZWN0ZWQgbWFwTGF5ZXJzOiBHYW1lT2JqZWN0W107XG4gICAgcHJvdGVjdGVkIG1hcENlbGxzOiBHYW1lT2JqZWN0W11bXVtdO1xuXG4gICAgY29uc3RydWN0b3IoZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBsZXQgdyA9IGdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUud2lkdGg7XG4gICAgICAgIGxldCBoID0gZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5kZXB0aDtcbiAgICAgICAgc3VwZXIobnVsbCwgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24odyoxMDAsaCoxMDApKSk7XG4gICAgICAgIHRoaXMuY2VsbFNpemUgPSAxMDA7XG4gICAgICAgIHRoaXMuZWRnZVdpZHRoID0gdGhpcy5jZWxsU2l6ZS8xMDtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgICAgIHRoaXMubnBjSWNvbnMgID0gW11cbiAgICAgICAgdGhpcy5jdXJyZW50TWFwWSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uTW92ZS5wdXNoKHRoaXMudXBkYXRlUGxheWVyLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4ucHVzaCh0aGlzLnVwZGF0ZVBsYXllci5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Xb3JsZENoYW5nZS5wdXNoKHRoaXMudXBkYXRlTWFwVmlzaWJpbGl0eS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Td2l0Y2hMZXZlbC5wdXNoKHRoaXMucmVjcmVhdGVNYXAuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMucmVjcmVhdGVNYXAoKTtcbiAgICB9XG5cbiAgICByZWNyZWF0ZU1hcCgpXG4gICAge1xuICAgICAgICB0aGlzLmxldmVsTW9kZWwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWU7XG4gICAgICAgIHRoaXMuY3JlYXRlTWFwKHRoaXMubGV2ZWxNb2RlbCk7XG4gICAgICAgIHRoaXMuY3JlYXRlTlBDcyh0aGlzLmxldmVsTW9kZWwpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBsYXllcigpO1xuICAgIH1cblxuICAgIGNyZWF0ZU5QQyhucGM6IE5QQ01vZGVsKVxuICAgIHtcbiAgICAgICAgbGV0IG5wY0ljb24gPSB0aGlzLmFkZENoaWxkKG5ldyBGaWxsQ2lyY2xlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbih0aGlzLmNlbGxTaXplLzQsdGhpcy5jZWxsU2l6ZS80KSksIHVuZGVmaW5lZCkpO1xuICAgICAgICB0aGlzLm5wY0ljb25zLmZvckVhY2gobiA9PiBuLnJlcXVlc3RSZW1vdmFsKCkpO1xuICAgICAgICB0aGlzLm5wY0ljb25zLnB1c2gobnBjSWNvbik7XG4gICAgICAgIG5wYy5hbGl2ZS5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlTlBDLmJpbmQodGhpcywgbnBjLCBucGNJY29uKSwgdGhpcyk7XG4gICAgICAgIG5wYy5wb3NpdGlvbi5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlTlBDLmJpbmQodGhpcywgbnBjLCBucGNJY29uKSwgdGhpcyk7XG4gICAgICAgIG5wYy5sb290ZWQub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZU5QQy5iaW5kKHRoaXMsIG5wYywgbnBjSWNvbiksIHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZU5QQyhucGMsIG5wY0ljb24pO1xuICAgIH1cblxuICAgIHVwZGF0ZU5QQyhucGM6IE5QQ01vZGVsLCBucGNJY29uOiBGaWxsQ2lyY2xlKVxuICAgIHtcbiAgICAgICAgaWYgKG5wYy5sb290ZWQudmFsdWUpXG4gICAgICAgICAgICBucGNJY29uLnZpc2libGUgPSBmYWxzZVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5wY0ljb24udHJhbnNmb3JtLnBvc2l0aW9uLmNsZWFyVHJhbnNsYXRpb25zKCk7XG4gICAgICAgICAgICBucGNJY29uLnRyYW5zZm9ybS5wb3NpdGlvbi5hZGRUcmFuc2xhdGlvbihuZXcgUGl4ZWxUcmFuc2xhdGlvbigobnBjLnBvc2l0aW9uLnZhbHVlLngrMC41KSp0aGlzLmNlbGxTaXplLChucGMucG9zaXRpb24udmFsdWUueiswLjUpKnRoaXMuY2VsbFNpemUsIG5ldyBQb2ludCgwLjUsMC41KSkpO1xuICAgICAgICAgICAgbGV0IGNvbG91ciA9IG5wYy5ob3N0aWxlID8gXCJyZWRcIiA6IFwiZ3JlZW5cIjtcbiAgICAgICAgICAgIGlmICghKG5wYy5hbGl2ZS52YWx1ZSkpXG4gICAgICAgICAgICAgICAgY29sb3VyID0gXCJibHVlXCI7XG4gICAgICAgICAgICBucGNJY29uLmZpbGxTdHlsZSAgPSBjb2xvdXI7XG4gICAgICAgICAgICBucGNJY29uLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVOUENzKGxldmVsOiBMZXZlbE1vZGVsKVxuICAgIHtcbiAgICAgICAgbGV2ZWwubnBjcy5mb3JFYWNoKG4gPT4gdGhpcy5jcmVhdGVOUEMobikpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBsYXllcigpXG4gICAge1xuICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnBvc2l0aW9uLmNsZWFyVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucG9zaXRpb24uYWRkVHJhbnNsYXRpb24obmV3IFBpeGVsVHJhbnNsYXRpb24oKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5wb3NpdGlvbi54KzAuNSkqdGhpcy5jZWxsU2l6ZSwodGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnorMC41KSp0aGlzLmNlbGxTaXplLCBuZXcgUG9pbnQoMC41LDAuNSkpKTtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSAwO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnRyYW5zZm9ybS5yb3RhdGlvbiA9IE1hdGguUEkvNDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLnBsYXllckljb24udHJhbnNmb3JtLnJvdGF0aW9uID0gTWF0aC5QSS8yO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnRyYW5zZm9ybS5yb3RhdGlvbiA9IDMqKE1hdGguUEkvNCk7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZ2FtZU1vZGVsLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSBNYXRoLlBJO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnRyYW5zZm9ybS5yb3RhdGlvbiA9IC0zKihNYXRoLlBJLzQpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMucGxheWVySWNvbi50cmFuc2Zvcm0ucm90YXRpb24gPSAtTWF0aC5QSS8yO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJY29uLnRyYW5zZm9ybS5yb3RhdGlvbiA9IC1NYXRoLlBJLzQ7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnkgIT09IHRoaXMuY3VycmVudE1hcFkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9MYXllcih0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb24ueSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2hUb0xheWVyKHk6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMubWFwTGF5ZXJzLmZvckVhY2goKGw6IEdhbWVPYmplY3QsaSkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpID09PSB5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChsLm9wYWNpdHkgIT09IDEpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4obCxcIm9wYWNpdHlcIiwgMSwgMzAwKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICgoaSA9PT0geS0xKSB8fCAoaSA9PT0geSsxKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAobC5vcGFjaXR5ICE9PSAwLjUpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFZhbHVlVHdlZW4obCxcIm9wYWNpdHlcIiwgMC41LCAzMDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGwub3BhY2l0eSAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgVmFsdWVUd2VlbihsLFwib3BhY2l0eVwiLCAwLCAzMDApKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3VycmVudE1hcFkgPSB5O1xuICAgIH1cblxuICAgIHVwZGF0ZU1hcFZpc2liaWxpdHkoKVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLmxldmVsTW9kZWwuaGVpZ2h0OyB5KyspXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMubGV2ZWxNb2RlbC53aWR0aDsgeCsrKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgdGhpcy5sZXZlbE1vZGVsLmRlcHRoOyB6KyspXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwQ2VsbHNbeF1beV1bel0udmlzaWJsZSA9ICEodGhpcy5sZXZlbE1vZGVsLmNlbGxzW3hdW3ldW3pdLndhbGxzWzRdLmhpZGRlbi52YWx1ZSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTWFwKGxldmVsOiBMZXZlbE1vZGVsKSBcbiAgICB7XG4gICAgICAgIHRoaXMubWFwQ2VsbHMgPSBuZXcgQXJyYXkobGV2ZWwud2lkdGgpO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTxsZXZlbC53aWR0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWFwQ2VsbHNbaV0gPSBuZXcgQXJyYXkobGV2ZWwuaGVpZ2h0KTtcbiAgICAgICAgICAgIGZvciAobGV0IGo9MDtqPGxldmVsLmhlaWdodDtqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXBDZWxsc1tpXVtqXSA9IG5ldyBBcnJheShsZXZlbC5kZXB0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxheWVycyA9IFtdO1xuICAgICAgICBmb3IobGV0IHkgPSAwOyB5IDwgbGV2ZWwuaGVpZ2h0OyB5KyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBsID0gbmV3IEdhbWVPYmplY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSk7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGxldmVsLndpZHRoOyB4KyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCBsZXZlbC5kZXB0aDsgeisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSBsLmFkZENoaWxkKHRoaXMuY3JlYXRlUmVjdCh4LCB6LCBsZXZlbC5jZWxsc1t4XVt5XVt6XSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGV2ZWwuY2VsbHNbeF1beV1bel0ud2FsbHNbNF0uaGlkZGVuLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgci52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFwQ2VsbHNbeF1beV1bel0gPSByO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGwub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBsYXllcnMucHVzaCh0aGlzLmFkZENoaWxkKGwpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXBMYXllcnMpXG4gICAgICAgICAgICB0aGlzLm1hcExheWVycy5mb3JFYWNoKGwgPT4gbC5yZXF1ZXN0UmVtb3ZhbCgpKTtcbiAgICAgICAgdGhpcy5tYXBMYXllcnMgPSBsYXllcnM7XG4gICAgICAgIGlmICh0aGlzLnBsYXllckljb24pXG4gICAgICAgICAgICB0aGlzLnBsYXllckljb24ucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXJJY29uID0gdGhpcy5hZGRDaGlsZChuZXcgRmlsbFRyaWFuZ2xlKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbih0aGlzLmNlbGxTaXplLzIsdGhpcy5jZWxsU2l6ZS8yKSksIFwiYmxhY2tcIikpO1xuICAgIH1cblxuICAgIGNyZWF0ZVJlY3QoeDogbnVtYmVyLCB6OiBudW1iZXIsIGNlbGw6IENlbGxNb2RlbClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgRmlsbFJlY3QobmV3IFBvc2l0aW9uKG5ldyBQaXhlbFRyYW5zbGF0aW9uKHgqdGhpcy5jZWxsU2l6ZSt0aGlzLmVkZ2VXaWR0aC8yLHoqdGhpcy5jZWxsU2l6ZSt0aGlzLmVkZ2VXaWR0aC8yKSksIG5ldyBCb3VuZHMobmV3IFBpeGVsRGltZW5zaW9uKHRoaXMuY2VsbFNpemUtdGhpcy5lZGdlV2lkdGgsdGhpcy5jZWxsU2l6ZS10aGlzLmVkZ2VXaWR0aCkpLCBcIndoaXRlXCIpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vbk1vdmUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uV29ybGRDaGFuZ2UudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Td2l0Y2hMZXZlbC51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBGcmFtZUNvbnRyb2xsZXIsIEZyYW1lTGlzdGVuZXIsIEZyYW1lIH0gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L0ZyYW1lXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5pbXBvcnQgRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9EaW1lbnNpb25cIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQaXhlbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUGl4ZWxEaW1lbnNpb25cIjtcbmltcG9ydCB7IEZpbGxDaXJjbGUgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL0NpcmNsZVwiO1xuaW1wb3J0IEJ1ZmZlckNsb25lIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9jb250ZXh0MmQvQnVmZmVyQ2xvbmVcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9Qcm9wb3J0aW9uYWxEaW1lbnNpb25cIjtcbmltcG9ydCBQaXhlbFRyYW5zbGF0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL3RyYW5zbGF0aW9uL1BpeGVsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL21vZGVsL0dhbWVNb2RlbFwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiZW5naW5lL3V0aWwvRXZlbnRcIjtcbmltcG9ydCBQcmVzc0hvbGRUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9QcmVzc0hvbGRUcmlnZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pbmlNYXBGcmFtZSBleHRlbmRzIEZyYW1lPE1pbmlNYXBGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgdWlNb2RlbDogVUlNb2RlbDtcbiAgICBnYW1lTW9kZWwgOiBHYW1lTW9kZWxcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOkJvdW5kcywgbGlzdGVuZXI6IE1pbmlNYXBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIHVpTW9kZWw6IFVJTW9kZWwsIGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcywgbGlzdGVuZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IG1pbmlNYXAgPSB0aGlzLmFkZENoaWxkKHRoaXMuY3JlYXRlTWluaU1hcCgpKTtcblxuICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSB0aGlzLmFkZENoaWxkKG5ldyBQcmVzc0hvbGRUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5ob2xkRHVyYXRpb24pKTtcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy51aU1vZGVsLmhvbGRNaW5pTWFwLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGhvbGRUcmlnZ2VyLm9uUmVsZWFzZUhvbGQucHVzaCh0aGlzLnVpTW9kZWwucmVsZWFzZUhvbGQuYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBtYXBDbGlwKGN0eDpDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvczogUG9pbnQsIGRpbTogRGltZW5zaW9uKSBcbiAgICB7XG4gICAgICAgIGN0eC50cmFuc2xhdGUocG9zLnggKyBkaW0ud2lkdGgvMixwb3MueSArIGRpbS5oZWlnaHQvMilcbiAgICAgICAgY3R4LnJvdGF0ZSh0aGlzLnVpTW9kZWwubWFwUm90YXRpb24ueSlcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgtKHBvcy54ICsgZGltLndpZHRoLzIpLC0ocG9zLnkgKyBkaW0uaGVpZ2h0LzIpKVxuICAgICAgICBjdHguYXJjKHBvcy54ICsgZGltLndpZHRoLzIsXG4gICAgICAgICAgICAgICAgcG9zLnkgKyBkaW0uaGVpZ2h0LzIsXG4gICAgICAgICAgICAgICAgTWF0aC5taW4oZGltLndpZHRoLCBkaW0uaGVpZ2h0KS8yLFxuICAgICAgICAgICAgICAgIDAsIDIqTWF0aC5QSSk7XG4gICAgfVxuXG4gICAgc2V0TWFwT3JpZ2luQW5kQXJlYShidWZmZXJDbG9uZTogQnVmZmVyQ2xvbmUpXG4gICAge1xuICAgICAgICBsZXQgbGV2ZWxEaW0gPSBuZXcgRGltZW5zaW9uKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuZGVwdGgpO1xuICAgICAgICBsZXQgY2VsbFNpemUgPSAxMDAvL2J1ZmZlckNsb25lLmRyYXdCdWZmZXIudHJhbnNmb3JtLmJvdW5kcy5kaW1lbnNpb24ud2lkdGgvbGV2ZWxEaW0ud2lkdGg7XG4gICAgICAgIGxldCByYWRpdXMgPSA1O1xuICAgICAgICBidWZmZXJDbG9uZS5vcmlnaW4gPSBuZXcgUGl4ZWxUcmFuc2xhdGlvbigodGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLngrMC41LXJhZGl1cykqY2VsbFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uLnorMC41LXJhZGl1cykqY2VsbFNpemUpO1xuICAgICAgICBidWZmZXJDbG9uZS5hcmVhID0gbmV3IFBpeGVsRGltZW5zaW9uKGNlbGxTaXplKnJhZGl1cyoyLGNlbGxTaXplKnJhZGl1cyoyKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNaW5pTWFwKClcbiAgICB7XG4gICAgICAgIGxldCBtYXBBcmVhID0gbmV3IEJ1dHRvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKTtcbiAgICAgICAgbWFwQXJlYS5vbkNsaWNrLnB1c2goKCkgPT4gdGhpcy5saXN0ZW5lci5vbk1hcENsaWNrLmNhbGwoKSwgdGhpcyk7XG4gICAgICAgIC8vbWFwQXJlYS50cmFuc2Zvcm0uYm91bmRzLm1heERpbWVuc2lvbiA9IG5ldyBQaXhlbERpbWVuc2lvbigxODAsIDE4MCk7XG4gICAgICAgIGxldCBtYXBCYWNrZ3JvdW5kID0gbWFwQXJlYS5hZGRDaGlsZChuZXcgRmlsbENpcmNsZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCBcImdyZXlcIikpO1xuICAgICAgICBtYXBCYWNrZ3JvdW5kLm9wYWNpdHkgPSAwLjU7XG4gICAgICAgIGxldCBtYXBDaXJjbGUgPSBtYXBBcmVhLmFkZENoaWxkKG5ldyBCdWZmZXJDbG9uZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwubWFwKSk7XG4gICAgICAgIHRoaXMuc2V0TWFwT3JpZ2luQW5kQXJlYShtYXBDaXJjbGUpO1xuICAgICAgICBtYXBDaXJjbGUuY2xpcEZ1bmN0aW9uID0gdGhpcy5tYXBDbGlwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uTW92ZS5wdXNoKHRoaXMuc2V0TWFwT3JpZ2luQW5kQXJlYS5iaW5kKHRoaXMsIG1hcENpcmNsZSksIHRoaXMpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblN3aXRjaExldmVsLnB1c2godGhpcy5zZXRNYXBPcmlnaW5BbmRBcmVhLmJpbmQodGhpcywgbWFwQ2lyY2xlKSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBtYXBBcmVhO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1pbmlNYXBGcmFtZUxpc3RlbmVyIGV4dGVuZHMgRnJhbWVMaXN0ZW5lclxue1xuICAgIG9uTWFwQ2xpY2s6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG59IiwiaW1wb3J0IHsgRnJhbWUsIEZyYW1lTGlzdGVuZXIsIEZyYW1lQ29udHJvbGxlciB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi4vVUlNb2RlbFwiO1xuaW1wb3J0IFN0YXR1c0xpc3QgZnJvbSBcIi4vU3RhdHVzTGlzdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0eVN0YXR1c01lbnUgZXh0ZW5kcyBGcmFtZTxGcmFtZUxpc3RlbmVyLCBGcmFtZUNvbnRyb2xsZXI+XG57XG4gICAgcHJvdGVjdGVkIF91aU1vZGVsOiBVSU1vZGVsO1xuICAgIGxpc3Q6IFN0YXR1c0xpc3Q7XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogUG9zaXRpb24sIGJvdW5kczpCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIHVpTW9kZWw6IFVJTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMuX3VpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmFkZENoaWxkKHRoaXMuY3JlYXRlTGlzdCgpKTtcbiAgICAgICAgdGhpcy5fdWlNb2RlbC5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMub25VcGRhdGUucHVzaCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmxpc3QucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgICAgIHRoaXMubGlzdCA9IHRoaXMuYWRkQ2hpbGQodGhpcy5jcmVhdGVMaXN0KCkpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVMaXN0KCk6IFN0YXR1c0xpc3RcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgU3RhdHVzTGlzdChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLl91aU1vZGVsLmdhbWVNb2RlbC5wYXJ0eS5zdGF0dXNlcy52YWx1ZSwgdGhpcy5fdWlNb2RlbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IENoYXJhY3Rlck1vZGVsIGZyb20gXCIuLi9tb2RlbC9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgQm91bmRzIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL0JvdW5kc1wiO1xuaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUHJvcG9ydGlvbmFsVHJhbnNsYXRpb25cIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuaW1wb3J0IFVJTW9kZWwgZnJvbSBcIi4uL1VJTW9kZWxcIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFBpeGVsVHJhbnNsYXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vdHJhbnNsYXRpb24vUGl4ZWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IFN0YXR1c0xpc3QgZnJvbSBcIi4vU3RhdHVzTGlzdFwiO1xuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBDbGlwIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9DbGlwXCI7XG5pbXBvcnQgUHJlc3NIb2xkVHJpZ2dlciBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvUHJlc3NIb2xkVHJpZ2dlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3J0cmFpdEJ1dHRvbiBleHRlbmRzIEJ1dHRvblxue1xuICAgIGdldCBmaWxlbmFtZSgpIHsgcmV0dXJuIHRoaXMuY2hhcmFjdGVyTW9kZWwucG9ydHJhaXRUeXBlLmZpbGVuYW1lOyB9XG4gICAgcHJpdmF0ZSBfaXNTZWxlY3RlZCA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2lzV2FpdGluZyA9IGZhbHNlO1xuXG4gICAgZ2V0IGlzU2VsZWN0ZWQoKSB7IHJldHVybiB0aGlzLl9pc1NlbGVjdGVkOyB9XG4gICAgZ2V0IGlzV2FpdGluZygpIHsgcmV0dXJuIHRoaXMuX2lzV2FpdGluZzsgfVxuICAgIHNldCBpc1NlbGVjdGVkKHZhbClcbiAgICB7XG4gICAgICAgIHRoaXMuX2lzU2VsZWN0ZWQgPSB2YWw7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRIaWdobGlnaHQudmlzaWJsZSA9IHZhbDtcbiAgICB9XG4gICAgc2V0IGlzV2FpdGluZyh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9pc1dhaXRpbmcgPSB2YWw7XG4gICAgICAgIHRoaXMud2FpdGluZ0hpZ2hsaWdodC52aXNpYmxlID0gdmFsO1xuICAgIH1cblxuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgY2hhcmFjdGVyTW9kZWw6IENoYXJhY3Rlck1vZGVsXG5cbiAgICBuZXh0SGlnaGxpZ2h0OiBHYW1lT2JqZWN0O1xuICAgIHdhaXRpbmdIaWdobGlnaHQ6IEdhbWVPYmplY3Q7XG4gICAgc2VsZWN0ZWRIaWdobGlnaHQ6IEdhbWVPYmplY3RcbiAgICBoaXRGaWx0ZXI6IEdhbWVPYmplY3Q7XG4gICAgaHBCYXI6IEdhbWVPYmplY3Q7XG4gICAgbWFuYUJhcjogR2FtZU9iamVjdDtcbiAgICBwb3J0cmFpdDogR2FtZU9iamVjdDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGNoYXJhY3Rlck1vZGVsOiBDaGFyYWN0ZXJNb2RlbCwgdWlNb2RlbDogVUlNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKHBvc2l0aW9uLCBib3VuZHMpO1xuICAgICAgICB0aGlzLmNoYXJhY3Rlck1vZGVsID0gY2hhcmFjdGVyTW9kZWw7XG4gICAgICAgIHRoaXMudWlNb2RlbCA9IHVpTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLndhaXRpbmdIaWdobGlnaHQgPSB0aGlzLmFkZENoaWxkKHRoaXMudWlNb2RlbC5nZXRDaGFyYWN0ZXJXYWl0aW5nSGlnaGxpZ2h0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwwLG5ldyBQb2ludCgwLDApKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5jaGFyYWN0ZXJNb2RlbCkpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSGlnaGxpZ2h0ID0gdGhpcy5hZGRDaGlsZCh0aGlzLnVpTW9kZWwuZ2V0Q2hhcmFjdGVyU2VsZWN0ZWRIaWdobGlnaHQobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy5jaGFyYWN0ZXJNb2RlbCkpO1xuXG4gICAgICAgIHRoaXMucG9ydHJhaXQgPSB0aGlzLnVpTW9kZWwuZ2V0Q2hhcmFjdGVyUG9ydHJhaXRJbWFnZShuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLmNoYXJhY3Rlck1vZGVsKTtcbiAgICAgICAgbGV0IGNsaXAgPSBuZXcgQ2xpcChuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKVxuICAgICAgICBjbGlwLnNldENsaXAgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwb3MgPSBjbGlwLnRyYW5zZm9ybS5nZXREcmF3UG9zaXRpb24oKTtcbiAgICAgICAgICAgIGxldCBkaW0gPSBjbGlwLnRyYW5zZm9ybS5nZXREaW1lbnNpb24oKTtcbiAgICAgICAgICAgIHRoaXMuX2RyYXdFbGxpcHNlKGN0eCwgcG9zLnggLSBkaW0ud2lkdGgqMC4wNSwgcG9zLnktZGltLmhlaWdodCowLjA1LCBkaW0ud2lkdGgqMS4xLCBkaW0uaGVpZ2h0KjEuMSlcbiAgICAgICAgICAgIGN0eC5jbGlwKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoY2xpcCk7XG4gICAgICAgIGNsaXAuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIFwiYmxhY2tcIikpO1xuICAgICAgICBjbGlwLmFkZENoaWxkKHRoaXMucG9ydHJhaXQpO1xuICAgICAgICB0aGlzLnBvcnRyYWl0Lm9wYWNpdHkgPSAwLjc7XG4gICAgICAgIHRoaXMudWlNb2RlbC5nYW1lTW9kZWwuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVycy5vblVwZGF0ZS5wdXNoKCh2YWwpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2YWwuaW5kZXhPZih0aGlzLmNoYXJhY3Rlck1vZGVsKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0cmFpdC5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnRyYWl0Lm9wYWNpdHkgPSAwLjY7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHRoaXMubmV4dEhpZ2hsaWdodCA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3Rlck5leHRIaWdobGlnaHQobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigwLjUsMCxuZXcgUG9pbnQoMC41LDApKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLjUsMC4xNSkpLCB0aGlzLmNoYXJhY3Rlck1vZGVsKSk7XG4gICAgICAgIHRoaXMuaGl0RmlsdGVyID0gdGhpcy5wb3J0cmFpdC5hZGRDaGlsZCh0aGlzLnVpTW9kZWwuZ2V0Q2hhcmFjdGVySGl0RmlsdGVyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMuY2hhcmFjdGVyTW9kZWwpKTtcbiAgICAgICAgdGhpcy5ocEJhciA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3RlckhQQmFyKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwwLjUsIG5ldyBQb2ludCgwLDAuNSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQaXhlbFRyYW5zbGF0aW9uKDIsMCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQm91bmRzKG5ldyBQaXhlbERpbWVuc2lvbig4LDApLCBuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAsMC43NSkpLCB0aGlzLmNoYXJhY3Rlck1vZGVsKSk7XG4gICAgICAgIHRoaXMubWFuYUJhciA9IHRoaXMuYWRkQ2hpbGQodGhpcy51aU1vZGVsLmdldENoYXJhY3Rlck1hbmFCYXIobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigxLDAuNSwgbmV3IFBvaW50KDEsMC41KSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBQaXhlbFRyYW5zbGF0aW9uKC0yLDApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oOCwwKSwgbmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLDAuNzUpKSwgdGhpcy5jaGFyYWN0ZXJNb2RlbCkpO1xuICAgICAgICBcbiAgICAgICAgbGV0IHN0YXR1c0xpc3QgPSB0aGlzLmFkZENoaWxkKG5ldyBTdGF0dXNMaXN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMSwwLG5ldyBQb2ludCgxLDApKSwgbmV3IFBpeGVsVHJhbnNsYXRpb24oLTE2LDApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJvdW5kcyhuZXcgUGl4ZWxEaW1lbnNpb24oMzIsMCksIG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMCwxKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhcmFjdGVyTW9kZWwuc3RhdHVzZXMsIHRoaXMudWlNb2RlbCkpO1xuXG4gICAgICAgIGxldCBob2xkVHJpZ2dlciA9IHRoaXMuYWRkQ2hpbGQobmV3IFByZXNzSG9sZFRyaWdnZXIobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdGhpcy51aU1vZGVsLmhvbGREdXJhdGlvbikpO1xuICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaCh0aGlzLnVpTW9kZWwuaG9sZENoYXJhY3RlclBvcnRyYWl0LmJpbmQodGhpcy51aU1vZGVsLCB0aGlzLmNoYXJhY3Rlck1vZGVsKSwgdGhpcylcbiAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGhpcy5yZXNldC5iaW5kKHRoaXMpLCB0aGlzKTsgICAgICBcbiAgICAgICAgaG9sZFRyaWdnZXIub25SZWxlYXNlSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5yZWxlYXNlSG9sZC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpOyAgICAgICAgICAgICAgXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZHJhd0VsbGlwc2UoY3R4LCB4LCB5LCB3LCBoKVxuICAgIHtcbiAgICAgICAgdmFyIGthcHBhID0gLjU1MjI4NDgsXG4gICAgICAgICAgICBveCA9ICh3IC8gMikgKiBrYXBwYSwgLy8gY29udHJvbCBwb2ludCBvZmZzZXQgaG9yaXpvbnRhbFxuICAgICAgICAgICAgb3kgPSAoaCAvIDIpICoga2FwcGEsIC8vIGNvbnRyb2wgcG9pbnQgb2Zmc2V0IHZlcnRpY2FsXG4gICAgICAgICAgICB4ZSA9IHggKyB3LCAgICAgICAgICAgLy8geC1lbmRcbiAgICAgICAgICAgIHllID0geSArIGgsICAgICAgICAgICAvLyB5LWVuZFxuICAgICAgICAgICAgeG0gPSB4ICsgdyAvIDIsICAgICAgIC8vIHgtbWlkZGxlXG4gICAgICAgICAgICB5bSA9IHkgKyBoIC8gMjsgICAgICAgLy8geS1taWRkbGVcbiAgICAgIFxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeW0pO1xuICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyh4LCB5bSAtIG95LCB4bSAtIG94LCB5LCB4bSwgeSk7XG4gICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHhtICsgb3gsIHksIHhlLCB5bSAtIG95LCB4ZSwgeW0pO1xuICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyh4ZSwgeW0gKyBveSwgeG0gKyBveCwgeWUsIHhtLCB5ZSk7XG4gICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKHhtIC0gb3gsIHllLCB4LCB5bSArIG95LCB4LCB5bSk7XG4gICAgfVxufSIsImltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IHsgR3JpZEJ1aWxkZXIsIEdyaWRPcmllbnRhdGlvbiB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9HcmlkTGF5b3V0XCI7XG5pbXBvcnQgVUlNb2RlbCBmcm9tIFwiLi4vVUlNb2RlbFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQb3NpdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Qb3NpdGlvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgU3RhdHVzIGZyb20gXCIuLi9tb2RlbC9TdGF0dXNcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFByZXNzSG9sZFRyaWdnZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL1ByZXNzSG9sZFRyaWdnZXJcIjtcbmltcG9ydCBCdXR0b24gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L3VpL0J1dHRvblwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0dXNMaXN0IGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIHByaXZhdGUgc3RhdHVzZXM6IFN0YXR1c1tdO1xuICAgIHByaXZhdGUgdWlNb2RlbDogVUlNb2RlbFxuXG4gICAgY29uc3RydWN0b3IocG9zaXRpb246IFBvc2l0aW9uLCBib3VuZHM6IEJvdW5kcywgc3RhdHVzZXM6IFN0YXR1c1tdLCB1aU1vZGVsOiBVSU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcylcbiAgICAgICAgdGhpcy5zdGF0dXNlcyA9IHN0YXR1c2VzO1xuICAgICAgICB0aGlzLnVpTW9kZWwgPSB1aU1vZGVsO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpXG4gICAge1xuICAgICAgICBsZXQgZ2IgPSBuZXcgR3JpZEJ1aWxkZXIoKTtcbiAgICAgICAgZm9yIChsZXQgaT10aGlzLnN0YXR1c2VzLmxlbmd0aC0xO2k+PTA7aS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgaWNvbiA9IHRoaXMudWlNb2RlbC5nZXRTdGF0dXNJY29uKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxLCB0aGlzLnRyYW5zZm9ybS5ib3VuZHMpKSwgdGhpcy5zdGF0dXNlc1tpXSk7XG4gICAgICAgICAgICBpY29uLnRyYW5zZm9ybS5ib3VuZHMudGFyZ2V0QXNwZWN0UmF0aW8gPSAxO1xuICAgICAgICAgICAgZ2IucHVzaENlbGwoaWNvbik7XG4gICAgICAgICAgICBpY29uLmFkZENoaWxkKG5ldyBCdXR0b24obmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSkpO1xuXG4gICAgICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSBuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKTtcbiAgICAgICAgICAgIGhvbGRUcmlnZ2VyLm9uSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5ob2xkU3RhdHVzSWNvbi5iaW5kKHRoaXMudWlNb2RlbCwgdGhpcy5zdGF0dXNlc1tpXSksIHRoaXMpXG4gICAgICAgICAgICBob2xkVHJpZ2dlci5vblJlbGVhc2VIb2xkLnB1c2godGhpcy51aU1vZGVsLnJlbGVhc2VIb2xkLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgICAgICBpY29uLmFkZENoaWxkKGhvbGRUcmlnZ2VyKTtcbiAgICAgICAgfVxuICAgICAgICBnYi5maXhMYXllcihHcmlkT3JpZW50YXRpb24uVmVydGljYWwsIG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwxLCBuZXcgUG9pbnQoMCwxKSkpKTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChnYi5ncmlkKTtcbiAgICB9XG59IiwiaW1wb3J0IFBvc2l0aW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL1Bvc2l0aW9uXCI7XG5pbXBvcnQgUm91bmRlZFJlY3QgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2NvbnRleHQyZC9Sb3VuZGVkUmVjdFwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxEaW1lbnNpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vZGltZW5zaW9uL1Byb3BvcnRpb25hbERpbWVuc2lvblwiO1xuaW1wb3J0IEJ1dHRvbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvQnV0dG9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFiQnV0dG9uIGV4dGVuZHMgQnV0dG9uXG57XG4gICAgdGFiSWNvbjogR2FtZU9iamVjdDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uLCBib3VuZHMsIHRhYkljb24pXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzKTtcbiAgICAgICAgdGhpcy50YWJJY29uID0gdGFiSWNvbjtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IGJnID0gdGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdW5kZWZpbmVkLCBcIiNmM2U3ZDdcIiwgMCwgMTApKTtcbiAgICAgICAgdGhpcy5zZXRIb3ZlclJlY3QodGhpcy5hZGRDaGlsZChuZXcgUm91bmRlZFJlY3QobmV3IFBvc2l0aW9uKCksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigxLDEpKSwgdW5kZWZpbmVkLCBcIndoaXRlXCIsIDAsIDEwKSkpO1xuICAgICAgICB0aGlzLnNldFByZXNzZWRSZWN0KHRoaXMuYWRkQ2hpbGQobmV3IFJvdW5kZWRSZWN0KG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHVuZGVmaW5lZCwgXCJ3aGl0ZVwiLCAwLCAxMCkpKTtcbiAgICAgICAgc3VwZXIuY3JlYXRlKCk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50YWJJY29uKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgRnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyLCBGcmFtZSB9IGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9GcmFtZVwiO1xuaW1wb3J0IEJvdW5kcyBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9Cb3VuZHNcIjtcbmltcG9ydCBVSU1vZGVsIGZyb20gXCIuLi9VSU1vZGVsXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCB7IEdyaWRCdWlsZGVyLCBHcmlkT3JpZW50YXRpb24gfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvdWkvR3JpZExheW91dFwiO1xuaW1wb3J0IFBpeGVsRGltZW5zaW9uIGZyb20gXCJlbmdpbmUvdHJhbnNmb3JtL2RpbWVuc2lvbi9QaXhlbERpbWVuc2lvblwiO1xuaW1wb3J0IFByb3BvcnRpb25hbERpbWVuc2lvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS9kaW1lbnNpb24vUHJvcG9ydGlvbmFsRGltZW5zaW9uXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBQb2ludCBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnRcIjtcbmltcG9ydCBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbiBmcm9tIFwiZW5naW5lL3RyYW5zZm9ybS90cmFuc2xhdGlvbi9Qcm9wb3J0aW9uYWxUcmFuc2xhdGlvblwiO1xuaW1wb3J0IFRhYkJ1dHRvbiBmcm9tIFwiLi9UYWJCdXR0b25cIlxuaW1wb3J0IHsgRmlsbFJlY3QgfSBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvY29udGV4dDJkL1JlY3RcIjtcbmltcG9ydCBQcmVzc0hvbGRUcmlnZ2VyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC91aS9QcmVzc0hvbGRUcmlnZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYkxpc3RNZW51IGV4dGVuZHMgRnJhbWU8RnJhbWVMaXN0ZW5lciwgRnJhbWVDb250cm9sbGVyPlxue1xuICAgIHVpTW9kZWw6IFVJTW9kZWw7XG4gICAgZ3JpZDogR2FtZU9iamVjdDtcbiAgICBcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGxpc3RlbmVyOiBGcmFtZUxpc3RlbmVyLCBjb250cm9sbGVyOiBGcmFtZUNvbnRyb2xsZXIsIHVpTW9kZWw6IFVJTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihwb3NpdGlvbiwgYm91bmRzLCBsaXN0ZW5lciwgY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMudWlNb2RlbCA9IHVpTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IEZpbGxSZWN0KG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMCwxLCBuZXcgUG9pbnQoMCwxKSkpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwwKSwgbmV3IFBpeGVsRGltZW5zaW9uKDAsMTApKSwgdGhpcy51aU1vZGVsLmJhY2tncm91bmRDb2xvdXIpKTtcbiAgICAgICAgdGhpcy51aU1vZGVsLm9uQ2hhcmFjdGVyU2VsZWN0ZWQucHVzaCh0aGlzLmNyZWF0ZU1lbnUuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLnVpTW9kZWwuc2VsZWN0ZWRDaGFyYWN0ZXIpXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU1lbnUoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVNZW51KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmdyaWQpXG4gICAgICAgICAgICB0aGlzLmdyaWQucmVxdWVzdFJlbW92YWwoKTtcblxuICAgICAgICBpZiAodGhpcy51aU1vZGVsLnNlbGVjdGVkQ2hhcmFjdGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZ2IgPSBuZXcgR3JpZEJ1aWxkZXIoKTtcbiAgICAgICAgICAgIGxldCB0YWJzID0gdGhpcy5jcmVhdGVUYWJzKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTA7aTx0YWJzLmxlbmd0aDtpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2IucHVzaENlbGwodGFic1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnYi5maXhMYXllcihHcmlkT3JpZW50YXRpb24uSG9yaXpvbnRhbCk7XG4gICAgICAgICAgICB0aGlzLmdyaWQgPSB0aGlzLmFkZENoaWxkKGdiLmdyaWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ncmlkID0gdGhpcy5hZGRDaGlsZCh0aGlzLnVpTW9kZWwuZ2V0QW5pbVdhaXRIb3VyZ2xhc3MobmV3IFBvc2l0aW9uKG5ldyBQcm9wb3J0aW9uYWxUcmFuc2xhdGlvbigxLDAuNSxuZXcgUG9pbnQoMSwwLjUpKSksbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpKSk7XG4gICAgICAgICAgICB0aGlzLmdyaWQudHJhbnNmb3JtLmJvdW5kcy50YXJnZXRBc3BlY3RSYXRpbyA9IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVUYWJzKClcbiAgICB7XG4gICAgICAgIGxldCB0YWJzID0gW11cbiAgICAgICAgbGV0IHRhYiA9IHRoaXMuY3JlYXRlVGFiQnV0dG9uKHRoaXMudWlNb2RlbC5nZXRRdWlja0l0ZW1UYWJJY29uKG5ldyBQb3NpdGlvbihuZXcgUHJvcG9ydGlvbmFsVHJhbnNsYXRpb24oMC41LDAuNSxuZXcgUG9pbnQoMC41LDAuNSkpKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDAuNywwLjcpKSkpO1xuICAgICAgICB0YWJzLnB1c2godGFiKTtcbiAgICAgICAgdGFiLm9uQ2xpY2sucHVzaCh0aGlzLnVpTW9kZWwuY2xpY2tRdWlja0l0ZW1zVGFiQnV0dG9uLmJpbmQodGhpcy51aU1vZGVsKSwgdGhpcyk7XG4gICAgICAgIGxldCBob2xkVHJpZ2dlciA9IG5ldyBQcmVzc0hvbGRUcmlnZ2VyKG5ldyBQb3NpdGlvbigpLCBuZXcgQm91bmRzKG5ldyBQcm9wb3J0aW9uYWxEaW1lbnNpb24oMSwxKSksIHRoaXMudWlNb2RlbC5ob2xkRHVyYXRpb24pO1xuICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaCh0aGlzLnVpTW9kZWwuaG9sZFF1aWNrSXRlbXNUYWJCdXR0b24uYmluZCh0aGlzLnVpTW9kZWwpLCB0aGlzKVxuICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaCh0YWIucmVzZXQuYmluZCh0YWIpLCB0aGlzKTtcbiAgICAgICAgaG9sZFRyaWdnZXIub25SZWxlYXNlSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5yZWxlYXNlSG9sZC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICB0YWIuYWRkQ2hpbGQoaG9sZFRyaWdnZXIpO1xuXG4gICAgICAgIHRoaXMudWlNb2RlbC5zZWxlY3RlZENoYXJhY3Rlci5zcGVsbExpc3RzLmZvckVhY2gobCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB0YWIgPSB0aGlzLmNyZWF0ZVRhYkJ1dHRvbih0aGlzLnVpTW9kZWwuZ2V0U3BlbGxMaXN0VGFiSWNvbihuZXcgUG9zaXRpb24obmV3IFByb3BvcnRpb25hbFRyYW5zbGF0aW9uKDAuNSwwLjUsbmV3IFBvaW50KDAuNSwwLjUpKSksIG5ldyBCb3VuZHMobmV3IFByb3BvcnRpb25hbERpbWVuc2lvbigwLjcsMC43KSksIGwpKTtcbiAgICAgICAgICAgICAgICB0YWJzLnB1c2godGFiKTtcbiAgICAgICAgICAgICAgICB0YWIub25DbGljay5wdXNoKHRoaXMudWlNb2RlbC5jbGlja1NwZWxsTGlzdFRhYkJ1dHRvbi5iaW5kKHRoaXMudWlNb2RlbCxsKSwgdGhpcylcbiAgICAgICAgICAgICAgICBsZXQgaG9sZFRyaWdnZXIgPSBuZXcgUHJlc3NIb2xkVHJpZ2dlcihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSkpLCB0aGlzLnVpTW9kZWwuaG9sZER1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICBob2xkVHJpZ2dlci5vbkhvbGQucHVzaCh0aGlzLnVpTW9kZWwuaG9sZFNwZWxsTGlzdFRhYkJ1dHRvbi5iaW5kKHRoaXMudWlNb2RlbCwgbCksIHRoaXMpXG4gICAgICAgICAgICAgICAgaG9sZFRyaWdnZXIub25Ib2xkLnB1c2godGFiLnJlc2V0LmJpbmQodGFiKSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgaG9sZFRyaWdnZXIub25SZWxlYXNlSG9sZC5wdXNoKHRoaXMudWlNb2RlbC5yZWxlYXNlSG9sZC5iaW5kKHRoaXMudWlNb2RlbCksIHRoaXMpO1xuICAgICAgICAgICAgICAgIHRhYi5hZGRDaGlsZChob2xkVHJpZ2dlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhYnM7XG4gICAgfVxuXG4gICAgY3JlYXRlVGFiQnV0dG9uKGNoaWxkOiBHYW1lT2JqZWN0KTogVGFiQnV0dG9uXG4gICAge1xuICAgICAgICBsZXQgdGFiID0gbmV3IFRhYkJ1dHRvbihuZXcgUG9zaXRpb24oKSwgbmV3IEJvdW5kcyhuZXcgUHJvcG9ydGlvbmFsRGltZW5zaW9uKDEsMSwgdGhpcy50cmFuc2Zvcm0uYm91bmRzKSksIGNoaWxkKTtcbiAgICAgICAgdGFiLnRyYW5zZm9ybS5ib3VuZHMudGFyZ2V0QXNwZWN0UmF0aW8gPSAxO1xuICAgICAgICB0YWIuYWRkQ2hpbGQoY2hpbGQpO1xuICAgICAgICByZXR1cm4gdGFiO1xuICAgIH1cbn0iLCJpbXBvcnQgUG9ydHJhaXQxIGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0LzFwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0MiBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8ycC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdDMgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvM3AucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQ0IGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0LzRwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0T3JjIGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0LzVwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0NiBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC82cC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdFNrdWxsIGZyb20gXCJhc3NldHMvcnBnL3BvcnRyYWl0LzdwLnBuZ1wiO1xuaW1wb3J0IFBvcnRyYWl0OCBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC84cC5wbmdcIjtcbmltcG9ydCBQb3J0cmFpdDkgZnJvbSBcImFzc2V0cy9ycGcvcG9ydHJhaXQvOXAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxMCBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xMHAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxMSBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xMXAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxMiBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xMnAucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxMyBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xM3AucG5nXCI7XG5pbXBvcnQgUG9ydHJhaXQxNCBmcm9tIFwiYXNzZXRzL3JwZy9wb3J0cmFpdC8xNHAucG5nXCI7XG5cbmltcG9ydCBUZXh0dXJlRW1wdHkgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvZW1wdHkucG5nXCI7IGV4cG9ydCB7IFRleHR1cmVFbXB0eSB9O1xuXG5pbXBvcnQgVGV4dHVyZVN0b25lV2FsbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy80LnBuZ1wiO1xuaW1wb3J0IFRleHR1cmVTdG9uZUFyY2h3YXkgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvNC1hcmNoLnBuZ1wiO1xuaW1wb3J0IFRleHR1cmVTdG9uZVdhbGxOb3JtYWwgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvNG4ucG5nXCI7XG5cbmltcG9ydCBUWFJlZENsb3ZlciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9CYXR0ZXJlZCBSZWQgQ2xvdmVyLmpwZ1wiO1xuaW1wb3J0IFRYR3Jhbml0ZVdhbGwgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvR3Jhbml0ZSBXYWxsLmpwZ1wiO1xuaW1wb3J0IFRYU2VnbWVudGVkU3RvbmVXYWxsIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1NlZ21lbnRlZCBTdG9uZSBXYWxsLmpwZ1wiO1xuaW1wb3J0IFRYU2FtYXJpc01ldGFsIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1NhbWFyaXMgTWV0YWwuanBnXCI7XG5pbXBvcnQgVFhQYWxhY2VGbG9vciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9QYWxhY2UgRmxvb3IuanBnXCI7XG5pbXBvcnQgVFhTbXVkZ2VkRGlydCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TbXVkZ2VkIERpcnQuanBnXCI7XG5pbXBvcnQgVFhDYXJ2ZWRTYW5kc3RvbmUgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ2FydmVkIFNhbmRzdG9uZS5qcGdcIjtcbmltcG9ydCBUWEFzeWx1bUNlbGxPcmFuZ2UgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQXN5bHVtIENlbGwgT3JhbmdlLmpwZ1wiO1xuaW1wb3J0IFRYQ291bmNpbENoYW1iZXIgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQ291bmNpbCBDaGFtYmVyLmpwZ1wiO1xuaW1wb3J0IFRYU2FtYXJpcyBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TYW1hcmlzLmpwZ1wiO1xuaW1wb3J0IFRYU2xpbWVXYWxsIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1NsaW1lIFdhbGwuanBnXCI7XG5pbXBvcnQgVFhEYXJrR3JheU1hcmJsZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9EYXJrIEdyYXkgTWFyYmxlLmpwZ1wiO1xuaW1wb3J0IFRYR2xhc3N5UGlua01hcmJsZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9HbGFzc3kgUGluayBNYXJibGUuanBnXCI7XG5pbXBvcnQgVFhTbWFzaGVkR3JheU1hcmJsZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TbWFzaGVkIEdyYXkgTWFyYmxlLmpwZ1wiO1xuaW1wb3J0IFRYRGVhZENhdmVzIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0RlYWQgQ2F2ZXMuanBnXCI7XG5pbXBvcnQgVFhGZW5TdG9uZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9GZW4gU3RvbmUuanBnXCI7XG5pbXBvcnQgVFhCcm93blF1c3NhaXJHcmFuaXRlIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0Jyb3duIFF1c3NhaXIgR3Jhbml0ZS5qcGdcIjtcbmltcG9ydCBUWFJvdWdoT3J0aG9jbGFzZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Sb3VnaCBPcnRob2NsYXNlLmpwZ1wiO1xuaW1wb3J0IFRYTWlkbmlnaHRTdG9uZSBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9NaWRuaWdodCBTdG9uZS5qcGdcIjtcbmltcG9ydCBUWFdlZWR5TGF3biBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9XZWVkeSBMYXduLmpwZ1wiO1xuaW1wb3J0IFRYTW9zc0N1c2hpb25zIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL01vc3MgQ3VzaGlvbnMuanBnXCI7XG5pbXBvcnQgVFhGb3Jlc3RGbG9vciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Gb3Jlc3QgRmxvb3IuanBnXCI7XG5pbXBvcnQgVFhXZWVkc0FuZEdyYXZlbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9XZWVkcyBhbmQgR3JhdmVsLmpwZ1wiO1xuaW1wb3J0IFRYTW9zc3lSb2NrIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL01vc3N5IFJvY2suanBnXCI7XG5cbmltcG9ydCBUWENvdHRhZ2UxRG9vciBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBEb29yIChGTCAxKS5qcGdcIjtcbmltcG9ydCBUWENvdHRhZ2UxV2FsbCBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXYWxsIChGTCAxKS5qcGdcIjtcbmltcG9ydCBUWENvdHRhZ2UxV2FsbEZsMiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXYWxsIChGTCAyKykuanBnXCI7XG5pbXBvcnQgVFhDb3R0YWdlMVdpbmRvd0ZsMiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXaW5kb3cgKEZMIDIrKS5qcGdcIjtcbmltcG9ydCBUWENvdHRhZ2UxV2luZG93MkZsMiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBXaW5kb3cgMiAoRkwgMispLmpwZ1wiO1xuaW1wb3J0IFRYQ290dGFnZTFEb29yMiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9Db3R0YWdlIDEgLSBEb29yIDIgKEZMIDEpLmpwZ1wiO1xuXG5pbXBvcnQgVFhTYW5keUxpY2hlbkJyaWNrIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL1NhbmR5IExpY2hlbiBCcmljay5qcGdcIjtcbmltcG9ydCBUWFN0cmF3Um9vZiBmcm9tIFwiYXNzZXRzL3JwZy90ZXh0dXJlcy9TdHJhdyBSb29mLmpwZ1wiO1xuaW1wb3J0IFRYU3RyYXdSb29mSW50ZXJpb3IgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvU3RyYXcgUm9vZiBJbnRlcmlvci5qcGdcIjtcblxuaW1wb3J0IFNreWJveFRleHR1cmUxWFBvcyBmcm9tICdhc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfZWFzdC5wbmcnO1xuaW1wb3J0IFNreWJveFRleHR1cmUxWE5lZyBmcm9tICdhc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfd2VzdC5wbmcnO1xuaW1wb3J0IFNreWJveFRleHR1cmUxWVBvcyBmcm9tICdhc3NldHMvcnBnL3NreWJveC9jbG91ZHMxL2Nsb3VkczFfdXAucG5nJztcbmltcG9ydCBTa3lib3hUZXh0dXJlMVlOZWcgZnJvbSAnYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX2Rvd24ucG5nJztcbmltcG9ydCBTa3lib3hUZXh0dXJlMVpQb3MgZnJvbSAnYXNzZXRzL3JwZy9za3lib3gvY2xvdWRzMS9jbG91ZHMxX25vcnRoLnBuZyc7XG5pbXBvcnQgU2t5Ym94VGV4dHVyZTFaTmVnIGZyb20gJ2Fzc2V0cy9ycGcvc2t5Ym94L2Nsb3VkczEvY2xvdWRzMV9zb3V0aC5wbmcnO1xuaW1wb3J0IFVrb2JhY2hUZXh0dXJlIGZyb20gXCJhc3NldHMvcnBnL25wY3MvdWtvYmFjaC10ZXN0LnBuZ1wiXG5pbXBvcnQgQnVlclRleHR1cmUgZnJvbSBcImFzc2V0cy9ycGcvbnBjcy9idWVyLXRlc3QucG5nXCJcbmltcG9ydCBTa3VsbENyb3NzYm9uZXMgZnJvbSBcImFzc2V0cy9ycGcvbnBjcy9za3VsbC1jcm9zc2JvbmVzLnBuZ1wiO1xuaW1wb3J0IEZhbmN5RHJlc3MxMlRleHR1cmUgZnJvbSBcImFzc2V0cy9ycGcvbnBjcy9mYW5jeS1kcmVzcy0xMi5wbmdcIjtcblxuaW1wb3J0IEFudGVkaWx1dmlhbkRvb3IgZnJvbSBcImFzc2V0cy9ycGcvdGV4dHVyZXMvQW50ZWRpbHV2aWFuIERvb3IucG5nXCI7XG5pbXBvcnQgQW50ZWRpbHV2aWFuRG9vckFscGhhIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0FudGVkaWx1dmlhbiBEb29yLWFscGhhbWFwLnBuZ1wiO1xuaW1wb3J0IENvdW50aW5nSG91c2VEb29yIGZyb20gXCJhc3NldHMvcnBnL3RleHR1cmVzL0NvdW50aW5nIEhvdXNlIERvb3IuanBnXCI7XG5cbmltcG9ydCBXYWxsczEgZnJvbSBcImFzc2V0cy9ycGcvbGV2ZWxzL3dhbGxzMS5qc29uXCI7XG5pbXBvcnQgTGFyZ2VIb3VzZSBmcm9tIFwiYXNzZXRzL3JwZy9sZXZlbHMvbGFyZ2UtaG91c2UuanNvblwiO1xuaW1wb3J0IE9wZW5Db3VudHJ5IGZyb20gXCJhc3NldHMvcnBnL2xldmVscy9vcGVuLWNvdW50cnkuanNvblwiO1xuXG5pbXBvcnQgU3BlbGxUZXN0SW1hZ2UgZnJvbSBcImFzc2V0cy9ycGcvc3BlbGxzL2JlYXV0aWZ1bC1iaXJkLmpwZ1wiO1xuaW1wb3J0IEhvdXJHbGFzc0ljb24gZnJvbSBcImFzc2V0cy9ycGcvdWkvaG91cmdsYXNzLnBuZ1wiO1xuaW1wb3J0IENoYXJTaGVldEljb24gZnJvbSBcImFzc2V0cy9ycGcvdWkvY2hhcnNoZWV0LWljb24ucG5nXCI7XG5cbmltcG9ydCBFYXJ0aFNwZWxsVGFiIGZyb20gXCJhc3NldHMvcnBnL3VpL2VhcnRoLXNwZWxsLXRhYi5wbmdcIjtcbmltcG9ydCBBaXJTcGVsbFRhYiBmcm9tIFwiYXNzZXRzL3JwZy91aS9haXItc3BlbGwtdGFiLnBuZ1wiO1xuaW1wb3J0IEZpcmVTcGVsbFRhYiBmcm9tIFwiYXNzZXRzL3JwZy91aS9maXJlLXNwZWxsLXRhYi5wbmdcIjtcbmltcG9ydCBXYXRlclNwZWxsVGFiIGZyb20gXCJhc3NldHMvcnBnL3VpL3dhdGVyLXNwZWxsLXRhYi5wbmdcIjtcblxuaW1wb3J0IFF1aWNrSXRlbVRhYkljb24gZnJvbSBcImFzc2V0cy9ycGcvdWkvcXVpY2staXRlbXMtdGFiLnBuZ1wiO1xuXG5cbmxldCBnYW1lRGF0YTogR2FtZURhdGEgPVxue1xuICAgIHNreWJveGVzOiBbeyB4UG9zOiBTa3lib3hUZXh0dXJlMVhQb3MsIHhOZWc6IFNreWJveFRleHR1cmUxWE5lZywgeVBvczogU2t5Ym94VGV4dHVyZTFZUG9zLCB5TmVnOiBTa3lib3hUZXh0dXJlMVlOZWcsIHpQb3M6IFNreWJveFRleHR1cmUxWlBvcywgek5lZzogU2t5Ym94VGV4dHVyZTFaTmVnIH1dLFxuICAgIHBvcnRyYWl0czogW3sgZmlsZW5hbWU6IFBvcnRyYWl0MSB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MiB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MyB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0NCB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0T3JjIH0sXG4gICAgeyBmaWxlbmFtZTogUG9ydHJhaXQ2IH0sXG4gICAgeyBmaWxlbmFtZTogUG9ydHJhaXRTa3VsbCB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0OCB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0OSB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MTAgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDExIH0sXG4gICAgeyBmaWxlbmFtZTogUG9ydHJhaXQxMiB9LFxuICAgIHsgZmlsZW5hbWU6IFBvcnRyYWl0MTMgfSxcbiAgICB7IGZpbGVuYW1lOiBQb3J0cmFpdDE0IH1dLFxuXG4gICAgd2FsbHM6IFt7IGZpbGVuYW1lOiBUZXh0dXJlRW1wdHksIHBhc3NhYmxlOiB0cnVlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNhbWFyaXNNZXRhbCwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiBmYWxzZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVGV4dHVyZUVtcHR5LCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IGZhbHNlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWEdyYW5pdGVXYWxsLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IGZhbHNlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFJlZENsb3ZlciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiBmYWxzZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVGV4dHVyZVN0b25lQXJjaHdheSwgcGFzc2FibGU6IHRydWUsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuXG4gICAgeyBmaWxlbmFtZTogVFhTZWdtZW50ZWRTdG9uZVdhbGwsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhQYWxhY2VGbG9vciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNtdWRnZWREaXJ0LCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQ2FydmVkU2FuZHN0b25lLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQXN5bHVtQ2VsbE9yYW5nZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdW5jaWxDaGFtYmVyLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYU2FtYXJpcywgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNsaW1lV2FsbCwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWERhcmtHcmF5TWFyYmxlLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYR2xhc3N5UGlua01hcmJsZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNtYXNoZWRHcmF5TWFyYmxlLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYRGVhZENhdmVzLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYRmVuU3RvbmUsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhCcm93blF1c3NhaXJHcmFuaXRlLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYUm91Z2hPcnRob2NsYXNlLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYTWlkbmlnaHRTdG9uZSwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFdlZWR5TGF3biwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWE1vc3NDdXNoaW9ucywgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWEZvcmVzdEZsb29yLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYV2VlZHNBbmRHcmF2ZWwsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhNb3NzeVJvY2ssIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG5cbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxRG9vciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxV2FsbCwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxV2FsbEZsMiwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWENvdHRhZ2UxV2luZG93RmwyLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQ290dGFnZTFXaW5kb3cyRmwyLCBwYXNzYWJsZTogZmFsc2UsIG5vcm1hbE1hcDogXCJcIiwgdHJhbnNwYXJlbnQ6IHRydWUsIHJlcGVhdDpbMSwxXSB9LFxuICAgIHsgZmlsZW5hbWU6IFRYQ290dGFnZTFEb29yMiwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfSxcbiAgICB7IGZpbGVuYW1lOiBUWFNhbmR5TGljaGVuQnJpY2ssIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTdHJhd1Jvb2YsIHBhc3NhYmxlOiBmYWxzZSwgbm9ybWFsTWFwOiBcIlwiLCB0cmFuc3BhcmVudDogdHJ1ZSwgcmVwZWF0OlsxLDFdIH0sXG4gICAgeyBmaWxlbmFtZTogVFhTdHJhd1Jvb2ZJbnRlcmlvciwgcGFzc2FibGU6IGZhbHNlLCBub3JtYWxNYXA6IFwiXCIsIHRyYW5zcGFyZW50OiB0cnVlLCByZXBlYXQ6WzEsMV0gfV0sXG4gICAgXG4gICAgZG9vcnM6IFt7ZmlsZW5hbWU6IEFudGVkaWx1dmlhbkRvb3IsIGFscGhhTWFwOiBBbnRlZGlsdXZpYW5Eb29yQWxwaGEsIG5vcm1hbE1hcDpcIlwifV0sXG5cbiAgICBvYmplY3RzOiBbeyBuYW1lOiBcIkNoZXN0XCIsIGZpbGVuYW1lOiBcImFzc2V0cy9ycGcvQmFzaWMgUlBHIEl0ZW0gRnJlZS9NZXRhbCBDYXNlXzAxLnBuZ1wiIH0sXG4gICAgeyBuYW1lOiBcIkxldmVyXCIsIGZpbGVuYW1lOiBcInJwZy9vYmplY3QvMy5wbmdcIiB9LFxuICAgIHsgbmFtZTogXCJCdXR0b25cIiwgZmlsZW5hbWU6IFwicnBnL29iamVjdC80LnBuZ1wiIH1dLFxuXG4gICAgbnBjczogW3tcbiAgICAgICAgbmFtZTogXCJVa29iYWNoXCIsXG4gICAgICAgIGZpbGVuYW1lOiBVa29iYWNoVGV4dHVyZSxcbiAgICAgICAgZGVhZFRleHR1cmU6IFNrdWxsQ3Jvc3Nib25lcyxcbiAgICAgICAgc2NhbGU6IDAuNSxcbiAgICAgICAgaHA6IFwiM2Q4KzNcIixcbiAgICAgICAgbG9vdDogXCIzZDRcIixcbiAgICAgICAgaG9zdGlsZTogdHJ1ZSxcbiAgICAgICAgYWN0aW9uczogW3sgbmFtZTogXCJTd29yZFwiLCB0eXBlOiBcImF0dGFja1wiLCByYW5nZTogMSwgZGFtYWdlOiBcIjJkNlwiLCB0b0hpdDogXCIzXCIsIHJlY292ZXJ5OiBcIjJcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiQm93XCIsIHR5cGU6IFwiYXR0YWNrXCIsIHJhbmdlOiA2LCBkYW1hZ2U6IFwiMWQ0XCIsIHRvSGl0OiBcIjNcIiwgcmVjb3Zlcnk6IFwiMTBcIiB9XVxuICAgIH0sXG5cbiAgICB7XG4gICAgICAgIG5hbWU6IFwiQnVlclwiLFxuICAgICAgICBmaWxlbmFtZTogQnVlclRleHR1cmUsXG4gICAgICAgIGRlYWRUZXh0dXJlOiBTa3VsbENyb3NzYm9uZXMsXG4gICAgICAgIHNjYWxlOiAwLjgsXG4gICAgICAgIGhwOiBcIjZkOCs2XCIsXG4gICAgICAgIGxvb3Q6IFwiNmQ4XCIsXG4gICAgICAgIGhvc3RpbGU6IHRydWUsXG4gICAgICAgIGFjdGlvbnM6IFt7IG5hbWU6IFwiQml0ZVwiLCB0eXBlOiBcImF0dGFja1wiLCByYW5nZTogMSwgZGFtYWdlOiBcIjJkOFwiLCB0b0hpdDogXCI0XCIsIHJlY292ZXJ5OiBcIjNcIiB9XVxuICAgIH0sXG5cbiAgICB7XG4gICAgICAgIG5hbWU6IFwiRmFuY3kgRHJlc3MgMTJcIixcbiAgICAgICAgZmlsZW5hbWU6IEZhbmN5RHJlc3MxMlRleHR1cmUsXG4gICAgICAgIGRlYWRUZXh0dXJlOiBTa3VsbENyb3NzYm9uZXMsXG4gICAgICAgIHNjYWxlOiAwLjYsXG4gICAgICAgIGhwOiBcIjJkNlwiLFxuICAgICAgICBsb290OiBcIjNkNFwiLFxuICAgICAgICBob3N0aWxlOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uczogW11cbiAgICB9XSxcblxuICAgIGVxdWlwbWVudDogW3sgdHlwZTogXCJ3ZWFwb25cIiwgbmFtZTogXCJTd29yZFwiLCBkYW1hZ2U6IFwiMmQ2XCIsIHRvSGl0OiA0LCByYW5nZTogMSB9LFxuICAgIHsgdHlwZTogXCJ3ZWFwb25cIiwgbmFtZTogXCJCb3dcIiwgZGFtYWdlOiBcIjFkOFwiLCB0b0hpdDogNCwgcmFuZ2U6IDYgfV0sXG5cbiAgICB1aTogeyBob3VyZ2xhc3NJY29uOiBIb3VyR2xhc3NJY29uLCBjaGFyU2hlZXRJY29uOiBDaGFyU2hlZXRJY29uLCBxdWlja0l0ZW1UYWJJY29uOiBRdWlja0l0ZW1UYWJJY29uIH0sXG5cbiAgICBsZXZlbHM6IFt7XG4gICAgICAgIG5hbWU6IFwiRHVuZ2VvblwiLCB3aWR0aDogMiwgaGVpZ2h0OiAxLCBkZXB0aDogMixcbiAgICAgICAgd2FsbHM6IFswLCAwLCAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMSwgMCxcblxuICAgICAgICAgICAgMCwgMCwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDAsIDEsIDBdLFxuICAgICAgICBkb29yczogW10sXG4gICAgICAgIG9iamVjdHM6IFtdLFxuICAgICAgICBucGNzOiBbXSxcbiAgICAgICAgc3RhcnRpbmdQb3NpdGlvbjogWzAsIDAsIDBdLFxuICAgICAgICBzdGFydGluZ0ZhY2luZzogMSxcbiAgICAgICAgb3V0c2lkZTogZmFsc2UsXG4gICAgICAgIHNreWJveDogMFxuICAgIH0sXG5cbiAgICB7XG4gICAgICAgIG5hbWU6IFwiT3BlbiBDb3VudHJ5XCIsIHdpZHRoOiAxMCwgaGVpZ2h0OiAyLCBkZXB0aDogOCwgXG4gICAgICAgIHdhbGxzOiBPcGVuQ291bnRyeSxcbiAgICAgICAgZG9vcnM6IFt7dHlwZTogMCwgcG9zaXRpb246IFs2LDAsNSwwXSwgdGFyZ2V0OiBbMiwzLDEsNCwwXSwgb3BlbkFuZ2xlOiB1bmRlZmluZWR9XSxcbiAgICAgICAgb2JqZWN0czogW10sXG4gICAgICAgIG5wY3M6IFtdLFxuICAgICAgICBzdGFydGluZ1Bvc2l0aW9uOiBbOCwgMCwgN10sXG4gICAgICAgIHN0YXJ0aW5nRmFjaW5nOiAwLFxuICAgICAgICBvdXRzaWRlOiB0cnVlLFxuICAgICAgICBza3lib3g6IDBcbiAgICB9LFxuXG4gICAge1xuICAgICAgICBuYW1lOiBcIkhvdXNlIG9mIFZhaHNcIiwgd2lkdGg6IDcsIGRlcHRoOiA1LCBoZWlnaHQ6IDMsXG4gICAgICAgIHdhbGxzOiBMYXJnZUhvdXNlLFxuICAgICAgICBkb29yczogW3t0eXBlOiAwLCBwb3NpdGlvbjogWzIsMSwzLDBdLCB0YXJnZXQ6IHVuZGVmaW5lZCwgb3BlbkFuZ2xlOiBNYXRoLlBJLzJ9LFxuICAgICAgICB7dHlwZTogMCwgcG9zaXRpb246IFszLDEsNCwxXSwgdGFyZ2V0OiB1bmRlZmluZWQsIG9wZW5BbmdsZTogTWF0aC5QSS8yfSxcbiAgICAgICAge3R5cGU6IDAsIHBvc2l0aW9uOiBbMywxLDQsMl0sIHRhcmdldDogWzEsNiwwLDUsNF0sIG9wZW5BbmdsZTogdW5kZWZpbmVkfSxcbiAgICAgICAge3R5cGU6IDAsIHBvc2l0aW9uOiBbNCwxLDIsMV0sIHRhcmdldDogdW5kZWZpbmVkLCBvcGVuQW5nbGU6IE1hdGguUEkvMn0sXG4gICAgICAgIHt0eXBlOiAwLCBwb3NpdGlvbjogWzQsMSwyLDNdLCB0YXJnZXQ6IHVuZGVmaW5lZCwgb3BlbkFuZ2xlOiBNYXRoLlBJLzJ9XSxcbiAgICAgICAgb2JqZWN0czogW10sXG4gICAgICAgIG5wY3M6IFtdLFxuICAgICAgICBzdGFydGluZ1Bvc2l0aW9uOiBbMywgMSwgNF0sXG4gICAgICAgIHN0YXJ0aW5nRmFjaW5nOiAwLFxuICAgICAgICBvdXRzaWRlOiBmYWxzZSxcbiAgICAgICAgc2t5Ym94OiB1bmRlZmluZWRcbiAgICB9XSxcbiAgICBwYXJ0eToge1xuICAgICAgICBjaGFyYWN0ZXJzOiBbe1xuICAgICAgICAgICAgbmFtZTogXCJUb3J3eW5cIiwgdGl0bGU6IFwiU3F1aXJlXCIsIHBvcnRyYWl0OiAxMCwgZXF1aXBtZW50OiBbMCwgMV0sIGxldmVsOiAxLCB4cDogMCwgaHA6IDI0LCBtYXhIUDogMjQsIG1hbmE6IDAsIG1heE1hbmE6IDAsXG4gICAgICAgICAgICBzcGVsbExpc3RzOiBbXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIkFtZWxhclwiLCB0aXRsZTogXCJBY29seXRlXCIsIHBvcnRyYWl0OiAxLCBlcXVpcG1lbnQ6IFtdLCBsZXZlbDogMSwgeHA6IDAsIGhwOiAxNCwgbWF4SFA6IDE0LCBtYW5hOiA4LCBtYXhNYW5hOiA4LFxuICAgICAgICAgICAgc3BlbGxMaXN0czogW3sgbGlzdDogMiwgc3BlbGxzOiBbMF0gfV1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCJHYXJuXCIsIHRpdGxlOiBcIlBpY2twb2NrZXRcIiwgcG9ydHJhaXQ6IDUsIGVxdWlwbWVudDogW10sIGxldmVsOiAxLCB4cDogMCwgaHA6IDEyLCBtYXhIUDogMTIsIG1hbmE6IDAsIG1heE1hbmE6IDAsXG4gICAgICAgICAgICBzcGVsbExpc3RzOiBbXVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiBcIk1lbHlzdHJhXCIsIHRpdGxlOiBcIkFwcHJlbnRpY2VcIiwgcG9ydHJhaXQ6IDMsIGVxdWlwbWVudDogW10sIGxldmVsOiAxLCB4cDogMCwgaHA6IDgsIG1heEhQOiA4LCBtYW5hOiAxMiwgbWF4TWFuYTogMTIsXG4gICAgICAgICAgICBzcGVsbExpc3RzOiBbeyBsaXN0OiAwLCBzcGVsbHM6IFswXSB9LFxuICAgICAgICAgICAgeyBsaXN0OiAxLCBzcGVsbHM6IFswXSB9LFxuICAgICAgICAgICAgeyBsaXN0OiAyLCBzcGVsbHM6IFswLCAxXSB9LFxuICAgICAgICAgICAgeyBsaXN0OiAzLCBzcGVsbHM6IFtdIH1dXG4gICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgZ29sZDogMFxuICAgIH0sXG4gICAgcGxheWVyOiB7IHBvc2l0aW9uOiB1bmRlZmluZWQsIGZhY2luZzogMCwgbGV2ZWw6IDEgfSxcblxuICAgIHNwZWxsTGlzdHM6IFt7IG5hbWU6IFwiRWFydGhcIiwgc3BlbGxzOiBbeyBuYW1lOiBcIkxldmVsIEVkaXRpbmdcIiwgaWNvbjogU3BlbGxUZXN0SW1hZ2UgfV0sIGljb246IEVhcnRoU3BlbGxUYWIgfSxcbiAgICB7IG5hbWU6IFwiQWlyXCIsIHNwZWxsczogW3sgbmFtZTogXCJGbHlcIiwgaWNvbjogU3BlbGxUZXN0SW1hZ2UgfV0sIGljb246IEFpclNwZWxsVGFiIH0sXG4gICAgeyBuYW1lOiBcIkZpcmVcIiwgaWNvbjogRmlyZVNwZWxsVGFiLCBzcGVsbHM6IFt7IG5hbWU6IFwiRmlyZSBCb2x0XCIsIGljb246IFNwZWxsVGVzdEltYWdlIH0sIHsgbmFtZTogXCJUb3JjaCBMaWdodFwiLCBpY29uOiBTcGVsbFRlc3RJbWFnZSB9XSB9LFxuICAgIHsgbmFtZTogXCJXYXRlclwiLCBzcGVsbHM6IFtdLCBpY29uOiBXYXRlclNwZWxsVGFiIH1dXG5cbn1cbmV4cG9ydCB7IGdhbWVEYXRhIH07XG5cbmV4cG9ydCBjbGFzcyBHYW1lRGF0YSB7XG4gICAgcG9ydHJhaXRzOiBQb3J0cmFpdERhdGFbXTtcbiAgICB3YWxsczogV2FsbERhdGFbXTtcbiAgICBkb29yczogRG9vckRhdGFbXTtcbiAgICBvYmplY3RzOiBXb3JsZE9iamVjdERhdGFbXTtcbiAgICBucGNzOiBOUENEYXRhW107XG4gICAgbGV2ZWxzOiBMZXZlbERhdGFbXTtcbiAgICBwYXJ0eTogUGFydHlEYXRhO1xuICAgIHBsYXllcjogUGxheWVyRGF0YTtcbiAgICB1aTogVUlEYXRhXG4gICAgZXF1aXBtZW50OiAoSXRlbURhdGEgfCBXZWFwb25JdGVtRGF0YSlbXTtcbiAgICBza3lib3hlczogU2t5Ym94RGF0YVtdO1xuICAgIHNwZWxsTGlzdHM6IFNwZWxsTGlzdERhdGFbXTtcbn1cbmV4cG9ydCBjbGFzcyBTa3lib3hEYXRhIHsgeFBvczogc3RyaW5nOyB4TmVnOiBzdHJpbmc7IHlQb3M6IHN0cmluZzsgeU5lZzogc3RyaW5nOyB6UG9zOiBzdHJpbmc7IHpOZWc6IHN0cmluZyB9XG5leHBvcnQgY2xhc3MgUG9ydHJhaXREYXRhIHsgZmlsZW5hbWU6IHN0cmluZyB9XG5leHBvcnQgY2xhc3MgV2FsbERhdGEgeyBmaWxlbmFtZTogc3RyaW5nOyBwYXNzYWJsZTogYm9vbGVhbjsgbm9ybWFsTWFwOiBzdHJpbmc7IHRyYW5zcGFyZW50OiBib29sZWFuOyByZXBlYXQ6IG51bWJlcltdIH1cbmV4cG9ydCBjbGFzcyBXYWxsRGV0YWlsc0RhdGEgeyB0OiBudW1iZXI7IG53OiBudW1iZXI7IG5lOiBudW1iZXI7IHNlOiBudW1iZXI7IHN3OiBudW1iZXI7IG1pZDogbnVtYmVyOyBuOiBudW1iZXI7IGU6IG51bWJlcjsgczogbnVtYmVyOyB3OiBudW1iZXIgfVxuZXhwb3J0IGNsYXNzIFdvcmxkT2JqZWN0RGF0YSB7IG5hbWU6IHN0cmluZzsgZmlsZW5hbWU6IHN0cmluZyB9XG5leHBvcnQgY2xhc3MgTlBDRGF0YSB7IG5hbWU6IHN0cmluZzsgZmlsZW5hbWU6IHN0cmluZzsgZGVhZFRleHR1cmU6IHN0cmluZzsgc2NhbGU6IG51bWJlcjsgaHA6IHN0cmluZzsgbG9vdDogc3RyaW5nOyBob3N0aWxlOiBib29sZWFuOyBhY3Rpb25zOiBBY3Rpb25EYXRhW10gfVxuZXhwb3J0IGNsYXNzIEFjdGlvbkRhdGEgeyB0eXBlOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgcmFuZ2U6IG51bWJlcjsgZGFtYWdlOiBzdHJpbmc7IHRvSGl0OiBzdHJpbmc7IHJlY292ZXJ5OiBzdHJpbmcgfVxuZXhwb3J0IGNsYXNzIExldmVsRGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgZGVwdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICB3YWxsczogKG51bWJlciB8IGFueSlbXTtcbiAgICAvLyBwb3NpdGlvbjogeCx5LHosZmFjZVxuICAgIC8vIHRhcmdldDogbGV2ZWwseCx5LHpcbiAgICBkb29yczogTGV2ZWxEb29yRGF0YVtdO1xuICAgIG9iamVjdHM6IHsgdHlwZTogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyW10gfVtdO1xuICAgIG5wY3M6IHsgdHlwZTogbnVtYmVyLCBwb3NpdGlvbjogbnVtYmVyW10gfVtdO1xuICAgIHN0YXJ0aW5nUG9zaXRpb246IG51bWJlcltdO1xuICAgIHN0YXJ0aW5nRmFjaW5nOiBudW1iZXI7XG4gICAgb3V0c2lkZTogYm9vbGVhbjtcbiAgICBza3lib3g6IG51bWJlcjtcbn1cbmV4cG9ydCBjbGFzcyBQYXJ0eURhdGEge1xuICAgIGNoYXJhY3RlcnM6IENoYXJhY3RlckRhdGFbXTtcbiAgICBnb2xkOiBudW1iZXI7XG59XG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyRGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgcG9ydHJhaXQ6IG51bWJlcjtcbiAgICBlcXVpcG1lbnQ6IG51bWJlcltdO1xuICAgIGxldmVsOiBudW1iZXJcbiAgICB4cDogbnVtYmVyXG4gICAgaHA6IG51bWJlcjtcbiAgICBtYXhIUDogbnVtYmVyO1xuICAgIG1hbmE6IG51bWJlcjtcbiAgICBtYXhNYW5hOiBudW1iZXI7XG4gICAgc3BlbGxMaXN0czogeyBsaXN0OiBudW1iZXIsIHNwZWxsczogbnVtYmVyW10gfVtdXG5cbn1cbmV4cG9ydCBjbGFzcyBQbGF5ZXJEYXRhIHsgcG9zaXRpb246IG51bWJlcltdOyBmYWNpbmc6IG51bWJlcjsgbGV2ZWw6IG51bWJlcjsgfVxuZXhwb3J0IGNsYXNzIFVJRGF0YSB7IGhvdXJnbGFzc0ljb246IHN0cmluZzsgY2hhclNoZWV0SWNvbjogc3RyaW5nOyBxdWlja0l0ZW1UYWJJY29uOiBzdHJpbmc7IH07XG5leHBvcnQgY2xhc3MgSXRlbURhdGEgeyB0eXBlOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgfVxuZXhwb3J0IGNsYXNzIFdlYXBvbkl0ZW1EYXRhIGV4dGVuZHMgSXRlbURhdGEgeyBkYW1hZ2U6IHN0cmluZzsgdG9IaXQ6IG51bWJlcjsgcmFuZ2U6IG51bWJlciB9XG5leHBvcnQgY2xhc3MgU3BlbGxMaXN0RGF0YSB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNwZWxsczogeyBuYW1lOiBzdHJpbmcsIGljb246IHN0cmluZyB9W107XG4gICAgaWNvbjogc3RyaW5nO1xufVxuZXhwb3J0IGNsYXNzIERvb3JEYXRhIHtmaWxlbmFtZTogc3RyaW5nOyBub3JtYWxNYXA6IHN0cmluZzsgYWxwaGFNYXA6IHN0cmluZzsgfVxuZXhwb3J0IGNsYXNzIExldmVsRG9vckRhdGEgeyB0eXBlOiBudW1iZXI7IHBvc2l0aW9uOiBudW1iZXJbXTsgdGFyZ2V0OiBudW1iZXJbXTsgb3BlbkFuZ2xlOiBudW1iZXI7IH0iLCJpbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IEV2ZW50IGZyb20gXCJlbmdpbmUvdXRpbC9FdmVudFwiO1xuXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBBY3Rvck1vZGVsXG57XG4gICAgaGl0cG9pbnRzOiBPYnNlcnZlclZhcmlhYmxlPG51bWJlcj47XG4gICAgbWF4SGl0cG9pbnRzOiBPYnNlcnZlclZhcmlhYmxlPG51bWJlcj47XG5cbiAgICBvblRha2VEYW1hZ2U6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgICByb2xsSW5pdGlhdGl2ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjUpO1xuICAgIH1cblxuICAgIHRha2VEYW1hZ2UoZGFtYWdlOiBudW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLmhpdHBvaW50cy52YWx1ZSAtPSBkYW1hZ2U7XG4gICAgICAgIHRoaXMuY2hlY2tIZWFsdGhTdGF0ZSgpO1xuICAgICAgICB0aGlzLm9uVGFrZURhbWFnZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgYWJzdHJhY3QgY2hlY2tIZWFsdGhTdGF0ZSgpO1xufSIsImltcG9ydCB7IFBvcnRyYWl0RGF0YSwgQ2hhcmFjdGVyRGF0YSwgR2FtZURhdGEsIFdlYXBvbkl0ZW1EYXRhIH0gZnJvbSBcIi4uL2RhdGFcIjtcbmltcG9ydCBBY3Rvck1vZGVsIGZyb20gXCIuL0FjdG9yTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Nb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgRXF1aXBtZW50TW9kZWwgZnJvbSBcIi4vRXF1aXBtZW50TW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgTG9vdEFjdGlvbk1vZGVsIGZyb20gXCIuL2FjdGlvbi9Mb290QWN0aW9uTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uU291cmNlTW9kZWxcIjtcbmltcG9ydCBBdHRhY2tBY3Rpb25Nb2RlbCBmcm9tIFwiLi9hY3Rpb24vQXR0YWNrQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzVHlwZSB9IGZyb20gXCIuL1N0YXR1c1wiO1xuaW1wb3J0IFNwZWxsTGlzdCBmcm9tIFwiLi9TcGVsbExpc3RcIjtcbmltcG9ydCBPcGVuRG9vckFjdGlvbk1vZGVsIGZyb20gXCIuL2FjdGlvbi9PcGVuRG9vckFjdGlvbk1vZGVsXCI7XG5cbmV4cG9ydCBlbnVtIEhlYWx0aFN0YXRlIHsgTm9ybWFsLCBVbmNvbnNpb3VzLCBEZWFkIH1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVyTW9kZWwgZXh0ZW5kcyBBY3Rvck1vZGVsIGltcGxlbWVudHMgQWN0aW9uU291cmNlTW9kZWwsIEFjdGlvblRhcmdldE1vZGVsXG57XG4gICAgcG9ydHJhaXRUeXBlOiBQb3J0cmFpdERhdGE7XG4gICAgY2hhcmFjdGVyRGF0YTogQ2hhcmFjdGVyRGF0YTtcbiAgICB1bmxvY2tlZEFjdGlvbnM6IEFjdGlvbk1vZGVsW10gPSBbXTtcbiAgICBlcXVpcG1lbnRNb2RlbDogRXF1aXBtZW50TW9kZWw7XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBoZWFsdGhTdGF0ZTogT2JzZXJ2ZXJWYXJpYWJsZTxIZWFsdGhTdGF0ZT47XG4gICAgbWFuYTogbnVtYmVyO1xuICAgIG1heE1hbmE6IG51bWJlcjtcbiAgICBsZXZlbDogbnVtYmVyO1xuICAgIHhwOiBudW1iZXI7XG4gICAgc3RhdHVzZXM6IFN0YXR1c1tdID0gW107XG4gICAgc3BlbGxMaXN0czogU3BlbGxMaXN0W10gPSBbXTtcblxuICAgIGdldCBmdWxsTmFtZSgpIHsgcmV0dXJuIHRoaXMuY2hhcmFjdGVyRGF0YS5uYW1lICsgXCIgdGhlIFwiICsgdGhpcy5jaGFyYWN0ZXJEYXRhLnRpdGxlOyB9XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lRGF0YTogR2FtZURhdGEsIGRhdGE6IENoYXJhY3RlckRhdGEpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNoYXJhY3RlckRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnBvcnRyYWl0VHlwZSA9IGdhbWVEYXRhLnBvcnRyYWl0c1tkYXRhLnBvcnRyYWl0XTtcbiAgICB9XG5cbiAgICBzYXZlKGdhbWVEYXRhOiBHYW1lRGF0YSwgY2hhcmFjdGVyRGF0YTogQ2hhcmFjdGVyRGF0YSlcbiAgICB7XG4gICAgICAgIGNoYXJhY3RlckRhdGEuaHAgPSB0aGlzLmhpdHBvaW50cy52YWx1ZTtcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5tYW5hID0gdGhpcy5tYW5hO1xuICAgICAgICBjaGFyYWN0ZXJEYXRhLm1heEhQID0gdGhpcy5tYXhIaXRwb2ludHMudmFsdWU7XG4gICAgICAgIGNoYXJhY3RlckRhdGEubWF4TWFuYSA9IHRoaXMubWF4TWFuYTtcbiAgICAgICAgY2hhcmFjdGVyRGF0YS5sZXZlbCA9IHRoaXMubGV2ZWw7XG4gICAgICAgIGNoYXJhY3RlckRhdGEueHAgPSB0aGlzLnhwO1xuICAgICAgICBjaGFyYWN0ZXJEYXRhLnBvcnRyYWl0ID0gZ2FtZURhdGEucG9ydHJhaXRzLmluZGV4T2YodGhpcy5wb3J0cmFpdFR5cGUpO1xuICAgIH1cblxuICAgIGdldCBzdGF0dXNUZXh0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5Ob3JtYWwpXG4gICAgICAgICAgICByZXR1cm4gXCJHb29kXCI7ICAgXG4gICAgICAgIGlmICh0aGlzLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5VbmNvbnNpb3VzKVxuICAgICAgICAgICAgcmV0dXJuIFwiVW5jb25zaW91c1wiOyAgICBcbiAgICAgICAgaWYgKHRoaXMuaGVhbHRoU3RhdGUudmFsdWUgPT09IEhlYWx0aFN0YXRlLkRlYWQpXG4gICAgICAgICAgICByZXR1cm4gXCJEZWFkXCI7ICAgXG4gICAgfVxuXG4gICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIucG9zaXRpb247IH1cblxuICAgIGNyZWF0ZShnYW1lTW9kZWw6R2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5lcXVpcG1lbnRNb2RlbCA9IG5ldyBFcXVpcG1lbnRNb2RlbCgpXG4gICAgICAgIHRoaXMubWF4SGl0cG9pbnRzID0gbmV3IE9ic2VydmVyVmFyaWFibGUodGhpcy5jaGFyYWN0ZXJEYXRhLm1heEhQKTtcbiAgICAgICAgdGhpcy5oaXRwb2ludHMgPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZSh0aGlzLmNoYXJhY3RlckRhdGEuaHApO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5oZWFsdGhTdGF0ZSA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKEhlYWx0aFN0YXRlLk5vcm1hbCk7XG4gICAgICAgIHRoaXMuY2hlY2tIZWFsdGhTdGF0ZShmYWxzZSk7XG4gICAgICAgIHRoaXMubWFuYSA9IHRoaXMuY2hhcmFjdGVyRGF0YS5tYW5hO1xuICAgICAgICB0aGlzLm1heE1hbmEgPSB0aGlzLmNoYXJhY3RlckRhdGEubWF4TWFuYVxuICAgICAgICB0aGlzLmxldmVsID0gdGhpcy5jaGFyYWN0ZXJEYXRhLmxldmVsO1xuICAgICAgICB0aGlzLnhwID0gdGhpcy5jaGFyYWN0ZXJEYXRhLnhwO1xuXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyRGF0YS5zcGVsbExpc3RzLmZvckVhY2gobCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBzcGVsbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBsLnNwZWxscy5mb3JFYWNoKHMgPT5cbiAgICAgICAgICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwZWxsRGF0YSA9IHRoaXMuZ2FtZU1vZGVsLmRhdGEuc3BlbGxMaXN0c1tsLmxpc3RdLnNwZWxsc1tzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwZWxscy5wdXNoKFNwZWxsTGlzdC5nZXRTcGVsbChzcGVsbERhdGEubmFtZSwgc3BlbGxEYXRhLmljb24sIHRoaXMuZ2FtZU1vZGVsKSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGV0IHNsID0gbmV3IFNwZWxsTGlzdCh0aGlzLmdhbWVNb2RlbC5kYXRhLnNwZWxsTGlzdHNbbC5saXN0XS5uYW1lLCBzcGVsbHMsIHRoaXMuZ2FtZU1vZGVsLmRhdGEuc3BlbGxMaXN0c1tsLmxpc3RdLmljb24pXG4gICAgICAgICAgICAgICAgdGhpcy5zcGVsbExpc3RzLnB1c2goc2wpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5lcXVpcG1lbnRNb2RlbC5jcmVhdGUodGhpcy5jaGFyYWN0ZXJEYXRhLmVxdWlwbWVudCwgZ2FtZU1vZGVsKTtcbiAgICAgICAgaWYgKHRoaXMuZXF1aXBtZW50TW9kZWwuZXF1aXBlZFdlYXBvbilcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHdlYXBvbiA9ICh0aGlzLmVxdWlwbWVudE1vZGVsLmVxdWlwZWRXZWFwb24uaXRlbURhdGEgYXMgV2VhcG9uSXRlbURhdGEpO1xuICAgICAgICAgICAgdGhpcy51bmxvY2tlZEFjdGlvbnMucHVzaChuZXcgQXR0YWNrQWN0aW9uTW9kZWwodGhpcy5nYW1lTW9kZWwsIHRoaXMuZXF1aXBtZW50TW9kZWwuZXF1aXBlZFdlYXBvbi5uYW1lLCB3ZWFwb24uZGFtYWdlLCB3ZWFwb24ucmFuZ2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnVubG9ja2VkQWN0aW9ucy5wdXNoKG5ldyBBdHRhY2tBY3Rpb25Nb2RlbCh0aGlzLmdhbWVNb2RlbCwgXCJVbmFybWVkXCIsIFwiMWQ0XCIsIDEpKTtcbiAgICAgICAgdGhpcy51bmxvY2tlZEFjdGlvbnMucHVzaChuZXcgTG9vdEFjdGlvbk1vZGVsKHRoaXMuZ2FtZU1vZGVsKSlcbiAgICAgICAgdGhpcy51bmxvY2tlZEFjdGlvbnMucHVzaChuZXcgT3BlbkRvb3JBY3Rpb25Nb2RlbCh0aGlzLmdhbWVNb2RlbCkpXG5cbiAgICAgICAgdGhpcy5oaXRwb2ludHMub25VcGRhdGUucHVzaCh0aGlzLmNoZWNrSGVhbHRoU3RhdGUuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgY2hlY2tIZWFsdGhTdGF0ZSh1cGRhdGVQYXJ0eT86IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5oaXRwb2ludHMudmFsdWUgPD0gMClcbiAgICAgICAgICAgIHRoaXMuaGVhbHRoU3RhdGUudmFsdWUgPSBIZWFsdGhTdGF0ZS5VbmNvbnNpb3VzO1xuICAgICAgICBpZiAodGhpcy5oaXRwb2ludHMudmFsdWUgPD0gLXRoaXMubWF4SGl0cG9pbnRzLnZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmhlYWx0aFN0YXRlLnZhbHVlID0gSGVhbHRoU3RhdGUuRGVhZDtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzZXMucHVzaChuZXcgU3RhdHVzKFN0YXR1c1R5cGUuRGVhZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cGRhdGVQYXJ0eSB8fCB1cGRhdGVQYXJ0eSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuY2hlY2tIZWFsdGhTdGF0ZSgpO1xuICAgIH1cblxuICAgIGF2YWlsYWJsZUFjdGlvbnModGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvbk1vZGVsW11cbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVubG9ja2VkQWN0aW9ucy5maWx0ZXIoYSA9PiBhLnRlc3QodGhpcywgdGFyZ2V0KSlcbiAgICB9XG59IiwiaW1wb3J0IEl0ZW1Nb2RlbCBmcm9tIFwiLi9JdGVtTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4vR2FtZU1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVxdWlwbWVudE1vZGVsXG57XG4gICAgZXF1aXBtZW50OiBJdGVtTW9kZWxbXSA9IFtdO1xuICAgIGVxdWlwZWRXZWFwb246IEl0ZW1Nb2RlbDtcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNyZWF0ZShlcXVpcG1lbnRJRHM6IG51bWJlcltdLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICBlcXVpcG1lbnRJRHMuZm9yRWFjaChpZCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZXF1aXBtZW50LnB1c2gobmV3IEl0ZW1Nb2RlbChnYW1lTW9kZWwuZGF0YS5lcXVpcG1lbnRbaWRdKSlcbiAgICAgICAgICAgIH0pXG4gICAgfVxufSIsImltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgUGFydHlNb2RlbCBmcm9tIFwiLi9QYXJ0eU1vZGVsXCI7XG5pbXBvcnQgV29ybGRNb2RlbCBmcm9tIFwiLi93b3JsZC9Xb3JsZE1vZGVsXCI7XG5pbXBvcnQgUGxheWVyTW9kZWwsIHsgRmFjaW5nIH0gZnJvbSBcIi4vUGxheWVyTW9kZWxcIjtcbmltcG9ydCB7IEdhbWVEYXRhLCBXYWxsRGF0YSB9IGZyb20gXCIuLi9kYXRhXCI7XG5pbXBvcnQgSW5pdGlhdGl2ZU1vZGVsIGZyb20gXCIuL2FjdGlvbi9Jbml0aWF0aXZlTW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCBmcm9tIFwiLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuL2FjdGlvbi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvbk1vZGVsIGZyb20gXCIuL2FjdGlvbi9BY3Rpb25Nb2RlbFwiO1xuaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4vd29ybGQvTGV2ZWxNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuL2FjdGlvbi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IE5QQ01vZGVsIGZyb20gXCIuL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmltcG9ydCBXYWxsTW9kZWwgZnJvbSBcIi4vd29ybGQvV2FsbE1vZGVsXCI7XG5pbXBvcnQgU3BlbGxMaXN0IGZyb20gXCIuL1NwZWxsTGlzdFwiO1xuaW1wb3J0IFNwZWxsIGZyb20gXCIuL1NwZWxsXCI7XG5pbXBvcnQgRG9vck1vZGVsIGZyb20gXCIuL3dvcmxkL0Rvb3JNb2RlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lTW9kZWxcbntcbiAgICBwYXJ0eTogUGFydHlNb2RlbDtcbiAgICB3b3JsZDogV29ybGRNb2RlbDtcbiAgICBwbGF5ZXI6IFBsYXllck1vZGVsO1xuICAgIGRhdGE6IEdhbWVEYXRhO1xuICAgIGluaXRpYXRpdmU6IEluaXRpYXRpdmVNb2RlbDtcblxuICAgIHNwZWxsTGlzdHM6IFNwZWxsTGlzdFtdID0gW107XG5cbiAgICBsaXN0ZW5lcjogR2FtZU1vZGVsTGlzdGVuZXI7XG5cbiAgICBpbmZvVGV4dDogT2JzZXJ2ZXJWYXJpYWJsZTxzdHJpbmc+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUoXCJcIik7XG4gICAgY3VycmVudExldmVsRWRpdFdhbGxEYXRhOiBXYWxsRGF0YTtcblxuICAgIHByaXZhdGUgX2N1cnJlbnRQYWludElEOiBudW1iZXIgPSAwO1xuXG4gICAgY29uc3RydWN0b3IobGlzdGVuZXI6IEdhbWVNb2RlbExpc3RlbmVyLCBwYXJ0eTogUGFydHlNb2RlbCwgd29ybGQ6IFdvcmxkTW9kZWwsIHBsYXllcjogUGxheWVyTW9kZWwsIGRhdGE6IEdhbWVEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLnBhcnR5ID0gcGFydHk7XG4gICAgICAgIHRoaXMud29ybGQgPSB3b3JsZDtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZSA9IG5ldyBJbml0aWF0aXZlTW9kZWwoKTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFBhaW50SUQoKSB7IHJldHVybiB0aGlzLl9jdXJyZW50UGFpbnRJRDsgfVxuICAgIHNldCBjdXJyZW50UGFpbnRJRCh2YWwpXG4gICAge1xuICAgICAgICB0aGlzLl9jdXJyZW50UGFpbnRJRCA9IHZhbCAlIHRoaXMuZGF0YS53YWxscy5sZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50UGFpbnRJRCA8IDApXG4gICAgICAgIHRoaXMuX2N1cnJlbnRQYWludElEID0gdGhpcy5kYXRhLndhbGxzLmxlbmd0aCArIHRoaXMuY3VycmVudFBhaW50SUQ7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMucGFydHkuY3JlYXRlKHRoaXMuZGF0YSwgdGhpcyk7XG4gICAgICAgIHRoaXMud29ybGQuY3JlYXRlKHRoaXMpO1xuICAgICAgICB0aGlzLnBsYXllci5jcmVhdGUodGhpcywgdGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlLmNyZWF0ZSh0aGlzLCB0aGlzLnBhcnR5LCB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZSwgdGhpcy5kYXRhKTtcbiAgICB9XG5cbiAgICBzYXZlKClcbiAgICB7XG4gICAgICAgIHRoaXMud29ybGQuc2F2ZSh0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLnBhcnR5LnNhdmUodGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2F2ZSh0aGlzLmRhdGEpO1xuICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEubGV2ZWxzW3RoaXMud29ybGQuY3VycmVudExldmVsSURdLndhbGxzKSk7XG4gICAgfVxuXG4gICAgdHVybkxlZnQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5UdXJuKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudHVybkxlZnQoKTtcbiAgICB9XG5cbiAgICByb3RhdGVMZWZ0KGFuZ2xlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhblR1cm4pLy8gJiYgKCF0aGlzLnBsYXllci5hbmltYXRpbmcpKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucm90YXRlTGVmdChhbmdsZSk7XG4gICAgfVxuXG4gICAgcm90YXRlUmlnaHQoYW5nbGU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuVHVybikgLy8mJiAoIXRoaXMucGxheWVyLmFuaW1hdGluZykpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5yb3RhdGVSaWdodChhbmdsZSk7XG4gICAgfVxuXG4gICAganVtcCgpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhcImp1bXBcIik7XG4gICAgfVxuXG4gICAgY3JvdWNoKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3JvdWNoXCIpO1xuICAgIH1cblxuICAgIHNsaWRlUmlnaHQoZGlzdGFuY2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNsaWRlUmlnaHQoZGlzdGFuY2UpO1xuICAgIH1cblxuICAgIHNsaWRlTGVmdChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zbGlkZVJpZ2h0KC1kaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgc2xpZGVVcHdhcmQoZGlzdGFuY2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnNsaWRlVXB3YXJkKGRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICBzbGlkZURvd253YXJkKGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zbGlkZVVwd2FyZCgtZGlzdGFuY2UpO1xuICAgIH1cblxuICAgIHNsaWRlRm9yd2FyZChkaXN0YW5jZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc2xpZGVGb3J3YXJkKGRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICBzbGlkZUJhY2t3YXJkKGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5zbGlkZUZvcndhcmQoLWRpc3RhbmNlKTtcbiAgICB9XG5cbiAgICB0dXJuUmlnaHQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5UdXJuKVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIudHVyblJpZ2h0KCk7XG4gICAgfVxuXG4gICAgcmVzZXRSb3RhdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uVHVybi5jYWxsKCk7XG4gICAgfVxuXG4gICAgcmVzZXRQb3NpdGlvbigpXG4gICAge1xuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uTW92ZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgc3RyYWZlTGVmdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3RyYWZlTGVmdCgpO1xuICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCEoc3RhcnQuZXF1YWxzKGVuZCkpKVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5tb3ZlUGFydHkoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdHJhZmVSaWdodCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuc3RyYWZlUmlnaHQoKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmICghKHN0YXJ0LmVxdWFscyhlbmQpKSlcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmUubW92ZVBhcnR5KHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbW92ZUZvcndhcmQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVGb3J3YXJkKCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoIShzdGFydC5lcXVhbHMoZW5kKSkpXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLm1vdmVQYXJ0eShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVCYWNrd2FyZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbk1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRoaXMucGxheWVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZUJhY2t3YXJkKCk7XG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoIShzdGFydC5lcXVhbHMoZW5kKSkpXG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLm1vdmVQYXJ0eShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhvdmVyVXAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZS5wbGF5ZXJDYW5Nb3ZlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmhvdmVyVXAoKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmICghKHN0YXJ0LmVxdWFscyhlbmQpKSlcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmUubW92ZVBhcnR5KHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG92ZXJEb3duKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuTW92ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wbGF5ZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnBsYXllci5ob3ZlckRvd24oKTtcbiAgICAgICAgICAgIGxldCBlbmQgPSB0aGlzLnBsYXllci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmICghKHN0YXJ0LmVxdWFscyhlbmQpKSlcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmUubW92ZVBhcnR5KHN0YXJ0LCBlbmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FzdFNwZWxsKHNwZWxsOiBTcGVsbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbClcbiAgICB7XG4gICAgICAgIGxldCBzb3VyY2UgPSB0aGlzLmluaXRpYXRpdmUud2FpdGluZ0NoYXJhY3Rlci52YWx1ZTtcbiAgICAgICAgaWYgKHNwZWxsLnRlc3Qoc291cmNlLCB0YXJnZXQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5wZXJmb3JtQWN0aW9uKHRhcmdldCwgc3BlbGwpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuYXBwbHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaExldmVsKGxldmVsOiBMZXZlbE1vZGVsLCBwb3NpdGlvbj86IFBvaW50MywgZmFjaW5nPzogRmFjaW5nKVxuICAgIHtcbiAgICAgICAgXG4gICAgICAgIHRoaXMubGlzdGVuZXIub25FeGl0TGV2ZWwuY2FsbCgpO1xuICAgICAgICB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZSA9IGxldmVsO1xuICAgICAgICBpZiAocG9zaXRpb24pXG4gICAgICAgICAgICB0aGlzLnBsYXllci5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnBsYXllci5wb3NpdGlvbiA9IGxldmVsLnN0YXJ0aW5nUG9zaXRpb247XG4gICAgICAgIGlmIChmYWNpbmcpXG4gICAgICAgICAgICB0aGlzLnBsYXllci5mYWNpbmcgPSBmYWNpbmc7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGxheWVyLmZhY2luZyA9IGxldmVsLnN0YXJ0aW5nRmFjaW5nO1xuICAgICAgICB0aGlzLnBsYXllci51cGRhdGVSb3RhdGlvblRvTWF0Y2hGYWNpbmcoKTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblN3aXRjaExldmVsLmNhbGwoKTtcbiAgICB9XG5cbiAgICBvcGVuRG9vcihkb29yOiBEb29yTW9kZWwpXG4gICAge1xuICAgICAgICBpZiAoZG9vci50YXJnZXRMZXZlbCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hMZXZlbCh0aGlzLndvcmxkLmxldmVsc1tkb29yLnRhcmdldExldmVsXSwgZG9vci50YXJnZXRQb3NpdGlvbiwgZG9vci50YXJnZXRGYWNpbmcpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRvb3IuY2hhbmdlT3BlblN0YXRlKCk7XG4gICAgfVxuXG4gICAgdG9nZ2xlV2FsbEFib3ZlKClcbiAgICB7XG4gICAgICAgIHRoaXMudG9nZ2xlV2FsbCg1KTtcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsQmVsb3coKVxuICAgIHtcbiAgICAgICAgdGhpcy50b2dnbGVXYWxsKDQpO1xuICAgIH1cblxuICAgIHRvZ2dsZVdhbGxGcm9udCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMCk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDEpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMik7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDMpO1xuICAgICAgICBcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsQmVoaW5kKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgyKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMyk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgwKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVdhbGwoMSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlV2FsbExlZnQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDMpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgwKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDEpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgyKTtcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsUmlnaHQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDEpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgyKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy50b2dnbGVXYWxsKDMpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlV2FsbCgwKTtcbiAgICB9XG5cbiAgICB0b2dnbGVXYWxsKGlkKVxuICAgIHtcbiAgICAgICAgaWYgKGlkID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlV2FsbDIoMCwgMiwgMCwgMCwgLTEpO1xuICAgICAgICBlbHNlIGlmIChpZCA9PT0gMSlcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVdhbGwyKDEsIDMsIDEsIDAsIDApO1xuICAgICAgICBlbHNlIGlmIChpZCA9PT0gMilcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVdhbGwyKDIsIDAsIDAsIDAsIDEpO1xuICAgICAgICBlbHNlIGlmIChpZCA9PT0gMylcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZVdhbGwyKDMsIDEsIC0xLCAwLCAwKTtcbiAgICAgICAgZWxzZSBpZiAoaWQgPT09IDQpXG4gICAgICAgICAgICB0aGlzLl90b2dnbGVXYWxsMig0LCA1LCAwLCAtMSwgMCk7XG4gICAgICAgIGVsc2UgaWYgKGlkID09PSA1KVxuICAgICAgICAgICAgdGhpcy5fdG9nZ2xlV2FsbDIoNSwgNCwgMCwgMSwgMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdG9nZ2xlV2FsbDIoaWQ6IG51bWJlciwgaWRDZWxsMjogbnVtYmVyLCB4OiBudW1iZXIsIHk6IG51bWJlciwgejogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IGN1cnJlbnRDZWxsID0gdGhpcy53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wbGF5ZXIucG9zaXRpb24ueF1bdGhpcy5wbGF5ZXIucG9zaXRpb24ueV1bdGhpcy5wbGF5ZXIucG9zaXRpb24uel07XG4gICAgICAgIGN1cnJlbnRDZWxsLndhbGxzW2lkXS5oaWRkZW4udmFsdWUgPSAhY3VycmVudENlbGwud2FsbHNbaWRdLmhpZGRlbi52YWx1ZTtcbiAgICAgICAgaWYgKCh0aGlzLnBsYXllci5wb3NpdGlvbi54K3ggPj0gMCkgJiYgKCB0aGlzLnBsYXllci5wb3NpdGlvbi54K3ggPCB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS53aWR0aCkpXG4gICAgICAgICAgICBpZiAoKHRoaXMucGxheWVyLnBvc2l0aW9uLnkreSA+PSAwKSAmJiAoIHRoaXMucGxheWVyLnBvc2l0aW9uLnkreSA8IHRoaXMud29ybGQuY3VycmVudExldmVsLnZhbHVlLmhlaWdodCkpXG4gICAgICAgICAgICAgICAgaWYgKCh0aGlzLnBsYXllci5wb3NpdGlvbi56K3ogPj0gMCkgJiYgKCB0aGlzLnBsYXllci5wb3NpdGlvbi56K3ogPCB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5kZXB0aCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY2VsbDIgPSB0aGlzLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBsYXllci5wb3NpdGlvbi54K3hdW3RoaXMucGxheWVyLnBvc2l0aW9uLnkreV1bdGhpcy5wbGF5ZXIucG9zaXRpb24ueit6XTtcbiAgICAgICAgICAgICAgICAgICAgY2VsbDIud2FsbHNbaWRDZWxsMl0uaGlkZGVuLnZhbHVlID0gY3VycmVudENlbGwud2FsbHNbaWRdLmhpZGRlbi52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25Xb3JsZENoYW5nZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgcGFpbnRXYWxsKHdhbGxNb2RlbDogV2FsbE1vZGVsKVxuICAgIHtcbiAgICAgICAgLypsZXQgaSA9IHRoaXMuZGF0YS53YWxscy5pbmRleE9mKHdhbGxNb2RlbC53YWxsRGF0YS52YWx1ZSlcbiAgICAgICAgaWYgKGkgIT09IC0xKVxuICAgICAgICAgICAgaSA9IChpICsgMSkgJSB0aGlzLmRhdGEud2FsbHMubGVuZ3RoKi9cbiAgICAgICAgd2FsbE1vZGVsLndhbGxEYXRhLnZhbHVlID0gdGhpcy5kYXRhLndhbGxzW3RoaXMuY3VycmVudFBhaW50SURdO1xuICAgIH1cblxuICAgIHN3aXRjaENoYXJhY3RlcihjaGFyYWN0ZXI6IENoYXJhY3Rlck1vZGVsKVxuICAgIHsgXG4gICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmUucGxheWVyQ2FuQWN0KVxuICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLnN3aXRjaENoYXJhY3RlcihjaGFyYWN0ZXIpO1xuICAgIH1cblxuICAgIHBlcmZvcm1BY3Rpb24odGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCwgYWN0aW9uOiBBY3Rpb25Nb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLnBsYXllckNhbkFjdClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNvdXJjZSA9IHRoaXMuaW5pdGlhdGl2ZS53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlO1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IGFjdGlvbi5wZXJmb3JtKHNvdXJjZSwgdGFyZ2V0KTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZS5wZXJmb3JtZWRBY3Rpb24oc291cmNlLCByZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBucGNQZXJmb3JtQWN0aW9uKHNvdXJjZTogTlBDTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwsIGFjdGlvbjogQWN0aW9uTW9kZWwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlLm5wY3NUb0FjdC52YWx1ZS5pbmRleE9mKHNvdXJjZSkgIT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYWN0aW9uLnBlcmZvcm0oc291cmNlLCB0YXJnZXQpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlLnBlcmZvcm1lZEFjdGlvbihzb3VyY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIG5wY0RlbGF5KG5wYzogTlBDTW9kZWwsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghbnBjKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGRlbGF5IG51bGwgTlBDXCIpO1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUubnBjRGVsYXkobnBjLCB0aW1lKTtcbiAgICB9XG5cbiAgICBhcHBseUFjdGlvblJlc3VsdChhY3Rpb25SZXN1bHQ6IEFjdGlvblJlc3VsdE1vZGVsKVxuICAgIHtcbiAgICAgICAgYWN0aW9uUmVzdWx0LmFwcGx5KCk7XG4gICAgfVxuXG4gICAgdHJhdmVsVG8obGV2ZWw6IExldmVsTW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLndvcmxkLnN3aXRjaFRvTGV2ZWwobGV2ZWwpO1xuICAgICAgICB0aGlzLnBsYXllci5wb3NpdGlvbiA9IGxldmVsLnN0YXJ0aW5nUG9zaXRpb247XG4gICAgICAgIHRoaXMucGxheWVyLmZhY2luZyA9IGxldmVsLnN0YXJ0aW5nRmFjaW5nO1xuICAgICAgICB0aGlzLmluaXRpYXRpdmUuY3JlYXRlKHRoaXMsIHRoaXMucGFydHksIHRoaXMud29ybGQuY3VycmVudExldmVsLnZhbHVlLCB0aGlzLmRhdGEpO1xuICAgIH1cblxuICAgIHN0YXRpYyByb2xsRGljZShkaWNlU3BlYzogc3RyaW5nKTogbnVtYmVyXG4gICAge1xuICAgICAgICAvL1RPRE86IGhhbmRsZSBtaW51c1xuICAgICAgICAvL2RpY2VTcGVjID0gZGljZVNwZWMucmVwbGFjZSgvXFx3L2csJycpO1xuICAgICAgICBsZXQgcGFydHMgPSBkaWNlU3BlYy5zcGxpdChcIitcIik7XG4gICAgICAgIGxldCBzdW0gPSAwO1xuICAgICAgICBwYXJ0cy5mb3JFYWNoKHAgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VtICs9IEdhbWVNb2RlbC5yb2xsU2ltcGxlRGljZShwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3VtXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgcm9sbFNpbXBsZURpY2Uoc2ltcGxlRGljZVNwZWM6IHN0cmluZyk6IG51bWJlclxuICAgIHtcbiAgICAgICAgbGV0IHBhcnRzID0gc2ltcGxlRGljZVNwZWMuc3BsaXQoXCJkXCIpO1xuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHBhcnRzWzBdKTtcbiAgICAgICAgbGV0IHRvdGFsID0gMDtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8cGFyc2VJbnQocGFydHNbMF0pO2krKylcbiAgICAgICAgICAgIHRvdGFsICs9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSoocGFyc2VJbnQocGFydHNbMV0pLTEpKSArIDE7XG4gICAgICAgIHJldHVybiB0b3RhbDtcbiAgICB9XG5cbiAgICBpc1dpdGhpbk1lbGVlKHNvdXJjZTogUG9pbnQzLCB0YXJnZXQ6IFBvaW50MyApXG4gICAge1xuICAgICAgICBsZXQgZGlzdGFuY2UgPSBQb2ludDMubWludXModGFyZ2V0LCBzb3VyY2UpLm1hZ25pdHVkZTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDw9IDEpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgR2FtZU1vZGVsTGlzdGVuZXJcbntcbiAgICBvbk1vdmU6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgb25UdXJuOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuICAgIG9uV29ybGRDaGFuZ2U6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgb25FeGl0TGV2ZWw6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG4gICAgb25Td2l0Y2hMZXZlbDogRXZlbnQgPSBuZXcgRXZlbnQoKTtcbn1cbiIsImltcG9ydCB7IEl0ZW1EYXRhIH0gZnJvbSBcIi4uL2RhdGFcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSXRlbU1vZGVsXG57XG4gICAgaXRlbURhdGE6IEl0ZW1EYXRhO1xuXG4gICAgZ2V0IG5hbWUoKSB7IHJldHVybiB0aGlzLml0ZW1EYXRhLm5hbWU7IH1cbiAgICBnZXQgdHlwZSgpIHsgcmV0dXJuIHRoaXMuaXRlbURhdGEudHlwZTsgfVxuXG4gICAgY29uc3RydWN0b3IoaXRlbURhdGE6IEl0ZW1EYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy5pdGVtRGF0YSA9IGl0ZW1EYXRhO1xuICAgIH1cbn0iLCJpbXBvcnQgQ2hhcmFjdGVyTW9kZWwsIHsgSGVhbHRoU3RhdGUgfSBmcm9tIFwiLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi9TdGF0dXNcIjtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0eU1vZGVsXG57XG4gICAgY2hhcmFjdGVyczogQ2hhcmFjdGVyTW9kZWxbXTtcbiAgICBnb2xkOiBPYnNlcnZlclZhcmlhYmxlPG51bWJlcj47XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG4gICAgbW92ZVJlY292ZXJ5VGltZTogMTtcbiAgICBwYXJ0eURlYWQ6IGJvb2xlYW47XG4gICAgc3RhdHVzZXM6IE9ic2VydmVyVmFyaWFibGU8U3RhdHVzW10+O1xuXG4gICAgY3JlYXRlKGRhdGE6IEdhbWVEYXRhLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLmNoYXJhY3RlcnMgPSBbXTtcbiAgICAgICAgZGF0YS5wYXJ0eS5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PiB0aGlzLmNoYXJhY3RlcnMucHVzaChuZXcgQ2hhcmFjdGVyTW9kZWwoZGF0YSwgYykpKTtcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PiBjLmNyZWF0ZShnYW1lTW9kZWwpKTtcbiAgICAgICAgdGhpcy5nb2xkID0gbmV3IE9ic2VydmVyVmFyaWFibGUoZGF0YS5wYXJ0eS5nb2xkKTtcbiAgICAgICAgdGhpcy5zdGF0dXNlcyA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKFtdKTtcbiAgICB9XG5cbiAgICBzYXZlKGRhdGE6IEdhbWVEYXRhKVxuICAgIHtcbiAgICAgICAgZGF0YS5wYXJ0eS5nb2xkID0gdGhpcy5nb2xkLnZhbHVlO1xuICAgICAgICBsZXQgY2hhcmFjdGVycyA9IFtdO1xuICAgICAgICB0aGlzLmNoYXJhY3RlcnMuZm9yRWFjaChjID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMuc2F2ZShkYXRhLCBjLmNoYXJhY3RlckRhdGEpXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVycy5wdXNoKGMuY2hhcmFjdGVyRGF0YSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZGF0YS5wYXJ0eS5jaGFyYWN0ZXJzID0gY2hhcmFjdGVycztcbiAgICB9XG5cbiAgICBnYWluR29sZChpbmNyZW1lbnQ6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuZ29sZC52YWx1ZSArPSBpbmNyZW1lbnQ7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluZm9UZXh0LnZhbHVlID0gXCJZb3UgZ2FpbmVkIFwiKyBpbmNyZW1lbnQrXCIgZ3BcIjtcbiAgICB9XG5cbiAgICBjaGVja0hlYWx0aFN0YXRlKClcbiAgICB7XG4gICAgICAgIGxldCBsaXZpbmdDaGFycyA9IHRoaXMuY2hhcmFjdGVycy5maWx0ZXIoYyA9PiBjLmhlYWx0aFN0YXRlLnZhbHVlID09PSBIZWFsdGhTdGF0ZS5Ob3JtYWwpXG4gICAgICAgIGlmIChsaXZpbmdDaGFycy5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFydHlEZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBsYXllci5nYW1lT3ZlciA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbn0iLCJpbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi9HYW1lTW9kZWxcIjtcbmltcG9ydCB7IEdhbWVEYXRhIH0gZnJvbSBcIi4uL2RhdGFcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuaW1wb3J0IFN0YXR1cywgeyBTdGF0dXNUeXBlIH0gZnJvbSBcIi4vU3RhdHVzXCI7XG5pbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5cbmV4cG9ydCBlbnVtIEZhY2luZyB7IE5vcnRoLCBOb3J0aEVhc3QsIEVhc3QsIFNvdXRoRWFzdCwgU291dGgsIFNvdXRoV2VzdCwgV2VzdCwgTm9ydGhXZXN0fVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGF5ZXJNb2RlbFxue1xuICAgIGZhY2luZzogRmFjaW5nO1xuICAgIHBvc2l0aW9uOiBQb2ludDM7XG4gICAgeU9mZnNldDogbnVtYmVyID0gMDtcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBhbmltYXRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9nYW1lT3ZlciA6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBjYW5Nb3ZlOiBib29sZWFuID0gdHJ1ZTtcbiAgICBjYW5UdXJuOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9yb3RhdGlvbjogUG9pbnQzO1xuICAgIHByaXZhdGUgX2ZpbmVQb3NpdGlvbjogUG9pbnQzO1xuICAgIG9uVXBkYXRlOiBFdmVudCA9IG5ldyBFdmVudCgpO1xuXG4gICAgZ2V0IHJvdGF0aW9uKCkgeyByZXR1cm4gdGhpcy5fcm90YXRpb247IH1cbiAgICBzZXQgcm90YXRpb24odmFsKSB7IHRoaXMuX3JvdGF0aW9uID0gdmFsOyB0aGlzLm9uVXBkYXRlLmNhbGwoKTt9XG5cbiAgICBnZXQgZmluZVBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5fZmluZVBvc2l0aW9ufVxuICAgIHNldCBmaW5lUG9zaXRpb24odmFsKSB7IHRoaXMuX2ZpbmVQb3NpdGlvbiA9IHZhbDsgdGhpcy5vblVwZGF0ZS5jYWxsKCk7fVxuXG4gICAgZ2V0IGdyaWRQb3NpdGlvbldpdGhPZmZzZXQoKVxuICAgIHsgICAgICAgIFxuICAgICAgICBsZXQgcHBvcyA9IHRoaXMucG9zaXRpb247XG4gICAgICAgIGxldCBwb3MgPSBuZXcgUG9pbnQzKHBwb3MueCxwcG9zLnkrdGhpcy55T2Zmc2V0LCBwcG9zLnopO1xuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cblxuICAgIGdldCBnYW1lT3ZlcigpIHsgcmV0dXJuIHRoaXMuX2dhbWVPdmVyOyB9XG4gICAgc2V0IGdhbWVPdmVyKHZhbCkgeyB0aGlzLl9nYW1lT3ZlciA9IHZhbDsgdGhpcy5vblVwZGF0ZS5jYWxsKCk7fVxuXG4gICAgZ2V0IGNhbkZseSgpIHsgXG4gICAgICAgIGlmICh0aGlzLmdhbWVNb2RlbC5wYXJ0eS5zdGF0dXNlcy52YWx1ZS5maWx0ZXIocyA9PiBzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuRmx5aW5nKS5sZW5ndGggPj0gMSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldCBjYW5MZXZlbEVkaXQoKSB7IFxuICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUuZmlsdGVyKHMgPT4gcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLkxldmVsRWRpdCkubGVuZ3RoID49IDEpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBnZXQgY2FuQWN0KCkgeyByZXR1cm4gISh0aGlzLmFuaW1hdGluZyk7IH1cblxuICAgIGNyZWF0ZShnYW1lTW9kZWw6IEdhbWVNb2RlbCxkYXRhOiBHYW1lRGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsID0gZ2FtZU1vZGVsO1xuICAgICAgICB0aGlzLmZhY2luZyA9IGRhdGEucGxheWVyLmZhY2luZztcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IG5ldyBQb2ludDMoMCwwLDApO1xuICAgICAgICBpZiAoZGF0YS5wbGF5ZXIucG9zaXRpb24pXG4gICAgICAgICAgICB0aGlzLnBvc2l0aW9uID0gbmV3IFBvaW50MyhkYXRhLnBsYXllci5wb3NpdGlvblswXSxkYXRhLnBsYXllci5wb3NpdGlvblsxXSxkYXRhLnBsYXllci5wb3NpdGlvblsyXSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgUG9pbnQzKGdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuc3RhcnRpbmdQb3NpdGlvbilcbiAgICB9XG5cbiAgICBzYXZlKGRhdGE6IEdhbWVEYXRhKVxuICAgIHtcbiAgICAgICAgZGF0YS5wbGF5ZXIucG9zaXRpb24gPSBbdGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnpdO1xuICAgICAgICBkYXRhLnBsYXllci5mYWNpbmcgPSB0aGlzLmZhY2luZztcbiAgICAgICAgZGF0YS5wbGF5ZXIubGV2ZWwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5sZXZlbHMuaW5kZXhPZih0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUpO1xuICAgIH1cblxuICAgIHVwZGF0ZVJvdGF0aW9uVG9NYXRjaEZhY2luZygpXG4gICAge1xuICAgICAgICB0aGlzLnJvdGF0aW9uID0gbmV3IFBvaW50MygwLHRoaXMuZmFjaW5nKk1hdGguUEkvNCwwKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgdHVyblJpZ2h0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuTm9ydGhFYXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLkVhc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLlNvdXRoRWFzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Tb3V0aDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLlNvdXRoV2VzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5XZXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Ob3J0aFdlc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuTm9ydGg7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uVHVybi5jYWxsKCk7XG4gICAgfVxuXG4gICAgdHVybkxlZnQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Ob3J0aFdlc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuTm9ydGg7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLk5vcnRoRWFzdDtcbiAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5FYXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuU291dGhFYXN0O1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gRmFjaW5nLlNvdXRoO1xuICAgICAgICBlbHNlIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9IEZhY2luZy5Tb3V0aFdlc3Q7XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSBGYWNpbmcuV2VzdDtcbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4uY2FsbCgpO1xuICAgIH1cblxuICAgIHJvdGF0ZUxlZnQoYW5nbGU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBuZXcgUG9pbnQzKHRoaXMucm90YXRpb24ueCwgKHRoaXMucm90YXRpb24ueSArIGFuZ2xlKSUoTWF0aC5QSSoyKSwgdGhpcy5yb3RhdGlvbi56KTtcbiAgICAgICAgbGV0IHkgPSBNYXRoLnJvdW5kKDcgLSAodGhpcy5yb3RhdGlvbi55IC8gKE1hdGguUEkvNCkpKTtcbiAgICAgICAgLy9pZiAodGhpcy5mYWNpbmcgIT09ICh5KzEpJTgpXG4gICAgICAgIC8ve1xuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAoeSsxKSU4O1xuICAgICAgICAgICAgLy90aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4uY2FsbCgpO1xuICAgICAgIC8vIH1cbiAgICAgICB0aGlzLm9uVXBkYXRlLmNhbGwoKTtcbiAgICB9XG5cblxuXG4gICAgY2FuTW92ZUluRmFjaW5nKGZhY2luZzogRmFjaW5nKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuTW92ZU5vcnRoKCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5Nb3ZlTm9ydGhFYXN0KCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuTW92ZUVhc3QoKTtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVTb3V0aEVhc3QoKTtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuTW92ZVNvdXRoKCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYW5Nb3ZlU291dGhXZXN0KCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuTW92ZVdlc3QoKTtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbk1vdmVOb3J0aFdlc3QoKTtcbiAgICB9XG5cbiAgICBvcHBvc2l0ZUZhY2luZyhmYWNpbmc6IEZhY2luZyk6IEZhY2luZ1xuICAgIHtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgcmV0dXJuIEZhY2luZy5Tb3V0aDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuU291dGhXZXN0O1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuV2VzdDtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHJldHVybiBGYWNpbmcuTm9ydGhXZXN0O1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICByZXR1cm4gRmFjaW5nLk5vcnRoO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgcmV0dXJuIEZhY2luZy5Ob3J0aEVhc3Q7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgcmV0dXJuIEZhY2luZy5FYXN0O1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgcmV0dXJuIEZhY2luZy5Tb3V0aEVhc3Q7XG4gICAgfVxuXG4gICAgZmFjaW5nVG9Vbml0VmVjdG9yKGZhY2luZzogRmFjaW5nKTogUG9pbnQzXG4gICAge1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygwLDAsLTEpO1xuICAgICAgICBpZiAoZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoMSwwLC0xKTtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygxLDAsMCk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBvaW50MygxLDAsMSk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQzKDAsMCwxKTtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQzKC0xLDAsMSk7XG4gICAgICAgIGlmIChmYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb2ludDMoLTEsMCwwKTtcbiAgICAgICAgaWYgKGZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9pbnQzKC0xLDAsLTEpO1xuXG4gICAgfVxuXG4gICAgc2xpZGVVcHdhcmQoZGlzdGFuY2U6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGxldCBwb2xhcml0eSA9IDE7XG4gICAgICAgIGlmIChkaXN0YW5jZSA8IDApXG4gICAgICAgICAgICBwb2xhcml0eSA9IC0xO1xuXG4gICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZVVwd2FyZCgpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZURvd253YXJkKCkpKVxuICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSAgbmV3IFBvaW50Myh0aGlzLmZpbmVQb3NpdGlvbi54LHRoaXMuZmluZVBvc2l0aW9uLnkgKyBkaXN0YW5jZSx0aGlzLmZpbmVQb3NpdGlvbi56KTtcbiAgICAgICAgICAgIFxuICAgICAgICB0aGlzLl9jaGVja0ZvckdyaWRQb3NpdGlvbkNoYW5nZSgpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLmNhbGwoKTtcbiAgICB9XG5cbiAgICBzbGlkZVJpZ2h0KGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBsZXQgcG9sYXJpdHkgPSAxO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCAwKVxuICAgICAgICAgICAgcG9sYXJpdHkgPSAtMTtcblxuICAgICAgICBsZXQgZmFjaW5nID0gKHRoaXMuZmFjaW5nICsgMiklODtcbiAgICAgICAgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlSW5GYWNpbmcoZmFjaW5nKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVJbkZhY2luZyh0aGlzLm9wcG9zaXRlRmFjaW5nKGZhY2luZykpKSlcbiAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gIHRoaXMuZmFjaW5nVG9Vbml0VmVjdG9yKGZhY2luZykubm9ybWFsaXNlZC5tdWx0aXBseShkaXN0YW5jZSkucGx1cyh0aGlzLmZpbmVQb3NpdGlvbik7XG4gICAgICAgICAgICBcbiAgICAgICAgdGhpcy5fY2hlY2tGb3JHcmlkUG9zaXRpb25DaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgc2xpZGVGb3J3YXJkKGRpc3RhbmNlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBsZXQgcG9sYXJpdHkgPSAxO1xuICAgICAgICBpZiAoZGlzdGFuY2UgPCAwKVxuICAgICAgICAgICAgcG9sYXJpdHkgPSAtMTtcbiAgICAgICAgbGV0IGRpYWdvbmFsQ29tcG9uZW50ID0gTWF0aC5zcXJ0KChkaXN0YW5jZSpkaXN0YW5jZSkvMikgKiBwb2xhcml0eTtcblxuICAgICAgICBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVJbkZhY2luZyh0aGlzLmZhY2luZykpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlSW5GYWNpbmcodGhpcy5vcHBvc2l0ZUZhY2luZyh0aGlzLmZhY2luZykpKSlcbiAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gIHRoaXMuZmFjaW5nVG9Vbml0VmVjdG9yKHRoaXMuZmFjaW5nKS5ub3JtYWxpc2VkLm11bHRpcGx5KGRpc3RhbmNlKS5wbHVzKHRoaXMuZmluZVBvc2l0aW9uKTtcbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICB7ICAgXG4gICAgICAgICAgICAgICAgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlTm9ydGgoKSAmJiAhdGhpcy5jYW5Nb3ZlRWFzdCgpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZVNvdXRoKCkgJiYgIXRoaXMuY2FuTW92ZVdlc3QoKSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLmZpbmVQb3NpdGlvbi54LCB0aGlzLmZpbmVQb3NpdGlvbi55LCB0aGlzLmZpbmVQb3NpdGlvbi56IC0gZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlRWFzdCgpICYmICF0aGlzLmNhbk1vdmVOb3J0aCgpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZVdlc3QoKSAmJiAhdGhpcy5jYW5Nb3ZlU291dGgoKSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLmZpbmVQb3NpdGlvbi54ICsgZGlzdGFuY2UsIHRoaXMuZmluZVBvc2l0aW9uLnksIHRoaXMuZmluZVBvc2l0aW9uLnopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlU291dGgoKSAmJiAhdGhpcy5jYW5Nb3ZlRWFzdCgpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZU5vcnRoKCkmJiAhdGhpcy5jYW5Nb3ZlV2VzdCgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMuZmluZVBvc2l0aW9uLngsIHRoaXMuZmluZVBvc2l0aW9uLnksIHRoaXMuZmluZVBvc2l0aW9uLnogKyBkaXN0YW5jZSk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKGRpc3RhbmNlID4gMCAmJiB0aGlzLmNhbk1vdmVFYXN0KCkgJiYgIXRoaXMuY2FuTW92ZVNvdXRoKCkpIHx8IChkaXN0YW5jZSA8IDAgJiYgdGhpcy5jYW5Nb3ZlV2VzdCgpJiYgIXRoaXMuY2FuTW92ZU5vcnRoKCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCArIGRpc3RhbmNlLCB0aGlzLmZpbmVQb3NpdGlvbi55LCB0aGlzLmZpbmVQb3NpdGlvbi56KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhXZXN0KVxuICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZVNvdXRoKCkgJiYgIXRoaXMuY2FuTW92ZVdlc3QoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVOb3J0aCgpICYmICF0aGlzLmNhbk1vdmVFYXN0KCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueiArIGRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZVdlc3QoKSAmJiAhdGhpcy5jYW5Nb3ZlU291dGgoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVFYXN0KCkgJiYgIXRoaXMuY2FuTW92ZVNvdXRoKCkpKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbmVQb3NpdGlvbiA9IG5ldyBQb2ludDModGhpcy5maW5lUG9zaXRpb24ueCAtIGRpc3RhbmNlLCB0aGlzLmZpbmVQb3NpdGlvbi55LCB0aGlzLmZpbmVQb3NpdGlvbi56KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgeyAgIFxuICAgICAgICAgICAgICAgIGlmICgoZGlzdGFuY2UgPiAwICYmIHRoaXMuY2FuTW92ZU5vcnRoKCkgJiYgIXRoaXMuY2FuTW92ZVdlc3QoKSkgfHwgKGRpc3RhbmNlIDwgMCAmJiB0aGlzLmNhbk1vdmVTb3V0aCgpJiYgIXRoaXMuY2FuTW92ZUVhc3QoKSkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZVBvc2l0aW9uID0gbmV3IFBvaW50Myh0aGlzLmZpbmVQb3NpdGlvbi54LCB0aGlzLmZpbmVQb3NpdGlvbi55LCB0aGlzLmZpbmVQb3NpdGlvbi56IC0gZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChkaXN0YW5jZSA+IDAgJiYgdGhpcy5jYW5Nb3ZlV2VzdCgpICYmICF0aGlzLmNhbk1vdmVOb3J0aCgpKSB8fCAoZGlzdGFuY2UgPCAwICYmIHRoaXMuY2FuTW92ZUVhc3QoKSYmICF0aGlzLmNhbk1vdmVTb3V0aCgpKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maW5lUG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMuZmluZVBvc2l0aW9uLnggLSBkaXN0YW5jZSwgdGhpcy5maW5lUG9zaXRpb24ueSwgdGhpcy5maW5lUG9zaXRpb24ueik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2hlY2tGb3JHcmlkUG9zaXRpb25DaGFuZ2UoKTtcbiAgICAgICAgdGhpcy5vblVwZGF0ZS5jYWxsKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfY2hlY2tGb3JHcmlkUG9zaXRpb25DaGFuZ2UoKVxuICAgIHtcbiAgICAgICAgbGV0IHJ4ID0gTWF0aC5yb3VuZCh0aGlzLmZpbmVQb3NpdGlvbi54KTtcbiAgICAgICAgbGV0IHJ5ID0gTWF0aC5yb3VuZCh0aGlzLmZpbmVQb3NpdGlvbi55KTtcbiAgICAgICAgbGV0IHJ6ID0gTWF0aC5yb3VuZCh0aGlzLmZpbmVQb3NpdGlvbi56KTtcbiAgICAgICAgaWYgKHJ4ID09PSB0aGlzLnBvc2l0aW9uLngtMSlcbiAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgaWYgKHJ4ID09IHRoaXMucG9zaXRpb24ueCsxKVxuICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICBpZiAocnogPT09IHRoaXMucG9zaXRpb24ueisxKVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGgoKTtcbiAgICAgICAgaWYgKHJ6ID09PSB0aGlzLnBvc2l0aW9uLnotMSlcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoKCk7XG4gICAgfVxuXG4gICAgcm90YXRlUmlnaHQoYW5nbGU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBuZXcgUG9pbnQzKHRoaXMucm90YXRpb24ueCwgKHRoaXMucm90YXRpb24ueSAtIGFuZ2xlKSUoTWF0aC5QSSoyKSwgdGhpcy5yb3RhdGlvbi56KTtcbiAgICAgICAgbGV0IHkgPSBNYXRoLnJvdW5kKDcgLSAodGhpcy5yb3RhdGlvbi55IC8gKE1hdGguUEkvNCkpKTtcbiAgICAgICAgLy9pZiAodGhpcy5mYWNpbmcgIT09ICh5KzEpJTgpXG4gICAgICAgIC8ve1xuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAoeSsxKSU4O1xuICAgICAgICAgICAgLy90aGlzLmdhbWVNb2RlbC5saXN0ZW5lci5vblR1cm4uY2FsbCgpO1xuICAgICAgIC8vIH1cbiAgICAgICB0aGlzLm9uVXBkYXRlLmNhbGwoKTtcblxuICAgIH1cblxuICAgIG1vdmVGb3J3YXJkKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoKCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoV2VzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlV2VzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aFdlc3QoKTtcbiAgICB9XG5cbiAgICBtb3ZlQmFja3dhcmQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVTb3V0aFdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhXZXN0KCk7ICBcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aEVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZUVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGhFYXN0KCk7XG4gICAgfVxuXG4gICAgc3RyYWZlTGVmdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aClcbiAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlTm9ydGhXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aEVhc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGgpXG4gICAgICAgICAgICB0aGlzLm1vdmVFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5XZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGhXZXN0KCk7XG4gICAgfVxuXG4gICAgc3RyYWZlUmlnaHQoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuTm9ydGgpXG4gICAgICAgICAgICB0aGlzLm1vdmVFYXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoRWFzdClcbiAgICAgICAgICAgIHRoaXMubW92ZVNvdXRoRWFzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5FYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGgoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuU291dGhFYXN0KVxuICAgICAgICAgICAgdGhpcy5tb3ZlU291dGhXZXN0KCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy5tb3ZlV2VzdCgpO1xuICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLm1vdmVOb3J0aFdlc3QoKTtcbiAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSBGYWNpbmcuV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoKCk7XG4gICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoV2VzdClcbiAgICAgICAgICAgIHRoaXMubW92ZU5vcnRoRWFzdCgpO1xuICAgIH1cblxuICAgIGhvdmVyVXAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24ueSA8IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5sZXZlbFR5cGUuaGVpZ2h0LTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBsZXQgbmV3Y2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueSsxXVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBpZiAoY2VsbC53YWxsc1s1XS5wYXNzYWJsZSlcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmUoMCwxLDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaG92ZXJEb3duKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLnkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgbGV0IG5ld2NlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnktMV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKGNlbGwud2FsbHNbNF0ucGFzc2FibGUpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlKDAsLTEsMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtb3ZlTm9ydGgoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZU5vcnRoKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoMCxjZWxsLmV4aXRPZmZzZXROLC0xKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbk1vdmVVcHdhcmQoKVxuICAgIHtcbiAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgaWYgKGNlbGwuY2VpbGluZ1dhbGwucGFzc2FibGUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNhbk1vdmVEb3dud2FyZCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbi55ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGlmIChjZWxsLmZsb29yV2FsbC5wYXNzYWJsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY2FuTW92ZU5vcnRoKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLnogPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKChjZWxsLndhbGxzWzBdLnBhc3NhYmxlKSB8fCAoY2VsbC5leGl0T2Zmc2V0TiAhPT0gMCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmVOb3J0aEVhc3QoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuTW92ZU5vcnRoRWFzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgdGhpcy5tb3ZlKDEsY2VsbC5leGl0T2Zmc2V0RSwtMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG4gPSB0aGlzLmNhbk1vdmVOb3J0aCgpO1xuICAgICAgICAgICAgbGV0IGUgPSB0aGlzLmNhbk1vdmVFYXN0KCk7XG4gICAgICAgICAgICBpZiAobiAmJiAhZSlcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVOb3J0aCgpO1xuICAgICAgICAgICAgaWYgKGUgJiYgIW4pXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FuTW92ZU5vcnRoRWFzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlTm9ydGgoKSAmJiB0aGlzLmNhbk1vdmVFYXN0KCkgKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgaWYgKChjZWxsLmV4aXRPZmZzZXROID09PSBjZWxsLmV4aXRPZmZzZXRFKSAmJiAodGhpcy5lYXN0Q2VsbCgpLm5vcnRoV2FsbC5wYXNzYWJsZSkgJiYgKHRoaXMubm9ydGhDZWxsKCkuZWFzdFdhbGwucGFzc2FibGUpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlRWFzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlRWFzdCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XVxuICAgICAgICAgICAgdGhpcy5tb3ZlKDEsY2VsbC5leGl0T2Zmc2V0RSwwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbk1vdmVFYXN0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLnggPCB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUubGV2ZWxUeXBlLndpZHRoLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBpZiAoY2VsbC53YWxsc1sxXS5wYXNzYWJsZSB8fCBjZWxsLmV4aXRPZmZzZXRFICE9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbm9ydGhDZWxsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uei0xXTtcbiAgICB9XG5cbiAgICBub3J0aEVhc3RDZWxsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54KzFdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56LTFdO1xuICAgIH1cblxuICAgIGVhc3RDZWxsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54KzFdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56XTtcbiAgICB9XG5cbiAgICBzb3V0aEVhc3RDZWxsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54KzFdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56KzFdO1xuICAgIH1cblxuICAgIHNvdXRoQ2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnorMV07XG4gICAgfVxuXG4gICAgc291dGhXZXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueC0xXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24ueisxXTtcbiAgICB9XG5cbiAgICB3ZXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueC0xXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel07XG4gICAgfVxuXG4gICAgbm9ydGhXZXN0Q2VsbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueC0xXVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uei0xXTtcbiAgICB9XG5cbiAgICBtb3ZlU291dGhFYXN0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmVTb3V0aEVhc3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIHRoaXMubW92ZSgxLGNlbGwuZXhpdE9mZnNldEUsMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHMgPSB0aGlzLmNhbk1vdmVTb3V0aCgpO1xuICAgICAgICAgICAgbGV0IGUgPSB0aGlzLmNhbk1vdmVFYXN0KCk7XG4gICAgICAgICAgICBpZiAocyAmJiAhZSlcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVTb3V0aCgpO1xuICAgICAgICAgICAgaWYgKGUgJiYgIXMpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlRWFzdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FuTW92ZVNvdXRoRWFzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlU291dGgoKSAmJiB0aGlzLmNhbk1vdmVFYXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBpZiAoKGNlbGwuZXhpdE9mZnNldFMgPT09IGNlbGwuZXhpdE9mZnNldEUpICYmICh0aGlzLnNvdXRoQ2VsbCgpLmVhc3RXYWxsLnBhc3NhYmxlKSAmJiAodGhpcy5lYXN0Q2VsbCgpLnNvdXRoV2FsbC5wYXNzYWJsZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmVTb3V0aCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlU291dGgoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIHRoaXMubW92ZSgwLGNlbGwuZXhpdE9mZnNldFMsMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYW5Nb3ZlU291dGgoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24uejx0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUubGV2ZWxUeXBlLmRlcHRoLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBsZXQgbmV3Y2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLnhdW3RoaXMucG9zaXRpb24ueV1bdGhpcy5wb3NpdGlvbi56KzFdXG4gICAgICAgICAgICBpZiAoY2VsbC53YWxsc1syXS5wYXNzYWJsZSB8fCBjZWxsLmV4aXRPZmZzZXRTICE9PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlU291dGhXZXN0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmVTb3V0aFdlc3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIHRoaXMubW92ZSgtMSxjZWxsLmV4aXRPZmZzZXRFLDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBzID0gdGhpcy5jYW5Nb3ZlU291dGgoKTtcbiAgICAgICAgICAgIGxldCB3ID0gdGhpcy5jYW5Nb3ZlV2VzdCgpO1xuICAgICAgICAgICAgaWYgKHMgJiYgIXcpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlU291dGgoKTtcbiAgICAgICAgICAgIGlmICh3ICYmICFzKVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVdlc3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgY2FuTW92ZVNvdXRoV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlU291dGgoKSAmJiB0aGlzLmNhbk1vdmVXZXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICBpZiAoKGNlbGwuZXhpdE9mZnNldFMgPT09IGNlbGwuZXhpdE9mZnNldFcpICYmICh0aGlzLnNvdXRoQ2VsbCgpLndlc3RXYWxsLnBhc3NhYmxlKSAmJiAodGhpcy53ZXN0Q2VsbCgpLnNvdXRoV2FsbC5wYXNzYWJsZSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIG1vdmVXZXN0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmVXZXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoLTEsY2VsbC5leGl0T2Zmc2V0RSwwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbk1vdmVXZXN0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uLng+MClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel07XG4gICAgICAgICAgICBsZXQgbmV3Y2VsbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5jZWxsc1t0aGlzLnBvc2l0aW9uLngtMV1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdO1xuICAgICAgICAgICAgaWYgKGNlbGwud2FsbHNbM10ucGFzc2FibGUgfHwgY2VsbC5leGl0T2Zmc2V0VyAhPT0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZU5vcnRoV2VzdCgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW5Nb3ZlTm9ydGhXZXN0KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjZWxsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLmNlbGxzW3RoaXMucG9zaXRpb24ueF1bdGhpcy5wb3NpdGlvbi55XVt0aGlzLnBvc2l0aW9uLnpdXG4gICAgICAgICAgICB0aGlzLm1vdmUoLTEsY2VsbC5leGl0T2Zmc2V0RSwtMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG4gPSB0aGlzLmNhbk1vdmVOb3J0aCgpO1xuICAgICAgICAgICAgbGV0IHcgPSB0aGlzLmNhbk1vdmVXZXN0KCk7XG4gICAgICAgICAgICBpZiAobiAmJiAhdylcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVOb3J0aCgpO1xuICAgICAgICAgICAgaWYgKHcgJiYgIW4pXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlV2VzdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBjYW5Nb3ZlTm9ydGhXZXN0KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNhbk1vdmVOb3J0aCgpICYmIHRoaXMuY2FuTW92ZVdlc3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgICAgIGlmICgoY2VsbC5leGl0T2Zmc2V0TiA9PT0gY2VsbC5leGl0T2Zmc2V0VykgJiYgKHRoaXMubm9ydGhDZWxsKCkud2VzdFdhbGwucGFzc2FibGUpICYmICh0aGlzLndlc3RDZWxsKCkubm9ydGhXYWxsLnBhc3NhYmxlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZSh4OiBudW1iZXIseTogbnVtYmVyLHo6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgUG9pbnQzKHRoaXMucG9zaXRpb24ueCt4LHRoaXMucG9zaXRpb24ueSt5LHRoaXMucG9zaXRpb24ueit6KTtcbiAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWUuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel1cbiAgICAgICAgdGhpcy55T2Zmc2V0ID0gY2VsbC5taWRIZWlnaHQ7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uTW92ZS5jYWxsKCk7XG4gICAgfVxufSIsImltcG9ydCBBY3Rpb25Nb2RlbCBmcm9tIFwiLi9hY3Rpb24vQWN0aW9uTW9kZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgU3BlbGwgZXh0ZW5kcyBBY3Rpb25Nb2RlbFxue1xuICAgIG5hbWU6IHN0cmluZztcbiAgICByZXF1aXJlVGFyZ2V0OiBib29sZWFuO1xuICAgIGljb246IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCByZXF1aXJlVGFyZ2V0OiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5yZXF1aXJlVGFyZ2V0ID0gcmVxdWlyZVRhcmdldDtcbiAgICAgICAgdGhpcy5pY29uID0gaWNvbjtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsIGZyb20gXCIuL1NwZWxsXCI7XG5pbXBvcnQgRmlyZUJvbHQgZnJvbSBcIi4vYWN0aW9uL3NwZWxscy9GaXJlQm9sdFwiO1xuaW1wb3J0IFRvcmNoTGlnaHQgZnJvbSBcIi4vYWN0aW9uL3NwZWxscy9Ub3JjaExpZ2h0XCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuL0dhbWVNb2RlbFwiO1xuaW1wb3J0IExldmVsRWRpdGluZyBmcm9tIFwiLi9hY3Rpb24vc3BlbGxzL0xldmVsRWRpdGluZ1wiO1xuaW1wb3J0IEZseSBmcm9tIFwiLi9hY3Rpb24vc3BlbGxzL0ZseVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTcGVsbExpc3RcbntcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBzcGVsbHM6IFNwZWxsW10gPSBbXTtcbiAgICBpY29uOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIHNwZWxsczogU3BlbGxbXSwgaWNvbjogc3RyaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zcGVsbHMgPSBzcGVsbHM7XG4gICAgICAgIHRoaXMuaWNvbiA9IGljb247XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFNwZWxsKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIGlmIChuYW1lID09PSBcIkZpcmUgQm9sdFwiKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGaXJlQm9sdChuYW1lLCBpY29uKTtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwiVG9yY2ggTGlnaHRcIilcbiAgICAgICAgICAgIHJldHVybiBuZXcgVG9yY2hMaWdodChuYW1lLCBpY29uLCBnYW1lTW9kZWwpO1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJMZXZlbCBFZGl0aW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gbmV3IExldmVsRWRpdGluZyhuYW1lLCBpY29uLCBnYW1lTW9kZWwpO1xuICAgICAgICBpZiAobmFtZSA9PT0gXCJGbHlcIilcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmx5KG5hbWUsIGljb24sIGdhbWVNb2RlbCk7XG4gICAgfVxuXG59XG4iLCJleHBvcnQgZW51bSBTdGF0dXNUeXBlXG57XG4gICAgRGVhZCxcbiAgICBUb3JjaExpZ2h0LFxuICAgIFNsb3csXG4gICAgRmx5aW5nLFxuICAgIExldmVsRWRpdFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGF0dXNcbntcbiAgICBzdGF0dXNUeXBlOiBTdGF0dXNUeXBlO1xuXG4gICAgZ2V0IG5hbWUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzVHlwZSA9PT0gU3RhdHVzVHlwZS5EZWFkKVxuICAgICAgICAgICAgcmV0dXJuIFwiRGVhZFwiO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLlRvcmNoTGlnaHQpXG4gICAgICAgICAgICByZXR1cm4gXCJUb3JjaCBMaWdodFwiO1xuICAgICAgICBpZiAodGhpcy5zdGF0dXNUeXBlID09PSBTdGF0dXNUeXBlLlNsb3cpXG4gICAgICAgICAgICByZXR1cm4gXCJTbG93XCI7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuRmx5aW5nKVxuICAgICAgICAgICAgcmV0dXJuIFwiRmx5aW5nXCI7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1c1R5cGUgPT09IFN0YXR1c1R5cGUuTGV2ZWxFZGl0KVxuICAgICAgICAgICAgcmV0dXJuIFwiTGV2ZWwgRWRpdGluZ1wiO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHN0YXR1c1R5cGU6IFN0YXR1c1R5cGUpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXR1c1R5cGUgPSBzdGF0dXNUeXBlO1xuICAgIH1cbn0iLCJpbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4vQWN0aW9uUmVzdWx0TW9kZWxcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEFjdGlvbk1vZGVsXG57XG4gICAgYWJzdHJhY3QgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG5cbiAgICBhYnN0cmFjdCB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG5cbiAgICBhYnN0cmFjdCByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbn0iLCJpbXBvcnQgRXZlbnQgZnJvbSBcImVuZ2luZS91dGlsL0V2ZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFjdGlvblJlc3VsdE1vZGVsXG57XG4gICAgcmVjb3ZlcnlUaW1lOiBudW1iZXIgPSAwO1xuICAgIG9uQXBwbHk6IEV2ZW50ID0gbmV3IEV2ZW50KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihyZWNvdmVyeVRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMucmVjb3ZlcnlUaW1lID0gcmVjb3ZlcnlUaW1lO1xuICAgIH1cblxuICAgIGFwcGx5KClcbiAgICB7XG4gICAgICAgIHRoaXMub25BcHBseS5jYWxsKCk7XG4gICAgfVxufSIsImltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IEFjdG9yTW9kZWwgZnJvbSBcIi4uL0FjdG9yTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Tb3VyY2VNb2RlbCBmcm9tIFwiLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF0dGFja0FjdGlvbk1vZGVsIGV4dGVuZHMgQWN0aW9uTW9kZWxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBkYW1hZ2VTcGVjOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHJhbmdlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lTW9kZWw6IEdhbWVNb2RlbCwgbmFtZTogc3RyaW5nLCBkYW1hZ2VTcGVjOiBzdHJpbmcsIHJhbmdlOiBudW1iZXIpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5kYW1hZ2VTcGVjID0gZGFtYWdlU3BlYztcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgIH1cblxuICAgIHBlcmZvcm0oc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBY3Rvck1vZGVsKVxuICAgICAgICAgICAgci5vbkFwcGx5LnB1c2goKCkgPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGRhbWFnZSA9IEdhbWVNb2RlbC5yb2xsRGljZSh0aGlzLmRhbWFnZVNwZWMpO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5mb1RleHQudmFsdWUgPSBcIllvdSBkaWQgXCIgKyBkYW1hZ2UgKyBcIiBkYW1hZ2VcIjtcbiAgICAgICAgICAgICAgICB0YXJnZXQudGFrZURhbWFnZShkYW1hZ2UpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBOUENNb2RlbClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCEodGFyZ2V0LmFsaXZlLnZhbHVlKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoUG9pbnQzLm1pbnVzKHRhcmdldC5nZXRQb3NpdGlvbigpLCBzb3VyY2UuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlIDw9IHRoaXMucmFuZ2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBcbiAgICByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMTApXG4gICAgfVxufSIsImltcG9ydCBBY3Rvck1vZGVsIGZyb20gXCIuLi9BY3Rvck1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwsIHsgSGVhbHRoU3RhdGUgfSBmcm9tIFwiLi4vQ2hhcmFjdGVyTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgUGFydHlNb2RlbCBmcm9tIFwiLi4vUGFydHlNb2RlbFwiO1xuaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4uL3dvcmxkL0xldmVsTW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcblxuZXhwb3J0IGVudW0gQ29tYmF0U3RhdGUgeyBHcmVlbiwgWWVsbG93LCBSZWQgfVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbml0aWF0aXZlTW9kZWxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBwYXJ0eU1vZGVsOiBQYXJ0eU1vZGVsO1xuXG4gICAgaW5pdGlhdGl2ZU9yZGVyOiB7bnVtYmVyOiBudW1iZXIsIGFjdG9yOiBBY3Rvck1vZGVsfVtdID0gW107XG4gICAgbnBjc1RvQWN0OiBPYnNlcnZlclZhcmlhYmxlPE5QQ01vZGVsW10+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUoW10pO1xuICAgIGNvbWJhdFN0YXRlOiBPYnNlcnZlclZhcmlhYmxlPENvbWJhdFN0YXRlPjtcbiAgICB3YWl0aW5nQ2hhcmFjdGVyczogT2JzZXJ2ZXJWYXJpYWJsZTxDaGFyYWN0ZXJNb2RlbFtdPlxuICAgIHdhaXRpbmdDaGFyYWN0ZXI6IE9ic2VydmVyVmFyaWFibGU8Q2hhcmFjdGVyTW9kZWw+O1xuXG4gICAgZ2V0IHBsYXllckNhbkFjdCgpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5wYXJ0eU1vZGVsLnBhcnR5RGVhZCAmJiB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuQWN0ICYmIHRoaXMubnBjc1RvQWN0LnZhbHVlLmxlbmd0aCA9PT0gMCAmJiB0aGlzLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUgIT09IG51bGwpOyBcbiAgICB9XG5cbiAgICBnZXQgcGxheWVyQ2FuTW92ZSgpIFxuICAgIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5wYXJ0eU1vZGVsLnBhcnR5RGVhZCAmJiB0aGlzLmdhbWVNb2RlbC5wbGF5ZXIuY2FuTW92ZSAmJiB0aGlzLm5wY3NUb0FjdC52YWx1ZS5sZW5ndGggPT09IDAgJiYgdGhpcy53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlICE9PSBudWxsKTsgXG4gICAgfVxuXG4gICAgZ2V0IHBsYXllckNhblR1cm4oKSBcbiAgICB7XG4gICAgICAgIHJldHVybiAoIXRoaXMucGFydHlNb2RlbC5wYXJ0eURlYWQgJiYgdGhpcy5nYW1lTW9kZWwucGxheWVyLmNhblR1cm4pO1xuICAgIH1cblxuICAgIGNyZWF0ZShnYW1lTW9kZWw6IEdhbWVNb2RlbCwgcGFydHlNb2RlbDogUGFydHlNb2RlbCwgbGV2ZWxNb2RlbDogTGV2ZWxNb2RlbCwgZGF0YTogR2FtZURhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICAgICAgdGhpcy5wYXJ0eU1vZGVsID0gcGFydHlNb2RlbDtcbiAgICAgICAgcGFydHlNb2RlbC5jaGFyYWN0ZXJzLmZvckVhY2goYyA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnB1c2goe251bWJlcjogYy5yb2xsSW5pdGlhdGl2ZSgpLCBhY3RvcjogY30pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldmVsTW9kZWwubnBjcy5mb3JFYWNoKG4gPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmVPcmRlci5wdXNoKHtudW1iZXI6IG4ucm9sbEluaXRpYXRpdmUoKSwgYWN0b3I6IG59KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvcnRJbml0aWF0aXZlT3JkZXIoKTtcbiAgICAgICAgdGhpcy53YWl0aW5nQ2hhcmFjdGVycyA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKHRoaXMuZ2V0V2FpdGluZ0NoYXJhY3RlcnMoKSk7XG4gICAgICAgIHRoaXMud2FpdGluZ0NoYXJhY3RlciA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKHRoaXMuZ2V0V2FpdGluZ0NoYXJhY3RlcigpKTtcbiAgICAgICAgdGhpcy5jb21iYXRTdGF0ZSA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKHRoaXMuZ2V0Q29tYmF0U3RhdGUoKSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJDaGFuZ2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBzd2l0Y2hDaGFyYWN0ZXIoY2hhcmFjdGVyOiBDaGFyYWN0ZXJNb2RlbClcbiAgICB7XG4gICAgICAgIGxldCBjaGFyYWN0ZXJzID0gW107XG4gICAgICAgIGxldCBkZWxheVVudGlsOiBudW1iZXI7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciA9PT0gY2hhcmFjdGVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGF5VW50aWwgPSB0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5udW1iZXI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoYXJhY3RlcnMucHVzaCh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjaGFyYWN0ZXJzLmZvckVhY2goYyA9PiB0aGlzLmRlbGF5QWN0b3JVbnRpbChjLCBkZWxheVVudGlsKSk7XG4gICAgICAgIHRoaXMuYWZ0ZXJDaGFuZ2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBtb3ZlUGFydHkoc3RhcnQ6IFBvaW50MywgZW5kOiBQb2ludDMpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jb21iYXRTdGF0ZS52YWx1ZSA9PT0gQ29tYmF0U3RhdGUuUmVkKVxuICAgICAgICAgICAgdGhpcy5kZWxheVBhcnR5VW50aWxMYXN0TWVtYmVyKHRoaXMuZ2FtZU1vZGVsLnBhcnR5Lm1vdmVSZWNvdmVyeVRpbWUpO1xuICAgICAgICB0aGlzLmFmdGVyQ2hhbmdlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcGVyZm9ybWVkQWN0aW9uKGFjdG9yOiBBY3Rvck1vZGVsLCByZXN1bHQ6IEFjdGlvblJlc3VsdE1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZWxheUFjdG9yKGFjdG9yLCByZXN1bHQucmVjb3ZlcnlUaW1lKTtcbiAgICAgICAgdGhpcy5hZnRlckNoYW5nZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIG5wY0RlbGF5KG5wYzogTlBDTW9kZWwsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuZGVsYXlBY3RvcihucGMsIHRpbWUpO1xuICAgICAgICB0aGlzLmFmdGVyQ2hhbmdlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgbnBjRGllZChucGM6IE5QQ01vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5pbml0aWF0aXZlT3JkZXIgPSB0aGlzLmluaXRpYXRpdmVPcmRlci5maWx0ZXIociA9PiByLmFjdG9yICE9PSBucGMpO1xuICAgICAgICB0aGlzLmFmdGVyQ2hhbmdlVXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGFmdGVyQ2hhbmdlVXBkYXRlKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBhcnR5TW9kZWwucGFydHlEZWFkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXJzLnZhbHVlID0gW107XG4gICAgICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXIudmFsdWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zb3J0SW5pdGlhdGl2ZU9yZGVyKCk7XG4gICAgICAgICAgICB0aGlzLmZpbGxOUENzVG9BY3RBcnJheSgpO1xuICAgICAgICAgICAgdGhpcy5jb21iYXRTdGF0ZS52YWx1ZSA9IHRoaXMuZ2V0Q29tYmF0U3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV2FpdGluZ0NoYXJhY3RlcnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB1cGRhdGVXYWl0aW5nQ2hhcmFjdGVycygpXG4gICAge1xuICAgICAgICB0aGlzLndhaXRpbmdDaGFyYWN0ZXJzLnZhbHVlID0gdGhpcy5nZXRXYWl0aW5nQ2hhcmFjdGVycygpO1xuICAgICAgICBpZiAodGhpcy53YWl0aW5nQ2hhcmFjdGVycy52YWx1ZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgdGhpcy53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlID0gdGhpcy53YWl0aW5nQ2hhcmFjdGVycy52YWx1ZVswXTtcbiAgICAgICAgZWxzZSAgIFxuICAgICAgICAgICAgdGhpcy53YWl0aW5nQ2hhcmFjdGVyLnZhbHVlID0gbnVsbDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0V2FpdGluZ0NoYXJhY3RlcnMoKTogQ2hhcmFjdGVyTW9kZWxbXVxuICAgIHtcbiAgICAgICAgbGV0IGNoYXJhY3RlcnM6IENoYXJhY3Rlck1vZGVsW10gPSBbXTtcbiAgICAgICAgbGV0IGNoYXJzVG9EZWxheSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLmluaXRpYXRpdmVPcmRlci5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLmFjdG9yIGFzIENoYXJhY3Rlck1vZGVsKS5oZWFsdGhTdGF0ZS52YWx1ZSA9PT0gSGVhbHRoU3RhdGUuTm9ybWFsKVxuICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXJzLnB1c2godGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgYXMgQ2hhcmFjdGVyTW9kZWwpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY2hhcnNUb0RlbGF5LnB1c2godGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hhcnNUb0RlbGF5LmZvckVhY2goYyA9PiB0aGlzLmRlbGF5QWN0b3IoYywgMSkpO1xuICAgICAgICB0aGlzLnNvcnRJbml0aWF0aXZlT3JkZXIoKTtcbiAgICAgICAgdGhpcy5maWxsTlBDc1RvQWN0QXJyYXkoKTtcblxuICAgICAgICByZXR1cm4gY2hhcmFjdGVycztcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0V2FpdGluZ0NoYXJhY3RlcigpOiBDaGFyYWN0ZXJNb2RlbFxuICAgIHsgXG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBhcyBDaGFyYWN0ZXJNb2RlbDtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCB3YWl0aW5nQWN0b3IoKTogQWN0b3JNb2RlbFxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0aWF0aXZlT3JkZXJbMF0uYWN0b3I7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkZWxheVBhcnR5VW50aWxMYXN0TWVtYmVyKGFkZGl0aW9uYWxEZWxheTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgbGV0IGZvdW5kQ2hhcmFjdGVyczogbnVtYmVyID0gMDtcbiAgICAgICAgbGV0IGRlbGF5VW50aWw6IG51bWJlcjtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5pbml0aWF0aXZlT3JkZXIubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGFjdG9yID0gdGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3I7XG4gICAgICAgICAgICBpZiAoYWN0b3IgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3VuZENoYXJhY3RlcnMrKztcbiAgICAgICAgICAgICAgICBpZiAoZm91bmRDaGFyYWN0ZXJzID09PSB0aGlzLnBhcnR5TW9kZWwuY2hhcmFjdGVycy5sZW5ndGgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkZWxheVVudGlsID0gdGhpcy5pbml0aWF0aXZlT3JkZXJbaV0ubnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhcnR5TW9kZWwuY2hhcmFjdGVycy5mb3JFYWNoKGMgPT4gdGhpcy5kZWxheUFjdG9yVW50aWwoYywgZGVsYXlVbnRpbCArIGFkZGl0aW9uYWxEZWxheSkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBnZXRDb21iYXRTdGF0ZSgpOiBDb21iYXRTdGF0ZVxuICAgIHtcbiAgICAgICAgbGV0IGluTWVsZWU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgbGV0IGFsaXZlTlBDOiBib29sZWFuID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5ucGNzLmZvckVhY2gobnBjID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKChucGMuYWxpdmUudmFsdWUpICYmIChucGMuaG9zdGlsZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lTW9kZWwuaXNXaXRoaW5NZWxlZShucGMuZ2V0UG9zaXRpb24oKSwgdGhpcy5nYW1lTW9kZWwucGxheWVyLnBvc2l0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGluTWVsZWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhbGl2ZU5QQyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGlmIChpbk1lbGVlKVxuICAgICAgICAgICAgcmV0dXJuIENvbWJhdFN0YXRlLlJlZDtcbiAgICAgICAgaWYgKGFsaXZlTlBDKVxuICAgICAgICAgICAgcmV0dXJuIENvbWJhdFN0YXRlLlllbGxvdztcbiAgICAgICAgcmV0dXJuIENvbWJhdFN0YXRlLkdyZWVuO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBmaWxsTlBDc1RvQWN0QXJyYXkoKVxuICAgIHtcbiAgICAgICAgdGhpcy5ucGNzVG9BY3QudmFsdWUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaT0wO2k8dGhpcy5pbml0aWF0aXZlT3JkZXIubGVuZ3RoO2krKylcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciBpbnN0YW5jZW9mIE5QQ01vZGVsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBucGMgPSAodGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgYXMgTlBDTW9kZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMubnBjc1RvQWN0LnZhbHVlLnB1c2gobnBjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgdGhpcy5ucGNzVG9BY3Qub25VcGRhdGUuY2FsbCgpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBkZWxheUFjdG9yVW50aWwoYWN0b3I6IEFjdG9yTW9kZWwsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGZvciAobGV0IGk9MDtpPHRoaXMuaW5pdGlhdGl2ZU9yZGVyLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYXRpdmVPcmRlcltpXS5hY3RvciA9PT0gYWN0b3IpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWF0aXZlT3JkZXIuc3BsaWNlKGksMSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhY3RvcilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRlbGF5IHVudGlsIGFjdG9yIGlzIG51bGxcIik7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnB1c2goe251bWJlcjogdGltZSwgYWN0b3I6IGFjdG9yIH0pXG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGRlbGF5QWN0b3IoYWN0b3I6IEFjdG9yTW9kZWwsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIGxldCBjdXJyZW50UG9zaXRpb24gPSAwO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTx0aGlzLmluaXRpYXRpdmVPcmRlci5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbml0aWF0aXZlT3JkZXJbaV0uYWN0b3IgPT09IGFjdG9yKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuaW5pdGlhdGl2ZU9yZGVyW2ldLm51bWJlcjtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYXRpdmVPcmRlci5zcGxpY2UoaSwxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFjdG9yKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGVsYXkgIGFjdG9yIGlzIG51bGxcIik7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnB1c2goe251bWJlcjogY3VycmVudFBvc2l0aW9uICsgdGltZSwgYWN0b3I6IGFjdG9yIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBzb3J0SW5pdGlhdGl2ZU9yZGVyKClcbiAgICB7XG4gICAgICAgIHRoaXMuaW5pdGlhdGl2ZU9yZGVyLnNvcnQoKGEsYikgPT4gYS5udW1iZXIgLSBiLm51bWJlcik7XG4gICAgfVxufSIsImltcG9ydCBBY3Rpb25SZXN1bHRNb2RlbCBmcm9tIFwiLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgQWN0aW9uTW9kZWwgZnJvbSBcIi4vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9vdEFjdGlvbk1vZGVsIGV4dGVuZHMgQWN0aW9uTW9kZWxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBsb290RGlzdGFuY2UgPSAzO1xuXG4gICAgY29uc3RydWN0b3IoZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBwZXJmb3JtKHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBOUENNb2RlbClcbiAgICAgICAgICAgIHIub25BcHBseS5wdXNoKCgpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LmdhaW5Hb2xkKEdhbWVNb2RlbC5yb2xsRGljZSh0YXJnZXQubG9vdFNwZWMpKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQubG9vdGVkLnZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG5cbiAgICB0ZXN0KHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBib29sZWFuXG4gICAge1xuICAgICAgICBpZiAoUG9pbnQzLm1pbnVzKHRhcmdldC5nZXRQb3NpdGlvbigpLCBzb3VyY2UuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlIDw9IHRoaXMubG9vdERpc3RhbmNlKVxuICAgICAgICAgICAgaWYgKCh0YXJnZXQgaW5zdGFuY2VvZiBOUENNb2RlbCkgJiYgKCF0YXJnZXQuYWxpdmUudmFsdWUpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHJlY292ZXJ5VGltZShzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59IiwiaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi4vd29ybGQvTlBDTW9kZWxcIjtcbmltcG9ydCBBY3Rpb25Nb2RlbCBmcm9tIFwiLi9BY3Rpb25Nb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4vQWN0aW9uU291cmNlTW9kZWxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuaW1wb3J0IERvb3JNb2RlbCBmcm9tIFwiLi4vd29ybGQvRG9vck1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5Eb29yQWN0aW9uTW9kZWwgZXh0ZW5kcyBBY3Rpb25Nb2RlbFxue1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuICAgIHByaXZhdGUgcmVhY2ggPSAxO1xuXG4gICAgY29uc3RydWN0b3IoZ2FtZU1vZGVsOiBHYW1lTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBwZXJmb3JtKHNvdXJjZTogQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgbGV0IHIgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBEb29yTW9kZWwpXG4gICAgICAgICAgICByLm9uQXBwbHkucHVzaCgoKSA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5vcGVuRG9vcih0YXJnZXQpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBEb29yTW9kZWwpXG4gICAgICAgICAgICBpZiAoISh0YXJnZXQubG9ja2VkKSlcbiAgICAgICAgICAgICAgICBpZiAoUG9pbnQzLm1pbnVzKHRhcmdldC5nZXRQb3NpdGlvbigpLCBzb3VyY2UuZ2V0UG9zaXRpb24oKSkubWFnbml0dWRlIDw9IHRoaXMucmVhY2gpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIHJlY292ZXJ5VGltZShzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsIGZyb20gXCIuLi8uLi9TcGVsbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IENoYXJhY3Rlck1vZGVsIGZyb20gXCIuLi8uLi9DaGFyYWN0ZXJNb2RlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGaXJlQm9sdCBleHRlbmRzIFNwZWxsXG57XG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBpY29uOiBzdHJpbmcpXG4gICAge1xuICAgICAgICBzdXBlcihuYW1lLCBpY29uLCB0cnVlKVxuICAgIH1cblxuICAgIHBlcmZvcm0oc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwsIHRhcmdldDogQWN0aW9uVGFyZ2V0TW9kZWwpOiBBY3Rpb25SZXN1bHRNb2RlbFxuICAgIHtcbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UubWFuYS0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgfVxuXG4gICAgdGVzdChzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIENoYXJhY3Rlck1vZGVsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc291cmNlLm1hbmEgPj0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvL3Rlc3QgZWcuIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbn0iLCJpbXBvcnQgU3BlbGwgZnJvbSBcIi4uLy4uL1NwZWxsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4uL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uLy4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi8uLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzVHlwZSB9IGZyb20gXCIuLi8uLi9TdGF0dXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmx5IGV4dGVuZHMgU3BlbGxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG5hbWUsIGljb24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFjdGlvblJlc3VsdE1vZGVsKHRoaXMucmVjb3ZlcnlUaW1lKHNvdXJjZSkpO1xuICAgICAgICByZXN1bHQub25BcHBseS5wdXNoKCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQ2hhcmFjdGVyTW9kZWwpXG4gICAgICAgICAgICAgICAgc291cmNlLm1hbmEgLT0gODtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LnN0YXR1c2VzLnZhbHVlLnB1c2gobmV3IFN0YXR1cyhTdGF0dXNUeXBlLkZseWluZykpO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMub25VcGRhdGUuY2FsbCh0aGlzLmdhbWVNb2RlbC5wYXJ0eS5zdGF0dXNlcy52YWx1ZSk7XG4gICAgICAgIH0pLmJpbmQodGhpcyksIHRoaXMpXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdGVzdChzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbCkgJiYgKHNvdXJjZS5tYW5hID49IDgpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbn0iLCJpbXBvcnQgU3BlbGwgZnJvbSBcIi4uLy4uL1NwZWxsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4uL0FjdGlvblNvdXJjZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4uL0FjdGlvblJlc3VsdE1vZGVsXCI7XG5pbXBvcnQgQ2hhcmFjdGVyTW9kZWwgZnJvbSBcIi4uLy4uL0NoYXJhY3Rlck1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi8uLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBTdGF0dXMsIHsgU3RhdHVzVHlwZSB9IGZyb20gXCIuLi8uLi9TdGF0dXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGV2ZWxFZGl0aW5nIGV4dGVuZHMgU3BlbGxcbntcbiAgICBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgaWNvbjogc3RyaW5nLCBnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG5hbWUsIGljb24sIGZhbHNlKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgcGVyZm9ybShzb3VyY2U6ICBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IEFjdGlvblJlc3VsdE1vZGVsXG4gICAge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFjdGlvblJlc3VsdE1vZGVsKHRoaXMucmVjb3ZlcnlUaW1lKHNvdXJjZSkpO1xuICAgICAgICByZXN1bHQub25BcHBseS5wdXNoKCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5wYXJ0eS5zdGF0dXNlcy52YWx1ZS5wdXNoKG5ldyBTdGF0dXMoU3RhdHVzVHlwZS5MZXZlbEVkaXQpKTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLnBhcnR5LnN0YXR1c2VzLm9uVXBkYXRlLmNhbGwodGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUpO1xuICAgICAgICB9KS5iaW5kKHRoaXMpLCB0aGlzKVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIHRlc3Qoc291cmNlOiBBY3Rpb25Tb3VyY2VNb2RlbCwgdGFyZ2V0OiBBY3Rpb25UYXJnZXRNb2RlbCk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVjb3ZlcnlUaW1lKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsKTogbnVtYmVyXG4gICAge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG59IiwiaW1wb3J0IFNwZWxsIGZyb20gXCIuLi8uLi9TcGVsbFwiO1xuaW1wb3J0IEFjdGlvblNvdXJjZU1vZGVsIGZyb20gXCIuLi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblJlc3VsdE1vZGVsIGZyb20gXCIuLi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IENoYXJhY3Rlck1vZGVsIGZyb20gXCIuLi8uLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgU3RhdHVzLCB7IFN0YXR1c1R5cGUgfSBmcm9tIFwiLi4vLi4vU3RhdHVzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvcmNoTGlnaHQgZXh0ZW5kcyBTcGVsbFxue1xuICAgIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBpY29uOiBzdHJpbmcsIGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIobmFtZSwgaWNvbiwgZmFsc2UpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBwZXJmb3JtKHNvdXJjZTogIEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogQWN0aW9uUmVzdWx0TW9kZWxcbiAgICB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQWN0aW9uUmVzdWx0TW9kZWwodGhpcy5yZWNvdmVyeVRpbWUoc291cmNlKSk7XG4gICAgICAgIHJlc3VsdC5vbkFwcGx5LnB1c2goKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbClcbiAgICAgICAgICAgICAgICBzb3VyY2UubWFuYS0tO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMudmFsdWUucHVzaChuZXcgU3RhdHVzKFN0YXR1c1R5cGUuVG9yY2hMaWdodCkpO1xuICAgICAgICAgICAgdGhpcy5nYW1lTW9kZWwucGFydHkuc3RhdHVzZXMub25VcGRhdGUuY2FsbCh0aGlzLmdhbWVNb2RlbC5wYXJ0eS5zdGF0dXNlcy52YWx1ZSk7XG4gICAgICAgIH0pLmJpbmQodGhpcyksIHRoaXMpXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgdGVzdChzb3VyY2U6IEFjdGlvblNvdXJjZU1vZGVsLCB0YXJnZXQ6IEFjdGlvblRhcmdldE1vZGVsKTogYm9vbGVhblxuICAgIHtcbiAgICAgICAgaWYgKChzb3VyY2UgaW5zdGFuY2VvZiBDaGFyYWN0ZXJNb2RlbCkgJiYgKHNvdXJjZS5tYW5hID49IDEpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZWNvdmVyeVRpbWUoc291cmNlOiAgQWN0aW9uU291cmNlTW9kZWwpOiBudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbn0iLCJpbXBvcnQgV2FsbE1vZGVsIGZyb20gXCIuL1dhbGxNb2RlbFwiO1xuaW1wb3J0IHsgR2FtZURhdGEsIFdhbGxEZXRhaWxzRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENlbGxNb2RlbFxue1xuICAgIHdhbGxzOiBXYWxsTW9kZWxbXSA9IFtdO1xuICAgIG1pZEhlaWdodDogbnVtYmVyID0gMDtcbiAgICBleGl0T2Zmc2V0TiA9IDBcbiAgICBleGl0T2Zmc2V0RSA9IDA7XG4gICAgZXhpdE9mZnNldFMgPSAwO1xuICAgIGV4aXRPZmZzZXRXID0gMDtcblxuICAgIGdldCBub3J0aFdhbGwoKSB7IHJldHVybiB0aGlzLndhbGxzWzBdOyB9XG4gICAgZ2V0IGVhc3RXYWxsKCkgeyByZXR1cm4gdGhpcy53YWxsc1sxXTsgfVxuICAgIGdldCBzb3V0aFdhbGwoKSB7IHJldHVybiB0aGlzLndhbGxzWzJdOyB9XG4gICAgZ2V0IHdlc3RXYWxsKCkgeyByZXR1cm4gdGhpcy53YWxsc1szXTsgfVxuICAgIGdldCBmbG9vcldhbGwoKSB7IHJldHVybiB0aGlzLndhbGxzWzRdOyB9XG4gICAgZ2V0IGNlaWxpbmdXYWxsKCkgeyByZXR1cm4gdGhpcy53YWxsc1s1XTsgfVxuXG4gICAgY29uc3RydWN0b3IoZGF0YTogR2FtZURhdGEsIHdhbGxUeXBlczogKG51bWJlciB8IFdhbGxEZXRhaWxzRGF0YSlbXSlcbiAgICB7XG4gICAgICAgIHdoaWxlICh3YWxsVHlwZXMubGVuZ3RoIDwgNilcbiAgICAgICAgICAgIHdhbGxUeXBlcy5wdXNoKDApO1xuICAgICAgICB3YWxsVHlwZXMuZm9yRWFjaCh0eXBlID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhbGxzLnB1c2gobmV3IFdhbGxNb2RlbChkYXRhLndhbGxzW3R5cGVdKSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLndhbGxzLnB1c2gobmV3IFdhbGxNb2RlbChkYXRhLndhbGxzW3R5cGUudF0sIHR5cGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy53YWxsc1s0XS5kZXRhaWxzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1pZEhlaWdodCA9IHRoaXMud2FsbHNbNF0uZGV0YWlscy5taWQgfHwgMDtcbiAgICAgICAgICAgIHRoaXMuZXhpdE9mZnNldE4gPSB0aGlzLndhbGxzWzRdLmRldGFpbHMubiB8fCAwO1xuICAgICAgICAgICAgdGhpcy5leGl0T2Zmc2V0RSA9IHRoaXMud2FsbHNbNF0uZGV0YWlscy5lIHx8IDA7XG4gICAgICAgICAgICB0aGlzLmV4aXRPZmZzZXRTID0gdGhpcy53YWxsc1s0XS5kZXRhaWxzLnMgfHwgMDtcbiAgICAgICAgICAgIHRoaXMuZXhpdE9mZnNldFcgPSB0aGlzLndhbGxzWzRdLmRldGFpbHMudyB8fCAwO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEdhbWVEYXRhLCBXb3JsZE9iamVjdERhdGEsIERvb3JEYXRhLCBMZXZlbERvb3JEYXRhIH0gZnJvbSBcIi4uLy4uL2RhdGFcIjtcbmltcG9ydCBBY3Rpb25UYXJnZXRNb2RlbCBmcm9tIFwiLi4vYWN0aW9uL0FjdGlvblRhcmdldE1vZGVsXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgeyBGYWNpbmcgfSBmcm9tIFwiLi4vUGxheWVyTW9kZWxcIjtcbmltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL0dhbWVNb2RlbFwiO1xuaW1wb3J0IExldmVsTW9kZWwgZnJvbSBcIi4vTGV2ZWxNb2RlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb29yTW9kZWwgaW1wbGVtZW50cyBBY3Rpb25UYXJnZXRNb2RlbFxue1xuICAgIGRvb3JEYXRhOiBEb29yRGF0YTtcbiAgICBwb3NpdGlvbjogUG9pbnQzO1xuICAgIHdhbGw6IG51bWJlcjtcbiAgICB0YXJnZXRMZXZlbDogbnVtYmVyID0gdW5kZWZpbmVkO1xuICAgIHRhcmdldFBvc2l0aW9uOiBQb2ludDM7XG4gICAgdGFyZ2V0RmFjaW5nOiBGYWNpbmc7XG4gICAgb3BlbkFuZ2xlOiBudW1iZXI7XG4gICAgbGV2ZWxNb2RlbDpMZXZlbE1vZGVsO1xuXG4gICAgaXNPcGVuOiBPYnNlcnZlclZhcmlhYmxlPGJvb2xlYW4+ID0gbmV3IE9ic2VydmVyVmFyaWFibGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gICAgZ2V0IGZpbGVuYW1lKCkgeyByZXR1cm4gdGhpcy5kb29yRGF0YS5maWxlbmFtZTsgfVxuICAgIGdldCBub3JtYWxNYXAoKSB7IHJldHVybiB0aGlzLmRvb3JEYXRhLm5vcm1hbE1hcCB8fCBudWxsOyB9XG4gICAgZ2V0IGxvY2tlZCgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IG9wZW5zKCkgeyByZXR1cm4gdGhpcy50YXJnZXRMZXZlbCA9PT0gdW5kZWZpbmVkOyB9XG5cbiAgICBjb25zdHJ1Y3RvcihnYW1lRGF0YTogR2FtZURhdGEsIGxldmVsRG9vckRhdGE6IExldmVsRG9vckRhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmRvb3JEYXRhID0gZ2FtZURhdGEuZG9vcnNbbGV2ZWxEb29yRGF0YS50eXBlXTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBQb2ludDMobGV2ZWxEb29yRGF0YS5wb3NpdGlvbi5zbGljZSgwLDMpKTtcbiAgICAgICAgdGhpcy53YWxsID0gbGV2ZWxEb29yRGF0YS5wb3NpdGlvblszXTtcbiAgICAgICAgaWYgKGxldmVsRG9vckRhdGEudGFyZ2V0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldExldmVsID0gbGV2ZWxEb29yRGF0YS50YXJnZXRbMF07XG4gICAgICAgICAgICB0aGlzLnRhcmdldFBvc2l0aW9uID0gbmV3IFBvaW50MyhsZXZlbERvb3JEYXRhLnRhcmdldC5zbGljZSgxLDQpKTtcbiAgICAgICAgICAgIGxldCBmID0gbGV2ZWxEb29yRGF0YS50YXJnZXRbNF07XG4gICAgICAgICAgICB0aGlzLnRhcmdldEZhY2luZyA9IGY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9wZW5BbmdsZSA9IGxldmVsRG9vckRhdGEub3BlbkFuZ2xlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3JlYXRlKGxldmVsTW9kZWw6IExldmVsTW9kZWwpXG4gICAge1xuICAgICAgICB0aGlzLmxldmVsTW9kZWwgPSBsZXZlbE1vZGVsO1xuICAgICAgICBsZXQgY2VsbCA9IGxldmVsTW9kZWwuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel07XG4gICAgICAgIGxldCB3YWxsID0gY2VsbC53YWxsc1t0aGlzLndhbGxdO1xuICAgICAgICBpZiAodGhpcy5vcGVucylcbiAgICAgICAgICAgIHdhbGwuYWxwaGFNYXAgPSB0aGlzLmRvb3JEYXRhLmFscGhhTWFwO1xuICAgICAgICB3YWxsLnBhc3NhYmxlID0gdGhpcy5pc09wZW4udmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLnBvc2l0aW9uOyB9XG5cbiAgICBjaGFuZ2VPcGVuU3RhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pc09wZW4udmFsdWUgPSAhdGhpcy5pc09wZW4udmFsdWU7XG5cbiAgICAgICAgbGV0IGNlbGwgPSB0aGlzLmxldmVsTW9kZWwuY2VsbHNbdGhpcy5wb3NpdGlvbi54XVt0aGlzLnBvc2l0aW9uLnldW3RoaXMucG9zaXRpb24uel07XG4gICAgICAgIGxldCB3YWxsID0gY2VsbC53YWxsc1t0aGlzLndhbGxdO1xuICAgICAgICB3YWxsLnBhc3NhYmxlID0gdGhpcy5pc09wZW4udmFsdWU7XG4gICAgfVxufSIsImltcG9ydCBDZWxsTW9kZWwgZnJvbSBcIi4vQ2VsbE1vZGVsXCI7XG5pbXBvcnQgeyBHYW1lRGF0YSwgTGV2ZWxEYXRhIH0gZnJvbSBcIi4uLy4uL2RhdGFcIjtcbmltcG9ydCBXb3JsZE9iamVjdE1vZGVsIGZyb20gXCIuL1dvcmxkT2JqZWN0TW9kZWxcIjtcbmltcG9ydCBOUENNb2RlbCBmcm9tIFwiLi9OUENNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgUG9pbnQzIGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludDNcIjtcbmltcG9ydCBEb29yTW9kZWwgZnJvbSBcIi4vRG9vck1vZGVsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsTW9kZWxcbntcbiAgICBjZWxsczogQ2VsbE1vZGVsW11bXVtdO1xuICAgIGRvb3JzOiBEb29yTW9kZWxbXTtcbiAgICBvYmplY3RzOiBXb3JsZE9iamVjdE1vZGVsW107XG4gICAgbnBjczogTlBDTW9kZWxbXTtcbiAgICBsZXZlbFR5cGU6IExldmVsRGF0YTtcblxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy5sZXZlbFR5cGUubmFtZTsgfVxuICAgIGdldCB3aWR0aCgpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLndpZHRoOyB9XG4gICAgZ2V0IGhlaWdodCgpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLmhlaWdodDsgfVxuICAgIGdldCBkZXB0aCgpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLmRlcHRoOyB9XG4gICAgZ2V0IHN0YXJ0aW5nUG9zaXRpb24oKSB7IHJldHVybiBuZXcgUG9pbnQzKHRoaXMubGV2ZWxUeXBlLnN0YXJ0aW5nUG9zaXRpb25bMF0sdGhpcy5sZXZlbFR5cGUuc3RhcnRpbmdQb3NpdGlvblsxXSx0aGlzLmxldmVsVHlwZS5zdGFydGluZ1Bvc2l0aW9uWzJdKTsgfVxuICAgIGdldCBzdGFydGluZ0ZhY2luZygpIHsgcmV0dXJuIHRoaXMubGV2ZWxUeXBlLnN0YXJ0aW5nRmFjaW5nOyB9XG4gICAgZ2V0IG91dHNpZGUoKSB7IHJldHVybiB0aGlzLmxldmVsVHlwZS5vdXRzaWRlOyB9XG4gICAgZ2V0IHNreWJveElEKCkgeyByZXR1cm4gdGhpcy5sZXZlbFR5cGUuc2t5Ym94OyB9XG5cbiAgICBjcmVhdGUoZ2FtZU1vZGVsOiBHYW1lTW9kZWwsIGxldmVsOiBMZXZlbERhdGEpXG4gICAge1xuICAgICAgICB0aGlzLmxldmVsVHlwZSA9IGxldmVsO1xuICAgICAgICB0aGlzLmNlbGxzID0gdGhpcy5jcmVhdGVDZWxscyhnYW1lTW9kZWwuZGF0YSwgbGV2ZWwpO1xuICAgICAgICB0aGlzLmRvb3JzID0gdGhpcy5jcmVhdGVEb29ycyhnYW1lTW9kZWwuZGF0YSwgbGV2ZWwpO1xuICAgICAgICB0aGlzLm9iamVjdHMgPSB0aGlzLmNyZWF0ZU9iamVjdHMoZ2FtZU1vZGVsLmRhdGEsIGxldmVsKTtcbiAgICAgICAgdGhpcy5ucGNzID0gdGhpcy5jcmVhdGVOUENzKGdhbWVNb2RlbCwgbGV2ZWwpO1xuICAgIH1cblxuICAgIHNhdmUoZ2FtZURhdGE6IEdhbWVEYXRhLCBsZXZlbDogTGV2ZWxEYXRhKTogdm9pZFxuICAgIHtcbiAgICAgICAgbGV0IG5ld1dhbGxzID0gW11cbiAgICAgICAgZm9yIChsZXQgeSA9IDA7eTx0aGlzLmhlaWdodDt5KyspXG4gICAgICAgICAgICBmb3IgKGxldCB6ID0gMDt6PHRoaXMuZGVwdGg7eisrKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwO3g8dGhpcy53aWR0aDt4KyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNlbGxzW3hdW3ldW3pdLndhbGxzLmZvckVhY2godyA9PlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LmRldGFpbHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAody5oaWRkZW4udmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdXYWxscy5wdXNoKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcuZGV0YWlscy50ID0gZ2FtZURhdGEud2FsbHMuaW5kZXhPZih3LndhbGxEYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dhbGxzLnB1c2gody5kZXRhaWxzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3LmhpZGRlbi52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dhbGxzLnB1c2goMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1dhbGxzLnB1c2goZ2FtZURhdGEud2FsbHMuaW5kZXhPZih3LndhbGxEYXRhLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBsZXZlbC53YWxscyA9IG5ld1dhbGxzO1xuXG4gICAgICAgIGxldCBucGNzID0gW107XG4gICAgICAgIHRoaXMubnBjcy5mb3JFYWNoKG4gPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gZ2FtZURhdGEubnBjcy5pbmRleE9mKG4ubnBjVHlwZSk7XG4gICAgICAgICAgICAgICAgbnBjcy5wdXNoKHt0eXBlOiBpZCwgcG9zaXRpb246IFtuLnBvc2l0aW9uLnZhbHVlLngsbi5wb3NpdGlvbi52YWx1ZS55LG4ucG9zaXRpb24udmFsdWUuel19KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldmVsLm5wY3MgPSBucGNzO1xuXG4gICAgICAgIGxldCBvYmplY3RzID0gW107XG4gICAgICAgIHRoaXMub2JqZWN0cy5mb3JFYWNoKG8gPT4gXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gZ2FtZURhdGEub2JqZWN0cy5pbmRleE9mKG8ub2JqZWN0VHlwZSk7XG4gICAgICAgICAgICAgICAgb2JqZWN0cy5wdXNoKHt0eXBlOiBpZCwgcG9zaXRpb246IFtvLnBvc2l0aW9uLnZhbHVlLngsby5wb3NpdGlvbi52YWx1ZS55LG8ucG9zaXRpb24udmFsdWUuel19KVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGxldmVsLm9iamVjdHMgPSBvYmplY3RzO1xuICAgIH1cblxuICAgIGNyZWF0ZURvb3JzKGRhdGE6IEdhbWVEYXRhLCBsZXZlbDogTGV2ZWxEYXRhKTogRG9vck1vZGVsW11cbiAgICB7XG4gICAgICAgIGxldCBkb29ycyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTxsZXZlbC5kb29ycy5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZG9vciA9IG5ldyBEb29yTW9kZWwoZGF0YSwgbGV2ZWwuZG9vcnNbaV0pO1xuICAgICAgICAgICAgZG9vci5jcmVhdGUodGhpcyk7XG4gICAgICAgICAgICBkb29ycy5wdXNoKGRvb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb29ycztcbiAgICB9XG5cbiAgICBjcmVhdGVPYmplY3RzKGRhdGE6IEdhbWVEYXRhLCBsZXZlbDogTGV2ZWxEYXRhKTogV29ybGRPYmplY3RNb2RlbFtdXG4gICAge1xuICAgICAgICBsZXQgb2JqZWN0cyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpPTA7aTxsZXZlbC5vYmplY3RzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBvYmogPSBuZXcgV29ybGRPYmplY3RNb2RlbChkYXRhLCBsZXZlbC5vYmplY3RzW2ldLnR5cGUsIGxldmVsLm9iamVjdHNbaV0ucG9zaXRpb24pO1xuICAgICAgICAgICAgb2JqLmNyZWF0ZSgpO1xuICAgICAgICAgICAgb2JqZWN0cy5wdXNoKG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdHM7XG4gICAgfVxuXG4gICAgY3JlYXRlTlBDcyhnYW1lTW9kZWw6IEdhbWVNb2RlbCwgbGV2ZWw6IExldmVsRGF0YSk6IE5QQ01vZGVsW11cbiAgICB7XG4gICAgICAgIGxldCBucGNzID0gW107XG4gICAgICAgIGZvciAobGV0IGk9MDtpPGxldmVsLm5wY3MubGVuZ3RoO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG5wYyA9IG5ldyBOUENNb2RlbChnYW1lTW9kZWwsIGxldmVsLm5wY3NbaV0udHlwZSwgbGV2ZWwubnBjc1tpXS5wb3NpdGlvbik7XG4gICAgICAgICAgICBucGMuY3JlYXRlKCk7XG4gICAgICAgICAgICBucGNzLnB1c2gobnBjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnBjcztcbiAgICB9XG5cbiAgICBjcmVhdGVDZWxscyhkYXRhOiBHYW1lRGF0YSwgbGV2ZWw6IExldmVsRGF0YSlcbiAgICB7XG4gICAgICAgIGxldCByb3dzID0gW107XG4gICAgICAgIGZvcihsZXQgaT0wO2k8bGV2ZWwud2lkdGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbGF5ZXJzID0gW11cbiAgICAgICAgICAgIGZvcihsZXQgaD0wO2g8bGV2ZWwuaGVpZ2h0O2grKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgY29sID0gW107XG4gICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7ajxsZXZlbC5kZXB0aDtqKyspXG4gICAgICAgICAgICAgICAge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFydCA9IChoKmxldmVsLndpZHRoKmxldmVsLmRlcHRoKjYpKyhqKmxldmVsLndpZHRoKjYpK2kqNjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHdhbGxTdWJzZXQgPSBsZXZlbC53YWxscy5zbGljZShzdGFydCwgc3RhcnQgKyA2KTtcbiAgICAgICAgICAgICAgICAgICAgY29sLnB1c2gobmV3IENlbGxNb2RlbChkYXRhLCB3YWxsU3Vic2V0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxheWVycy5wdXNoKGNvbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dzLnB1c2gobGF5ZXJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm93cztcbiAgICB9XG59IiwiaW1wb3J0IHsgTlBDRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5pbXBvcnQgQWN0b3JNb2RlbCBmcm9tIFwiLi4vQWN0b3JNb2RlbFwiO1xuaW1wb3J0IEdhbWVNb2RlbCBmcm9tIFwiLi4vR2FtZU1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uUmVzdWx0TW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25SZXN1bHRNb2RlbFwiO1xuaW1wb3J0IEFjdGlvbk1vZGVsIGZyb20gXCIuLi9hY3Rpb24vQWN0aW9uTW9kZWxcIjtcbmltcG9ydCBBdHRhY2tBY3Rpb25Nb2RlbCBmcm9tIFwiLi4vYWN0aW9uL0F0dGFja0FjdGlvbk1vZGVsXCI7XG5pbXBvcnQgQWN0aW9uU291cmNlTW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25Tb3VyY2VNb2RlbFwiO1xuaW1wb3J0IEFjdGlvblRhcmdldE1vZGVsIGZyb20gXCIuLi9hY3Rpb24vQWN0aW9uVGFyZ2V0TW9kZWxcIjtcbmltcG9ydCBDaGFyYWN0ZXJNb2RlbCwgeyBIZWFsdGhTdGF0ZSB9IGZyb20gXCIuLi9DaGFyYWN0ZXJNb2RlbFwiO1xuaW1wb3J0IE9ic2VydmVyVmFyaWFibGUgZnJvbSBcImVuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGVcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOUENNb2RlbCBleHRlbmRzIEFjdG9yTW9kZWwgaW1wbGVtZW50cyBBY3Rpb25Tb3VyY2VNb2RlbCwgQWN0aW9uVGFyZ2V0TW9kZWxcbntcbiAgICBucGNUeXBlOiBOUENEYXRhO1xuICAgIGFsaXZlOiBPYnNlcnZlclZhcmlhYmxlPGJvb2xlYW4+ID0gbmV3IE9ic2VydmVyVmFyaWFibGUodHJ1ZSk7XG4gICAgcGVyZm9ybWluZ0FjdGlvbjogT2JzZXJ2ZXJWYXJpYWJsZTxBY3Rpb25SZXN1bHRNb2RlbD4gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZShudWxsKTtcbiAgICBkZWxheWluZzogT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKGZhbHNlKTtcbiAgICBhY3Rpb25zOiBBY3Rpb25Nb2RlbFtdO1xuICAgIGxvb3RlZDogT2JzZXJ2ZXJWYXJpYWJsZTxib29sZWFuPiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKGZhbHNlKTtcblxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLm5hbWU7IH1cbiAgICBnZXQgZmlsZW5hbWUoKSB7IHJldHVybiB0aGlzLm5wY1R5cGUuZmlsZW5hbWU7IH1cbiAgICBnZXQgaHBTcGVjKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLmhwOyB9XG4gICAgZ2V0IGxvb3RTcGVjKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLmxvb3Q7IH1cbiAgICBnZXQgaG9zdGlsZSgpIHsgcmV0dXJuIHRoaXMubnBjVHlwZS5ob3N0aWxlOyB9XG4gICAgZ2V0IGRlYWRUZXh0dXJlKCkgeyByZXR1cm4gdGhpcy5ucGNUeXBlLmRlYWRUZXh0dXJlOyB9XG5cbiAgICBwb3NpdGlvbjogT2JzZXJ2ZXJWYXJpYWJsZTxQb2ludDM+O1xuXG4gICAgZ2V0UG9zaXRpb24oKSB7IHJldHVybiB0aGlzLnBvc2l0aW9uLnZhbHVlOyB9XG5cbiAgICBwcml2YXRlIGdhbWVNb2RlbDogR2FtZU1vZGVsO1xuXG4gICAgY29uc3RydWN0b3IoZ2FtZU1vZGVsOiBHYW1lTW9kZWwsIHR5cGU6IG51bWJlciwgcG9zaXRpb246IG51bWJlcltdKVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgICAgIHRoaXMubnBjVHlwZSA9IGdhbWVNb2RlbC5kYXRhLm5wY3NbdHlwZV07XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBuZXcgT2JzZXJ2ZXJWYXJpYWJsZShuZXcgUG9pbnQzKHBvc2l0aW9uKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMubWF4SGl0cG9pbnRzID0gbmV3IE9ic2VydmVyVmFyaWFibGUoR2FtZU1vZGVsLnJvbGxEaWNlKHRoaXMuaHBTcGVjKSk7XG4gICAgICAgIHRoaXMuaGl0cG9pbnRzID0gbmV3IE9ic2VydmVyVmFyaWFibGUodGhpcy5tYXhIaXRwb2ludHMudmFsdWUpO1xuICAgICAgICB0aGlzLmFjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5ucGNUeXBlLmFjdGlvbnMuZm9yRWFjaChhID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGEudHlwZSA9PT0gXCJhdHRhY2tcIilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zLnB1c2gobmV3IEF0dGFja0FjdGlvbk1vZGVsKHRoaXMuZ2FtZU1vZGVsLCBhLm5hbWUsIGEuZGFtYWdlLCBhLnJhbmdlKSk7XG4gICAgICAgICAgICB9KVxuICAgIH1cblxuICAgIGNoZWNrSGVhbHRoU3RhdGUoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuaGl0cG9pbnRzLnZhbHVlIDw9IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYWxpdmUudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUubnBjRGllZCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFjdCgpXG4gICAge1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgbGV0IHRhcmdldDogQ2hhcmFjdGVyTW9kZWw7XG4gICAgICAgIHdoaWxlICghZm91bmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKih0aGlzLmdhbWVNb2RlbC5wYXJ0eS5jaGFyYWN0ZXJzLmxlbmd0aC0xKSk7XG4gICAgICAgICAgICB0YXJnZXQgPSB0aGlzLmdhbWVNb2RlbC5wYXJ0eS5jaGFyYWN0ZXJzW3JdO1xuICAgICAgICAgICAgaWYgKHRhcmdldC5oZWFsdGhTdGF0ZS52YWx1ZSAhPT0gSGVhbHRoU3RhdGUuRGVhZClcbiAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGF2YWlsYWJsZUFjdGlvbnMgPSB0aGlzLmFjdGlvbnMuZmlsdGVyKGEgPT4gYS50ZXN0KHRoaXMsIHRhcmdldCkpO1xuICAgICAgICBpZiAoYXZhaWxhYmxlQWN0aW9ucy5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5nYW1lTW9kZWwubnBjUGVyZm9ybUFjdGlvbih0aGlzLCB0YXJnZXQsIGF2YWlsYWJsZUFjdGlvbnNbMF0pO1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtaW5nQWN0aW9uLnZhbHVlID0gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZGVsYXlpbmcudmFsdWUgPSB0cnVlO1xuICAgIH1cblxuICAgIGFwcGx5QWN0aW9uUmVzdWx0KGFjdGlvblJlc3VsdDogQWN0aW9uUmVzdWx0TW9kZWwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wZXJmb3JtaW5nQWN0aW9uLnZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdhbWVNb2RlbC5hcHBseUFjdGlvblJlc3VsdChhY3Rpb25SZXN1bHQpO1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtaW5nQWN0aW9uLnZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGVsYXlpbmcudmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU1vZGVsLm5wY0RlbGF5KHRoaXMsIDEpOyAgIFxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IFdhbGxEYXRhLCBXYWxsRGV0YWlsc0RhdGEgfSBmcm9tIFwiLi4vLi4vZGF0YVwiO1xuaW1wb3J0IE9ic2VydmVyVmFyaWFibGUgZnJvbSBcImVuZ2luZS91dGlsL09ic2VydmVyVmFyaWFibGVcIjtcbmltcG9ydCB7IFRleHR1cmVFbXB0eSB9IGZyb20gXCJleGFtcGxlcy9jbGFzc2ljLXJwZy1pbnRlcmZhY2UvZGF0YVwiXG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsTW9kZWwgaW1wbGVtZW50cyBBY3Rpb25UYXJnZXRNb2RlbFxue1xuICAgIHdhbGxEYXRhOiBPYnNlcnZlclZhcmlhYmxlPFdhbGxEYXRhPjtcbiAgICBkZXRhaWxzOiBXYWxsRGV0YWlsc0RhdGE7XG4gICAgX3Bhc3NhYmxlOiBib29sZWFuO1xuICAgIGdldCBmaWxlbmFtZSgpIHsgcmV0dXJuIHRoaXMud2FsbERhdGEudmFsdWUuZmlsZW5hbWU7IH1cbiAgICBnZXQgcGFzc2FibGUoKSB7IHJldHVybiB0aGlzLl9wYXNzYWJsZSB8fCB0aGlzLmhpZGRlbi52YWx1ZSB9XG4gICAgc2V0IHBhc3NhYmxlKHZhbCkgeyB0aGlzLl9wYXNzYWJsZSA9IHZhbDsgfVxuICAgIGdldCBjcmVhdGUoKSB7IHJldHVybiB0aGlzLndhbGxEYXRhLnZhbHVlLmZpbGVuYW1lICE9PSBUZXh0dXJlRW1wdHk7IH1cbiAgICBnZXQgbm9ybWFsTWFwKCkgeyByZXR1cm4gKHRoaXMud2FsbERhdGEudmFsdWUubm9ybWFsTWFwIHx8IHVuZGVmaW5lZCk7IH1cbiAgICBoaWRkZW46IE9ic2VydmVyVmFyaWFibGU8Ym9vbGVhbj47XG4gICAgYWxwaGFNYXA6IHN0cmluZztcblxuICAgIGdldFBvc2l0aW9uKCkgeyByZXR1cm4gbnVsbDsgfVxuXG4gICAgY29uc3RydWN0b3Iod2FsbERhdGE6IFdhbGxEYXRhLCBkZXRhaWxzPzogV2FsbERldGFpbHNEYXRhKVxuICAgIHtcbiAgICAgICAgdGhpcy53YWxsRGF0YSA9IG5ldyBPYnNlcnZlclZhcmlhYmxlPFdhbGxEYXRhPih3YWxsRGF0YSk7XG4gICAgICAgIHRoaXMuaGlkZGVuID0gbmV3IE9ic2VydmVyVmFyaWFibGU8Ym9vbGVhbj4oISh0aGlzLmNyZWF0ZSkpO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgICAgICB0aGlzLl9wYXNzYWJsZSA9IHdhbGxEYXRhLnBhc3NhYmxlO1xuICAgIH1cbn0iLCJpbXBvcnQgTGV2ZWxNb2RlbCBmcm9tIFwiLi9MZXZlbE1vZGVsXCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9HYW1lTW9kZWxcIjtcbmltcG9ydCBPYnNlcnZlclZhcmlhYmxlIGZyb20gXCJlbmdpbmUvdXRpbC9PYnNlcnZlclZhcmlhYmxlXCI7XG5pbXBvcnQgeyBHYW1lRGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdvcmxkTW9kZWxcbntcbiAgICBsZXZlbHM6IExldmVsTW9kZWxbXVxuICAgIGN1cnJlbnRMZXZlbDogT2JzZXJ2ZXJWYXJpYWJsZTxMZXZlbE1vZGVsPlxuXG4gICAgZ2V0IGN1cnJlbnRMZXZlbElEKCkgeyByZXR1cm4gdGhpcy5sZXZlbHMuaW5kZXhPZih0aGlzLmN1cnJlbnRMZXZlbC52YWx1ZSk7IH1cblxuICAgIGNyZWF0ZShnYW1lTW9kZWw6IEdhbWVNb2RlbClcbiAgICB7XG4gICAgICAgIHRoaXMubGV2ZWxzID0gW107XG4gICAgICAgIGdhbWVNb2RlbC5kYXRhLmxldmVscy5mb3JFYWNoKGwgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGxldmVsID0gbmV3IExldmVsTW9kZWwoKTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgICAgICAgICAgbGV2ZWwuY3JlYXRlKGdhbWVNb2RlbCwgbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY3VycmVudExldmVsID0gbmV3IE9ic2VydmVyVmFyaWFibGU8TGV2ZWxNb2RlbD4odGhpcy5sZXZlbHNbZ2FtZU1vZGVsLmRhdGEucGxheWVyLmxldmVsXSk7XG4gICAgfVxuXG4gICAgc2F2ZShkYXRhOiBHYW1lRGF0YSlcbiAgICB7XG4gICAgICAgIHRoaXMubGV2ZWxzLmZvckVhY2gobCA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGwuc2F2ZShkYXRhLCBsLmxldmVsVHlwZSk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzd2l0Y2hUb0xldmVsKGxldmVsOiBMZXZlbE1vZGVsKVxuICAgIHtcbiAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWwudmFsdWUgPSBsZXZlbDtcbiAgICB9XG59IiwiaW1wb3J0IHsgR2FtZURhdGEsIFdvcmxkT2JqZWN0RGF0YSB9IGZyb20gXCIuLi8uLi9kYXRhXCI7XG5pbXBvcnQgQWN0aW9uVGFyZ2V0TW9kZWwgZnJvbSBcIi4uL2FjdGlvbi9BY3Rpb25UYXJnZXRNb2RlbFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgT2JzZXJ2ZXJWYXJpYWJsZSBmcm9tIFwiZW5naW5lL3V0aWwvT2JzZXJ2ZXJWYXJpYWJsZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JsZE9iamVjdE1vZGVsIGltcGxlbWVudHMgQWN0aW9uVGFyZ2V0TW9kZWxcbntcbiAgICBvYmplY3RUeXBlOiBXb3JsZE9iamVjdERhdGE7XG4gICAgcG9zaXRpb246IE9ic2VydmVyVmFyaWFibGU8UG9pbnQzPjtcblxuICAgIGdldCBuYW1lKCkgeyByZXR1cm4gdGhpcy5vYmplY3RUeXBlLm5hbWU7IH1cbiAgICBnZXQgZmlsZW5hbWUoKSB7IHJldHVybiB0aGlzLm9iamVjdFR5cGUuZmlsZW5hbWU7IH1cblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IEdhbWVEYXRhLCB0eXBlOiBudW1iZXIsIHBvc2l0aW9uOiBudW1iZXJbXSlcbiAgICB7XG4gICAgICAgIHRoaXMub2JqZWN0VHlwZSA9IGRhdGEub2JqZWN0c1t0eXBlXTtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBPYnNlcnZlclZhcmlhYmxlKG5ldyBQb2ludDMocG9zaXRpb24pKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcblxuICAgIH1cblxuICAgIGdldFBvc2l0aW9uKCkgeyByZXR1cm4gdGhpcy5wb3NpdGlvbi52YWx1ZTsgfVxufSIsImltcG9ydCBXb3JsZE9iamVjdE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9Xb3JsZE9iamVjdE1vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBUaHJlZU1lc2ggZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaFwiO1xuaW1wb3J0IERvb3JNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvRG9vck1vZGVsXCI7XG5pbXBvcnQgTG9hZGVyIGZyb20gXCJlbmdpbmUvaW8vTG9hZGVyXCI7XG5pbXBvcnQgV3JhcHBpbmdWYWx1ZVR3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dyYXBwaW5nVmFsdWVUd2VlblwiO1xuaW1wb3J0IEFzc2V0IGZyb20gXCJlbmdpbmUvQXNzZXRcIjtcbmltcG9ydCBHZW9tTG9hZGVyIGZyb20gXCIuL0dlb21Mb2FkZXJcIjtcbmltcG9ydCBNYXRlcmlhbExvYWRlciBmcm9tIFwiLi9NYXRlcmlhbExvYWRlclwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IEFuaW1hdGlvbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9BbmltYXRpb25cIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU6IGFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9vciBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBtb2RlbDogRG9vck1vZGVsO1xuICAgIG1lc2g6IFRocmVlTWVzaDtcbiAgICBfdHVybkFuaW1zOiBBbmltYXRpb25bXSA9IFtdO1xuXG4gICAgZ2VvbTogQXNzZXQ8YW55PjsgLy9USFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5XG4gICAgbWF0ZXJpYWw6IEFzc2V0PGFueT5cblxuICAgIGNvbnN0cnVjdG9yKG1vZGVsOiBEb29yTW9kZWwpXG4gICAge1xuICAgICAgICBzdXBlcihudWxsKTtcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xuICAgIH1cblxuICAgIGxvYWQoe2xvYWRlcjogbG9hZGVyfSA6IHtsb2FkZXI6IExvYWRlcn0pXG4gICAge1xuICAgICAgICB0aGlzLmdlb20gPSB0aGlzLmFkZEFzc2V0KEdlb21Mb2FkZXIuZ2V0U2hhcmVkUGxhbmVHZW9tKGxvYWRlcikpO1xuICAgICAgICB0aGlzLm1hdGVyaWFsID0gdGhpcy5hZGRBc3NldChNYXRlcmlhbExvYWRlci5nZXRTaGFyZWRNYXRlcmlhbEFzc2V0KGxvYWRlciwgdGhpcy5tb2RlbC5maWxlbmFtZSwgdGhpcy5tb2RlbC5ub3JtYWxNYXAsIG51bGwsIG5ldyBQb2ludCgxLDEpLCB0cnVlLCB0cnVlKSk7XG4gICAgICAgIHJldHVybiAoKHRoaXMubWF0ZXJpYWwgIT09IG51bGwpICYmICh0aGlzLmdlb20gIT09IG51bGwpKTtcbiAgICB9XG4gICAgXG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IG1lc2ggPSBuZXcgVGhyZWVNZXNoKHRoaXMuZ2VvbS5hc3NldCx0aGlzLm1hdGVyaWFsLmFzc2V0KTtcbiAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnggPSB0aGlzLm1vZGVsLnBvc2l0aW9uLng7XG4gICAgICAgIG1lc2gubWVzaC5wb3NpdGlvbi55ID0gdGhpcy5tb2RlbC5wb3NpdGlvbi55O1xuICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueiA9IHRoaXMubW9kZWwucG9zaXRpb24uejtcbiAgICAgICAgaWYgKHRoaXMubW9kZWwud2FsbCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnogLT0gMC40OTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueCArPSAwLjQ5O1xuICAgICAgICAgICAgbWVzaC5tZXNoLnJvdGF0aW9uLnkgLT0gTWF0aC5QSS8yXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW9kZWwud2FsbCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnogKz0gMC40OTtcbiAgICAgICAgICAgIG1lc2gubWVzaC5yb3RhdGlvbi55ICs9IE1hdGguUElcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAzKVxuICAgICAgICB7XG4gICAgICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueCAtPSAwLjQ5O1xuICAgICAgICAgICAgbWVzaC5tZXNoLnJvdGF0aW9uLnkgKz0gTWF0aC5QSS8yXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5hZGRDaGlsZChtZXNoKTtcbiAgICAgICAgdGhpcy5tb2RlbC5pc09wZW4ub25VcGRhdGUucHVzaCh0aGlzLmNoYW5nZU9wZW5TdGF0ZS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gudXNlckRhdGEgPSB7Z2FtZU9iamVjdDogdGhpc307XG4gICAgfVxuXG4gICAgY2hhbmdlT3BlblN0YXRlKG9wZW46IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAwKVxuICAgICAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihvcGVuID8gdGhpcy5tb2RlbC5vcGVuQW5nbGUgOiAwLCA1MDApXG4gICAgICAgIGlmICh0aGlzLm1vZGVsLndhbGwgPT09IDEpXG4gICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKG9wZW4gPyB0aGlzLm1vZGVsLm9wZW5BbmdsZSAtIE1hdGguUEkvMiA6IC1NYXRoLlBJLzIsIDUwMCk7XG4gICAgICAgIGlmICh0aGlzLm1vZGVsLndhbGwgPT09IDIpXG4gICAgICAgICAgICB0aGlzLnNldFJvdGF0aW9uKG9wZW4gPyB0aGlzLm1vZGVsLm9wZW5BbmdsZSArIE1hdGguUEkgOiBNYXRoLlBJLCA1MDApO1xuICAgICAgICBpZiAodGhpcy5tb2RlbC53YWxsID09PSAzKVxuICAgICAgICAgICAgdGhpcy5zZXRSb3RhdGlvbihvcGVuID8gdGhpcy5tb2RlbC5vcGVuQW5nbGUgKyBNYXRoLlBJLzIgOiBNYXRoLlBJLzIsIDUwMCk7XG4gICAgfVxuXG4gICAgc2V0Um90YXRpb24oeSwgdGltZTogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdHVybkFuaW1zLmZvckVhY2goYSA9PiBhLnJlcXVlc3RSZW1vdmFsKCkpO1xuICAgICAgICB0aGlzLl90dXJuQW5pbXMgPSBbXTtcbiAgICAgICAgLy90aGlzLmFkZFR1cm5BbmltKHRoaXMubWVzaC5tZXNoLnJvdGF0aW9uLCBcInlcIiwgeSwgdGltZSlcbiAgICAgICAgbGV0IHcgPSB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KHRpbWUpKTtcbiAgICAgICAgdy5vblN0ZXAucHVzaCh0aGlzLnJvdGF0ZUFib3V0UG9pbnQuYmluZCh0aGlzLCBuZXcgVEhSRUUuVmVjdG9yMygwLDAsMCksIG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKSwgKHRoaXMubWVzaC5tZXNoLnJvdGF0aW9uLnkgLSB5KS90aW1lLCBmYWxzZSksIHRoaXMpO1xuICAgICAgICB0aGlzLl90dXJuQW5pbXMucHVzaCh3KTtcbiAgICB9XG5cbiAgICByb3RhdGVBYm91dFBvaW50KHBvaW50LCBheGlzLCB0aGV0YSwgcG9pbnRJc1dvcmxkOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYocG9pbnRJc1dvcmxkKVxuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gucGFyZW50LmxvY2FsVG9Xb3JsZCh0aGlzLm1lc2gubWVzaC5wb3NpdGlvbik7IC8vIGNvbXBlbnNhdGUgZm9yIHdvcmxkIGNvb3JkaW5hdGVcbiAgICAgIFxuICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5zdWIocG9pbnQpOyAvLyByZW1vdmUgdGhlIG9mZnNldFxuICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5hcHBseUF4aXNBbmdsZShheGlzLCB0aGV0YSk7IC8vIHJvdGF0ZSB0aGUgUE9TSVRJT05cbiAgICAgICAgdGhpcy5tZXNoLm1lc2gucG9zaXRpb24uYWRkKHBvaW50KTsgLy8gcmUtYWRkIHRoZSBvZmZzZXRcbiAgICAgIFxuICAgICAgICBpZihwb2ludElzV29ybGQpe1xuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gucGFyZW50LndvcmxkVG9Mb2NhbCh0aGlzLm1lc2gubWVzaC5wb3NpdGlvbik7IC8vIHVuZG8gd29ybGQgY29vcmRpbmF0ZXMgY29tcGVuc2F0aW9uXG4gICAgICAgIH1cbiAgICAgIFxuICAgICAgICB0aGlzLm1lc2gubWVzaC5yb3RhdGVPbkF4aXMoYXhpcywgdGhldGEpOyAvLyByb3RhdGUgdGhlIE9CSkVDVFxuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgfVxuXG4gICAgYWRkVHVybkFuaW0ob2JqZWN0OiBhbnksIHZhck5hbWU6IHN0cmluZywgdGFyZ2V0OiBudW1iZXIsIHRpbWU6IG51bWJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX3R1cm5Bbmltcy5wdXNoKHRoaXMuYWRkQ2hpbGQobmV3IFdyYXBwaW5nVmFsdWVUd2VlbihvYmplY3QsIHZhck5hbWUsIHRhcmdldCwgdGltZSwgTWF0aC5QSSoyKSkpO1xuICAgICAgICBsZXQgYSA9IHRoaXMuX3R1cm5Bbmltc1t0aGlzLl90dXJuQW5pbXMubGVuZ3RoLTFdO1xuICAgICAgICBhLm9uQ29tcGxldGUucHVzaCgoKCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3R1cm5Bbmltcy5zcGxpY2UodGhpcy5fdHVybkFuaW1zLmluZGV4T2YoYSksMSlcbiAgICAgICAgfSkuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH1cbn0iLCJpbXBvcnQgQXNzZXQgZnJvbSBcImVuZ2luZS9Bc3NldFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvbUxvYWRlclxue1xuICAgIHN0YXRpYyBnZXRTaGFyZWRQbGFuZUdlb20obG9hZGVyKTogQXNzZXQ8YW55PlxuICAgIHtcbiAgICAgICAgbGV0IGdlb21Bc3NldCA9IGxvYWRlci5nZXRTaGFyZWRBc3NldChcIiNwbGFuZUdlb21cIilcbiAgICAgICAgaWYgKCEoZ2VvbUFzc2V0LmxvYWRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21Bc3NldC5zZXQobmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSkpXG4gICAgICAgICAgICBnZW9tQXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2VvbUFzc2V0O1xuICAgIH1cbn0iLCJpbXBvcnQgTG9hZGVyIGZyb20gXCJlbmdpbmUvaW8vTG9hZGVyXCI7XG5pbXBvcnQgQXNzZXQgZnJvbSBcImVuZ2luZS9Bc3NldFwiO1xuaW1wb3J0IFBvaW50IGZyb20gXCJlbmdpbmUvdXRpbC9Qb2ludFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWF0ZXJpYWxMb2FkZXJcbntcbiAgICBzdGF0aWMgZ2V0U2hhcmVkTWF0ZXJpYWxBc3NldChsb2FkZXI6IExvYWRlciwgZmlsZW5hbWU6IHN0cmluZywgbm9ybWFsTWFwOiBzdHJpbmcsIGFscGhhTWFwOiBzdHJpbmcsIHJlcGVhdDogUG9pbnQsIHRyYW5zcGFyZW50OiBib29sZWFuLCB0d29zaWRlczogYm9vbGVhbik6IEFzc2V0PGFueT5cbiAgICB7XG4gICAgICAgIG5vcm1hbE1hcCA9IG5vcm1hbE1hcCB8fCBudWxsO1xuICAgICAgICBhbHBoYU1hcCA9IGFscGhhTWFwIHx8IG51bGw7XG4gICAgICAgIFxuICAgICAgICBsZXQgbmFtZSA9IGZpbGVuYW1lK1wiI21hdFwiICsgKG5vcm1hbE1hcCAhPT0gbnVsbCA/IFwiI25vcm1hbD1cIitub3JtYWxNYXAgOiBcIlwiKSArIChhbHBoYU1hcCAhPT0gbnVsbCA/IFwiI2FscGhhPVwiICsgYWxwaGFNYXAgOiBcIlwiKTtcbiAgICAgICAgbGV0IG1hdGVyaWFsQXNzZXQgPSBsb2FkZXIuZ2V0U2hhcmVkQXNzZXQobmFtZSk7XG4gICAgICAgIGlmICghKG1hdGVyaWFsQXNzZXQubG9hZGVkKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG1hdGVyaWFsID0gTWF0ZXJpYWxMb2FkZXIubG9hZE1hdGVyaWFsKGxvYWRlciwgZmlsZW5hbWUsIG5vcm1hbE1hcCwgYWxwaGFNYXAsIHJlcGVhdCwgdHJhbnNwYXJlbnQsIHR3b3NpZGVzKTtcbiAgICAgICAgICAgIGlmICghKG1hdGVyaWFsKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIG1hdGVyaWFsQXNzZXQuc2V0KG1hdGVyaWFsKTtcbiAgICAgICAgICAgIG1hdGVyaWFsQXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0ZXJpYWxBc3NldDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0VGV4dHVyZUFzc2V0KGxvYWRlcjogTG9hZGVyLCBmaWxlbmFtZTogc3RyaW5nLCByZXBlYXQ6IFBvaW50KVxuICAgIHtcbiAgICAgICAgbGV0IHRleHR1cmVBc3NldCA9IGxvYWRlci5nZXRTaGFyZWRBc3NldChmaWxlbmFtZSk7XG4gICAgICAgIGlmICghKHRleHR1cmVBc3NldC5hc3NldCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKGZpbGVuYW1lLCAoKHRleHR1cmUpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKChyZXBlYXQueCAhPT0gMSkgfHwgKHJlcGVhdC55ICE9PSAxKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUud3JhcFMgPSB0ZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUub2Zmc2V0LnNldCggMCwgMCApO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnJlcGVhdC5zZXQoIHJlcGVhdC54LCByZXBlYXQueSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXh0dXJlQXNzZXQubG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGV4dHVyZUFzc2V0LnNldCh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGV4dHVyZUFzc2V0O1xuICAgIH1cblxuICAgIHN0YXRpYyBsb2FkTWF0ZXJpYWwobG9hZGVyOiBMb2FkZXIsIGZpbGVuYW1lOiBzdHJpbmcsIG5vcm1hbE1hcDogc3RyaW5nLCBhbHBoYU1hcDogc3RyaW5nLCByZXBlYXQ6IFBvaW50LCB0cmFuc3BhcmVudDogYm9vbGVhbiwgdHdvc2lkZXM6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBsZXQgbm9ybWFsTWFwQXNzZXQ7XG4gICAgICAgIGxldCBhbHBoYU1hcEFzc2V0O1xuICAgICAgICBsZXQgbWFwQXNzZXQgPSBNYXRlcmlhbExvYWRlci5nZXRUZXh0dXJlQXNzZXQobG9hZGVyLCBmaWxlbmFtZSwgcmVwZWF0KTtcbiAgICAgICAgaWYgKG5vcm1hbE1hcCAhPT0gbnVsbClcbiAgICAgICAgICAgIG5vcm1hbE1hcEFzc2V0ID0gTWF0ZXJpYWxMb2FkZXIuZ2V0VGV4dHVyZUFzc2V0KGxvYWRlciwgbm9ybWFsTWFwLCByZXBlYXQpO1xuICAgICAgICBpZiAoYWxwaGFNYXAgIT09IG51bGwpXG4gICAgICAgICAgICBhbHBoYU1hcEFzc2V0ID0gTWF0ZXJpYWxMb2FkZXIuZ2V0VGV4dHVyZUFzc2V0KGxvYWRlciwgYWxwaGFNYXAsIHJlcGVhdCk7XG5cbiAgICAgICAgaWYgKCEobWFwQXNzZXQubG9hZGVkKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoKG5vcm1hbE1hcCAhPT0gbnVsbCkgJiYgKCFub3JtYWxNYXBBc3NldC5sb2FkZWQpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmICgoYWxwaGFNYXAgIT09IG51bGwpICYmICghYWxwaGFNYXBBc3NldC5sb2FkZWQpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgbGV0IG1hdGVyaWFsO1xuICAgICAgICB0cmFuc3BhcmVudCA9IChhbHBoYU1hcCAhPT0gbnVsbCkgfHwgdHJhbnNwYXJlbnQgO1xuICAgICAgICBpZiAobm9ybWFsTWFwKVxuICAgICAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe21hcDogbWFwQXNzZXQuYXNzZXQsXG4gICAgICAgICAgICAgICAgbm9ybWFsTWFwOiBub3JtYWxNYXBBc3NldC5hc3NldCxcbiAgICAgICAgICAgICAgICBub3JtYWxTY2FsZTogbmV3IFRIUkVFLlZlY3RvcjIoMSwxKSxcbiAgICAgICAgICAgICAgICByb3VnaG5lc3M6IDEsXG4gICAgICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRyYW5zcGFyZW50fSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hMYW1iZXJ0TWF0ZXJpYWwoe21hcDogbWFwQXNzZXQuYXNzZXQsIHRyYW5zcGFyZW50OiB0cmFuc3BhcmVudH0pO1xuXG4gICAgICAgIGlmIChhbHBoYU1hcClcbiAgICAgICAgICAgIG1hdGVyaWFsLmFscGhhTWFwID0gYWxwaGFNYXBBc3NldC5hc3NldCAgICBcbiAgICAgICAgaWYgKHR3b3NpZGVzKVxuICAgICAgICAgICAgbWF0ZXJpYWwuc2lkZSA9IFRIUkVFLkRvdWJsZVNpZGVcbiAgICAgICAgcmV0dXJuIG1hdGVyaWFsO1xuICAgIH1cbn0iLCJpbXBvcnQgTlBDTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL05QQ01vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBUaHJlZU1lc2ggZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaFwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgTG9hZGVyIGZyb20gXCJlbmdpbmUvaW8vTG9hZGVyXCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnlcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTlBDIGV4dGVuZHMgR2FtZU9iamVjdFxue1xuICAgIG1vZGVsOiBOUENNb2RlbDtcbiAgICBtZXNoOiBUaHJlZU1lc2g7XG4gICAgY2VudGVyZWQ6IGJvb2xlYW4gPSB0cnVlO1xuICAgIG9sZEhQOiBudW1iZXI7XG4gICAgY2FtZXJhO1xuICAgIG9mZnNldFNldCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IobW9kZWw6IE5QQ01vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIobnVsbCk7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICB9XG5cbiAgICBsb2FkKHtsb2FkZXI6IGxvYWRlcn0gOiB7bG9hZGVyIDogTG9hZGVyfSlcbiAgICB7XG4gICAgICAgIGxldCB0ZXh0dXJlID0gbG9hZGVyLmdldFNoYXJlZEFzc2V0KHRoaXMubW9kZWwuZmlsZW5hbWUrXCIjdGV4XCIpXG4gICAgICAgIGlmICghKHRleHR1cmUuYXNzZXQpKVxuICAgICAgICAgICAgdGV4dHVyZS5zZXQobmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMubW9kZWwuZmlsZW5hbWUsICgoKSA9PiB7IHRleHR1cmUubG9hZGVkID0gdHJ1ZX0pKSk7XG4gICAgICAgIHRoaXMuYWRkQXNzZXQodGV4dHVyZSk7XG5cbiAgICAgICAgbGV0IGRlYWRUZXh0dXJlID0gbG9hZGVyLmdldFNoYXJlZEFzc2V0KHRoaXMubW9kZWwuZGVhZFRleHR1cmUrXCIjdGV4XCIpXG4gICAgICAgIGlmICghKGRlYWRUZXh0dXJlLmFzc2V0KSlcbiAgICAgICAgICAgIGRlYWRUZXh0dXJlLnNldChuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5tb2RlbC5kZWFkVGV4dHVyZSwgKCgpID0+IHsgZGVhZFRleHR1cmUubG9hZGVkID0gdHJ1ZX0pKSk7XG4gICAgICAgIHRoaXMuYWRkQXNzZXQoZGVhZFRleHR1cmUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBzY2FsZU1lc2godGV4dHVyZSwgc2NhbGUpOiBUaHJlZU1lc2hcbiAgICB7XG4gICAgICAgIGxldCB3aWR0aCA9IHRleHR1cmUuaW1hZ2UubmF0dXJhbFdpZHRoO1xuICAgICAgICBsZXQgaGVpZ2h0ID0gdGV4dHVyZS5pbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICBsZXQgYXNwZWN0ID0gaGVpZ2h0L3dpZHRoO1xuICAgICAgICBsZXQgeDtcbiAgICAgICAgbGV0IHk7XG4gICAgICAgIGlmICh3aWR0aCA+IGhlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgeCA9IHNjYWxlO1xuICAgICAgICAgICAgeSA9IHggKiBhc3BlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB5ID0gc2NhbGU7XG4gICAgICAgICAgICB4ID0geSAvIGFzcGVjdDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZ2VvbSA9IG5ldyBUSFJFRS5QbGFuZUJ1ZmZlckdlb21ldHJ5KHgsIHksIDApO1xuICAgICAgICBsZXQgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaExhbWJlcnRNYXRlcmlhbCh7bWFwOiB0ZXh0dXJlLCBmb2c6IHRydWUsIHRyYW5zcGFyZW50OiB0cnVlLH0pO1xuICAgICAgICBsZXQgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKGdlb20sIG1hdGVyaWFsKTtcbiAgICAgICAgcmV0dXJuIG1lc2g7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMubWVzaCA9IHRoaXMuYWRkQ2hpbGQobmV3IFRocmVlTWVzaCh0aGlzLnNjYWxlTWVzaCh0aGlzLmdldEFzc2V0PGFueT4odGhpcy5tb2RlbC5maWxlbmFtZStcIiN0ZXhcIiksIHRoaXMubW9kZWwubnBjVHlwZS5zY2FsZSkpKTtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gudXNlckRhdGEgPSB7Z2FtZU9iamVjdDogdGhpc307XG4gICAgICAgIHRoaXMubW9kZWwuYWxpdmUub25VcGRhdGUucHVzaCh0aGlzLnVwZGF0ZUFsaXZlLmJpbmQodGhpcyksdGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlQWxpdmUodGhpcy5tb2RlbC5hbGl2ZS52YWx1ZSlcbiAgICAgICAgdGhpcy5tb2RlbC5wb3NpdGlvbi5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlUG9zaXRpb24uYmluZCh0aGlzKSx0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbih0aGlzLm1vZGVsLnBvc2l0aW9uLnZhbHVlKVxuXG4gICAgICAgIHRoaXMubW9kZWwucGVyZm9ybWluZ0FjdGlvbi5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlUGVyZm9ybWluZ0FjdGlvbi5iaW5kKHRoaXMpLHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmRlbGF5aW5nLm9uVXBkYXRlLnB1c2godGhpcy51cGRhdGVEZWxheWluZy5iaW5kKHRoaXMpLHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmhpdHBvaW50cy5vblVwZGF0ZS5wdXNoKHRoaXMuaHBDaGFuZ2VkLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmxvb3RlZC5vblVwZGF0ZS5wdXNoKHRoaXMubG9vdGVkQ2hhbmdlZC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5vbGRIUCA9IHRoaXMubW9kZWwuaGl0cG9pbnRzLnZhbHVlO1xuICAgIH1cblxuICAgIGxvb3RlZENoYW5nZWQodmFsOiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gudmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaHBDaGFuZ2VkKHZhbDogbnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbCA8IHRoaXMub2xkSFApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLm1hdGVyaWFsLmNvbG9yLnNldEhleCggMHhmZjY2NjYgKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQoMTAwKSkub25Db21wbGV0ZS5wdXNoKCgpID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLm1hdGVyaWFsLmNvbG9yLnNldEhleCggMHhmZmZmZmYpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2xkSFAgPSB2YWw7XG4gICAgfVxuXG4gICAgdXBkYXRlUGVyZm9ybWluZ0FjdGlvbih2YWwpXG4gICAge1xuICAgICAgICBpZiAodmFsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5tYXRlcmlhbC5jb2xvci5zZXRIZXgoIDB4ZmZmZjAwICk7XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KDMwMCkpLm9uQ29tcGxldGUucHVzaCh0aGlzLm1vZGVsLmFwcGx5QWN0aW9uUmVzdWx0LmJpbmQodGhpcy5tb2RlbCwgdmFsKSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KCAweGZmZmZmZiApO1xuICAgICAgICB0aGlzLnJlcXVlc3REcmF3KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlRGVsYXlpbmcodmFsKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubWF0ZXJpYWwuY29sb3Iuc2V0SGV4KCAweGZmZmYwMCApO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FpdCgzMDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5tb2RlbC5hcHBseUFjdGlvblJlc3VsdC5iaW5kKHRoaXMubW9kZWwpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5tYXRlcmlhbC5jb2xvci5zZXRIZXgoIDB4ZmZmZmZmICk7XG4gICAgICAgIHRoaXMucmVxdWVzdERyYXcoKTtcbiAgICB9XG5cbiAgICB1cGRhdGVBbGl2ZSh2YWw6IGJvb2xlYW4pXG4gICAge1xuICAgICAgICBpZiAoISh2YWwpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaCA9IHRoaXMuc2NhbGVNZXNoKHRoaXMuZ2V0QXNzZXQodGhpcy5tb2RlbC5kZWFkVGV4dHVyZStcIiN0ZXhcIiksIDAuMik7XG4gICAgICAgICAgICB0aGlzLm1lc2gubWVzaC51c2VyRGF0YSA9IHtnYW1lT2JqZWN0OiB0aGlzfTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24odGhpcy5tb2RlbC5wb3NpdGlvbi52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIHVwZGF0ZVBvc2l0aW9uKHZhbDogUG9pbnQzKVxuICAgIHtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gucG9zaXRpb24ueCA9IHZhbC54O1xuICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi55ID0gdmFsLnkgLSAoMS10aGlzLm1vZGVsLm5wY1R5cGUuc2NhbGUpLzI7XG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLnogPSB2YWwuejtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIHVwZGF0ZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYW1lcmEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLmxvb2tBdCh0aGlzLmNhbWVyYS5wb3NpdGlvbi54LCB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi55LCB0aGlzLmNhbWVyYS5wb3NpdGlvbi56KTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5kaXN0YW5jZVRvKHRoaXMuY2FtZXJhLnBvc2l0aW9uKSA8IDAuNSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLm9mZnNldFNldCkgJiYgKHRoaXMuY2VudGVyZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbih0aGlzLm1vZGVsLnBvc2l0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IDAuMTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IHRoaXMuY2FtZXJhLmdldFdvcmxkRGlyZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVzaC5tZXNoLnBvc2l0aW9uLmFkZChkaXJlY3Rpb24ubXVsdGlwbHlTY2FsYXIoMC4zMykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5hZGQoZGlyZWN0aW9uLmFwcGx5QXhpc0FuZ2xlKG5ldyBUSFJFRS5WZWN0b3IzKDAsMSwwKSwgTWF0aC5QSS8yKS5tdWx0aXBseVNjYWxhcigzKm9mZnNldCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldFNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm1lc2gubWVzaC5wb3NpdGlvbi5kaXN0YW5jZVRvKHRoaXMuY2FtZXJhLnBvc2l0aW9uKSA+PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9mZnNldFNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24odGhpcy5tb2RlbC5wb3NpdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0U2V0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpXG4gICAge1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMubW9kZWwuYWxpdmUub25VcGRhdGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbC5wb3NpdGlvbi5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLnBlcmZvcm1pbmdBY3Rpb24ub25VcGRhdGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbC5kZWxheWluZy5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmhpdHBvaW50cy5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLm1vZGVsLmxvb3RlZC5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cblxufSIsImltcG9ydCBHYW1lTW9kZWwgZnJvbSBcIi4uL21vZGVsL0dhbWVNb2RlbFwiO1xuaW1wb3J0IFdyYXBwaW5nVmFsdWVUd2VlbiBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvYW5pbS9XcmFwcGluZ1ZhbHVlVHdlZW5cIjtcbmltcG9ydCBHYW1lT2JqZWN0IGZyb20gXCJlbmdpbmUvR2FtZU9iamVjdFwiO1xuaW1wb3J0IFZhbHVlVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vVmFsdWVUd2VlblwiO1xuaW1wb3J0IFRocmVlQnVmZmVyIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZUJ1ZmZlclwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IFBvaW50MyBmcm9tIFwiZW5naW5lL3V0aWwvUG9pbnQzXCI7XG5pbXBvcnQgUGxheWVyTW9kZWwsIHsgRmFjaW5nIH0gZnJvbSBcIi4uL21vZGVsL1BsYXllck1vZGVsXCI7XG5pbXBvcnQgUG9pbnQzVHdlZW4gZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vUG9pbnQzVHdlZW5cIjtcbmltcG9ydCBXcmFwcGluZ1BvaW50M1R3ZWVuIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9hbmltL1dyYXBwaW5nUG9pbnQzVHdlZW5cIjtcbmRlY2xhcmUgY29uc3QgVEhSRUU7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBsYXllciBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBwcml2YXRlIHRocmVlQnVmZmVyOyAgIFxuICAgIHByaXZhdGUgcGxheWVyOiBQbGF5ZXJNb2RlbDtcbiAgICBwcml2YXRlIF9tb3ZlQW5pbTogUG9pbnQzVHdlZW47XG4gICAgcHJpdmF0ZSBfdHVybkFuaW06IFBvaW50M1R3ZWVuO1xuICAgIHByaXZhdGUgcGxheWVyTGlnaHQ7XG4gICAgZ2FtZU1vZGVsOiBHYW1lTW9kZWw7XG5cbiAgICBnZXQgYW5pbWF0aW5nKCk6IGJvb2xlYW4geyByZXR1cm4gKHRoaXMuX3R1cm5BbmltICYmICF0aGlzLl90dXJuQW5pbS5jb21wbGV0ZSkgfHwgKHRoaXMuX21vdmVBbmltICYmICF0aGlzLl9tb3ZlQW5pbS5jb21wbGV0ZSkgOyB9XG5cbiAgICBjb25zdHJ1Y3Rvcih0aHJlZUJ1ZmZlcjogVGhyZWVCdWZmZXIsIGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIobnVsbCk7XG4gICAgICAgIHRoaXMudGhyZWVCdWZmZXIgPSB0aHJlZUJ1ZmZlcjtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBnYW1lTW9kZWwucGxheWVyO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbCA9IGdhbWVNb2RlbDtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Nb3ZlLnB1c2godGhpcy51cGRhdGVQb3NpdGlvbi5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25UdXJuLnB1c2godGhpcy51cGRhdGVSb3RhdGlvbi5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIub25VcGRhdGUucHVzaCgoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50aHJlZUJ1ZmZlci5jYW1lcmEucm90YXRpb24ueCA9IHRoaXMucGxheWVyLnJvdGF0aW9uLng7XG4gICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5yb3RhdGlvbi55ID0gdGhpcy5wbGF5ZXIucm90YXRpb24ueTtcbiAgICAgICAgICAgIHRoaXMudGhyZWVCdWZmZXIuY2FtZXJhLnJvdGF0aW9uLnogPSB0aGlzLnBsYXllci5yb3RhdGlvbi56O1xuXG4gICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5wb3NpdGlvbi54ID0gdGhpcy5wbGF5ZXIuZmluZVBvc2l0aW9uLng7XG4gICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5wb3NpdGlvbi55ID0gdGhpcy5wbGF5ZXIuZmluZVBvc2l0aW9uLnk7XG4gICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5wb3NpdGlvbi56ID0gdGhpcy5wbGF5ZXIuZmluZVBvc2l0aW9uLno7XG4gICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLnJlcXVlc3REcmF3KCk7XG4gICAgICAgIH0pLmJpbmQodGhpcyksIHRoaXMpOyAgICAgICAgXG4gICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oZmFsc2UpO1xuICAgICAgICB0aGlzLnVwZGF0ZVJvdGF0aW9uKGZhbHNlKTtcbiAgICB9XG5cbiAgICB0b2dnbGVMaWdodChzaG93OiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKHNob3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wbGF5ZXJMaWdodClcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllckxpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoMHhmZmZmZmYsIDEsIDUuNSwgMSk7XG4gICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5hZGQodGhpcy5wbGF5ZXJMaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5ZXJMaWdodClcbiAgICAgICAgICAgICAgICB0aGlzLnRocmVlQnVmZmVyLmNhbWVyYS5yZW1vdmUodGhpcy5wbGF5ZXJMaWdodCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVQb3NpdGlvbihhbmltYXRlPzogYm9vbGVhbilcbiAgICB7XG4gICAgICAgIGlmIChhbmltYXRlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBhbmltYXRlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2V0UGxheWVyUG9zaXRpb24odGhpcy5wbGF5ZXIuZ3JpZFBvc2l0aW9uV2l0aE9mZnNldCwgYW5pbWF0ZSwgNTAwKVxuICAgIH1cblxuICAgIHVwZGF0ZVJvdGF0aW9uKGFuaW1hdGU/OiBib29sZWFuKVxuICAgIHtcbiAgICAgICAgaWYgKGFuaW1hdGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGFuaW1hdGUgPSB0cnVlO1xuICAgICAgICBsZXQgdGltZSA9IDMwMDtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLk5vcnRoKVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCAwLCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Ob3J0aEVhc3QpXG4gICAgICAgICAgICB0aGlzLl9zZXRQbGF5ZXJSb3RhdGlvbihuZXcgUG9pbnQzKDAsIC1NYXRoLlBJLzQsIDApLCBhbmltYXRlLCB0aW1lKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLkVhc3QpXG4gICAgICAgICAgICB0aGlzLl9zZXRQbGF5ZXJSb3RhdGlvbihuZXcgUG9pbnQzKDAsIC1NYXRoLlBJLzIsIDApLCBhbmltYXRlLCB0aW1lKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoRWFzdClcbiAgICAgICAgICAgIHRoaXMuX3NldFBsYXllclJvdGF0aW9uKG5ldyBQb2ludDMoMCwgLTMqKE1hdGguUEkvNCksIDApLCBhbmltYXRlLCB0aW1lKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLlNvdXRoKVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCBNYXRoLlBJLCAwKSwgYW5pbWF0ZSwgdGltZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXllci5mYWNpbmcgPT09IEZhY2luZy5Tb3V0aFdlc3QpXG4gICAgICAgICAgICB0aGlzLl9zZXRQbGF5ZXJSb3RhdGlvbihuZXcgUG9pbnQzKDAsIDMqKE1hdGguUEkvNCksIDApLCBhbmltYXRlLCB0aW1lKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWVyLmZhY2luZyA9PT0gRmFjaW5nLldlc3QpXG4gICAgICAgICAgICB0aGlzLl9zZXRQbGF5ZXJSb3RhdGlvbihuZXcgUG9pbnQzKDAsIE1hdGguUEkvMiwgMCksIGFuaW1hdGUsIHRpbWUpO1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIuZmFjaW5nID09PSBGYWNpbmcuTm9ydGhXZXN0KVxuICAgICAgICAgICAgdGhpcy5fc2V0UGxheWVyUm90YXRpb24obmV3IFBvaW50MygwLCBNYXRoLlBJLzQsIDApLCBhbmltYXRlLCB0aW1lKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9zZXRQbGF5ZXJQb3NpdGlvbihwb3NpdGlvbjogUG9pbnQzLCBhbmltYXRlOiBib29sZWFuLCB0aW1lOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbW92ZUFuaW0pXG4gICAgICAgICAgICB0aGlzLl9tb3ZlQW5pbS5yZXF1ZXN0UmVtb3ZhbCgpO1xuICAgICAgICBpZiAoYW5pbWF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuY2FuTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbW92ZUFuaW0gPSB0aGlzLmFkZENoaWxkKG5ldyBQb2ludDNUd2Vlbih0aGlzLnBsYXllciwgXCJmaW5lUG9zaXRpb25cIiwgbmV3IFBvaW50Myhwb3NpdGlvbi54LHBvc2l0aW9uLnkscG9zaXRpb24ueiksIHRpbWUpKTtcbiAgICAgICAgICAgIHRoaXMuX21vdmVBbmltLm9uQ29tcGxldGUucHVzaCh0aGlzLl91cGRhdGVBbmltYXRpbmcuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWl0KHRpbWUvMikpLm9uQ29tcGxldGUucHVzaCgoKSA9PiB0aGlzLnBsYXllci5jYW5Nb3ZlID0gdHJ1ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIuZmluZVBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGluZygpO1xuICAgIH1cbiAgICBcbiAgICBwcml2YXRlIF9zZXRQbGF5ZXJSb3RhdGlvbihyb3RhdGlvbjogUG9pbnQzLCBhbmltYXRlOiBib29sZWFuLCB0aW1lOiBudW1iZXIpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHVybkFuaW0pXG4gICAgICAgICAgICB0aGlzLl90dXJuQW5pbS5yZXF1ZXN0UmVtb3ZhbCgpO1xuICAgICAgICB0aGlzLl90dXJuQW5pbSA9IG51bGw7XG4gICAgICAgIGlmIChhbmltYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBsYXllci5jYW5UdXJuID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl90dXJuQW5pbSA9IHRoaXMuYWRkQ2hpbGQobmV3IFdyYXBwaW5nUG9pbnQzVHdlZW4odGhpcy5wbGF5ZXIsIFwicm90YXRpb25cIiwgbmV3IFBvaW50Myhyb3RhdGlvbi54LHJvdGF0aW9uLnkscm90YXRpb24ueiksIHRpbWUsIG5ldyBQb2ludDMoTWF0aC5QSSoyLE1hdGguUEkqMixNYXRoLlBJKjIpKSk7XG4gICAgICAgICAgICB0aGlzLl90dXJuQW5pbS5vbkNvbXBsZXRlLnB1c2godGhpcy5fdXBkYXRlQW5pbWF0aW5nLmJpbmQodGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FpdCh0aW1lLzIpKS5vbkNvbXBsZXRlLnB1c2goKCkgPT4gdGhpcy5wbGF5ZXIuY2FuVHVybiA9IHRydWUsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnJvdGF0aW9uID0gcm90YXRpb247XG4gICAgICAgIHRoaXMuX3VwZGF0ZUFuaW1hdGluZygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3VwZGF0ZUFuaW1hdGluZygpXG4gICAge1xuICAgICAgICB0aGlzLnBsYXllci5hbmltYXRpbmcgPSB0aGlzLmFuaW1hdGluZztcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICAgICAgaWYgKHRoaXMuX21vdmVBbmltKVxuICAgICAgICAgICAgdGhpcy5fbW92ZUFuaW0ucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgaWYgKHRoaXMuX3R1cm5BbmltKVxuICAgICAgICAgICAgdGhpcy5fdHVybkFuaW0ucmVxdWVzdFJlbW92YWwoKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIub25VcGRhdGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwubGlzdGVuZXIub25Nb3ZlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmxpc3RlbmVyLm9uVHVybi51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cbn0iLCJpbXBvcnQgVGhyZWVCdWZmZXIgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlQnVmZmVyXCI7XG5pbXBvcnQgTGV2ZWxNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvTGV2ZWxNb2RlbFwiO1xuaW1wb3J0IHsgRmFjaW5nIH0gZnJvbSBcIi4uL21vZGVsL1BsYXllck1vZGVsXCI7XG5pbXBvcnQgV29ybGRDZWxsIGZyb20gXCIuL1dvcmxkQ2VsbFwiO1xuaW1wb3J0IFdvcmxkT2JqZWN0IGZyb20gXCIuL1dvcmxkT2JqZWN0XCI7XG5pbXBvcnQgTlBDIGZyb20gXCIuL05QQ1wiO1xuaW1wb3J0IE5QQ01vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9OUENNb2RlbFwiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi9QbGF5ZXJcIjtcbmltcG9ydCBTa3lib3ggZnJvbSBcIi4vU2t5Ym94XCI7XG5pbXBvcnQgR2FtZU1vZGVsIGZyb20gXCIuLi9tb2RlbC9HYW1lTW9kZWxcIjtcbmltcG9ydCBCb3VuZHMgZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vQm91bmRzXCI7XG5pbXBvcnQgUG9zaXRpb24gZnJvbSBcImVuZ2luZS90cmFuc2Zvcm0vUG9zaXRpb25cIjtcbmltcG9ydCBEb29yIGZyb20gXCIuL0Rvb3JcIjtcbmltcG9ydCBXYWxsIGZyb20gXCIuL1dhbGxcIjtcbmltcG9ydCBUaHJlZU1lc2ggZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaFwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTY2VuZSBleHRlbmRzIFRocmVlQnVmZmVyXG57XG4gICAgcHJpdmF0ZSBnYW1lTW9kZWw6IEdhbWVNb2RlbDtcbiAgICBwcml2YXRlIGNlbGxzOiBXb3JsZENlbGxbXTtcbiAgICBwcml2YXRlIGRvb3JzOiBEb29yW107XG4gICAgcHJpdmF0ZSBucGNzOiBOUENbXTtcbiAgICBwcml2YXRlIG9iamVjdHM6IFdvcmxkT2JqZWN0W107XG4gICAgcGxheWVyOiBQbGF5ZXI7XG4gICAgcHJpdmF0ZSBza3lib3g6IFNreWJveDtcblxuICAgIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBQb3NpdGlvbiwgYm91bmRzOiBCb3VuZHMsIGdhbWVNb2RlbDogR2FtZU1vZGVsKVxuICAgIHtcbiAgICAgICAgc3VwZXIocG9zaXRpb24sIGJvdW5kcylcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwgPSBnYW1lTW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHN1cGVyLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmdhbWVNb2RlbC5pbml0aWF0aXZlLm5wY3NUb0FjdC5vblVwZGF0ZS5wdXNoKHRoaXMuX3J1bk5QQ3MuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuY3JlYXRlTGV2ZWwoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVMZXZlbCgpXG4gICAge1xuICAgICAgICB0aGlzLnNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoIDB4MDAwMGZmICk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5vdXRzaWRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZm9nQ29sb3IgPSBuZXcgVEhSRUUuQ29sb3IoMHhmZmZmZmYpO1xuICAgICAgICAgICAgLyp0aGlzLnNjZW5lLmJhY2tncm91bmQgPSBmb2dDb2xvcjtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuZm9nID0gbmV3IFRIUkVFLkZvZyhmb2dDb2xvciwgMC4wMDI1LCA3KTsqL1xuICAgICAgICAgICAgbGV0IGxpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChsaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodCggMHhmZmZmZmYsIDAuMDUgKSk7XG4gICAgXG4gICAgICAgIHRoaXMuY2VsbHMgPSB0aGlzLl9nZXRXb3JsZENlbGxzKCk7XG4gICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaChjID0+IFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYyk7XG4gICAgICAgICAgICAgICAgYy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZG9vcnMgPSB0aGlzLl9nZXREb29ycygpO1xuICAgICAgICB0aGlzLmRvb3JzLmZvckVhY2goZCA9PiB0aGlzLmFkZENoaWxkKGQpKTtcblxuICAgICAgICB0aGlzLm9iamVjdHMgPSB0aGlzLl9nZXRXb3JsZE9iamVjdHMoKTtcbiAgICAgICAgdGhpcy5vYmplY3RzLmZvckVhY2gobyA9PiB0aGlzLmFkZENoaWxkKG8pKTtcblxuICAgICAgICB0aGlzLm5wY3MgPSB0aGlzLl9nZXROUENzKCk7XG4gICAgICAgIHRoaXMubnBjcy5mb3JFYWNoKG4gPT4gdGhpcy5hZGRDaGlsZChuKSk7XG4gICAgICAgIHRoaXMubnBjcy5mb3JFYWNoKG4gPT4gbi5jYW1lcmEgPSB0aGlzLmNhbWVyYSk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5za3lib3hJRCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgc2t5Ym94RGF0YSA9IHRoaXMuZ2FtZU1vZGVsLmRhdGEuc2t5Ym94ZXNbdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlLnNreWJveElEXTtcbiAgICAgICAgICAgIHRoaXMuc2t5Ym94ID0gdGhpcy5hZGRDaGlsZChuZXcgU2t5Ym94KHNreWJveERhdGEpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5hZGRDaGlsZChuZXcgUGxheWVyKHRoaXMsIHRoaXMuZ2FtZU1vZGVsKSk7XG4gICAgICAgIGlmICghKHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZS5vdXRzaWRlKSlcbiAgICAgICAgICAgIHRoaXMucGxheWVyLnRvZ2dsZUxpZ2h0KHRydWUpO1xuXG4gICAgICAgIHRoaXMuX3J1bk5QQ3MoKTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuXG4gICAgICAgIC8vdGhpcy5hZGRDaGlsZChuZXcgV2FpdCgxMDApKS5vbkNvbXBsZXRlLnB1c2godGhpcy5tZXJnZVdhbGxHZW9tZXRyeS5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBtZXJnZVdhbGxHZW9tZXRyeSgpXG4gICAge1xuICAgICAgICB2YXIgbWVyZ2VHZW9tID0gbmV3IFRIUkVFLkdlb21ldHJ5KCk7XG4gICAgICAgIGxldCBtYXRlcmlhbExpc3QgPSBbXTtcblxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHRoaXMuY2VsbHMuZm9yRWFjaCgoYzogV29ybGRDZWxsKSA9PiBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjLmNoaWxkcmVuLmZvckVhY2goKGNoaWxkOiBXYWxsKSA9PiBcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChjaGlsZC5tZXNoKSAmJiAoY2hpbGQubW9kZWwuY3JlYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZUdlb20ubWVyZ2UoY2hpbGQubWVzaC5tZXNoLmdlb21ldHJ5LCBjaGlsZC5tZXNoLm1lc2gubWF0cml4LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5tZXNoLm1lc2gucGFyZW50LnJlbW92ZShjaGlsZC5tZXNoLm1lc2gpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsTGlzdC5wdXNoKGNoaWxkLm1lc2gubWVzaC5tYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNlbGxzLmZvckVhY2goKGM6IFdvcmxkQ2VsbCkgPT4gYy5yZXF1ZXN0UmVtb3ZhbCgpKTtcbiAgICAgICAgdGhpcy5jZWxscyA9IFtdO1xuICAgICAgICBtZXJnZUdlb20ubWVyZ2VWZXJ0aWNlcygpO1xuICAgICAgICBsZXQgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKG1lcmdlR2VvbSwgbWF0ZXJpYWxMaXN0KTtcbiAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgVGhyZWVNZXNoKG1lc2gpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRXb3JsZENlbGxzKCk6IFdvcmxkQ2VsbFtdXG4gICAge1xuICAgICAgICBsZXQgbGV2ZWxNb2RlbDogTGV2ZWxNb2RlbCA9IHRoaXMuZ2FtZU1vZGVsLndvcmxkLmN1cnJlbnRMZXZlbC52YWx1ZTtcbiAgICAgICAgbGV0IGNlbGxzID0gW107XG4gICAgICAgIGxldmVsTW9kZWwuY2VsbHMuZm9yRWFjaCgocm93LHgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcm93LmZvckVhY2goKGxheWVyLHkpID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyLmZvckVhY2goKGNvbCx6KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzLnB1c2gobmV3IFdvcmxkQ2VsbCh4LCB5LCB6LCBjb2wpKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjZWxscztcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRXb3JsZE9iamVjdHMoKTogV29ybGRPYmplY3RbXVxuICAgIHtcbiAgICAgICAgbGV0IGxldmVsTW9kZWw6IExldmVsTW9kZWwgPSB0aGlzLmdhbWVNb2RlbC53b3JsZC5jdXJyZW50TGV2ZWwudmFsdWU7XG4gICAgICAgIGxldCBvYmplY3RzID0gW107XG4gICAgICAgIGxldmVsTW9kZWwub2JqZWN0cy5mb3JFYWNoKChvLHgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG9iamVjdHMucHVzaChuZXcgV29ybGRPYmplY3QobykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG9iamVjdHM7XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIF9nZXREb29ycygpOiBEb29yW11cbiAgICB7XG4gICAgICAgIGxldCBsZXZlbE1vZGVsOiBMZXZlbE1vZGVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlO1xuICAgICAgICBsZXQgZG9vcnMgPSBbXTtcbiAgICAgICAgbGV2ZWxNb2RlbC5kb29ycy5mb3JFYWNoKChkLHgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvb3JzLnB1c2gobmV3IERvb3IoZCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGRvb3JzO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2dldE5QQ3MoKTogTlBDW11cbiAgICB7XG4gICAgICAgIGxldCBsZXZlbE1vZGVsOiBMZXZlbE1vZGVsID0gdGhpcy5nYW1lTW9kZWwud29ybGQuY3VycmVudExldmVsLnZhbHVlO1xuICAgICAgICBsZXQgbnBjcyA9IFtdO1xuICAgICAgICBsZXZlbE1vZGVsLm5wY3MuZm9yRWFjaCgobnBjLHgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5wY3MucHVzaChuZXcgTlBDKG5wYykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5wY3M7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfcnVuTlBDcygpXG4gICAge1xuICAgICAgICBsZXQgdG9BY3QgPSBbXTtcbiAgICAgICAgdGhpcy5nYW1lTW9kZWwuaW5pdGlhdGl2ZS5ucGNzVG9BY3QudmFsdWUuZm9yRWFjaChucGMgPT4gdG9BY3QucHVzaChucGMpKTtcbiAgICAgICAgdG9BY3QuZm9yRWFjaCgobnBjOiBOUENNb2RlbCkgPT4gbnBjLmFjdCgpKTtcbiAgICB9XG5cbiAgICBkZXN0cm95KClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2FtZU1vZGVsLmluaXRpYXRpdmUubnBjc1RvQWN0Lm9uVXBkYXRlLnVucmVnaXN0ZXIodGhpcyk7XG4gICAgfVxuXG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgVGhyZWVNZXNoIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZU1lc2hcIjtcbmltcG9ydCB7IFNreWJveERhdGEgfSBmcm9tIFwiLi4vZGF0YVwiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuaW1wb3J0IEFzc2V0IGZyb20gXCJlbmdpbmUvQXNzZXRcIjtcblxuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTa3lib3ggZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgc2t5Ym94RGF0YTogU2t5Ym94RGF0YTtcbiAgICBwcm90ZWN0ZWQgX2xvYWRlZFRleHR1cmVzOiBudW1iZXIgPSAwO1xuICAgIGxvYWRlcjogTG9hZGVyO1xuXG4gICAgY29uc3RydWN0b3Ioc2t5Ym94RGF0YTogU2t5Ym94RGF0YSlcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLnNreWJveERhdGEgPSBza3lib3hEYXRhO1xuICAgIH1cblxuICAgIGxvYWQoe2xvYWRlcjogbG9hZGVyfSA6IHsgbG9hZGVyOiBMb2FkZXIgfSApXG4gICAge1xuICAgICAgICBsZXQgYSA9IG5ldyBBc3NldChcIiN0ZXh0dXJlQXJyYXlcIiwgbnVsbCwgZmFsc2UpO1xuICAgICAgICBsZXQgeFBvcyA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLnNreWJveERhdGEueFBvcywgdGhpcy5jaGVja1RleHR1cmVMb2FkZWQuYmluZCh0aGlzLGEpKTtcbiAgICAgICAgbGV0IHhOZWcgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5za3lib3hEYXRhLnhOZWcsIHRoaXMuY2hlY2tUZXh0dXJlTG9hZGVkLmJpbmQodGhpcyxhKSk7XG4gICAgICAgIGxldCB5UG9zID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMuc2t5Ym94RGF0YS55UG9zLCB0aGlzLmNoZWNrVGV4dHVyZUxvYWRlZC5iaW5kKHRoaXMsYSkpO1xuICAgICAgICBsZXQgeU5lZyA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCkubG9hZCh0aGlzLnNreWJveERhdGEueU5lZywgdGhpcy5jaGVja1RleHR1cmVMb2FkZWQuYmluZCh0aGlzLGEpKTtcbiAgICAgICAgbGV0IHpQb3MgPSBuZXcgVEhSRUUuVGV4dHVyZUxvYWRlcigpLmxvYWQodGhpcy5za3lib3hEYXRhLnpQb3MsIHRoaXMuY2hlY2tUZXh0dXJlTG9hZGVkLmJpbmQodGhpcyxhKSk7XG4gICAgICAgIGxldCB6TmVnID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMuc2t5Ym94RGF0YS56TmVnLCB0aGlzLmNoZWNrVGV4dHVyZUxvYWRlZC5iaW5kKHRoaXMsYSkpO1xuICAgICAgICBhLnNldChbeFBvcyx4TmVnLHlQb3MseU5lZyx6UG9zLHpOZWddKTtcbiAgICAgICAgdGhpcy5hZGRBc3NldChhKTtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBsb2FkZXI7XG4gICAgICAgIHRoaXMuYWRkR2VvbUFzc2V0KGxvYWRlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGFkZEdlb21Bc3NldChsb2FkZXIpXG4gICAge1xuICAgICAgICBsZXQgZ2VvbUFzc2V0ID0gbG9hZGVyLmdldFNoYXJlZEFzc2V0KFwiI3NreWJveEdlb21cIilcbiAgICAgICAgaWYgKCEoZ2VvbUFzc2V0LmxvYWRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21Bc3NldC5zZXQobmV3IFRIUkVFLkN1YmVHZW9tZXRyeSggMTAwMCwgMTAwMCwgMTAwMCwgMSwgMSwgMSApKTtcbiAgICAgICAgICAgIGdlb21Bc3NldC5sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkQXNzZXQoZ2VvbUFzc2V0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIFxuICAgIGNoZWNrVGV4dHVyZUxvYWRlZChhOkFzc2V0PGFueVtdPilcbiAgICB7XG4gICAgICAgIHRoaXMuX2xvYWRlZFRleHR1cmVzKys7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkZWRUZXh0dXJlcyA9PT0gNilcbiAgICAgICAgICAgIGEubG9hZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgbGV0IHRleHR1cmVzID0gdGhpcy5nZXRBc3NldChcIiN0ZXh0dXJlQXJyYXlcIik7XG5cbiAgICAgICAgdmFyIG1hdGVyaWFsQXJyYXkgPSBbXTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzBdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzFdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzJdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzNdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzRdLCBmb2c6IGZhbHNlIH0pKTtcbiAgICAgICAgbWF0ZXJpYWxBcnJheS5wdXNoKG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCggeyBtYXA6IHRleHR1cmVzWzVdLCBmb2c6IGZhbHNlIH0pKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKylcbiAgICAgICAgICAgbWF0ZXJpYWxBcnJheVtpXS5zaWRlID0gVEhSRUUuQmFja1NpZGU7XG4gICAgICAgIHZhciBza3lib3hHZW9tID0gdGhpcy5sb2FkZXIuZ2V0U2hhcmVkQXNzZXQoXCIjc2t5Ym94R2VvbVwiKS5hc3NldDtcbiAgICAgICAgdmFyIHNreWJveCA9IG5ldyBUSFJFRS5NZXNoKCBza3lib3hHZW9tLCBtYXRlcmlhbEFycmF5ICk7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFRocmVlTWVzaChza3lib3gpKTtcbiAgICB9XG59IiwiaW1wb3J0IEdhbWVPYmplY3QgZnJvbSBcImVuZ2luZS9HYW1lT2JqZWN0XCI7XG5pbXBvcnQgV2FsbE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9XYWxsTW9kZWxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuaW1wb3J0IFRocmVlTWVzaCBmcm9tIFwiZW5naW5lL2dhbWVvYmplY3QvVGhyZWVNZXNoXCI7XG5pbXBvcnQgQXNzZXQgZnJvbSBcImVuZ2luZS9Bc3NldFwiO1xuaW1wb3J0IExvYWRlciBmcm9tIFwiZW5naW5lL2lvL0xvYWRlclwiO1xuaW1wb3J0IFdhaXQgZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L2FuaW0vV2FpdFwiO1xuaW1wb3J0IEdlb21Mb2FkZXIgZnJvbSBcIi4vR2VvbUxvYWRlclwiO1xuaW1wb3J0IE1hdGVyaWFsTG9hZGVyIGZyb20gXCIuL01hdGVyaWFsTG9hZGVyXCI7XG5pbXBvcnQgUG9pbnQgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50XCI7XG5kZWNsYXJlIGNvbnN0IFRIUkVFOiBhbnk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhbGwgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgbW9kZWw6IFdhbGxNb2RlbDtcbiAgICBwcm90ZWN0ZWQgX3Bvc2l0aW9uOiBQb2ludDM7XG4gICAgcHJvdGVjdGVkIF9yb3RhdGlvbjogUG9pbnQzO1xuICAgIG1lc2g6IFRocmVlTWVzaDtcbiAgICBsb2FkZXI6IExvYWRlcjtcbiAgICBnZW9tOiBBc3NldDxhbnk+OyAvL0Fzc2V0PFRIUkVFLlBsYW5lQnVmZmVyR2VvbWV0cnk+XG4gICAgbWF0ZXJpYWw6IEFzc2V0PGFueT47XG4gICAgXG4gICAgY29uc3RydWN0b3Iod2FsbFR5cGU6IFdhbGxNb2RlbCwgcG9zaXRpb246IFBvaW50Mywgcm90YXRpb246IFBvaW50MylcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLm1vZGVsID0gd2FsbFR5cGU7XG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuX3JvdGF0aW9uID0gcm90YXRpb247XG4gICAgfVxuXG4gICAgbG9hZCh7bG9hZGVyOiBsb2FkZXJ9IDoge2xvYWRlcjogTG9hZGVyfSk6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbG9hZGVyO1xuICAgICAgICBpZiAodGhpcy5tb2RlbC5kZXRhaWxzKVxuICAgICAgICAgICAgdGhpcy5nZW9tID0gdGhpcy5hZGRBc3NldCh0aGlzLmNyZWF0ZVNsb3BlZFdhbGxHZW9tKHRoaXMubW9kZWwpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5nZW9tID0gdGhpcy5hZGRBc3NldChHZW9tTG9hZGVyLmdldFNoYXJlZFBsYW5lR2VvbShsb2FkZXIpKTtcbiAgICAgICAgdGhpcy5tYXRlcmlhbCA9IHRoaXMuYWRkQXNzZXQoTWF0ZXJpYWxMb2FkZXIuZ2V0U2hhcmVkTWF0ZXJpYWxBc3NldChsb2FkZXIsIHRoaXMubW9kZWwuZmlsZW5hbWUsIHRoaXMubW9kZWwubm9ybWFsTWFwLCB0aGlzLm1vZGVsLmFscGhhTWFwLCBuZXcgUG9pbnQodGhpcy5tb2RlbC53YWxsRGF0YS52YWx1ZS5yZXBlYXRbMF0sdGhpcy5tb2RlbC53YWxsRGF0YS52YWx1ZS5yZXBlYXRbMV0pLCB0aGlzLm1vZGVsLndhbGxEYXRhLnZhbHVlLnRyYW5zcGFyZW50LCBmYWxzZSkpO1xuICAgICAgICByZXR1cm4gKCh0aGlzLm1hdGVyaWFsICE9PSBudWxsKSAmJiAodGhpcy5nZW9tICE9PSBudWxsKSk7XG4gICAgfVxuXG4gICAgLy8gV2FsbHMgYXJlIGRlYWN0aXZhdGVkIGFzIHNvb24gYXMgdGhleSBhcmUgY3JlYXRlZCwgc28gZG9uJ3QgZXhwZWN0IHRoZW0gb3IgYSBjaGlsZCB0byB1cGRhdGUhXG4gICAgLy8gdXBkYXRlKCkgeyB9XG5cbiAgICBjcmVhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZU1lc2goKSk7XG4gICAgICAgIHRoaXMubWVzaC5tZXNoLnVzZXJEYXRhID0ge2dhbWVPYmplY3Q6IHRoaXN9O1xuICAgICAgICB0aGlzLm1vZGVsLmhpZGRlbi5vblVwZGF0ZS5wdXNoKHRoaXMudXBkYXRlV2FsbC5iaW5kKHRoaXMpLCB0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbC53YWxsRGF0YS5vblVwZGF0ZS5wdXNoKHRoaXMuY2hhbmdlV2FsbFR5cGUuYmluZCh0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlV2FsbCgpO1xuICAgIH1cblxuICAgIHVwZGF0ZVdhbGwoKVxuICAgIHtcbiAgICAgICAgdGhpcy5tZXNoLm1lc2gudmlzaWJsZSA9ICF0aGlzLm1vZGVsLmhpZGRlbi52YWx1ZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgIH1cblxuICAgIGNoYW5nZVdhbGxUeXBlKClcbiAgICB7XG4gICAgICAgIGxldCBtYXRBc3NldCA9IHRoaXMuYWRkQXNzZXQoTWF0ZXJpYWxMb2FkZXIuZ2V0U2hhcmVkTWF0ZXJpYWxBc3NldCh0aGlzLmxvYWRlciwgdGhpcy5tb2RlbC5maWxlbmFtZSwgdGhpcy5tb2RlbC5ub3JtYWxNYXAsIHRoaXMubW9kZWwuYWxwaGFNYXAsIG5ldyBQb2ludCh0aGlzLm1vZGVsLndhbGxEYXRhLnZhbHVlLnJlcGVhdFswXSx0aGlzLm1vZGVsLndhbGxEYXRhLnZhbHVlLnJlcGVhdFsxXSksIHRoaXMubW9kZWwud2FsbERhdGEudmFsdWUudHJhbnNwYXJlbnQsIGZhbHNlKSk7XG5cbiAgICAgICAgaWYgKChtYXRBc3NldCkgJiYgKG1hdEFzc2V0LmxvYWRlZCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWF0ZXJpYWwgPSBtYXRBc3NldDtcbiAgICAgICAgICAgIGlmICghKHRoaXMubWVzaCkpXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoID0gdGhpcy5hZGRDaGlsZCh0aGlzLmNyZWF0ZU1lc2goKSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNoLm1lc2gubWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsLmFzc2V0O1xuICAgICAgICAgICAgdGhpcy5yZXF1ZXN0RHJhdygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhaXQoMTAwKSkub25Db21wbGV0ZS5wdXNoKCgoKSA9PiB0aGlzLmNoYW5nZVdhbGxUeXBlKCkpLmJpbmQodGhpcyksIHRoaXMpO1xuICAgIH1cblxuICAgIGNyZWF0ZU1lc2goKTogVGhyZWVNZXNoXG4gICAge1xuICAgICAgICBsZXQgd2FsbCA9IG5ldyBUaHJlZU1lc2godGhpcy5nZW9tLmFzc2V0LCB0aGlzLm1hdGVyaWFsLmFzc2V0KTtcbiAgICAgICAgd2FsbC5tZXNoLnBvc2l0aW9uLnggPSB0aGlzLl9wb3NpdGlvbi54O1xuICAgICAgICB3YWxsLm1lc2gucG9zaXRpb24ueSA9IHRoaXMuX3Bvc2l0aW9uLnk7XG4gICAgICAgIHdhbGwubWVzaC5wb3NpdGlvbi56ID0gdGhpcy5fcG9zaXRpb24uejtcbiAgICAgICAgd2FsbC5tZXNoLnJvdGF0aW9uLnggPSB0aGlzLl9yb3RhdGlvbi54O1xuICAgICAgICB3YWxsLm1lc2gucm90YXRpb24ueSA9IHRoaXMuX3JvdGF0aW9uLnk7XG4gICAgICAgIHdhbGwubWVzaC5yb3RhdGlvbi56ID0gdGhpcy5fcm90YXRpb24uejtcbiAgICAgICAgcmV0dXJuIHdhbGw7XG4gICAgfVxuXG4gICAgY3JlYXRlU2xvcGVkV2FsbEdlb20od2FsbE1vZGVsOiBXYWxsTW9kZWwpOiBBc3NldDxhbnk+XG4gICAge1xuICAgICAgICB2YXIgZ2VvbSA9IG5ldyBUSFJFRS5HZW9tZXRyeSgpO1xuICAgICAgICAgICAgICAgXG4gICAgICAgIGdlb20udmVydGljZXMucHVzaChuZXcgVEhSRUUuVmVjdG9yMygtMC41LDAuNSx3YWxsTW9kZWwuZGV0YWlscy5udykpO1xuICAgICAgICBnZW9tLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoMC41LDAuNSx3YWxsTW9kZWwuZGV0YWlscy5uZSkpO1xuICAgICAgICBnZW9tLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoMC41LC0wLjUsd2FsbE1vZGVsLmRldGFpbHMuc2UpKTtcbiAgICAgICAgZ2VvbS52ZXJ0aWNlcy5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKC0wLjUsLTAuNSx3YWxsTW9kZWwuZGV0YWlscy5zdykpO1xuICAgICAgICBnZW9tLnZlcnRpY2VzLnB1c2gobmV3IFRIUkVFLlZlY3RvcjMoMCwwLHdhbGxNb2RlbC5kZXRhaWxzLm1pZCkpO1xuXG4gICAgICAgIGdlb20uZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoMCw0LDEpKTtcbiAgICAgICAgZ2VvbS5mYWNlcy5wdXNoKG5ldyBUSFJFRS5GYWNlMygyLDEsNCkpO1xuICAgICAgICBnZW9tLmZhY2VzLnB1c2gobmV3IFRIUkVFLkZhY2UzKDIsNCwzKSk7XG4gICAgICAgIGdlb20uZmFjZXMucHVzaChuZXcgVEhSRUUuRmFjZTMoMyw0LDApKTtcblxuICAgICAgICBsZXQgdXYgPSBnZW9tLmZhY2VWZXJ0ZXhVdnNbMF07XG4gICAgICAgIHV2LnB1c2goW10sW10sW10sW10pO1xuICAgICAgICB1dlswXVswXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAsMCk7XG4gICAgICAgIHV2WzBdWzFdID0gbmV3IFRIUkVFLlZlY3RvcjIoMC41LDAuNSk7XG4gICAgICAgIHV2WzBdWzJdID0gbmV3IFRIUkVFLlZlY3RvcjIoMSwwKTtcbiAgICAgICAgdXZbMV1bMF0gPSBuZXcgVEhSRUUuVmVjdG9yMigxLDEpO1xuICAgICAgICB1dlsxXVsxXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDEsMCk7XG4gICAgICAgIHV2WzFdWzJdID0gbmV3IFRIUkVFLlZlY3RvcjIoMC41LDAuNSk7XG4gICAgICAgIHV2WzJdWzBdID0gbmV3IFRIUkVFLlZlY3RvcjIoMSwxKTtcbiAgICAgICAgdXZbMl1bMV0gPSBuZXcgVEhSRUUuVmVjdG9yMigwLjUsMC41KTtcbiAgICAgICAgdXZbMl1bMl0gPSBuZXcgVEhSRUUuVmVjdG9yMigwLDEpO1xuICAgICAgICB1dlszXVswXSA9IG5ldyBUSFJFRS5WZWN0b3IyKDAsMSk7XG4gICAgICAgIHV2WzNdWzFdID0gbmV3IFRIUkVFLlZlY3RvcjIoMC41LDAuNSk7XG4gICAgICAgIHV2WzNdWzJdID0gbmV3IFRIUkVFLlZlY3RvcjIoMCwwKTtcbiAgICAgICAgZ2VvbS5jb21wdXRlRmFjZU5vcm1hbHMoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBc3NldChcIiNzbG9wZWRHZW9tXCIsIGdlb20sIHRydWUpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy5tb2RlbC5oaWRkZW4ub25VcGRhdGUudW5yZWdpc3Rlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlbC53YWxsRGF0YS5vblVwZGF0ZS51bnJlZ2lzdGVyKHRoaXMpO1xuICAgIH1cbn0iLCJpbXBvcnQgVGhyZWVNZXNoIGZyb20gXCJlbmdpbmUvZ2FtZW9iamVjdC9UaHJlZU1lc2hcIjtcbmltcG9ydCBDZWxsTW9kZWwgZnJvbSBcIi4uL21vZGVsL3dvcmxkL0NlbGxNb2RlbFwiO1xuaW1wb3J0IFdhbGxNb2RlbCBmcm9tIFwiLi4vbW9kZWwvd29ybGQvV2FsbE1vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBXYWxsIGZyb20gXCIuL1dhbGxcIjtcbmltcG9ydCBQb2ludDMgZnJvbSBcImVuZ2luZS91dGlsL1BvaW50M1wiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JsZENlbGwgZXh0ZW5kcyBHYW1lT2JqZWN0XG57XG4gICAgcHJvdGVjdGVkIHg6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgeTogbnVtYmVyO1xuICAgIHByb3RlY3RlZCB6OiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIG1vZGVsOiBDZWxsTW9kZWw7XG4gICAgZ3JvdXA7XG5cbiAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIseTogbnVtYmVyLHo6IG51bWJlciwgbW9kZWw6IENlbGxNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnogPSB6O1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICAgICAgdGhpcy5ncm91cC5wb3NpdGlvbi5zZXQobmV3IFRIUkVFLlZlY3RvcjModGhpcy54LHRoaXMueSx0aGlzLnopKTtcbiAgICAgICAgdGhpcy5jcmVhdGVXYWxscygpO1xuICAgIH1cblxuICAgIC8qaW50ZXJmYWNlcyhpbnRlcmZhY2VzKVxuICAgIHtcbiAgICAgICAgLy9pbnRlcmZhY2VzW1widGhyZWVQYXJlbnRcIl0gPSB0aGlzLmdyb3VwO1xuICAgICAgICByZXR1cm4gaW50ZXJmYWNlcztcbiAgICB9Ki9cblxuICAgIGNyZWF0ZVdhbGxzKClcbiAgICB7XG4gICAgICAgIC8vaWYgKHRoaXMubW9kZWwud2FsbHNbMF0uY3JlYXRlKVxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FsbCh0aGlzLm1vZGVsLndhbGxzWzBdLCBuZXcgUG9pbnQzKHRoaXMueCArIDAsIHRoaXMueSArIDAsIHRoaXMueiAtIDAuNSksIG5ldyBQb2ludDMoMCwgMCwgMCkpKTtcbiAgICAgICAgLy9pZiAodGhpcy5tb2RlbC53YWxsc1sxXS5jcmVhdGUpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ldyBXYWxsKHRoaXMubW9kZWwud2FsbHNbMV0sIG5ldyBQb2ludDModGhpcy54ICsgMC41LCB0aGlzLnkgKyAwLCB0aGlzLnogKyAwKSwgbmV3IFBvaW50MygwLCAtTWF0aC5QSS8yLCAwKSkpO1xuICAgICAgIC8vIGlmICh0aGlzLm1vZGVsLndhbGxzWzJdLmNyZWF0ZSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhbGwodGhpcy5tb2RlbC53YWxsc1syXSwgbmV3IFBvaW50Myh0aGlzLnggKyAwLCB0aGlzLnkgKyAwLCB0aGlzLnogKyAwLjUpLCBuZXcgUG9pbnQzKDAsIE1hdGguUEksIDApKSk7XG4gICAgICAgLy8gaWYgKHRoaXMubW9kZWwud2FsbHNbM10uY3JlYXRlKVxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChuZXcgV2FsbCh0aGlzLm1vZGVsLndhbGxzWzNdLCBuZXcgUG9pbnQzKHRoaXMueCAtIDAuNSwgdGhpcy55ICsgMCwgdGhpcy56ICsgMCksIG5ldyBQb2ludDMoMCwgTWF0aC5QSS8yLDAgKSkpO1xuICAgICAgIC8vIGlmICh0aGlzLm1vZGVsLndhbGxzWzRdLmNyZWF0ZSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhbGwodGhpcy5tb2RlbC53YWxsc1s0XSwgbmV3IFBvaW50Myh0aGlzLnggKyAwLCB0aGlzLnkgLSAwLjUsIHRoaXMueiArIDApLCBuZXcgUG9pbnQzKC1NYXRoLlBJLzIsMCwwKSkpO1xuICAgICAgIC8vIGlmICh0aGlzLm1vZGVsLndhbGxzWzVdLmNyZWF0ZSlcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3IFdhbGwodGhpcy5tb2RlbC53YWxsc1s1XSwgbmV3IFBvaW50Myh0aGlzLnggKyAwLCB0aGlzLnkgKyAwLjUsIHRoaXMueiArIDApLCBuZXcgUG9pbnQzKE1hdGguUEkvMiwwLDApKSk7XG4gICAgfVxufSIsImltcG9ydCBXb3JsZE9iamVjdE1vZGVsIGZyb20gXCIuLi9tb2RlbC93b3JsZC9Xb3JsZE9iamVjdE1vZGVsXCI7XG5pbXBvcnQgR2FtZU9iamVjdCBmcm9tIFwiZW5naW5lL0dhbWVPYmplY3RcIjtcbmltcG9ydCBUaHJlZU1lc2ggZnJvbSBcImVuZ2luZS9nYW1lb2JqZWN0L1RocmVlTWVzaFwiO1xuZGVjbGFyZSBjb25zdCBUSFJFRTogYW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXb3JsZE9iamVjdCBleHRlbmRzIEdhbWVPYmplY3RcbntcbiAgICBtb2RlbDogV29ybGRPYmplY3RNb2RlbDtcbiAgICBtZXNoOiBUaHJlZU1lc2g7XG5cbiAgICBjb25zdHJ1Y3Rvcihtb2RlbDogV29ybGRPYmplY3RNb2RlbClcbiAgICB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XG4gICAgfVxuXG4gICAgY3JlYXRlKClcbiAgICB7XG4gICAgICAgIGxldCBnZW9tID0gbmV3IFRIUkVFLlBsYW5lR2VvbWV0cnkoMSwgMSwgMCk7XG4gICAgICAgIGxldCB0ZXh0dXJlID0gbmV3IFRIUkVFLlRleHR1cmVMb2FkZXIoKS5sb2FkKHRoaXMubW9kZWwuZmlsZW5hbWUsICgoKSA9PiB7dGhpcy5yZXF1ZXN0RHJhdygpOyB9KS5iaW5kKHRoaXMpKTtcbiAgICAgICAgbGV0IG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHttYXA6IHRleHR1cmV9KTtcbiAgICAgICAgbGV0IG1lc2ggPSBuZXcgVGhyZWVNZXNoKGdlb20sbWF0ZXJpYWwpO1xuICAgICAgICBtZXNoLm1lc2gucG9zaXRpb24ueCA9IHRoaXMubW9kZWwucG9zaXRpb25bMF07XG4gICAgICAgIG1lc2gubWVzaC5wb3NpdGlvbi55ID0gdGhpcy5tb2RlbC5wb3NpdGlvblsxXTtcbiAgICAgICAgbWVzaC5tZXNoLnBvc2l0aW9uLnogPSB0aGlzLm1vZGVsLnBvc2l0aW9uWzJdO1xuICAgICAgICB0aGlzLm1lc2ggPSB0aGlzLmFkZENoaWxkKG1lc2gpO1xuICAgIH1cblxufSJdLCJzb3VyY2VSb290IjoiIn0=